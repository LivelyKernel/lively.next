!function(e){"use strict";function t(e,t,r,i){var o=Object.create((t||n).prototype),s=new f(i||[]);return o._invoke=c(e,r,s),o}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function n(){}function i(){}function o(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function a(e){this.arg=e}function u(e){function t(t,r){var n=e[t](r),s=n.value;return s instanceof a?Promise.resolve(s.arg).then(i,o):Promise.resolve(s).then(function(e){return n.value=e,n})}function r(e,r){function i(){return t(e,r)}return n=n?n.then(i,i):new Promise(function(e){e(i())})}"object"==typeof process&&process.domain&&(t=process.domain.bind(t));var n,i=t.bind(e,"next"),o=t.bind(e,"throw");t.bind(e,"return");this._invoke=r}function c(e,t,n){var i=E;return function(o,s){if(i===D)throw new Error("Generator is already running");if(i===x){if("throw"===o)throw s;return d()}for(;;){var a=n.delegate;if(a){if("return"===o||"throw"===o&&a.iterator[o]===m){n.delegate=null;var u=a.iterator.return;if(u){var c=r(u,a.iterator,s);if("throw"===c.type){o="throw",s=c.arg;continue}}if("return"===o)continue}var c=r(a.iterator[o],a.iterator,s);if("throw"===c.type){n.delegate=null,o="throw",s=c.arg;continue}o="next",s=m;var l=c.arg;if(!l.done)return i=A,l;n[a.resultName]=l.value,n.next=a.nextLoc,n.delegate=null}if("next"===o)n._sent=s,n.sent=i===A?s:m;else if("throw"===o){if(i===E)throw i=x,s;n.dispatchException(s)&&(o="next",s=m)}else"return"===o&&n.abrupt("return",s);i=D;var c=r(e,t,n);if("normal"===c.type){i=n.done?x:A;var l={value:c.arg,done:n.done};if(c.arg!==C)return l;n.delegate&&"next"===o&&(s=m)}else"throw"===c.type&&(i=x,o="throw",s=c.arg)}}}function l(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(l,this),this.reset(!0)}function h(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=m,t.done=!0,t};return n.next=n}}return{next:d}}function d(){return{value:m,done:!0}}var m,y=Object.prototype.hasOwnProperty,g="function"==typeof Symbol&&Symbol.iterator||"@@iterator",v="object"==typeof module,b=e.regeneratorRuntime;if(b)return void(v&&(module.exports=b));b=e.regeneratorRuntime=v?module.exports:{},b.wrap=t;var E="suspendedStart",A="suspendedYield",D="executing",x="completed",C={},F=o.prototype=n.prototype;i.prototype=F.constructor=o,o.constructor=i,i.displayName="GeneratorFunction",b.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},b.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o,e.prototype=Object.create(F),e},b.awrap=function(e){return new a(e)},s(u.prototype),b.async=function(e,r,n,i){var o=new u(t(e,r,n,i));return b.isGeneratorFunction(r)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(F),F[g]=function(){return this},F.toString=function(){return"[object Generator]"},b.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},b.values=h,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=m,this.done=!1,this.delegate=null,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return o.type="throw",o.arg=e,r.next=t,!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var s=y.call(i,"catchLoc"),a=y.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?this.next=i.finallyLoc:this.complete(o),C},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),p(r),C}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;p(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:h(e),resultName:t,nextLoc:r},C}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this),function(){var GLOBAL="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;void 0===GLOBAL.lively&&(GLOBAL.lively={}),function(){this.lively=this.lively||{},function(exports){"use strict";function Empty(){return function(){}}function K(){return function(e){return e}}function Null(){return function(){return null}}function False(){return function(){return!1}}function True(){return function(){return!0}}function notYetImplemented(){return function(){throw new Error("Not yet implemented")}}function all(e){var t=[];for(var r in e)e.__lookupGetter__(r)||"function"!=typeof e[r]||t.push(r);return t}function own(e){var t=[];for(var r in e)!e.__lookupGetter__(r)&&e.hasOwnProperty(r)&&"function"==typeof e[r]&&t.push(r);return t}function argumentNames(e){if(e.superclass)return[];var t=e.toString(),r="",n=t.match(/(?:\(([^\)]*)\)|([^\(\)-+!]+))\s*=>/);if(n)r=n[1]||n[2]||"";else{var i=t.match(/^[\s\(]*function[^(]*\(([^)]*)\)/);i&&i[1]&&(r=i[1])}return r.replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",").map(function(e){return e.trim()}).filter(function(e){return!!e})}function qualifiedMethodName(e){var t="";return e.declaredClass?t+=e.declaredClass+">>":e.declaredObject&&(t+=e.declaredObject+"."),t+(e.methodName||e.displayName||e.name||"anonymous")}function extractBody(e){for(var t=String(e).replace(/^function[^\{]+\{\s*/,"").replace(/\}$/,"").trim(),r=t.split(/\n|\r/),n=void 0,i=0;i<r.length;i++){var o=r[i].match(/^(\s+)[^\s]/);o&&(void 0===n||o[1].length<n.length)&&(n=o[1])}return n?t.replace(new RegExp("^"+n,"gm"),""):t}function timeToRun(e){var t=Date.now();return e(),Date.now()-t}function timeToRunN$1(e,t){for(var r=Date.now(),n=0;n<t;n++)e();return(Date.now()-r)/t}function delay(e,t){var r=Array.prototype.slice.call(arguments),n=r.shift(),t=1e3*r.shift();return setTimeout(function(){return n.apply(n,r)},t)}function throttle(e,t){var r,n,i,o,s,a,u=debounce(t,function(){s=o=!1});return function(){r=this,n=arguments;var c=function(){i=null,s&&e.apply(r,n),u()};return i||(i=setTimeout(c,t)),o?s=!0:a=e.apply(r,n),u(),o=!0,a}}function debounce(e,t,r){var n;return function(){var i=this,o=arguments,s=function(){n=null,r||t.apply(i,o)};r&&!n&&t.apply(i,o),clearTimeout(n),n=setTimeout(s,e)}}function throttleNamed(e,t,r){function n(){debounceNamed(e,t,function(){delete i[e]})(),r.apply(this,arguments)}var i=_throttledByName;return i[e]?i[e]:i[e]=throttle(n,t)}function debounceNamed(e,t,r,n){function i(){delete o[e],r.apply(this,arguments)}var o=_debouncedByName;return o[e]?o[e]:o[e]=debounce(t,i,n)}function createQueue(e,t){var r=_queues,n=r[e]||(r[e]={_workerActive:!1,worker:t,tasks:[],drain:null,push:function(e){n.tasks.push(e),n.activateWorker()},pushAll:function(e){e.forEach(function(e){n.tasks.push(e)}),n.activateWorker()},pushNoActivate:function(e){n.tasks.push(e)},handleError:function(e){e&&console.error("Error in queue: "+e)},activateWorker:function(){function t(e){n.handleError(e),n.activateWorker()}var i=n.tasks,o=n._workerActive;if(0===i.length)o&&(n._workerActive=!1,"function"==typeof n.drain&&n.drain()),delete r[e];else{o||(n._workerActive=!0);try{n.worker(i.shift(),t)}catch(e){t(e)}}}});return n}function workerWithCallbackQueue(e,t,r){function n(){c&&clearTimeout(c),a=!0,delete o[e]}function i(t){a||(n(),s.callbacks.forEach(function(r){try{r.apply(null,t)}catch(t){console.error("Error when invoking callbacks in queueUntil ["+e+"]:\n"+String(t.stack||t))}}))}var o=_queueUntilCallbacks,s=o[e];if(!!s)return s;var a=!1,u=!1;if(r)var c=setTimeout(function(){a||i([new Error("timeout")])},r);return s=o[e]={callbacks:[],cancel:function(){u=!0,n()},whenDone:function(e){return s.callbacks.push(e),s}},setTimeout(function(){if(!u)try{t(function(){i(arguments)})}catch(e){i([e])}},0),s}function _composeAsyncDefaultEndCallback(e,t){e&&console.error("lively.lang.composeAsync error",e)}function composeAsync(){var e,t,r=Array.prototype.slice,n=r.call(arguments),i=_composeAsyncDefaultEndCallback,o=i,s=new Promise(function(r,n){e=r,t=n});return n.reverse().reduce(function(e,a,u){var c=!1;return function(){function l(){c=!0;var n=r.call(arguments),i=n.shift();i?(o(i),t(i)):e.apply(null,n)}var p=r.call(arguments);if(o===i&&u===n.length-1){for(;p.length&&"function"!=typeof p[p.length-1];)p.pop();"function"==typeof p[p.length-1]&&(o=p.pop())}if("function"==typeof a)try{var f=a.apply(this,p.concat([l]));f&&"function"==typeof f.then&&"function"==typeof f.catch&&f.then(function(e){return l(null,e)}).catch(function(e){return l(e)})}catch(e){console.error("composeAsync: ",e.stack||e),c||(o(e),t(e))}else if(a&&"function"==typeof a.then&&"function"==typeof a.catch)a.then(function(e){l(null,e)}).catch(function(e){l(e)});else{var h=new Error("Invalid argument to composeAsync: "+a);o(h),t(h)}return s}},function(){var t=r.call(arguments);o.apply(null,[null].concat(t)),e(t[0])})}function compose(){return Array.prototype.slice.call(arguments).reverse().reduce(function(e,t){return function(){return e(t.apply(this,arguments))}},function(e){return e})}function flip(e){return function(){var t=Array.prototype.slice.call(arguments),r=[t[1],t[0]].concat(t.slice(2));return e.apply(null,r)}}function withNull(e){return e=e||function(){},function(){var t=lively.lang.arr.from(arguments);e.apply(null,[null].concat(t))}}function waitFor(e,t,r){var n=Date.now(),i=50;r||(r=t,t=e,e=void 0),function o(){if(t())return r();if(e){var s=Date.now()-n,a=e-s;if(a<=0)return r(new Error("timeout"));a<i&&(i=a)}setTimeout(o,i)}()}function waitForAll(e,t,r){function n(e,t,n,s){if(o.length){var a=null,u=o.indexOf(e);u>-1&&o.splice(u,1),n?(o.length=0,a=new Error("in waitForAll at"+("number"==typeof t?" "+t:"")+": \n"+(n.stack||String(n)))):s&&(i[t]=s),o.length||setTimeout(function(){r(a,i)},0)}}r||(r=t,t=e,e=null),e=e||{};var i=t.map(function(){return null});if(!t.length)return void r(null,i);var o=Array.prototype.slice.call(t);t.forEach(function(e,t){try{e(function(){var r=Array.prototype.slice.call(arguments),i=r.shift();n(e,t,i,r)})}catch(r){n(e,t,r,null)}}),e.timeout&&setTimeout(function(){if(o.length){var e=i.map(function(e,t){return null===e&&t}).filter(function(e){return"number"==typeof e}).join(", ");n(null,null,new Error("waitForAll timed out, functions at "+e+" not done"),null)}},e.timeout)}function curry(e,t,r,n){function i(){return e.apply(this,o.concat(Array.prototype.slice.call(arguments)))}if(arguments.length<=1)return arguments[0];var o=Array.prototype.slice.call(arguments),e=o.shift();return i.isWrapper=!0,i.originalFunction=e,i}function wrap(e,t){var r=e,n=function(){var e=Array.prototype.slice.call(arguments),n=t.isWrapper?e:[r.bind(this)].concat(e);return t.apply(this,n)};return n.isWrapper=!0,n.originalFunction=r,n}function getOriginal(e){for(;e.originalFunction;)e=e.originalFunction;return e}function wrapperChain(e){var t=[];do{t.push(e),e=e.originalFunction}while(e);return t}function replaceMethodForOneCall(e,t,r){r.originalFunction=e[t];var n=e.hasOwnProperty(t);return e[t]=function(){return n?e[t]=r.originalFunction:delete e[t],r.apply(this,arguments)},e}function once(e){if(e){if("function"!=typeof e)throw new Error("once() expecting a function");var t,r=!1;return function(){return r?t:(r=!0,t=e.apply(this,arguments))}}}function either(){var e=Array.prototype.slice.call(arguments),t=!1;return e.map(function(e){return function(){if(!t)return t=!0,e.apply(this,arguments)}})}function eitherNamed(e,t){var r=Array.prototype.slice.call(arguments),n=_eitherNameRegistry,e=r.shift(),i=n[e]||(n[e]={wasCalled:!1,callsLeft:0});return i.callsLeft++,function(){if(i.callsLeft--,i.callsLeft<=0&&delete n[e],!i.wasCalled)return i.wasCalled=!0,t.apply(this,arguments)}}function evalJS(src){return eval(src)}function fromString(e){return evalJS("("+e.toString()+");")}function asScript(e,t){return Closure.fromFunction(e,t).recreateFunc()}function asScriptOf(e,t,r,n){var i=r||e.name;if(!i)throw Error("Function that wants to be a script needs a name: "+this);var o=Object.getPrototypeOf(t),s={this:t};if(n&&(s=merge([s,n])),o&&o[i]){var a=function(){try{return Object.getPrototypeOf(t)[i].apply(t,arguments)}catch(e){return void 0!==("undefined"==typeof $world?"undefined":_typeof($world))?$world.logError(e,"Error in $super call"):console.error("Error in $super call: "+e+"\n"+e.stack),null}};s.$super=Closure.fromFunction(a,{obj:t,name:i}).recreateFunc()}return addToObject(asScript(e,s),t,i)}function addToObject(e,t,r){e.displayName=r;var n=t.attributeConnections?t.attributeConnections.filter(function(e){return"update"===e.getSourceAttrName()}):[];return n&&n.forEach(function(e){e.disconnect()}),t[r]=e,(void 0===t?"undefined":_typeof(t))&&(e.declaredObject=safeToString(t)),"undefined"!=typeof lively&&t&&lively.Tracing&&lively.Tracing.stackTracingEnabled&&lively.Tracing.instrumentMethod(t,r,{declaredObject:safeToString(t)}),n&&n.forEach(function(e){e.connect()}),e}function binds(e,t){return Closure.fromFunction(e,t||{}).recreateFunc()}function setLocalVarValue(e,t,r){e.hasLivelyClosure&&(e.livelyClosure.funcProperties[t]=r)}function getVarMapping(e){return e.hasLivelyClosure?e.livelyClosure.varMapping:e.isWrapper?e.originalFunction.varMapping:e.varMapping?e.varMapping:{}}function setProperty(e,t,r){e[t]=r,e.hasLivelyClosure&&(e.livelyClosure.funcProperties[t]=r)}function functionNames(e){for(var t=[],r=e.prototype;r;)t=Object.keys(r).reduce(function(e,t){return"function"==typeof r[t]&&-1===e.indexOf(t)&&e.push(t),e},t),r=Object.getPrototypeOf(r);return t}function localFunctionNames(e){return Object.keys(e.prototype).filter(function(t){return"function"==typeof e.prototype[t]})}function logErrors(e,t){var r=function(r){var n=Array.prototype.slice.call(arguments);n.shift();try{return r.apply(e,n)}catch(r){if("undefined"!=typeof lively&&lively.morphic&&lively.morphic.World&&lively.morphic.World.current())throw lively.morphic.World.current().logError(r),r;throw t?console.warn("ERROR: %s.%s(%s): err: %s %s",e,t,n,r,r.stack||""):console.warn("ERROR: %s %s",r,r.stack||""),r}};r.methodName="$logErrorsAdvice";var n=wrap(e,r);return n.originalFunction=e,n.methodName="$logErrorsWrapper",n}function logCompletion(e,t){var r=function(r){var n=Array.prototype.slice.call(arguments);n.shift();try{var i=r.apply(e,n)}catch(e){throw console.warn("failed to load "+t+": "+e),"undefined"!=typeof lively&&lively.lang.Execution&&lively.lang.Execution.showStack(),e}return console.log("completed "+t),i};r.methodName="$logCompletionAdvice::"+t;var n=wrap(e,r);return n.methodName="$logCompletionWrapper::"+t,n.originalFunction=e,n}function logCalls(e,t){var r=e,n=function(n){var o=Array.prototype.slice.call(arguments);return o.shift(),i=n.apply(e,o),t?console.warn("%s(%s) -> %s",qualifiedMethodName(r),o,i):console.log("%s(%s) -> %s",qualifiedMethodName(r),o,i),i};n.methodName="$logCallsAdvice::"+qualifiedMethodName(e);var i=wrap(e,n);return i.originalFunction=e,i.methodName="$logCallsWrapper::"+qualifiedMethodName(e),i}function traceCalls(e,t){return wrap(e,function(r){var n=Array.prototype.slice.call(arguments);n.shift(),t.push(n);var i=r.apply(e,n);return t.pop(),i})}function webkitStack(){try{throw new Error}catch(e){return String(e.stack).split(/\n/).slice(2).map(function(e){return e.replace(/^\s*at\s*([^\s]+).*/,"$1")}).join("\n")}}function range(e,t,r){r=r||0;var n=[];if(e<=t){r<=0&&(r=-r||1);for(var i=e;i<=t;i+=r)n.push(i)}else{r>=0&&(r=-r||-1);for(var i=e;i>=t;i+=r)n.push(i)}return n}function withN(e,t){for(var r=new Array(e);e>0;)r[--e]=t;return r}function genN(e,t){for(var r=new Array(e);e>0;)r[--e]=t(e);return r}function filter(e,t,r){return e.filter(t,r)}function findAndGet(e,t){var r;return e.find(function(e,n){return r=t(e,n)}),r}function filterByKey(e,t){return e.filter(function(e){return!!e[t]})}function grep(e,t,r){return"string"==typeof t&&(t=new RegExp(t,"i")),e.filter(t.test.bind(t))}function mask(e,t){return e.filter(function(e,r){return!!t[r]})}function reject(e,t,r){function n(e,n){return!t.call(r,e,n)}return e.filter(n)}function rejectByKey(e,t){return e.filter(function(e){return!e[t]})}function without(e,t){return e.filter(function(e){return e!==t})}function withoutAll(e,t){return e.filter(function(e){return-1===t.indexOf(e)})}function uniq(e,t){if(!e.length)return e;var r=[e[0]];if(t)for(var n=1;n<e.length;n++){var i=e[n];i!==r[r.length]&&r.push(i)}else for(var o=1;o<e.length;o++){var s=e[o];-1===r.indexOf(s)&&r.push(s)}return r}function uniqBy(e,t,r){for(var n=e.slice(),i=n.length;i--;)for(var o=e[i],s=i+1;s<n.length;s++)t.call(r,o,n[s])&&n.splice(s--,1);return n}function uniqByKey(e,t){for(var r={},n=[],i=0;i<e.length;i++){var o=e[i];r[o[t]]||(r[o[t]]=!0,n.push(o))}return n}function compact(e){return e.filter(Boolean)}function mutableCompact(e){for(var t=0,r=0,n=e.length;t<n;)e.hasOwnProperty(t)&&(e[r++]=e[t]),t++;for(;r++<n;)e.pop();return e}function forEach$1(e,t,r){return e.forEach(t,r)}function zip(){var e=Array.from(arguments),t=e.shift(),r="function"==typeof last(e)?e.pop():function(e){return e},n=[t].concat(e).map(function(e){return Array.from(e)});return t.map(function(e,t){return r(pluck(n,t),t)})}function flatten(e,t){if("number"==typeof t){if(t<=0)return e;t--}return e.reduce(function(e,r){return e.concat(Array.isArray(r)?flatten(r,t):[r])},[])}function flatmap(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push.apply(n,t.call(r,e[i],i));return n}function interpose(e,t){return e.reduce(function(e,r){return e.length>0&&e.push(t),e.push(r),e},[])}function delimWith(e,t){return interpose(e,t)}function map$1(e,t,r){return e.map(t,r)}function invoke(e,t,r,n,i,o,s,a){return e.map(function(e){return e[t](r,n,i,o,s,a)})}function pluck(e,t){return e.map(function(e){return e[t]})}function reduce(e,t,r,n){return e.reduce(t,r,n)}function reduceRight(e,t,r,n){return e.reduceRight(t,r,n)}function some(e,t,r){return e.some(t,r)}function every(e,t,r){return e.every(t,r)}function equals$2(e,t){var r=e.length;if(!t||r!==t.length)return!1;for(var n=0;n<r;n++){if(e[n]&&t[n]&&e[n].equals&&t[n].equals){if(e[n].equals(t[n]))continue;return!1}if(e[n]!=t[n])return!1}return!0}function deepEquals(e,t){var r=e.length;if(!t||r!==t.length)return!1;for(var n=0;n<r;n++)if(!equals$1(e[n],t[n]))return!1;return!0}function isSorted(e,t){if(t){for(var r=1;r<e.length;r++)if(e[r-1]<e[r])return!1}else for(var r=1;r<e.length;r++)if(e[r-1]>e[r])return!1;return!0}function sort(e,t){return e.sort(t)}function sortBy(e,t,r){return pluck(e.map(function(e,n){return{value:e,criteria:t.call(r,e,n)}}).sort(function(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}),"value")}function sortByKey(e,t){return sortBy(e,function(e){return e[t]})}function reverse(e){return e.reverse()}function reversed(e){return e.slice().reverse()}function reMatches$1(e,t,r){return r=r||String,e.map(function(e){return r(e).match(t)})}function first(e){return e[0]}function last(e){return e[e.length-1]}function intersect(e,t){return uniq(e).filter(function(e){return t.indexOf(e)>-1})}function union(e,t){for(var r=e.slice(),n=0;n<t.length;n++){var i=t[n];-1===r.indexOf(i)&&r.push(i)}return r}function pushAt(e,t,r){e.splice(r,0,t)}function removeAt(e,t){e.splice(t,1)}function remove(e,t){var r=e.indexOf(t);return r>=0&&removeAt(e,r),t}function pushAll$1(e,t){return e.push.apply(e,t),e}function pushAllAt(e,t,r){e.splice.apply(e,[r,0].concat(t))}function pushIfNotIncluded(e,t){e.includes(t)||e.push(t)}function replaceAt(e,t,r){e.splice(r,1,t)}function clear(e){return e.length=0,e}function isSubset(e,t){for(var r=0;r<e.length;r++)if(!t.includes(e[r]))return!1;return!0}function doAndContinue(e,t,r,n){return r=r||Null,n=n||GLOBAL$1,t=t||function(e,t,r){t.call(n,e,r)},e.reduceRight(function(e,r,i){return function(){t.call(n,e,r,i)}},r)()}function nestedDelay(e,t,r,n,i,o){return n=n||function(){},e.clone().reverse().reduce(function(e,n,s){return function(){t.call(i||GLOBAL$1,n,s),o&&s%o!=0?e():e.delay(r)}},n)()}function forEachShowingProgress(){var e,t,r,n,i,o=Array.from(arguments),s=o.shift(),a=s.length,u=!1;if(1===o.length?(e=o[0].progressBar,t=o[0].iterator,r=o[0].labelFunction,n=o[0].whenDone,i=o[0].context):(e=o[0],t=o[1],r=o[2],n=o[3],i=o[4]),i||(i="undefined"!=typeof window?window:global),r||(r=function(e){return e}),!e){u=!0;var c="undefined"!=typeof window?window:global,l=c.lively&&lively.morphic&&lively.morphic.World.current();e=l?l.addProgressBar():{setValue:function(e){},setLabel:function(){},remove:function(){}}}return e.setValue(0),s.reduceRight(function(n,o,s){return function(){try{e.setValue(s/a),r&&e.setLabel(r.call(i,o,s)),t.call(i,o,s)}catch(e){console.error("Error in forEachShowingProgress at %s (%s)\n%s\n%s",s,o,e,e.stack)}n.delay(0)}},function(){e.setValue(1),u&&function(){e.remove()}.delay(0),n&&n.call(i)})(),s}function swap(e,t,r){t<0&&(t=e.length+t),r<0&&(r=e.length+r);var n=e[t];return e[t]=e[r],e[r]=n,e}function rotate(e,t){return t=t||1,e.slice(t).concat(e.slice(0,t))}function groupBy(e,t,r){return Group.fromArray(e,t,r)}function groupByKey(e,t){return groupBy(e,function(e){return e[t]})}function partition(e,t,r){t=t||function(e){return e};var n=[],i=[];return e.forEach(function(e,o){(t.call(r,e,o)?n:i).push(e)}),[n,i]}function batchify(e,t,r){function n(e,i){if(!i.length)return[e,[]];var o=i[0],s=i.slice(1),a=e.concat([o]);if(t.call(r,a))return n(a,s);var u=n(e,s);return[u[0],[o].concat(u[1])]}function i(e,t){if(!t.length)return e;var r=n([],t);if(!r[0].length)throw new Error("Batchify constrained does not ensure consumption of at least one item per batch!");return i(e.concat([r[0]]),r[1])}return i([],e)}function toTuples(e,t){return t=t||1,range(0,Math.ceil(e.length/t)-1).map(function(r){return e.slice(r*t,r*t+t)},e)}function combinationsPick(e,t){for(var r=e.map(function(e,r){return e[t[r]]}),n=t.slice(),i=e.length;i--;i>=0){var o=e[i],s=n[i]+1;if(o[s]){n[i]=s;break}if(0===i){n=void 0;break}n[i]=0}return[r,n]}function combinations(e){for(var t=e.reduce(function(e,t){return e*t.length},1),r=e.map(function(e){return 0}),n=new Array(t),i=0;i<t;i++){var o=combinationsPick(e,r);n[i]=o[0],r=o[1]}return n}function take(e,t){return e.slice(0,t)}function drop(e,t){return e.slice(t)}function takeWhile(e,t,r){for(var n=0;n<e.length&&t.call(r,e[n],n);n++);return e.slice(0,n)}function dropWhile(e,t,r){for(var n=0;n<e.length&&t.call(r,e[n],n);n++);return e.slice(n)}function shuffle(e){for(var t=range(0,e.length-1),r=Array(e.length),n=0;n<e.length;n++){r[t.splice(Math.round(Math.random()*(t.length-1)),1)]=e[n]}return r}function max(e,t,r){t=t||function(e){return e};var n;return e.reduce(function(e,i,o){var s=t.call(r,i,o);return"number"!=typeof s||s<=e?e:(n=i,s)},-1/0),n}function min(e,t,r){return t=t||function(e){return e},max(e,function(e,n){return-t.call(r,e,n)})}function sum(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t}function count$1(e,t){return e.reduce(function(e,r){return r===t?e+1:e},0)}function size$1(e){return e.length}function histogram(e,t){if(void 0===t||"number"==typeof t){var r=t||function(){return Math.ceil(Math.log(e.length)/Math.log(2)+1)}(),n=Math.ceil(Math.round(e.length/r));return range(0,r-1).map(function(t){return e.slice(t*n,(t+1)*n)})}if(t instanceof Array){var i=t;return e.reduce(function(e,t){if(t<i[1])return e[0].push(t),e;for(var r=1;r<i.length;r++)if(t>=i[r]&&(!i[r+1]||t<=i[r+1]))return e[r].push(t),e;throw new Error("Histogram creation: Cannot group data "+t+" into thresholds "+i)},range(1,i.length).map(function(){return[]}))}}function clone$1(e){return[].concat(e)}function toArray$3(e){return from(e)}function each(e,t,r){return e.forEach(t,r)}function all$1(e,t,r){return e.every(t,r)}function any(e,t,r){return e.some(t,r)}function collect(e,t,r){return e.map(t,r)}function findAll(e,t,r){return e.filter(t,r)}function inject(e,t,r,n){return n&&(r=r.bind(n)),e.reduce(r,t)}function mapAsyncSeries(e,t,r){function n(e,t){if(!o&&(e||t)){o=!0;try{r(e,i)}catch(e){console.error("Error in mapAsyncSeries - callback invocation error:\n"+(e.stack||e))}}}var i=[],o=!1;return e.reduceRight(function(e,r,s){if(!o)return function(o,a){if(o)return n(o);s>0&&i.push(a);try{t(r,s,once(e))}catch(e){n(e)}}},function(e,t){i.push(t),n(e,!0)})()}function mapAsync(e,t,r,n){function i(){for(;l<t.parallel&&c<e.length;)p[c++]()}function o(t,r){if(!(a.indexOf(t)>-1||(a.push(t),l--,u))){if(!r&&a.length<e.length)return void i();u=!0;try{n&&n(r,s)}catch(e){console.error("Error in mapAsync - main callback invocation error:\n"+(e.stack||e))}}}if("function"==typeof t&&(n=r,r=t,t=null),t=t||{},!e.length)return n&&n(null,[]);t.parallel||(t.parallel=1/0);var s=[],a=[],u=!1,c=0,l=0,p=e.map(function(e,t){return function(){l++;try{r(e,t,once(function(e,r){s[t]=e||r,o(t,e)}))}catch(e){o(t,e)}}});return i()}function print$1(e){if(e&&Array.isArray(e))return"["+e.map(print$1)+"]";if("string"!=typeof e)return String(e);var t=String(e);return t=t.replace(/\n/g,"\\n\\\n"),t=t.replace(/(")/g,"\\$1"),t='"'+t+'"'}function indent$1(e,t,r){if(!r||r<=0)return e;for(;r>0;)r--,e=t+e;return e}function isArray$$1(e){return Array.isArray(e)}function isElement(e){return e&&1==e.nodeType}function isFunction(e){return e instanceof Function}function isBoolean(e){return"boolean"==typeof e}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return e instanceof RegExp}function isObject(e){return"object"==(void 0===e?"undefined":_typeof(e))}function isPrimitive(e){if(!e)return!0;switch(void 0===e?"undefined":_typeof(e)){case"string":case"number":case"boolean":return!0}return!1}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function equals$1(e,t){if(e===t)return!0;if(!e||!t)return e==t;if(Array.isArray(e))return deepEquals(e,t);switch(e.constructor){case String:case Date:case Boolean:case Number:return e==t}if("function"==typeof e.isEqualNode)return e.isEqualNode(t);if("function"==typeof e.equals)return e.equals(t);var r=[];for(var n in e)if(r.push(n),"function"!=typeof e[n]&&!equals$1(e[n],t[n]))return!1;for(var n in t)if(-1===r.indexOf(n)&&"function"!=typeof t[n]&&!equals$1(t[n],e[n]))return!1;return!0}function values(e){return e?Object.keys(e).map(function(t){return e[t]}):[]}function select(e,t){for(var r={},n=0;n<t.length;n++)r[t[n]]=e[t[n]];return r}function dissoc(e,t){var r={};for(var n in e)e.hasOwnProperty(n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}function addScript(e,t,r,n){return asScriptOf(fromString(t),e,r,n)}function extend(e,t){for(var r=null,n=1;n<arguments.length;n++)if("string"!=typeof arguments[n]){var t=arguments[n];for(var i in t){var o=t.__lookupGetter__(i),s=t.__lookupSetter__(i);if(o&&e.__defineGetter__(i,o),s&&e.__defineSetter__(i,s),!o&&!s){var a=t[i];e[i]=a,r&&r.push(i),"function"==typeof a&&(a.displayName||(a.displayName=i),"undefined"!=typeof lively&&lively.Module&&lively.Module.current&&(a.sourceModule=lively.Module.current()))}}}else{var u=arguments[n];e.categories||(e.categories={}),e.categories[u]||(e.categories[u]=[]),r=e.categories[u]}return e}function clone$$1(e){if(isPrimitive(e))return e;if(Array.isArray(e))return Array.prototype.slice.call(e);var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function extract(e,t,r){for(var n={},i=0;i<t.length;i++)t[i]in e&&(n[t[i]]=r?r(t[i],e[t[i]]):e[t[i]]);return n}function inspect(e,t,r){if(t=t||{},r=r||0,t.customPrinter){var n=t._ignoreSignal||(t._ignoreSignal={}),i=function(e){return inspect(e,t,r+1)},o=t.customPrinter(e,n,i);if(o!==n)return o}if(!e)return print$1(e);if("function"==typeof e)return t.printFunctionSource?String(e):"function"+(e.name?" "+e.name:"")+"("+argumentNames(e).join(",")+") {/*...*/}";switch(e.constructor){case String:case Boolean:case RegExp:case Number:return print$1(e)}if("function"==typeof e.serializeExpr)return e.serializeExpr();var s=e&&Array.isArray(e),a=s?"[":"{",u=s?"]":"}";if(t.maxDepth&&r>=t.maxDepth)return a+"/*...*/"+u;var c=[];if(c=s?e.map(function(e){return inspect(e,t,r+1)}):Object.keys(e).sort(function(t,r){var n="function"==typeof e[t];return n===("function"==typeof e[r])?t<r?-1:t>r?1:0:n?1:-1}).map(function(n,i){s&&inspect(e[n],t,r+1);var o=inspect(e[n],t,r+1);return t.escapeKeys?JSON.stringify(n):n+": "+o}),0===c.length)return a+u;var l=c.join(", "),p=(!s||t.newLineInArrays)&&(!t.minLengthForNewLine||l.length>=t.minLengthForNewLine),f=indent$1("",t.indent||"  ",r),h=indent$1("",t.indent||"  ",r+1),d=p&&!s?"\n"+h:"",m=p?"\n"+h:"",y=p&&!s?"\n"+f:"";return p&&(l=c.join(","+m)),a+d+l+y+u}function merge(e){return arguments.length>1?merge(Array.prototype.slice.call(arguments)):Array.isArray(e[0])?Array.prototype.concat.apply([],e):e.reduce(function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},{})}function deepMerge(e,t){if(!e)return t;if(!t)return e;if(Array.isArray(e)){if(!Array.isArray(t))return t;var r=e.map(function(e,r){return deepMerge(e,t[r])});return t.length>e.length&&(r=r.concat(t.slice(e.length))),r}return"object"!==(void 0===e?"undefined":_typeof(e))||"object"!==(void 0===t?"undefined":_typeof(t))?t:Object.keys(e).concat(Object.keys(t)).reduce(function(r,n){return e[n]?t[n]?"object"!==_typeof(e[n])||"object"!==_typeof(t[n])?r[n]=t[n]:r[n]=deepMerge(e[n],t[n]):r[n]=e[n]:r[n]=t[n],r},{})}function sortKeysWithBeforeAndAfterConstraints(e){var t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],[]),r=[],n=[];for(var i in e){var o=e[i],s=o.hasOwnProperty("before")?o.before:o.before=[],a=o.hasOwnProperty("after")?o.after:o.after=[];t.push(i),r.push(o);for(var u=s.length;u--;){var c=s[u],l=e[c];l?(l.hasOwnProperty("after")||(l.after=[]),l.after.push(i)):(console.warn("[initializeProperties] "+this+" sortProperties: Property "+i+" requires to be initialized before "+c+" but that property cannot be found."),s.splice(u,1))}for(var p=a.length;p--;){var f=a[p];e[f]||(console.warn("[initializeProperties] "+this+" sortProperties: Property "+i+" requires to be initialized after "+f+" but that property cannot be found."),a.splice(p,1))}n.push(i)}for(var h=[],d=[],m=n.length+1;n.length;){if(m===n.length)throw new Error("Circular dependencies in handler order, could not resolve properties "+n.map(function(t){var r=e[t].before,n=e[t].after;if(!(r&&r.length||n&&n.length))return"";var i=t+"\n";return r&&r.length&&(i+="  - before "+r.join(",")+"\n"),n&&n.length&&(i+="  - after "+n.join(",")+"\n"),i}).join(""));m=n.length;for(var y=[],g=n.length;g--;){var v=n[g]
;isSubset(e[v].after,d)&&(n.splice(g,1),d.push(v),y.push(v))}h.push(y)}return flatten(h,1)}function inherit(e){return Object.create(e)}function valuesInPropertyHierarchy(e,t){for(var r=[],n=e;n;)n.hasOwnProperty(t)&&r.unshift(n[t]),n=Object.getPrototypeOf(n);return r}function mergePropertyInHierarchy(e,t){return merge(valuesInPropertyHierarchy(e,t))}function deepCopy(e){if(!e||"object"!==(void 0===e?"undefined":_typeof(e))||e instanceof RegExp)return e;var t=Array.isArray(e)?Array(e.length):{};for(var r in e)e.hasOwnProperty(r)&&(t[r]=deepCopy(e[r]));return t}function typeStringOf(e){return null===e?"null":void 0===e?"undefined":e.constructor.name}function shortPrintStringOf(e){function t(e,t,n,i){e.constructor.name===t&&(r+=n,(e.length||Object.keys(e).length)&&(r+="..."),r+=i)}if(!isMutableType(e))return safeToString(e);if("Object"!==e.constructor.name&&!Array.isArray(e)&&e.constructor.name)return e.constructor.name?e.constructor.name:Object.prototype.toString.call(e).split(" ")[1].split("]")[0];var r="";return t(e,"Object","{","}"),t(e,"Array","[","]"),r}function isMutableType(e){return-1===["null","undefined","Boolean","Number","String"].indexOf(typeStringOf(e))}function safeToString(e){try{return(e?e.toString():String(e)).replace("\n","")}catch(e){return"<error printing object>"}}function asObject(e){switch(void 0===e?"undefined":_typeof(e)){case"string":return new String(e);case"boolean":return new Boolean(e);case"number":return new Number(e);default:return e}}function newKeyIn(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",n=1;do{t=r+"-"+n++}while(t in e);return t}function format(){return formatFromArray(Array.prototype.slice.call(arguments))}function formatFromArray(e){function t(e,t){return""+e}function r(e,t){return e.toString()}function n(e,t,r){return r>-1?e.toFixed(r):e.toString()}function i(e,t){return inspect(e)}var o=e.shift();o||console.log("Error in Strings>>formatFromArray, first arg is undefined");for(var s={s:t,d:r,i:r,f:n,o:i},a=/((^%|[^\\]%)(\d+)?(\.)([a-zA-Z]))|((^%|[^\\]%)([a-zA-Z]))/,u=(function(e){for(var t=[],r=a.exec(e);r;r=a.exec(e)){var n=r[8]||r[5],o=n in s?s[n]:i,u=r[3]?parseInt(r[3]):"."==r[4]?-1:0;t.push(e.substr(0,"%"==r[0][0]?r.index:r.index+1)),t.push({appender:o,precision:u}),e=e.substr(r.index+r[0].length)}return e&&t.push(e.toString()),t}(o)),c="",l=0,p=0;p<u.length;++p){var f=u[p];if(f&&"object"==(void 0===f?"undefined":_typeof(f))){var h=e[l++];c+=(f.appender||t)(h,c,f.precision)}else c+=t(f,c)}return c}function indent(e,t,r){if(!r||r<=0)return e;for(var n="";r>0;)r--,n+=t;return lines(e).map(function(e){return n+e}).join("\n")}function minIndent(e,t){t||(t="  ");var r=new RegExp("^("+t+")*","gm");return min(e.match(r).map(function(e){return Math.floor(e.length/t.length)}))}function changeIndent(e,t,r){t||(t="  "),r||(r=0);var n=minIndent(e,t);if(n===r)return e;if(n<r)return indent(e,t,r-n);var i=t.repeat(n-r);return lines(e).map(function(e){return e.slice(i.length)}).join("\n")}function quote(e){return'"'+e.replace(/"/g,'\\"')+'"'}function print(e){if(e&&Array.isArray(e))return"["+e.map(print)+"]";if("string"!=typeof e)return String(e);var t=String(e);return t=t.replace(/\n/g,"\\n\\\n"),t=t.replace(/(")/g,"\\$1"),t='"'+t+'"'}function printNested(e,t){return t=t||0,e.reduce(function(e,r){return e+=Array.isArray(r)?printNested(r,t+1):indent(r+"\n","  ",t)},"")}function pad(e,t,r){return r?" ".repeat(t)+e:e+" ".repeat(t)}function printTable(e,t){function r(e){return!o&&(!!s||t&&Array.isArray(t.align)&&"right"===t.align[e])}var n=[],i=t&&t.separator||" ",o=!t||!t.align||"left"===t.align,s=t&&"right"===t.align;return e.forEach(function(e){e.forEach(function(e,t){void 0===n[t]&&(n[t]=0),n[t]=Math.max(n[t],String(e).length)})}),e.map(function(e){return e.map(function(e,t){var i=String(e);return pad(i,n[t]-i.length,r(t))}).join(i)}).join("\n")}function printTree(e,t,r,n){function i(e,s,a){o[s]=n.repeat(e)+t(a,e);var u=r(a,e),c=s+1;if(!u||!u.length)return c;var l=c,p=u.length-1;return u.forEach(function(t,r){c=i(e+1,c,t);for(var s=p===r,a=o[l].split(""),u=e*n.length+1,f=e*n.length+n.length,r=u;r<f;r++)a[r]="-";s&&(a[e*n.length]="\\"),o[l]=a.join(""),s||o.slice(l,c).forEach(function(t,r){var i=t.split("");i[e*n.length]="|",o[l+r]=i.join("")}),l=c}),c}var o=[];return n=n||"  ",i(0,0,e),o.join("\n")}function toArray$1(e){return e.split("")}function lines(e){return e.split(/\n\r?/)}function paragraphs(e,t){function r(e){return/^\s*$/.test(e)}var n=t?t.sep:"\n\n";return t&&t.keepEmptyLines?e.split("\n").concat("").reduce(function(e,t){var n=e[0],i=e[1];return r(i)===r(t)?i+="\n"+t:(i.length&&n.push(i),i=t),[n,i]},[[],""])[0]:e.split(new RegExp(n+"+"))}function nonEmptyLines(e){return lines(e).compact()}function tokens(e,t){return e.split(t||/\s+/).filter(function(e){return!/^\s*$/.test(e)})}function tableize(e,t){t=t||{};for(var r=t.cellSplitter||/\s+/,n=/^\s*$/,i=!t.hasOwnProperty("convertTypes")||!!t.convertTypes,o=lines(e),s=[],a=0;a<o.length;a++){var u=tokens(o[a],r);i&&(u=u.map(function(e){if(e.match(n))return e;var t=Number(e);if(!isNaN(t))return t;var r=new Date(e);return isNaN(+r)?e.trim():r})),u.length>0&&s.push(u)}return s}function unescapeCharacterEntities(e){if("undefined"==typeof document)throw new Error("Cannot unescapeCharacterEntities");var t=document.createElement("div");return t.innerHTML=e,t.textContent}function toQueryParams(e,t){var r=e.trim().match(/([^?#]*)(#.*)?$/);return r?r[1].split(t||"&").inject({},function(e,t){if((t=t.split("="))[0]){var r=decodeURIComponent(t.shift()),n=t.length>1?t.join("="):t[0];void 0!=n&&(n=decodeURIComponent(n)),r in e?(Array.isArray(e[r])||(e[r]=[e[r]]),e[r].push(n)):e[r]=n}return e}):{}}function joinPath(){return Array.prototype.slice.call(arguments).reduce(function(e,t){return"string"==typeof t?e.replace(/\/*$/,"")+"/"+t.replace(/^\/*/,""):e})}function newUUID(){return newUUIDTemplate.replace(newUUIDRe,newUUIDReplacer).toUpperCase()}function createDataURI(e,t){return"data:"+(t=t||"text/plain")+";base64,"+btoa(e)}function hashCode(e){var t=0,r=e.length;if(0==r)return t;for(var n=0;n<r;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}function md5(e){function t(e,t,r,n,i,o){return t=c(c(t,e),c(n,o)),c(t<<i|t>>>32-i,r)}function r(e,r,n,i,o,s,a){return t(r&n|~r&i,e,r,o,s,a)}function n(e,r,n,i,o,s,a){return t(r&i|n&~i,e,r,o,s,a)}function i(e,r,n,i,o,s,a){return t(r^n^i,e,r,o,s,a)}function o(e,r,n,i,o,s,a){return t(n^(r|~i),e,r,o,s,a)}function s(e,t){var s=e[0],a=e[1],u=e[2],l=e[3];s=r(s,a,u,l,t[0],7,-680876936),l=r(l,s,a,u,t[1],12,-389564586),u=r(u,l,s,a,t[2],17,606105819),a=r(a,u,l,s,t[3],22,-1044525330),s=r(s,a,u,l,t[4],7,-176418897),l=r(l,s,a,u,t[5],12,1200080426),u=r(u,l,s,a,t[6],17,-1473231341),a=r(a,u,l,s,t[7],22,-45705983),s=r(s,a,u,l,t[8],7,1770035416),l=r(l,s,a,u,t[9],12,-1958414417),u=r(u,l,s,a,t[10],17,-42063),a=r(a,u,l,s,t[11],22,-1990404162),s=r(s,a,u,l,t[12],7,1804603682),l=r(l,s,a,u,t[13],12,-40341101),u=r(u,l,s,a,t[14],17,-1502002290),a=r(a,u,l,s,t[15],22,1236535329),s=n(s,a,u,l,t[1],5,-165796510),l=n(l,s,a,u,t[6],9,-1069501632),u=n(u,l,s,a,t[11],14,643717713),a=n(a,u,l,s,t[0],20,-373897302),s=n(s,a,u,l,t[5],5,-701558691),l=n(l,s,a,u,t[10],9,38016083),u=n(u,l,s,a,t[15],14,-660478335),a=n(a,u,l,s,t[4],20,-405537848),s=n(s,a,u,l,t[9],5,568446438),l=n(l,s,a,u,t[14],9,-1019803690),u=n(u,l,s,a,t[3],14,-187363961),a=n(a,u,l,s,t[8],20,1163531501),s=n(s,a,u,l,t[13],5,-1444681467),l=n(l,s,a,u,t[2],9,-51403784),u=n(u,l,s,a,t[7],14,1735328473),a=n(a,u,l,s,t[12],20,-1926607734),s=i(s,a,u,l,t[5],4,-378558),l=i(l,s,a,u,t[8],11,-2022574463),u=i(u,l,s,a,t[11],16,1839030562),a=i(a,u,l,s,t[14],23,-35309556),s=i(s,a,u,l,t[1],4,-1530992060),l=i(l,s,a,u,t[4],11,1272893353),u=i(u,l,s,a,t[7],16,-155497632),a=i(a,u,l,s,t[10],23,-1094730640),s=i(s,a,u,l,t[13],4,681279174),l=i(l,s,a,u,t[0],11,-358537222),u=i(u,l,s,a,t[3],16,-722521979),a=i(a,u,l,s,t[6],23,76029189),s=i(s,a,u,l,t[9],4,-640364487),l=i(l,s,a,u,t[12],11,-421815835),u=i(u,l,s,a,t[15],16,530742520),a=i(a,u,l,s,t[2],23,-995338651),s=o(s,a,u,l,t[0],6,-198630844),l=o(l,s,a,u,t[7],10,1126891415),u=o(u,l,s,a,t[14],15,-1416354905),a=o(a,u,l,s,t[5],21,-57434055),s=o(s,a,u,l,t[12],6,1700485571),l=o(l,s,a,u,t[3],10,-1894986606),u=o(u,l,s,a,t[10],15,-1051523),a=o(a,u,l,s,t[1],21,-2054922799),s=o(s,a,u,l,t[8],6,1873313359),l=o(l,s,a,u,t[15],10,-30611744),u=o(u,l,s,a,t[6],15,-1560198380),a=o(a,u,l,s,t[13],21,1309151649),s=o(s,a,u,l,t[4],6,-145523070),l=o(l,s,a,u,t[11],10,-1120210379),u=o(u,l,s,a,t[2],15,718787259),a=o(a,u,l,s,t[9],21,-343485551),e[0]=c(s,e[0]),e[1]=c(a,e[1]),e[2]=c(u,e[2]),e[3]=c(l,e[3])}function a(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function u(e){for(var t="",r=0;r<4;r++)t+=l[e>>8*r+4&15]+l[e>>8*r&15];return t}var c=function(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r},l="0123456789abcdef".split("");return function(e){for(var t=e.length,r=0;r<t;r++)e[r]=u(e[r]);return e.join("")}(function(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=r;t+=64)s(n,a(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=e.length;for(t=0;t<o;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(s(n,i),t=16;t--;)i[t]=0;return i[14]=8*r,s(n,i),n}(e))}function reMatches$$1(e,t){var r=[];return e.replace(t,function(e,t){r.push({match:e,start:t,end:t+e.length})}),r}function stringMatch(e,t,r){function n(e,t,r,n,i){return n=n||0,i=i||0,[e.slice(0,t),e.slice(t+n,r-i),e.slice(r)]}function i(e,t){if(t.constructor!==RegExp){if(0===e.indexOf(t))return{match:t,rest:e.slice(t.length)};for(var r=0;r<t.length;r++)if(t[r]!=e[r])return{match:null,pos:r};return{match:null}}var n=reMatches$$1(e,t);return n&&n.length&&0===n[0].start?{match:n[0].match,rest:e.slice(n[0].end)}:{match:null}}function o(e,t){for(var r=0,n=0;n<t.length;n++){var o=t[n],s=i(e,o);if(!s.match)return{matched:!1,pos:r+(s.pos||0),pattern:o};r+=s.match.length,e=s.rest}return e.length?{matched:!1,pos:r}:{matched:!0}}function s(e){var t=reMatches$$1(e,/__\//g),r=reMatches$$1(e,/\/__/g);if(t.length!==r.length)throw new Error("pattern invalid: "+e+" cannot be split into __/.../__ embedded RegExps\nstarts: "+JSON.stringify(t)+"\nvs ends:\n"+JSON.stringify(r));var i=0;return t.reduce(function(e,t,o){var s=r[o],a=e.pop(),u=n(a,t.start-i,s.end-i,3,3);u[0].length&&(e.push(u[0]),i+=u[0].length);try{u[1].length&&(e.push(new RegExp(u[1])),i+=u[1].length+3+3)}catch(e){throw new Error("Cannot create pattern re from: "+inspect(u))}return u[2].length&&e.push(u[2]),e},[e])}return r=r||{},r.normalizeWhiteSpace&&(e=e.replace(/\s+/g," ")),r.ignoreIndent&&(e=e.replace(/^\s+/gm,""),t=t.replace(/^\s+/gm,"")),e==t?{matched:!0}:function(e,t){var r=s(t),n=o(e,r);return n.matched?n:(n.error=e.slice(0,n.pos)+"<--UNMATCHED--\x3e"+e.slice(n.pos),n)}(e,t)}function peekRight(e,t,r){if(e=e.slice(t),"string"==typeof r){var n=e.indexOf(r);return-1===n?null:n+t}if(r.constructor===RegExp){var i=reMatches$$1(e,r);return i[0]?i[0].start:null}return null}function peekLeft(e,t,r){if(e=e.slice(0,t),"string"==typeof r){var n=e.lastIndexOf(r);return-1===n?null:n}if(r.constructor===RegExp){var i=reMatches$$1(e,r);return last(i)?last(i).start:null}return null}function lineIndexComputer(e){var t=lineRanges(e);return function(e){for(var r=0;r<t.length;r++){var n=t[r];if(e>=n[0]&&e<n[1])return r}return-1}}function lineNumberToIndexesComputer(e){return function(t){return lineRanges(e)[t]}}function lineRanges(e){for(var t=0,r=0,n=lines(e),i=[],o=0;o<n.length;o++){r=t+n[o].length+1,i.push([t,r]),t=r}return i}function findLineWithIndexInLineRanges(e,t){var r=e.length;if(0===r)return-1;for(var n=0,i=r;;){var o=n+Math.floor((i-n)/2),s=slicedToArray(e[o],2),a=s[0],u=s[1];if(t<a){if(0===o)return-1;i=o}else{if(!(t>u))return o;n=o}}return-1}function diff(e,t){return"undefined"==typeof JsDiff?"diff not supported":JsDiff.convertChangesToXML(JsDiff.diffWordsWithSpace(e,t))}function empty(e){return""==e}function startsWithVowel(e){var t=e[0];return"A"===t||"E"===t||"I"===t||"O"===t||"U"===t||"a"===t||"e"===t||"i"===t||"o"===t||"u"===t||!1}function withDecimalPrecision(e,t){var r=parseFloat(e);return isNaN(r)?e:r.toFixed(t)}function capitalize(e){return e.length?e.charAt(0).toUpperCase()+e.slice(1):e}function camelCaseString(e){return e.split(" ").invoke("capitalize").join("")}function camelize(e){var t=e.split("-"),r=t.length;if(1==r)return t[0];for(var n="-"==e.charAt(0)?t[0].charAt(0).toUpperCase()+t[0].substring(1):t[0],i=1;i<r;i++)n+=t[i].charAt(0).toUpperCase()+t[i].substring(1);return n}function truncate(e,t,r){return t=t||30,r=void 0===r?"...":r,e.length>t?e.slice(0,t-r.length)+r:String(e)}function truncateLeft(e,t,r){return t=t||30,r=void 0===r?"...":r,e.length>t?r+e.slice(-t):String(e)}function regExpEscape(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function succ(e){return e.slice(0,e.length-1)+String.fromCharCode(e.charCodeAt(e.length-1)+1)}function digitValue(e){return e.charCodeAt(0)-"0".charCodeAt(0)}function applyChange(e,t){return"insert"===t.action?e.slice(0,t.start)+t.lines.join("\n")+e.slice(t.start):"remove"===t.action?e.slice(0,t.start)+e.slice(t.end):e}function applyChanges(e,t){return t.reduce(function(t,r){return applyChange(e,r)},e)}function levenshtein(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var r,n,i,o,s,a;for(e.length>t.length&&(r=e,e=t,t=r),a=Array(e.length+1),n=0;n<=e.length;n++)a[n]=n;for(n=1;n<=t.length;n++){for(o=n,i=1;i<=e.length;i++)s=t[n-1]===e[i-1]?a[i-1]:Math.min(a[i-1]+1,Math.min(o+1,a[i]+1)),a[i-1]=o,o=s;a[e.length]=o}return a[e.length]}function random(e,t){return e=e||0,t=t||100,Math.round(Math.random()*(t-e)+e)}function randomSmallerInteger(e){return Math.floor(Math.random()*e)}function humanReadableByteSize(e){function t(e){return Math.round(100*e)/100}return e<1e3?String(t(e))+"B":(e/=1024)<1e3?String(t(e))+"KB":(e/=1024,String(t(e))+"MB")}function average(e){return e.reduce(function(e,t){return e+t},0)/e.length}function median(e){var t=e.sort(function(e,t){return t-e}),r=e.length;return r%2==0?.5*(t[r/2-1]+t[r/2]):t[(r-1)/2]}function between(e,t,r,n){n=n||0;var i,o;return t<r?(i=t,o=r):(o=t,i=r),o-e+n>=0&&i-e-n<=0}function sort$1(e){return e.sort(function(e,t){return e-t})}function parseLength(e,t){t=t||"px";var r=e.match(/([0-9\.]+)\s*(.*)/);if(r&&r[1]){var n=parseFloat(r[1]),i=r[2];return convertLength(n,i,t)}}function roundTo(e,t){return t=1/t,Math.round(e*t)/t}function detent(e,t,r,n){var i=roundTo(e,r);return Math.abs(e-i)<t/2?i:n?e:i+(e-(e<i?i-t/2:i+t/2))*r/(r-t)}function toDegrees(e){return 180*e/Math.PI%360}function toRadians(e){return e/180*Math.PI}function backoff(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4,n=Math.min(r,t*Math.pow(2,e)),i=n/2+Math.round(Math.random()*(n/2));return Math.min(r,t+Math.random()*(3*i-t))}function all$2(e,t){var r=[];for(var n in e)!e.__lookupGetter__(n)&&"function"==typeof e[n]||t&&!t(n,e)||r.push(n);return r}function allOwnPropertiesOrFunctions(e,t){return Object.getOwnPropertyNames(e).reduce(function(r,n){return t&&!t(e,n)||r.push(n),r},[])}function own$1(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&(e.__lookupGetter__(r)||"function"!==e[r])&&t.push(r);return t}function forEachOwn(e,t,r){var n=[];for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];"function"!==o&&n.push(t.call(r||this,i,o))}return n}function nameFor(e,t){for(var r in e)if(e[r]===t)return r}function values$1(e){var t=[];for(var r in e)t.push(e[r]);return t}function ownValues(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}function any$1(e,t){for(var r in e)if(t(e,r))return!0;return!1}function allProperties(e,t){var r=[];for(var n in e)t&&!t(e,n)||r.push(n);return r}function hash(e){return Object.keys(e).sort().join("").hashCode()}function format$1(e,t,r){return dateFormat(e,t,r)}function equals$3(e,t){return t&&t instanceof Date&&t.getTime()===e.getTime()}function relativeTo(e,t){if(!(t instanceof Date))return"";if(t<e)return"";if(t===e)return"now";var r="min",n="sec",i="hour",o="day",s=t-e,a=Math.round(s/1e3),u=a%60,c=Math.floor(a/60)%60,l=Math.floor(a/60/60)%24,p=Math.floor(a/60/60/24),f=[];return p>0&&(f.push(p),p>1&&(o+="s"),f.push(o)),l>0&&p<2&&(f.push(l),l>1&&(i+="s"),f.push(i)),c>0&&l<3&&0===p&&(f.push(c),c>1&&(r+="s"),f.push(r)),u>0&&c<3&&0===l&&0===p&&(f.push(u),u>1&&(n+="s"),f.push(n)),f.join(" ")}function promise(e){return"function"==typeof e?promise.convertCallbackFun(e):Promise.resolve(e)}function delay$1(e,t){return new Promise(function(r){return setTimeout(r,e,t)})}function delayReject(e,t){return new Promise(function(r,n){return setTimeout(n,e,t)})}function timeout(e,t){return new Promise(function(r,n){var i=!1;setTimeout(function(){return!i&&(i=!0)&&n(new Error("Promise timed out"))},e),t.then(function(e){return!i&&(i=!0)&&r(e)},function(e){return!i&&(i=!0)&&n(e)})})}function waitFor$1(e,t,r){return"function"==typeof e&&(t=e,e=void 0),new Promise(function(n,i){var o=!1,s=!1,a=void 0,u=void 0,c=setInterval(function(){if(o)return void clearInterval(c);try{u=t()}catch(e){a=e}if(u||a||s)return o=!0,clearInterval(c),a?i(a):s?void 0===r?i(new Error("timeout")):n(r):n(u)},10);"number"==typeof e&&setTimeout(function(){return s=!0},e)})}function deferred(){var e,t,r=new Promise(function(r,n){e=r,t=n});return{resolve:e,reject:t,promise:r}}function convertCallbackFun(e){return function(){var t=Array.from(arguments),r=this;return new Promise(function(n,i){t.push(function(e,t){return e?i(e):n(t)}),e.apply(r,t)})}}function convertCallbackFunWithManyArgs(e){return function(){var t=Array.from(arguments),r=this;return new Promise(function(n,i){t.push(function(){var e=Array.from(arguments),t=e.shift();return t?i(t):n(e)}),e.apply(r,t)})}}function _chainResolveNext(e,t,r,n,i){var o=e.shift();if(o)try{Promise.resolve(o(t,r)).then(function(t){return _chainResolveNext(e,t,r,n,i)}).catch(function(e){i(e)})}catch(e){i(e)}else n(t)}function chain$1(e){return new Promise(function(t,r){return _chainResolveNext(e.slice(),void 0,{},t,r)})}function promise_finally(e,t){return Promise.resolve(e).then(function(e){try{t()}catch(e){console.error("Error in promise finally: "+e.stack||e)}return e}).catch(function(e){try{t()}catch(e){console.error("Error in promise finally: "+e.stack||e)}throw e})}function Path(e,t){return e instanceof Path?e:this instanceof Path?(this.setSplitter(t||"."),void this.fromPath(e)):new Path(e,t)}function clone$2(e){var t={};for(var r in e)t[r]=e[r].slice();return t}function without$1(e,t){var r={};for(var n in e)if(!t.includes(n)){r[n]=[];for(var i=e[n],o=0;o<i.length;o++){var s=i[o];t.includes(s)||r[n].push(s)}}return r}function hull(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;if(!Array.isArray(e[t]))return[];for(var i=[],o={},s={},a=0;a<r.length;a++)s[r[a]]=!0;for(var u=e[t].slice(),c={},l=u.length;l--;){var p=u[l];p in s?u.splice(l,1):c[p]=1}if(r)for(;;){if(0===u.length)break;for(var f=0;f<u.length;f++){var h=u.shift();if(!(h in o||h in s)){var d=c[h]||0;if(!(d>n)){i.push(h),o[h]=!0;var m=e[h];if(m)for(var y=0;y<m.length;y++){var g=m[y];g in o||g in c||(c[g]=d+1,u.push(g))}}}}}return i}function subgraphReachableBy(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;r&&(e=without$1(e,r));for(var i=[t],o=0,s={};i.length&&o++<n;){var a=i.shift();if(!s[a]){var u=e[a]||[];s[a]=u,i.push.apply(i,toConsumableArray(u))}}return s}function invert(e){var t={};for(var r in e)for(var n=e[r],i=0;i<n.length;i++){var o=n[i];t[o]?t[o].push(r):t[o]=[r]}return t}function sortByReference(e,t){for(var r=[t].concat(hull(e,t)),n=[],i=[];n.length!==r.length;){var o=withoutAll(r,n).reduce(function(t,r){return t[r]=withoutAll(e[r]||[],n).length,t},{}),s=withoutAll(r,n).reduce(function(e,t){return o[t]<=o[e]?t:e});0===o[s]?i.push(Object.keys(o).filter(function(e){return 0===o[e]})):i.push([s]),n=flatten(i)}return i}function reduce$1(e,t,r,n,i,o){function s(r){if(!(a.indexOf(r)>-1)){n=e.call(o,n,r,u++),a=a.concat([r]);withoutAll(t[r]||[],a).forEach(function(e){return s(e)})}}var a=i||[],u=0;return s(r),n}function random$1(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t={},r=range(1,e).map(String),n=0;n<r.length;n++){var i=Math.floor(Math.random()*e);t[r[n]]=shuffle(r).slice(0,i)}return t}function isInterval(e){return Array.isArray(e)&&e.length>=2&&e[0]<=e[1]}function sort$2(e){return e.sort(compare)}function compare(e,t){return e[0]<t[0]?e[1]<t[0]?-3:e[1]===t[0]?-2:-1:e[0]===t[0]?e[1]===t[1]?0:e[1]<t[1]?-1:1:-1*compare(t,e)}function coalesce(e,t,r){switch(this.compare(e,t)){case-3:case 3:return null;case 0:return r&&r(e,t,e),e;case 2:case 1:var n=e;e=t,t=n;case-2:case-1:var i=[e[0],Math.max(e[1],t[1])];return r&&r(e,t,i),i;default:throw new Error("Interval compare failed")}}function coalesceOverlapping(e,t){for(var r=[],n=e.length;n>0;){var i=e.shift();n--;for(var o=0;o<n;o++){var s=e[o],a=coalesce(i,s,t);a&&(i=a,e.splice(o,1),n--,o--)}r.push(i)}return this.sort(r)}function mergeOverlapping(e,t,r){for(var n=[];e.length>0;){var i=e.shift(),o=t.map(function(e){var t=compare(i,e);return-1===t||0===t||1===t});n.push(r(i,o[0])),n.push(i)}return n}function intervalsInRangeDo(e,t,r,n,i,o){o=o||GLOBAL$2,r=this.sort(r);for(var s,a=[];s=r.shift();)if(!(s[1]<e)){s[0]<e&&(s=Array.prototype.slice.call(s),s[0]=e);var u=t<s[0]?t:s[0];if(e<u&&a.push(n.call(o,[e,u],!0)),t<s[1]&&(s=Array.prototype.slice.call(s),s[1]=t),s[0]===s[1]){var c;i&&(c=a.slice(-1)[0])&&i.call(o,c,s,c)}else a.push(n.call(o,s,!1));if((e=s[1])>=t)break}return e<t&&a.push(n.call(o,[e,t],!0)),a}function intervalsInbetween(e,t,r){return intervalsInRangeDo(e,t,coalesceOverlapping(Array.prototype.slice.call(r)),function(e,t){return t?e:null}).filter(Boolean)}function mapToMatchingIndexes(e,t){var r,n,i=0;return t.map(function(t){for(;(n=e[i])&&n[0]<t[0];)i++;if(n&&n[0]===t[0]){for(r=i;(n=e[r])&&n[1]<t[1];)r++;if(n&&n[1]===t[1])return range(i,r)}return[]})}function create(e,t,r){var n=r||0;return n+t>e.length&&(n-=n+t-e.length),{array:e,from:n,to:n+t}}function toArray$4(e){return e.array.slice(e.from,e.to)}function originalToProjectedIndex(e,t){return t<e.from||t>=e.to?null:t-e.from}function projectedToOriginalIndex(e,t){return t<0||t>e.to-e.from?null:e.from+t}function transformToIncludeIndex(e,t){if(!(t in e.array))return null;var r=0;return t<e.from&&(r=-e.from+t),t>=e.to&&(r=t-e.to+1),0===r?e:create(e.array,e.to-e.from,e.from+r)}function get$2(e,t,r){var n=e[t];return n?n[r]:void 0}function set$2(e,t,r,n){var i=e[t];return i&&(i[r]=n),n}function getRow(e,t){return e[t]}function setRow(e,t,r){return e[t]=r}function getCol(e,t){return e.reduce(function(e,r){return e.push(r[t]),e},[])}function setCol(e,t,r){return e.map(function(e,n){return e[t]?e[t]=r[n]:void 0})}function create$1(e,t,r){for(var n=new Array(e);e>0;)n[--e]=withN(t,r);return n}function mapCreate(e,t,r,n){for(var i=new Array(e),o=0;o<e;o++){i[o]=new Array(t);for(var s=0;s<t;s++)i[o][s]=r.call(n||this,o,s)}return i}function forEach$2(e,t,r){e.forEach(function(e,n){e.forEach(function(e,i){t.call(r||this,e,n,i)})})}function map$2(e,t,r){var n=new Array(e.length);return e.forEach(function(e,i){n[i]=new Array(e.length),e.forEach(function(e,o){n[i][o]=t.call(r||this,e,i,o)})}),n}function toObjects(e){for(var t=e[0],r=new Array(e.length-1),n=1;n<e.length;n++)for(var i=r[n-1]={},o=0;o<t.length;o++)i[t[o]]=e[n][o];return r}function tableFromObjects(e,t){Array.isArray(e)||(e=[e]);var r=[[]],n=r[0],i=e.reduce(function(e,t){return e.concat([Object.keys(t).reduce(function(e,r){var i=n.indexOf(r);return-1===i&&(i=n.length,n.push(r)),e[i]=t[r],e},[])])},[]);return t=1===arguments.length?null:t,i.forEach(function(e){for(var r=0;r<n.length;r++)e[r]||(e[r]=t)}),r.concat(i)}function prewalk(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{i:0},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=n.i++;t(e,o,i),(r(e,o,i)||[]).forEach(function(e){return prewalk(e,t,r,n,i+1)})}function postwalk(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{i:0},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=n.i++;(r(e,o,i)||[]).forEach(function(e){return postwalk(e,t,r,n,i)}),t(e,o,i)}function find(e,t,r){if(t(e))return e;var n=r(e);if(n&&n.length)for(var i=0;i<n.length;i++){var o=find(n[i],t,r);if(o)return o}}function filter$1(e,t,r){var n=[];return t(e)&&n.push(e),n.concat(flatten((r(e)||[]).map(function(e){return filter$1(e,t,r)})))}function map$3(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return[t(e,n)].concat(flatten((r(e)||[]).map(function(e){return map$3(e,t,r,n+1)})))}function mapTree(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=(r(e)||[]).map(function(e){return mapTree(e,t,r,n+1)});return t(e,i,n)}function create$2(e){var t=[{name:"send",args:["msg","callback"]},{name:"listen",args:["messenger","callback"]},{name:"close",args:["messenger","callback"]},{name:"isOnline",args:[]}],r=t.map(function(e){return e.name}).concat(["id","sendHeartbeat","heartbeatInterval","ignoreUnknownMessages","allowConcurrentSends","sendTimeout","services"]);t.forEach(function(t){if(!e[t.name]){var r="message implementation needs function "+t.name+"("+t.args.join(",")+")";throw new Error(r)}});var n=e.sendHeartbeat&&(e.heartbeatInterval||1e3),i=!!e.hasOwnProperty("ignoreUnknownMessages")&&e.ignoreUnknownMessages,o={_outgoing:[],_inflight:[],_id:e.id||newUUID(),_ignoreUnknownMessages:i,_services:{},_messageCounter:0,_messageResponseCallbacks:{},_whenOnlineCallbacks:[],_statusWatcherProc:null,_startHeartbeatProcessProc:null,_listenInProgress:null,_heartbeatInterval:n,_status:OFFLINE,_runWhenOnlineCallbacks:function(){var e=o._whenOnlineCallbacks.slice();o._whenOnlineCallbacks=[],e.forEach(function(e){try{e.call(null,null,o)}catch(e){console.error("error in _runWhenOnlineCallbacks: %s",e)}})},_ensureStatusWatcher:function(){o._statusWatcherProc||(o._statusWatcherProc=setInterval(function(){o.isOnline()&&o._whenOnlineCallbacks.length&&o._runWhenOnlineCallbacks();var e=o._status;o._status=o.isOnline()?ONLINE:OFFLINE,o._status!==ONLINE&&o._statusWatcherProc&&o.reconnect(),o._status!==e&&o.onStatusChange&&o.onStatusChange()},20))},_addMissingData:function(e){if(!e.target)throw new Error("Message needs target!");if(!e.action)throw new Error("Message needs action!");return e.data||(e.data=null),e.messageId||(e.messageId=newUUID()),e.sender=o.id(),e.messageIndex=o._messageCounter++,e},_queueSend:function(e,t){if(t&&"function"!=typeof t)throw new Error("Expecing a when send callback, got: "+t);o._outgoing.push([e,t])},_deliverMessageQueue:function(){function t(t){if(-1!==o._inflight.indexOf(t)){var n=t[0],i=t[1];i&&(o._messageResponseCallbacks[n.messageId]=i),e.send.call(o,n,function(e){remove(o._inflight,t),e&&r(e,t),o._deliverMessageQueue()})}}function r(e,t){var r=t[0],n=t[1];delete o._messageResponseCallbacks[r.messageId],console.error(e),n&&n(e)}if(e.allowConcurrentSends||!o._inflight.length){var n=o._outgoing.shift();n&&(o._inflight.push(n),o.isOnline()?t(n):o.whenOnline(function(){t(n)}),function(t){"number"==typeof e.sendTimeout&&setTimeout(function(){-1!==o._inflight.indexOf(t)&&(remove(o._inflight,t),r(new Error("Timeout sending message"),t),o._deliverMessageQueue())},e.sendTimeout)}(n),e.allowConcurrentSends&&o._outgoing.length&&o._deliverMessageQueue())}},_startHeartbeatProcess:function(){o._startHeartbeatProcessProc||(o._startHeartbeatProcessProc=setTimeout(function(){e.sendHeartbeat.call(o,function(e,t){o._startHeartbeatProcessProc=null,o._startHeartbeatProcess()})},o._heartbeatInterval))},id:function(){return o._id},isOnline:function(){return e.isOnline.call(o)},heartbeatEnabled:function(){return"number"==typeof o._heartbeatInterval},listen:function(t){if(!o._listenInProgress)return o._listenInProgress=!0,o._ensureStatusWatcher(),e.listen.call(o,function(e){o._listenInProgress=null,t&&t(e),o.heartbeatEnabled()&&o._startHeartbeatProcess()})},reconnect:function(){if(o._status!==ONLINE)return o.listen(),o},send:function(e,t){return o._addMissingData(e),o._queueSend(e,t),o._deliverMessageQueue(),e},sendTo:function(e,t,r,n){var i={target:e,action:t,data:r};return o.send(i,n)},onMessage:function(e){if(o.emit("message",e),e.inResponseTo){var t=o._messageResponseCallbacks[e.inResponseTo];t&&!e.expectMoreResponses&&delete o._messageResponseCallbacks[e.inResponseTo],t&&t(null,e)}else{var r=o._services[e.action];if(r)try{r.call(null,e,o)}catch(t){var n=String(t.stack||t);console.error("Error invoking service: "+n),o.answer(e,{error:n})}else if(!o._ignoreUnknownMessages){var i=new Error("messageNotUnderstood: "+e.action);o.answer(e,{error:String(i)})}}},answer:function(e,t,r,n){"function"==typeof r&&(n=r,r=!1);var i={target:e.sender,action:e.action+"Result",inResponseTo:e.messageId,data:t};return r&&(i.expectMoreResponses=!0),o.send(i,n)},close:function(t){return clearInterval(o._statusWatcherProc),o._statusWatcherProc=null,e.close.call(o,function(e){o._status=OFFLINE,t&&t(e)}),o},whenOnline:function(e){return o._whenOnlineCallbacks.push(e),o.isOnline()&&o._runWhenOnlineCallbacks(),o},outgoingMessages:function(){return pluck(o._inflight.concat(o._outgoing),0)},addServices:function(e){return Object.assign(o._services,e),o}};e.services&&o.addServices(e.services),makeEmitter(o);for(var s in e)-1===r.indexOf(s)&&e.hasOwnProperty(s)&&(o[s]=e[s]);return o}function fork(e,t,r){r||(r=t,t=e,e=null),e=e||{};var n=e.args||[],i=create$3(e);return i.run.apply(i,[t].concat(n).concat(r)),i}function create$3(e){e=e||{},e.useMessenger=!0;var t=e.workerId||newUUID(),r=create$2({sendTimeout:5e3,send:function(e,t){r.worker.postMessage(e),t()},listen:function(t){var n=r.worker=isNodejs?NodejsWorker.create(e):BrowserWorker.create(e);n.on("message",function(e){r.onMessage(e)}),n.on("ready",function(){NodejsWorker.debug&&console.log("WORKER READY!!!")}),n.on("close",function(){NodejsWorker.debug&&console.log("WORKER CLOSED...!!!")}),n.once("ready",t)},close:function(e){return r.worker.ready?r.sendTo(t,"close",{},function(t,n){if(t=t||n.data.error,t&&console.error("Error in worker messenger close: "+t.stack||t),t)e(t);else{var i=!1;r.worker.once("close",function(){i=!0}),waitFor(1e3,function(){return!!i},e)}}):e(null)},isOnline:function(){return r.worker&&r.worker.ready}});return Object.assign(r,{eval:function(e,n){r.sendTo(t,"remoteEval",{expr:e},function(e,t){n(e,t?t.data.result:null)})},run:function(){var e=Array.prototype.slice.call(arguments),n=e.shift(),i=e.pop();if("function"!=typeof n)throw new Error("run: no function that should run in worker passed");if("function"!=typeof i)throw new Error("run: no callback passed");return r.sendTo(t,"run",{func:String(n),args:e},function(e,t){i(e||t.data.error,t?t.data.result:null)})}}),r.listen(),r}function createLivelyLangObject(){return{chain:chain$$1,noConflict:noConflict,installGlobals:installGlobals,uninstallGlobals:uninstallGlobals,globalInterfaceSpec:globalInterfaceSpec,toString:function(){return"[object lively.lang]"}}}function chain$$1(e){if(!e)return e;if(Array.isArray(e))return createChain(arr,e);if("Date"===e.constructor.name)return createChain(date,e);switch(void 0===e?"undefined":_typeof(e)){case"string":return createChain(string,e);case"object":return createChain(obj,e);case"function":return createChain(fun,e);case"number":return createChain(num,e)}throw new Error("Chain for object "+e+" ("+e.constructor.name+") no supported")}function createChain(e,t){return Object.keys(e).reduce(function(r,n){return r[n]=function(){var r=Array.prototype.slice.call(arguments);return chain$$1(e[n].apply(null,[t].concat(r)))},r},{value:function(){return t}})}function noConflict(){if(!isNode){
livelyLang._prevLivelyGlobal?delete GLOBAL.lively.lang:delete GLOBAL.lively}return livelyLang}function installGlobals(){Object.assign(livelyLang,{worker:worker,messenger:messenger,events:events,tree:tree,grid:grid,arrayProjection:arrayProjection,interval:interval,graph:graph,date:date,properties:properties,obj:obj,arr:arr,fun:fun,num:num,string:string,Closure:Closure,promise:promise,Path:Path,Group:Group}),globalInterfaceSpec.forEach(function(e){if("installMethods"===e.action){var t=Path(e.target);t.isIn(GLOBAL)||t.set(GLOBAL,{},!0);var r=Path(e.sources[0]);e.methods.forEach(function(e){installProperty(r.concat([e]),t.concat([e]))}),e.alias&&e.alias.forEach(function(e){installProperty(r.concat([e[1]]),t.concat([e[0]]))})}else{if("installObject"!==e.action)throw new Error("Cannot deal with global setup action: "+e.action);var t=Path(e.target),n=Path(e.source).get(livelyLang);t.set(GLOBAL,n,!0)}})}function installProperty(e,t){if(!e.isIn(livelyLang)){var r=new Error("property not provided by lively.lang: "+e);throw console.error(r.stack||r),r}var n=e.get(livelyLang);if("function"==typeof n&&"prototype"===t.slice(-2,-1).toString()){var i=n;n=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this),i.apply(null,e)},n.toString=function(){return i.toString()}}t.set(GLOBAL,n,!0)}function uninstallGlobals(){globalInterfaceSpec.forEach(function(e){if("installMethods"===e.action){var t=Path(e.target),r=Path(e.source).get(livelyLang),n=t.get(GLOBAL);if(!n)return;e.methods.filter(function(e){return r===n[e]}).forEach(function(e){delete n[e]}),e.alias&&e.alias.filter(function(e){return r===n[e]}).forEach(function(e){delete n[e[0]]})}else{if("installObject"!==e.action)throw new Error("Cannot deal with global setup action: "+e.action);var t=Path(e.target);t.del(GLOBAL)}})}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),get$1=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(n)},set$1=function e(t,r,n,i){var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var s=Object.getPrototypeOf(t);null!==s&&e(s,r,n,i)}else if("value"in o&&o.writable)o.value=n;else{var a=o.set;void 0!==a&&a.call(i,n)}return n},slicedToArray=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},parameterRegex=/function[^\(]*\(([^\)]*)\)|\(?([^\)=]*)\)?\s*=>/,Closure=function(){function e(t,r,n,i){classCallCheck(this,e),this.originalFunc=t,this.varMapping=r||{},this.setFuncSource(n||t),this.setFuncProperties(t||i)}return createClass(e,null,[{key:"fromFunction",value:function(e,t){return new this(e,t||{})}},{key:"fromSource",value:function(e,t){return new this(null,t||{},e)}}]),createClass(e,[{key:"setFuncSource",value:function(e){return e="undefined"!=typeof lively&&lively.sourceTransform&&"function"==typeof lively.sourceTransform.stringifyFunctionWithoutToplevelRecorder?lively.sourceTransform.stringifyFunctionWithoutToplevelRecorder(e):String(e),this.source=e}},{key:"getFuncSource",value:function(){return this.source||this.setFuncSource(this.originalFunc)}},{key:"hasFuncSource",value:function(){return this.source&&!0}},{key:"getFunc",value:function(){return this.originalFunc||this.recreateFunc()}},{key:"getFuncProperties",value:function(){return this.funcProperties||(this.funcProperties={})}},{key:"setFuncProperties",value:function(e){var t=this.getFuncProperties();for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}},{key:"lookup",value:function(e){return this.varMapping[e]}},{key:"parameterNames",value:function(e){if("undefined"!=typeof lively&&lively.ast)return(lively.ast.parseFunction(e).params||[]).map(function(e){return"Identifier"===e.type?e.name:e.left&&"Identifier"===e.left.type?e.left.name:null}).filter(Boolean);var t=parameterRegex.exec(e);return t?(t[1]||t[2]||"").split(",").map(function(e){return e.trim()}):[]}},{key:"firstParameter",value:function(e){return this.parameterNames(e)[0]||null}},{key:"recreateFunc",value:function(){return this.recreateFuncFromSource(this.getFuncSource(),this.originalFunc)}},{key:"recreateFuncFromSource",value:function(e,t){var r=[],n="$super"===this.firstParameter(e);for(var i in this.varMapping)this.varMapping.hasOwnProperty(i)&&("this"!=i?r.push("var "+i+" = this.varMapping."+i+";\n"):!0);var o="";r.length>0&&(o+=r.join("\n")),n&&(o+="(function superWrapperForClosure() { return "),o+="("+e+")",n&&(o+=".apply(this, [$super.bind(this)].concat(Array.from(arguments))) })");try{var s=evalJS.call(this,o)||this.couldNotCreateFunc(o);return this.addFuncProperties(s),this.originalFunc=s,s}catch(e){var a="Cannot create function "+e+" src: "+o;throw console.error(a),new Error(a)}}},{key:"addFuncProperties",value:function(e){var t=this.getFuncProperties();for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);this.addClosureInformation(e)}},{key:"couldNotCreateFunc",value:function(e){var t="Could not recreate closure from source: \n"+e;return console.error(t),function(){throw new Error(t)}}},{key:"asFunction",value:function(){return this.recreateFunc()}},{key:"addClosureInformation",value:function(e){return e.hasLivelyClosure=!0,e.livelyClosure=this,e}},{key:"isLivelyClosure",get:function(){return!0}},{key:"doNotSerialize",get:function(){return["originalFunc"]}}]),e}(),_throttledByName={},_debouncedByName={},_queues={},_queueUntilCallbacks={},_eitherNameRegistry={},fun=Object.freeze({Empty:Empty,K:K,Null:Null,False:False,True:True,notYetImplemented:notYetImplemented,withNull:withNull,all:all,own:own,argumentNames:argumentNames,qualifiedMethodName:qualifiedMethodName,extractBody:extractBody,timeToRun:timeToRun,timeToRunN:timeToRunN$1,delay:delay,throttle:throttle,debounce:debounce,throttleNamed:throttleNamed,debounceNamed:debounceNamed,createQueue:createQueue,workerWithCallbackQueue:workerWithCallbackQueue,composeAsync:composeAsync,compose:compose,waitFor:waitFor,waitForAll:waitForAll,flip:flip,curry:curry,wrap:wrap,binds:binds,getOriginal:getOriginal,wrapperChain:wrapperChain,replaceMethodForOneCall:replaceMethodForOneCall,once:once,either:either,eitherNamed:eitherNamed,evalJS:evalJS,fromString:fromString,asScript:asScript,asScriptOf:asScriptOf,addToObject:addToObject,setLocalVarValue:setLocalVarValue,getVarMapping:getVarMapping,setProperty:setProperty,functionNames:functionNames,localFunctionNames:localFunctionNames,logErrors:logErrors,logCompletion:logCompletion,logCalls:logCalls,traceCalls:traceCalls,webkitStack:webkitStack}),Group=function(){function e(){classCallCheck(this,e)}return createClass(e,[{key:"toArray",value:function(){return this.reduceGroups(function(e,t,r){return e.concat([r])},[])}},{key:"forEach",value:function(e,t){var r=this;return Object.keys(r).forEach(function(n){r[n].forEach(e.bind(t,n))}),r}},{key:"forEachGroup",value:function(e,t){var r=this;return Object.keys(r).forEach(function(n){e.call(t,n,r[n])}),r}},{key:"map",value:function(t,r){var n=new e;return this.forEachGroup(function(e,i){n[e]=i.map(t.bind(r,e))}),n}},{key:"mapGroups",value:function(t,r){var n=new e;return this.forEachGroup(function(e,i){n[e]=t.call(r,e,i)}),n}},{key:"keys",value:function(){return Object.keys(this)}},{key:"reduceGroups",value:function(e,t,r){return this.forEachGroup(function(n,i){t=e.call(r,t,n,i)}),t}},{key:"count",value:function(){return this.reduceGroups(function(e,t,r){return e[t]=r.length,e},{})}}],[{key:"fromArray",value:function(t,r,n){for(var i=new e,o=0,s=t.length;o<s;o++){var a=r.call(n,t[o],o);i[a]||(i[a]=[]),i[a].push(t[o])}return i}},{key:"by",get:function(){return groupBy}}]),e}(),GLOBAL$1="undefined"!=typeof System?System.global:"undefined"!=typeof window?window:global,features$1={from:!!Array.from,filter:!!Array.prototype.filter,find:!!Array.prototype.find,findIndex:!!Array.prototype.findIndex,includes:!!Array.prototype.includes},from=features$1.from?Array.from:function(e){if(!e)return[];if(Array.isArray(e))return e;if(e.toArray)return e.toArray();for(var t=e.length,r=new Array(t);t--;)r[t]=e[t];return r},detect=features$1.find?function(e,t,r){return e.find(t,r)}:function(e,t,r){for(var n,i=0,o=e.length;i<o;i++)if(n=e[i],t.call(r,n,i))return n},findIndex=features$1.findIndex?function(e,t,r){return e.findIndex(t,r)}:function(e,t,r){var n=-1;return e.find(function(e,i){return n=i,t.call(e,r)})?n:-1},isArray$1=Array.isArray,includes$1=features$1.includes?function(e,t){return e.includes(t)}:function(e,t){return-1!==e.indexOf(t)},include$1=includes$1,permutations=function(){function e(t,r){return t.length?flatmap(t,function(n,i){return e(t.slice(0,i).concat(t.slice(i+1)),r.concat([n]))}):[r]}return function(t){return e(t,[])}}();features$1.from||(Array.from=from),features$1.filter||(Array.prototype.filter=function(e,t){return filter(this,e,t)}),features$1.find||(Array.prototype.find=function(e,t){return detect(this,e,t)}),features$1.findIndex||(Array.prototype.findIndex=function(e,t){return findIndex(this,e,t)}),features$1.includes||(Array.prototype.includes=function(e){return includes$1(this,e)});var arr=Object.freeze({range:range,from:from,withN:withN,genN:genN,filter:filter,detect:detect,findIndex:findIndex,findAndGet:findAndGet,filterByKey:filterByKey,grep:grep,mask:mask,reject:reject,rejectByKey:rejectByKey,without:without,withoutAll:withoutAll,uniq:uniq,uniqBy:uniqBy,uniqByKey:uniqByKey,compact:compact,mutableCompact:mutableCompact,forEach:forEach$1,zip:zip,flatten:flatten,flatmap:flatmap,interpose:interpose,delimWith:delimWith,map:map$1,invoke:invoke,pluck:pluck,reduce:reduce,reduceRight:reduceRight,isArray:isArray$1,includes:includes$1,include:include$1,some:some,every:every,equals:equals$2,deepEquals:deepEquals,isSorted:isSorted,sort:sort,sortBy:sortBy,sortByKey:sortByKey,reverse:reverse,reversed:reversed,reMatches:reMatches$1,first:first,last:last,intersect:intersect,union:union,pushAt:pushAt,removeAt:removeAt,remove:remove,pushAll:pushAll$1,pushAllAt:pushAllAt,pushIfNotIncluded:pushIfNotIncluded,replaceAt:replaceAt,clear:clear,isSubset:isSubset,doAndContinue:doAndContinue,nestedDelay:nestedDelay,forEachShowingProgress:forEachShowingProgress,swap:swap,rotate:rotate,groupBy:groupBy,groupByKey:groupByKey,partition:partition,batchify:batchify,toTuples:toTuples,permutations:permutations,combinationsPick:combinationsPick,combinations:combinations,take:take,drop:drop,takeWhile:takeWhile,dropWhile:dropWhile,shuffle:shuffle,max:max,min:min,sum:sum,count:count$1,size:size$1,histogram:histogram,clone:clone$1,toArray:toArray$3,each:each,all:all$1,any:any,collect:collect,findAll:findAll,inject:inject,mapAsyncSeries:mapAsyncSeries,mapAsync:mapAsync}),keys$1=Object.keys,obj=Object.freeze({isArray:isArray$$1,isElement:isElement,isFunction:isFunction,isBoolean:isBoolean,isString:isString,isNumber:isNumber,isUndefined:isUndefined,isRegExp:isRegExp,isObject:isObject,isPrimitive:isPrimitive,isEmpty:isEmpty,equals:equals$1,keys:keys$1,values:values,select:select,dissoc:dissoc,addScript:addScript,extend:extend,clone:clone$$1,extract:extract,inspect:inspect,merge:merge,deepMerge:deepMerge,inherit:inherit,valuesInPropertyHierarchy:valuesInPropertyHierarchy,mergePropertyInHierarchy:mergePropertyInHierarchy,sortKeysWithBeforeAndAfterConstraints:sortKeysWithBeforeAndAfterConstraints,deepCopy:deepCopy,typeStringOf:typeStringOf,shortPrintStringOf:shortPrintStringOf,isMutableType:isMutableType,safeToString:safeToString,asObject:asObject,newKeyIn:newKeyIn}),features={repeat:!!String.prototype.repeat,includes:!!String.prototype.includes,startsWith:!!String.prototype.startsWith,endsWith:!!String.prototype.endsWith},newUUIDTemplate="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",newUUIDRe=/[xy]/g,newUUIDReplacer=function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)},includes$$1=features.includes?function(e,t){return e.includes(t)}:function(e,t){return e.indexOf(t)>-1},include$$1=includes$$1,startsWith=features.startsWith?function(e,t){return e.startsWith(t)}:function(e,t){return 0===e.indexOf(t)},endsWith=features.endsWith?function(e,t){return e.endsWith(t)}:function(e,t){var r=e.length-t.length;return r>=0&&e.lastIndexOf(t)===r},times=features.repeat?function(e,t){return e.repeat(t)}:function(e,t){return t<1?"":new Array(t+1).join(e)},string=Object.freeze({format:format,formatFromArray:formatFromArray,indent:indent,minIndent:minIndent,changeIndent:changeIndent,quote:quote,print:print,printNested:printNested,pad:pad,printTable:printTable,printTree:printTree,toArray:toArray$1,lines:lines,paragraphs:paragraphs,nonEmptyLines:nonEmptyLines,tokens:tokens,tableize:tableize,unescapeCharacterEntities:unescapeCharacterEntities,toQueryParams:toQueryParams,joinPath:joinPath,newUUID:newUUID,createDataURI:createDataURI,hashCode:hashCode,md5:md5,reMatches:reMatches$$1,stringMatch:stringMatch,peekRight:peekRight,peekLeft:peekLeft,lineIndexComputer:lineIndexComputer,lineNumberToIndexesComputer:lineNumberToIndexesComputer,findLineWithIndexInLineRanges:findLineWithIndexInLineRanges,lineRanges:lineRanges,diff:diff,empty:empty,includes:includes$$1,include:include$$1,startsWith:startsWith,startsWithVowel:startsWithVowel,endsWith:endsWith,withDecimalPrecision:withDecimalPrecision,capitalize:capitalize,camelCaseString:camelCaseString,camelize:camelize,truncate:truncate,truncateLeft:truncateLeft,regExpEscape:regExpEscape,succ:succ,digitValue:digitValue,times:times,applyChange:applyChange,applyChanges:applyChanges,levenshtein:levenshtein}),normalRandom=function(e,t){var r,n=!1;return function(e,t){if(n)return n=!1,r*t+e;var i,o,s;do{i=2*Math.random()-1,o=2*Math.random()-1,s=i*i+o*o}while(s>=1||0==s);var a=Math.sqrt(-2*Math.log(s)/s);return r=o*a,n=!0,e+t*i*a}}(),convertLength=function(){function e(t,r){return"cm"===r?t:"mm"===r?.1*t:"in"===r?2.54*t:"px"===r?t*e(1/96,"in"):"pt"===r?t*e(1/72,"in"):"pc"===r?t*e(12,"pt"):void 0}return function t(r,n,i){return n===i?r:"cm"===i?e(r,n):"cm"===n?r/e(1,i):t(t(r,n,"cm"),"cm",i)}}(),num=Object.freeze({random:random,normalRandom:normalRandom,randomSmallerInteger:randomSmallerInteger,humanReadableByteSize:humanReadableByteSize,average:average,median:median,between:between,sort:sort$1,parseLength:parseLength,convertLength:convertLength,roundTo:roundTo,detent:detent,toDegrees:toDegrees,toRadians:toRadians,backoff:backoff}),properties=Object.freeze({all:all$2,allOwnPropertiesOrFunctions:allOwnPropertiesOrFunctions,own:own$1,forEachOwn:forEachOwn,nameFor:nameFor,values:values$1,ownValues:ownValues,any:any$1,allProperties:allProperties,hash:hash}),dateFormat=function(){var e=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,r=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g,i=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e};return function(o,s,a){var u=e;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(o)||/\d/.test(o)||(s=o,o=void 0),o=o?new Date(o):new Date,isNaN(o))throw SyntaxError("invalid date");s=String(u.masks[s]||s||u.masks.default),"UTC:"==s.slice(0,4)&&(s=s.slice(4),a=!0);var c=a?"getUTC":"get",l=o[c+"Date"](),p=o[c+"Day"](),f=o[c+"Month"](),h=o[c+"FullYear"](),d=o[c+"Hours"](),m=o[c+"Minutes"](),y=o[c+"Seconds"](),g=o[c+"Milliseconds"](),v=a?0:o.getTimezoneOffset(),b={d:l,dd:i(l),ddd:u.i18n.dayNames[p],dddd:u.i18n.dayNames[p+7],m:f+1,mm:i(f+1),mmm:u.i18n.monthNames[f],mmmm:u.i18n.monthNames[f+12],yy:String(h).slice(2),yyyy:h,h:d%12||12,hh:i(d%12||12),H:d,HH:i(d),M:m,MM:i(m),s:y,ss:i(y),l:i(g,3),L:i(g>99?Math.round(g/10):g),t:d<12?"a":"p",tt:d<12?"am":"pm",T:d<12?"A":"P",TT:d<12?"AM":"PM",Z:a?"UTC":(String(o).match(r)||[""]).pop().replace(n,""),o:(v>0?"-":"+")+i(100*Math.floor(Math.abs(v)/60)+Math.abs(v)%60,4),S:["th","st","nd","rd"][l%10>3?0:(l%100-l%10!=10)*l%10]};return s.replace(t,function(e){return e in b?b[e]:e.slice(1,e.length-1)})}}();return e.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},e.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},e}(),date=Object.freeze({format:format$1,equals:equals$3,relativeTo:relativeTo});Object.assign(promise,{delay:delay$1,delayReject:delayReject,timeout:timeout,waitFor:waitFor$1,deferred:deferred,convertCallbackFun:convertCallbackFun,convertCallbackFunWithManyArgs:convertCallbackFunWithManyArgs,chain:chain$1,finally:promise_finally}),Object.assign(Path.prototype,{get isPathAccessor(){return!0},fromPath:function(e){return"string"==typeof e&&""!==e&&e!==this.splitter?(this._parts=e.split(this.splitter),this._path=e):Array.isArray(e)?(this._parts=[].concat(e),this._path=e.join(this.splitter)):(this._parts=[],this._path=""),this},setSplitter:function(e){return e&&(this.splitter=e),this},parts:function(){return this._parts},size:function(){return this._parts.length},slice:function(e,t){return Path(this.parts().slice(e,t))},normalizePath:function(){return this._path},isRoot:function(e){return 0===this._parts.length},isIn:function(e){if(this.isRoot())return!0;var t=this.get(e,-1);return t&&t.hasOwnProperty(this._parts[this._parts.length-1])},equals:function(e){return e&&e.isPathAccessor&&this.parts().equals(e.parts())},isParentPathOf:function(e){e=e&&e.isPathAccessor?e:Path(e);for(var t=this.parts(),r=e.parts(),n=0;n<t.length;n++)if(t[n]!=r[n])return!1;return!0},relativePathTo:function(e){return e=Path(e),this.isParentPathOf(e)?e.slice(this.size(),e.size()):void 0},del:function(e){if(this.isRoot())return!1;for(var t=e,r=0;r<this._parts.length-1;r++){var n=this._parts[r];if(!t.hasOwnProperty(n))return!1;t=t[n]}return delete t[this._parts[this._parts.length-1]]},withParentAndKeyDo:function(e,t,r){if(this.isRoot())return r(null,null);for(var n=e,i=0;i<this._parts.length-1;i++){var o=this._parts[i];if(!n.hasOwnProperty(o)||"object"!==_typeof(n[o])&&"function"!=typeof n[o]){if(!t)return r(null,o);n=n[o]={}}else n=n[o]}return r(n,this._parts[this._parts.length-1])},set:function(e,t,r){return this.withParentAndKeyDo(e,r,function(e,r){return e?e[r]=t:void 0})},defineProperty:function(e,t,r){return this.withParentAndKeyDo(e,r,function(e,r){return e?Object.defineProperty(e,r,t):void 0})},get:function(e,t){return(t?this._parts.slice(0,t):this._parts).reduce(function(e,t){return e?e[t]:e},e)},concat:function(e,t){return Path(this.parts().concat(Path(e,t).parts()))},toString:function(){return this.normalizePath()},serializeExpr:function(){return"lively.lang.Path("+inspect(this.parts())+")"},watch:function(e){if(e&&!this.isRoot()){var t=e.target,r=this.get(t,-1),n=this.parts().slice(-1)[0],i="propertyWatcher$"+n,o=r&&r.hasOwnProperty(i),s=e.uninstall,a=(e.haltWhenChanged,e.showStack),u=r.__lookupGetter__(n),c=r.__lookupSetter__(n);if(t&&n&&r){if(s){if(!o)return;delete r[n],r[n]=r[i],delete r[i];var l="Watcher for "+r+"."+n+" uninstalled";return void show(l)}if(o){var l="Watcher for "+r+"."+n+" already installed";return void show(l)}if(u||c){var l=r+'["'+n+'"] is a getter/setter, watching not support';return console.log(l),void("undefined"==typeof show&&show(l))}r[i]=r[n],r.__defineSetter__(n,function(t){var o=r[i];e.onSet&&e.onSet(t,o);var s=r+"."+n+" changed: "+o+" -> "+t;return a&&(s+="\n"+("undefined"!=typeof lively?lively.printStack():console.trace())),e.verbose&&(console.log(s),"undefined"!=typeof show&&show(s)),r[i]=t}),r.__defineGetter__(n,function(){return e.onGet&&e.onGet(r[i]),r[i]});var l="Watcher for "+r+"."+n+" installed";console.log(l),"undefined"!=typeof show&&show(l)}}},debugFunctionWrapper:function(e){var t=e.target,r=this.get(t,-1),n=this.parts().slice(-1)[0],i=e.uninstall,o=(void 0===e.haltWhenChanged||e.haltWhenChanged,e.showStack),s=r&&n&&r[n],a=s&&s.isDebugFunctionWrapper;if(t&&n&&s&&r){if(i){if(!a)return;r[n]=r[n].debugTargetFunction;var u="Uninstalled debugFunctionWrapper for "+r+"."+n;return console.log(u),"undefined"!=typeof show&&show(u),void show(u)}if(a){var u="debugFunctionWrapper for "+r+"."+n+" already installed";return console.log(u),void("undefined"!=typeof show&&show(u))}var c=r[n]=s.wrap(function(t){var i=Array.from(arguments);return o&&show(lively.printStack()),e.verbose&&show(n+" called"),i.shift().apply(r,i)});c.isDebugFunctionWrapper=!0,c.debugTargetFunction=s;var u="debugFunctionWrapper for "+r+"."+n+" installed";console.log(u),"undefined"!=typeof show&&show(u)}}});var graph=Object.freeze({clone:clone$2,without:without$1,hull:hull,subgraphReachableBy:subgraphReachableBy,invert:invert,sortByReference:sortByReference,reduce:reduce$1,random:random$1}),GLOBAL$2="undefined"!=typeof System?System.global:"undefined"!=typeof window?window:global,interval=Object.freeze({isInterval:isInterval,sort:sort$2,compare:compare,coalesce:coalesce,coalesceOverlapping:coalesceOverlapping,mergeOverlapping:mergeOverlapping,intervalsInRangeDo:intervalsInRangeDo,intervalsInbetween:intervalsInbetween,mapToMatchingIndexes:mapToMatchingIndexes}),arrayProjection=Object.freeze({create:create,toArray:toArray$4,originalToProjectedIndex:originalToProjectedIndex,projectedToOriginalIndex:projectedToOriginalIndex,transformToIncludeIndex:transformToIncludeIndex}),grid=Object.freeze({get:get$2,set:set$2,getRow:getRow,setRow:setRow,getCol:getCol,setCol:setCol,create:create$1,mapCreate:mapCreate,forEach:forEach$2,map:map$2,toObjects:toObjects,tableFromObjects:tableFromObjects}),detect$1=find,tree=Object.freeze({prewalk:prewalk,postwalk:postwalk,find:find,detect:detect$1,filter:filter$1,map:map$3,mapTree:mapTree}),isNode$1="undefined"!=typeof process&&process.versions&&process.versions.node,makeEmitter=isNode$1?function(e,t){if(e.on&&e.removeListener)return e;var r="undefined"!=typeof System?System._nodeRequire("events"):require("events");return Object.assign(e,r.EventEmitter.prototype),r.EventEmitter.call(e),t&&t.maxListenerLimit&&e.setMaxListeners(t.maxListenerLimit),e}:function(e){return e.on&&e.removeListener?e:(e.listeners={},e.on=function(t,r){r&&(e.listeners[t]||(e.listeners[t]=[]),e.listeners[t].push(r))},e.once=function(t,r){function n(){e.removeListener(t,n),r.apply(this,arguments)}r&&e.on(t,n)},e.removeListener=function(t,r){e.listeners[t]&&(e.listeners[t]=e.listeners[t].filter(function(e){return e!==r}))},e.removeAllListeners=function(t){e.listeners[t]&&(e.listeners[t]=[])},e.emit=function(){var t=Array.prototype.slice.call(arguments),r=t.shift(),n=e.listeners[r];n&&n.length&&n.forEach(function(e){try{e.apply(null,t)}catch(e){console.error("Error in event handler: %s",e.stack||String(e))}})},e)},events=Object.freeze({makeEmitter:makeEmitter}),OFFLINE="offline",ONLINE="online",messenger=Object.freeze({create:create$2}),isNodejs="undefined"!=typeof require&&"undefined"!=typeof process,WorkerSetup={loadDependenciesBrowser:function(e){var t="undefined"!=typeof self?self:this;importScripts.apply(t,e.scriptsToLoad||[])},loadDependenciesNodejs:function(e){(global.lively||(global.lively={})).lang=require(require("path").join(e.libLocation,"index"))},initBrowserGlobals:function(e){remoteWorker.send=function(e){postMessage(e)};var t="undefined"!=typeof self?self:this,r=t.Global=t;r.window=r,r.console=r.console||function(){var e={};return["log","error","warn"].forEach(function(t){e[t]=function(){for(var e=arguments[0],r=1;r<arguments.length;r++)e=e.replace("%s",arguments[r]);remoteWorker.send({type:t,message:["[",t.toUpperCase(),"] ",e].join("")})}}),e}()},initOnMessageHandler:function(e){function t(e){if(e=e.data.data?e.data:e,remoteWorker.messenger)remoteWorker.messenger.onMessage(e);else if("close"==e.action)return remoteWorker.send({type:"closed",workerReady:!1}),void remoteWorker.close()}remoteWorker.on?remoteWorker.on("message",t):remoteWorker.onmessage=t},initWorkerInterface:function initWorkerInterface(options){remoteWorker.callStringifiedFunction=function(stringifiedFunc,args,thenDo){var func;try{func=eval("("+stringifiedFunc+")")}catch(e){return void thenDo(new Error("Cannot create function from string: "+e.stack||e))}var usesCallback=func.length===args.length+1,whenDone=lively.lang.fun.once(function(e,t){remoteWorker.isBusy=!1,thenDo(e,t)});remoteWorker.isBusy=!0,usesCallback&&args.push(whenDone);try{var result=func.apply(remoteWorker,args.concat([whenDone]))}catch(e){return void whenDone(e,null)}usesCallback||whenDone(null,result)},remoteWorker.httpRequest=function(e){function t(){4===r.readyState&&e.done&&e.done(r)}if(!e.url)return void console.log("Error, httpRequest needs url");var r=new XMLHttpRequest,n=e.method||"GET";r.onreadystatechange=t,r.open(n,e.url),r.send()},remoteWorker.terminateIfNotBusyIn=function(e){setTimeout(function(){if(remoteWorker.isBusy)return void remoteWorker.terminateIfNotBusyIn(e);remoteWorker.send({type:"closed",workerReady:!1}),remoteWorker.close()},e)}},initWorkerMessenger:function initWorkerMessenger(options){if(!options.useMessenger)return null;if(!lively.lang.messenger)throw new Error("worker.create requires messenger.js to be loaded!");if(!lively.lang.events)throw new Error("worker.create requires events.js to be loaded!");return remoteWorker.messenger=lively.lang.messenger.create({services:{remoteEval:function remoteEval(msg,messenger){var result;try{result=eval(msg.data.expr)}catch(e){result=e.stack||e}messenger.answer(msg,{result:String(result)})},run:function(e,t){var r=e.data.func,n=e.data.args;if(!r)return void t.answer(e,{error:"no funcString"});remoteWorker.callStringifiedFunction(r,n,function(r,n){t.answer(e,{error:r?String(r):null,result:n})})},close:function(e,t){t.answer(e,{status:"OK"}),remoteWorker.send({type:"closed",workerReady:!1}),remoteWorker.close()}},isOnline:function(){return!0},send:function(e,t){remoteWorker.send(e),t()},listen:function(e){e()},close:function(e){remoteWorker.send({type:"closed",workerReady:!1}),remoteWorker.close()}})}},BrowserWorker={create:function(e){function t(){self.onmessage=function(e){if("setup"!==e.data.action)throw new Error("expected setup to be first message but got "+JSON.stringify(e.data));var t=e.data.options||{};initBrowserGlobals(t),loadDependenciesBrowser(t),initOnMessageHandler(t),initWorkerInterface(t),initWorkerMessenger(t),postMessage({workerReady:!0})},__FUNCTIONDECLARATIONS__}if(e=e||{},!e.libLocation&&!e.scriptsToLoad){var r=document.querySelector('script[src$="worker.js"]');if(!r)throw new Error('Cannot find library path to start worker. Use worker.create({libLocation: "..."}) to explicitly define the path!');e.libLocation=r.src.replace(/worker.js$/,"")}var n=String(t).replace("__FUNCTIONDECLARATIONS__",[WorkerSetup.initBrowserGlobals,WorkerSetup.loadDependenciesBrowser,WorkerSetup.initOnMessageHandler,WorkerSetup.initWorkerInterface,WorkerSetup.initWorkerMessenger].join("\n")),i="("+n+")();",o=new Worker(function(e){var t;try{t=new Blob([e],{type:"text/javascript"})}catch(r){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,t=new BlobBuilder,t.append(e),t=t.getBlob()}return("undefined"!=typeof webkitURL?webkitURL:URL).createObjectURL(t)}(i));return function(e,t){makeEmitter(t),e.scriptsToLoad||(e.scriptsToLoad=["base.js","events.js","object.js","collection.js","function.js","string.js","number.js","date.js","messenger.js","worker.js"].map(function(t){return e.libLocation+t}));var r=Object.keys(e).reduce(function(t,r){return"function"!=typeof e[r]&&(t[r]=e[r]),t},{});t.onmessage=function(e){void 0!==e.data.workerReady?(t.ready=!!e.data.workerReady,t.ready?t.emit("ready"):t.emit("close")):t.emit("message",e.data)},t.errors=[],t.onerror=function(e){console.error(e),t.errors.push(e),t.emit("error",e)},t.postMessage({action:"setup",options:r})}(e,o),o}},NodejsWorker={debug:!1,initCodeFileCreated:!1,create:function(e){e=e||{};var t,r=makeEmitter({ready:!1,errors:[],postMessage:function(e){return t?r.ready?void t.send(e):void r.emit("error",new Error("nodejs worker process not ready or already closed")):void r.emit("error",new Error("nodejs worker process not yet created"))}});return NodejsWorker.startWorker(e,function(e,n){if(e)return r.ready=!1,void r.emit("error",e);t=n,t.on("message",function(e){NodejsWorker.debug&&console.log("[WORKER PARENT] got message:",e),r.emit("message",e)}),t.on("close",function(){console.log("[WORKER PARENT] worker closed"),r.emit("close")}),t.on("error",function(e){console.log("[WORKER PARENT] error ",e),r.errors.push(e),r.emit("error",e)}),r.ready=!0,r.emit("ready")}),r},workerSetupFunction:function(){var e=process;console.log("[WORKER] Starting init"),e.on("message",function(t){if("setup"!==t.action)throw new Error("expected setup to be first message but got "+JSON.stringify(t.data));e.removeAllListeners("message");var r=t.data.options||{};console.log("[WORKER] running setup with options",r),loadDependenciesNodejs(r),initOnMessageHandler(r),initWorkerInterface(r),initWorkerMessenger(r),e.send({workerReady:!0})}),__FUNCTIONDECLARATIONS__},ensureInitCodeFile:function(e,t,r){var n=require("path"),i=require("os"),o=require("fs"),s=n.join(i.tmpDir(),"lively-nodejs-workers/"),a=n.join(s,"nodejs-worker-init.js");NodejsWorker.initCodeFileCreated?o.exists(a,function(n){n?r(null,a):NodejsWorker.createWorkerCodeFile(e,a,t,r)}):NodejsWorker.createWorkerCodeFile(e,a,t,r)},createWorkerCodeFile:function(e,t,r,n){var i=require("path"),o=require("fs");(0,require("child_process").exec)("mkdir -p "+i.dirname(t),function(e,i,s){if(e)return void n(new Error(["[WORKER PARENT] Could not create worker temp dir:",i,s].join("\n")));o.writeFile(t,r,function(e){NodejsWorker.debug&&console.log("worker code file %s created",t),NodejsWorker.initCodeFileCreated=!0,n(e,t)})})},startWorker:function(e,t){var r=require("util"),n=require("child_process").fork,i=String(NodejsWorker.workerSetupFunction).replace("__FUNCTIONDECLARATIONS__",[WorkerSetup.loadDependenciesNodejs,WorkerSetup.initOnMessageHandler,WorkerSetup.initWorkerInterface,WorkerSetup.initWorkerMessenger].join("\n")),o=r.format("(%s)();\n",i);NodejsWorker.ensureInitCodeFile(e,o,function(r,i){if(r)return t(r);var o=n(i,{});NodejsWorker.debug&&console.log("worker forked"),o.on("message",function(e){"pong"===e.action?console.log("[WORKER pong] ",e):"log"===e.action&&console.log("[Message from WORKER] ",e.data)}),o.once("message",function(e){NodejsWorker.debug&&console.log("worker setup done"),t(null,o,e)}),o.on("close",function(){NodejsWorker.debug&&console.log("[WORKER PARENT] worker closed")}),o.send({action:"setup",data:{options:e}}),global.WORKER=o})}},worker=Object.freeze({fork:fork,create:create$3
}),GLOBAL="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0,isNode="undefined"!=typeof process&&process.env&&"function"==typeof process.exit,globalInterfaceSpec=[{action:"installMethods",target:"Array",sources:["arr"],methods:["from","genN","range","withN"]},{action:"installMethods",target:"Array.prototype",sources:["arr"],methods:["all","any","batchify","clear","clone","collect","compact","delimWith","detect","doAndContinue","each","equals","filterByKey","findAll","first","flatten","forEachShowingProgress","grep","groupBy","groupByKey","histogram","include","inject","intersect","invoke","last","mapAsync","mapAsyncSeries","mask","max","min","mutableCompact","nestedDelay","partition","pluck","pushAll","pushAllAt","pushAt","pushIfNotIncluded","reMatches","reject","rejectByKey","remove","removeAt","replaceAt","rotate","shuffle","size","sortBy","sortByKey","sum","swap","toArray","toTuples","union","uniq","uniqBy","without","withoutAll","zip"],alias:[["select","filter"]]},{action:"installMethods",target:"Date",sources:["date"],methods:[]},{action:"installMethods",target:"Date.prototype",sources:["date"],methods:["equals","format","relativeTo"]},{action:"installMethods",target:"Function",sources:["fun"],methods:["fromString"]},{action:"installMethods",target:"Function.prototype",sources:["fun"],methods:["addToObject","argumentNames","asScript","asScriptOf","binds","curry","delay","functionNames","localFunctionNames","getOriginal","getVarMapping","logCalls","logCompletion","logErrors","qualifiedMethodName","setProperty","traceCalls","wrap"]},{action:"installMethods",target:"Number",sources:["num"],methods:[]},{action:"installMethods",target:"Number.prototype",sources:["num"],methods:["detent","randomSmallerInteger","roundTo","toDegrees","toRadians"]},{action:"installMethods",target:"Object",sources:["obj"],methods:["addScript","clone","deepCopy","extend","inherit","isArray","isBoolean","isElement","isEmpty","isFunction","isNumber","isObject","isRegExp","isString","isUndefined","merge","mergePropertyInHierarchy","values","valuesInPropertyHierarchy"]},{action:"installMethods",target:"Object.prototype",sources:["obj"],methods:[]},{action:"installMethods",target:"String.prototype",sources:["string"],methods:["camelize","capitalize","digitValue","empty","hashCode","include","pad","regExpEscape","startsWithVowel","succ","times","toArray","toQueryParams","truncate"]},{action:"installObject",target:"Numbers",source:"num",methods:["average","between","convertLength","humanReadableByteSize","median","normalRandom","parseLength","random","sort"]},{action:"installObject",target:"Properties",source:"properties",methods:["all","allOwnPropertiesOrFunctions","allProperties","any","forEachOwn","hash","nameFor","own","ownValues","values"]},{action:"installObject",target:"Strings",source:"string",methods:["camelCaseString","createDataURI","diff","format","formatFromArray","indent","lineIndexComputer","lines","md5","newUUID","nonEmptyLines","pad","paragraphs","peekLeft","peekRight","print","printNested","printTable","printTree","quote","reMatches","stringMatch","tableize","tokens","unescapeCharacterEntities","withDecimalPrecision"]},{action:"installObject",target:"Objects",source:"obj",methods:["asObject","equals","inspect","isMutableType","safeToString","shortPrintStringOf","typeStringOf"]},{action:"installObject",target:"Functions",source:"fun",methods:["all","compose","composeAsync","createQueue","debounce","debounceNamed","either","extractBody","flip","notYetImplemented","once","own","throttle","throttleNamed","timeToRun","timeToRunN","waitFor","workerWithCallbackQueue","wrapperChain"]},{action:"installObject",target:"Grid",source:"grid"},{action:"installObject",target:"Interval",source:"interval"},{action:"installObject",target:"lively.ArrayProjection",source:"arrayProjection"},{action:"installObject",target:"lively.Closure",source:"Closure"},{action:"installObject",target:"lively.Grouping",source:"Group"},{action:"installObject",target:"lively.PropertyPath",source:"Path"},{action:"installObject",target:"lively.Worker",source:"worker"},{action:"installObject",target:"lively.Class",source:"classHelper"}],livelyLang=createLivelyLangObject();exports.worker=worker,exports.messenger=messenger,exports.events=events,exports.tree=tree,exports.grid=grid,exports.arrayProjection=arrayProjection,exports.interval=interval,exports.graph=graph,exports.date=date,exports.properties=properties,exports.obj=obj,exports.arr=arr,exports.fun=fun,exports.num=num,exports.string=string,exports.Closure=Closure,exports.promise=promise,exports.Path=Path,exports.Group=Group,exports.livelyLang=livelyLang,exports.chain=chain$$1,exports.noConflict=noConflict,exports.installGlobals=installGlobals,exports.uninstallGlobals=uninstallGlobals}(this.lively.lang=this.lively.lang||{})}.call(GLOBAL),"undefined"!=typeof module&&module.exports&&(module.exports=GLOBAL.lively.lang)}(),function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;this.lively=this.lively||{},function(e,t){"use strict";function r(e){if(void 0===e){if("undefined"==typeof System)return void 0!==y?y:y||(y={emitter:t.events.makeEmitter({},{maxListenerLimit:1e4}),notifications:[]});e=System}var r=e.get("@lively-env");r||e.set("@lively-env",e.newModule({options:{}}));var n=r.options;if(!n)throw new Error("@lively-env registered read-only");return n.emitter||Object.assign(n,{emitter:e["__lively.notifications_emitter"]||(e["__lively.notifications_emitter"]=t.events.makeEmitter({},{maxListenerLimit:1e4})),notifications:e["__lively.notifications_notifications"]||(e["__lively.notifications_notifications"]=[])}),{emitter:n.emitter,notifications:n.notifications}}function n(e,t,n){return r(n).emitter.on(e,t),t}function i(e,t,n){return r(n).emitter.once(e,t),t}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),i=arguments[3],o=Object.assign({type:e,time:n},t),s=r(i),a=s.emitter,c=s.notifications;return a.emit(e,o),a.isLogging&&h(o),a.isRecording&&u(c,o),o}function s(e,t,n){return r(n).emitter.removeListener(e,t),t}function a(e,t){r(t).emitter.removeAllListeners(e)}function u(e,t){e.push(t),e.limit&&e.splice(0,e.length-e.limit)}function c(e){r(e).emitter.isRecording=!0}function l(e){r(e).emitter.isRecording=!1}function p(e){var t=r(e),n=t.notifications;n.splice(0,n.length)}function f(e){return r(e).notifications}function h(e){var r=e.type+" ".repeat(Math.max(0,32-e.type.length));console.log(r+" "+t.obj.inspect(e,{maxDepth:2}))}function d(e){r(e).emitter.isLogging=!0}function m(e){r(e).emitter.isLogging=!1}var y=void 0;e.subscribe=n,e.subscribeOnce=i,e.emit=o,e.unsubscribe=s,e.unsubscribeAll=a,e.startRecording=c,e.stopRecording=l,e.clearRecord=p,e.getRecord=f,e.startLogging=d,e.stopLogging=m}(this.lively.notifications=this.lively.notifications||{},lively.lang),"undefined"!=typeof module&&module.exports&&(module.exports=e.lively.classes)}(),function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;if(e.define){var t=e;delete e.define}!function(){var e=void 0;!function(){var e=void 0;(function(t,r){"function"==typeof e&&e.amd?e(["exports"],r):r(t.acorn=t.acorn||{})})(this,function(e){"use strict";function t(e,t){for(var r=65536,n=0;n<t.length;n+=2){if((r+=t[n])>e)return!1;if((r+=t[n+1])>=e)return!0}}function r(e,r){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&F.test(String.fromCharCode(e)):!1!==r&&t(e,k)))}function n(e,r){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&S.test(String.fromCharCode(e)):!1!==r&&(t(e,k)||t(e,w)))))}function i(e,t){return new _(e,{beforeExpr:!0,binop:t})}function o(e,t){return void 0===t&&(t={}),t.keyword=e,P[e]=new _(e,t)}function s(e){return 10===e||13===e||8232===e||8233===e}function a(e){return"[object Array]"===Object.prototype.toString.call(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var r=1,n=0;;){j.lastIndex=n;var i=j.exec(e);if(!(i&&i.index<t))return new R(r,t-n);++r,n=i.index+i[0].length}}function l(e){var t={};for(var r in W)t[r]=e&&u(e,r)?e[r]:W[r];if(t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),a(t.onToken)){var n=t.onToken;t.onToken=function(e){return n.push(e)}}return a(t.onComment)&&(t.onComment=p(t,t.onComment)),t}function p(e,t){return function(r,n,i,o,s,a){var u={type:r?"Block":"Line",value:n,start:i,end:o};e.locations&&(u.loc=new M(this,s,a)),e.ranges&&(u.range=[i,o]),t.push(u)}}function f(e){return new RegExp("^("+e.replace(/ /g,"|")+")$")}function h(e,t,r,n){return e.type=t,e.end=r,this.options.locations&&(e.loc.end=n),this.options.ranges&&(e.range[1]=r),e}function d(e,t,r,n){try{return new RegExp(e,t)}catch(e){if(void 0!==r)throw e instanceof SyntaxError&&n.raise(r,"Error parsing regular expression: "+e.message),e}}function m(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function y(e,t){return new q(t,e).parse()}function g(e,t,r){var n=new q(r,e,t);return n.nextToken(),n.parseExpression()}function v(e,t){return new q(t,e)}function b(t,r,n){e.parse_dammit=t,e.LooseParser=r,e.pluginsLoose=n}var E={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},A="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",D={5:A,6:A+" const class extends export import super"},x="-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",C="-------------------------------------------------------------------------------------------------------------------------------------------------",F=new RegExp("["+x+"]"),S=new RegExp("["+x+C+"]");x=C=null;var k=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,785,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,25,391,63,32,0,449,56,264,8,2,36,18,0,50,29,881,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,65,0,32,6124,20,754,9486,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,10591,541],w=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,10,2,4,9,83,11,7,0,161,11,6,9,7,3,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,87,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,423,9,838,7,2,7,17,9,57,21,2,13,19882,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239],_=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null},B={beforeExpr:!0},O={startsExpr:!0},P={},I={num:new _("num",O),regexp:new _("regexp",O),string:new _("string",O),name:new _("name",O),eof:new _("eof"),bracketL:new _("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new _("]"),braceL:new _("{",{beforeExpr:!0,startsExpr:!0}),braceR:new _("}"),parenL:new _("(",{beforeExpr:!0,startsExpr:!0}),parenR:new _(")"),comma:new _(",",B),semi:new _(";",B),colon:new _(":",B),dot:new _("."),question:new _("?",B),arrow:new _("=>",B),template:new _("template"),ellipsis:new _("...",B),backQuote:new _("`",O),dollarBraceL:new _("${",{beforeExpr:!0,startsExpr:!0}),eq:new _("=",{beforeExpr:!0,isAssign:!0}),assign:new _("_=",{beforeExpr:!0,isAssign:!0}),incDec:new _("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new _("prefix",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:i("||",1),logicalAND:i("&&",2),bitwiseOR:i("|",3),bitwiseXOR:i("^",4),bitwiseAND:i("&",5),equality:i("==/!=",6),relational:i("</>",7),bitShift:i("<</>>",8),plusMin:new _("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:i("%",10),star:i("*",10),slash:i("/",10),starstar:new _("**",{beforeExpr:!0}),_break:o("break"),_case:o("case",B),_catch:o("catch"),_continue:o("continue"),_debugger:o("debugger"),_default:o("default",B),_do:o("do",{isLoop:!0,beforeExpr:!0}),_else:o("else",B),_finally:o("finally"),_for:o("for",{isLoop:!0}),_function:o("function",O),_if:o("if"),_return:o("return",B),_switch:o("switch"),_throw:o("throw",B),_try:o("try"),_var:o("var"),_const:o("const"),_while:o("while",{isLoop:!0}),_with:o("with"),_new:o("new",{beforeExpr:!0,startsExpr:!0}),_this:o("this",O),_super:o("super",O),_class:o("class"),_extends:o("extends",B),_export:o("export"),_import:o("import"),_null:o("null",O),_true:o("true",O),_false:o("false",O),_in:o("in",{beforeExpr:!0,binop:7}),_instanceof:o("instanceof",{beforeExpr:!0,binop:7}),_typeof:o("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:o("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:o("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},T=/\r\n?|\n|\u2028|\u2029/,j=new RegExp(T.source,"g"),N=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,L=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,R=function(e,t){this.line=e,this.column=t};R.prototype.offset=function(e){return new R(this.line,this.column+e)};var M=function(e,t,r){this.start=t,this.end=r,null!==e.sourceFile&&(this.source=e.sourceFile)},W={ecmaVersion:7,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}},V={},q=function(e,t,r){this.options=e=l(e),this.sourceFile=e.sourceFile,this.keywords=f(D[e.ecmaVersion>=6?6:5]);var n="";if(!e.allowReserved){for(var i=e.ecmaVersion;!(n=E[i]);i--);"module"==e.sourceType&&(n+=" await")}this.reservedWords=f(n);var o=(n?n+" ":"")+E.strict;this.reservedWordsStrict=f(o),this.reservedWordsStrictBind=f(o+" "+E.strictBind),this.input=String(t),this.containsEsc=!1,this.loadPlugins(e.plugins),r?(this.pos=r,this.lineStart=this.input.lastIndexOf("\n",r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(T).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=I.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.inFunction=this.inGenerator=this.inAsync=!1,this.yieldPos=this.awaitPos=0,this.labels=[],0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2)};q.prototype.isKeyword=function(e){return this.keywords.test(e)},q.prototype.isReservedWord=function(e){return this.reservedWords.test(e)},q.prototype.extend=function(e,t){this[e]=t(this[e])},q.prototype.loadPlugins=function(e){var t=this;for(var r in e){var n=V[r];if(!n)throw new Error("Plugin '"+r+"' not found");n(t,e[r])}},q.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};var $=q.prototype,z=/^(?:'((?:[^\']|\.)*)'|"((?:[^\"]|\.)*)"|;)/;$.strictDirective=function(e){for(var t=this;;){L.lastIndex=e,e+=L.exec(t.input)[0].length;var r=z.exec(t.input.slice(e));if(!r)return!1;if("use strict"==(r[1]||r[2]))return!0;e+=r[0].length}},$.eat=function(e){return this.type===e&&(this.next(),!0)},$.isContextual=function(e){return this.type===I.name&&this.value===e},$.eatContextual=function(e){return this.value===e&&this.eat(I.name)},$.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},$.canInsertSemicolon=function(){return this.type===I.eof||this.type===I.braceR||T.test(this.input.slice(this.lastTokEnd,this.start))},$.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},$.semicolon=function(){this.eat(I.semi)||this.insertSemicolon()||this.unexpected()},$.afterTrailingComma=function(e,t){if(this.type==e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},$.expect=function(e){this.eat(e)||this.unexpected()},$.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")};var G=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=-1};$.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var r=t?e.parenthesizedAssign:e.parenthesizedBind;r>-1&&this.raiseRecoverable(r,"Parenthesized pattern")}},$.checkExpressionErrors=function(e,t){var r=e?e.shorthandAssign:-1;if(!t)return r>=0;r>-1&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns")},$.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},$.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var U=q.prototype;U.parseTopLevel=function(e){var t=this,r={};for(e.body||(e.body=[]);this.type!==I.eof;){var n=t.parseStatement(!0,!0,r);e.body.push(n)}return this.next(),this.options.ecmaVersion>=6&&(e.sourceType=this.options.sourceType),this.finishNode(e,"Program")};var H={kind:"loop"},K={kind:"switch"};U.isLet=function(){if(this.type!==I.name||this.options.ecmaVersion<6||"let"!=this.value)return!1;L.lastIndex=this.pos;var e=L.exec(this.input),t=this.pos+e[0].length,i=this.input.charCodeAt(t);if(91===i||123==i)return!0;if(r(i,!0)){for(var o=t+1;n(this.input.charCodeAt(o),!0);++o);var s=this.input.slice(t,o);if(!this.isKeyword(s))return!0}return!1},U.isAsyncFunction=function(){if(this.type!==I.name||this.options.ecmaVersion<8||"async"!=this.value)return!1;L.lastIndex=this.pos;var e=L.exec(this.input),t=this.pos+e[0].length;return!(T.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!=this.input.length&&n(this.input.charAt(t+8)))},U.parseStatement=function(e,t,r){var n,i=this.type,o=this.startNode();switch(this.isLet()&&(i=I._var,n="let"),i){case I._break:case I._continue:return this.parseBreakContinueStatement(o,i.keyword);case I._debugger:return this.parseDebuggerStatement(o);case I._do:return this.parseDoStatement(o);case I._for:return this.parseForStatement(o);case I._function:return!e&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1);case I._class:return e||this.unexpected(),this.parseClass(o,!0);case I._if:return this.parseIfStatement(o);case I._return:return this.parseReturnStatement(o);case I._switch:return this.parseSwitchStatement(o);case I._throw:return this.parseThrowStatement(o);case I._try:return this.parseTryStatement(o);case I._const:case I._var:return n=n||this.value,e||"var"==n||this.unexpected(),this.parseVarStatement(o,n);case I._while:return this.parseWhileStatement(o);case I._with:return this.parseWithStatement(o);case I.braceL:return this.parseBlock();case I.semi:return this.parseEmptyStatement(o);case I._export:case I._import:return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===I._import?this.parseImport(o):this.parseExport(o,r);default:if(this.isAsyncFunction()&&e)return this.next(),this.parseFunctionStatement(o,!0);var s=this.value,a=this.parseExpression();return i===I.name&&"Identifier"===a.type&&this.eat(I.colon)?this.parseLabeledStatement(o,s,a):this.parseExpressionStatement(o,a)}},U.parseBreakContinueStatement=function(e,t){var r=this,n="break"==t;this.next(),this.eat(I.semi)||this.insertSemicolon()?e.label=null:this.type!==I.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var o=r.labels[i];if(null==e.label||o.name===e.label.name){if(null!=o.kind&&(n||"loop"===o.kind))break;if(e.label&&n)break}}return i===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},U.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},U.parseDoStatement=function(e){return this.next(),this.labels.push(H),e.body=this.parseStatement(!1),this.labels.pop(),this.expect(I._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(I.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},U.parseForStatement=function(e){if(this.next(),this.labels.push(H),this.expect(I.parenL),this.type===I.semi)return this.parseFor(e,null);var t=this.isLet();if(this.type===I._var||this.type===I._const||t){var r=this.startNode(),n=t?"let":this.value;return this.next(),this.parseVar(r,!0,n),this.finishNode(r,"VariableDeclaration"),!(this.type===I._in||this.options.ecmaVersion>=6&&this.isContextual("of"))||1!==r.declarations.length||"var"!==n&&r.declarations[0].init?this.parseFor(e,r):this.parseForIn(e,r)}var i=new G,o=this.parseExpression(!0,i);return this.type===I._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.toAssignable(o),this.checkLVal(o),this.checkPatternErrors(i,!0),this.parseForIn(e,o)):(this.checkExpressionErrors(i,!0),this.parseFor(e,o))},U.parseFunctionStatement=function(e,t){return this.next(),this.parseFunction(e,!0,!1,t)},U.isFunction=function(){return this.type===I._function||this.isAsyncFunction()},U.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement(!this.strict&&this.isFunction()),e.alternate=this.eat(I._else)?this.parseStatement(!this.strict&&this.isFunction()):null,this.finishNode(e,"IfStatement")},U.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(I.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},U.parseSwitchStatement=function(e){var t=this;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(I.braceL),this.labels.push(K);for(var r,n=!1;this.type!=I.braceR;)if(t.type===I._case||t.type===I._default){var i=t.type===I._case;r&&t.finishNode(r,"SwitchCase"),e.cases.push(r=t.startNode()),r.consequent=[],t.next(),i?r.test=t.parseExpression():(n&&t.raiseRecoverable(t.lastTokStart,"Multiple default clauses"),n=!0,r.test=null),t.expect(I.colon)}else r||t.unexpected(),r.consequent.push(t.parseStatement(!0));return r&&this.finishNode(r,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},U.parseThrowStatement=function(e){return this.next(),T.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var J=[];U.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===I._catch){var t=this.startNode();this.next(),this.expect(I.parenL),t.param=this.parseBindingAtom(),this.checkLVal(t.param,!0),this.expect(I.parenR),t.body=this.parseBlock(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(I._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},U.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},U.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(H),e.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(e,"WhileStatement")},U.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement(!1),this.finishNode(e,"WithStatement")},U.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},U.parseLabeledStatement=function(e,t,r){for(var n=this,i=0;i<this.labels.length;++i)n.labels[i].name===t&&n.raise(r.start,"Label '"+t+"' is already declared");for(var o=this.type.isLoop?"loop":this.type===I._switch?"switch":null,s=this.labels.length-1;s>=0;s--){var a=n.labels[s];if(a.statementStart!=e.start)break;a.statementStart=n.start,a.kind=o}return this.labels.push({name:t,kind:o,statementStart:this.start}),e.body=this.parseStatement(!0),("ClassDeclaration"==e.body.type||"VariableDeclaration"==e.body.type&&(this.strict||"var"!=e.body.kind)||"FunctionDeclaration"==e.body.type&&(this.strict||e.body.generator))&&this.raiseRecoverable(e.body.start,"Invalid labeled declaration"),this.labels.pop(),e.label=r,this.finishNode(e,"LabeledStatement")},U.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},U.parseBlock=function(){var e=this,t=this.startNode();for(t.body=[],this.expect(I.braceL);!this.eat(I.braceR);){var r=e.parseStatement(!0);t.body.push(r)}return this.finishNode(t,"BlockStatement")},U.parseFor=function(e,t){return e.init=t,this.expect(I.semi),e.test=this.type===I.semi?null:this.parseExpression(),this.expect(I.semi),e.update=this.type===I.parenR?null:this.parseExpression(),this.expect(I.parenR),e.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(e,"ForStatement")},U.parseForIn=function(e,t){var r=this.type===I._in?"ForInStatement":"ForOfStatement";return this.next(),e.left=t,e.right=this.parseExpression(),this.expect(I.parenR),e.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(e,r)},U.parseVar=function(e,t,r){var n=this;for(e.declarations=[],e.kind=r;;){var i=n.startNode();if(n.parseVarId(i),n.eat(I.eq)?i.init=n.parseMaybeAssign(t):"const"!==r||n.type===I._in||n.options.ecmaVersion>=6&&n.isContextual("of")?"Identifier"==i.id.type||t&&(n.type===I._in||n.isContextual("of"))?i.init=null:n.raise(n.lastTokEnd,"Complex binding patterns require an initialization value"):n.unexpected(),e.declarations.push(n.finishNode(i,"VariableDeclarator")),!n.eat(I.comma))break}return e},U.parseVarId=function(e){e.id=this.parseBindingAtom(),this.checkLVal(e.id,!0)},U.parseFunction=function(e,t,r,n){this.initFunction(e),this.options.ecmaVersion>=6&&!n&&(e.generator=this.eat(I.star)),this.options.ecmaVersion>=8&&(e.async=!!n),null==t&&(t=this.type==I.name),t&&(e.id=this.parseIdent());var i=this.inGenerator,o=this.inAsync,s=this.yieldPos,a=this.awaitPos,u=this.inFunction;return this.inGenerator=e.generator,this.inAsync=e.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,t||this.type!==I.name||(e.id=this.parseIdent()),this.parseFunctionParams(e),this.parseFunctionBody(e,r),this.inGenerator=i,this.inAsync=o,this.yieldPos=s,this.awaitPos=a,this.inFunction=u,this.finishNode(e,t?"FunctionDeclaration":"FunctionExpression")},U.parseFunctionParams=function(e){this.expect(I.parenL),e.params=this.parseBindingList(I.parenR,!1,this.options.ecmaVersion>=8,!0),this.checkYieldAwaitInDefaultParams()},U.parseClass=function(e,t){var r=this;this.next(),null==t&&(t=this.type===I.name),this.parseClassId(e,t),this.parseClassSuper(e);var n=this.startNode(),i=!1;for(n.body=[],this.expect(I.braceL);!this.eat(I.braceR);)if(!r.eat(I.semi)){var o=r.startNode(),s=r.eat(I.star),a=!1,u=r.type===I.name&&"static"===r.value;r.parsePropertyName(o),o.static=u&&r.type!==I.parenL,o.static&&(s&&r.unexpected(),s=r.eat(I.star),r.parsePropertyName(o)),r.options.ecmaVersion>=8&&!s&&!o.computed&&"Identifier"===o.key.type&&"async"===o.key.name&&r.type!==I.parenL&&!r.canInsertSemicolon()&&(a=!0,r.parsePropertyName(o)),o.kind="method";var c=!1;if(!o.computed){var l=o.key;s||a||"Identifier"!==l.type||r.type===I.parenL||"get"!==l.name&&"set"!==l.name||(c=!0,o.kind=l.name,l=r.parsePropertyName(o)),!o.static&&("Identifier"===l.type&&"constructor"===l.name||"Literal"===l.type&&"constructor"===l.value)&&(i&&r.raise(l.start,"Duplicate constructor in the same class"),c&&r.raise(l.start,"Constructor can't have get/set modifier"),s&&r.raise(l.start,"Constructor can't be a generator"),a&&r.raise(l.start,"Constructor can't be an async method"),o.kind="constructor",i=!0)}if(r.parseClassMethod(n,o,s,a),c){var p="get"===o.kind?0:1;if(o.value.params.length!==p){var f=o.value.start;"get"===o.kind?r.raiseRecoverable(f,"getter should have no params"):r.raiseRecoverable(f,"setter should have exactly one param")}else"set"===o.kind&&"RestElement"===o.value.params[0].type&&r.raiseRecoverable(o.value.params[0].start,"Setter cannot use rest params")}}return e.body=this.finishNode(n,"ClassBody"),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},U.parseClassMethod=function(e,t,r,n){t.value=this.parseMethod(r,n),e.body.push(this.finishNode(t,"MethodDefinition"))},U.parseClassId=function(e,t){e.id=this.type===I.name?this.parseIdent():t?this.unexpected():null},U.parseClassSuper=function(e){e.superClass=this.eat(I._extends)?this.parseExprSubscripts():null},U.parseExport=function(e,t){var r=this;if(this.next(),this.eat(I.star))return this.expectContextual("from"),
e.source=this.type===I.string?this.parseExprAtom():this.unexpected(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(I._default)){this.checkExport(t,"default",this.lastTokStart);var n;if(this.type===I._function||(n=this.isAsyncFunction())){var i=this.startNode();this.next(),n&&this.next(),e.declaration=this.parseFunction(i,null,!1,n)}else if(this.type===I._class){var o=this.startNode();e.declaration=this.parseClass(o,null)}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(!0),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))e.source=this.type===I.string?this.parseExprAtom():this.unexpected();else{for(var s=0;s<e.specifiers.length;s++)(r.keywords.test(e.specifiers[s].local.name)||r.reservedWords.test(e.specifiers[s].local.name))&&r.unexpected(e.specifiers[s].local.start);e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},U.checkExport=function(e,t,r){e&&(Object.prototype.hasOwnProperty.call(e,t)&&this.raiseRecoverable(r,"Duplicate export '"+t+"'"),e[t]=!0)},U.checkPatternExport=function(e,t){var r=this,n=t.type;if("Identifier"==n)this.checkExport(e,t.name,t.start);else if("ObjectPattern"==n)for(var i=0;i<t.properties.length;++i)r.checkPatternExport(e,t.properties[i].value);else if("ArrayPattern"==n)for(var o=0;o<t.elements.length;++o){var s=t.elements[o];s&&r.checkPatternExport(e,s)}else"AssignmentPattern"==n?this.checkPatternExport(e,t.left):"ParenthesizedExpression"==n&&this.checkPatternExport(e,t.expression)},U.checkVariableExport=function(e,t){var r=this;if(e)for(var n=0;n<t.length;n++)r.checkPatternExport(e,t[n].id)},U.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},U.parseExportSpecifiers=function(e){var t=this,r=[],n=!0;for(this.expect(I.braceL);!this.eat(I.braceR);){if(n)n=!1;else if(t.expect(I.comma),t.afterTrailingComma(I.braceR))break;var i=t.startNode();i.local=t.parseIdent(!0),i.exported=t.eatContextual("as")?t.parseIdent(!0):i.local,t.checkExport(e,i.exported.name,i.exported.start),r.push(t.finishNode(i,"ExportSpecifier"))}return r},U.parseImport=function(e){return this.next(),this.type===I.string?(e.specifiers=J,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===I.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},U.parseImportSpecifiers=function(){var e=this,t=[],r=!0;if(this.type===I.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,!0),t.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(I.comma))return t}if(this.type===I.star){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLVal(i.local,!0),t.push(this.finishNode(i,"ImportNamespaceSpecifier")),t}for(this.expect(I.braceL);!this.eat(I.braceR);){if(r)r=!1;else if(e.expect(I.comma),e.afterTrailingComma(I.braceR))break;var o=e.startNode();o.imported=e.parseIdent(!0),e.eatContextual("as")?o.local=e.parseIdent():(o.local=o.imported,e.isKeyword(o.local.name)&&e.unexpected(o.local.start),e.reservedWordsStrict.test(o.local.name)&&e.raiseRecoverable(o.local.start,"The keyword '"+o.local.name+"' is reserved")),e.checkLVal(o.local,!0),t.push(e.finishNode(o,"ImportSpecifier"))}return t};var Y=q.prototype;Y.toAssignable=function(e,t){var r=this;if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Can not use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":break;case"ObjectExpression":e.type="ObjectPattern";for(var n=0;n<e.properties.length;n++){var i=e.properties[n];"init"!==i.kind&&r.raise(i.key.start,"Object pattern can't contain getter or setter"),r.toAssignable(i.value,t)}break;case"ArrayExpression":e.type="ArrayPattern",this.toAssignableList(e.elements,t);break;case"AssignmentExpression":if("="!==e.operator){this.raise(e.left.end,"Only '=' operator can be used for specifying default value.");break}e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":e.expression=this.toAssignable(e.expression,t);break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}return e},Y.toAssignableList=function(e,t){var r=this,n=e.length;if(n){var i=e[n-1];if(i&&"RestElement"==i.type)--n;else if(i&&"SpreadElement"==i.type){i.type="RestElement";var o=i.argument;this.toAssignable(o,t),"Identifier"!==o.type&&"MemberExpression"!==o.type&&"ArrayPattern"!==o.type&&this.unexpected(o.start),--n}t&&i&&"RestElement"===i.type&&"Identifier"!==i.argument.type&&this.unexpected(i.argument.start)}for(var s=0;s<n;s++){var a=e[s];a&&r.toAssignable(a,t)}return e},Y.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},Y.parseRest=function(e){var t=this.startNode();return this.next(),t.argument=e?this.type===I.name?this.parseIdent():this.unexpected():this.type===I.name||this.type===I.bracketL?this.parseBindingAtom():this.unexpected(),this.finishNode(t,"RestElement")},Y.parseBindingAtom=function(){if(this.options.ecmaVersion<6)return this.parseIdent();switch(this.type){case I.name:return this.parseIdent();case I.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(I.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case I.braceL:return this.parseObj(!0);default:this.unexpected()}},Y.parseBindingList=function(e,t,r,n){for(var i=this,o=[],s=!0;!this.eat(e);)if(s?s=!1:i.expect(I.comma),t&&i.type===I.comma)o.push(null);else{if(r&&i.afterTrailingComma(e))break;if(i.type===I.ellipsis){var a=i.parseRest(n);i.parseBindingListItem(a),o.push(a),i.type===I.comma&&i.raise(i.start,"Comma is not permitted after the rest element"),i.expect(e);break}var u=i.parseMaybeDefault(i.start,i.startLoc);i.parseBindingListItem(u),o.push(u)}return o},Y.parseBindingListItem=function(e){return e},Y.parseMaybeDefault=function(e,t,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(I.eq))return r;var n=this.startNodeAt(e,t);return n.left=r,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")},Y.checkLVal=function(e,t,r){var n=this;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(u(r,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),r[e.name]=!0);break;case"MemberExpression":t&&this.raiseRecoverable(e.start,(t?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var i=0;i<e.properties.length;i++)n.checkLVal(e.properties[i].value,t,r);break;case"ArrayPattern":for(var o=0;o<e.elements.length;o++){var s=e.elements[o];s&&n.checkLVal(s,t,r)}break;case"AssignmentPattern":this.checkLVal(e.left,t,r);break;case"RestElement":this.checkLVal(e.argument,t,r);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,r);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}};var Q=q.prototype;Q.checkPropClash=function(e,t){if(!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r,n=e.key;switch(n.type){case"Identifier":r=n.name;break;case"Literal":r=String(n.value);break;default:return}var i=e.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===r&&"init"===i&&(t.proto&&this.raiseRecoverable(n.start,"Redefinition of __proto__ property"),t.proto=!0));r="$"+r;var o=t[r];if(o){var s="init"!==i;(!this.strict&&!s||!o[i])&&s^o.init||this.raiseRecoverable(n.start,"Redefinition of property")}else o=t[r]={init:!1,get:!1,set:!1};o[i]=!0}},Q.parseExpression=function(e,t){var r=this,n=this.start,i=this.startLoc,o=this.parseMaybeAssign(e,t);if(this.type===I.comma){var s=this.startNodeAt(n,i);for(s.expressions=[o];this.eat(I.comma);)s.expressions.push(r.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return o},Q.parseMaybeAssign=function(e,t,r){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var n=!1,i=-1;t?(i=t.parenthesizedAssign,t.parenthesizedAssign=-1):(t=new G,n=!0);var o=this.start,s=this.startLoc;this.type!=I.parenL&&this.type!=I.name||(this.potentialArrowAt=this.start);var a=this.parseMaybeConditional(e,t);if(r&&(a=r.call(this,a,o,s)),this.type.isAssign){this.checkPatternErrors(t,!0),n||G.call(t);var u=this.startNodeAt(o,s);return u.operator=this.value,u.left=this.type===I.eq?this.toAssignable(a):a,t.shorthandAssign=-1,this.checkLVal(a),this.next(),u.right=this.parseMaybeAssign(e),this.finishNode(u,"AssignmentExpression")}return n&&this.checkExpressionErrors(t,!0),i>-1&&(t.parenthesizedAssign=i),a},Q.parseMaybeConditional=function(e,t){var r=this.start,n=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(I.question)){var o=this.startNodeAt(r,n);return o.test=i,o.consequent=this.parseMaybeAssign(),this.expect(I.colon),o.alternate=this.parseMaybeAssign(e),this.finishNode(o,"ConditionalExpression")}return i},Q.parseExprOps=function(e,t){var r=this.start,n=this.startLoc,i=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)?i:this.parseExprOp(i,r,n,-1,e)},Q.parseExprOp=function(e,t,r,n,i){var o=this.type.binop;if(null!=o&&(!i||this.type!==I._in)&&o>n){var s=this.type===I.logicalOR||this.type===I.logicalAND,a=this.value;this.next();var u=this.start,c=this.startLoc,l=this.parseExprOp(this.parseMaybeUnary(null,!1),u,c,o,i),p=this.buildBinary(t,r,e,l,a,s);return this.parseExprOp(p,t,r,n,i)}return e},Q.buildBinary=function(e,t,r,n,i,o){var s=this.startNodeAt(e,t);return s.left=r,s.operator=i,s.right=n,this.finishNode(s,o?"LogicalExpression":"BinaryExpression")},Q.parseMaybeUnary=function(e,t){var r,n=this,i=this.start,o=this.startLoc;if(this.inAsync&&this.isContextual("await"))r=this.parseAwait(e),t=!0;else if(this.type.prefix){var s=this.startNode(),a=this.type===I.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),a?this.checkLVal(s.argument):this.strict&&"delete"===s.operator&&"Identifier"===s.argument.type?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):t=!0,r=this.finishNode(s,a?"UpdateExpression":"UnaryExpression")}else{if(r=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return r;for(;this.type.postfix&&!this.canInsertSemicolon();){var u=n.startNodeAt(i,o);u.operator=n.value,u.prefix=!1,u.argument=r,n.checkLVal(r),n.next(),r=n.finishNode(u,"UpdateExpression")}}return!t&&this.eat(I.starstar)?this.buildBinary(i,o,r,this.parseMaybeUnary(null,!1),"**",!1):r},Q.parseExprSubscripts=function(e){var t=this.start,r=this.startLoc,n=this.parseExprAtom(e),i="ArrowFunctionExpression"===n.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);if(this.checkExpressionErrors(e)||i)return n;var o=this.parseSubscripts(n,t,r);return e&&"MemberExpression"===o.type&&(e.parenthesizedAssign>=o.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=o.start&&(e.parenthesizedBind=-1)),o},Q.parseSubscripts=function(e,t,r,n){for(var i,o=this,s=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd==e.end&&!this.canInsertSemicolon();;)if((i=o.eat(I.bracketL))||o.eat(I.dot)){var a=o.startNodeAt(t,r);a.object=e,a.property=i?o.parseExpression():o.parseIdent(!0),a.computed=!!i,i&&o.expect(I.bracketR),e=o.finishNode(a,"MemberExpression")}else if(!n&&o.eat(I.parenL)){var u=new G,c=o.yieldPos,l=o.awaitPos;o.yieldPos=0,o.awaitPos=0;var p=o.parseExprList(I.parenR,o.options.ecmaVersion>=8,!1,u);if(s&&!o.canInsertSemicolon()&&o.eat(I.arrow))return o.checkPatternErrors(u,!1),o.checkYieldAwaitInDefaultParams(),o.yieldPos=c,o.awaitPos=l,o.parseArrowExpression(o.startNodeAt(t,r),p,!0);o.checkExpressionErrors(u,!0),o.yieldPos=c||o.yieldPos,o.awaitPos=l||o.awaitPos;var f=o.startNodeAt(t,r);f.callee=e,f.arguments=p,e=o.finishNode(f,"CallExpression")}else{if(o.type!==I.backQuote)return e;var h=o.startNodeAt(t,r);h.tag=e,h.quasi=o.parseTemplate(),e=o.finishNode(h,"TaggedTemplateExpression")}},Q.parseExprAtom=function(e){var t,r=this.potentialArrowAt==this.start;switch(this.type){case I._super:this.inFunction||this.raise(this.start,"'super' outside of function or class");case I._this:var n=this.type===I._this?"ThisExpression":"Super";return t=this.startNode(),this.next(),this.finishNode(t,n);case I.name:var i=this.start,o=this.startLoc,s=this.parseIdent(this.type!==I.name);if(this.options.ecmaVersion>=8&&"async"===s.name&&!this.canInsertSemicolon()&&this.eat(I._function))return this.parseFunction(this.startNodeAt(i,o),!1,!1,!0);if(r&&!this.canInsertSemicolon()){if(this.eat(I.arrow))return this.parseArrowExpression(this.startNodeAt(i,o),[s],!1);if(this.options.ecmaVersion>=8&&"async"===s.name&&this.type===I.name)return s=this.parseIdent(),!this.canInsertSemicolon()&&this.eat(I.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,o),[s],!0)}return s;case I.regexp:var a=this.value;return t=this.parseLiteral(a.value),t.regex={pattern:a.pattern,flags:a.flags},t;case I.num:case I.string:return this.parseLiteral(this.value);case I._null:case I._true:case I._false:return t=this.startNode(),t.value=this.type===I._null?null:this.type===I._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case I.parenL:var u=this.start,c=this.parseParenAndDistinguishExpression(r);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(c)&&(e.parenthesizedAssign=u),e.parenthesizedBind<0&&(e.parenthesizedBind=u)),c;case I.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(I.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case I.braceL:return this.parseObj(!1,e);case I._function:return t=this.startNode(),this.next(),this.parseFunction(t,!1);case I._class:return this.parseClass(this.startNode(),!1);case I._new:return this.parseNew();case I.backQuote:return this.parseTemplate();default:this.unexpected()}},Q.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(t,"Literal")},Q.parseParenExpression=function(){this.expect(I.parenL);var e=this.parseExpression();return this.expect(I.parenR),e},Q.parseParenAndDistinguishExpression=function(e){var t,r=this,n=this.start,i=this.startLoc,o=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s,a,u=this.start,c=this.startLoc,l=[],p=!0,f=!1,h=new G,d=this.yieldPos,m=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==I.parenR;){if(p?p=!1:r.expect(I.comma),o&&r.afterTrailingComma(I.parenR,!0)){f=!0;break}if(r.type===I.ellipsis){s=r.start,l.push(r.parseParenItem(r.parseRest())),r.type===I.comma&&r.raise(r.start,"Comma is not permitted after the rest element");break}r.type!==I.parenL||a||(a=r.start),l.push(r.parseMaybeAssign(!1,h,r.parseParenItem))}var y=this.start,g=this.startLoc;if(this.expect(I.parenR),e&&!this.canInsertSemicolon()&&this.eat(I.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),a&&this.unexpected(a),this.yieldPos=d,this.awaitPos=m,this.parseParenArrowList(n,i,l);l.length&&!f||this.unexpected(this.lastTokStart),s&&this.unexpected(s),this.checkExpressionErrors(h,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=m||this.awaitPos,l.length>1?(t=this.startNodeAt(u,c),t.expressions=l,this.finishNodeAt(t,"SequenceExpression",y,g)):t=l[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var v=this.startNodeAt(n,i);return v.expression=t,this.finishNode(v,"ParenthesizedExpression")}return t},Q.parseParenItem=function(e){return e},Q.parseParenArrowList=function(e,t,r){return this.parseArrowExpression(this.startNodeAt(e,t),r)};var X=[];Q.parseNew=function(){var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(I.dot))return e.meta=t,e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is new.target"),this.inFunction||this.raiseRecoverable(e.start,"new.target can only be used in functions"),this.finishNode(e,"MetaProperty");var r=this.start,n=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(),r,n,!0),this.eat(I.parenL)?e.arguments=this.parseExprList(I.parenR,this.options.ecmaVersion>=8,!1):e.arguments=X,this.finishNode(e,"NewExpression")},Q.parseTemplateElement=function(){var e=this.startNode();return e.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),e.tail=this.type===I.backQuote,this.finishNode(e,"TemplateElement")},Q.parseTemplate=function(){var e=this,t=this.startNode();this.next(),t.expressions=[];var r=this.parseTemplateElement();for(t.quasis=[r];!r.tail;)e.expect(I.dollarBraceL),t.expressions.push(e.parseExpression()),e.expect(I.braceR),t.quasis.push(r=e.parseTemplateElement());return this.next(),this.finishNode(t,"TemplateLiteral")},Q.parseObj=function(e,t){var r=this,n=this.startNode(),i=!0,o={};for(n.properties=[],this.next();!this.eat(I.braceR);){if(i)i=!1;else if(r.expect(I.comma),r.afterTrailingComma(I.braceR))break;var s,a,u,c,l=r.startNode();r.options.ecmaVersion>=6&&(l.method=!1,l.shorthand=!1,(e||t)&&(u=r.start,c=r.startLoc),e||(s=r.eat(I.star))),r.parsePropertyName(l),e||!(r.options.ecmaVersion>=8)||s||l.computed||"Identifier"!==l.key.type||"async"!==l.key.name||r.type===I.parenL||r.type===I.colon||r.canInsertSemicolon()?a=!1:(a=!0,r.parsePropertyName(l,t)),r.parsePropertyValue(l,e,s,a,u,c,t),r.checkPropClash(l,o),n.properties.push(r.finishNode(l,"Property"))}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},Q.parsePropertyValue=function(e,t,r,n,i,o,s){if((r||n)&&this.type===I.colon&&this.unexpected(),this.eat(I.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,s),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===I.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(r,n);else if(this.options.ecmaVersion>=5&&!e.computed&&"Identifier"===e.key.type&&("get"===e.key.name||"set"===e.key.name)&&this.type!=I.comma&&this.type!=I.braceR){(r||n||t)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var a="get"===e.kind?0:1;if(e.value.params.length!==a){var u=e.value.start;"get"===e.kind?this.raiseRecoverable(u,"getter should have no params"):this.raiseRecoverable(u,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((this.keywords.test(e.key.name)||(this.strict?this.reservedWordsStrict:this.reservedWords).test(e.key.name)||this.inGenerator&&"yield"==e.key.name||this.inAsync&&"await"==e.key.name)&&this.raiseRecoverable(e.key.start,"'"+e.key.name+"' can not be used as shorthand property"),e.kind="init",t?e.value=this.parseMaybeDefault(i,o,e.key):this.type===I.eq&&s?(s.shorthandAssign<0&&(s.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,o,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected()},Q.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(I.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(I.bracketR),e.key;e.computed=!1}return e.key=this.type===I.num||this.type===I.string?this.parseExprAtom():this.parseIdent(!0)},Q.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=!1,e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},Q.parseMethod=function(e,t){var r=this.startNode(),n=this.inGenerator,i=this.inAsync,o=this.yieldPos,s=this.awaitPos,a=this.inFunction;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.inGenerator=r.generator,this.inAsync=r.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.expect(I.parenL),r.params=this.parseBindingList(I.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1),this.inGenerator=n,this.inAsync=i,this.yieldPos=o,this.awaitPos=s,this.inFunction=a,this.finishNode(r,"FunctionExpression")},Q.parseArrowExpression=function(e,t,r){var n=this.inGenerator,i=this.inAsync,o=this.yieldPos,s=this.awaitPos,a=this.inFunction;return this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!r),this.inGenerator=!1,this.inAsync=e.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0),this.inGenerator=n,this.inAsync=i,this.yieldPos=o,this.awaitPos=s,this.inFunction=a,this.finishNode(e,"ArrowFunctionExpression")},Q.parseFunctionBody=function(e,t){var r=t&&this.type!==I.braceL,n=this.strict,i=!1;if(r)e.body=this.parseMaybeAssign(),e.expression=!0;else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);n&&!o||(i=this.strictDirective(this.end))&&o&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var s=this.labels;this.labels=[],i&&(this.strict=!0),e.body=this.parseBlock(!0),e.expression=!1,this.labels=s}n||i?(this.strict=!0,e.id&&this.checkLVal(e.id,!0),this.checkParams(e),this.strict=n):!t&&this.isSimpleParamList(e.params)||this.checkParams(e)},Q.isSimpleParamList=function(e){for(var t=0;t<e.length;t++)if("Identifier"!==e[t].type)return!1;return!0},Q.checkParams=function(e){for(var t=this,r={},n=0;n<e.params.length;n++)t.checkLVal(e.params[n],!0,r)},Q.parseExprList=function(e,t,r,n){for(var i=this,o=[],s=!0;!this.eat(e);){if(s)s=!1;else if(i.expect(I.comma),t&&i.afterTrailingComma(e))break;var a;r&&i.type===I.comma?a=null:i.type===I.ellipsis?(a=i.parseSpread(n),n&&i.type===I.comma&&n.trailingComma<0&&(n.trailingComma=i.start)):a=i.parseMaybeAssign(!1,n),o.push(a)}return o},Q.parseIdent=function(e){var t=this.startNode();return e&&"never"==this.options.allowReserved&&(e=!1),this.type===I.name?(!e&&(this.strict?this.reservedWordsStrict:this.reservedWords).test(this.value)&&(this.options.ecmaVersion>=6||-1==this.input.slice(this.start,this.end).indexOf("\\"))&&this.raiseRecoverable(this.start,"The keyword '"+this.value+"' is reserved"),this.inGenerator&&"yield"===this.value&&this.raiseRecoverable(this.start,"Can not use 'yield' as identifier inside a generator"),this.inAsync&&"await"===this.value&&this.raiseRecoverable(this.start,"Can not use 'await' as identifier inside an async function"),t.name=this.value):e&&this.type.keyword?t.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(t,"Identifier")},Q.parseYield=function(){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type==I.semi||this.canInsertSemicolon()||this.type!=I.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(I.star),e.argument=this.parseMaybeAssign()),this.finishNode(e,"YieldExpression")},Q.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0),this.finishNode(e,"AwaitExpression")};var Z=q.prototype;Z.raise=function(e,t){var r=c(this.input,e);t+=" ("+r.line+":"+r.column+")";var n=new SyntaxError(t);throw n.pos=e,n.loc=r,n.raisedAt=this.pos,n},Z.raiseRecoverable=Z.raise,Z.curPosition=function(){if(this.options.locations)return new R(this.curLine,this.pos-this.lineStart)};var ee=function(e,t,r){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new M(e,r)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},te=q.prototype;te.startNode=function(){return new ee(this,this.start,this.startLoc)},te.startNodeAt=function(e,t){return new ee(this,e,t)},te.finishNode=function(e,t){return h.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},te.finishNodeAt=function(e,t,r,n){return h.call(this,e,t,r,n)};var re=function(e,t,r,n){this.token=e,this.isExpr=!!t,this.preserveSpace=!!r,this.override=n},ne={b_stat:new re("{",!1),b_expr:new re("{",!0),b_tmpl:new re("${",!0),p_stat:new re("(",!1),p_expr:new re("(",!0),q_tmpl:new re("`",!0,!0,function(e){return e.readTmplToken()}),f_expr:new re("function",!0)},ie=q.prototype;ie.initialContext=function(){return[ne.b_stat]},ie.braceIsBlock=function(e){if(e===I.colon){var t=this.curContext();if(t===ne.b_stat||t===ne.b_expr)return!t.isExpr}return e===I._return?T.test(this.input.slice(this.lastTokEnd,this.start)):e===I._else||e===I.semi||e===I.eof||e===I.parenR||(e==I.braceL?this.curContext()===ne.b_stat:!this.exprAllowed)},ie.updateContext=function(e){var t,r=this.type;r.keyword&&e==I.dot?this.exprAllowed=!1:(t=r.updateContext)?t.call(this,e):this.exprAllowed=r.beforeExpr},I.parenR.updateContext=I.braceR.updateContext=function(){if(1==this.context.length)return void(this.exprAllowed=!0);var e=this.context.pop();e===ne.b_stat&&this.curContext()===ne.f_expr?(this.context.pop(),this.exprAllowed=!1):this.exprAllowed=e===ne.b_tmpl||!e.isExpr},I.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?ne.b_stat:ne.b_expr),this.exprAllowed=!0},I.dollarBraceL.updateContext=function(){this.context.push(ne.b_tmpl),this.exprAllowed=!0},I.parenL.updateContext=function(e){var t=e===I._if||e===I._for||e===I._with||e===I._while;this.context.push(t?ne.p_stat:ne.p_expr),this.exprAllowed=!0},I.incDec.updateContext=function(){},I._function.updateContext=function(e){e.beforeExpr&&e!==I.semi&&e!==I._else&&(e!==I.colon&&e!==I.braceL||this.curContext()!==ne.b_stat)&&this.context.push(ne.f_expr),this.exprAllowed=!1},I.backQuote.updateContext=function(){this.curContext()===ne.q_tmpl?this.context.pop():this.context.push(ne.q_tmpl),this.exprAllowed=!1};var oe=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new M(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},se=q.prototype,ae="object"==typeof Packages&&"[object JavaPackage]"==Object.prototype.toString.call(Packages);se.next=function(){this.options.onToken&&this.options.onToken(new oe(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},se.getToken=function(){return this.next(),new oe(this)},"undefined"!=typeof Symbol&&(se[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===I.eof,value:t}}}}),se.curContext=function(){return this.context[this.context.length-1]},se.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(I.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},se.readToken=function(e){return r(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},se.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);return e<=55295||e>=57344?e:(e<<10)+this.input.charCodeAt(this.pos+1)-56613888},se.skipBlockComment=function(){var e=this,t=this.options.onComment&&this.curPosition(),r=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations){j.lastIndex=r;for(var i;(i=j.exec(this.input))&&i.index<this.pos;)++e.curLine,e.lineStart=i.index+i[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(r+2,n),r,this.pos,t,this.curPosition())},se.skipLineComment=function(e){for(var t=this,r=this.pos,n=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&10!==i&&13!==i&&8232!==i&&8233!==i;)++t.pos,i=t.input.charCodeAt(t.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(r+e,this.pos),r,this.pos,n,this.curPosition())},se.skipSpace=function(){var e=this;e:for(;this.pos<this.input.length;){var t=e.input.charCodeAt(e.pos);switch(t){case 32:case 160:++e.pos;break;case 13:10===e.input.charCodeAt(e.pos+1)&&++e.pos;case 10:case 8232:case 8233:++e.pos,e.options.locations&&(++e.curLine,e.lineStart=e.pos);break;case 47:switch(e.input.charCodeAt(e.pos+1)){case 42:e.skipBlockComment();break;case 47:e.skipLineComment(2);break;default:break e}break;default:if(!(t>8&&t<14||t>=5760&&N.test(String.fromCharCode(t))))break e;++e.pos}}},se.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=e,this.value=t,this.updateContext(r)},se.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(I.ellipsis)):(++this.pos,this.finishToken(I.dot))},se.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(I.assign,2):this.finishOp(I.slash,1)},se.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),r=1,n=42===e?I.star:I.modulo;return this.options.ecmaVersion>=7&&42===t&&(++r,n=I.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(I.assign,r+1):this.finishOp(n,r)},se.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.finishOp(124===e?I.logicalOR:I.logicalAND,2):61===t?this.finishOp(I.assign,2):this.finishOp(124===e?I.bitwiseOR:I.bitwiseAND,1)},se.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(I.assign,2):this.finishOp(I.bitwiseXOR,1)},se.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45==t&&62==this.input.charCodeAt(this.pos+2)&&T.test(this.input.slice(this.lastTokEnd,this.pos))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(I.incDec,2):61===t?this.finishOp(I.assign,2):this.finishOp(I.plusMin,1)},se.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),r=1;return t===e?(r=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+r)?this.finishOp(I.assign,r+1):this.finishOp(I.bitShift,r)):33==t&&60==e&&45==this.input.charCodeAt(this.pos+2)&&45==this.input.charCodeAt(this.pos+3)?(this.inModule&&this.unexpected(),this.skipLineComment(4),this.skipSpace(),this.nextToken()):(61===t&&(r=2),this.finishOp(I.relational,r))},se.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(I.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(I.arrow)):this.finishOp(61===e?I.eq:I.prefix,1)},se.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(I.parenL);case 41:return++this.pos,this.finishToken(I.parenR);case 59:return++this.pos,this.finishToken(I.semi);case 44:return++this.pos,this.finishToken(I.comma);case 91:return++this.pos,this.finishToken(I.bracketL);case 93:return++this.pos,this.finishToken(I.bracketR);case 123:return++this.pos,this.finishToken(I.braceL);case 125:return++this.pos,this.finishToken(I.braceR);case 58:return++this.pos,this.finishToken(I.colon);case 63:return++this.pos,this.finishToken(I.question);case 96:
if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(I.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 126:return this.finishOp(I.prefix,1)}this.raise(this.pos,"Unexpected character '"+m(e)+"'")},se.finishOp=function(e,t){var r=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,r)};var ue=!!d("","u");se.readRegexp=function(){for(var e,t,r=this,n=this.pos;;){r.pos>=r.input.length&&r.raise(n,"Unterminated regular expression");var i=r.input.charAt(r.pos);if(T.test(i)&&r.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===i)t=!0;else if("]"===i&&t)t=!1;else if("/"===i&&!t)break;e="\\"===i}++r.pos}var o=this.input.slice(n,this.pos);++this.pos;var s=this.readWord1(),a=o,u="";if(s){var c=/^[gim]*$/;this.options.ecmaVersion>=6&&(c=/^[gimuy]*$/),c.test(s)||this.raise(n,"Invalid regular expression flag"),s.indexOf("u")>=0&&(ue?u="u":(a=a.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(e,t,i){return t=Number("0x"+t),t>1114111&&r.raise(n+i+3,"Code point out of bounds"),"x"}),a=a.replace(/\\u([a-fA-F0-9]{4})|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"),u=u.replace("u","")))}var l=null;return ae||(d(a,u,n,this),l=d(o,s)),this.finishToken(I.regexp,{pattern:o,flags:s,value:l})},se.readInt=function(e,t){for(var r=this,n=this.pos,i=0,o=0,s=null==t?1/0:t;o<s;++o){var a,u=r.input.charCodeAt(r.pos);if((a=u>=97?u-97+10:u>=65?u-65+10:u>=48&&u<=57?u-48:1/0)>=e)break;++r.pos,i=i*e+a}return this.pos===n||null!=t&&this.pos-n!==t?null:i},se.readRadixNumber=function(e){this.pos+=2;var t=this.readInt(e);return null==t&&this.raise(this.start+2,"Expected number in radix "+e),r(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(I.num,t)},se.readNumber=function(e){var t=this.pos,n=!1,i=48===this.input.charCodeAt(this.pos);e||null!==this.readInt(10)||this.raise(t,"Invalid number"),i&&this.pos==t+1&&(i=!1);var o=this.input.charCodeAt(this.pos);46!==o||i||(++this.pos,this.readInt(10),n=!0,o=this.input.charCodeAt(this.pos)),69!==o&&101!==o||i||(o=this.input.charCodeAt(++this.pos),43!==o&&45!==o||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number"),n=!0),r(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s,a=this.input.slice(t,this.pos);return n?s=parseFloat(a):i&&1!==a.length?/[89]/.test(a)||this.strict?this.raise(t,"Invalid number"):s=parseInt(a,8):s=parseInt(a,10),this.finishToken(I.num,s)},se.readCodePoint=function(){var e,t=this.input.charCodeAt(this.pos);if(123===t){this.options.ecmaVersion<6&&this.unexpected();var r=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.raise(r,"Code point out of bounds")}else e=this.readHexChar(4);return e},se.readString=function(e){for(var t=this,r="",n=++this.pos;;){t.pos>=t.input.length&&t.raise(t.start,"Unterminated string constant");var i=t.input.charCodeAt(t.pos);if(i===e)break;92===i?(r+=t.input.slice(n,t.pos),r+=t.readEscapedChar(!1),n=t.pos):(s(i)&&t.raise(t.start,"Unterminated string constant"),++t.pos)}return r+=this.input.slice(n,this.pos++),this.finishToken(I.string,r)},se.readTmplToken=function(){for(var e=this,t="",r=this.pos;;){e.pos>=e.input.length&&e.raise(e.start,"Unterminated template");var n=e.input.charCodeAt(e.pos);if(96===n||36===n&&123===e.input.charCodeAt(e.pos+1))return e.pos===e.start&&e.type===I.template?36===n?(e.pos+=2,e.finishToken(I.dollarBraceL)):(++e.pos,e.finishToken(I.backQuote)):(t+=e.input.slice(r,e.pos),e.finishToken(I.template,t));if(92===n)t+=e.input.slice(r,e.pos),t+=e.readEscapedChar(!0),r=e.pos;else if(s(n)){switch(t+=e.input.slice(r,e.pos),++e.pos,n){case 13:10===e.input.charCodeAt(e.pos)&&++e.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(n)}e.options.locations&&(++e.curLine,e.lineStart=e.pos),r=e.pos}else++e.pos}},se.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return m(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(r,8);return n>255&&(r=r.slice(0,-1),n=parseInt(r,8)),"0"!==r&&(this.strict||e)&&this.raise(this.pos-2,"Octal literal in strict mode"),this.pos+=r.length-1,String.fromCharCode(n)}return String.fromCharCode(t)}},se.readHexChar=function(e){var t=this.pos,r=this.readInt(16,e);return null===r&&this.raise(t,"Bad character escape sequence"),r},se.readWord1=function(){var e=this;this.containsEsc=!1;for(var t="",i=!0,o=this.pos,s=this.options.ecmaVersion>=6;this.pos<this.input.length;){var a=e.fullCharCodeAtPos();if(n(a,s))e.pos+=a<=65535?1:2;else{if(92!==a)break;e.containsEsc=!0,t+=e.input.slice(o,e.pos);var u=e.pos;117!=e.input.charCodeAt(++e.pos)&&e.raise(e.pos,"Expecting Unicode escape sequence \\uXXXX"),++e.pos;var c=e.readCodePoint();(i?r:n)(c,s)||e.raise(u,"Invalid Unicode escape"),t+=m(c),o=e.pos}i=!1}return t+this.input.slice(o,this.pos)},se.readWord=function(){var e=this.readWord1(),t=I.name;return this.keywords.test(e)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+e),t=P[e]),this.finishToken(t,e)};e.version="4.0.11",e.parse=y,e.parseExpressionAt=g,e.tokenizer=v,e.addLooseExports=b,e.Parser=q,e.plugins=V,e.defaultOptions=W,e.Position=R,e.SourceLocation=M,e.getLineInfo=c,e.Node=ee,e.TokenType=_,e.tokTypes=I,e.keywordTypes=P,e.TokContext=re,e.tokContexts=ne,e.isIdentifierChar=n,e.isIdentifierStart=r,e.Token=oe,e.isNewLine=s,e.lineBreak=T,e.lineBreakG=j,Object.defineProperty(e,"__esModule",{value:!0})}),function(t,r){"function"==typeof e&&e.amd?e(["exports"],r):r((t.acorn=t.acorn||{},t.acorn.walk=t.acorn.walk||{}))}(this,function(e){"use strict";function t(t,r,n,i,o){n||(n=e.base),function e(t,i,o){var s=o||t.type,a=r[s];n[s](t,i,e),a&&a(t,i)}(t,i,o)}function r(t,r,n,i){n||(n=e.base);var o=[];!function e(t,i,s){var a=s||t.type,u=r[a],c=t!=o[o.length-1];c&&o.push(t),n[a](t,i,e),u&&u(t,i||o,o),c&&o.pop()}(t,i)}function n(t,r,n,i,o){var s=n?e.make(n,i):i;!function e(t,r,n){s[n||t.type](t,r,e)}(t,r,o)}function i(e){return"string"==typeof e?function(t){return t==e}:e||function(){return!0}}function o(t,r,n,o,s,a){o=i(o),s||(s=e.base);try{!function e(t,i,a){var u=a||t.type;if((null==r||t.start<=r)&&(null==n||t.end>=n)&&s[u](t,i,e),(null==r||t.start==r)&&(null==n||t.end==n)&&o(u,t))throw new f(t,i)}(t,a)}catch(e){if(e instanceof f)return e;throw e}}function s(t,r,n,o,s){n=i(n),o||(o=e.base);try{!function e(t,i,s){var a=s||t.type;if(!(t.start>r||t.end<r)&&(o[a](t,i,e),n(a,t)))throw new f(t,i)}(t,s)}catch(e){if(e instanceof f)return e;throw e}}function a(t,r,n,o,s){n=i(n),o||(o=e.base);try{!function e(t,i,s){if(!(t.end<r)){var a=s||t.type;if(t.start>=r&&n(a,t))throw new f(t,i);o[a](t,i,e)}}(t,s)}catch(e){if(e instanceof f)return e;throw e}}function u(t,r,n,o,s){n=i(n),o||(o=e.base);var a;return function e(t,i,s){if(!(t.start>r)){var u=s||t.type;t.end<=r&&(!a||a.node.end<t.end)&&n(u,t)&&(a=new f(t,i)),o[u](t,i,e)}}(t,s),a}function c(t,r){r||(r=e.base);var n=h(r);for(var i in t)n[i]=t[i];return n}function l(e,t,r){r(e,t)}function p(e,t,r){}var f=function(e,t){this.node=e,this.state=t},h=Object.create||function(e){function t(){}return t.prototype=e,new t},d={};d.Program=d.BlockStatement=function(e,t,r){for(var n=0;n<e.body.length;++n)r(e.body[n],t,"Statement")},d.Statement=l,d.EmptyStatement=p,d.ExpressionStatement=d.ParenthesizedExpression=function(e,t,r){return r(e.expression,t,"Expression")},d.IfStatement=function(e,t,r){r(e.test,t,"Expression"),r(e.consequent,t,"Statement"),e.alternate&&r(e.alternate,t,"Statement")},d.LabeledStatement=function(e,t,r){return r(e.body,t,"Statement")},d.BreakStatement=d.ContinueStatement=p,d.WithStatement=function(e,t,r){r(e.object,t,"Expression"),r(e.body,t,"Statement")},d.SwitchStatement=function(e,t,r){r(e.discriminant,t,"Expression");for(var n=0;n<e.cases.length;++n){var i=e.cases[n];i.test&&r(i.test,t,"Expression");for(var o=0;o<i.consequent.length;++o)r(i.consequent[o],t,"Statement")}},d.ReturnStatement=d.YieldExpression=d.AwaitExpression=function(e,t,r){e.argument&&r(e.argument,t,"Expression")},d.ThrowStatement=d.SpreadElement=function(e,t,r){return r(e.argument,t,"Expression")},d.TryStatement=function(e,t,r){r(e.block,t,"Statement"),e.handler&&r(e.handler,t),e.finalizer&&r(e.finalizer,t,"Statement")},d.CatchClause=function(e,t,r){r(e.param,t,"Pattern"),r(e.body,t,"ScopeBody")},d.WhileStatement=d.DoWhileStatement=function(e,t,r){r(e.test,t,"Expression"),r(e.body,t,"Statement")},d.ForStatement=function(e,t,r){e.init&&r(e.init,t,"ForInit"),e.test&&r(e.test,t,"Expression"),e.update&&r(e.update,t,"Expression"),r(e.body,t,"Statement")},d.ForInStatement=d.ForOfStatement=function(e,t,r){r(e.left,t,"ForInit"),r(e.right,t,"Expression"),r(e.body,t,"Statement")},d.ForInit=function(e,t,r){"VariableDeclaration"==e.type?r(e,t):r(e,t,"Expression")},d.DebuggerStatement=p,d.FunctionDeclaration=function(e,t,r){return r(e,t,"Function")},d.VariableDeclaration=function(e,t,r){for(var n=0;n<e.declarations.length;++n)r(e.declarations[n],t)},d.VariableDeclarator=function(e,t,r){r(e.id,t,"Pattern"),e.init&&r(e.init,t,"Expression")},d.Function=function(e,t,r){e.id&&r(e.id,t,"Pattern");for(var n=0;n<e.params.length;n++)r(e.params[n],t,"Pattern");r(e.body,t,e.expression?"ScopeExpression":"ScopeBody")},d.ScopeBody=function(e,t,r){return r(e,t,"Statement")},d.ScopeExpression=function(e,t,r){return r(e,t,"Expression")},d.Pattern=function(e,t,r){"Identifier"==e.type?r(e,t,"VariablePattern"):"MemberExpression"==e.type?r(e,t,"MemberPattern"):r(e,t)},d.VariablePattern=p,d.MemberPattern=l,d.RestElement=function(e,t,r){return r(e.argument,t,"Pattern")},d.ArrayPattern=function(e,t,r){for(var n=0;n<e.elements.length;++n){var i=e.elements[n];i&&r(i,t,"Pattern")}},d.ObjectPattern=function(e,t,r){for(var n=0;n<e.properties.length;++n)r(e.properties[n].value,t,"Pattern")},d.Expression=l,d.ThisExpression=d.Super=d.MetaProperty=p,d.ArrayExpression=function(e,t,r){for(var n=0;n<e.elements.length;++n){var i=e.elements[n];i&&r(i,t,"Expression")}},d.ObjectExpression=function(e,t,r){for(var n=0;n<e.properties.length;++n)r(e.properties[n],t)},d.FunctionExpression=d.ArrowFunctionExpression=d.FunctionDeclaration,d.SequenceExpression=d.TemplateLiteral=function(e,t,r){for(var n=0;n<e.expressions.length;++n)r(e.expressions[n],t,"Expression")},d.UnaryExpression=d.UpdateExpression=function(e,t,r){r(e.argument,t,"Expression")},d.BinaryExpression=d.LogicalExpression=function(e,t,r){r(e.left,t,"Expression"),r(e.right,t,"Expression")},d.AssignmentExpression=d.AssignmentPattern=function(e,t,r){r(e.left,t,"Pattern"),r(e.right,t,"Expression")},d.ConditionalExpression=function(e,t,r){r(e.test,t,"Expression"),r(e.consequent,t,"Expression"),r(e.alternate,t,"Expression")},d.NewExpression=d.CallExpression=function(e,t,r){if(r(e.callee,t,"Expression"),e.arguments)for(var n=0;n<e.arguments.length;++n)r(e.arguments[n],t,"Expression")},d.MemberExpression=function(e,t,r){r(e.object,t,"Expression"),e.computed&&r(e.property,t,"Expression")},d.ExportNamedDeclaration=d.ExportDefaultDeclaration=function(e,t,r){e.declaration&&r(e.declaration,t,"ExportNamedDeclaration"==e.type||e.declaration.id?"Statement":"Expression"),e.source&&r(e.source,t,"Expression")},d.ExportAllDeclaration=function(e,t,r){r(e.source,t,"Expression")},d.ImportDeclaration=function(e,t,r){for(var n=0;n<e.specifiers.length;n++)r(e.specifiers[n],t);r(e.source,t,"Expression")},d.ImportSpecifier=d.ImportDefaultSpecifier=d.ImportNamespaceSpecifier=d.Identifier=d.Literal=p,d.TaggedTemplateExpression=function(e,t,r){r(e.tag,t,"Expression"),r(e.quasi,t)},d.ClassDeclaration=d.ClassExpression=function(e,t,r){return r(e,t,"Class")},d.Class=function(e,t,r){e.id&&r(e.id,t,"Pattern"),e.superClass&&r(e.superClass,t,"Expression");for(var n=0;n<e.body.body.length;n++)r(e.body.body[n],t)},d.MethodDefinition=d.Property=function(e,t,r){e.computed&&r(e.key,t,"Expression"),r(e.value,t,"Expression")},e.simple=t,e.ancestor=r,e.recursive=n,e.findNodeAt=o,e.findNodeAround=s,e.findNodeAfter=a,e.findNodeBefore=u,e.make=c,e.base=d,Object.defineProperty(e,"__esModule",{value:!0})}),function(t,r){"function"==typeof e&&e.amd?e(["exports","./acorn"],r):r((t.acorn=t.acorn||{},t.acorn.loose=t.acorn.loose||{}),t.acorn)}(this,function(e,t){"use strict";function r(e){return e<14&&e>8||32===e||160===e||t.isNewLine(e)}function n(e){return""==e.name}function i(e,t){var r=new s(e,t);return r.next(),r.parseTopLevel()}var o={},s=function(e,r){if(void 0===r&&(r={}),this.toks=t.tokenizer(e,r),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:t.tokTypes.eof,start:0,end:0},this.options.locations){var n=this.toks.curPosition();this.tok.loc=new t.SourceLocation(this.toks,n,n)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.inAsync=!1,this.options.pluginsLoose=r.pluginsLoose||{},this.loadPlugins(this.options.pluginsLoose)};s.prototype.startNode=function(){return new t.Node(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)},s.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},s.prototype.startNodeAt=function(e){return this.options.locations?new t.Node(this.toks,e[0],e[1]):new t.Node(this.toks,e)},s.prototype.finishNode=function(e,t){return e.type=t,e.end=this.last.end,this.options.locations&&(e.loc.end=this.last.loc.end),this.options.ranges&&(e.range[1]=this.last.end),e},s.prototype.dummyNode=function(e){var r=this.startNode();return r.type=e,r.end=r.start,this.options.locations&&(r.loc.end=r.loc.start),this.options.ranges&&(r.range[1]=r.start),this.last={type:t.tokTypes.name,start:r.start,end:r.start,loc:r.loc},r},s.prototype.dummyIdent=function(){var e=this.dummyNode("Identifier");return e.name="",e},s.prototype.dummyString=function(){var e=this.dummyNode("Literal");return e.value=e.raw="",e},s.prototype.eat=function(e){return this.tok.type===e&&(this.next(),!0)},s.prototype.isContextual=function(e){return this.tok.type===t.tokTypes.name&&this.tok.value===e},s.prototype.eatContextual=function(e){return this.tok.value===e&&this.eat(t.tokTypes.name)},s.prototype.canInsertSemicolon=function(){return this.tok.type===t.tokTypes.eof||this.tok.type===t.tokTypes.braceR||t.lineBreak.test(this.input.slice(this.last.end,this.tok.start))},s.prototype.semicolon=function(){return this.eat(t.tokTypes.semi)},s.prototype.expect=function(e){var t=this;if(this.eat(e))return!0;for(var r=1;r<=2;r++)if(t.lookAhead(r).type==e){for(var n=0;n<r;n++)t.next();return!0}},s.prototype.pushCx=function(){this.context.push(this.curIndent)},s.prototype.popCx=function(){this.curIndent=this.context.pop()},s.prototype.lineEnd=function(e){for(;e<this.input.length&&!t.isNewLine(this.input.charCodeAt(e));)++e;return e},s.prototype.indentationAfter=function(e){for(var t=this,r=0;;++e){var n=t.input.charCodeAt(e);if(32===n)++r;else{if(9!==n)return r;r+=t.options.tabSize}}},s.prototype.closes=function(e,r,n,i){return this.tok.type===e||this.tok.type===t.tokTypes.eof||n!=this.curLineStart&&this.curIndent<r&&this.tokenStartsLine()&&(!i||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<r)},s.prototype.tokenStartsLine=function(){for(var e=this,t=this.tok.start-1;t>=this.curLineStart;--t){var r=e.input.charCodeAt(t);if(9!==r&&32!==r)return!1}return!0},s.prototype.extend=function(e,t){this[e]=t(this[e])},s.prototype.loadPlugins=function(e){var t=this;for(var r in e){var n=o[r];if(!n)throw new Error("Plugin '"+r+"' not found");n(t,e[r])}};var a=s.prototype;a.next=function(){var e=this;if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)e.curLineStart=e.nextLineStart,e.nextLineStart=e.lineEnd(e.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},a.readToken=function(){for(var e=this;;)try{return e.toks.next(),e.toks.type===t.tokTypes.dot&&"."===e.input.substr(e.toks.end,1)&&e.options.ecmaVersion>=6&&(e.toks.end++,e.toks.type=t.tokTypes.ellipsis),new t.Token(e.toks)}catch(u){if(!(u instanceof SyntaxError))throw u;var n=u.message,i=u.raisedAt,o=!0;if(/unterminated/i.test(n))if(i=e.lineEnd(u.pos+1),/string/.test(n))o={start:u.pos,end:i,type:t.tokTypes.string,value:e.input.slice(u.pos+1,i)};else if(/regular expr/i.test(n)){var s=e.input.slice(u.pos,i);try{s=new RegExp(s)}catch(e){}o={start:u.pos,end:i,type:t.tokTypes.regexp,value:s}}else o=!!/template/.test(n)&&{start:u.pos,end:i,type:t.tokTypes.template,value:e.input.slice(u.pos,i)};else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(n))for(;i<this.input.length&&!r(this.input.charCodeAt(i));)++i;else if(/character escape|expected hexadecimal/i.test(n))for(;i<this.input.length;){var a=e.input.charCodeAt(i++);if(34===a||39===a||t.isNewLine(a))break}else if(/unexpected character/i.test(n))i++,o=!1;else{if(!/regular expression/i.test(n))throw u;o=!0}if(e.resetTo(i),!0===o&&(o={start:i,end:i,type:t.tokTypes.name,value:""}),o)return e.options.locations&&(o.loc=new t.SourceLocation(e.toks,t.getLineInfo(e.input,o.start),t.getLineInfo(e.input,o.end))),o}},a.resetTo=function(e){var r=this;this.toks.pos=e;var n=this.input.charAt(e-1);if(this.toks.exprAllowed=!n||/[\[\{\(,;:?\/*=+\-~!|&%^<>]/.test(n)||/[enwfd]/.test(n)&&/\b(keywords|case|else|return|throw|new|in|(instance|type)of|delete|void)$/.test(this.input.slice(e-10,e)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=t.lineBreakG.lastIndex=0;for(var i;(i=t.lineBreakG.exec(this.input))&&i.index<e;)++r.toks.curLine,r.toks.lineStart=i.index+i[0].length}},a.lookAhead=function(e){for(var t=this;e>this.ahead.length;)t.ahead.push(t.readToken());return this.ahead[e-1]};var u=s.prototype;u.parseTopLevel=function(){var e=this,r=this.startNodeAt(this.options.locations?[0,t.getLineInfo(this.input,0)]:0);for(r.body=[];this.tok.type!==t.tokTypes.eof;)r.body.push(e.parseStatement());return this.last=this.tok,this.options.ecmaVersion>=6&&(r.sourceType=this.options.sourceType),this.finishNode(r,"Program")},u.parseStatement=function(){var e,r=this,i=this.tok.type,o=this.startNode();switch(this.toks.isLet()&&(i=t.tokTypes._var,e="let"),i){case t.tokTypes._break:case t.tokTypes._continue:this.next();var s=i===t.tokTypes._break;return this.semicolon()||this.canInsertSemicolon()?o.label=null:(o.label=this.tok.type===t.tokTypes.name?this.parseIdent():null,this.semicolon()),this.finishNode(o,s?"BreakStatement":"ContinueStatement");case t.tokTypes._debugger:return this.next(),this.semicolon(),this.finishNode(o,"DebuggerStatement");case t.tokTypes._do:return this.next(),o.body=this.parseStatement(),o.test=this.eat(t.tokTypes._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(o,"DoWhileStatement");case t.tokTypes._for:if(this.next(),this.pushCx(),this.expect(t.tokTypes.parenL),this.tok.type===t.tokTypes.semi)return this.parseFor(o,null);var a=this.toks.isLet();if(a||this.tok.type===t.tokTypes._var||this.tok.type===t.tokTypes._const){var u=this.parseVar(!0,a?"let":this.tok.value);return 1!==u.declarations.length||this.tok.type!==t.tokTypes._in&&!this.isContextual("of")?this.parseFor(o,u):this.parseForIn(o,u)}var c=this.parseExpression(!0);return this.tok.type===t.tokTypes._in||this.isContextual("of")?this.parseForIn(o,this.toAssignable(c)):this.parseFor(o,c);case t.tokTypes._function:return this.next(),this.parseFunction(o,!0);case t.tokTypes._if:return this.next(),o.test=this.parseParenExpression(),o.consequent=this.parseStatement(),o.alternate=this.eat(t.tokTypes._else)?this.parseStatement():null,this.finishNode(o,"IfStatement");case t.tokTypes._return:return this.next(),this.eat(t.tokTypes.semi)||this.canInsertSemicolon()?o.argument=null:(o.argument=this.parseExpression(),this.semicolon()),this.finishNode(o,"ReturnStatement");case t.tokTypes._switch:var l=this.curIndent,p=this.curLineStart;this.next(),o.discriminant=this.parseParenExpression(),o.cases=[],this.pushCx(),this.expect(t.tokTypes.braceL);for(var f;!this.closes(t.tokTypes.braceR,l,p,!0);)if(r.tok.type===t.tokTypes._case||r.tok.type===t.tokTypes._default){var h=r.tok.type===t.tokTypes._case;f&&r.finishNode(f,"SwitchCase"),o.cases.push(f=r.startNode()),f.consequent=[],r.next(),f.test=h?r.parseExpression():null,r.expect(t.tokTypes.colon)}else f||(o.cases.push(f=r.startNode()),f.consequent=[],f.test=null),f.consequent.push(r.parseStatement());return f&&this.finishNode(f,"SwitchCase"),this.popCx(),this.eat(t.tokTypes.braceR),this.finishNode(o,"SwitchStatement");case t.tokTypes._throw:return this.next(),o.argument=this.parseExpression(),this.semicolon(),this.finishNode(o,"ThrowStatement");case t.tokTypes._try:if(this.next(),o.block=this.parseBlock(),o.handler=null,this.tok.type===t.tokTypes._catch){var d=this.startNode();this.next(),this.expect(t.tokTypes.parenL),d.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(t.tokTypes.parenR),d.body=this.parseBlock(),o.handler=this.finishNode(d,"CatchClause")}return o.finalizer=this.eat(t.tokTypes._finally)?this.parseBlock():null,o.handler||o.finalizer?this.finishNode(o,"TryStatement"):o.block;case t.tokTypes._var:case t.tokTypes._const:return this.parseVar(!1,e||this.tok.value);case t.tokTypes._while:return this.next(),o.test=this.parseParenExpression(),o.body=this.parseStatement(),this.finishNode(o,"WhileStatement");case t.tokTypes._with:return this.next(),o.object=this.parseParenExpression(),o.body=this.parseStatement(),this.finishNode(o,"WithStatement");case t.tokTypes.braceL:return this.parseBlock();case t.tokTypes.semi:return this.next(),this.finishNode(o,"EmptyStatement");case t.tokTypes._class:return this.parseClass(!0);case t.tokTypes._import:return this.parseImport();case t.tokTypes._export:return this.parseExport();default:if(this.toks.isAsyncFunction())return this.next(),this.next(),this.parseFunction(o,!0,!0);var m=this.parseExpression();return n(m)?(this.next(),this.tok.type===t.tokTypes.eof?this.finishNode(o,"EmptyStatement"):this.parseStatement()):i===t.tokTypes.name&&"Identifier"===m.type&&this.eat(t.tokTypes.colon)?(o.body=this.parseStatement(),o.label=m,this.finishNode(o,"LabeledStatement")):(o.expression=m,this.semicolon(),this.finishNode(o,"ExpressionStatement"))}},u.parseBlock=function(){var e=this,r=this.startNode();this.pushCx(),this.expect(t.tokTypes.braceL);var n=this.curIndent,i=this.curLineStart;for(r.body=[];!this.closes(t.tokTypes.braceR,n,i,!0);)r.body.push(e.parseStatement());return this.popCx(),this.eat(t.tokTypes.braceR),this.finishNode(r,"BlockStatement")},u.parseFor=function(e,r){return e.init=r,e.test=e.update=null,this.eat(t.tokTypes.semi)&&this.tok.type!==t.tokTypes.semi&&(e.test=this.parseExpression()),this.eat(t.tokTypes.semi)&&this.tok.type!==t.tokTypes.parenR&&(e.update=this.parseExpression()),this.popCx(),this.expect(t.tokTypes.parenR),e.body=this.parseStatement(),this.finishNode(e,"ForStatement")},u.parseForIn=function(e,r){var n=this.tok.type===t.tokTypes._in?"ForInStatement":"ForOfStatement";return this.next(),e.left=r,e.right=this.parseExpression(),this.popCx(),this.expect(t.tokTypes.parenR),e.body=this.parseStatement(),this.finishNode(e,n)},u.parseVar=function(e,r){var n=this,i=this.startNode();i.kind=r,this.next(),i.declarations=[];do{var o=n.startNode();o.id=n.options.ecmaVersion>=6?n.toAssignable(n.parseExprAtom(),!0):n.parseIdent(),o.init=n.eat(t.tokTypes.eq)?n.parseMaybeAssign(e):null,i.declarations.push(n.finishNode(o,"VariableDeclarator"))}while(this.eat(t.tokTypes.comma));if(!i.declarations.length){var s=this.startNode();s.id=this.dummyIdent(),i.declarations.push(this.finishNode(s,"VariableDeclarator"))}return e||this.semicolon(),this.finishNode(i,"VariableDeclaration")},u.parseClass=function(e){var r=this,i=this.startNode();this.next(),null==e&&(e=this.tok.type===t.tokTypes.name),this.tok.type===t.tokTypes.name?i.id=this.parseIdent():i.id=e?this.dummyIdent():null,i.superClass=this.eat(t.tokTypes._extends)?this.parseExpression():null,i.body=this.startNode(),i.body.body=[],this.pushCx();var o=this.curIndent+1,s=this.curLineStart;for(this.eat(t.tokTypes.braceL),this.curIndent+1<o&&(o=this.curIndent,s=this.curLineStart);!this.closes(t.tokTypes.braceR,o,s);)if(!r.semicolon()){var a,u,c=r.startNode();r.options.ecmaVersion>=6&&(c.static=!1,a=r.eat(t.tokTypes.star)),r.parsePropertyName(c),n(c.key)?(n(r.parseMaybeAssign())&&r.next(),r.eat(t.tokTypes.comma)):("Identifier"!==c.key.type||c.computed||"static"!==c.key.name||r.tok.type==t.tokTypes.parenL||r.tok.type==t.tokTypes.braceL?c.static=!1:(c.static=!0,a=r.eat(t.tokTypes.star),r.parsePropertyName(c)),c.computed||"Identifier"!==c.key.type||"async"!==c.key.name||r.tok.type===t.tokTypes.parenL||r.canInsertSemicolon()?u=!1:(r.parsePropertyName(c),u=!0),r.options.ecmaVersion>=5&&"Identifier"===c.key.type&&!c.computed&&("get"===c.key.name||"set"===c.key.name)&&r.tok.type!==t.tokTypes.parenL&&r.tok.type!==t.tokTypes.braceL?(c.kind=c.key.name,r.parsePropertyName(c),c.value=r.parseMethod(!1)):(c.computed||c.static||a||u||!("Identifier"===c.key.type&&"constructor"===c.key.name||"Literal"===c.key.type&&"constructor"===c.key.value)?c.kind="method":c.kind="constructor",c.value=r.parseMethod(a,u)),i.body.body.push(r.finishNode(c,"MethodDefinition")))}return this.popCx(),this.eat(t.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(i.body,"ClassBody"),this.finishNode(i,e?"ClassDeclaration":"ClassExpression")},u.parseFunction=function(e,r,n){var i=this.inAsync;return this.initFunction(e),this.options.ecmaVersion>=6&&(e.generator=this.eat(t.tokTypes.star)),this.options.ecmaVersion>=8&&(e.async=!!n),null==r&&(r=this.tok.type===t.tokTypes.name),this.tok.type===t.tokTypes.name?e.id=this.parseIdent():r&&(e.id=this.dummyIdent()),this.inAsync=e.async,e.params=this.parseFunctionParams(),e.body=this.parseBlock(),this.inAsync=i,this.finishNode(e,r?"FunctionDeclaration":"FunctionExpression")},u.parseExport=function(){var e=this.startNode();if(this.next(),this.eat(t.tokTypes.star))return e.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(t.tokTypes._default)){var r;if(this.tok.type===t.tokTypes._function||(r=this.toks.isAsyncFunction())){var n=this.startNode();this.next(),r&&this.next(),e.declaration=this.parseFunction(n,null,r)}else this.tok.type===t.tokTypes._class?e.declaration=this.parseClass(null):(e.declaration=this.parseMaybeAssign(),this.semicolon());return this.finishNode(e,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()||this.toks.isAsyncFunction()?(e.declaration=this.parseStatement(),e.specifiers=[],e.source=null):(e.declaration=null,e.specifiers=this.parseExportSpecifierList(),e.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(e,"ExportNamedDeclaration")},u.parseImport=function(){var e=this.startNode();if(this.next(),this.tok.type===t.tokTypes.string)e.specifiers=[],e.source=this.parseExprAtom(),e.kind="";else{var r;this.tok.type===t.tokTypes.name&&"from"!==this.tok.value&&(r=this.startNode(),r.local=this.parseIdent(),this.finishNode(r,"ImportDefaultSpecifier"),this.eat(t.tokTypes.comma)),e.specifiers=this.parseImportSpecifierList(),e.source=this.eatContextual("from")&&this.tok.type==t.tokTypes.string?this.parseExprAtom():this.dummyString(),r&&e.specifiers.unshift(r)}return this.semicolon(),this.finishNode(e,"ImportDeclaration")},u.parseImportSpecifierList=function(){var e=this,r=[];if(this.tok.type===t.tokTypes.star){var i=this.startNode();this.next(),i.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),r.push(this.finishNode(i,"ImportNamespaceSpecifier"))}else{var o=this.curIndent,s=this.curLineStart,a=this.nextLineStart;for(this.pushCx(),this.eat(t.tokTypes.braceL),this.curLineStart>a&&(a=this.curLineStart);!this.closes(t.tokTypes.braceR,o+(this.curLineStart<=a?1:0),s);){var u=e.startNode();if(e.eat(t.tokTypes.star))u.local=e.eatContextual("as")?e.parseIdent():e.dummyIdent(),e.finishNode(u,"ImportNamespaceSpecifier");else{if(e.isContextual("from"))break;if(u.imported=e.parseIdent(),n(u.imported))break;u.local=e.eatContextual("as")?e.parseIdent():u.imported,e.finishNode(u,"ImportSpecifier")}r.push(u),e.eat(t.tokTypes.comma)}this.eat(t.tokTypes.braceR),this.popCx()}return r},u.parseExportSpecifierList=function(){var e=this,r=[],i=this.curIndent,o=this.curLineStart,s=this.nextLineStart;for(this.pushCx(),this.eat(t.tokTypes.braceL),this.curLineStart>s&&(s=this.curLineStart);!this.closes(t.tokTypes.braceR,i+(this.curLineStart<=s?1:0),o)&&!e.isContextual("from");){var a=e.startNode();if(a.local=e.parseIdent(),n(a.local))break;a.exported=e.eatContextual("as")?e.parseIdent():a.local,e.finishNode(a,"ExportSpecifier"),r.push(a),e.eat(t.tokTypes.comma)}return this.eat(t.tokTypes.braceR),this.popCx(),r};var c=s.prototype;c.checkLVal=function(e){if(!e)return e;switch(e.type){case"Identifier":case"MemberExpression":return e;case"ParenthesizedExpression":return e.expression=this.checkLVal(e.expression),e;default:return this.dummyIdent()}},c.parseExpression=function(e){var r=this,n=this.storeCurrentPos(),i=this.parseMaybeAssign(e);if(this.tok.type===t.tokTypes.comma){var o=this.startNodeAt(n);for(o.expressions=[i];this.eat(t.tokTypes.comma);)o.expressions.push(r.parseMaybeAssign(e));return this.finishNode(o,"SequenceExpression")}return i},c.parseParenExpression=function(){this.pushCx(),this.expect(t.tokTypes.parenL);var e=this.parseExpression();return this.popCx(),this.expect(t.tokTypes.parenR),e},c.parseMaybeAssign=function(e){if(this.toks.isContextual("yield")){var r=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!=t.tokTypes.star&&!this.tok.type.startsExpr?(r.delegate=!1,r.argument=null):(r.delegate=this.eat(t.tokTypes.star),r.argument=this.parseMaybeAssign()),this.finishNode(r,"YieldExpression")}var n=this.storeCurrentPos(),i=this.parseMaybeConditional(e);if(this.tok.type.isAssign){var o=this.startNodeAt(n);return o.operator=this.tok.value,o.left=this.tok.type===t.tokTypes.eq?this.toAssignable(i):this.checkLVal(i),this.next(),o.right=this.parseMaybeAssign(e),this.finishNode(o,"AssignmentExpression")}return i},c.parseMaybeConditional=function(e){var r=this.storeCurrentPos(),n=this.parseExprOps(e);if(this.eat(t.tokTypes.question)){var i=this.startNodeAt(r);return i.test=n,i.consequent=this.parseMaybeAssign(),i.alternate=this.expect(t.tokTypes.colon)?this.parseMaybeAssign(e):this.dummyIdent(),this.finishNode(i,"ConditionalExpression")}return n},c.parseExprOps=function(e){var t=this.storeCurrentPos(),r=this.curIndent,n=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),t,-1,e,r,n)},
c.parseExprOp=function(e,r,n,i,o,s){if(this.curLineStart!=s&&this.curIndent<o&&this.tokenStartsLine())return e;var a=this.tok.type.binop;if(null!=a&&(!i||this.tok.type!==t.tokTypes._in)&&a>n){var u=this.startNodeAt(r);if(u.left=e,u.operator=this.tok.value,this.next(),this.curLineStart!=s&&this.curIndent<o&&this.tokenStartsLine())u.right=this.dummyIdent();else{var c=this.storeCurrentPos();u.right=this.parseExprOp(this.parseMaybeUnary(!1),c,a,i,o,s)}return this.finishNode(u,/&&|\|\|/.test(u.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(u,r,n,i,o,s)}return e},c.parseMaybeUnary=function(e){var r,n=this,i=this.storeCurrentPos();if(this.options.ecmaVersion>=8&&this.inAsync&&this.toks.isContextual("await"))r=this.parseAwait(),e=!0;else if(this.tok.type.prefix){var o=this.startNode(),s=this.tok.type===t.tokTypes.incDec;s||(e=!0),o.operator=this.tok.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(!0),s&&(o.argument=this.checkLVal(o.argument)),r=this.finishNode(o,s?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===t.tokTypes.ellipsis){var a=this.startNode();this.next(),a.argument=this.parseMaybeUnary(e),r=this.finishNode(a,"SpreadElement")}else for(r=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var u=n.startNodeAt(i);u.operator=n.tok.value,u.prefix=!1,u.argument=n.checkLVal(r),n.next(),r=n.finishNode(u,"UpdateExpression")}if(!e&&this.eat(t.tokTypes.starstar)){var c=this.startNodeAt(i);return c.operator="**",c.left=r,c.right=this.parseMaybeUnary(!1),this.finishNode(c,"BinaryExpression")}return r},c.parseExprSubscripts=function(){var e=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),e,!1,this.curIndent,this.curLineStart)},c.parseSubscripts=function(e,r,n,i,o){for(var s=this;;){if(s.curLineStart!=o&&s.curIndent<=i&&s.tokenStartsLine()){if(s.tok.type!=t.tokTypes.dot||s.curIndent!=i)return e;--i}var a="Identifier"===e.type&&"async"===e.name&&!s.canInsertSemicolon();if(s.eat(t.tokTypes.dot)){var u=s.startNodeAt(r);u.object=e,s.curLineStart!=o&&s.curIndent<=i&&s.tokenStartsLine()?u.property=s.dummyIdent():u.property=s.parsePropertyAccessor()||s.dummyIdent(),u.computed=!1,e=s.finishNode(u,"MemberExpression")}else if(s.tok.type==t.tokTypes.bracketL){s.pushCx(),s.next();var c=s.startNodeAt(r);c.object=e,c.property=s.parseExpression(),c.computed=!0,s.popCx(),s.expect(t.tokTypes.bracketR),e=s.finishNode(c,"MemberExpression")}else if(n||s.tok.type!=t.tokTypes.parenL){if(s.tok.type!=t.tokTypes.backQuote)return e;var l=s.startNodeAt(r);l.tag=e,l.quasi=s.parseTemplate(),e=s.finishNode(l,"TaggedTemplateExpression")}else{var p=s.parseExprList(t.tokTypes.parenR);if(a&&s.eat(t.tokTypes.arrow))return s.parseArrowExpression(s.startNodeAt(r),p,!0);var f=s.startNodeAt(r);f.callee=e,f.arguments=p,e=s.finishNode(f,"CallExpression")}}},c.parseExprAtom=function(){var e;switch(this.tok.type){case t.tokTypes._this:case t.tokTypes._super:var r=this.tok.type===t.tokTypes._this?"ThisExpression":"Super";return e=this.startNode(),this.next(),this.finishNode(e,r);case t.tokTypes.name:var i=this.storeCurrentPos(),o=this.parseIdent(),s=!1;if("async"===o.name&&!this.canInsertSemicolon()){if(this.eat(t.tokTypes._function))return this.parseFunction(this.startNodeAt(i),!1,!0);this.tok.type===t.tokTypes.name&&(o=this.parseIdent(),s=!0)}return this.eat(t.tokTypes.arrow)?this.parseArrowExpression(this.startNodeAt(i),[o],s):o;case t.tokTypes.regexp:e=this.startNode();var a=this.tok.value;return e.regex={pattern:a.pattern,flags:a.flags},e.value=a.value,e.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(e,"Literal");case t.tokTypes.num:case t.tokTypes.string:return e=this.startNode(),e.value=this.tok.value,e.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(e,"Literal");case t.tokTypes._null:case t.tokTypes._true:case t.tokTypes._false:return e=this.startNode(),e.value=this.tok.type===t.tokTypes._null?null:this.tok.type===t.tokTypes._true,e.raw=this.tok.type.keyword,this.next(),this.finishNode(e,"Literal");case t.tokTypes.parenL:var u=this.storeCurrentPos();this.next();var c=this.parseExpression();if(this.expect(t.tokTypes.parenR),this.eat(t.tokTypes.arrow)){var l=c.expressions||[c];return l.length&&n(l[l.length-1])&&l.pop(),this.parseArrowExpression(this.startNodeAt(u),l)}if(this.options.preserveParens){var p=this.startNodeAt(u);p.expression=c,c=this.finishNode(p,"ParenthesizedExpression")}return c;case t.tokTypes.bracketL:return e=this.startNode(),e.elements=this.parseExprList(t.tokTypes.bracketR,!0),this.finishNode(e,"ArrayExpression");case t.tokTypes.braceL:return this.parseObj();case t.tokTypes._class:return this.parseClass(!1);case t.tokTypes._function:return e=this.startNode(),this.next(),this.parseFunction(e,!1);case t.tokTypes._new:return this.parseNew();case t.tokTypes.backQuote:return this.parseTemplate();default:return this.dummyIdent()}},c.parseNew=function(){var e=this.startNode(),r=this.curIndent,n=this.curLineStart,i=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(t.tokTypes.dot))return e.meta=i,e.property=this.parseIdent(!0),this.finishNode(e,"MetaProperty");var o=this.storeCurrentPos();return e.callee=this.parseSubscripts(this.parseExprAtom(),o,!0,r,n),this.tok.type==t.tokTypes.parenL?e.arguments=this.parseExprList(t.tokTypes.parenR):e.arguments=[],this.finishNode(e,"NewExpression")},c.parseTemplateElement=function(){var e=this.startNode();return e.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,"\n"),cooked:this.tok.value},this.next(),e.tail=this.tok.type===t.tokTypes.backQuote,this.finishNode(e,"TemplateElement")},c.parseTemplate=function(){var e=this,r=this.startNode();this.next(),r.expressions=[];var n=this.parseTemplateElement();for(r.quasis=[n];!n.tail;)e.next(),r.expressions.push(e.parseExpression()),e.expect(t.tokTypes.braceR)?n=e.parseTemplateElement():(n=e.startNode(),n.value={cooked:"",raw:""},n.tail=!0,e.finishNode(n,"TemplateElement")),r.quasis.push(n);return this.expect(t.tokTypes.backQuote),this.finishNode(r,"TemplateLiteral")},c.parseObj=function(){var e=this,r=this.startNode();r.properties=[],this.pushCx();var i=this.curIndent+1,o=this.curLineStart;for(this.eat(t.tokTypes.braceL),this.curIndent+1<i&&(i=this.curIndent,o=this.curLineStart);!this.closes(t.tokTypes.braceR,i,o);){var s,a,u,c=e.startNode();if(e.options.ecmaVersion>=6&&(u=e.storeCurrentPos(),c.method=!1,c.shorthand=!1,s=e.eat(t.tokTypes.star)),e.parsePropertyName(c),c.computed||"Identifier"!==c.key.type||"async"!==c.key.name||e.tok.type===t.tokTypes.parenL||e.tok.type===t.tokTypes.colon||e.canInsertSemicolon()?a=!1:(e.parsePropertyName(c),a=!0),n(c.key))n(e.parseMaybeAssign())&&e.next(),e.eat(t.tokTypes.comma);else{if(e.eat(t.tokTypes.colon))c.kind="init",c.value=e.parseMaybeAssign();else if(e.options.ecmaVersion>=6&&(e.tok.type===t.tokTypes.parenL||e.tok.type===t.tokTypes.braceL))c.kind="init",c.method=!0,c.value=e.parseMethod(s,a);else if(e.options.ecmaVersion>=5&&"Identifier"===c.key.type&&!c.computed&&("get"===c.key.name||"set"===c.key.name)&&e.tok.type!=t.tokTypes.comma&&e.tok.type!=t.tokTypes.braceR)c.kind=c.key.name,e.parsePropertyName(c),c.value=e.parseMethod(!1);else{if(c.kind="init",e.options.ecmaVersion>=6)if(e.eat(t.tokTypes.eq)){var l=e.startNodeAt(u);l.operator="=",l.left=c.key,l.right=e.parseMaybeAssign(),c.value=e.finishNode(l,"AssignmentExpression")}else c.value=c.key;else c.value=e.dummyIdent();c.shorthand=!0}r.properties.push(e.finishNode(c,"Property")),e.eat(t.tokTypes.comma)}}return this.popCx(),this.eat(t.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(r,"ObjectExpression")},c.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(t.tokTypes.bracketL))return e.computed=!0,e.key=this.parseExpression(),void this.expect(t.tokTypes.bracketR);e.computed=!1}var r=this.tok.type===t.tokTypes.num||this.tok.type===t.tokTypes.string?this.parseExprAtom():this.parseIdent();e.key=r||this.dummyIdent()},c.parsePropertyAccessor=function(){if(this.tok.type===t.tokTypes.name||this.tok.type.keyword)return this.parseIdent()},c.parseIdent=function(){var e=this.tok.type===t.tokTypes.name?this.tok.value:this.tok.type.keyword;if(!e)return this.dummyIdent();var r=this.startNode();return this.next(),r.name=e,this.finishNode(r,"Identifier")},c.initFunction=function(e){e.id=null,e.params=[],this.options.ecmaVersion>=6&&(e.generator=!1,e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},c.toAssignable=function(e,t){var r=this;if(!e||"Identifier"==e.type||"MemberExpression"==e.type&&!t);else if("ParenthesizedExpression"==e.type)e.expression=this.toAssignable(e.expression,t);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if("ObjectExpression"==e.type){e.type="ObjectPattern";for(var n=e.properties,i=0;i<n.length;i++)n[i].value=r.toAssignable(n[i].value,t)}else if("ArrayExpression"==e.type)e.type="ArrayPattern",this.toAssignableList(e.elements,t);else if("SpreadElement"==e.type)e.type="RestElement",e.argument=this.toAssignable(e.argument,t);else{if("AssignmentExpression"!=e.type)return this.dummyIdent();e.type="AssignmentPattern",delete e.operator}}return e},c.toAssignableList=function(e,t){for(var r=this,n=0;n<e.length;n++)e[n]=r.toAssignable(e[n],t);return e},c.parseFunctionParams=function(e){return e=this.parseExprList(t.tokTypes.parenR),this.toAssignableList(e,!0)},c.parseMethod=function(e,r){var n=this.startNode(),i=this.inAsync;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=!!e),this.options.ecmaVersion>=8&&(n.async=!!r),this.inAsync=n.async,n.params=this.parseFunctionParams(),n.expression=this.options.ecmaVersion>=6&&this.tok.type!==t.tokTypes.braceL,n.body=n.expression?this.parseMaybeAssign():this.parseBlock(),this.inAsync=i,this.finishNode(n,"FunctionExpression")},c.parseArrowExpression=function(e,r,n){var i=this.inAsync;return this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.inAsync=e.async,e.params=this.toAssignableList(r,!0),e.expression=this.tok.type!==t.tokTypes.braceL,e.body=e.expression?this.parseMaybeAssign():this.parseBlock(),this.inAsync=i,this.finishNode(e,"ArrowFunctionExpression")},c.parseExprList=function(e,r){var i=this;this.pushCx();var o=this.curIndent,s=this.curLineStart,a=[];for(this.next();!this.closes(e,o+1,s);)if(i.eat(t.tokTypes.comma))a.push(r?null:i.dummyIdent());else{var u=i.parseMaybeAssign();if(n(u)){if(i.closes(e,o,s))break;i.next()}else a.push(u);i.eat(t.tokTypes.comma)}return this.popCx(),this.eat(e)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),a},c.parseAwait=function(){var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(),this.finishNode(e,"AwaitExpression")},t.defaultOptions.tabSize=4,t.addLooseExports(i,s,o),e.parse_dammit=i,e.LooseParser=s,e.pluginsLoose=o,Object.defineProperty(e,"__esModule",{value:!0})}),function(e){function t(e,t){return e.lineStart>=t}function r(e,t,r){var n=t.input.slice(t.start);return r&&(n=n.replace(u,"$1 $3")),e.test(n)}function n(e,t,r){var n=new e.constructor(e.options,e.input,t);if(r)for(var i in r)n[i]=r[i];var o=e,s=n;return["inFunction","inAsync","inGenerator","inModule"].forEach(function(e){e in o&&(s[e]=o[e])}),n.nextToken(),n}function i(e,i){i&&"object"==typeof i||(i={}),e.extend("parse",function(t){return function(){return this.inAsync=i.inAsyncFunction,i.awaitAnywhere&&i.inAsyncFunction&&e.raise(node.start,"The options awaitAnywhere and inAsyncFunction are mutually exclusive"),t.apply(this,arguments)}}),e.extend("parseStatement",function(e){return function(t,n){var o=this.start,a=this.startLoc;if("name"===this.type.label&&i.asyncExits&&r(s,this)){this.next();var u=this.parseStatement(t,n);return u.async=!0,u.start=o,u.loc&&(u.loc.start=a),u.range&&(u.range[0]=o),u}return e.apply(this,arguments)}}),e.extend("parseIdent",function(e){return function(t){return"module"===this.options.sourceType&&this.options.ecmaVersion>=8&&i.awaitAnywhere?e.call(this,!0):e.apply(this,arguments)}}),e.extend("parseExprAtom",function(e){var t={};return function(r){var o,s=this.start,a=(this.startLoc,e.apply(this,arguments));if("Identifier"===a.type&&"await"===a.name&&!this.inAsync&&i.awaitAnywhere){var u=this.startNodeAt(a.start,a.loc&&a.loc.start);s=this.start;var c={raise:function(){try{return pp.raise.apply(this,arguments)}catch(e){throw t}}};try{if(o=n(this,s-4,c).parseExprSubscripts(),o.end<=s)return o=n(this,s,c).parseExprSubscripts(),u.argument=o,u=this.finishNodeAt(u,"AwaitExpression",o.end,o.loc&&o.loc.end),this.pos=o.end,this.end=o.end,this.endLoc=o.endLoc,this.next(),u}catch(e){if(e===t)return a;throw e}}return a}});var o={undefined:!0,get:!0,set:!0,static:!0,async:!0,constructor:!0};e.extend("parsePropertyName",function(e){return function(r){var n=r.key&&r.key.name,i=e.apply(this,arguments);"get"===this.value&&(r.__maybeStaticAsyncGetter=!0);return o[this.value]?i:("Identifier"!==i.type||"async"!==i.name&&"async"!==n||t(this,i.end)||this.input.slice(i.end).match(a)?delete r.__maybeStaticAsyncGetter:"set"===r.kind||"set"===i.name?this.raise(i.start,"'set <member>(value)' cannot be be async"):(this.__isAsyncProp=!0,i=e.apply(this,arguments),"Identifier"===i.type&&"set"===i.name&&this.raise(i.start,"'set <member>(value)' cannot be be async")),i)}}),e.extend("parseClassMethod",function(e){return function(t,r,n){var i=e.apply(this,arguments);return r.__maybeStaticAsyncGetter&&(delete r.__maybeStaticAsyncGetter,"get"!==r.key.name&&(r.kind="get")),i}}),e.extend("parseFunctionBody",function(e){return function(t,r){var n=this.inAsync;this.__isAsyncProp&&(t.async=!0,this.inAsync=!0,delete this.__isAsyncProp);var i=e.apply(this,arguments);return this.inAsync=n,i}})}var o={exports:{}},s=/^async[\t ]+(return|throw)/,a=/^\s*[):;]/,u=/([^\n])\/\*(\*(?!\/)|[^\n*])*\*\/([^\n])/g;o.exports=i,e.plugins.asyncawait=o.exports}(this.acorn),function(e){var t={exports:{}};t.exports=function(e){function t(e,t){var n=this.startNode(),i=!0,o={};for(n.properties=[],this.next();!this.eat(r.braceR);){if(i)i=!1;else if(this.expect(r.comma),this.afterTrailingComma(r.braceR))break;var s,a,u,c,l=this.startNode();if(this.options.ecmaVersion>=6){if(this.type===r.ellipsis){l=this.parseSpread(),l.type=e?"RestElement":"SpreadElement",n.properties.push(l);continue}l.method=!1,l.shorthand=!1,(e||t)&&(u=this.start,c=this.startLoc),e||(s=this.eat(r.star))}this.parsePropertyName(l),e||!(this.options.ecmaVersion>=8)||s||l.computed||"Identifier"!==l.key.type||"async"!==l.key.name||this.type===r.parenL||this.type===r.colon||this.canInsertSemicolon()?a=!1:(a=!0,this.parsePropertyName(l,t)),this.parsePropertyValue(l,e,s,a,u,c,t),this.checkPropClash(l,o),n.properties.push(this.finishNode(l,"Property"))}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")}var r=e.tokTypes,n=e.Parser.prototype;return e.plugins.objectSpread=function(e){n.parseObj=t},e},t.exports(e)}(this.acorn),this.acorn}(),function(t){(function(r){function n(e,t){if({}.hasOwnProperty.call(n.cache,e))return n.cache[e];var r=n.resolve(e);if(!r)throw new Error("Failed to resolve module "+e);var i={id:e,require:n,filename:e,exports:{},loaded:!1,parent:t,children:[]};t&&t.children.push(i);var o=e.slice(0,e.lastIndexOf("/")+1);return n.cache[e]=i.exports,r.call(i.exports,i,i.exports,o,e),i.loaded=!0,n.cache[e]=i.exports}n.modules={},n.cache={},n.resolve=function(e){return{}.hasOwnProperty.call(n.modules,e)?n.modules[e]:void 0},n.define=function(e,t){n.modules[e]=t};var i=function(){var e="/";return{title:"browser",version:"v7.7.3",browser:!0,env:{},argv:[],nextTick:r.setImmediate||function(e){setTimeout(e,0)},cwd:function(){return e},chdir:function(t){e=t}}}();n.define("/tools/entry-point.js",function(e,i,o,s){!function(){"use strict";r.escodegen=n("/escodegen.js",e),t.escodegen.browser=!0}()}),n.define("/escodegen.js",function(e,t,i,o){!function(){"use strict";function i(e){return I.Expression.hasOwnProperty(e.type)}function o(e){return I.Statement.hasOwnProperty(e.type)}function s(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function a(e,t){var r="";for(t|=0;t>0;t>>>=1,e+=e)1&t&&(r+=e);return r}function u(e){return/[\r\n]/g.test(e)}function c(e){var t=e.length;return t&&G.code.isLineTerminator(e.charCodeAt(t-1))}function l(e,t){var r;for(r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function p(e,t){function r(e){return"object"==typeof e&&e instanceof Object&&!(e instanceof RegExp)}var n,i;for(n in t)t.hasOwnProperty(n)&&(i=t[n],r(i)?r(e[n])?p(e[n],i):e[n]=p({},i):e[n]=i);return e}function f(e){var t,r,n,i,o;if(e!==e)throw new Error("Numeric literal whose value is NaN");if(e<0||0===e&&1/e<0)throw new Error("Numeric literal whose value is negative");if(e===1/0)return J?"null":Y?"1e400":"1e+400";if(t=""+e,!Y||t.length<3)return t;for(r=t.indexOf("."),J||48!==t.charCodeAt(0)||1!==r||(r=0,t=t.slice(1)),n=t,t=t.replace("e+","e"),i=0,(o=n.indexOf("e"))>0&&(i=+n.slice(o+1),n=n.slice(0,o)),r>=0&&(i-=n.length-r-1,n=+(n.slice(0,r)+n.slice(r+1))+""),o=0;48===n.charCodeAt(n.length+o-1);)--o;return 0!==o&&(i-=o,n=n.slice(0,o)),0!==i&&(n+="e"+i),(n.length<t.length||Q&&e>1e12&&Math.floor(e)===e&&(n="0x"+e.toString(16)).length<t.length)&&+n===e&&(t=n),t}function h(e,t){return 8232==(-2&e)?(t?"u":"\\u")+(8232===e?"2028":"2029"):10===e||13===e?(t?"":"\\")+(10===e?"n":"r"):String.fromCharCode(e)}function d(e){var t,r,n,i,o,s,a,u;if(r=e.toString(),e.source){if(!(t=r.match(/\/([^\/]*)$/)))return r;for(n=t[1],r="",a=!1,u=!1,i=0,o=e.source.length;i<o;++i)s=e.source.charCodeAt(i),u?(r+=h(s,u),u=!1):(a?93===s&&(a=!1):47===s?r+="\\":91===s&&(a=!0),r+=h(s,u),u=92===s);return"/"+r+"/"+n}return r}function m(e,t){var r;return 8===e?"\\b":12===e?"\\f":9===e?"\\t":(r=e.toString(16).toUpperCase(),J||e>255?"\\u"+"0000".slice(r.length)+r:0!==e||G.code.isDecimalDigit(t)?11===e?"\\x0B":"\\x"+"00".slice(r.length)+r:"\\0")}function y(e){if(92===e)return"\\\\";if(10===e)return"\\n";if(13===e)return"\\r";if(8232===e)return"\\u2028";if(8233===e)return"\\u2029";throw new Error("Incorrectly classified character")}function g(e){var t,r,n,i;for(i="double"===X?'"':"'",t=0,r=e.length;t<r;++t){if(39===(n=e.charCodeAt(t))){i='"';break}if(34===n){i="'";break}92===n&&++t}return i+e+i}function v(e){var t,r,n,i,o,s="",a=0,u=0;for(t=0,r=e.length;t<r;++t){if(39===(n=e.charCodeAt(t)))++a;else if(34===n)++u;else if(47===n&&J)s+="\\";else{if(G.code.isLineTerminator(n)||92===n){s+=y(n);continue}if(!G.code.isIdentifierPartES5(n)&&(J&&n<32||!J&&!Z&&(n<32||n>126))){s+=m(n,e.charCodeAt(t+1));continue}}s+=String.fromCharCode(n)}if(i=!("double"===X||"auto"===X&&u<a),o=i?"'":'"',!(i?a:u))return o+s+o;for(e=s,s=o,t=0,r=e.length;t<r;++t)n=e.charCodeAt(t),(39===n&&i||34===n&&!i)&&(s+="\\"),s+=String.fromCharCode(n);return s+o}function b(e){var t,r,n,i="";for(t=0,r=e.length;t<r;++t)n=e[t],i+=U(n)?b(n):n;return i}function E(e,t){if(!ue)return U(e)?b(e):e;if(null==t){if(e instanceof $)return e;t={}}return null==t.loc?new $(null,null,ue,e,t.name||null):new $(t.loc.start.line,t.loc.start.column,!0===ue?t.loc.source||null:ue,e,t.name||null)}function A(){return te||" "}function D(e,t){var r,n,i,o;return r=E(e).toString(),0===r.length?[t]:(n=E(t).toString(),0===n.length?[e]:(i=r.charCodeAt(r.length-1),o=n.charCodeAt(0),(43===i||45===i)&&i===o||G.code.isIdentifierPartES5(i)&&G.code.isIdentifierPartES5(o)||47===i&&105===o?[e,A(),t]:G.code.isWhiteSpace(i)||G.code.isLineTerminator(i)||G.code.isWhiteSpace(o)||G.code.isLineTerminator(o)?[e,t]:[e,te,t]))}function x(e){return[H,e]}function C(e){var t;t=H,H+=K,e(H),H=t}function F(e){var t;for(t=e.length-1;t>=0&&!G.code.isLineTerminator(e.charCodeAt(t));--t);return e.length-1-t}function S(e,t){var r,n,i,o,s,a,u,c;for(r=e.split(/\r\n|[\r\n]/),a=Number.MAX_VALUE,n=1,i=r.length;n<i;++n){for(o=r[n],s=0;s<o.length&&G.code.isWhiteSpace(o.charCodeAt(s));)++s;a>s&&(a=s)}for(void 0!==t?(u=H,"*"===r[1][a]&&(t+=" "),H=t):(1&a&&--a,u=H),n=1,i=r.length;n<i;++n)c=E(x(r[n].slice(a))),r[n]=ue?c.join(""):c;return H=u,r.join("\n")}function k(e,t){if("Line"===e.type){if(c(e.value))return"//"+e.value;var r="//"+e.value;return le||(r+="\n"),r}return se.format.indent.adjustMultilineComment&&/[\n\r]/.test(e.value)?S("/*"+e.value+"*/",t):"/*"+e.value+"*/"}function w(e,t){var r,n,i,o,s,u,l,p,f,h,d,m,y,g;if(e.leadingComments&&e.leadingComments.length>0){if(o=t,le){for(i=e.leadingComments[0],t=[],p=i.extendedRange,f=i.range,d=ce.substring(p[0],f[0]),g=(d.match(/\n/g)||[]).length,g>0?(t.push(a("\n",g)),t.push(x(k(i)))):(t.push(d),t.push(k(i))),h=f,r=1,n=e.leadingComments.length;r<n;r++)i=e.leadingComments[r],f=i.range,m=ce.substring(h[1],f[0]),g=(m.match(/\n/g)||[]).length,t.push(a("\n",g)),t.push(x(k(i))),h=f;y=ce.substring(f[1],p[1]),g=(y.match(/\n/g)||[]).length,t.push(a("\n",g))}else for(i=e.leadingComments[0],t=[],ie&&e.type===W.Program&&0===e.body.length&&t.push("\n"),t.push(k(i)),c(E(t).toString())||t.push("\n"),r=1,n=e.leadingComments.length;r<n;++r)i=e.leadingComments[r],l=[k(i)],c(E(l).toString())||l.push("\n"),t.push(x(l));t.push(x(o))}if(e.trailingComments)if(le)i=e.trailingComments[0],p=i.extendedRange,f=i.range,d=ce.substring(p[0],f[0]),g=(d.match(/\n/g)||[]).length,g>0?(t.push(a("\n",g)),t.push(x(k(i)))):(t.push(d),t.push(k(i)));else for(s=!c(E(t).toString()),u=a(" ",F(E([H,t,K]).toString())),r=0,n=e.trailingComments.length;r<n;++r)i=e.trailingComments[r],s?(t=0===r?[t,K]:[t,u],t.push(k(i,u))):t=[t,x(k(i))],r===n-1||c(E(t).toString())||(t=[t,"\n"]);return t}function _(e,t,r){var n,i=0;for(n=e;n<t;n++)"\n"===ce[n]&&i++;for(n=1;n<i;n++)r.push(ee)}function B(e,t,r){return t<r?["(",e,")"]:e}function O(e){var t,r,n;for(n=e.split(/\r\n|\n/),t=1,r=n.length;t<r;t++)n[t]=ee+H+n[t];return n}function P(e,t){var r,n,i;return r=e[se.verbatim],"string"==typeof r?n=B(O(r),V.Sequence,t):(n=O(r.content),i=null!=r.precedence?r.precedence:V.Sequence,n=B(n,i,t)),E(n,e)}function I(){}function T(e){return E(e.name,e)}function j(e,t){return e.async?"async"+(t?A():te):""}function N(e){return e.generator&&!se.moz.starlessGenerator?"*"+te:""}function L(e){var t=e.value;return t.async?j(t,!e.computed):N(t)?"*":""}function R(e){var t;if(t=new I,o(e))return t.generateStatement(e,de);if(i(e))return t.generateExpression(e,V.Sequence,he);throw new Error("Unknown node type: "+e.type)}function M(i,o){var u,c,l=s();return null!=o?("string"==typeof o.indent&&(l.format.indent.style=o.indent),"number"==typeof o.base&&(l.format.indent.base=o.base),o=p(l,o),K=o.format.indent.style,H="string"==typeof o.base?o.base:a(K,o.format.indent.base)):(o=l,K=o.format.indent.style,H=a(K,o.format.indent.base)),J=o.format.json,Y=o.format.renumber,Q=!J&&o.format.hexadecimal,X=J?"double":o.format.quotes,Z=o.format.escapeless,ee=o.format.newline,te=o.format.space,o.format.compact&&(ee=te=K=H=""),re=o.format.parentheses,ne=o.format.semicolons,ie=o.format.safeConcatenation,oe=o.directive,ae=J?null:o.parse,ue=o.sourceMap,ce=o.sourceCode,le=o.format.preserveBlankLines&&null!==ce,se=o,ue&&($=t.browser?r.sourceMap.SourceNode:n("/node_modules/source-map/lib/source-map.js",e).SourceNode),u=R(i),ue?(c=u.toStringWithSourceMap({file:o.file,sourceRoot:o.sourceMapRoot}),o.sourceContent&&c.map.setSourceContent(o.sourceMap,o.sourceContent),o.sourceMapWithCode?c:c.map.toString()):(c={code:u.toString(),map:null},o.sourceMapWithCode?c:c.code)}var W,V,q,$,z,G,U,H,K,J,Y,Q,X,Z,ee,te,re,ne,ie,oe,se,ae,ue,ce,le,pe,fe;z=n("/node_modules/estraverse/estraverse.js",e),G=n("/node_modules/esutils/lib/utils.js",e),W=z.Syntax,V={Sequence:0,Yield:1,Await:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Unary:13,Postfix:14,Call:15,New:16,TaggedTemplate:17,Member:18,Primary:19},q={"||":V.LogicalOR,"&&":V.LogicalAND,"|":V.BitwiseOR,"^":V.BitwiseXOR,"&":V.BitwiseAND,"==":V.Equality,"!=":V.Equality,"===":V.Equality,"!==":V.Equality,is:V.Equality,isnt:V.Equality,"<":V.Relational,">":V.Relational,"<=":V.Relational,">=":V.Relational,in:V.Relational,instanceof:V.Relational,"<<":V.BitwiseSHIFT,">>":V.BitwiseSHIFT,">>>":V.BitwiseSHIFT,"+":V.Additive,"-":V.Additive,"*":V.Multiplicative,"%":V.Multiplicative,"/":V.Multiplicative};var he=7,de=1;U=Array.isArray,U||(U=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),I.prototype.maybeBlock=function(e,t){var r,n,i=this;return n=!se.comment||!e.leadingComments,e.type===W.BlockStatement&&n?[te,this.generateStatement(e,t)]:e.type===W.EmptyStatement&&n?";":(C(function(){r=[ee,x(i.generateStatement(e,t))]}),r)},I.prototype.maybeBlockSuffix=function(e,t){var r=c(E(t).toString());return e.type!==W.BlockStatement||se.comment&&e.leadingComments||r?r?[t,H]:[t,ee,H]:[t,te]},I.prototype.generatePattern=function(e,t,r){return e.type===W.Identifier?T(e):this.generateExpression(e,t,r)},I.prototype.generateFunctionParams=function(e){var t,r,n,i;if(i=!1,e.type!==W.ArrowFunctionExpression||e.rest||e.defaults&&0!==e.defaults.length||1!==e.params.length||e.params[0].type!==W.Identifier){for(n=e.type===W.ArrowFunctionExpression?[j(e,!1)]:[],n.push("("),e.defaults&&(i=!0),t=0,r=e.params.length;t<r;++t)i&&e.defaults[t]?n.push(this.generateAssignment(e.params[t],e.defaults[t],"=",V.Assignment,he)):n.push(this.generatePattern(e.params[t],V.Assignment,he)),t+1<r&&n.push(","+te);e.rest&&(e.params.length&&n.push(","+te),n.push("..."),n.push(T(e.rest))),n.push(")")}else n=[j(e,!0),T(e.params[0])];return n},I.prototype.generateFunctionBody=function(e){var t,r;return t=this.generateFunctionParams(e),e.type===W.ArrowFunctionExpression&&(t.push(te),t.push("=>")),e.expression?(t.push(te),r=this.generateExpression(e.body,V.Assignment,he),"{"===r.toString().charAt(0)&&(r=["(",r,")"]),t.push(r)):t.push(this.maybeBlock(e.body,9)),t},I.prototype.generateIterationForStatement=function(e,t,r){var n=["for"+te+"("],i=this;return C(function(){t.left.type===W.VariableDeclaration?C(function(){n.push(t.left.kind+A()),n.push(i.generateStatement(t.left.declarations[0],0))}):n.push(i.generateExpression(t.left,V.Call,he)),n=D(n,e),n=[D(n,i.generateExpression(t.right,V.Sequence,he)),")"]}),n.push(this.maybeBlock(t.body,r)),n},I.prototype.generatePropertyKey=function(e,t,r){var n=[];return t&&n.push("["),"AssignmentPattern"===r.type?n.push(this.AssignmentPattern(r,V.Sequence,he)):n.push(this.generateExpression(e,V.Sequence,he)),t&&n.push("]"),n},I.prototype.generateAssignment=function(e,t,r,n,i){return V.Assignment<n&&(i|=1),B([this.generateExpression(e,V.Call,i),te+r+te,this.generateExpression(t,V.Assignment,i)],V.Assignment,n)},I.prototype.semicolon=function(e){return!ne&&32&e?"":";"},I.Statement={BlockStatement:function(e,t){var r,n,i=["{",ee],o=this;return C(function(){0===e.body.length&&le&&(r=e.range,r[1]-r[0]>2&&(n=ce.substring(r[0]+1,r[1]-1),"\n"===n[0]&&(i=["{"]),i.push(n)));var s,a,u,l;for(l=de,8&t&&(l|=16),s=0,a=e.body.length;s<a;++s)le&&(0===s&&(e.body[0].leadingComments&&(r=e.body[0].leadingComments[0].extendedRange,n=ce.substring(r[0],r[1]),"\n"===n[0]&&(i=["{"])),e.body[0].leadingComments||_(e.range[0],e.body[0].range[0],i)),s>0&&(e.body[s-1].trailingComments||e.body[s].leadingComments||_(e.body[s-1].range[1],e.body[s].range[0],i))),s===a-1&&(l|=32),u=e.body[s].leadingComments&&le?o.generateStatement(e.body[s],l):x(o.generateStatement(e.body[s],l)),i.push(u),c(E(u).toString())||(le&&s<a-1?e.body[s+1].leadingComments||i.push(ee):i.push(ee)),le&&s===a-1&&(e.body[s].trailingComments||_(e.body[s].range[1],e.range[1],i))}),i.push(x("}")),i},BreakStatement:function(e,t){return e.label?"break "+e.label.name+this.semicolon(t):"break"+this.semicolon(t)},ContinueStatement:function(e,t){return e.label?"continue "+e.label.name+this.semicolon(t):"continue"+this.semicolon(t)},ClassBody:function(e,t){var r=["{",ee],n=this;return C(function(t){var i,o;for(i=0,o=e.body.length;i<o;++i)r.push(t),r.push(n.generateExpression(e.body[i],V.Sequence,he)),i+1<o&&r.push(ee)}),c(E(r).toString())||r.push(ee),r.push(H),r.push("}"),r},ClassDeclaration:function(e,t){var r,n;return r=["class"],e.id&&(r=D(r,this.generateExpression(e.id,V.Sequence,he))),e.superClass&&(n=D("extends",this.generateExpression(e.superClass,V.Assignment,he)),r=D(r,n)),r.push(te),r.push(this.generateStatement(e.body,33)),r},DirectiveStatement:function(e,t){return se.raw&&e.raw?e.raw+this.semicolon(t):g(e.directive)+this.semicolon(t)},DoWhileStatement:function(e,t){var r=D("do",this.maybeBlock(e.body,de));return r=this.maybeBlockSuffix(e.body,r),D(r,["while"+te+"(",this.generateExpression(e.test,V.Sequence,he),")"+this.semicolon(t)])},CatchClause:function(e,t){var r,n=this;return C(function(){var t;r=["catch"+te+"(",n.generateExpression(e.param,V.Sequence,he),")"],e.guard&&(t=n.generateExpression(e.guard,V.Sequence,he),r.splice(2,0," if ",t))}),r.push(this.maybeBlock(e.body,de)),r},DebuggerStatement:function(e,t){return"debugger"+this.semicolon(t)},EmptyStatement:function(e,t){return";"},ExportDefaultDeclaration:function(e,t){var r,n=["export"];return r=32&t?33:de,n=D(n,"default"),n=o(e.declaration)?D(n,this.generateStatement(e.declaration,r)):D(n,this.generateExpression(e.declaration,V.Assignment,he)+this.semicolon(t))},ExportNamedDeclaration:function(e,t){var r,n=["export"],i=this;return r=32&t?33:de,e.declaration?D(n,this.generateStatement(e.declaration,r)):(e.specifiers&&(0===e.specifiers.length?n=D(n,"{"+te+"}"):e.specifiers[0].type===W.ExportBatchSpecifier?n=D(n,this.generateExpression(e.specifiers[0],V.Sequence,he)):(n=D(n,"{"),C(function(t){var r,o;for(n.push(ee),r=0,o=e.specifiers.length;r<o;++r)n.push(t),n.push(i.generateExpression(e.specifiers[r],V.Sequence,he)),r+1<o&&n.push(","+ee)}),c(E(n).toString())||n.push(ee),n.push(H+"}")),e.source?n=D(n,["from"+te,this.generateExpression(e.source,V.Sequence,he),this.semicolon(t)]):n.push(this.semicolon(t))),n)},ExportAllDeclaration:function(e,t){return["export"+te,"*"+te,"from"+te,this.generateExpression(e.source,V.Sequence,he),this.semicolon(t)]},ExpressionStatement:function(e,t){var r,n;return r=[this.generateExpression(e.expression,V.Sequence,he)],n=E(r).toString(),123===n.charCodeAt(0)||function(e){var t;return"class"===e.slice(0,5)&&(123===(t=e.charCodeAt(5))||G.code.isWhiteSpace(t)||G.code.isLineTerminator(t))}(n)||function(e){var t;return"function"===e.slice(0,8)&&(40===(t=e.charCodeAt(8))||G.code.isWhiteSpace(t)||42===t||G.code.isLineTerminator(t))}(n)||function(e){var t,r,n;if("async"!==e.slice(0,5))return!1;if(!G.code.isWhiteSpace(e.charCodeAt(5)))return!1;for(r=6,n=e.length;r<n&&G.code.isWhiteSpace(e.charCodeAt(r));++r);return r!==n&&("function"===e.slice(r,r+8)&&(40===(t=e.charCodeAt(r+8))||G.code.isWhiteSpace(t)||42===t||G.code.isLineTerminator(t)))}(n)||oe&&16&t&&e.expression.type===W.Literal&&"string"==typeof e.expression.value?r=["(",r,")"+this.semicolon(t)]:r.push(this.semicolon(t)),r},ImportDeclaration:function(e,t){var r,n,i=this;return 0===e.specifiers.length?["import",te,this.generateExpression(e.source,V.Sequence,he),this.semicolon(t)]:(r=["import"],n=0,e.specifiers[n].type===W.ImportDefaultSpecifier&&(r=D(r,[this.generateExpression(e.specifiers[n],V.Sequence,he)]),++n),e.specifiers[n]&&(0!==n&&r.push(","),e.specifiers[n].type===W.ImportNamespaceSpecifier?r=D(r,[te,this.generateExpression(e.specifiers[n],V.Sequence,he)]):(r.push(te+"{"),e.specifiers.length-n==1?(r.push(te),r.push(this.generateExpression(e.specifiers[n],V.Sequence,he)),r.push(te+"}"+te)):(C(function(t){var o,s;for(r.push(ee),o=n,
s=e.specifiers.length;o<s;++o)r.push(t),r.push(i.generateExpression(e.specifiers[o],V.Sequence,he)),o+1<s&&r.push(","+ee)}),c(E(r).toString())||r.push(ee),r.push(H+"}"+te)))),r=D(r,["from"+te,this.generateExpression(e.source,V.Sequence,he),this.semicolon(t)]))},VariableDeclarator:function(e,t){var r=1&t?he:6;return e.init?[this.generateExpression(e.id,V.Assignment,r),te,"=",te,this.generateExpression(e.init,V.Assignment,r)]:this.generatePattern(e.id,V.Assignment,r)},VariableDeclaration:function(e,t){function r(){for(s=e.declarations[0],se.comment&&s.leadingComments?(n.push("\n"),n.push(x(u.generateStatement(s,a)))):(n.push(A()),n.push(u.generateStatement(s,a))),i=1,o=e.declarations.length;i<o;++i)s=e.declarations[i],se.comment&&s.leadingComments?(n.push(","+ee),n.push(x(u.generateStatement(s,a)))):(n.push(","+te),n.push(u.generateStatement(s,a)))}var n,i,o,s,a,u=this;return n=[e.kind],a=1&t?de:0,e.declarations.length>1?C(r):r(),n.push(this.semicolon(t)),n},ThrowStatement:function(e,t){return[D("throw",this.generateExpression(e.argument,V.Sequence,he)),this.semicolon(t)]},TryStatement:function(e,t){var r,n,i,o;if(r=["try",this.maybeBlock(e.block,de)],r=this.maybeBlockSuffix(e.block,r),e.handlers)for(n=0,i=e.handlers.length;n<i;++n)r=D(r,this.generateStatement(e.handlers[n],de)),(e.finalizer||n+1!==i)&&(r=this.maybeBlockSuffix(e.handlers[n].body,r));else{for(o=e.guardedHandlers||[],n=0,i=o.length;n<i;++n)r=D(r,this.generateStatement(o[n],de)),(e.finalizer||n+1!==i)&&(r=this.maybeBlockSuffix(o[n].body,r));if(e.handler)if(U(e.handler))for(n=0,i=e.handler.length;n<i;++n)r=D(r,this.generateStatement(e.handler[n],de)),(e.finalizer||n+1!==i)&&(r=this.maybeBlockSuffix(e.handler[n].body,r));else r=D(r,this.generateStatement(e.handler,de)),e.finalizer&&(r=this.maybeBlockSuffix(e.handler.body,r))}return e.finalizer&&(r=D(r,["finally",this.maybeBlock(e.finalizer,de)])),r},SwitchStatement:function(e,t){var r,n,i,o,s,a=this;if(C(function(){r=["switch"+te+"(",a.generateExpression(e.discriminant,V.Sequence,he),")"+te+"{"+ee]}),e.cases)for(s=de,i=0,o=e.cases.length;i<o;++i)i===o-1&&(s|=32),n=x(this.generateStatement(e.cases[i],s)),r.push(n),c(E(n).toString())||r.push(ee);return r.push(x("}")),r},SwitchCase:function(e,t){var r,n,i,o,s,a=this;return C(function(){for(r=e.test?[D("case",a.generateExpression(e.test,V.Sequence,he)),":"]:["default:"],i=0,o=e.consequent.length,o&&e.consequent[0].type===W.BlockStatement&&(n=a.maybeBlock(e.consequent[0],de),r.push(n),i=1),i===o||c(E(r).toString())||r.push(ee),s=de;i<o;++i)i===o-1&&32&t&&(s|=32),n=x(a.generateStatement(e.consequent[i],s)),r.push(n),i+1===o||c(E(n).toString())||r.push(ee)}),r},IfStatement:function(e,t){var r,n,i,o=this;return C(function(){r=["if"+te+"(",o.generateExpression(e.test,V.Sequence,he),")"]}),i=32&t,n=de,i&&(n|=32),e.alternate?(r.push(this.maybeBlock(e.consequent,de)),r=this.maybeBlockSuffix(e.consequent,r),r=e.alternate.type===W.IfStatement?D(r,["else ",this.generateStatement(e.alternate,n)]):D(r,D("else",this.maybeBlock(e.alternate,n)))):r.push(this.maybeBlock(e.consequent,n)),r},ForStatement:function(e,t){var r,n=this;return C(function(){r=["for"+te+"("],e.init?e.init.type===W.VariableDeclaration?r.push(n.generateStatement(e.init,0)):(r.push(n.generateExpression(e.init,V.Sequence,6)),r.push(";")):r.push(";"),e.test?(r.push(te),r.push(n.generateExpression(e.test,V.Sequence,he)),r.push(";")):r.push(";"),e.update?(r.push(te),r.push(n.generateExpression(e.update,V.Sequence,he)),r.push(")")):r.push(")")}),r.push(this.maybeBlock(e.body,32&t?33:de)),r},ForInStatement:function(e,t){return this.generateIterationForStatement("in",e,32&t?33:de)},ForOfStatement:function(e,t){return this.generateIterationForStatement("of",e,32&t?33:de)},LabeledStatement:function(e,t){return[e.label.name+":",this.maybeBlock(e.body,32&t?33:de)]},Program:function(e,t){var r,n,i,o,s;for(o=e.body.length,r=[ie&&o>0?"\n":""],s=17,i=0;i<o;++i)ie||i!==o-1||(s|=32),le&&(0===i&&(e.body[0].leadingComments||_(e.range[0],e.body[i].range[0],r)),i>0&&(e.body[i-1].trailingComments||e.body[i].leadingComments||_(e.body[i-1].range[1],e.body[i].range[0],r))),n=x(this.generateStatement(e.body[i],s)),r.push(n),i+1<o&&!c(E(n).toString())&&(le?e.body[i+1].leadingComments||r.push(ee):r.push(ee)),le&&i===o-1&&(e.body[i].trailingComments||_(e.body[i].range[1],e.range[1],r));return r},FunctionDeclaration:function(e,t){return[j(e,!0),"function",N(e)||A(),e.id?T(e.id):"",this.generateFunctionBody(e)]},ReturnStatement:function(e,t){return e.argument?[D("return",this.generateExpression(e.argument,V.Sequence,he)),this.semicolon(t)]:["return"+this.semicolon(t)]},WhileStatement:function(e,t){var r,n=this;return C(function(){r=["while"+te+"(",n.generateExpression(e.test,V.Sequence,he),")"]}),r.push(this.maybeBlock(e.body,32&t?33:de)),r},WithStatement:function(e,t){var r,n=this;return C(function(){r=["with"+te+"(",n.generateExpression(e.object,V.Sequence,he),")"]}),r.push(this.maybeBlock(e.body,32&t?33:de)),r}},l(I.prototype,I.Statement),I.Expression={SequenceExpression:function(e,t,r){var n,i,o;for(V.Sequence<t&&(r|=1),n=[],i=0,o=e.expressions.length;i<o;++i)n.push(this.generateExpression(e.expressions[i],V.Assignment,r)),i+1<o&&n.push(","+te);return B(n,V.Sequence,t)},AssignmentExpression:function(e,t,r){return this.generateAssignment(e.left,e.right,e.operator,t,r)},ArrowFunctionExpression:function(e,t,r){return B(this.generateFunctionBody(e),V.ArrowFunction,t)},ConditionalExpression:function(e,t,r){return V.Conditional<t&&(r|=1),B([this.generateExpression(e.test,V.LogicalOR,r),te+"?"+te,this.generateExpression(e.consequent,V.Assignment,r),te+":"+te,this.generateExpression(e.alternate,V.Assignment,r)],V.Conditional,t)},LogicalExpression:function(e,t,r){return this.BinaryExpression(e,t,r)},BinaryExpression:function(e,t,r){var n,i,o,s;return i=q[e.operator],i<t&&(r|=1),o=this.generateExpression(e.left,i,r),s=o.toString(),n=47===s.charCodeAt(s.length-1)&&G.code.isIdentifierPartES5(e.operator.charCodeAt(0))?[o,A(),e.operator]:D(o,e.operator),o=this.generateExpression(e.right,i+1,r),"/"===e.operator&&"/"===o.toString().charAt(0)||"<"===e.operator.slice(-1)&&"!--"===o.toString().slice(0,3)?(n.push(A()),n.push(o)):n=D(n,o),"in"!==e.operator||1&r?B(n,i,t):["(",n,")"]},CallExpression:function(e,t,r){var n,i,o;for(n=[this.generateExpression(e.callee,V.Call,3)],n.push("("),i=0,o=e.arguments.length;i<o;++i)n.push(this.generateExpression(e.arguments[i],V.Assignment,he)),i+1<o&&n.push(","+te);return n.push(")"),2&r?B(n,V.Call,t):["(",n,")"]},NewExpression:function(e,t,r){var n,i,o,s,a;if(i=e.arguments.length,a=4&r&&!re&&0===i?5:1,n=D("new",this.generateExpression(e.callee,V.New,a)),!(4&r)||re||i>0){for(n.push("("),o=0,s=i;o<s;++o)n.push(this.generateExpression(e.arguments[o],V.Assignment,he)),o+1<s&&n.push(","+te);n.push(")")}return B(n,V.New,t)},MemberExpression:function(e,t,r){var n,i;return n=[this.generateExpression(e.object,V.Call,2&r?3:1)],e.computed?(n.push("["),n.push(this.generateExpression(e.property,V.Sequence,2&r?he:5)),n.push("]")):(e.object.type===W.Literal&&"number"==typeof e.object.value&&(i=E(n).toString(),i.indexOf(".")<0&&!/[eExX]/.test(i)&&G.code.isDecimalDigit(i.charCodeAt(i.length-1))&&!(i.length>=2&&48===i.charCodeAt(0))&&n.push(".")),n.push("."),n.push(T(e.property))),B(n,V.Member,t)},MetaProperty:function(e,t,r){var n;return n=[],n.push(e.meta),n.push("."),n.push(e.property),B(n,V.Member,t)},UnaryExpression:function(e,t,r){var n,i,o,s,a;return i=this.generateExpression(e.argument,V.Unary,he),""===te?n=D(e.operator,i):(n=[e.operator],e.operator.length>2?n=D(n,i):(s=E(n).toString(),a=s.charCodeAt(s.length-1),o=i.toString().charCodeAt(0),(43===a||45===a)&&a===o||G.code.isIdentifierPartES5(a)&&G.code.isIdentifierPartES5(o)?(n.push(A()),n.push(i)):n.push(i))),B(n,V.Unary,t)},YieldExpression:function(e,t,r){var n;return n=e.delegate?"yield*":"yield",e.argument&&(n=D(n,this.generateExpression(e.argument,V.Yield,he))),B(n,V.Yield,t)},AwaitExpression:function(e,t,r){return B(D(e.all?"await*":"await",this.generateExpression(e.argument,V.Await,he)),V.Await,t)},UpdateExpression:function(e,t,r){return e.prefix?B([e.operator,this.generateExpression(e.argument,V.Unary,he)],V.Unary,t):B([this.generateExpression(e.argument,V.Postfix,he),e.operator],V.Postfix,t)},FunctionExpression:function(e,t,r){var n=[j(e,!0),"function"];return e.id?(n.push(N(e)||A()),n.push(T(e.id))):n.push(N(e)||te),n.push(this.generateFunctionBody(e)),n},ArrayPattern:function(e,t,r){return this.ArrayExpression(e,t,r,!0)},ArrayExpression:function(e,t,r,n){var i,o,s=this;return e.elements.length?(o=!n&&e.elements.length>1,i=["[",o?ee:""],C(function(t){var r,n;for(r=0,n=e.elements.length;r<n;++r)e.elements[r]?(i.push(o?t:""),i.push(s.generateExpression(e.elements[r],V.Assignment,he))):(o&&i.push(t),r+1===n&&i.push(",")),r+1<n&&i.push(","+(o?ee:te))}),o&&!c(E(i).toString())&&i.push(ee),i.push(o?H:""),i.push("]"),i):"[]"},RestElement:function(e,t,r){return"..."+this.generatePattern(e.argument)},ClassExpression:function(e,t,r){var n,i;return n=["class"],e.id&&(n=D(n,this.generateExpression(e.id,V.Sequence,he))),e.superClass&&(i=D("extends",this.generateExpression(e.superClass,V.Assignment,he)),n=D(n,i)),n.push(te),n.push(this.generateStatement(e.body,33)),n},MethodDefinition:function(e,t,r){var n,i;return n=e.static?["static"+te]:[],i="get"===e.kind||"set"===e.kind?[D(e.kind,this.generatePropertyKey(e.key,e.computed,e.value)),this.generateFunctionBody(e.value)]:[L(e),this.generatePropertyKey(e.key,e.computed,e.value),this.generateFunctionBody(e.value)],D(n,i)},Property:function(e,t,r){return"get"===e.kind||"set"===e.kind?[e.kind,A(),this.generatePropertyKey(e.key,e.computed,e.value),this.generateFunctionBody(e.value)]:e.shorthand?this.generatePropertyKey(e.key,e.computed,e.value):e.method?[L(e),this.generatePropertyKey(e.key,e.computed,e.value),this.generateFunctionBody(e.value)]:[this.generatePropertyKey(e.key,e.computed,e.value),":"+te,this.generateExpression(e.value,V.Assignment,he)]},ObjectExpression:function(e,t,r){var n,i,o,s=this;return e.properties.length?(n=e.properties.length>1,C(function(){o=s.generateExpression(e.properties[0],V.Sequence,he)}),n||u(E(o).toString())?(C(function(t){var r,a;if(i=["{",ee,t,o],n)for(i.push(","+ee),r=1,a=e.properties.length;r<a;++r)i.push(t),i.push(s.generateExpression(e.properties[r],V.Sequence,he)),r+1<a&&i.push(","+ee)}),c(E(i).toString())||i.push(ee),i.push(H),i.push("}"),i):["{",te,o,te,"}"]):"{}"},AssignmentPattern:function(e,t,r){return this.generateAssignment(e.left,e.right,"=",t,r)},ObjectPattern:function(e,t,r){var n,i,o,s,a,u=this;if(!e.properties.length)return"{}";if(s=!1,1===e.properties.length)a=e.properties[0],a.value.type!==W.Identifier&&(s=!0);else for(i=0,o=e.properties.length;i<o;++i)if(a=e.properties[i],!a.shorthand){s=!0;break}return n=["{",s?ee:""],C(function(t){var r,i;for(r=0,i=e.properties.length;r<i;++r)n.push(s?t:""),n.push(u.generateExpression(e.properties[r],V.Sequence,he)),r+1<i&&n.push(","+(s?ee:te))}),s&&!c(E(n).toString())&&n.push(ee),n.push(s?H:""),n.push("}"),n},ThisExpression:function(e,t,r){return"this"},Super:function(e,t,r){return"super"},Identifier:function(e,t,r){return T(e)},ImportDefaultSpecifier:function(e,t,r){return T(e.id||e.local)},ImportNamespaceSpecifier:function(e,t,r){var n=["*"],i=e.id||e.local;return i&&n.push(te+"as"+A()+T(i)),n},ImportSpecifier:function(e,t,r){var n=e.imported,i=[n.name],o=e.local;return o&&o.name!==n.name&&i.push(A()+"as"+A()+T(o)),i},ExportSpecifier:function(e,t,r){var n=e.local,i=[n.name],o=e.exported;return o&&o.name!==n.name&&i.push(A()+"as"+A()+T(o)),i},Literal:function(e,t,r){var n;if(e.hasOwnProperty("raw")&&ae&&se.raw)try{if(n=ae(e.raw).body[0].expression,n.type===W.Literal&&n.value===e.value)return e.raw}catch(e){}return null===e.value?"null":"string"==typeof e.value?v(e.value):"number"==typeof e.value?f(e.value):"boolean"==typeof e.value?e.value?"true":"false":e.regex?"/"+e.regex.pattern+"/"+e.regex.flags:d(e.value)},GeneratorExpression:function(e,t,r){return this.ComprehensionExpression(e,t,r)},ComprehensionExpression:function(e,t,r){var n,i,o,s,a=this;return n=e.type===W.GeneratorExpression?["("]:["["],se.moz.comprehensionExpressionStartsWithAssignment&&(s=this.generateExpression(e.body,V.Assignment,he),n.push(s)),e.blocks&&C(function(){for(i=0,o=e.blocks.length;i<o;++i)s=a.generateExpression(e.blocks[i],V.Sequence,he),i>0||se.moz.comprehensionExpressionStartsWithAssignment?n=D(n,s):n.push(s)}),e.filter&&(n=D(n,"if"+te),s=this.generateExpression(e.filter,V.Sequence,he),n=D(n,["(",s,")"])),se.moz.comprehensionExpressionStartsWithAssignment||(s=this.generateExpression(e.body,V.Assignment,he),n=D(n,s)),n.push(e.type===W.GeneratorExpression?")":"]"),n},ComprehensionBlock:function(e,t,r){var n;return n=e.left.type===W.VariableDeclaration?[e.left.kind,A(),this.generateStatement(e.left.declarations[0],0)]:this.generateExpression(e.left,V.Call,he),n=D(n,e.of?"of":"in"),n=D(n,this.generateExpression(e.right,V.Sequence,he)),["for"+te+"(",n,")"]},SpreadElement:function(e,t,r){return["...",this.generateExpression(e.argument,V.Assignment,he)]},TaggedTemplateExpression:function(e,t,r){var n=3;return 2&r||(n=1),B([this.generateExpression(e.tag,V.Call,n),this.generateExpression(e.quasi,V.Primary,4)],V.TaggedTemplate,t)},TemplateElement:function(e,t,r){return e.value.raw},TemplateLiteral:function(e,t,r){var n,i,o;for(n=["`"],i=0,o=e.quasis.length;i<o;++i)n.push(this.generateExpression(e.quasis[i],V.Primary,he)),i+1<o&&(n.push("${"+te),n.push(this.generateExpression(e.expressions[i],V.Sequence,he)),n.push(te+"}"));return n.push("`"),n},ModuleSpecifier:function(e,t,r){return this.Literal(e,t,r)}},l(I.prototype,I.Expression),I.prototype.generateExpression=function(e,t,r){var n,i;return i=e.type||W.Property,se.verbatim&&e.hasOwnProperty(se.verbatim)?P(e,t):(n=this[i](e,t,r),se.comment&&(n=w(e,n)),E(n,e))},I.prototype.generateStatement=function(e,t){var r,n;return r=this[e.type](e,t),se.comment&&(r=w(e,r)),n=E(r).toString(),e.type!==W.Program||ie||""!==ee||"\n"!==n.charAt(n.length-1)||(r=ue?E(r).replaceRight(/\s+$/,""):n.replace(/\s+$/,"")),E(r,e)},pe={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},fe=s().format,t.version=n("/package.json",e).version,t.generate=M,t.attachComments=z.attachComments,t.Precedence=p({},V),t.browser=!1,t.FORMAT_MINIFY=pe,t.FORMAT_DEFAULTS=fe}()}),n.define("/package.json",function(e,t,r,n){e.exports={name:"escodegen",description:"ECMAScript code generator",homepage:"http://github.com/estools/escodegen",main:"escodegen.js",bin:{esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},files:["LICENSE.BSD","LICENSE.source-map","README.md","bin","escodegen.js","package.json"],version:"1.8.1",engines:{node:">=0.12.0"},maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository:{type:"git",url:"http://github.com/estools/escodegen.git"},dependencies:{estraverse:"^1.9.1",esutils:"^2.0.2",esprima:"^2.7.1",optionator:"^0.8.1"},optionalDependencies:{"source-map":"~0.2.0"},devDependencies:{acorn:"^2.7.0",bluebird:"^2.3.11","bower-registry-client":"^0.2.1",chai:"^1.10.0","commonjs-everywhere":"^0.9.7",gulp:"^3.8.10","gulp-eslint":"^0.2.0","gulp-mocha":"^2.0.0",semver:"^5.1.0"},license:"BSD-2-Clause",scripts:{test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"}}}),n.define("/node_modules/source-map/lib/source-map.js",function(e,t,r,i){t.SourceMapGenerator=n("/node_modules/source-map/lib/source-map/source-map-generator.js",e).SourceMapGenerator,t.SourceMapConsumer=n("/node_modules/source-map/lib/source-map/source-map-consumer.js",e).SourceMapConsumer,t.SourceNode=n("/node_modules/source-map/lib/source-map/source-node.js",e).SourceNode}),n.define("/node_modules/source-map/lib/source-map/source-node.js",function(e,t,r,i){if("function"!=typeof o)var o=n("/node_modules/amdefine/amdefine.js",e)(e,n);o(function(e,t,r){function n(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==i?null:i,this[a]=!0,null!=n&&this.add(n)}var i=e("/node_modules/source-map/lib/source-map/source-map-generator.js",r).SourceMapGenerator,o=e("/node_modules/source-map/lib/source-map/util.js",r),s=/(\r?\n)/,a="$$$isSourceNode$$$";n.fromStringWithSourceMap=function(e,t,r){function i(e,t){if(null===e||void 0===e.source)a.add(t);else{var i=r?o.join(r,e.source):e.source;a.add(new n(e.originalLine,e.originalColumn,i,t,e.name))}}var a=new n,u=e.split(s),c=function(){return u.shift()+(u.shift()||"")},l=1,p=0,f=null;return t.eachMapping(function(e){if(null!==f){if(!(l<e.generatedLine)){var t=u[0],r=t.substr(0,e.generatedColumn-p);return u[0]=t.substr(e.generatedColumn-p),p=e.generatedColumn,i(f,r),void(f=e)}var r="";i(f,c()),l++,p=0}for(;l<e.generatedLine;)a.add(c()),l++;if(p<e.generatedColumn){var t=u[0];a.add(t.substr(0,e.generatedColumn)),u[0]=t.substr(e.generatedColumn),p=e.generatedColumn}f=e},this),u.length>0&&(f&&i(f,c()),a.add(u.join(""))),t.sources.forEach(function(e){var n=t.sourceContentFor(e);null!=n&&(null!=r&&(e=o.join(r,e)),a.setSourceContent(e,n))}),a},n.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},n.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},n.prototype.walk=function(e){for(var t,r=0,n=this.children.length;r<n;r++)t=this.children[r],t[a]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},n.prototype.join=function(e){var t,r,n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},n.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[a]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},n.prototype.setSourceContent=function(e,t){this.sourceContents[o.toSetString(e)]=t},n.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][a]&&this.children[t].walkSourceContents(e);for(var n=Object.keys(this.sourceContents),t=0,r=n.length;t<r;t++)e(o.fromSetString(n[t]),this.sourceContents[n[t]])},n.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},n.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new i(e),n=!1,o=null,s=null,a=null,u=null;return this.walk(function(e,i){t.code+=e,null!==i.source&&null!==i.line&&null!==i.column?(o===i.source&&s===i.line&&a===i.column&&u===i.name||r.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name}),o=i.source,s=i.line,a=i.column,u=i.name,n=!0):n&&(r.addMapping({generated:{line:t.line,column:t.column}}),o=null,n=!1);for(var c=0,l=e.length;c<l;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===l?(o=null,n=!1):n&&r.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name})):t.column++}),this.walkSourceContents(function(e,t){r.setSourceContent(e,t)}),{code:t.code,map:r}},t.SourceNode=n})}),n.define("/node_modules/source-map/lib/source-map/util.js",function(e,t,r,i){if("function"!=typeof o)var o=n("/node_modules/amdefine/amdefine.js",e)(e,n);o(function(e,t,r){function n(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')}function i(e){var t=e.match(d);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var t=e,r=i(e);if(r){if(!r.path)return e;t=r.path}for(var n,s="/"===t.charAt(0),a=t.split(/\/+/),u=0,c=a.length-1;c>=0;c--)n=a[c],"."===n?a.splice(c,1):".."===n?u++:u>0&&(""===n?(a.splice(c+1,u),u=0):(a.splice(c,2),u--));return t=a.join("/"),""===t&&(t=s?"/":"."),r?(r.path=t,o(r)):t}function a(e,t){""===e&&(e="."),""===t&&(t=".");var r=i(t),n=i(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),o(r);if(r||t.match(m))return t;if(n&&!n.host&&!n.path)return n.host=t,o(n);var a="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=a,o(n)):a}function u(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");var r=i(e);return"/"==t.charAt(0)&&r&&"/"==r.path?t.slice(1):0===t.indexOf(e+"/")?t.substr(e.length+1):t}function c(e){return"$"+e}function l(e){return e.substr(1)}function p(e,t){var r=e||"",n=t||"";return(r>n)-(r<n)}function f(e,t,r){var n;return(n=p(e.source,t.source))?n:(n=e.originalLine-t.originalLine)?n:(n=e.originalColumn-t.originalColumn)||r?n:(n=p(e.name,t.name))?n:(n=e.generatedLine-t.generatedLine)||e.generatedColumn-t.generatedColumn}function h(e,t,r){var n;return(n=e.generatedLine-t.generatedLine)?n:(n=e.generatedColumn-t.generatedColumn)||r?n:(n=p(e.source,t.source))?n:(n=e.originalLine-t.originalLine)?n:(n=e.originalColumn-t.originalColumn)||p(e.name,t.name)}t.getArg=n;var d=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,m=/^data:.+\,.+$/;t.urlParse=i,t.urlGenerate=o,t.normalize=s,t.join=a,t.relative=u,t.toSetString=c,t.fromSetString=l,t.compareByOriginalPositions=f,t.compareByGeneratedPositions=h})}),n.define("/node_modules/amdefine/amdefine.js",function(e,t,r,o){"use strict";function s(e,t){function r(e){var t,r;for(t=0;e[t];t+=1)if("."===(r=e[t]))e.splice(t,1),t-=1;else if(".."===r){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function s(e,t){var n;return e&&"."===e.charAt(0)&&t&&(n=t.split("/"),n=n.slice(0,n.length-1),n=n.concat(e.split("/")),r(n),e=n.join("/")),e}function a(e){return function(t){return s(t,e)}}function u(e){function t(t){d[e]=t}return t.fromText=function(e,t){throw new Error("amdefine does not implement load.fromText")},t}function c(r,n,i){var s,a,u,c;if(r)a=d[r]={},u={id:r,uri:o,exports:a},s=p(t,a,u,r);else{if(m)throw new Error("amdefine with no module ID cannot be called more than once per file.");m=!0,a=e.exports,u=e,s=p(t,a,u,e.id)}n&&(n=n.map(function(e){return s(e)})),void 0!==(c="function"==typeof i?i.apply(u.exports,n):i)&&(u.exports=c,r&&(d[r]=u.exports))}function l(e,t,r){Array.isArray(e)?(r=t,t=e,e=void 0):"string"!=typeof e&&(r=e,e=t=void 0),t&&!Array.isArray(t)&&(r=t,t=void 0),t||(t=["require","exports","module"]),e?h[e]=[e,t,r]:c(e,t,r)}var p,f,h={},d={},m=!1,y=n("path",e);return p=function(e,t,r,n){function o(o,s){if("string"==typeof o)return f(e,t,r,o,n);o=o.map(function(i){return f(e,t,r,i,n)}),s&&i.nextTick(function(){s.apply(null,o)})}return o.toUrl=function(e){return 0===e.indexOf(".")?s(e,y.dirname(r.filename)):e},o},t=t||function(){return e.require.apply(e,arguments)},f=function(e,t,r,n,i){var o,l,m=n.indexOf("!"),y=n;if(-1===m){if("require"===(n=s(n,i)))return p(e,t,r,i);if("exports"===n)return t;if("module"===n)return r;if(d.hasOwnProperty(n))return d[n];if(h[n])return c.apply(null,h[n]),d[n];if(e)return e(y);throw new Error("No module with ID: "+n)}return o=n.substring(0,m),n=n.substring(m+1,n.length),l=f(e,t,r,o,i),n=l.normalize?l.normalize(n,a(i)):s(n,i),d[n]?d[n]:(l.load(n,p(e,t,r,i),u(n),{}),d[n])},l.require=function(e){return d[e]?d[e]:h[e]?(c.apply(null,h[e]),d[e]):void 0},l.amd={},l}e.exports=s}),n.define("/node_modules/source-map/lib/source-map/source-map-generator.js",function(e,t,r,i){if("function"!=typeof o)var o=n("/node_modules/amdefine/amdefine.js",e)(e,n);o(function(e,t,r){function n(e){e||(e={}),this._file=o.getArg(e,"file",null),this._sourceRoot=o.getArg(e,"sourceRoot",null),this._skipValidation=o.getArg(e,"skipValidation",!1),this._sources=new s,this._names=new s,this._mappings=new a,this._sourcesContents=null}var i=e("/node_modules/source-map/lib/source-map/base64-vlq.js",r),o=e("/node_modules/source-map/lib/source-map/util.js",r),s=e("/node_modules/source-map/lib/source-map/array-set.js",r).ArraySet,a=e("/node_modules/source-map/lib/source-map/mapping-list.js",r).MappingList;n.prototype._version=3,n.fromSourceMap=function(e){var t=e.sourceRoot,r=new n({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=o.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)}),e.sources.forEach(function(t){var n=e.sourceContentFor(t);null!=n&&r.setSourceContent(t,n)}),r},n.prototype.addMapping=function(e){var t=o.getArg(e,"generated"),r=o.getArg(e,"original",null),n=o.getArg(e,"source",null),i=o.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,i),null==n||this._sources.has(n)||this._sources.add(n),null==i||this._names.has(i)||this._names.add(i),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:i})},n.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=o.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[o.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[o.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},n.prototype.applySourceMap=function(e,t,r){var n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}var i=this._sourceRoot;null!=i&&(n=o.relative(i,n));var a=new s,u=new s;this._mappings.unsortedForEach(function(t){if(t.source===n&&null!=t.originalLine){var s=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=s.source&&(t.source=s.source,null!=r&&(t.source=o.join(r,t.source)),null!=i&&(t.source=o.relative(i,t.source)),t.originalLine=s.line,t.originalColumn=s.column,null!=s.name&&(t.name=s.name))}var c=t.source;null==c||a.has(c)||a.add(c);var l=t.name;null==l||u.has(l)||u.add(l)},this),this._sources=a,this._names=u,e.sources.forEach(function(t){var n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=o.join(r,t)),null!=i&&(t=o.relative(i,t)),this.setSourceContent(t,n))},this)},n.prototype._validateMapping=function(e,t,r,n){if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))},n.prototype._serializeMappings=function(){for(var e,t=0,r=1,n=0,s=0,a=0,u=0,c="",l=this._mappings.toArray(),p=0,f=l.length;p<f;p++){if(e=l[p],e.generatedLine!==r)for(t=0;e.generatedLine!==r;)c+=";",r++;else if(p>0){if(!o.compareByGeneratedPositions(e,l[p-1]))continue;c+=","}c+=i.encode(e.generatedColumn-t),t=e.generatedColumn,null!=e.source&&(c+=i.encode(this._sources.indexOf(e.source)-u),u=this._sources.indexOf(e.source),c+=i.encode(e.originalLine-1-s),s=e.originalLine-1,c+=i.encode(e.originalColumn-n),n=e.originalColumn,null!=e.name&&(c+=i.encode(this._names.indexOf(e.name)-a),a=this._names.indexOf(e.name)))}return c},n.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=o.relative(t,e));var r=o.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null},this)},n.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},n.prototype.toString=function(){return JSON.stringify(this)},t.SourceMapGenerator=n})}),n.define("/node_modules/source-map/lib/source-map/mapping-list.js",function(e,t,r,i){if("function"!=typeof o)var o=n("/node_modules/amdefine/amdefine.js",e)(e,n);o(function(e,t,r){function n(e,t){var r=e.generatedLine,n=t.generatedLine,i=e.generatedColumn,s=t.generatedColumn;return n>r||n==r&&s>=i||o.compareByGeneratedPositions(e,t)<=0}function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}var o=e("/node_modules/source-map/lib/source-map/util.js",r);i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){n(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(o.compareByGeneratedPositions),this._sorted=!0),this._array},t.MappingList=i})}),n.define("/node_modules/source-map/lib/source-map/array-set.js",function(e,t,r,i){if("function"!=typeof o)var o=n("/node_modules/amdefine/amdefine.js",e)(e,n);o(function(e,t,r){function n(){this._array=[],this._set={}}var i=e("/node_modules/source-map/lib/source-map/util.js",r);n.fromArray=function(e,t){for(var r=new n,i=0,o=e.length;i<o;i++)r.add(e[i],t);return r},n.prototype.add=function(e,t){var r=this.has(e),n=this._array.length;r&&!t||this._array.push(e),r||(this._set[i.toSetString(e)]=n)},n.prototype.has=function(e){return Object.prototype.hasOwnProperty.call(this._set,i.toSetString(e))},n.prototype.indexOf=function(e){if(this.has(e))return this._set[i.toSetString(e)];throw new Error('"'+e+'" is not in the set.')},n.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},n.prototype.toArray=function(){return this._array.slice()},t.ArraySet=n})}),n.define("/node_modules/source-map/lib/source-map/base64-vlq.js",function(e,t,r,i){if("function"!=typeof o)var o=n("/node_modules/amdefine/amdefine.js",e)(e,n);o(function(e,t,r){function n(e){return e<0?1+(-e<<1):0+(e<<1)}function i(e){var t=1==(1&e),r=e>>1;return t?-r:r}var o=e("/node_modules/source-map/lib/source-map/base64.js",r);t.encode=function(e){var t,r="",i=n(e);do{t=31&i,i>>>=5,i>0&&(t|=32),r+=o.encode(t)}while(i>0);return r},t.decode=function(e,t){var r,n,s=0,a=e.length,u=0,c=0;do{if(s>=a)throw new Error("Expected more digits in base 64 VLQ value.");n=o.decode(e.charAt(s++)),r=!!(32&n),n&=31,u+=n<<c,c+=5}while(r);t.value=i(u),t.rest=e.slice(s)}})}),n.define("/node_modules/source-map/lib/source-map/base64.js",function(e,t,r,i){if("function"!=typeof o)var o=n("/node_modules/amdefine/amdefine.js",e)(e,n);o(function(e,t,r){var n={},i={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(function(e,t){n[e]=t,i[t]=e}),t.encode=function(e){if(e in i)return i[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){if(e in n)return n[e];throw new TypeError("Not a valid base 64 digit: "+e)}})}),n.define("/node_modules/source-map/lib/source-map/source-map-consumer.js",function(e,t,r,i){if("function"!=typeof o)var o=n("/node_modules/amdefine/amdefine.js",e)(e,n);o(function(e,t,r){function n(t){var n=t;if("string"==typeof t&&(n=JSON.parse(t.replace(/^\)\]\}'/,""))),null!=n.sections){return new(e("/node_modules/source-map/lib/source-map/indexed-source-map-consumer.js",r).IndexedSourceMapConsumer)(n)}
return new(e("/node_modules/source-map/lib/source-map/basic-source-map-consumer.js",r).BasicSourceMapConsumer)(n)}var i=e("/node_modules/source-map/lib/source-map/util.js",r);n.fromSourceMap=function(t){return e("/node_modules/source-map/lib/source-map/basic-source-map-consumer.js",r).BasicSourceMapConsumer.fromSourceMap(t)},n.prototype._version=3,n.prototype.__generatedMappings=null,Object.defineProperty(n.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__generatedMappings}}),n.prototype.__originalMappings=null,Object.defineProperty(n.prototype,"_originalMappings",{get:function(){return this.__originalMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__originalMappings}}),n.prototype._nextCharIsMappingSeparator=function(e){var t=e.charAt(0);return";"===t||","===t},n.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},n.GENERATED_ORDER=1,n.ORIGINAL_ORDER=2,n.prototype.eachMapping=function(e,t,r){var o,s=t||null,a=r||n.GENERATED_ORDER;switch(a){case n.GENERATED_ORDER:o=this._generatedMappings;break;case n.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var u=this.sourceRoot;o.map(function(e){var t=e.source;return null!=t&&null!=u&&(t=i.join(u,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:e.name}}).forEach(e,s)},n.prototype.allGeneratedPositionsFor=function(e){var t={source:i.getArg(e,"source"),originalLine:i.getArg(e,"line"),originalColumn:1/0};null!=this.sourceRoot&&(t.source=i.relative(this.sourceRoot,t.source));var r=[],n=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions);if(n>=0)for(var o=this._originalMappings[n];o&&o.originalLine===t.originalLine;)r.push({line:i.getArg(o,"generatedLine",null),column:i.getArg(o,"generatedColumn",null),lastColumn:i.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[--n];return r.reverse()},t.SourceMapConsumer=n})}),n.define("/node_modules/source-map/lib/source-map/basic-source-map-consumer.js",function(e,t,r,i){if("function"!=typeof o)var o=n("/node_modules/amdefine/amdefine.js",e)(e,n);o(function(e,t,r){function n(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var r=i.getArg(t,"version"),n=i.getArg(t,"sources"),o=i.getArg(t,"names",[]),a=i.getArg(t,"sourceRoot",null),u=i.getArg(t,"sourcesContent",null),c=i.getArg(t,"mappings"),l=i.getArg(t,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);n=n.map(i.normalize),this._names=s.fromArray(o,!0),this._sources=s.fromArray(n,!0),this.sourceRoot=a,this.sourcesContent=u,this._mappings=c,this.file=l}var i=e("/node_modules/source-map/lib/source-map/util.js",r),o=e("/node_modules/source-map/lib/source-map/binary-search.js",r),s=e("/node_modules/source-map/lib/source-map/array-set.js",r).ArraySet,a=e("/node_modules/source-map/lib/source-map/base64-vlq.js",r),u=e("/node_modules/source-map/lib/source-map/source-map-consumer.js",r).SourceMapConsumer;n.prototype=Object.create(u.prototype),n.prototype.consumer=u,n.fromSourceMap=function(e){var t=Object.create(n.prototype);return t._names=s.fromArray(e._names.toArray(),!0),t._sources=s.fromArray(e._sources.toArray(),!0),t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file,t.__generatedMappings=e._mappings.toArray().slice(),t.__originalMappings=e._mappings.toArray().slice().sort(i.compareByOriginalPositions),t},n.prototype._version=3,Object.defineProperty(n.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?i.join(this.sourceRoot,e):e},this)}}),n.prototype._parseMappings=function(e,t){for(var r,n=1,o=0,s=0,u=0,c=0,l=0,p=e,f={};p.length>0;)if(";"===p.charAt(0))n++,p=p.slice(1),o=0;else if(","===p.charAt(0))p=p.slice(1);else{if(r={},r.generatedLine=n,a.decode(p,f),r.generatedColumn=o+f.value,o=r.generatedColumn,p=f.rest,p.length>0&&!this._nextCharIsMappingSeparator(p)){if(a.decode(p,f),r.source=this._sources.at(c+f.value),c+=f.value,p=f.rest,0===p.length||this._nextCharIsMappingSeparator(p))throw new Error("Found a source, but no line and column");if(a.decode(p,f),r.originalLine=s+f.value,s=r.originalLine,r.originalLine+=1,p=f.rest,0===p.length||this._nextCharIsMappingSeparator(p))throw new Error("Found a source and line, but no column");a.decode(p,f),r.originalColumn=u+f.value,u=r.originalColumn,p=f.rest,p.length>0&&!this._nextCharIsMappingSeparator(p)&&(a.decode(p,f),r.name=this._names.at(l+f.value),l+=f.value,p=f.rest)}this.__generatedMappings.push(r),"number"==typeof r.originalLine&&this.__originalMappings.push(r)}this.__generatedMappings.sort(i.compareByGeneratedPositions),this.__originalMappings.sort(i.compareByOriginalPositions)},n.prototype._findMapping=function(e,t,r,n,i){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return o.search(e,t,i)},n.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},n.prototype.originalPositionFor=function(e){var t={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",i.compareByGeneratedPositions);if(r>=0){var n=this._generatedMappings[r];if(n.generatedLine===t.generatedLine){var o=i.getArg(n,"source",null);return null!=o&&null!=this.sourceRoot&&(o=i.join(this.sourceRoot,o)),{source:o,line:i.getArg(n,"originalLine",null),column:i.getArg(n,"originalColumn",null),name:i.getArg(n,"name",null)}}}return{source:null,line:null,column:null,name:null}},n.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=i.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var r;if(null!=this.sourceRoot&&(r=i.urlParse(this.sourceRoot))){var n=e.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(n))return this.sourcesContent[this._sources.indexOf(n)];if((!r.path||"/"==r.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},n.prototype.generatedPositionFor=function(e){var t={source:i.getArg(e,"source"),originalLine:i.getArg(e,"line"),originalColumn:i.getArg(e,"column")};null!=this.sourceRoot&&(t.source=i.relative(this.sourceRoot,t.source));var r=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions);if(r>=0){var n=this._originalMappings[r];return{line:i.getArg(n,"generatedLine",null),column:i.getArg(n,"generatedColumn",null),lastColumn:i.getArg(n,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=n})}),n.define("/node_modules/source-map/lib/source-map/binary-search.js",function(e,t,r,i){if("function"!=typeof o)var o=n("/node_modules/amdefine/amdefine.js",e)(e,n);o(function(e,t,r){function n(e,t,r,i,o){var s=Math.floor((t-e)/2)+e,a=o(r,i[s],!0);return 0===a?s:a>0?t-s>1?n(s,t,r,i,o):s:s-e>1?n(e,s,r,i,o):e<0?-1:e}t.search=function(e,t,r){return 0===t.length?-1:n(-1,t.length,e,t,r)}})}),n.define("/node_modules/source-map/lib/source-map/indexed-source-map-consumer.js",function(e,t,r,i){if("function"!=typeof o)var o=n("/node_modules/amdefine/amdefine.js",e)(e,n);o(function(e,t,r){function n(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var r=i.getArg(t,"version"),n=i.getArg(t,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);var o={line:-1,column:0};this._sections=n.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=i.getArg(e,"offset"),r=i.getArg(t,"line"),n=i.getArg(t,"column");if(r<o.line||r===o.line&&n<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=t,{generatedOffset:{generatedLine:r+1,generatedColumn:n+1},consumer:new s(i.getArg(e,"map"))}})}var i=e("/node_modules/source-map/lib/source-map/util.js",r),o=e("/node_modules/source-map/lib/source-map/binary-search.js",r),s=e("/node_modules/source-map/lib/source-map/source-map-consumer.js",r).SourceMapConsumer;e("/node_modules/source-map/lib/source-map/basic-source-map-consumer.js",r).BasicSourceMapConsumer;n.prototype=Object.create(s.prototype),n.prototype.constructor=s,n.prototype._version=3,Object.defineProperty(n.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}}),n.prototype.originalPositionFor=function(e){var t={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")},r=o.search(t,this._sections,function(e,t){var r=e.generatedLine-t.generatedOffset.generatedLine;return r||e.generatedColumn-t.generatedOffset.generatedColumn}),n=this._sections[r];return n?n.consumer.originalPositionFor({line:t.generatedLine-(n.generatedOffset.generatedLine-1),column:t.generatedColumn-(n.generatedOffset.generatedLine===t.generatedLine?n.generatedOffset.generatedColumn-1:0)}):{source:null,line:null,column:null,name:null}},n.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r],i=n.consumer.sourceContentFor(e,!0);if(i)return i}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},n.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(-1!==r.consumer.sources.indexOf(i.getArg(e,"source"))){var n=r.consumer.generatedPositionFor(e);if(n){return{line:n.line+(r.generatedOffset.generatedLine-1),column:n.column+(r.generatedOffset.generatedLine===n.line?r.generatedOffset.generatedColumn-1:0)}}}}return{line:null,column:null}},n.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var n=this._sections[r],o=n.consumer._generatedMappings,s=0;s<o.length;s++){var a=o[r],u=a.source,c=n.consumer.sourceRoot;null!=u&&null!=c&&(u=i.join(c,u));var l={source:u,generatedLine:a.generatedLine+(n.generatedOffset.generatedLine-1),generatedColumn:a.column+(n.generatedOffset.generatedLine===a.generatedLine)?n.generatedOffset.generatedColumn-1:0,originalLine:a.originalLine,originalColumn:a.originalColumn,name:a.name};this.__generatedMappings.push(l),"number"==typeof l.originalLine&&this.__originalMappings.push(l)}this.__generatedMappings.sort(i.compareByGeneratedPositions),this.__originalMappings.sort(i.compareByOriginalPositions)},t.IndexedSourceMapConsumer=n})}),n.define("/node_modules/esutils/lib/utils.js",function(e,t,r,i){!function(){"use strict";t.ast=n("/node_modules/esutils/lib/ast.js",e),t.code=n("/node_modules/esutils/lib/code.js",e),t.keyword=n("/node_modules/esutils/lib/keyword.js",e)}()}),n.define("/node_modules/esutils/lib/keyword.js",function(e,t,r,i){!function(){"use strict";function t(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function r(e,t){return!(!t&&"yield"===e)&&i(e,t)}function i(e,r){if(r&&t(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function o(e,t){return"null"===e||"true"===e||"false"===e||r(e,t)}function s(e,t){return"null"===e||"true"===e||"false"===e||i(e,t)}function a(e){return"eval"===e||"arguments"===e}function u(e){var t,r,n;if(0===e.length)return!1;if(n=e.charCodeAt(0),!h.isIdentifierStartES5(n))return!1;for(t=1,r=e.length;t<r;++t)if(n=e.charCodeAt(t),!h.isIdentifierPartES5(n))return!1;return!0}function c(e,t){return 1024*(e-55296)+(t-56320)+65536}function l(e){var t,r,n,i,o;if(0===e.length)return!1;for(o=h.isIdentifierStartES6,t=0,r=e.length;t<r;++t){if(55296<=(n=e.charCodeAt(t))&&n<=56319){if(++t>=r)return!1;if(!(56320<=(i=e.charCodeAt(t))&&i<=57343))return!1;n=c(n,i)}if(!o(n))return!1;o=h.isIdentifierPartES6}return!0}function p(e,t){return u(e)&&!o(e,t)}function f(e,t){return l(e)&&!s(e,t)}var h=n("/node_modules/esutils/lib/code.js",e);e.exports={isKeywordES5:r,isKeywordES6:i,isReservedWordES5:o,isReservedWordES6:s,isRestrictedWord:a,isIdentifierNameES5:u,isIdentifierNameES6:l,isIdentifierES5:p,isIdentifierES6:f}}()}),n.define("/node_modules/esutils/lib/code.js",function(e,t,r,n){!function(){"use strict";function t(e){return 48<=e&&e<=57}function r(e){return 48<=e&&e<=57||97<=e&&e<=102||65<=e&&e<=70}function n(e){return e>=48&&e<=55}function i(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&h.indexOf(e)>=0}function o(e){return 10===e||13===e||8232===e||8233===e}function s(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(Math.floor((e-65536)/1024)+55296)+String.fromCharCode((e-65536)%1024+56320)}function a(e){return e<128?d[e]:f.NonAsciiIdentifierStart.test(s(e))}function u(e){return e<128?m[e]:f.NonAsciiIdentifierPart.test(s(e))}function c(e){return e<128?d[e]:p.NonAsciiIdentifierStart.test(s(e))}function l(e){return e<128?m[e]:p.NonAsciiIdentifierPart.test(s(e))}var p,f,h,d,m,y;for(f={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},p={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/,
NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},h=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],d=new Array(128),y=0;y<128;++y)d[y]=y>=97&&y<=122||y>=65&&y<=90||36===y||95===y;for(m=new Array(128),y=0;y<128;++y)m[y]=y>=97&&y<=122||y>=65&&y<=90||y>=48&&y<=57||36===y||95===y;e.exports={isDecimalDigit:t,isHexDigit:r,isOctalDigit:n,isWhiteSpace:i,isLineTerminator:o,isIdentifierStartES5:a,isIdentifierPartES5:u,isIdentifierStartES6:c,isIdentifierPartES6:l}}()}),n.define("/node_modules/esutils/lib/ast.js",function(e,t,r,n){!function(){"use strict";function t(e){if(null==e)return!1;switch(e.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function r(e){if(null==e)return!1;switch(e.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function n(e){if(null==e)return!1;switch(e.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function i(e){return n(e)||null!=e&&"FunctionDeclaration"===e.type}function o(e){switch(e.type){case"IfStatement":return null!=e.alternate?e.alternate:e.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return e.body}return null}function s(e){var t;if("IfStatement"!==e.type)return!1;if(null==e.alternate)return!1;t=e.consequent;do{if("IfStatement"===t.type&&null==t.alternate)return!0;t=o(t)}while(t);return!1}e.exports={isExpression:t,isStatement:n,isIterationStatement:r,isSourceElement:i,isProblematicIfStatement:s,trailingStatement:o}}()}),n.define("/node_modules/estraverse/estraverse.js",function(t,r,n,i){!function(t,n){"use strict";"function"==typeof e&&e.amd?e(["exports"],n):n(void 0!==r?r:t.estraverse={})}(this,function e(t){"use strict";function r(e){var t,n,i={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],i[t]="object"==typeof n&&null!==n?r(n):n);return i}function n(e,t){var r,n,i,o;for(n=e.length,i=0;n;)r=n>>>1,o=i+r,t(e[o])?n=r:(i=o+1,n-=r+1);return i}function i(e,t){var r,n,i,o=b(t);for(n=0,i=o.length;n<i;n+=1)r=o[n],e[r]=t[r];return e}function o(e,t){this.parent=e,this.key=t}function s(e,t,r,n){this.node=e,this.path=t,this.wrap=r,this.ref=n}function a(){}function u(e){return null!=e&&("object"==typeof e&&"string"==typeof e.type)}function c(e,t){return(e===d.ObjectExpression||e===d.ObjectPattern)&&"properties"===t}function l(e,t){return(new a).traverse(e,t)}function p(e,t){return(new a).replace(e,t)}function f(e,t){var r;return r=n(t,function(t){return t.range[0]>e.range[0]}),e.extendedRange=[e.range[0],e.range[1]],r!==t.length&&(e.extendedRange[1]=t[r].range[0]),r-=1,r>=0&&(e.extendedRange[0]=t[r].range[1]),e}function h(e,t,n){var i,o,s,a,u=[];if(!e.range)throw new Error("attachComments needs range information");if(!n.length){if(t.length){for(s=0,o=t.length;s<o;s+=1)i=r(t[s]),i.extendedRange=[0,e.range[0]],u.push(i);e.leadingComments=u}return e}for(s=0,o=t.length;s<o;s+=1)u.push(f(r(t[s]),n));return a=0,l(e,{enter:function(e){for(var t;a<u.length&&(t=u[a],!(t.extendedRange[1]>e.range[0]));)t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),u.splice(a,1)):a+=1;return a===u.length?y.Break:u[a].extendedRange[0]>e.range[1]?y.Skip:void 0}}),a=0,l(e,{leave:function(e){for(var t;a<u.length&&(t=u[a],!(e.range[1]<t.extendedRange[0]));)e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),u.splice(a,1)):a+=1;return a===u.length?y.Break:u[a].extendedRange[0]>e.range[1]?y.Skip:void 0}}),e}var d,m,y,g,v,b,E,A,D;return m=Array.isArray,m||(m=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),v=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),b=Object.keys||function(e){var t,r=[];for(t in e)r.push(t);return r},d={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportBatchSpecifier:"ExportBatchSpecifier",ExportDeclaration:"ExportDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},g={AssignmentExpression:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","defaults","rest","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","body","superClass"],ClassExpression:["id","body","superClass"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportBatchSpecifier:[],ExportDeclaration:["declaration","specifiers","source"],ExportSpecifier:["id","name"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","defaults","rest","body"],FunctionExpression:["id","params","defaults","rest","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["id"],ImportNamespaceSpecifier:["id"],ImportSpecifier:["id","name"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handlers","handler","guardedHandlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},E={},A={},D={},y={Break:E,Skip:A,Remove:D},o.prototype.replace=function(e){this.parent[this.key]=e},o.prototype.remove=function(){return m(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},a.prototype.path=function(){function e(e,t){if(m(t))for(n=0,i=t.length;n<i;++n)e.push(t[n]);else e.push(t)}var t,r,n,i,o,s;if(!this.__current.path)return null;for(o=[],t=2,r=this.__leavelist.length;t<r;++t)s=this.__leavelist[t],e(o,s.path);return e(o,this.__current.path),o},a.prototype.type=function(){return this.current().type||this.__current.wrap},a.prototype.parents=function(){var e,t,r;for(r=[],e=1,t=this.__leavelist.length;e<t;++e)r.push(this.__leavelist[e].node);return r},a.prototype.current=function(){return this.__current.node},a.prototype.__execute=function(e,t){var r,n;return n=void 0,r=this.__current,this.__current=t,this.__state=null,e&&(n=e.call(this,t.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=r,n},a.prototype.notify=function(e){this.__state=e},a.prototype.skip=function(){this.notify(A)},a.prototype.break=function(){this.notify(E)},a.prototype.remove=function(){this.notify(D)},a.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback="iteration"===t.fallback,this.__keys=g,t.keys&&(this.__keys=i(v(this.__keys),t.keys))},a.prototype.traverse=function(e,t){var r,n,i,o,a,l,p,f,h,d,y,g;for(this.__initialize(e,t),g={},r=this.__worklist,n=this.__leavelist,r.push(new s(e,null,null,null)),n.push(new s(null,null,null,null));r.length;)if((i=r.pop())!==g){if(i.node){if(l=this.__execute(t.enter,i),this.__state===E||l===E)return;if(r.push(g),n.push(i),this.__state===A||l===A)continue;if(o=i.node,a=i.wrap||o.type,!(d=this.__keys[a])){if(!this.__fallback)throw new Error("Unknown node type "+a+".");d=b(o)}for(f=d.length;(f-=1)>=0;)if(p=d[f],y=o[p])if(m(y)){for(h=y.length;(h-=1)>=0;)if(y[h]){if(c(a,d[f]))i=new s(y[h],[p,h],"Property",null);else{if(!u(y[h]))continue;i=new s(y[h],[p,h],null,null)}r.push(i)}}else u(y)&&r.push(new s(y,p,null,null))}}else if(i=n.pop(),l=this.__execute(t.leave,i),this.__state===E||l===E)return},a.prototype.replace=function(e,t){function r(e){var t,r,i,o;if(e.ref.remove())for(r=e.ref.key,o=e.ref.parent,t=n.length;t--;)if(i=n[t],i.ref&&i.ref.parent===o){if(i.ref.key<r)break;--i.ref.key}}var n,i,a,l,p,f,h,d,y,g,v,x,C;for(this.__initialize(e,t),v={},n=this.__worklist,i=this.__leavelist,x={root:e},f=new s(e,null,null,new o(x,"root")),n.push(f),i.push(f);n.length;)if((f=n.pop())!==v){if(p=this.__execute(t.enter,f),void 0!==p&&p!==E&&p!==A&&p!==D&&(f.ref.replace(p),f.node=p),this.__state!==D&&p!==D||(r(f),f.node=null),this.__state===E||p===E)return x.root;if((a=f.node)&&(n.push(v),i.push(f),this.__state!==A&&p!==A)){if(l=f.wrap||a.type,!(y=this.__keys[l])){if(!this.__fallback)throw new Error("Unknown node type "+l+".");y=b(a)}for(h=y.length;(h-=1)>=0;)if(C=y[h],g=a[C])if(m(g)){for(d=g.length;(d-=1)>=0;)if(g[d]){if(c(l,y[h]))f=new s(g[d],[C,d],"Property",new o(g,d));else{if(!u(g[d]))continue;f=new s(g[d],[C,d],null,new o(g,d))}n.push(f)}}else u(g)&&n.push(new s(g,C,null,new o(a,C)))}}else if(f=i.pop(),p=this.__execute(t.leave,f),void 0!==p&&p!==E&&p!==A&&p!==D&&f.ref.replace(p),this.__state!==D&&p!==D||r(f),this.__state===E||p===E)return x.root;return x.root},t.version="1.8.1-dev",t.Syntax=d,t.traverse=l,t.replace=p,t.attachComments=h,t.VisitorKeys=g,t.VisitorOption=y,t.Controller=a,t.cloneEnvironment=function(){return e({})},t})}),n("/tools/entry-point.js")}).call(t,t)}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this)}(),function(){this.lively=this.lively||{},function(e,t,r,n){"use strict";function i(){}function o(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r&&r.format&&r.format.indent||{},i={style:"  ",base:0,adjustMultilineComment:!1,optsIndent:n},o=r&&r.format||{},s=qe({indent:i,quotes:"double"},t.obj.dissoc(o,["indent"]));return r=qe({format:s,comment:!1},t.obj.dissoc(r,["format"])),Xe.generate(e,r)}function s(e,r,n,i){i=i||{};var o=i.traversal||"preorder",s=t.obj.clone(i.visitors?i.visitors:Ze.make(Ze.visitors.withMemberExpression)),a="preorder"===o?function(e,t,i,o,s){return r(i,n,o,t),e(i,o+1,s)}:function(e,t,i,o,s){var a=e(i,o+1,s);return r(i,n,o,t),a};return Object.keys(s).forEach(function(e){var t=s[e];s[e]=function(r,n,i){return a(t,e,r,n,i)}}),Ze.recursive(e,0,null,s),e}function a(e,t,r,n){function i(e,r,n,i){t[e.type]&&t[e.type](e,r,n,i)}return s(e,i,r,n)}function u(e,r,n,i){var o=[];return i=i||Ze.make(Ze.visitors.withMemberExpression),Object.keys(Ze.base).forEach(function(e){var r=i[e];i[e]=function(e,n,i){return t.arr.pushIfNotIncluded(o,e),r(e,n,i)}}),i.Property=function(e,r,n){t.arr.pushIfNotIncluded(o,e),n(e.key,r,"Expression"),n(e.value,r,"Expression")},i.LabeledStatement=function(e,t,r){e.label&&r(e.label,t,"Expression"),r(e.body,t,"Statement")},Ze.findNodeAround(e,r,n,i),o}function c(e,r,n){function i(e){var r={id:t.string.newUUID(),parentScope:e,containingScopes:[]};return e&&e.containingScopes.push(r),r}n=n||{};var o,a=Ze.make({Function:function(e,t,r){t&&t.scope&&(t.scope=i(t.scope)),r(e.body,t,"ScopeBody")},VariableDeclarator:function(e,t,r){e.init&&r(e.init,t,"Expression")},VariableDeclaration:function(e,t,r){for(var n=0;n<e.declarations.length;++n){var i=e.declarations[n];i&&r(i,t,"VariableDeclarator")}},ObjectExpression:function(e,t,r){for(var n=0;n<e.properties.length;++n){var i=e.properties[n];r(i.key,t,"Expression"),r(i.value,t,"Expression")}},MemberExpression:function(e,t,r){r(e.object,t,"Expression"),r(e.property,t,"Expression")}},Ze.base),u=[];s(e,function(e){t.arr.withoutAll(Object.keys(e),["end","start","type","source","raw"]).forEach(function(t){if(!e.__lookupGetter__(t)){var r=e[t];e.__defineGetter__(t,function(){return o=t,r}),u.push([e,t,e[t]])}})},null,{visitors:a});var c=[];return Object.keys(a).forEach(function(e){var t=a[e];a[e]=function(i,s,a){return e===i.type||n.visitAllNodes?(c.push(r.call(null,i,{scope:s.scope,depth:s.depth,parent:s.parent,type:e,propertyInParent:o})),t(i,{scope:s.scope,parent:i,depth:s.depth+1},a)):t(i,s,a)}}),Ze.recursive(e,{scope:i(),parent:null,propertyInParent:"",depth:0},null,a),u.forEach(function(e){delete e[0][e[1]],e[0][e[1]]=e[2]}),c}function l(e,r){function n(e){return null===e?null:i[e.type](e,n)}var i=t.obj.extend({Program:function(e,t){return{start:e.start,end:e.end,type:"Program",body:e.body.map(t),source:e.source,astIndex:e.astIndex}},FunctionDeclaration:function(e,t){return{start:e.start,end:e.end,type:"FunctionDeclaration",id:t(e.id),params:e.params.map(t),body:t(e.body),source:e.source,astIndex:e.astIndex}},BlockStatement:function(e,t){return{start:e.start,end:e.end,type:"BlockStatement",body:e.body.map(t),source:e.source,astIndex:e.astIndex}},ExpressionStatement:function(e,t){return{start:e.start,end:e.end,type:"ExpressionStatement",expression:t(e.expression),source:e.source,astIndex:e.astIndex}},CallExpression:function(e,t){return{start:e.start,end:e.end,type:"CallExpression",callee:t(e.callee),arguments:e.arguments.map(t),source:e.source,astIndex:e.astIndex}},MemberExpression:function(e,t){return{start:e.start,end:e.end,type:"MemberExpression",object:t(e.object),property:t(e.property),computed:e.computed,source:e.source,astIndex:e.astIndex}},NewExpression:function(e,t){return{start:e.start,end:e.end,type:"NewExpression",callee:t(e.callee),arguments:e.arguments.map(t),source:e.source,astIndex:e.astIndex}},VariableDeclaration:function(e,t){return{start:e.start,end:e.end,type:"VariableDeclaration",declarations:e.declarations.map(t),kind:e.kind,source:e.source,astIndex:e.astIndex}},VariableDeclarator:function(e,t){return{start:e.start,end:e.end,type:"VariableDeclarator",id:t(e.id),init:t(e.init),source:e.source,astIndex:e.astIndex}},FunctionExpression:function(e,t){return{start:e.start,end:e.end,type:"FunctionExpression",id:t(e.id),params:e.params.map(t),body:t(e.body),source:e.source,astIndex:e.astIndex}},IfStatement:function(e,t){return{start:e.start,end:e.end,type:"IfStatement",test:t(e.test),consequent:t(e.consequent),alternate:t(e.alternate),source:e.source,astIndex:e.astIndex}},ConditionalExpression:function(e,t){return{start:e.start,end:e.end,type:"ConditionalExpression",test:t(e.test),consequent:t(e.consequent),alternate:t(e.alternate),source:e.source,astIndex:e.astIndex}},SwitchStatement:function(e,t){return{start:e.start,end:e.end,type:"SwitchStatement",discriminant:t(e.discriminant),cases:e.cases.map(t),source:e.source,astIndex:e.astIndex}},SwitchCase:function(e,t){return{start:e.start,end:e.end,type:"SwitchCase",test:t(e.test),consequent:e.consequent.map(t),source:e.source,astIndex:e.astIndex}},BreakStatement:function(e,t){return{start:e.start,end:e.end,type:"BreakStatement",label:e.label,source:e.source,astIndex:e.astIndex}},ContinueStatement:function(e,t){return{start:e.start,end:e.end,type:"ContinueStatement",label:e.label,source:e.source,astIndex:e.astIndex}},TryStatement:function(e,t){return{start:e.start,end:e.end,type:"TryStatement",block:t(e.block),handler:t(e.handler),finalizer:t(e.finalizer),guardedHandlers:e.guardedHandlers.map(t),source:e.source,astIndex:e.astIndex}},CatchClause:function(e,t){return{start:e.start,end:e.end,type:"CatchClause",param:t(e.param),guard:t(e.guard),body:t(e.body),source:e.source,astIndex:e.astIndex}},ThrowStatement:function(e,t){return{start:e.start,end:e.end,type:"ThrowStatement",argument:t(e.argument),source:e.source,astIndex:e.astIndex}},ForStatement:function(e,t){return{start:e.start,end:e.end,type:"ForStatement",init:t(e.init),test:t(e.test),update:t(e.update),body:t(e.body),source:e.source,astIndex:e.astIndex}},ForInStatement:function(e,t){return{start:e.start,end:e.end,type:"ForInStatement",left:t(e.left),right:t(e.right),body:t(e.body),source:e.source,astIndex:e.astIndex}},WhileStatement:function(e,t){return{start:e.start,end:e.end,type:"WhileStatement",test:t(e.test),body:t(e.body),source:e.source,astIndex:e.astIndex}},DoWhileStatement:function(e,t){return{start:e.start,end:e.end,type:"DoWhileStatement",test:t(e.test),body:t(e.body),source:e.source,astIndex:e.astIndex}},WithStatement:function(e,t){return{start:e.start,end:e.end,type:"WithStatement",object:t(e.object),body:t(e.body),source:e.source,astIndex:e.astIndex}},UnaryExpression:function(e,t){return{start:e.start,end:e.end,type:"UnaryExpression",argument:t(e.argument),operator:e.operator,prefix:e.prefix,source:e.source,astIndex:e.astIndex}},BinaryExpression:function(e,t){return{start:e.start,end:e.end,type:"BinaryExpression",left:t(e.left),operator:e.operator,right:t(e.right),source:e.source,astIndex:e.astIndex}},LogicalExpression:function(e,t){return{start:e.start,end:e.end,type:"LogicalExpression",left:t(e.left),operator:e.operator,right:t(e.right),source:e.source,astIndex:e.astIndex}},AssignmentExpression:function(e,t){return{start:e.start,end:e.end,type:"AssignmentExpression",left:t(e.left),operator:e.operator,right:t(e.right),source:e.source,astIndex:e.astIndex}},UpdateExpression:function(e,t){return{start:e.start,end:e.end,type:"UpdateExpression",argument:t(e.argument),operator:e.operator,prefix:e.prefix,source:e.source,astIndex:e.astIndex}},ReturnStatement:function(e,t){return{start:e.start,end:e.end,type:"ReturnStatement",argument:t(e.argument),source:e.source,astIndex:e.astIndex}},Identifier:function(e,t){return{start:e.start,end:e.end,type:"Identifier",name:e.name,source:e.source,astIndex:e.astIndex}},Literal:function(e,t){return{start:e.start,end:e.end,type:"Literal",value:e.value,raw:e.raw,source:e.source,astIndex:e.astIndex}},ObjectExpression:function(e,t){return{start:e.start,end:e.end,type:"ObjectExpression",properties:e.properties.map(function(e){return{key:t(e.key),value:t(e.value),kind:e.kind}}),source:e.source,astIndex:e.astIndex}},ArrayExpression:function(e,t){return{start:e.start,end:e.end,type:"ArrayExpression",elements:e.elements.map(t),source:e.source,astIndex:e.astIndex}},SequenceExpression:function(e,t){return{start:e.start,end:e.end,type:"SequenceExpression",expressions:e.expressions.map(t),source:e.source,astIndex:e.astIndex}},EmptyStatement:function(e,t){return{start:e.start,end:e.end,type:"EmptyStatement",source:e.source,astIndex:e.astIndex}},ThisExpression:function(e,t){return{start:e.start,end:e.end,type:"ThisExpression",source:e.source,astIndex:e.astIndex}},DebuggerStatement:function(e,t){return{start:e.start,end:e.end,type:"DebuggerStatement",source:e.source,astIndex:e.astIndex}},LabeledStatement:function(e,t){return{start:e.start,end:e.end,type:"LabeledStatement",label:e.label,body:t(e.body),source:e.source,astIndex:e.astIndex}}},r||{});return n(e)}function p(e,r,n){if(!r)return[];var i=u(e,r.start),o=i.indexOf(r),s=i.slice(0,o),a=t.arr.detect(s.reverse(),function(e){return Array.isArray(e.body)}),c=a.body;if(!n)return t.arr.without(c,r);var l=c.indexOf(r);return"before"===n?c.slice(0,l):c.slice(l+1)}function f(e,t,r){r=null==r||!!r,!e.astIndex&&r&&d(e);var n=null;return at(e,null,function(e,r,i){if(!n){if(!(r.astIndex<t))return r.astIndex===t?void(n=r):void e()}}),n}function h(e,r,n){n||(n=r,r=e,e=null),e||(e={}),r.astIndex||d(r);var i,o=!1,s=["EmptyStatement","BlockStatement","ExpressionStatement","IfStatement","LabeledStatement","BreakStatement","ContinueStatement","WithStatement","SwitchStatement","ReturnStatement","ThrowStatement","TryStatement","WhileStatement","DoWhileStatement","ForStatement","ForInStatement","DebuggerStatement","FunctionDeclaration","VariableDeclaration","ClassDeclaration"];return at(r,{},function(a,u,c,l){if(!(o||u.astIndex<n.astIndex)){if(u===n||u.astIndex===n.astIndex)if(o=!0,e.asPath)i=l;else{var p=t.Path(l);do{i=p.get(r),p=p.slice(0,p.size()-1)}while(-1==s.indexOf(i.type)&&p.size()>0)}!o&&a()}}),i}function d(e){return at(e,{index:0},function(e,t,r){e(),t.astIndex=r.index++}),e}function m(e){if(Array.isArray(e.body))for(var t=e.body.length-1;t>=0;t--){var r=e.body[t];"BlockStatement"===r.type&&r[nt]&&e.body.splice.apply(e.body,[t,1].concat(r.body))}return e}function y(e,t){return"string"==typeof e&&(t=e,e=E(e)),t&&tt.run(e,function(e,r,n){return!e.source&&(e.source=t.slice(e.start,e.end))}),e}function g(e,t){return t="string"==typeof t?this.parse(t):t,u(t,e)}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="("+e+")",n=E(r,t);return tt.run(n,function(r,n,i){r._positionFixed||(r._positionFixed=!0,(r.start||0===r.start)&&(r.start+=-1,r.end+=-1),t.addSource&&!r.source&&(r.source=e.slice(r.start,r.end)))}),n.body[0].expression}function b(e,t){t=t||{},t.ecmaVersion=t.ecmaVersion||8,t.sourceType=t.sourceType||"module",t.plugins=t.plugins||{},t.plugins.asyncawait=t.plugins.hasOwnProperty("asyncawait")?t.plugins.asyncawait:{inAsyncFunction:!0},t.plugins.objectSpread=!t.plugins.hasOwnProperty("objectSpread")||t.plugins.objectSpread;var r,n,i;"LabeledStatement"===t.type&&(n="$={"+e+"}");try{r=E(n||e,t),n?r=null:t.addSource&&y(r,e)}catch(e){i=e}if(i&&void 0!==i.raisedAt){n&&(i.pos-=3,i.raisedAt-=3,i.loc.column-=3);var o="";o+=e.slice(i.raisedAt-20,i.raisedAt),o+="<-error->",o+=e.slice(i.raisedAt,i.raisedAt+20),t.verbose&&show("parse error: "+o),i.parseErrorSource=o
}else i&&t.verbose&&show(""+i+i.stack);return r||(r=et.parse_dammit(e,t),t.addSource&&y(r,e),r.isFuzzy=!0,r.parseError=i),r}function E(e,r){function n(e){return o.forEach(function(r){var n=t.arr.detect(g(r.start,s).reverse(),function(e){return"BlockStatement"===e.type||"Program"===e.type});n||(n=s),n.comments||(n.comments=[]),n.comments.push(r),e.nodesWithComments.push(n)}),e}function i(r){return r.nodesWithComments.forEach(function(n){t.arr.clone(n.comments).reduce(function(i,o){if(o.isBlock)return i.lastComment=null,i;if(!i.lastComment)return i.lastComment=o,i;var s=i.lastComment;return t.arr.detect(n.body,function(e){return e.start>=s.end&&e.end<=o.start})?(i.lastComment=o,i):/[\n\r][\n\r]+/.test(e.slice(s.end,o.start))?(i.lastComment=o,i):(s.text+="\n"+o.text,s.end=o.end,t.arr.remove(n.comments,o),t.arr.remove(r.comments,o),i)},{lastComment:null})}),r}if(r=r||{},r.ecmaVersion=r.ecmaVersion||8,r.sourceType=r.sourceType||"module",r.hasOwnProperty("allowImportExportEverywhere")||(r.allowImportExportEverywhere=!0),r.plugins=r.plugins||{},r.plugins.asyncawait=r.plugins.hasOwnProperty("asyncawait")?r.plugins.asyncawait:{inAsyncFunction:!0},r.plugins.objectSpread=!r.plugins.hasOwnProperty("objectSpread")||r.plugins.objectSpread,r.withComments){delete r.withComments;var o=[];r.onComment=function(e,t,r,n,i,s){o.push({isBlock:e,text:t,node:null,start:r,end:n,line:i,column:s})}}try{var s=acorn.parse(e,r)}catch(t){if("undefined"!=typeof SyntaxError&&t instanceof SyntaxError&&t.loc){var a=e.split("\n"),u=t.message,c=t.loc,l=c.line,p=c.column,f=t.pos,h=a[l-1],m="Syntax error at line "+l+" column "+p+" (index "+f+') "'+u+'"\nsource: '+h.slice(0,p)+"<--SyntaxError--\x3e"+h.slice(p),v=new SyntaxError(m);throw v.loc={line:l,column:p},v.pos=f,v}throw t}return r.addSource&&y(s,e),r.addAstIndex&&!s.hasOwnProperty("astIndex")&&d(s),s&&o&&function(e){e=i(n(e)),s.allComments=e.comments}({ast:s,comments:o,nodesWithComments:[]}),s}function A(e){return ft.test(e)&&-1===e.indexOf("-")}function D(e){return"this"===e?{type:"ThisExpression"}:{name:String(e),type:"Identifier"}}function x(e){return{type:"Literal",value:e}}function C(e){return{type:"ExpressionStatement",expression:e}}function F(e){return{type:"ReturnStatement",argument:e}}function S(){return{type:"EmptyStatement"}}function k(e,t,r){return{left:e,right:r,operator:t,type:"BinaryExpression"}}function w(e){for(var t=arguments.length,r=Array(t>2?t-2:0),n=2;n<t;n++)r[n-2]=arguments[n];var i=e.arrow,o=e.id,s=e.expression,a=e.generator,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return u=u.map(function(e){return"string"==typeof e?D(e):e}),{type:(i?"Arrow":"")+"FunctionExpression",id:o?"string"==typeof o?D(o):o:void 0,params:u,body:{body:r,type:"BlockStatement"},expression:s||!1,generator:a||!1}}function _(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return"string"==typeof e&&(e=D(e)),{type:"CallExpression",callee:e,arguments:r}}function B(e,t,r){return"string"==typeof e&&(e={name:e,type:"Identifier"}),{type:"VariableDeclaration",kind:r||"var",declarations:[{type:"VariableDeclarator",id:e,init:t}]}}function O(e,t,r){return"string"==typeof e&&(e=D(e)),"string"==typeof t?(r||A(t)||(r=!0),t=r?x(t):D(t)):"number"==typeof t?(t=x(t),r=!0):"Literal"===t.type&&(r=!0),{type:"MemberExpression",computed:!!r,object:e,property:t}}function P(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(function(e,t){return O(e,t)},"object"===(void 0===e?"undefined":Me(e))?e:D(e))}function I(e,t){return{type:"AssignmentExpression",operator:"=",right:t?"string"==typeof t?D(t):t:D("undefined"),left:"string"==typeof e?D(e):e}}function T(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return{body:Array.isArray(t[0])?t[0]:t,type:"BlockStatement"}}function j(){return Object.assign(T.apply(void 0,arguments),{sourceType:"module",type:"Program"})}function N(e,t,r){for(var n=arguments.length,i=Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];return Array.isArray(r)||(i.unshift(r),r=null),{block:T(i),finalizer:r?T(r):null,handler:{body:T(t),param:D(e),type:"CatchClause"},type:"TryStatement"}}function L(e,t){return{type:"Property",key:e,computed:"Identifier"!==e.type,shorthand:!1,value:t}}function R(e){for(var t=[],r=0;r<e.length;r+=2){var n=e[r];"string"==typeof n&&(n=D(n)),t.push(L(n,e[r+1]))}return{properties:t,type:"ObjectExpression"}}function M(e){return{consequent:arguments.length>1&&void 0!==arguments[1]?arguments[1]:T(),alternate:arguments.length>2&&void 0!==arguments[2]?arguments[2]:T(),test:e,type:"IfStatement"}}function W(e){return{consequent:arguments.length>1&&void 0!==arguments[1]?arguments[1]:D("undefined"),alternate:arguments.length>2&&void 0!==arguments[2]?arguments[2]:D("undefined"),test:e,type:"ConditionalExpression"}}function V(e,t,r){return{operator:e,left:t,right:r,type:"LogicalExpression"}}function q(e){var t=new Qe,r=t.newScope(e,null);return t.accept(e,r,[]),r}function $(e,t){return at(e,[],function(e,r,n){return r.start<=t&&t<=r.end&&(n.push(r),e()),n})}function z(e,r){return t.tree.filter(q(e),function(e){var t=e.node,n=t.start,i=t.end;return"FunctionDeclaration"===t.type&&(n=t.params.length?t.params[0].start:t.body.start,i=t.body.end),n<=r&&r<=i},function(e){return e.subScopes})}function G(e,r){return t.arr.last(z(e,r))}function U(e,t){return ae(e,t).filter(function(e){return"Program"===e.type||"FunctionDeclaration"===e.type||"FunctionExpression"===e.type})}function H(e){return at(e,{root:e,result:[]},function(e,t,r){return r.result.push(t),t===r.root||"Program"!==t.type&&"FunctionDeclaration"!==t.type&&"FunctionExpression"!==t.type?(e(),r):r}).result}function K(e,t){return(t&&e.node.id&&e.node.id.name?[e.node.id]:[]).concat(dt.declIds(e.params)).concat(e.funcDecls.map(function(e){return e.id})).concat(dt.varDeclIds(e)).concat(e.catches).concat(e.classDecls.map(function(e){return e.id})).concat(e.importSpecifiers)}function J(e){var t=dt.declIds(e.params).concat(e.catches),r=(e.node.id&&e.node.id.name?[e.node]:[]).concat(e.funcDecls).concat(e.classDecls);return t.map(function(e){return[e,e]}).concat(r.map(function(e){return[e,e.id]})).concat(dt.varDecls(e)).concat(e.importSpecifiers.map(function(t){return[ue(e.node,t),t]}))}function Y(e,r){return t.arr.pluck(K(e,!0),"name").concat(r?Q("Program"===e.node.type?e.node:e.node.body):[])}function Q(e){return e&&e.comments?t.arr.flatten(e.comments.filter(function(e){return e.text.trim().match(/^global/)}).map(function(e){return t.arr.invoke(e.text.replace(/^\s*global\s*/,"").split(","),"trim")})):[]}function X(e){return rt.run(e)}function Z(e,t){if(0==t.length)return[null,null];var r=He(t),n=r[0],i=r.slice(1),o=n.decls||J(n);return n.decls=o,o.find(function(t){var r=Ue(t,2);r[0];return r[1].name==e})||Z(e,i)}function ee(e){function t(e,n){var i=[e].concat(n);e.refs.forEach(function(e){var t=Z(e.name,i),n=Ue(t,2),o=n[0],s=n[1];r.set(e,{decl:o,declId:s,ref:e})}),e.subScopes.forEach(function(e){return t(e,i)})}if(e.referencesResolvedSafely)return e;var r=e.resolvedRefMap||(e.resolvedRefMap=new Map);return t(e,[]),e.referencesResolvedSafely=!0,e}function te(e,t){var r=!0,n=!1,i=void 0;try{for(var o,s=t.resolvedRefMap.values()[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var a=o.value,u=a.ref,c=u.start,l=u.end;if(c<=e&&e<=l)return a}}catch(e){n=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}}function re(e,r){function n(e){var t=Y(e,o);return e.subScopes.map(n).reduce(function(e,t){return e.concat(t)},e.refs).filter(function(e){return-1===t.indexOf(e.name)})}r=r||{},r.withComments=!0,"string"==typeof e&&(e=E(e,r));var i=q(e),o=!!r.jslintGlobalComment,s=Y(i,o),a=i.refs.concat(t.arr.flatten(i.subScopes.map(n))),u=t.arr.withoutAll(a.map(function(e){return e.name}),s);return{scope:i,varDecls:i.varDecls,funcDecls:i.funcDecls,classDecls:i.classDecls,declaredNames:s,undeclaredNames:u,refs:a,thisRefs:i.thisRefs}}function ne(e,t){var r=re(e,t),n=r.declaredNames.concat(mt);return r.refs.filter(function(e){return-1===n.indexOf(e.name)})}function ie(e,r,n,i){if(!r&&!e)throw new Error("Need at least ast or code");return r=r||o(e),e=e&&e.loc?e:E(r,{locations:!0}),at(e,[],function(e,r,i){return n.every(function(e){return t.num.between(e,r.loc.start.line,r.loc.end.line)})&&(t.arr.pushIfNotIncluded(i,r),e()),i})}function oe(e,r){function n(e){return e.params.concat(t.arr.pluck(e.funcDecls,"id")).concat(t.arr.pluck(e.classDecls,"id")).concat(dt.varDeclIds(e))}return"this"===r?e.thisRefs:t.arr.flatten(t.tree.map(e,function(e){return e.refs.concat(n(e)).filter(function(e){return e.name===r})},function(e){return e.subScopes.filter(function(e){return n(e).every(function(e){return e.name!==r})})}))}function se(e,r,n){var i=null;return t.arr.detect(z(e,n).reverse(),function(e){var n=K(e,!0),o=t.arr.pluck(n,"name").indexOf(r);return-1!==o&&(i=n[o],!0)}),i}function ae(e,t){return t="string"==typeof t?E(t):t,acorn.walk.findNodesIncluding(t,e)}function ue(e,r,n){var o=ae(r.start,e),s=o.reverse().find(function(e){return t.arr.include(yt,e.type)});if(n&&n.asPath){var a=new i,u=void 0;a.accept=t.fun.wrap(a.accept,function(e,t,r,n){if(t===s)throw u=n,new Error("stop search");return e(t,r,n)});try{a.accept(e,{},[])}catch(e){}return u}return s}function ce(e){for(var t=[],r=e.node.body||[],n=0;n<r.length;n++){var i=r[n];if("ImportDeclaration"===i.type)if(0!==i.specifiers.length){var o=i.source?i.source.value:"unknown module";t.push.apply(t,Ke(i.specifiers.map(function(e){var t;return t="ImportNamespaceSpecifier"===e.type?"*":"ImportDefaultSpecifier"===e.type?"default":"ImportSpecifier"===e.type?e.imported.name:null,{local:e.local?e.local.name:null,imported:t,fromModule:o,node:i}})))}else t.push({local:null,imported:null,fromModule:i.source.value,node:i})}return t}function le(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&ee(e);var r=e.exportDecls.reduce(function(t,r){var n=ue(e.node,r);if(!n)return t;var i=n.source?n.source.value:null;if("ExportAllDeclaration"===n.type)return t.concat([{local:null,exported:"*",imported:"*",fromModule:i,node:r,type:"all"}]);if("ExportDefaultDeclaration"===n.type){if(dt.isDeclaration(n.declaration))return t.concat({local:n.declaration.id.name,exported:"default",type:"FunctionDeclaration"===n.declaration.type?"function":"ClassDeclaration"===n.declaration.type?"class":null,fromModule:null,node:r,decl:n.declaration,declId:n.declaration.id});if("Identifier"===n.declaration.type){var o=e.resolvedRefMap.get(n.declaration)||{},s=o.decl,a=o.declId;return t.concat([{local:n.declaration.name,exported:"default",fromModule:null,node:r,type:"id",decl:s,declId:a}])}return t.concat([{local:null,exported:"default",fromModule:null,node:r,type:"expr",decl:n.declaration,declId:n.declaration}])}return n.specifiers&&n.specifiers.length?t.concat(n.specifiers.map(function(t){var n,o;if(i)n=r,o=t.exported;else if(t.local){var s=e.resolvedRefMap.get(t.local);n=s?s.decl:null,o=s?s.declId:null}return{local:!i&&t.local?t.local.name:null,exported:t.exported?t.exported.name:null,imported:i&&t.local?t.local.name:null,fromModule:i||null,type:"id",node:r,decl:n,declId:o}})):n.declaration&&n.declaration.declarations?t.concat(n.declaration.declarations.map(function(e){return{local:e.id.name,exported:e.id.name,type:n.declaration.kind,fromModule:null,node:r,decl:e,declId:e.id}})):n.declaration?t.concat({local:n.declaration.id.name,exported:n.declaration.id.name,type:"FunctionDeclaration"===n.declaration.type?"function":"ClassDeclaration"===n.declaration.type?"class":null,fromModule:null,node:r,decl:n.declaration,declId:n.declaration.id}):t},[]);return t.arr.uniqBy(r,function(e,t){return e.local==t.local&&e.exported==t.exported&&e.fromModule==t.fromModule})}function pe(e){return(new vt).accept(e,{},[])}function fe(e){return e.source||o(e)}function he(e,r){var n=t.string.peekLeft(e,r,/\s+$/),i="number"==typeof n?e.slice(n,r):"";return"\n"===i[0]&&(i=i.slice(1)),i}function de(e,r){for(var n=0;n<e.length;n++){var i=e[n];if("del"===i.type)r=r.slice(0,i.pos)+r.slice(i.pos+i.length);else{if("add"!==i.type)throw new Error("Unexpected change "+t.obj.inspect(i));r=r.slice(0,i.pos)+i.string+r.slice(i.pos)}}return r}function me(e,t){if(e.start===t.start&&e.end===t.end)return 0;if(e.end<=t.start)return-1;if(e.start>=t.end)return 1;if(e.start<=t.start&&e.end>=t.end)return 1;if(t.start<=e.start&&t.end>=e.end)return-1;throw new Error("Comparing nodes")}function ye(e,r,n){var i="object"===(void 0===n?"undefined":Me(n))?n:{changes:[],source:n},o=!1,s=i.changes.reduce(function(e,r){if(e.end<r.pos)return e;var n=r.pos<e.start;if(o=o||r.pos>=e.start&&r.pos<=e.end,"add"===r.type)return{start:n?e.start+r.string.length:e.start,end:e.end+r.string.length};if("del"===r.type)return{start:n?e.start-r.length:e.start,end:e.end-r.length};throw new Error("Cannot deal with change "+t.obj.inspect(r))},{start:e.start,end:e.end}),a=i.source,u=r(e,a.slice(s.start,s.end),o),c=Array.isArray(u)?u.map(fe).join("\n"+he(a,s.start)):c=fe(u),l=[{type:"del",pos:s.start,length:s.end-s.start},{type:"add",pos:s.start,string:c}];return{changes:i.changes.concat(l),source:de(l,a)}}function ge(e,t){for(var r=e.sort(function(e,t){return me(e.target,t.target)}),n="object"===(void 0===t?"undefined":Me(t))?t:{changes:[],source:t},i=0;i<r.length;i++){var o=r[i];n=ye(o.target,o.replacementFunc,n)}return n}function ve(e,t,r,n){var i="object"===(void 0===e?"undefined":Me(e))?e:null;return ye(t,r,"string"==typeof e?e:i.source||fe(i))}function be(e){var r="object"===(void 0===e?"undefined":Me(e))?e:E(e),n="string"==typeof e?e:r.source||fe(r),i=q(r);return ge(function e(r){return t.arr.flatten(r.varDecls.concat(r.subScopes.map(e)))}(i).map(function(e){return{target:e,replacementFunc:function(e,t,r){return r&&(e=E(t).body[0]),e.declarations.map(function(e){return{type:"VariableDeclaration",kind:"var",declarations:[e]}})}}}),n)}function Ee(e){var r="object"===(void 0===e?"undefined":Me(e))?e:E(e),n="string"==typeof e?e:r.source||fe(r),i=q(r);return ge(function e(r){return t.arr.flatten(r.varDecls.concat(r.subScopes.map(e)))}(i).map(function(e){return{target:e,replacementFunc:function(e,r,n){return n&&(e=E(r).body[0]),t.arr.flatmap(e.declarations,function(e){var r={type:"Identifier",name:"__temp"};return[{type:"VariableDeclaration",kind:"var",declarations:[{type:"VariableDeclarator",id:r,init:e.init}]}].concat(dt.objPropertiesAsList(e.id,[],!1).map(function(e){return e.key}).map(function(e){return B(t.arr.last(e),P.apply(void 0,[r.name].concat(Ke(e))),"var")}))})}}}),n)}function Ae(e,r){r=r||{};var n=E(e,r),i=t.arr.last(n.body);return"ExpressionStatement"===i.type?(n.body.splice(n.body.length-1,1,F(i.expression)),r.asAST?n:o(n)):r.asAST?n:e}function De(e,t){t=t||{};var r=Ae(e,t);return t.asAST?j(w.apply(void 0,[{id:t.id||void 0},[]].concat(Ke(r.body)))):"function"+(t.id?" "+t.id:"")+"() {\n"+r+"\n}"}function xe(e,r){"string"==typeof e&&(e=E(e)),r=r||{};var n="Program"===e.type,i=r.startFuncNode||D("__start_execution"),o=r.endFuncNode||D("__end_execution"),s=X(e),a=e.body,u=[];s.forEach(function(r){var n=r.node,i=r.path;t.Path(i).set(e,C(n.id)),u.push(n)}),a.unshift(C(_(i)));var c=t.arr.last(a);return"ExpressionStatement"===c.type?(a.pop(),a.push(C(_(o,D("null"),c.expression)))):"VariableDeclaration"===c.type&&"Identifier"===t.arr.last(c.declarations).id.type?a.push(C(_(o,D("null"),t.arr.last(c.declarations).id))):a.push(C(_(o,D("null"),D("undefined")))),u.push(N.apply(void 0,["err",[C(_(o,D("err"),D("undefined")))]].concat(Ke(a)))),n?j.apply(void 0,u):T.apply(void 0,u)}function Ce(e){if(!bt.test(e)||e.split("\n").length>30)return e;try{var t=b(e);1===t.body.length&&("FunctionDeclaration"===t.body[0].type||"BlockStatement"===t.body[0].type&&"LabeledStatement"===t.body[0].body[0].type)&&(e="("+e.replace(/;\s*$/,"")+")")}catch(e){"undefined"!=typeof $world?$world.logError(e):console.error("Eval preprocess error: %s",e.stack||e)}return e}function Fe(e,r){var n=ue(e,r,{asPath:!0}),i=n.slice(0,-2),o=t.Path(i).get(e);return o.comments&&o.comments.length?t.chain(Se(e)).reversed().detect(function(e){return e.followingNode===r}).value():null}function Se(e,r){function n(e){return t.arr.detect(e.node.body,function(t){return t.start>e.comment.end})}function s(e){return{type:"unknown",comment:e.comment.text}}function a(e){var r=t.Path(e.path.slice(0,-1)).get(b);return r&&"FunctionDeclaration"===r.type}function u(e){var r=t.Path(e.path.slice(0,-1)).get(b);return{name:r.id?r.id.name:"<error: no name for function>",args:t.arr.pluck(r.params,"name")}}function c(e){return t.arr.equals(e.path.slice(-2),["value","body"])}function l(e){return t.arr.equals(e.path.slice(-2),["right","body"])}function p(e){for(var r=t.Path(e.path.slice(0,-2)).get(b),n=r.key?r.key.name:"<error: no name for method>",i=e.path.slice(),o="<error: no object found for method>";i.length&&"init"!==t.arr.last(i);)i.pop();if(i.length&&(o=t.Path(i.slice(0,-1).concat(["id","name"])).get(b)),t.string.startsWith(o,"<error")){for(i=e.path.slice();i.length&&"right"!==t.arr.last(i);)i.pop();if(i.length){var s=t.Path(i.slice(0,-1).concat(["left"])).get(b);o=A.slice(s.start,s.end)}}if(t.string.startsWith(o,"<error")){i=e.path.slice();var a=t.Path(i.slice(0,-6)).get(b),u=a&&"CallExpression"===a.type,c=u&&a.arguments[0];c&&(o=A.slice(c.start,c.end))}return{name:n,args:t.arr.pluck(r.value.params,"name"),objectName:o}}function f(e){var r=t.Path(e.path.slice(0,-1)).get(b);if("FunctionExpression"!==r.type&&"FunctionDeclaration"!==r.type)return{};var n=ue(b,r);if("ExpressionStatement"!==n.type||"AssignmentExpression"!==n.expression.type)return{};var i=A.slice(n.expression.left.object.start,n.expression.left.object.end);return{name:A.slice(n.expression.left.property.start,n.expression.left.property.end),objectName:i,args:t.arr.pluck(r.params,"name")}}function h(e){var r=e.path.slice(-5);return t.arr.removeAt(r,1),t.arr.equals(r,["properties","value","callee","body"])}function d(e){var r,n,i;i=e.path.slice(0,-3);var o=t.Path(i).get(b);o&&"Property"===o.type&&(n=t.arr.pluck(o.value.callee.params,"name"),r=o.key?o.key.name:"<error: no name for method>"),r||(i=e.path.slice(0,-2),(o=t.Path(i).get(b))&&"Property"===o.type&&(n=t.arr.pluck(o.value.params,"name"),r=o.key?o.key.name:"<error: no name for method>")),r||(r="<error: no name for method>",n=[],i=e.path);for(var s=t.arr.clone(i),a="<error: no object found for method>";s.length&&"init"!==t.arr.last(s);)s.pop();if(s.length&&(a=t.Path(s.slice(0,-1).concat(["id","name"])).get(b)),t.string.startsWith(a,"<error")){for(var s=t.arr.clone(i);s.length&&"right"!==t.arr.last(s);)s.pop();if(s.length){var u=t.Path(s.slice(0,-1).concat(["left"])).get(b);a=A.slice(u.start,u.end)}}if(t.string.startsWith(a,"<error")){var s=t.arr.clone(i),c=t.Path(s.slice(0,-4)).get(b),l=c&&"CallExpression"===c.type,p=l&&c.arguments[0];p&&(a=A.slice(p.start,p.end))}return{name:r,args:n,objectName:a}}function m(e){return y(e)&&("ObjectExpression"===e.declarations[0].init.type||v(e.declarations[0].init))}function y(e){return e&&"VariableDeclaration"===e.type&&1===e.declarations.length}function g(e){return{name:e.declarations[0].id.name}}function v(e){return"AssignmentExpression"===e.type&&("ObjectExpression"===e.right.type||"AssignmentExpression"===e.right.type&&v(e.right))}var b="string"==typeof e?E(e,{withComments:!0}):e,A=r||("string"==typeof e?e:o(e)),D=t.arr.sortBy(function(e){var r=[],n=new i;return n.accept=t.fun.wrap(n.accept,function(e,n,i,o){return n.comments&&t.arr.pushAll(r,n.comments.map(function(e){return{path:o,comment:e,node:n}})),e(n,i,o)}),n.accept(e,r,[]),r}(b),function(e){return e.comment.start});return D.map(function(e,r){if(c(e))return t.obj.merge([e,e.comment,{type:"method",comment:e.comment.text},p(e)]);if(h(e))return t.obj.merge([e,e.comment,{type:"method",comment:e.comment.text},d(e)]);if(a(e))return t.obj.merge([e,e.comment,{type:"function",comment:e.comment.text},u(e)]);if(l(e))return t.obj.merge([e,e.comment,{type:"method",comment:e.comment.text},f(e)]);var i=n(e);if(!i)return t.obj.merge([e,e.comment,{followingNode:i},s(e)]);var o=D[r+1];return o&&o.comment.start<=i.start?t.obj.merge([e,e.comment,{followingNode:i},s(e)]):m(i)?t.obj.merge([e,e.comment,{followingNode:i},{type:"object",comment:e.comment.text},g(i)]):y(i)?t.obj.merge([e,e.comment,{followingNode:i},{type:"var",comment:e.comment.text},g(i)]):t.obj.merge([e,e.comment,{followingNode:i},s(e)])})}function ke(e,r){r=r||t.obj.merge({hideOneLiners:!1},r),"string"==typeof e&&(e=E(e,{addSource:!0}));var n="Program"===e.type?e.body:e.body.body,i=[],o=(r.hideOneLiners&&e.source,!0),s=!1,a=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;l=Te(l);var p=Ie(l,r)||Be(l)||Oe(l)||we(l)||Pe(l);if(p){if(r.hideOneLiners)if(e.loc)p=p.filter(function(e){return!e.node.loc||e.node.loc.start.line!==e.node.loc.end.line});else if(e.source){var f=[],h=!0,d=!1,m=void 0;try{for(var y,g=p[Symbol.iterator]();!(h=(y=g.next()).done);h=!0){var v=y.value;(v.parent&&f.includes(v.parent)||(v.node.source||"").includes("\n"))&&f.push(v)}}catch(e){d=!0,m=e}finally{try{!h&&g.return&&g.return()}finally{if(d)throw m}}p=f}i.push.apply(i,Ke(p))}}}catch(e){s=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw a}}return i}function we(e){var t;if("ClassDeclaration"!==e.type)return null;var r={type:"class-decl",name:e.id.name,node:e,children:[]};return(t=r.children).push.apply(t,Ke(e.body.body.map(function(e,t){return _e(e,r,t)}).filter(Boolean))),[r].concat(Ke(r.children))}function _e(e,t,r){if("MethodDefinition"!==e.type)return null;var n;return"constructor"===e.kind?n="class-constructor":"method"===e.kind?n=e.static?"class-class-method":"class-instance-method":"get"===e.kind?n=e.static?"class-class-getter":"class-instance-getter":"set"===e.kind&&(n=e.static?"class-class-setter":"class-instance-setter"),n?{type:n,parent:t,node:e,name:e.key.name}:null}function Be(e){if("VariableDeclaration"!==e.type)return null;var t=[],r=!0,n=!1,i=void 0;try{for(var o,s=Le(e)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var a;(function(){var e=o.value,r=e.id,n=e.node,i={name:r.name,node:n,type:"var-decl"};if(t.push(i),!i.node.init)return"continue";for(var s=i.node.init;"AssignmentExpression"===s.type;)s=s.right;if("ObjectExpression"===s.type)return i.type="object-decl",i.children=je(s).map(function(e){return qe({},e,{type:"object-"+e.type,parent:i})}),t.push.apply(t,Ke(i.children)),"continue";(a=Pe(s,i))&&(i.children=a.map(function(e){return qe({},e,{parent:i})}),t.push.apply(t,Ke(i.children)))})()}}catch(e){n=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}return t}function Oe(e){return"FunctionStatement"!==e.type&&"FunctionDeclaration"!==e.type?null:[{name:e.id.name,node:e,type:"function-decl"}]}function Pe(e,t){if("ExpressionStatement"===e.type&&(e=e.expression),"CallExpression"!==e.type)return null;var r=e.arguments.find(function(e){return"ObjectExpression"===e.type});return r?je(r,t):null}function Ie(e,r){if(!Ne(e))return null;var n,i=t.Path("expression.arguments.0").get(e);n=i&&"FunctionExpression"===i.type&&t.string.lines(i.source||"").length>5?ke(i,r):ke(t.Path("expression.callee").get(e),r);var o={node:e,name:t.Path("expression.callee.id.name").get(e)};return n.forEach(function(e){return e.parent||(e.parent=o)}),n}function Te(e){return"ExportNamedDeclaration"!==e.type&&"ExportDefaultDeclaration"!==e.type||!e.declaration?e:e.declaration}function je(e,t){return e.properties.map(function(e){return{name:e.key.name||e.key.value,type:"FunctionExpression"===e.value.type?"method":"property",node:e,parent:t}})}function Ne(e){return"CallExpression"===t.Path("expression.type").get(e)&&"FunctionExpression"===t.Path("expression.callee.type").get(e)}function Le(e){return e.declarations.map(function(e){return!e.source&&e.init&&(e.source=e.id.name+" = "+e.init.source),{node:e,id:e.id}})}function Re(e){return xt.test(e)}i.prototype.accept=function(e,t,r){if(!e)throw new Error("Undefined AST node in Visitor.accept:\n  "+r.join(".")+"\n  "+e);if(!e.type)throw new Error("Strangee AST node without type in Visitor.accept:\n  "+r.join(".")+"\n  "+JSON.stringify(e));switch(e.type){case"Node":return this.visitNode(e,t,r);case"SourceLocation":return this.visitSourceLocation(e,t,r);case"Position":return this.visitPosition(e,t,r);case"Program":return this.visitProgram(e,t,r);case"Function":return this.visitFunction(e,t,r);case"Statement":return this.visitStatement(e,t,r);case"SwitchCase":return this.visitSwitchCase(e,t,r);case"CatchClause":return this.visitCatchClause(e,t,r);case"VariableDeclarator":return this.visitVariableDeclarator(e,t,r);case"Expression":return this.visitExpression(e,t,r);case"Property":return this.visitProperty(e,t,r);case"Pattern":return this.visitPattern(e,t,r);case"Super":return this.visitSuper(e,t,r);case"SpreadElement":return this.visitSpreadElement(e,t,r);case"TemplateElement":return this.visitTemplateElement(e,t,r);case"Class":return this.visitClass(e,t,r);case"ClassBody":return this.visitClassBody(e,t,r);case"MethodDefinition":return this.visitMethodDefinition(e,t,r);case"ModuleDeclaration":return this.visitModuleDeclaration(e,t,r);case"ModuleSpecifier":return this.visitModuleSpecifier(e,t,r);case"Identifier":return this.visitIdentifier(e,t,r);case"Literal":return this.visitLiteral(e,t,r);case"ExpressionStatement":return this.visitExpressionStatement(e,t,r);case"BlockStatement":return this.visitBlockStatement(e,t,r);case"EmptyStatement":return this.visitEmptyStatement(e,t,r);case"DebuggerStatement":return this.visitDebuggerStatement(e,t,r);case"WithStatement":return this.visitWithStatement(e,t,r);case"ReturnStatement":return this.visitReturnStatement(e,t,r);case"LabeledStatement":return this.visitLabeledStatement(e,t,r);case"BreakStatement":return this.visitBreakStatement(e,t,r);case"ContinueStatement":return this.visitContinueStatement(e,t,r);case"IfStatement":return this.visitIfStatement(e,t,r);case"SwitchStatement":return this.visitSwitchStatement(e,t,r);case"ThrowStatement":return this.visitThrowStatement(e,t,r);case"TryStatement":return this.visitTryStatement(e,t,r);case"WhileStatement":return this.visitWhileStatement(e,t,r);case"DoWhileStatement":return this.visitDoWhileStatement(e,t,r);case"ForStatement":return this.visitForStatement(e,t,r);case"ForInStatement":return this.visitForInStatement(e,t,r);case"Declaration":return this.visitDeclaration(e,t,r);case"ThisExpression":return this.visitThisExpression(e,t,r);case"ArrayExpression":return this.visitArrayExpression(e,t,r);case"ObjectExpression":return this.visitObjectExpression(e,t,r);case"FunctionExpression":return this.visitFunctionExpression(e,t,r);case"UnaryExpression":return this.visitUnaryExpression(e,t,r);case"UpdateExpression":return this.visitUpdateExpression(e,t,r);case"BinaryExpression":return this.visitBinaryExpression(e,t,r);case"AssignmentExpression":return this.visitAssignmentExpression(e,t,r);case"LogicalExpression":return this.visitLogicalExpression(e,t,r);case"MemberExpression":return this.visitMemberExpression(e,t,r);case"ConditionalExpression":return this.visitConditionalExpression(e,t,r);case"CallExpression":return this.visitCallExpression(e,t,r);case"NewExpression":return this.visitNewExpression(e,t,r);case"SequenceExpression":return this.visitSequenceExpression(e,t,r);case"ArrowFunctionExpression":return this.visitArrowFunctionExpression(e,t,r);case"YieldExpression":return this.visitYieldExpression(e,t,r);case"TemplateLiteral":return this.visitTemplateLiteral(e,t,r);case"TaggedTemplateExpression":return this.visitTaggedTemplateExpression(e,t,r);case"AssignmentProperty":return this.visitAssignmentProperty(e,t,r);case"ObjectPattern":return this.visitObjectPattern(e,t,r);case"ArrayPattern":return this.visitArrayPattern(e,t,r);case"RestElement":return this.visitRestElement(e,t,r);case"AssignmentPattern":return this.visitAssignmentPattern(e,t,r);case"ClassExpression":return this.visitClassExpression(e,t,r);case"MetaProperty":return this.visitMetaProperty(e,t,r);case"ImportDeclaration":return this.visitImportDeclaration(e,t,r);case"ImportSpecifier":return this.visitImportSpecifier(e,t,r);case"ImportDefaultSpecifier":return this.visitImportDefaultSpecifier(e,t,r);case"ImportNamespaceSpecifier":return this.visitImportNamespaceSpecifier(e,t,r);case"ExportNamedDeclaration":return this.visitExportNamedDeclaration(e,t,r);case"ExportSpecifier":return this.visitExportSpecifier(e,t,r);case"ExportDefaultDeclaration":return this.visitExportDefaultDeclaration(e,t,r);case"ExportAllDeclaration":return this.visitExportAllDeclaration(e,t,r);case"AwaitExpression":return this.visitAwaitExpression(e,t,r);case"RegExpLiteral":return this.visitRegExpLiteral(e,t,r);case"FunctionDeclaration":return this.visitFunctionDeclaration(e,t,r);case"VariableDeclaration":return this.visitVariableDeclaration(e,t,r);case"ForOfStatement":return this.visitForOfStatement(e,t,r);case"ClassDeclaration":return this.visitClassDeclaration(e,t,r)}throw new Error("No visit function in AST visitor Visitor for:\n  "+r.join(".")+"\n  "+JSON.stringify(e))},i.prototype.visitNode=function(e,t,r){return e},i.prototype.visitSourceLocation=function(e,t,r){var n=this;return e.start=n.accept(e.start,t,r.concat(["start"])),e.end=n.accept(e.end,t,r.concat(["end"])),e},i.prototype.visitPosition=function(e,t,r){return e},i.prototype.visitProgram=function(e,t,r){for(var n=this,i=[],o=0;o<e.body.length;o++){var s=e.body[o],a=s?n.accept(s,t,r.concat(["body",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.body=i,e},i.prototype.visitFunction=function(e,t,r){var n=this;e.id&&(e.id=n.accept(e.id,t,r.concat(["id"])));for(var i=[],o=0;o<e.params.length;o++){var s=e.params[o],a=s?n.accept(s,t,r.concat(["params",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.params=i,e.body=n.accept(e.body,t,r.concat(["body"])),e},i.prototype.visitStatement=function(e,t,r){return e},i.prototype.visitSwitchCase=function(e,t,r){var n=this;e.test&&(e.test=n.accept(e.test,t,r.concat(["test"])));for(var i=[],o=0;o<e.consequent.length;o++){var s=e.consequent[o],a=s?n.accept(s,t,r.concat(["consequent",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.consequent=i,e},i.prototype.visitCatchClause=function(e,t,r){var n=this;return e.param=n.accept(e.param,t,r.concat(["param"])),e.body=n.accept(e.body,t,r.concat(["body"])),e},i.prototype.visitVariableDeclarator=function(e,t,r){var n=this;return e.id=n.accept(e.id,t,r.concat(["id"])),e.init&&(e.init=n.accept(e.init,t,r.concat(["init"]))),e},i.prototype.visitExpression=function(e,t,r){return e},i.prototype.visitProperty=function(e,t,r){var n=this;return e.key=n.accept(e.key,t,r.concat(["key"])),e.value=n.accept(e.value,t,r.concat(["value"])),e},i.prototype.visitPattern=function(e,t,r){return e},i.prototype.visitSuper=function(e,t,r){return e},i.prototype.visitSpreadElement=function(e,t,r){var n=this;return e.argument=n.accept(e.argument,t,r.concat(["argument"])),e},i.prototype.visitTemplateElement=function(e,t,r){return e},i.prototype.visitClass=function(e,t,r){var n=this;return e.id&&(e.id=n.accept(e.id,t,r.concat(["id"]))),e.superClass&&(e.superClass=n.accept(e.superClass,t,r.concat(["superClass"]))),e.body=n.accept(e.body,t,r.concat(["body"])),e},i.prototype.visitClassBody=function(e,t,r){for(var n=this,i=[],o=0;o<e.body.length;o++){var s=e.body[o],a=s?n.accept(s,t,r.concat(["body",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.body=i,e},i.prototype.visitMethodDefinition=function(e,t,r){var n=this;return e.key=n.accept(e.key,t,r.concat(["key"])),e.value=n.accept(e.value,t,r.concat(["value"])),e},i.prototype.visitModuleDeclaration=function(e,t,r){return e},i.prototype.visitModuleSpecifier=function(e,t,r){var n=this;return e.local=n.accept(e.local,t,r.concat(["local"])),e},i.prototype.visitIdentifier=function(e,t,r){return e},i.prototype.visitLiteral=function(e,t,r){return e},i.prototype.visitExpressionStatement=function(e,t,r){var n=this
;return e.expression=n.accept(e.expression,t,r.concat(["expression"])),e},i.prototype.visitBlockStatement=function(e,t,r){for(var n=this,i=[],o=0;o<e.body.length;o++){var s=e.body[o],a=s?n.accept(s,t,r.concat(["body",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.body=i,e},i.prototype.visitEmptyStatement=function(e,t,r){return e},i.prototype.visitDebuggerStatement=function(e,t,r){return e},i.prototype.visitWithStatement=function(e,t,r){var n=this;return e.object=n.accept(e.object,t,r.concat(["object"])),e.body=n.accept(e.body,t,r.concat(["body"])),e},i.prototype.visitReturnStatement=function(e,t,r){var n=this;return e.argument&&(e.argument=n.accept(e.argument,t,r.concat(["argument"]))),e},i.prototype.visitLabeledStatement=function(e,t,r){var n=this;return e.label=n.accept(e.label,t,r.concat(["label"])),e.body=n.accept(e.body,t,r.concat(["body"])),e},i.prototype.visitBreakStatement=function(e,t,r){var n=this;return e.label&&(e.label=n.accept(e.label,t,r.concat(["label"]))),e},i.prototype.visitContinueStatement=function(e,t,r){var n=this;return e.label&&(e.label=n.accept(e.label,t,r.concat(["label"]))),e},i.prototype.visitIfStatement=function(e,t,r){var n=this;return e.test=n.accept(e.test,t,r.concat(["test"])),e.consequent=n.accept(e.consequent,t,r.concat(["consequent"])),e.alternate&&(e.alternate=n.accept(e.alternate,t,r.concat(["alternate"]))),e},i.prototype.visitSwitchStatement=function(e,t,r){var n=this;e.discriminant=n.accept(e.discriminant,t,r.concat(["discriminant"]));for(var i=[],o=0;o<e.cases.length;o++){var s=e.cases[o],a=s?n.accept(s,t,r.concat(["cases",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.cases=i,e},i.prototype.visitThrowStatement=function(e,t,r){var n=this;return e.argument=n.accept(e.argument,t,r.concat(["argument"])),e},i.prototype.visitTryStatement=function(e,t,r){var n=this;return e.block=n.accept(e.block,t,r.concat(["block"])),e.handler&&(e.handler=n.accept(e.handler,t,r.concat(["handler"]))),e.finalizer&&(e.finalizer=n.accept(e.finalizer,t,r.concat(["finalizer"]))),e},i.prototype.visitWhileStatement=function(e,t,r){var n=this;return e.test=n.accept(e.test,t,r.concat(["test"])),e.body=n.accept(e.body,t,r.concat(["body"])),e},i.prototype.visitDoWhileStatement=function(e,t,r){var n=this;return e.body=n.accept(e.body,t,r.concat(["body"])),e.test=n.accept(e.test,t,r.concat(["test"])),e},i.prototype.visitForStatement=function(e,t,r){var n=this;return e.init&&(e.init=n.accept(e.init,t,r.concat(["init"]))),e.test&&(e.test=n.accept(e.test,t,r.concat(["test"]))),e.update&&(e.update=n.accept(e.update,t,r.concat(["update"]))),e.body=n.accept(e.body,t,r.concat(["body"])),e},i.prototype.visitForInStatement=function(e,t,r){var n=this;return e.left=n.accept(e.left,t,r.concat(["left"])),e.right=n.accept(e.right,t,r.concat(["right"])),e.body=n.accept(e.body,t,r.concat(["body"])),e},i.prototype.visitDeclaration=function(e,t,r){return e},i.prototype.visitThisExpression=function(e,t,r){return e},i.prototype.visitArrayExpression=function(e,t,r){var n=this;if(e.elements){for(var i=[],o=0;o<e.elements.length;o++){var s=e.elements[o],a=s?n.accept(s,t,r.concat(["elements",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}e.elements=i}return e},i.prototype.visitObjectExpression=function(e,t,r){for(var n=this,i=[],o=0;o<e.properties.length;o++){var s=e.properties[o],a=s?n.accept(s,t,r.concat(["properties",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.properties=i,e},i.prototype.visitFunctionExpression=function(e,t,r){var n=this;e.id&&(e.id=n.accept(e.id,t,r.concat(["id"])));for(var i=[],o=0;o<e.params.length;o++){var s=e.params[o],a=s?n.accept(s,t,r.concat(["params",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.params=i,e.body=n.accept(e.body,t,r.concat(["body"])),e},i.prototype.visitUnaryExpression=function(e,t,r){var n=this;return e.argument=n.accept(e.argument,t,r.concat(["argument"])),e},i.prototype.visitUpdateExpression=function(e,t,r){var n=this;return e.argument=n.accept(e.argument,t,r.concat(["argument"])),e},i.prototype.visitBinaryExpression=function(e,t,r){var n=this;return e.left=n.accept(e.left,t,r.concat(["left"])),e.right=n.accept(e.right,t,r.concat(["right"])),e},i.prototype.visitAssignmentExpression=function(e,t,r){var n=this;return e.left=n.accept(e.left,t,r.concat(["left"])),e.right=n.accept(e.right,t,r.concat(["right"])),e},i.prototype.visitLogicalExpression=function(e,t,r){var n=this;return e.left=n.accept(e.left,t,r.concat(["left"])),e.right=n.accept(e.right,t,r.concat(["right"])),e},i.prototype.visitMemberExpression=function(e,t,r){var n=this;return e.object=n.accept(e.object,t,r.concat(["object"])),e.property=n.accept(e.property,t,r.concat(["property"])),e},i.prototype.visitConditionalExpression=function(e,t,r){var n=this;return e.test=n.accept(e.test,t,r.concat(["test"])),e.alternate=n.accept(e.alternate,t,r.concat(["alternate"])),e.consequent=n.accept(e.consequent,t,r.concat(["consequent"])),e},i.prototype.visitCallExpression=function(e,t,r){var n=this;e.callee=n.accept(e.callee,t,r.concat(["callee"]));for(var i=[],o=0;o<e.arguments.length;o++){var s=e.arguments[o],a=s?n.accept(s,t,r.concat(["arguments",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.arguments=i,e},i.prototype.visitNewExpression=function(e,t,r){var n=this;e.callee=n.accept(e.callee,t,r.concat(["callee"]));for(var i=[],o=0;o<e.arguments.length;o++){var s=e.arguments[o],a=s?n.accept(s,t,r.concat(["arguments",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.arguments=i,e},i.prototype.visitSequenceExpression=function(e,t,r){for(var n=this,i=[],o=0;o<e.expressions.length;o++){var s=e.expressions[o],a=s?n.accept(s,t,r.concat(["expressions",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.expressions=i,e},i.prototype.visitArrowFunctionExpression=function(e,t,r){var n=this;e.body=n.accept(e.body,t,r.concat(["body"])),e.id&&(e.id=n.accept(e.id,t,r.concat(["id"])));for(var i=[],o=0;o<e.params.length;o++){var s=e.params[o],a=s?n.accept(s,t,r.concat(["params",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.params=i,e},i.prototype.visitYieldExpression=function(e,t,r){var n=this;return e.argument&&(e.argument=n.accept(e.argument,t,r.concat(["argument"]))),e},i.prototype.visitTemplateLiteral=function(e,t,r){for(var n=this,i=[],o=0;o<e.quasis.length;o++){var s=e.quasis[o],a=s?n.accept(s,t,r.concat(["quasis",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}e.quasis=i;for(var i=[],o=0;o<e.expressions.length;o++){var s=e.expressions[o],a=s?n.accept(s,t,r.concat(["expressions",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.expressions=i,e},i.prototype.visitTaggedTemplateExpression=function(e,t,r){var n=this;return e.tag=n.accept(e.tag,t,r.concat(["tag"])),e.quasi=n.accept(e.quasi,t,r.concat(["quasi"])),e},i.prototype.visitAssignmentProperty=function(e,t,r){var n=this;return e.value=n.accept(e.value,t,r.concat(["value"])),e.key=n.accept(e.key,t,r.concat(["key"])),e},i.prototype.visitObjectPattern=function(e,t,r){for(var n=this,i=[],o=0;o<e.properties.length;o++){var s=e.properties[o],a=s?n.accept(s,t,r.concat(["properties",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.properties=i,e},i.prototype.visitArrayPattern=function(e,t,r){var n=this;if(e.elements){for(var i=[],o=0;o<e.elements.length;o++){var s=e.elements[o],a=s?n.accept(s,t,r.concat(["elements",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}e.elements=i}return e},i.prototype.visitRestElement=function(e,t,r){var n=this;return e.argument=n.accept(e.argument,t,r.concat(["argument"])),e},i.prototype.visitAssignmentPattern=function(e,t,r){var n=this;return e.left=n.accept(e.left,t,r.concat(["left"])),e.right=n.accept(e.right,t,r.concat(["right"])),e},i.prototype.visitClassExpression=function(e,t,r){var n=this;return e.id&&(e.id=n.accept(e.id,t,r.concat(["id"]))),e.superClass&&(e.superClass=n.accept(e.superClass,t,r.concat(["superClass"]))),e.body=n.accept(e.body,t,r.concat(["body"])),e},i.prototype.visitMetaProperty=function(e,t,r){var n=this;return e.meta=n.accept(e.meta,t,r.concat(["meta"])),e.property=n.accept(e.property,t,r.concat(["property"])),e},i.prototype.visitImportDeclaration=function(e,t,r){for(var n=this,i=[],o=0;o<e.specifiers.length;o++){var s=e.specifiers[o],a=s?n.accept(s,t,r.concat(["specifiers",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.specifiers=i,e.source=n.accept(e.source,t,r.concat(["source"])),e},i.prototype.visitImportSpecifier=function(e,t,r){var n=this;return e.imported=n.accept(e.imported,t,r.concat(["imported"])),e.local=n.accept(e.local,t,r.concat(["local"])),e},i.prototype.visitImportDefaultSpecifier=function(e,t,r){var n=this;return e.local=n.accept(e.local,t,r.concat(["local"])),e},i.prototype.visitImportNamespaceSpecifier=function(e,t,r){var n=this;return e.local=n.accept(e.local,t,r.concat(["local"])),e},i.prototype.visitExportNamedDeclaration=function(e,t,r){var n=this;e.declaration&&(e.declaration=n.accept(e.declaration,t,r.concat(["declaration"])));for(var i=[],o=0;o<e.specifiers.length;o++){var s=e.specifiers[o],a=s?n.accept(s,t,r.concat(["specifiers",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.specifiers=i,e.source&&(e.source=n.accept(e.source,t,r.concat(["source"]))),e},i.prototype.visitExportSpecifier=function(e,t,r){var n=this;return e.exported=n.accept(e.exported,t,r.concat(["exported"])),e.local=n.accept(e.local,t,r.concat(["local"])),e},i.prototype.visitExportDefaultDeclaration=function(e,t,r){var n=this;return e.declaration=n.accept(e.declaration,t,r.concat(["declaration"])),e},i.prototype.visitExportAllDeclaration=function(e,t,r){var n=this;return e.source=n.accept(e.source,t,r.concat(["source"])),e},i.prototype.visitAwaitExpression=function(e,t,r){var n=this;return e.argument=n.accept(e.argument,t,r.concat(["argument"])),e},i.prototype.visitRegExpLiteral=function(e,t,r){return e},i.prototype.visitFunctionDeclaration=function(e,t,r){var n=this;e.id=n.accept(e.id,t,r.concat(["id"]));for(var i=[],o=0;o<e.params.length;o++){var s=e.params[o],a=s?n.accept(s,t,r.concat(["params",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.params=i,e.body=n.accept(e.body,t,r.concat(["body"])),e},i.prototype.visitVariableDeclaration=function(e,t,r){for(var n=this,i=[],o=0;o<e.declarations.length;o++){var s=e.declarations[o],a=s?n.accept(s,t,r.concat(["declarations",o])):s;Array.isArray(a)?i.push.apply(i,a):i.push(a)}return e.declarations=i,e},i.prototype.visitForOfStatement=function(e,t,r){var n=this;return e.left=n.accept(e.left,t,r.concat(["left"])),e.right=n.accept(e.right,t,r.concat(["right"])),e.body=n.accept(e.body,t,r.concat(["body"])),e},i.prototype.visitClassDeclaration=function(e,t,r){var n=this;return e.id=n.accept(e.id,t,r.concat(["id"])),e.superClass&&(e.superClass=n.accept(e.superClass,t,r.concat(["superClass"]))),e.body=n.accept(e.body,t,r.concat(["body"])),e};var Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ve=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$e=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(n)},ze=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Ge=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Ue=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),He=function(e){return Array.isArray(e)?e:Array.from(e)},Ke=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},Je=function(e){function t(){return We(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ze(t,e),Ve(t,[{key:"accept",value:function(e,r,n){var i=n.map(function(e){return"string"==typeof e?"."+e:"["+e+"]"}).join(""),o=[],s=$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"accept",this).call(this,e,{index:r.index,tree:o},n);return r.tree.push({node:e,path:i,index:r.index++,children:o}),s}}]),t}(i),Ye=function(e){function t(){return We(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ze(t,e),Ve(t,[{key:"recordNotEqual",value:function(e,t,r,n){r.comparisons.errors.push({node1:e,node2:t,path:r.completePath,msg:n})}},{key:"compareType",value:function(e,t,r){return this.compareField("type",e,t,r)}},{key:"compareField",value:function(e,t,r,n){if(r=lively.lang.Path(n.completePath.join(".")).get(r),t&&r&&t[e]===r[e])return!0;if(t&&"*"===t[e]||r&&"*"===r[e])return!0;var i,o=n.completePath.join(".")+"."+e;return i=t?r?o+" is not equal: "+t[e]+" vs. "+r[e]:"node2 not defined but node1 ("+o+") is: "+t[e]:"node1 on "+o+" not defined",this.recordNotEqual(t,r,n,i),!1}},{key:"accept",value:function(e,t,r,n){var i=lively.lang.Path(n.join(".")).get(t);if("*"!==e&&"*"!==i){var o={completePath:n,comparisons:r.comparisons};this.compareType(e,t,o)&&this["visit"+e.type](e,t,o,n)}}},{key:"visitFunction",value:function(e,r,n,i){return e.generator&&this.compareField("generator",e,r,n),e.expression&&this.compareField("expression",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitFunction",this).call(this,e,r,n,i)}},{key:"visitSwitchStatement",value:function(e,r,n,i){return e.lexical&&this.compareField("lexical",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitSwitchStatement",this).call(this,e,r,n,i)}},{key:"visitForInStatement",value:function(e,r,n,i){return e.each&&this.compareField("each",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitForInStatement",this).call(this,e,r,n,i)}},{key:"visitFunctionDeclaration",value:function(e,r,n,i){return e.generator&&this.compareField("generator",e,r,n),e.expression&&this.compareField("expression",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitFunctionDeclaration",this).call(this,e,r,n,i)}},{key:"visitVariableDeclaration",value:function(e,r,n,i){return this.compareField("kind",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitVariableDeclaration",this).call(this,e,r,n,i)}},{key:"visitUnaryExpression",value:function(e,r,n,i){return this.compareField("operator",e,r,n),e.prefix&&this.compareField("prefix",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitUnaryExpression",this).call(this,e,r,n,i)}},{key:"visitBinaryExpression",value:function(e,r,n,i){return this.compareField("operator",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitBinaryExpression",this).call(this,e,r,n,i)}},{key:"visitAssignmentExpression",value:function(e,r,n,i){return this.compareField("operator",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitAssignmentExpression",this).call(this,e,r,n,i)}},{key:"visitUpdateExpression",value:function(e,r,n,i){return this.compareField("operator",e,r,n),e.prefix&&this.compareField("prefix",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitUpdateExpression",this).call(this,e,r,n,i)}},{key:"visitLogicalExpression",value:function(e,r,n,i){return this.compareField("operator",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitLogicalExpression",this).call(this,e,r,n,i)}},{key:"visitMemberExpression",value:function(e,r,n,i){return e.computed&&this.compareField("computed",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitMemberExpression",this).call(this,e,r,n,i)}},{key:"visitComprehensionBlock",value:function(e,r,n,i){return e.each&&this.compareField("each",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitComprehensionBlock",this).call(this,e,r,n,i)}},{key:"visitIdentifier",value:function(e,r,n,i){return this.compareField("name",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitIdentifier",this).call(this,e,r,n,i)}},{key:"visitLiteral",value:function(e,r,n,i){return this.compareField("value",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitLiteral",this).call(this,e,r,n,i)}},{key:"visitClassDeclaration",value:function(e,r,n,i){return this.compareField("id",e,r,n),e.superClass&&this.compareField("superClass",e,r,n),this.compareField("body",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitClassDeclaration",this).call(this,e,r,n,i)}},{key:"visitClassBody",value:function(e,r,n,i){return this.compareField("body",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitClassBody",this).call(this,e,r,n,i)}},{key:"visitMethodDefinition",value:function(e,r,n,i){return this.compareField("static",e,r,n),this.compareField("computed",e,r,n),this.compareField("kind",e,r,n),this.compareField("key",e,r,n),this.compareField("value",e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitMethodDefinition",this).call(this,e,r,n,i)}}]),t}(i),Qe=function(e){function t(){return We(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ze(t,e),Ve(t,[{key:"newScope",value:function(e,t){var r={node:e,varDecls:[],varDeclPaths:[],funcDecls:[],funcDeclPaths:[],classDecls:[],classDeclPaths:[],classExprs:[],classExprPaths:[],methodDecls:[],methodDeclPaths:[],importSpecifiers:[],importSpecifierPaths:[],exportDecls:[],exportDeclPaths:[],refs:[],thisRefs:[],params:[],catches:[],subScopes:[],resolvedRefMap:new Map};return t&&t.subScopes.push(r),r}},{key:"visitVariableDeclaration",value:function(e,r,n){return r.varDecls.push(e),r.varDeclPaths.push(n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitVariableDeclaration",this).call(this,e,r,n)}},{key:"visitVariableDeclarator",value:function(e,t,r){var n=this;return e.init&&(e.init=n.accept(e.init,t,r.concat(["init"]))),e}},{key:"visitFunction",value:function(e,t,r){var n=this,i=this.newScope(e,t);return e.params.forEach(function(e,t){"AssignmentPattern"===e.type&&n.accept(e.right,i,r.concat("params",t,"right"))}),i.params=Array.prototype.slice.call(e.params),i}},{key:"visitFunctionDeclaration",value:function(e,t,r){var n=this.visitFunction(e,t,r);t.funcDecls.push(e),t.funcDeclPaths.push(r);var i=this;return e.defaults&&(e.defaults=e.defaults.reduce(function(e,t,o){var s=i.accept(t,n,r.concat(["defaults",o]));return Array.isArray(s)?e.push.apply(e,s):e.push(s),e},[])),e.rest&&(e.rest=i.accept(e.rest,n,r.concat(["rest"]))),e.body=i.accept(e.body,n,r.concat(["body"])),e.loc&&(e.loc=i.accept(e.loc,n,r.concat(["loc"]))),e}},{key:"visitFunctionExpression",value:function(e,t,r){var n=this.visitFunction(e,t,r),i=this;return e.defaults&&(e.defaults=e.defaults.reduce(function(e,t,o){var s=i.accept(t,n,r.concat(["defaults",o]));return Array.isArray(s)?e.push.apply(e,s):e.push(s),e},[])),e.rest&&(e.rest=i.accept(e.rest,n,r.concat(["rest"]))),e.body=i.accept(e.body,n,r.concat(["body"])),e.loc&&(e.loc=i.accept(e.loc,n,r.concat(["loc"]))),e}},{key:"visitArrowFunctionExpression",value:function(e,t,r){var n=this.visitFunction(e,t,r),i=this;return e.defaults&&(e.defaults=e.defaults.reduce(function(e,t,o){var s=i.accept(t,n,r.concat(["defaults",o]));return Array.isArray(s)?e.push.apply(e,s):e.push(s),e},[])),e.rest&&(e.rest=i.accept(e.rest,n,r.concat(["rest"]))),e.body=i.accept(e.body,n,r.concat(["body"])),e.loc&&(e.loc=i.accept(e.loc,n,r.concat(["loc"]))),e.generator,e.expression,e}},{key:"visitIdentifier",value:function(e,r,n){return r.refs.push(e),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitIdentifier",this).call(this,e,r,n)}},{key:"visitMemberExpression",value:function(e,t,r){var n=this;return e.object=n.accept(e.object,t,r.concat(["object"])),e.computed&&(e.property=n.accept(e.property,t,r.concat(["property"]))),e}},{key:"visitProperty",value:function(e,t,r){var n=this;return e.computed&&(e.key=n.accept(e.key,t,r.concat(["key"]))),e.value=n.accept(e.value,t,r.concat(["value"])),e}},{key:"visitThisExpression",value:function(e,r,n){return r.thisRefs.push(e),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitThisExpression",this).call(this,e,r,n)}},{key:"visitTryStatement",value:function(e,t,r){var n=this;return e.block=n.accept(e.block,t,r.concat(["block"])),e.handler&&(e.handler=n.accept(e.handler,t,r.concat(["handler"])),t.catches.push(e.handler.param)),e.finalizer&&(e.finalizer=n.accept(e.finalizer,t,r.concat(["finalizer"]))),e}},{key:"visitLabeledStatement",value:function(e,t,r){var n=this;return e.body=n.accept(e.body,t,r.concat(["body"])),e}},{key:"visitClassDeclaration",value:function(e,t,r){t.classDecls.push(e),t.classDeclPaths.push(r);var n=this;return e.superClass&&(e.superClass=n.accept(e.superClass,t,r.concat(["superClass"]))),e.body=n.accept(e.body,t,r.concat(["body"])),e}},{key:"visitClassExpression",value:function(e,t,r){e.id&&(t.classExprs.push(e),t.classExprPaths.push(r));var n=this;return e.superClass&&(e.superClass=n.accept(e.superClass,t,r.concat(["superClass"]))),e.body=n.accept(e.body,t,r.concat(["body"])),e}},{key:"visitMethodDefinition",value:function(e,t,r){var n=this;return e.value=n.accept(e.value,t,r.concat(["value"])),e}},{key:"visitMetaProperty",value:function(e,t,r){return e}},{key:"visitBreakStatement",value:function(e,t,r){return e}},{key:"visitContinueStatement",value:function(e,t,r){return e}},{key:"visitImportSpecifier",value:function(e,t,r){t.importSpecifiers.push(e.local),t.importSpecifierPaths.push(r);var n=this;return e.local=n.accept(e.local,t,r.concat(["local"])),e}},{key:"visitImportDefaultSpecifier",value:function(e,t,r){t.importSpecifiers.push(e.local),t.importSpecifierPaths.push(r);return e}},{key:"visitImportNamespaceSpecifier",value:function(e,t,r){t.importSpecifiers.push(e.local),t.importSpecifierPaths.push(r);return e}},{key:"visitExportSpecifier",value:function(e,t,r){var n=this;return e.local=n.accept(e.local,t,r.concat(["local"])),e}},{key:"visitExportNamedDeclaration",value:function(e,r,n){return r.exportDecls.push(e),r.exportDeclPaths.push(n),e.source||$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitExportNamedDeclaration",this).call(this,e,r,n),e}},{key:"visitExportDefaultDeclaration",value:function(e,r,n){return r.exportDecls.push(e),r.exportDeclPaths.push(n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitExportDefaultDeclaration",this).call(this,e,r,n)}},{key:"visitExportAllDeclaration",value:function(e,r,n){return r.exportDecls.push(e),r.exportDeclPaths.push(n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitExportAllDeclaration",this).call(this,e,r,n)}}]),t}(i),Xe=r.escodegen||r,Ze=acorn.walk,et=acorn.loose;Ze.base.AwaitExpression||(Ze.base.AwaitExpression=function(e,t,r){e.argument&&r(e.argument,t,"Expression")}),Ze.forEachNode=s,Ze.matchNodes=a,Ze.findNodesIncluding=u,Ze.withParentInfo=c,Ze.copy=l,Ze.findSiblings=p,Ze.findNodeByAstIndex=f,Ze.findStatementOfNode=h,Ze.addAstIndex=d,Ze.visitors={stopAtFunctions:Ze.make({Function:function(){}},Ze.base),withMemberExpression:Ze.make({MemberExpression:function(e,t,r){r(e.object,t,"Expression"),r(e.property,t,"Expression")}},Ze.base)};var tt=function(e){function t(){return We(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ze(t,e),Ve(t,[{key:"accept",value:function(e,r,n){return this.doFunc(e,r,n),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"accept",this).call(this,e,r,n)}}],[{key:"run",value:function(e,t,r){var n=new this;return n.doFunc=t,n.accept(e,r,[]),r}}]),t}(i),rt=function(e){function t(){return We(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ze(t,e),Ve(t,[{key:"accept",value:function(e,r,n){switch(e.type){case"ArrowFunctionExpression":case"FunctionExpression":return e;case"FunctionDeclaration":return r.unshift({node:e,path:n}),e;default:return $e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"accept",this).call(this,e,r,n)}}}],[{key:"run",value:function(e){var t=[];return(new this).accept(e,t,[]),t}}]),t}(i),nt=Symbol("canBeInlined"),it=function(e){function t(){return We(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ze(t,e),Ve(t,[{key:"accept",value:function(e,r,n){return this.replacer($e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"accept",this).call(this,e,r,n))}},{key:"visitBlockStatement",value:function(e,r,n){return m($e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitBlockStatement",this).call(this,e,r,n))}},{key:"visitProgram",value:function(e,r,n){return m($e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"visitProgram",this).call(this,e,r,n))}}],[{key:"run",value:function(e,t){var r=new this;return r.replacer=t,r.accept(e,null,[])}}]),t}(i),ot=function(e){function t(){return We(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ze(t,e),Ve(t,[{key:"accept",value:function(e,r,n){return this.replacer($e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"accept",this).call(this,e,r,n),n)}}],[{key:"run",value:function(e,t){var r=new this;return r.replacer=t,r.accept(e,null,[])}}]),t}(i);acorn.walk.addSource=y;var st={withMozillaAstDo:function(e,t,r){var n=new i,o=n.accept;return n.accept=function(e,i,s){return t=r(function(){o.call(n,e,i,s)},e,i,s),e},n.accept(e,t,[]),t},printAst:function(e,r){function n(e){var r=e.path+":"+e.node.type,n=[];if(c&&n.push(e.index),u&&n.push(e.node.start+"-"+e.node.end),a){var o=e.node.source||i.slice(e.node.start,e.node.end),s=t.string.print(o.truncate(60).replace(/\n/g,"").replace(/\s+/g," "));n.push(s)}return n.length&&(r+="("+n.join(",")+")"),r}r=r||{};var i,s,a=r.printSource||!1,u=r.printPositions||!1,c=r.printIndex||!1,l=[];return"string"==typeof e?(i=e,s=E(e)):(s=e,i=r.source||s.source),a&&!s.source&&(i||(i=o(s),s=E(i)),y(s,i)),(new Je).accept(s,{index:0,tree:l},[]),t.string.printTree(l[0],n,function(e){return e.children},"  ")},compareAst:function(e,t){if(!e||!t)throw new Error("node"+(e?"1":"2")+" not defined");var r={completePath:[],comparisons:{errors:[]}};return(new Ye).accept(e,t,r,[]),r.comparisons.errors.length?r.comparisons.errors.pluck("msg"):null},pathToNode:function(e,t,r){r=r||{},e.astIndex||d(e);var n=new i,o=null;return(n.accept=function(e,r,n,i){if(!o){var s=r.concat(i);if(e.astIndex===t){var a=s.map(function(e){return"string"==typeof e?"."+e:"["+e+"]"}).join("");o={pathString:a,path:s,node:e}}return this["visit"+e.type](e,s,n,i)}}).call(n,e,[],{},[]),o},rematchAstWithSource:function(e,r,n,o){n=!!n;var s=E(r,n?{locations:!0}:void 0),a=new i;o&&(s=t.Path(o).get(s)),a.accept=function(t,r,i){i=i||[];var o=i.reduce(function(e,t){return e[t]},e);return o.start=t.start,o.end=t.end,n&&(o.loc=t.loc),this["visit"+t.type](t,r,i)},a.accept(s)}},at=st.withMozillaAstDo,ut=st.printAst,ct=st.compareAst,lt=st.pathToNode,pt=st.rematchAstWithSource,ft=/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/,ht=Object.freeze({isIdentifier:A,id:D,literal:x,objectLiteral:R,prop:L,exprStmt:C,returnStmt:F,empty:S,binaryExpr:k,funcExpr:w,funcCall:_,varDecl:B,member:O,memberChain:P,assign:I,block:T,program:j,tryStmt:N,ifStmt:M,conditional:W,logical:V}),dt={declIds:function(e){return t.arr.flatmap(e,function(e){return e?"Identifier"===e.type?[e]:"RestElement"===e.type?[e.argument]:"AssignmentPattern"===e.type?dt.declIds([e.left]):"ObjectPattern"===e.type?dt.declIds(t.arr.pluck(e.properties,"value")):"ArrayPattern"===e.type?dt.declIds(e.elements):[]:[]})},varDecls:function(e){return t.arr.flatmap(e.varDecls,function(e){return t.arr.flatmap(e.declarations,function(e){return dt.declIds([e.id]).map(function(t){return[e,t]})})})},varDeclIds:function(e){return dt.declIds(e.varDecls.reduce(function(e,t){return e.push.apply(e,t.declarations),e},[]).map(function(e){return e.id}))},objPropertiesAsList:function(e,r,n){return t.arr.flatmap(e.properties,function(e){var i=e.key.name,o=[],s={key:r.concat([i]),value:e.value};switch(e.value.type){case"ArrayExpression":case"ArrayPattern":n||o.push(s),o=o.concat(t.arr.flatmap(e.value.elements,function(e,t){return dt.objPropertiesAsList(e,r.concat([i,t]),n)}));break;case"ObjectExpression":case"ObjectPattern":n||o.push(s),o=o.concat(dt.objPropertiesAsList(e.value,r.concat([i]),n));break;case"AssignmentPattern":n||o.push(s),o=o.concat(dt.objPropertiesAsList(e.left,r.concat([i]),n));break;default:o.push(s)}return o})},isDeclaration:function(e){return"FunctionDeclaration"===e.type||"VariableDeclaration"===e.type||"ClassDeclaration"===e.type}},mt=["true","false","null","undefined","arguments","Object","Function","String","Array","Date","Boolean","Number","RegExp","Symbol","Error","EvalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","Math","NaN","Infinity","Intl","JSON","Promise","parseFloat","parseInt","isNaN","isFinite","eval","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","navigator","window","document","console","console","$world","setTimeout","clearTimeout","setInterval","clearInterval","requestAnimationFrame","cancelAnimationFrame","lively"],yt=["EmptyStatement","BlockStatement","ExpressionStatement","IfStatement","BreakStatement","ContinueStatement","WithStatement","ReturnStatement","ThrowStatement","TryStatement","WhileStatement","DoWhileStatement","ForStatement","ForInStatement","ForOfStatement","DebuggerStatement","FunctionDeclaration","VariableDeclaration","ClassDeclaration","ImportDeclaration","ImportDeclaration","ExportNamedDeclaration","ExportDefaultDeclaration","ExportAllDeclaration"],gt=Object.freeze({helpers:dt,knownGlobals:mt,scopes:q,nodesAtIndex:$,scopesAtIndex:z,scopeAtIndex:G,scopesAtPos:U,nodesInScopeOf:H,declarationsOfScope:K,_declaredVarNames:Y,_findJsLintGlobalDeclarations:Q,topLevelDeclsAndRefs:re,topLevelFuncDecls:X,findGlobalVarRefs:ne,findNodesIncludingLines:ie,findReferencesAndDeclsInScope:oe,findDeclarationClosestToIndex:se,nodesAt:ae,statementOf:ue,resolveReferences:ee,refWithDeclAt:te,imports:ce,exports:le}),vt=function(e){function t(){return We(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ze(t,e),Ve(t,[{key:"accept",value:function(e,r,n){return"ObjectExpression"===e.type&&(e=this.transformSpreadElement(e)),$e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"accept",this).call(this,e,r,n)}},{key:"transformSpreadElement",value:function(e){var t=[],r=[t];return e.properties.forEach(function(e){"SpreadElement"!==e.type?t.push(e):(r.push(e),t=[],r.push(t))}),1===r.length?e:(t.length||r.pop(),_.apply(void 0,[O("Object","assign")].concat(Ke(r.map(function(e){return"SpreadElement"===e.type?e.argument:{properties:e,
type:"ObjectExpression"}})))))}}]),t}(i),bt=/^\s*(\{|function\s*\()/,Et=Object.freeze({replaceNode:ye,replaceNodes:ge,replace:ve,_compareNodesForReplacement:me,oneDeclaratorPerVarDecl:be,oneDeclaratorForVarsInDestructoring:Ee,returnLastStatement:Ae,wrapInFunction:De,wrapInStartEndCall:xe,transformSingleExpression:Ce,objectSpreadTransform:pe}),At=Object.freeze({getCommentPrecedingNode:Fe,extractComments:Se}),Dt=Object.freeze({findDecls:ke}),xt=/^(?!(?:do|if|in|for|let|new|try|var|case|default|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/,Ct=E("").constructor;Object.defineProperty(Ct.prototype,"__serialize__",{configurable:!0,value:function(){return{__expr__:"("+JSON.stringify(this)+")"}}}),e.escodegen=Xe,e.acorn=acorn,e.query=gt,e.transform=Et,e.comments=At,e.categorizer=Dt,e.stringify=o,e.nodes=ht,e.isValidIdentifier=Re,e.BaseVisitor=i,e.withMozillaAstDo=at,e.printAst=ut,e.compareAst=ct,e.pathToNode=lt,e.rematchAstWithSource=pt,e.ReplaceManyVisitor=it,e.ReplaceVisitor=ot,e.parse=E,e.parseFunction=v,e.fuzzyParse=b}(this.lively.ast=this.lively.ast||{},lively.lang,e.escodegen,acorn)}.call(e),"undefined"!=typeof module&&module.exports&&(module.exports=e.lively.ast),t&&(e.define=t)}(),function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;void 0===lively.lang&&(e.livey.lang={})}(),function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;this.lively=this.lively||{},function(e,t,r){"use strict";function n(e){return e.hasOwnProperty(N)}function i(e){if(n(e)){var t=a(e),r=t.properties,i=t.propertySettings;if(e[L]={properties:r,propertySettings:i},!r||"object"!==(void 0===r?"undefined":S(r)))return void console.warn("Class "+e.name+" indicates it has managed properties but its properties accessor ("+N+") does not return a valid property descriptor map");o(e,i,r)}}function o(e,t,r){s(e);var n=t.valueStoreProperty,i=t.defaultGetter,o=t.defaultSetter,a=e.prototype;Object.keys(r).forEach(function(e){var t=r[e];if(!a.hasOwnProperty(e)||!a.__lookupGetter__(e)){var s=t.get||"function"==typeof i&&function(){return i.call(this,e)}||function(){return this[n][e]};a.__defineGetter__(e,s)}if((!a.hasOwnProperty(e)||!a.__lookupSetter__(e))&&(t.hasOwnProperty("set")||!t.readOnly)){var u=t.set||"function"==typeof o&&function(t){o.call(this,e,t)}||function(t){this[n][e]=t};a.__defineSetter__(e,u)}})}function s(e){Object.defineProperty(e.prototype,"propertiesAndPropertySettings",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.constructor;return e[L]||a(e)}}),Object.defineProperty(e.prototype,"initializeProperties",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.propertiesAndPropertySettings(),r=t.properties;return u(this,t.propertySettings,r,e),this}})}function a(e){for(var r=B({},R),n={},i=t.obj.valuesInPropertyHierarchy(e,"propertySettings"),o=t.obj.valuesInPropertyHierarchy(e,"properties"),s=0;s<i.length;s++){var a=i[s];a&&"object"===(void 0===a?"undefined":S(a))&&Object.assign(r,a)}for(var s=0;s<o.length;s++){var u=o[s];if("object"===(void 0===u?"undefined":S(u)))for(var c in u)n.hasOwnProperty(c)?Object.assign(n[c],u[c]):n[c]=u[c];else console.error("[initializeProperties] "+e+" encountered property declaration that is not a JS object: "+u)}return{properties:n,propertySettings:r}}function u(e,r,n,i){var o=r.valueStoreProperty,s=t.obj.sortKeysWithBeforeAndAfterConstraints(n),a=[],u={};e.hasOwnProperty(o)||(e[o]={});for(var c=0;c<s.length;c++){var l=s[c],p=n[l],f=p.derived,h=p.hasOwnProperty("defaultValue")?p.defaultValue:void 0;Array.isArray(h)&&(h=h.slice()),f||(e[o][l]=h);var d=void 0;p.hasOwnProperty("initialize")?(d=u[l]={initialize:h},a.push(l)):f&&void 0!==h&&(d=u[l]={derived:h},a.push(l)),i&&l in i&&(p.readOnly?console.warn("Trying to initialize read-only property "+l+" in "+e+", skipping setting value"):(d||(d=u[l]={},a.push(l)),d.value=i[l]))}for(var c=0;c<a.length;c++){var m=a[c],y=u[m],g=y.hasOwnProperty("value");if(y.hasOwnProperty("initialize")){var v=g?y.value:y.initialize;n[m].initialize.call(e,v),g&&(e[m]=y.value)}else y.hasOwnProperty("derived")?e[m]=g?y.value:y.derived:g&&(e[m]=y.value)}}function c(e,t){t!==e.constructor&&(e.constructor=t,K(e,t.prototype))}function l(e,t){var r=t?"function"==typeof t?t:t.value?t.value:Object:Object,n=e&&e[V];return n&&n===r||(d(r),e[V]=r,K(e.prototype,r.prototype),r!==Object&&K(e,r)),r}function p(e,t,r){if(r=Object.assign(r,H),r.value.displayName=r.key,r.needsDeclaringClass){var n=r.value.originalFunction||r.value;r.value=Object.assign(function(){return n.call.apply(n,[this,t].concat(Array.prototype.slice.call(arguments)))},{originalFunction:n,toString:function(){return n.toString()},displayName:r.key})}Object.defineProperty(e,r.key,r)}function f(e,t){t=Object.assign(t,U),Object.defineProperty(e,t.key,t)}function h(e,t,r){r&&r.forEach(function(t){t.value?p(e,e,t):f(e,t)}),t&&t.forEach(function(t){t.value?p(e.prototype,e,t):f(e.prototype,t)}),e.prototype[M]?Object.getOwnPropertySymbols(e.prototype).includes(M)&&e.prototype[M].isDefaultInitializer&&e[V].prototype[M]&&delete e.prototype[M]:(Object.defineProperty(e.prototype,M,{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),e.prototype[M].isDefaultInitializer=!0,e.prototype[M].displayName="lively-initialize");for(var n=t.map(function(e){return e.key}).concat(["constructor","arguments","caller"]),i=Object.getOwnPropertyNames(e.prototype),o=0;o<i.length;o++){var s=i[o];n.includes(s)||delete e.prototype[s]}for(var a=r.map(function(e){return e.key}).concat(["length","name","prototype","arguments","caller"]),u=Object.getOwnPropertyNames(e),c=0;c<u.length;c++){var l=u[c];a.includes(l)||delete e[l]}}function d(e){e===Object||e.prototype[M]||(Object.defineProperty(e.prototype,M,{enumerable:!1,configurable:!0,writable:!0,value:function(){e.apply(this,arguments)}}),e.prototype[M].displayName="lively-initialize-stub")}function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments[5],a=arguments[6],u=e.name,c=u&&o.hasOwnProperty(u)&&o[u],p=c&&c[V];c&&"function"==typeof c&&p||(c=e);l(c,t);if(h(c,r,n),c[$]=a,s){var f=s.package(),d=c[q],m=Date.now();c[q]={package:f?{name:f.name,version:f.version}:{},pathInPackage:f?s.pathInPackage():s.id,lastChange:d&&d.lastChange&&m<=d.lastChange?d.lastChange+1:m,lastSuperclassChange:0},t&&t.referencedAs&&(c[z]&&s.unsubscribeFromToplevelDefinitionChanges(c[z]),c[z]=s.subscribeToToplevelDefinitionChanges(function(e,o){if(e===t.referencedAs){var s=o&&o[q],a=c[q];if(s){if(s.lastChange===a.lastSuperclassChange)return;a.lastSuperclassChange=s.lastChange}l(c,o),h(c,r,n),i(c)}}))}return c.toString=function(){var e=String(this.prototype[M]).match(G),t=this.name,r=this[V];return"class "+t+" "+(r?"extends "+r.name:"")+" {\n  constructor"+(e?e[0]:"()")+" { /*...*/ }\n}"},i(c),c}function y(e){return"ArrowFunctionExpression"===e.type||"FunctionExpression"===e.type||"FunctionDeclaration"===e.type}function g(e){return ie({id:e?X(e):null},["__first_arg__"],ae(se(X("__first_arg__"),"&&",Q("__first_arg__",ee(Q("Symbol","for"),te("lively-instance-restorer")),!0)),ue(),ue(Z(ee(Q(Q("this",ee(Q("Symbol","for"),te("lively-instance-initialize")),!0),"apply"),X("this"),X("arguments"))))))}function v(e,t,n,i){console.assert("Super"===e.type);var o=t.currentMethod;o||console.warn("[lively.classes] Trying to transform es6 class but got super call outside a method! "+r.stringify(e)+" in "+n.join("."));var s=n.slice(-2),a=T(s,2),u=a[0],c=a[1];return"callee"===u&&"object"===c||"callee"===c?e:o&&"static"===o[le]?ee(Q("Object","getPrototypeOf"),X(pe)):ee(Q("Object","getPrototypeOf"),Q(X(pe),"prototype"))}function b(e,t,r,n){return console.assert("CallExpression"===e.type),console.assert("Super"===e.callee.object.type),ee.apply(void 0,[Q(ee(Q(n.functionNode,"_get"),v(e.callee.object,t,r.concat(["callee","object"]),n),te(e.callee.property.value||e.callee.property.name),X("this")),"call"),X("this")].concat(j(e.arguments)))}function E(e,t,r,n){return console.assert("CallExpression"===e.type),console.assert("Super"===e.callee.type),ee.apply(void 0,[Q(ee(Q(n.functionNode,"_get"),v(e.callee,t,r.concat(["callee"]),n),ee(Q("Symbol","for"),te("lively-instance-initialize")),X("this")),"call"),X("this")].concat(j(e.arguments)))}function A(e,t,r,n){return console.assert("MemberExpression"===e.type),console.assert("Super"===e.object.type),ee(Q(n.functionNode,"_get"),v(e.object,t,r.concat(["object"]),n),te(e.property.value||e.property.name),X("this"))}function D(e,t,r,n){return console.assert("AssignmentExpression"===e.type),console.assert("Super"===e.left.object.type),ee(Q(n.functionNode,"_set"),v(e.left.object,t,r.concat(["left","object"]),n),te(e.left.property.value||e.left.property.name),e.right,X("this"))}function x(e,t,n,i){console.assert("ClassDeclaration"===e.type||"ClassExpression"===e.type);var o=e.body.body,s=e.superClass,a=e.id,u=e.type,c=e.start,l=e.end,p=X("undefined"),f=X("undefined"),h=a?a.name:"anonymous_class",d=i.evalId,m=i.sourceAccessorName,y=e["x-lively-object-meta"]||{start:c,end:l};if(o.length){var v=o.reduce(function(e,t){var r,n=t.key,i=t.kind,o=t.value,s=t.static;if("Literal"!==n.type&&"Identifier"!==n.type&&console.warn("Unexpected key in classToFunctionTransform! "+JSON.stringify(n)),"method"===i){var a=X(h+"_"+(n.name||n.value)+"_"),u=["key",te(n.name||n.value),"value",B({},o,_({id:a},le,s?"static":"proto"))];r=re(u)}else if("get"===i||"set"===i)r=re(["key",te(n.name||n.value),i,Object.assign({},o,_({id:X(i)},le,s?"static":"proto"))]);else if("constructor"===i){var c=["key",ee(Q("Symbol","for"),te("lively-instance-initialize")),"value",B({},o,_({id:X(h+"_initialize_")},le,"proto"))];r=re(c)}else console.warn("[lively.classes] classToFunctionTransform encountered unknown class property with kind "+i+", ignoring it, "+JSON.stringify(t));return(s?e.clazz:e.inst).push(r),e},{inst:[],clazz:[]}),b=v.inst,E=v.clazz;b.length&&(p={type:"ArrayExpression",elements:b}),E.length&&(f={type:"ArrayExpression",elements:E})}var A,D,x=i.scope;if(s&&i.currentModuleAccessor)if(i.classHolder===s.object)D=s,A=s.property.name;else{var C=x&&x.resolvedRefMap&&x.resolvedRefMap.get(s),F=C&&C.decl&&x.decls&&x.decls.find(function(e){return T(e,1)[0]===C.decl});F&&(D=s,A=s.name)}var S=D?re(["referencedAs",te(A),"value",D]):s||X("undefined"),k=a&&"ClassDeclaration"===u,w=["start",te(y.start),"end",te(y.end)];void 0!==d&&w.push("evalId",te(d)),m&&w.push("moduleSource",r.nodes.id(m));var O=re(w),P=ee(ie({},["superclass"],ne(fe,t.classHolder),ne(pe,k?{type:"ConditionalExpression",test:se(ee(Q(fe,"hasOwnProperty"),te(a.name)),"&&",se({argument:Q(fe,a),operator:"typeof",prefix:!0,type:"UnaryExpression"},"===",te("function"))),consequent:Q(fe,a),alternate:Y(Q(fe,a),g(a.name))}:g(a?a.name:null)),oe(ee(i.functionNode,X(pe),X("superclass"),p,f,X(fe),i.currentModuleAccessor||X("undefined"),O))),S);if("ClassExpression"===u)return P;var I=P;return i.declarationWrapper&&t.classHolder===i.classHolder&&(I=ee(i.declarationWrapper,te(a.name),te("class"),I,i.classHolder,O)),I=ne(a,I,"var"),I[ce]=!0,I}function C(e,t,r,n){return e.declaration&&e.declaration[ce]?[e.declaration,{declaration:e.declaration.declarations[0].id,type:"ExportDefaultDeclaration"}]:e}function F(e,t){var n="string"==typeof e?r.parse(e):e;return t.scope=r.query.resolveReferences(r.query.scopes(n)),he.run(n,t)}var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(n)},P=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},I=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},T=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),j=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},N="properties",L=Symbol.for("lively.classes-properties-and-settings"),R={defaultSetter:null,defaultGetter:null,valueStoreProperty:"_state"},M=Symbol.for("lively-instance-initialize"),W=Symbol.for("lively-instance-restorer"),V=Symbol.for("lively-instance-superclass"),q=Symbol.for("lively-module-meta"),$=Symbol.for("lively-object-meta"),z=Symbol.for("lively-klass-changes-subscriber"),G=/\([^\\)]*\)/,U={enumerable:!1,configurable:!0},H={enumerable:!1,configurable:!0,writable:!0},K="function"==typeof Object.setPrototypeOf?function(e,t){return Object.setPrototypeOf(e,t)}:function(e,t){return e.__proto__=t};m._get=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0===s?void 0:s.call(n)},m._set=function e(t,r,n,i){var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var s=Object.getPrototypeOf(t);null!==s&&e(s,r,n,i)}else if("value"in o&&o.writable)o.value=n;else{var a=o.set;void 0!==a&&a.call(i,n)}return n};var J=Object.freeze({initializeSymbol:M,instanceRestorerSymbol:W,superclassSymbol:V,moduleMetaSymbol:q,objMetaSymbol:$,moduleSubscribeToToplevelChangesSym:z,setPrototypeOf:K,adoptObject:c,setSuperclass:l,initializeClass:m}),Y=r.nodes.assign,Q=r.nodes.member,X=r.nodes.id,Z=r.nodes.exprStmt,ee=r.nodes.funcCall,te=r.nodes.literal,re=r.nodes.objectLiteral,ne=r.nodes.varDecl,ie=r.nodes.funcExpr,oe=r.nodes.returnStmt,se=r.nodes.binaryExpr,ae=r.nodes.ifStmt,ue=r.nodes.block,ce=Symbol(),le=Symbol(),pe="__lively_class__",fe="__lively_classholder__",he=function(e){function t(){return k(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),w(t,[{key:"accept",value:function(e,r,n){return y(e)&&(r=B({},r,{classHolder:re([]),currentMethod:e[le]?e:r.currentMethod})),"ClassExpression"!==e.type&&"ClassDeclaration"!==e.type||(e=x(e,r,n,r.options)),"Super"===e.type&&(e=v(e,r,n,r.options)),"MemberExpression"===e.type&&e.object&&"Super"===e.object.type&&(e=A(e,r,n,r.options)),"AssignmentExpression"===e.type&&"MemberExpression"===e.left.type&&"Super"===e.left.object.type&&(e=D(e,r,n,r.options)),"CallExpression"===e.type&&"Super"===e.callee.type&&(e=E(e,r,n,r.options)),"CallExpression"===e.type&&e.callee.object&&"Super"===e.callee.object.type&&(e=b(e,r,n,r.options)),e=O(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"accept",this).call(this,e,r,n),"ExportDefaultDeclaration"===e.type?C(e,r,n,r.options):e}}],[{key:"run",value:function(e,t){var r=new this,n=t.classHolder||re([]);return r.accept(e,{options:t,classHolder:n},[])}}]),t}(r.BaseVisitor);e.runtime=J,e.classToFunctionTransform=F}(this.lively.classes=this.lively.classes||{},lively.lang,lively.ast),"undefined"!=typeof module&&module.exports&&(module.exports=e.lively.classes)}(),function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;void 0===lively.lang&&(e.livey.lang={})}(),function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;this.lively=this.lively||{},function(e,t,r,n){"use strict";function i(e,r,n){r||(r={type:"Identifier",name:"__rec"}),n=j({ignoreUndeclaredExcept:null,includeRefs:null,excludeRefs:n&&n.exclude||[],includeDecls:null,excludeDecls:n&&n.exclude||[],recordDefRanges:!1,es6ExportFuncId:null,es6ImportFuncId:null,captureObj:r,moduleExportFunc:{name:n&&n.es6ExportFuncId||"_moduleExport",type:"Identifier"},moduleImportFunc:{name:n&&n.es6ImportFuncId||"_moduleImport",type:"Identifier"},declarationWrapper:void 0,classToFunction:n&&n.hasOwnProperty("classToFunction")?n.classToFunction:{classHolder:r,functionNode:{type:"Identifier",name:"_createOrExtendClass"},declarationWrapper:n&&n.declarationWrapper,evalId:n&&n.evalId,sourceAccessorName:n&&n.sourceAccessorName}},n);var i=e;if(n.ignoreUndeclaredExcept){var o=H(e);n.excludeRefs=t.arr.withoutAll(o.undeclaredNames,n.ignoreUndeclaredExcept).concat(n.excludeRefs),n.excludeDecls=t.arr.withoutAll(o.undeclaredNames,n.ignoreUndeclaredExcept).concat(n.excludeDecls)}n.excludeRefs=n.excludeRefs.concat(n.captureObj.name),n.excludeDecls=n.excludeDecls.concat(n.captureObj.name);n.recordDefRanges&&A(i,n);return n.excludeRefs=n.excludeRefs.concat(l(e,n)),n.excludeDecls=n.excludeDecls.concat(c(e,n)),i=v(i,n),n.es6ExportFuncId&&(n.excludeRefs.push(n.es6ExportFuncId),n.excludeRefs.push(n.es6ImportFuncId),i=b(i,n)),i=s(i,n),i=a(i,n),i=h(i,n),i=d(i,n),i=m(i,n),i=y(i,n),i=g(i,n),i=E(i,n)}function o(e,r,i){i=j({captureObj:r||{type:"Identifier",name:"__rec"},exclude:[],declarationWrapper:void 0},i);var o=t.Path("body.0.expression").get(e);if("System"!==o.callee.object.name)throw new Error("rewriteToRegisterModuleToCaptureSetters: input doesn't seem to be a System.register call: "+n.stringify(e).slice(0,300)+"...");if("register"!==o.callee.property.name)throw new Error("rewriteToRegisterModuleToCaptureSetters: input doesn't seem to be a System.register call: "+n.stringify(e).slice(0,300)+"...");var s=t.Path("arguments.1.body.body").get(o),a=t.arr.last(s);if("ReturnStatement"!==a.type)throw new Error("rewriteToRegisterModuleToCaptureSetters: input doesn't seem to be a System.register call, at return statement: "+n.stringify(e).slice(0,300)+"...");var u=a.argument.properties.find(function(e){return"setters"===e.key.name});if(!u)throw new Error("rewriteToRegisterModuleToCaptureSetters: input doesn't seem to be a System.register call, at finding setters: "+n.stringify(e).slice(0,300)+"...");var c=a.argument.properties.find(function(e){return"execute"===e.key.name});if(!c)throw new Error("rewriteToRegisterModuleToCaptureSetters: input doesn't seem to be a System.register call, at finding execute: "+n.stringify(e).slice(0,300)+"...");u.value.elements.forEach(function(e){return e.body.body=e.body.body.map(function(e){if("ExpressionStatement"!==e.type||"AssignmentExpression"!==e.expression.type||"Identifier"!==e.expression.left.type||t.arr.include(i.exclude,e.expression.left.name))return e;var r=e.expression.left,n=i.declarationWrapper?I(i.declarationWrapper,null,q(r.name),q("var"),e.expression,i.captureObj,i):e.expression;return $(W(L(i.captureObj,r),n))})});var l=c.value.body.body.find(function(e){return"ExpressionStatement"===e.type&&"AssignmentExpression"==e.expression.type&&e.expression.left.name===i.captureObj.name});if(l||(l=c.value.body.body.find(function(e){return"VariableDeclaration"===e.type&&e.declarations[0].id&&e.declarations[0].id.name===i.captureObj.name})),l&&(t.arr.remove(c.value.body.body,l),t.arr.pushAt(s,l,s.length-1)),i.sourceAccessorName){var p=c.value.body.body.find(function(e){return"ExpressionStatement"===e.type&&"AssignmentExpression"==e.expression.type&&e.expression.left.name===i.sourceAccessorName});p||(p=c.value.body.body.find(function(e){return"VariableDeclaration"===e.type&&e.declarations[0].id&&e.declarations[0].id.name===i.sourceAccessorName})),p&&(t.arr.remove(c.value.body.body,p),t.arr.pushAt(s,p,s.length-1))}return e}function s(e,t){var r=H(e),i=r.refs.filter(function(e){return f(e,r,t)
}),o=[],s=n.ReplaceVisitor.run(e,function(e,r){if("Property"===e.type&&i.includes(e.key)&&e.shorthand)return R(V(e.key.name),e.value);if("ExportNamedDeclaration"===e.type){var n=e.declaration,s=e.specifiers;return n&&(n.id?o.push(n.id):n.declarations&&o.push.apply(o,N(n.declarations.map(function(e){return e.id})))),s&&s.forEach(function(e){var t=e.local;return o.push(t)}),e}return"AssignmentExpression"===e.type&&i.includes(e.left)&&t.declarationWrapper?j({},e,{right:I(t.declarationWrapper,null,q(e.left.name),q("assignment"),e.right,t.captureObj,t)}):e});return n.ReplaceVisitor.run(s,function(e,r,n){return i.includes(e)&&!o.includes(e)?L(t.captureObj,e):e})}function a(e,t){var r=H(e);return n.ReplaceManyVisitor.run(e,function(e){if(!r.varDecls.includes(e)||e.declarations.every(function(e){return!p(e,t)}))return e;for(var n=[],i=0;i<e.declarations.length;i++){var o=e.declarations[i];if(p(o,t)){var s=o.init||{operator:"||",type:"LogicalExpression",left:{computed:!1,object:t.captureObj,property:o.id,type:"MemberExpression"},right:{name:"undefined",type:"Identifier"}},a=t.declarationWrapper&&o.id.name?I(t.declarationWrapper,o,q(o.id.name),q(e.kind),s,t.captureObj,t):s;if(o.id.type.includes("Pattern")){var c=u(r.declaredNames,"destructured_1"),l={type:"Identifier",name:c},f={parent:l,declaredNames:r.declaredNames},h=D(o.id,f).map(function(r){return r[J]&&r[J].capture?S(t.captureObj,r.declarations[0].id,t.declarationWrapper?I(t.declarationWrapper,null,q(r.declarations[0].id.name),q(e.kind),r.declarations[0].init,t.captureObj,t):r.declarations[0].init,!1):r});r.declaredNames.push(c),n.push.apply(n,N([M(l,a,e.kind)].concat(h)))}else n.push(S(t.captureObj,o.id,a,!1)),t.keepTopLevelVarDecls&&n.push(M(o.id,L(t.captureObj,o.id)))}else n.push({type:"VariableDeclaration",kind:e.kind||"var",declarations:[o]})}return n})}function u(e,t){for(var r=t,n=1;e.indexOf(r)>-1;){if(n>1e3)throw new Error("Endless loop searching for unique variable "+r);r=r.replace(/_[0-9]+$|$/,"_"+ ++n)}return r}function c(e,r){for(var n=H(e),i=[],o=0;o<n.scope.varDecls.length;o++){var s=n.scope.varDecls[o],a=t.Path(n.scope.varDeclPaths[o]),u=a.slice(0,-1).get(e);"ForStatement"!==u.type&&"ForInStatement"!==u.type&&"ForOfStatement"!==u.type&&"ExportNamedDeclaration"!==u.type||i.push.apply(i,N(s.declarations))}return n.scope.catches.map(function(e){return e.name}).concat(i.map(function(e){return e.id.name}))}function l(e,r){for(var n=H(e),i=[],o=0;o<n.scope.varDecls.length;o++){var s=n.scope.varDecls[o],a=t.Path(n.scope.varDeclPaths[o]),u=a.slice(0,-1).get(e);"ForStatement"!==u.type&&"ForInStatement"!==u.type&&"ForOfStatement"!==u.type||i.push.apply(i,N(s.declarations))}return n.scope.catches.map(function(e){return e.name}).concat(K.declIds(i.map(function(e){return e.id})).map(function(e){return e.name}))}function p(e,t){return-1===t.excludeDecls.indexOf(e.id.name)&&(!t.includeDecls||t.includeDecls.indexOf(e.id.name)>-1)}function f(e,t,r){if(t.scope.importSpecifiers.includes(e))return!1;for(var n=0;n<t.scope.exportDecls.length;n++){var i=t.scope.exportDecls[n];if(i.declarations&&i.declarations.includes(e))return!1;if(i.declaration===e)return!1}return!r.excludeRefs.includes(e.name)&&!(r.includeRefs&&!r.includeRefs.includes(e.name))}function h(e,t){if(t.classToFunction)return r.classToFunctionTransform(e,t.classToFunction);var n=H(e);if(!n.classDecls.length)return e;for(var i=e.body.length-1;i>=0;i--){var o=e.body[i];n.classDecls.includes(o)&&e.body.splice(i+1,0,S(t.captureObj,o.id,o.id,!1))}return e}function d(e,t){for(var r=e.body,n=e.body=[],i=0;i<r.length;i++){var o=r[i];if("ExportNamedDeclaration"!==o.type||!o.declaration||"VariableDeclaration"!==o.declaration.type||o.declaration.declarations.length<=1)n.push(o);else for(var s=o.declaration.declarations,a=0;a<s.length;a++)n.push({type:"ExportNamedDeclaration",specifiers:[],declaration:M(s[a].id,s[a].init,o.declaration.kind)})}return e}function m(e,t){for(var r=[],n=0;n<e.body.length;n++){var i=e.body[n];r.push(i),"ExportNamedDeclaration"!==i.type&&"ExportDefaultDeclaration"!==i.type||!i.declaration||(i.declaration.declarations?r.push.apply(r,N(i.declaration.declarations.map(function(e){var r=e.id;if(t.declarationWrapper){e.init.callee&&e.init.callee.name===t.declarationWrapper.name||(r=I(t.declarationWrapper,e,q(e.id.name),q("assignment"),e.id,t.captureObj,t))}return S(t.captureObj,e.id,r,!1)}))):"FunctionDeclaration"===i.declaration.type||"ClassDeclaration"===i.declaration.type&&r.push(S(t.captureObj,i.declaration.id,i.declaration.id,!1)))}return e.body=r,e}function y(e,t){return e.body=e.body.reduce(function(e,r){return e.concat("ImportDeclaration"===r.type&&r.specifiers.length?[r].concat(r.specifiers.map(function(e){return S(t.captureObj,e.local,e.local,!1)})):[r])},[]),e}function g(e,r){for(var n=H(e),i=[],o=0;o<e.body.length;o++){var s=e.body[o];"ExportDefaultDeclaration"===s.type&&s.declaration&&-1===s.declaration.type.indexOf("Declaration")?i=i.concat([F(e,{type:"VariableDeclarator",id:s.declaration,init:L(r.captureObj,s.declaration)}),s]):"ExportNamedDeclaration"!==s.type||!s.specifiers.length||s.source?i.push(s):i=i.concat(s.specifiers.map(function(i){return t.arr.include(n.declaredNames,i.local.name)?null:F(e,{type:"VariableDeclarator",id:i.local,init:L(r.captureObj,i.local)})}).filter(Boolean)).concat(s)}return e.body=i,e}function v(e,t){for(var r=[],n=0;n<e.body.length;n++){var i=e.body[n];"ExportDefaultDeclaration"===i.type&&"FunctionDeclaration"===i.declaration.type&&i.declaration.id&&i.declaration.async&&(r.push(i.declaration),i.declaration={type:"Identifier",name:i.declaration.id.name}),r.push(i)}return e.body=r,e}function b(e,t){return e.body=e.body.reduce(function(r,n){var i;if("ExportNamedDeclaration"===n.type)if(n.source){var o=a=n.source;i=n.specifiers.map(function(e){return{type:"ExpressionStatement",expression:k({type:"Literal",value:e.exported.name},{type:"Literal",value:e.local.name},a,t.moduleExportFunc,t.moduleImportFunc)}})}else if(n.declaration){var s=n.declaration.declarations;i=s?s.map(function(e){return t.excludeDecls.push(e.id),M(e.id,S(t.captureObj,e.id,t.declarationWrapper?I(t.declarationWrapper,null,q(e.id.name),q(n.declaration.kind),e,t.captureObj,t):e.init,!1),n.declaration.kind)}).concat(s.map(function(e){return P(t.moduleExportFunc,e.id.name,e.id)})):[n.declaration].concat(P(t.moduleExportFunc,n.declaration.id.name,n.declaration.id))}else i=n.specifiers.map(function(e){return P(t.moduleExportFunc,e.exported.name,p({id:e.local},t)?L(t.captureObj,e.local):e.local)});else if("ExportDefaultDeclaration"===n.type)i=n.declaration&&n.declaration.id?[n.declaration].concat(P(t.moduleExportFunc,"default",n.declaration.id)):[P(t.moduleExportFunc,"default",n.declaration)];else if("ExportAllDeclaration"===n.type){var o={name:t.es6ExportFuncId+"__iterator__",type:"Identifier"},a=n.source;i=[{type:"ForInStatement",body:{type:"ExpressionStatement",expression:k(o,o,a,t.moduleExportFunc,t.moduleImportFunc)},left:{type:"VariableDeclaration",kind:"var",declarations:[{type:"VariableDeclarator",id:o,init:null}]},right:_(null,a,t.moduleImportFunc)}],t.excludeRefs.push(o.name),t.excludeDecls.push(o.name)}else i="ImportDeclaration"===n.type?n.specifiers.length?n.specifiers.map(function(r){var i=r.local,o="ImportSpecifier"===r.type&&r.imported.name||"ImportDefaultSpecifier"===r.type&&"default"||null;return w(e,i,o||null,n.source,t.moduleImportFunc)}):B(null,n.source,t.moduleImportFunc):[n];return r.concat(i)},[]),e}function E(e,r){var n=H(e).scope,i=n.funcDecls;if(!i.length)return e;for(var o=[],s=i.length;s--;){var a=i[s];if(p(a,r)){var u=n.funcDeclPaths[s].slice(0,-1),c=t.Path(u).get(n.node),l={type:"Identifier",name:a.id.name},f=r.declarationWrapper?I(r.declarationWrapper,a,q(l.name),q("function"),l,r.captureObj,r):l,h=j({},a);if(Array.isArray(c))c.splice(c.indexOf(a),1,$(a.id));else if("ExportNamedDeclaration"===c.type){var d=n.node.body.indexOf(c);d>-1&&n.node.body.splice(d,1,{type:"ExportNamedDeclaration",specifiers:[{type:"ExportSpecifier",exported:a.id,local:a.id}]})}else"ExportDefaultDeclaration"===c.type&&(c.declaration=a.id);o.unshift(S(r.captureObj,l,f,!1)),o.unshift(h)}}return e.body=o.concat(e.body),e}function A(e,r){var n=H(e);return t.chain(n.scope.varDecls).pluck("declarations").flatten().value().concat(n.scope.funcDecls).reduce(function(e,t){return e[t.id.name]||(e[t.id.name]=[]),e[t.id.name].push({type:t.type,start:t.start,end:t.end}),e},{})}function D(e,t){return"ArrayPattern"===e.type?x(e,t):"ObjectPattern"===e.type?C(e,t):[]}function x(e,t){for(var r=t.declaredNames,n=J,i=[],o=0;o<e.elements.length;o++){var s=e.elements[o];if("Identifier"===s.type){var a=M(s,L(t.parent,V(o),!0));a[n]={capture:!0},i.push(a)}else if("RestElement"===s.type){var a=M(s.argument,{type:"CallExpression",arguments:[{type:"Literal",value:o}],callee:L(t.parent,V("slice"),!1)});a[n]={capture:!0},i.push(a)}else if("AssignmentPattern"==s.type){var a=M(s.left,z(G(L(t.parent,V(o),!0),"===",V("undefined")),s.right,L(t.parent,V(o),!0)));a[n]={capture:!0},i.push(a)}else{var c=V(u(r,t.parent.name+"$"+o)),l=M(c,L(t.parent,o));r.push(c.name),i.push(l),i.push.apply(i,N(D(s,{parent:c,declaredNames:r})))}}return i}function C(e,t){for(var r=t.declaredNames,i=J,o=[],s=0;s<e.properties.length;s++){var a=e.properties[s];if("RestElement"==a.type){var c=e.properties.map(function(e){return e.key&&e.key.name}).filter(Boolean),l=n.nodes.varDecl(a.argument.name,n.nodes.objectLiteral([])),p=n.nodes.varDecl(a.argument.name,V(a.argument.name)),f=n.nodes.exprStmt(n.nodes.funcCall(n.nodes.funcExpr({},[],n.nodes.forIn("__key",t.parent,n.nodes.block.apply(n.nodes,N(c.length?c.map(function(e){return n.nodes.ifStmt(n.nodes.binaryExpr(n.nodes.id("__key"),"===",n.nodes.literal(e)),{type:"ContinueStatement",label:null},null)}):[]).concat([n.nodes.exprStmt(n.nodes.assign(n.nodes.member(a.argument.name,n.nodes.id("__key"),!0),n.nodes.member(t.parent,n.nodes.id("__key"),!0)))]))))));p[i]={capture:!0},o.push(l,p,f)}else if("Identifier"==a.value.type){var l=M(a.value,L(t.parent,a.key));l[i]={capture:!0},o.push(l)}else if("AssignmentPattern"==a.value.type){var l=M(a.value.left,z(G(L(t.parent,a.key),"===",V("undefined")),a.value.right,L(t.parent,a.key)));l[i]={capture:!0},o.push(l)}else{var h=V(u(r,t.parent.name+"$"+a.key.name)),d=M(h,L(t.parent,a.key));d[i]={capture:!1},r.push(h.name),o.push.apply(o,N([d].concat(D(a.value,{parent:h,declaredNames:r}))))}}return o}function F(e,t,r){var n=H(e),i=t.id.name;return n.declaredNames.indexOf(i)>-1?$(W(t.id,t.init)):{declarations:[t],kind:r||"var",type:"VariableDeclaration"}}function S(e,t,r,n){return $(W(L(e,t,n),r||V("undefined")))}function k(e,t,r,n,i){return O(n,e,_(t,r,i))}function w(e,t,r,n,i){return M(t,_(r,n,i))}function _(e,t,r){return"string"==typeof e&&(e=q(e)),{arguments:[t].concat(e||[]),callee:r,type:"CallExpression"}}function B(e,t,r){return $(_(e,t,r))}function O(e,r,n){return"string"==typeof r&&(r=q(r)),n=t.obj.deepCopy(n),U(e,r,n)}function P(e,t,r){return $(O(e,t,r))}function I(e,t,r,i,o,s,a){if(t){var u=[],c=!1;if(t["x-lively-object-meta"]){var l=t["x-lively-object-meta"],p=l.start,f=l.end,h=l.evalId,d=l.sourceAccessorName;c=!0,u.push("start",n.nodes.literal(p),"end",n.nodes.literal(f))}if(void 0===h&&a.hasOwnProperty("evalId")&&(h=a.evalId,c=!0),void 0===d&&a.hasOwnProperty("sourceAccessorName")&&(d=a.sourceAccessorName,c=!0),void 0!==h&&u.push("evalId",n.nodes.literal(h)),d&&u.push("moduleSource",n.nodes.id(d)),c)return U(e,r,i,o,s,n.nodes.objectLiteral(u))}return U(e,r,i,o,s)}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"__lvVarRecorder";"function"==typeof e&&(e=String(e));var r="string"==typeof e?n.parseFunction(e):e,i=n.ReplaceVisitor.run(r,function(e){return"MemberExpression"===e.type&&"Identifier"===e.object.type&&e.object.name===t?e.property:e});return n.stringify(i)}var j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},L=n.nodes.member,R=n.nodes.prop,M=n.nodes.varDecl,W=n.nodes.assign,V=n.nodes.id,q=n.nodes.literal,$=n.nodes.exprStmt,z=n.nodes.conditional,G=n.nodes.binaryExpr,U=n.nodes.funcCall,H=n.query.topLevelDeclsAndRefs,K=n.query.helpers,J=Symbol("lively.ast-destructuring-transform"),Y=Object.freeze({rewriteToCaptureTopLevelVariables:i,rewriteToRegisterModuleToCaptureSetters:o});e.capturing=Y,e.stringifyFunctionWithoutToplevelRecorder=T}(this.lively.sourceTransform=this.lively.sourceTransform||{},lively.lang,lively.classes,lively.ast),"undefined"!=typeof module&&module.exports&&(module.exports=e.lively.sourceTransform)}(),function(){var GLOBAL="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;this.lively=this.lively||{},function(exports,lively_lang,lively_ast,lively_sourceTransform,lively_classes,lively_notifications){"use strict";function getGlobal(){return"undefined"!=typeof System?System.global:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof Global?Global:"undefined"!=typeof self?self:function(){return this}()}function signatureOf(e,t){var r=String(t),n=r.match(/function\s*[a-zA-Z0-9_$]*\s*\(([^\)]*)\)/);return e+"("+(n&&n[1]||"")+")"}function pluck(e,t){return e.map(function(e){return e[t]})}function printSymbol(e){if(Symbol.keyFor(e))return'Symbol.for("'+Symbol.keyFor(e)+'")';if(knownSymbols.get(e))return knownSymbols.get(e);String(e).match(symMatcher);return String(e)}function safeToString(e){if(!e)return String(e);if(Array.isArray(e))return"["+e.map(safeToString).join(",")+"]";if("symbol"===(void 0===e?"undefined":_typeof(e)))return printSymbol(e);try{return String(e)}catch(e){throw new Error("Cannot print object: "+e.stack)}}function printEvalResult(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.value,n=e.isError,i=e.isPromise,o=e.promisedValue,s=e.promiseStatus;if(n||r instanceof Error)return String(r.stack||r);if(i){var a=lively_lang.string.print(s),u="pending"===s?void 0:printEvalResult({value:o},t);return"Promise({status: "+a+", "+(void 0===r?"":"value: "+u)+"})"}return r instanceof Promise?'Promise({status: "unknown"})':t.inspect?printInspectEvalValue(r,t.inspectDepth||2):String(r)}function getObjectForCompletion(e,t){var r="";return Promise.resolve().then(function(){var n=t.lastIndexOf(".");return n>=0?(r=t.slice(n+1),t=t.slice(0,n)):(r=t,t='(typeof window === "undefined" ? global : window)'),e(t)}).then(function(e){return{evalResult:e,startLetters:r,code:t}})}function propertyExtract(e,t,r){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t).map(printSymbol)).filter(function(t){return-1===e.indexOf(t)}).map(r).filter(function(e){return!!e}).sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})}function getMethodsOf(e,t){return propertyExtract(e,t,function(e){return t.__lookupGetter__&&t.__lookupGetter__(e)||"function"!=typeof t[e]?null:{name:e,completion:signatureOf(e,t[e])}})}function getAttributesOf(e,t){return propertyExtract(e,t,function(e){return t.__lookupGetter__&&!t.__lookupGetter__(e)&&"function"==typeof t[e]?null:{name:e,completion:e}})}function getProtoChain(e){for(var t=[];e;)t.push(e),e=e.__proto__;return t}function getDescriptorOf(e,t){function r(e,t){return e.length>t&&(e=e.slice(0,t)+"..."),e.replace(/\n/g,"").replace(/\s+/g," ")}if(e===t){if("function"!=typeof e)return r(safeToString(e),50);var n=e.toString(),i=r(n.slice(n.indexOf("{")+1,n.lastIndexOf("}")),50);return signatureOf(e.displayName||e.name||"function",e)+" {"+i+"}"}var o=t.hasOwnProperty("constructor")&&t.constructor;return o?"string"==typeof o.type&&o.type.length?r(o.type,50):"string"==typeof o.name&&o.name.length?r(o.name,50):"anonymous class":"prototype"}function descriptorsOfObjAndProtoProperties(e){var t=[];return getProtoChain(e).map(function(r){var n=getDescriptorOf(e,r),i=getMethodsOf(t,r).concat(getAttributesOf(t,r));return t=t.concat(pluck(i,"name")),[n,pluck(i,"completion")]})}function getCompletions(e,t,r){var n=getObjectForCompletion(e,t).then(function(e){var t=e.evalResult,r=t&&t.isEvalResult?t.value:t,n={completions:descriptorsOfObjAndProtoProperties(r),startLetters:e.startLetters,code:e.code};return t&&t.isPromise&&("fulfilled"===t.promiseStatus?n.promiseResolvedCompletions=descriptorsOfObjAndProtoProperties(t.promisedValue):"rejected"===t.promiseStatus&&(n.promiseRejectedCompletions=descriptorsOfObjAndProtoProperties(t.promisedValue))),n});return"function"==typeof r&&n.then(function(e){return r(null,e)}).catch(function(e){return r(e)}),n}function processInlineCodeTransformOptions(parsed,options){if(!parsed.comments)return options;var livelyComment=parsed.comments.find(function(e){return e.text.startsWith("lively.vm ")});if(!livelyComment)return options;try{var inlineOptions=eval("inlineOptions = {"+livelyComment.text.slice("lively.vm ".length)+"};");return Object.assign(options,inlineOptions)}catch(e){return options}}function evalCodeTransform(e,t){e=lively_ast.transform.transformSingleExpression(e);var r=lively_ast.parse(e,{withComments:!0});t=processInlineCodeTransformOptions(r,t);var n=lively_ast.query.topLevelDeclsAndRefs(r),i=n.classDecls,o=n.funcDecls,s=n.varDecls,a={};if(t.hasOwnProperty("evalId")&&(a.evalId=t.evalId),t.sourceAccessorName&&(a.sourceAccessorName=t.sourceAccessorName),[].concat(toConsumableArray(i),toConsumableArray(o)).forEach(function(e){return e["x-lively-object-meta"]=_extends({},a,{start:e.start,end:e.end})}),s.forEach(function(e){return e.declarations.forEach(function(e){return e["x-lively-object-meta"]=_extends({},a,{start:e.start,end:e.end})})}),r=lively_ast.transform.objectSpreadTransform(r),!t.topLevelVarRecorder&&t.topLevelVarRecorderName){var u=getGlobal();"GLOBAL"===t.topLevelVarRecorderName?t.topLevelVarRecorder=getGlobal():t.topLevelVarRecorder=lively_lang.Path(t.topLevelVarRecorderName).get(u)}if(t.topLevelVarRecorder){var c=(t.dontTransform||[]).concat(["arguments"]),l=t.recordGlobals?null:lively_lang.arr.withoutAll(Object.keys(t.topLevelVarRecorder),c),p=id(t.varRecorderName||"__lvVarRecorder"),f=void 0;if(t.declarationWrapperName||"function"==typeof t.declarationCallback){var h=t.declarationWrapperName||defaultDeclarationWrapperName;t.declarationWrapper=member(id(t.varRecorderName||"__lvVarRecorder"),literal(h),!0),t.declarationCallback&&(t.topLevelVarRecorder[h]=t.declarationCallback)}(!t.hasOwnProperty("transformES6Classes")||t.transformES6Classes)&&(defaultClassToFunctionConverterName in t.topLevelVarRecorder||(t.topLevelVarRecorder[defaultClassToFunctionConverterName]=lively_classes.runtime.initializeClass),f={currentModuleAccessor:t.currentModuleAccessor,classHolder:p,functionNode:member(p,defaultClassToFunctionConverterName),declarationWrapper:t.declarationWrapper,evalId:t.evalId,sourceAccessorName:t.sourceAccessorName}),r=lively_sourceTransform.capturing.rewriteToCaptureTopLevelVariables(r,p,{es6ImportFuncId:t.es6ImportFuncId,es6ExportFuncId:t.es6ExportFuncId,ignoreUndeclaredExcept:l,exclude:c,declarationWrapper:t.declarationWrapper||void 0,classToFunction:f,evalId:t.evalId,sourceAccessorName:t.sourceAccessorName,keepTopLevelVarDecls:t.keepTopLevelVarDecls})}t.wrapInStartEndCall&&(r=lively_ast.transform.wrapInStartEndCall(r,{startFuncNode:t.startFuncNode,endFuncNode:t.endFuncNode}));var d=lively_ast.stringify(r);return t.sourceURL&&(d+="\n//# sourceURL="+t.sourceURL.replace(/\s/g,"_")),d}function evalCodeTransformOfSystemRegisterSetters(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.topLevelVarRecorder)return e;if("function"==typeof t.declarationCallback||t.declarationWrapperName){var r=t.declarationWrapperName||defaultDeclarationWrapperName;t.declarationWrapper=member(id(t.varRecorderName),literal(r),!0),t.declarationCallback&&(t.topLevelVarRecorder[r]=t.declarationCallback)}var n=lively_ast.parse(e),i=(t.dontTransform||[]).concat(["arguments"]),o=(t.recordGlobals||lively_lang.arr.withoutAll(Object.keys(t.topLevelVarRecorder),i),lively_sourceTransform.capturing.rewriteToRegisterModuleToCaptureSetters(n,id(t.varRecorderName||"__lvVarRecorder"),_extends({exclude:i},t)));return lively_ast.stringify(o)}function _normalizeEvalOptions(e){if(e||(e={}),e=_extends({targetModule:null,sourceURL:e.targetModule,runtime:null,context:getGlobal(),varRecorderName:defaultTopLevelVarRecorderName,dontTransform:[],recordGlobals:null,returnPromise:!0,promiseTimeout:200,waitForPromise:!0,wrapInStartEndCall:!1,onStartEval:null,onEndEval:null},e),e.targetModule){var t=e.runtime&&e.runtime.modules&&e.runtime.modules[e.targetModule];t&&(e=Object.assign(e,t))}return e.wrapInStartEndCall&&(e.startFuncNode={type:"MemberExpression",object:{type:"Identifier",name:e.varRecorderName},property:{type:"Literal",value:startEvalFunctionName},computed:!0},e.endFuncNode={type:"MemberExpression",object:{type:"Identifier",name:e.varRecorderName},property:{type:"Literal",value:endEvalFunctionName},computed:!0}),e}function _eval(__lvEvalStatement,__lvVarRecorder,__lvOriginalCode){return eval(__lvEvalStatement)}function runEval$1(e,t,r){"function"==typeof t&&2===arguments.length&&(r=t,t=null);var n,i,o=new EvalResult,s=!1,a=!1;t=_normalizeEvalOptions(t);var u=lively_lang.promise.deferred(),c=t.topLevelVarRecorder||getGlobal(),l=e;t.wrapInStartEndCall&&(c[startEvalFunctionName]&&console.warn(o.addWarning("startEvalFunctionName "+startEvalFunctionName+" already exists in recorder!")),c[endEvalFunctionName]&&console.warn(o.addWarning("endEvalFunctionName "+endEvalFunctionName+" already exists in recorder!")),c[startEvalFunctionName]=function(){if(s)return void console.warn(o.addWarning("onEvalStartCalled multiple times!"));s=!0,"function"==typeof t.onStartEval&&t.onStartEval()},c[endEvalFunctionName]=function(e,n){if(a)return void console.warn(o.addWarning("onEvalEndCalled multiple times!"));a=!0,finishEval(e,n,o,t,c,u,r)});try{e=evalCodeTransform(e,t),t.header&&(e=t.header+e),t.footer&&(e+=t.footer),t.transpiler&&(e=t.transpiler(e,t.transpilerOptions))}catch(e){console.warn(o.addWarning("lively.vm evalCodeTransform not working: "+(e.stack||e)))}try{"undefined"!=typeof $world&&$world.get("log")&&($world.get("log").textString=e),i=_eval.call(t.context,e,t.topLevelVarRecorder,t.originalSource||l)}catch(e){n=e}return t.wrapInStartEndCall?n&&!a&&c[endEvalFunctionName](n,void 0):finishEval(n,n||i,o,t,c,u,r),t.sync?o:u.promise}function finishEval(e,t,r,n,i,o,s){n.wrapInStartEndCall&&(delete i[startEvalFunctionName],delete i[endEvalFunctionName]),e?(r.isError=!0,r.value=e):r.value=t,r.value instanceof Promise&&(r.isPromise=!0),n.sync?(r.processSync(n),"function"==typeof n.onEndEval&&n.onEndEval(e,t)):r.process(n).then(function(){return"function"==typeof s&&s(null,r),"function"==typeof n.onEndEval&&n.onEndEval(e,t),r},function(e){return"function"==typeof s&&s(e,void 0),"function"==typeof n.onEndEval&&n.onEndEval(e,void 0),r}).then(o.resolve,o.reject)}function syncEval$1(e,t){return t=Object.assign(t||{},{sync:!0}),runEval$1(e,t)}function tryToWaitForPromise(e,t){console.assert(e.isPromise,"no promise in tryToWaitForPromise???");var r={},n=new Promise(function(e){return setTimeout(e,t,r)});return Promise.race([n,e.value]).then(function(t){return Object.assign(e,t!==r?{promiseStatus:"fulfilled",promisedValue:t}:{promiseStatus:"pending"})}).catch(function(t){return Object.assign(e,{promiseStatus:"rejected",promisedValue:t})})}function ensureImportsAreImported(e,t,r){var n=lively_ast.parse(t).body,i=n.filter(function(e){return"ImportDeclaration"===e.type});return Promise.all(i.map(function(t){return e.normalize(t.source.value,r).then(function(t){return e.get(t)||e.import(t)})})).catch(function(e){throw console.error("Error ensuring imports: "+e.message),e})}function hasUnimportedImports(e,t,r){var n=lively.ast.parse(t).body,i=n.filter(function(e){return"ImportDeclaration"===e.type});return lively_lang.arr.uniq(i.map(function(e){return e.source.value})).filter(Boolean).filter(function(t){return!e.get(e.decanonicalize(t,r))}).length>0}function babelTranspilerForAsyncAwaitCode(e,t,r,n){return function(e,n){n=Object.assign({sourceMap:void 0,inputSourceMap:void 0,filename:r,code:!0,ast:!1},n);var i="(async function(__rec) {\n"+e+"\n}).call(this);",o=t.transform(i,n).code;return o=o.replace(/\}\)\.call\(undefined\);$/,"}).call(this)")}}function babelPluginTranspilerForAsyncAwaitCode(e,t,r,n){return function(n,i){var o=e.babelOptions||{},s=[];s.push(t.presetES2015),o.stage3&&s.push({plugins:t.pluginsStage3}),o.stage2&&s.push({plugins:t.pluginsStage2}),o.stage1&&s.push({plugins:t.pluginsStage1}),i=Object.assign({sourceMap:void 0,inputSourceMap:void 0,filename:r,babelrc:!1,presets:s,moduleIds:!1,code:!0,ast:!1},i);var a="(async function(__rec) {\n"+n+"\n}).call(this);",u=t.babel.transform(a,i).code;return u=u.replace(/\}\)\.call\(undefined\);$/,"}).call(this)")}}function getEs6Transpiler(e,t,r){if(t.transpiler)return t.transpiler;if(!t.es6Transpile)return null;if("babel"===e.transpiler){var n=e.global[e.transpiler]||e.get(e.decanonicalize(e.transpiler));return n?babelTranspilerForAsyncAwaitCode(e,n,t.targetModule,r):e.import(e.transpiler).then(function(n){return babelTranspilerForAsyncAwaitCode(e,n,t.targetModule,r)})}if("plugin-babel"===e.transpiler){var i=e.decanonicalize("plugin-babel"),o=i.split("/").slice(0,-1).concat("systemjs-babel-browser.js").join("/"),s=e.get(o);return s?babelPluginTranspilerForAsyncAwaitCode(e,s,t.targetModule,r):e.import(o).then(function(n){return babelPluginTranspilerForAsyncAwaitCode(e,n,t.targetModule,r)})}if("lively.transpiler"===e.transpiler){var a=e.get(e.decanonicalize("lively.transpiler")).default,u=new a(e,t.targetModule,r);return function(e,t){return u.transpileDoit(e,t)}}throw new Error("Sorry, currently only babel is supported as es6 transpiler for runEval!")}function runEval$2(e,t,r){r=_extends({targetModule:null,parentModule:null,es6Transpile:!0,transpiler:null,transpilerOptions:null,format:"esm"},r);var n=t;e.debug&&console.log("[lively.module] runEval: "+t.slice(0,100).replace(/\n/gm," ")+"...");var i=r,o=i.format,s=i.targetModule,a=i.parentModule;if(s=e.decanonicalize(s||"*scratch*",a),r.targetModule=s,o){var u=e.getConfig().meta[s];u||(u={}),u[s]||(u[s]={}),u[s].format||(u[s].format=o,e.config(u))}var c=e.get("@lively-env").moduleEnv(s),l=c.recorder,p=c.recorderName,f=c.dontTransform,h=getEs6Transpiler(e,r,c),d="var _moduleExport = "+p+"._moduleExport,\n    _moduleImport = "+p+"._moduleImport;\n";if(r=_extends({waitForPromise:!0,sync:!1,evalId:r.evalId||c.nextEvalId(),sourceAccessorName:!r.hasOwnProperty("embedOriginalCode")||r.embedOriginalCode?"__lvOriginalCode":void 0,originalSource:n},r,{header:d,recordGlobals:!0,dontTransform:f,varRecorderName:p,topLevelVarRecorder:l,sourceURL:r.sourceURL||r.targetModule,context:r.context||l,wrapInStartEndCall:!0,es6ExportFuncId:"_moduleExport",es6ImportFuncId:"_moduleImport",transpiler:h,declarationWrapperName:c.varDefinitionCallbackName,currentModuleAccessor:funcCall(member$1(funcCall(member$1(member$1("__lvVarRecorder","System"),"get"),literal$1("@lively-env")),"moduleEnv"),literal$1(r.targetModule))}),!r.sync&&!r.importsEnsured&&hasUnimportedImports(e,t,s))return ensureImportsAreImported(e,t,s).then(function(){return runEval$2(e,n,_extends({},r,{importsEnsured:!0}))});if(!c.record()){if(!r.sync&&!r._moduleImported)return e.import(s).catch(function(e){return null}).then(function(){return runEval$2(e,n,_extends({},r,{_moduleImported:!0}))});c.ensureRecord()}if(r.es6Transpile&&r.transpiler instanceof Promise){if(!r.sync&&!r._transpilerLoaded)return r.transpiler.catch(function(e){return console.error(e)}).then(function(t){return runEval$2(e,n,_extends({},r,{transpiler:t,_transpilerLoaded:!0}))});console.warn("[lively.vm] sync eval requested but transpiler is not yet loaded, will continue without transpilation!"),r.transpiler=null}e.debug&&console.log("[lively.module] runEval in module "+s+" started"),lively_notifications.emit("lively.vm/doitrequest",{code:n,waitForPromise:r.waitForPromise,targetModule:r.targetModule},Date.now(),e),e.get("@lively-env").evaluationStart(s);var m=runEval$1(t,r);return r.sync?evalEnd(e,n,r,m):Promise.resolve(m).then(function(t){return evalEnd(e,n,r,t)})}function evalEnd(e,t,r,n){return e.get("@lively-env").evaluationEnd(r.targetModule),e.debug&&console.log("[lively.module] runEval in module "+r.targetModule+" done"),lively_notifications.emit("lively.vm/doitresult",{code:t,result:n,waitForPromise:r.waitForPromise,targetModule:r.targetModule},Date.now(),e),n}function runEval$$1(e,t){var r=t=_extends({format:"esm",System:null,targetModule:null},t),n=r.format,i=r.System,o=r.targetModule;return i||"undefined"==typeof System||(i=System),!i&&o?Promise.reject(new Error("options to runEval have targetModule but cannot find system loader!")):o&&["esm","es6","register"].includes(n)?runEval$2(i,e,t):runEval$1(e,t)}function syncEval$$1(e,t){return syncEval$1(e,t)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},asyncToGenerator=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,o){try{var s=t[i](o),a=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)});e(a)}return n("next")})}},classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),defineProperty=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},get$1=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(n)},inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},set=function e(t,r,n,i){var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var s=Object.getPrototypeOf(t);null!==s&&e(s,r,n,i)}else if("value"in o&&o.writable)o.value=n;else{var a=o.set;void 0!==a&&a.call(i,n)}return n},slicedToArray=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},knownSymbols=function(){return Object.getOwnPropertyNames(Symbol).filter(function(e){return"symbol"===_typeof(Symbol[e])}).reduce(function(e,t){
return e.set(Symbol[t],"Symbol."+t)},new Map)}(),symMatcher=/^Symbol\((.*)\)$/,printInspectEvalValue=function(){function e(e,t){if("object"===(void 0===t?"undefined":_typeof(t))&&(t=t.maxDepth||2),!e)return String(e);if("string"==typeof e){var n=e.includes("\n")?"`":'"';return n+e+n}if(e instanceof Error)return e.stack||safeToString(e);if(!lively_lang.obj.isObject(e))return safeToString(e);try{var i=lively_lang.obj.inspect(e,{customPrinter:r,maxDepth:t,printFunctionSource:!0})}catch(e){}return"{}"===i?safeToString(e):i}function t(t,r){if("string"==typeof t||Array.isArray(t)||!n||"function"!=typeof t[n])return r;for(var o,s="function"==typeof t.entries,a=s?t.entries():t[n](),u=[],c=s?"{":"[",l=s?"}":"]",p=t.constructor&&t.constructor.name||"Iterable",f=0;f<i&&(o=a.next(),!o.done);f++)u.push(o.value);return p+"("+c+u.map(function(t){return s?e(t[0],1)+": "+e(t[1],1):e(t,2)}).join(", ")+l+")"}function r(e,r,n){if(!e)return r;if("symbol"===(void 0===e?"undefined":_typeof(e)))return printSymbol(e);if("string"==typeof e)return lively_lang.string.print(lively_lang.string.truncate(e,o));if(e.isMorph)return safeToString(e);if(e instanceof Promise)return"Promise()";if("undefined"!=typeof Node&&e instanceof Node)return safeToString(e);if("undefined"!=typeof ImageData&&e instanceof ImageData)return safeToString(e);var s=e.length||e.byteLength;if(void 0!==s&&s>i&&e.slice){return"["+("string"==typeof e||e.byteLength?safeToString(e.slice(0,i)):e.slice(0,i).map(n))+",...]"}var a=t(e,r);return a!==r?a:r}var n="undefined"!=typeof Symbol&&Symbol.iterator,i=10,o=100;return e}(),completions=Object.freeze({getObjectForCompletion:getObjectForCompletion,getCompletions:getCompletions}),id=lively_ast.nodes.id,literal=lively_ast.nodes.literal,member=lively_ast.nodes.member,defaultDeclarationWrapperName="lively.capturing-declaration-wrapper",defaultClassToFunctionConverterName="initializeES6ClassForLively",defaultTopLevelVarRecorderName="__lvVarRecorder",startEvalFunctionName="lively.vm-on-eval-start",endEvalFunctionName="lively.vm-on-eval-end",EvalResult=function(){function e(){classCallCheck(this,e),this.isEvalResult=!0,this.value=void 0,this.warnings=[],this.isError=!1,this.isPromise=!1,this.promisedValue=void 0,this.promiseStatus="unknown"}return createClass(e,[{key:"addWarning",value:function(e){return this.warnings.push(e),e}},{key:"printed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.value=printEvalResult(this,e)}},{key:"processSync",value:function(e){return(e.inspect||e.asString)&&(this.value=this.print(this.value,e)),this}},{key:"process",value:function(e){var t=this;return t.isPromise&&e.waitForPromise?tryToWaitForPromise(t,e.promiseTimeout).then(function(){return(e.inspect||e.asString)&&t.printed(e),t}):((e.inspect||e.asString)&&t.printed(e),Promise.resolve(t))}}]),e}(),funcCall=lively_ast.nodes.funcCall,member$1=lively_ast.nodes.member,literal$1=lively_ast.nodes.literal,EvalStrategy=function(){function e(){classCallCheck(this,e)}return createClass(e,[{key:"runEval",value:function(){function e(e,r){return t.apply(this,arguments)}var t=asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject("runEval(source, options) not yet implemented for "+this.constructor.name));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"keysOfObject",value:function(){function e(e,r){return t.apply(this,arguments)}var t=asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject("keysOfObject(prefix, options) not yet implemented for "+this.constructor.name));case 1:case"end":return e.stop()}},e,this)}));return e}()}]),e}(),SimpleEvalStrategy=function(_EvalStrategy){function SimpleEvalStrategy(){return classCallCheck(this,SimpleEvalStrategy),possibleConstructorReturn(this,(SimpleEvalStrategy.__proto__||Object.getPrototypeOf(SimpleEvalStrategy)).apply(this,arguments))}return inherits(SimpleEvalStrategy,_EvalStrategy),createClass(SimpleEvalStrategy,[{key:"runEval",value:function(){function runEval(e,t){return _ref3.apply(this,arguments)}var _ref3=asyncToGenerator(regeneratorRuntime.mark(function _callee3(source,options){return regeneratorRuntime.wrap(function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",Promise.resolve().then(function(){try{return Promise.resolve({value:eval(source)})}catch(e){return{isError:!0,value:e}}}));case 1:case"end":return _context3.stop()}},_callee3,this)}));return runEval}()},{key:"keysOfObject",value:function(){function e(e,r){return t.apply(this,arguments)}var t=asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lively.vm.completions.getCompletions(function(e){return i.runEval(e,r)},t);case 2:return n=e.sent,e.abrupt("return",{completions:n.completions,prefix:n.startLetters});case 4:case"end":return e.stop()}},e,this)}));return e}()}]),SimpleEvalStrategy}(EvalStrategy),LivelyVmEvalStrategy=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),createClass(t,[{key:"normalizeOptions",value:function(e){if(!e.targetModule)throw new Error("runEval called but options.targetModule not specified!");return Object.assign({sourceURL:e.targetModule+"_doit_"+Date.now()},e)}},{key:"runEval",value:function(){function e(e,r){return t.apply(this,arguments)}var t=asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.normalizeOptions(r),n=r.System||lively.modules.System,n.config({meta:defineProperty({},r.targetModule,{format:"esm"})}),e.abrupt("return",lively.vm.runEval(t,r));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"keysOfObject",value:function(){function e(e,r){return t.apply(this,arguments)}var t=asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lively.vm.completions.getCompletions(function(e){return lively.vm.runEval(e,r)},t);case 2:return n=e.sent,e.abrupt("return",{completions:n.completions,prefix:n.startLetters});case 4:case"end":return e.stop()}},e,this)}));return e}()}]),t}(EvalStrategy),RemoteEvalStrategy=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),createClass(t,[{key:"sourceForRemote",value:function(e,t,r){return r=lively_lang.obj.dissoc(r,["systemInterface","System","context"]),"\n(function() {\n  var arg = "+JSON.stringify(t)+",\n      options = "+JSON.stringify(r)+';\n  if (typeof lively === "undefined" || !lively.vm) {\n    return Promise.resolve({\n      isEvalResult: true,\n      isError: true,\n      value: \'lively.vm not available!\'\n    });\n  }\n  var hasSystem = typeof System !== "undefined"\n  options.context = hasSystem\n    ? System.global\n    : typeof window !== "undefined"\n        ? window\n        : typeof global !== "undefined"\n            ? global\n            : typeof self !== "undefined" ? self : this;\n  function evalFunction(source, options) {\n    if (hasSystem) {\n      var conf = {meta: {}}; conf.meta[options.targetModule] = {format: "esm"};\n      System.config(conf);\n    } else {\n      options = Object.assign({topLevelVarRecorderName: "GLOBAL"}, options);\n      delete options.targetModule;\n    }\n    return lively.vm.runEval(source, options);\n  }\n  function keysOfObjectFunction(prefix, options) {\n    return lively.vm.completions.getCompletions(code => evalFunction(code, options), prefix)\n      .then(result => ({isEvalResult: true, completions: result.completions, prefix: result.startLetters}));\n  }\n  return '+("eval"===e?"evalFunction":"keysOfObjectFunction")+"(arg, options)\n    .catch(err => ({isEvalResult: true, isError: true, value: String(err.stack || err)}));\n})();\n"}},{key:"runEval",value:function(){function e(e,r){return t.apply(this,arguments)}var t=asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.remoteEval(this.sourceForRemote("eval",t,r),r));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"keysOfObject",value:function(){function e(e,r){return t.apply(this,arguments)}var t=asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.remoteEval(this.sourceForRemote("keysOfObject",t,r),r));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"remoteEval",value:function(){function e(e,r){return t.apply(this,arguments)}var t=asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.basicRemoteEval(t,r);case 3:return n=e.sent,e.abrupt("return","string"==typeof n?JSON.parse(n):n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{isError:!0,value:"Remote eval failed: "+(n||e.t0)});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return e}()},{key:"basicRemoteEval",value:function(){function e(e,r){return t.apply(this,arguments)}var t=asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not yet implemented");case 1:case"end":return e.stop()}},e,this)}));return e}()}]),t}(LivelyVmEvalStrategy),HttpEvalStrategy=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.url=e||r.constructor.defaultURL,r}return inherits(t,e),createClass(t,null,[{key:"defaultURL",get:function(){return"http://localhost:3000/lively"}}]),createClass(t,[{key:"normalizeOptions",value:function(e){return e=get$1(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"normalizeOptions",this).call(this,e),Object.assign({serverEvalURL:this.url},e,{context:null})}},{key:"basicRemoteEval",value:function(){function e(e,r){return t.apply(this,arguments)}var t=asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.normalizeOptions(r),n="basicRemoteEval_"+(System.get("@system-env").node?"node":"web"),e.next=4,this[n]({method:"POST",body:t},r.serverEvalURL);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"basicRemoteEval_web",value:function(){function e(e,r){return t.apply(this,arguments)}var t=asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.match(/[^:]+:\/\/[^\/]+/)||[r],i=slicedToArray(n,1),o=i[0],s=document.location.origin!==o,s&&(t.headers=_extends({},t.headers,{pragma:"no-cache","cache-control":"no-cache","x-lively-proxy-request":r}),r=document.location.origin),e.prev=2,e.next=5,window.fetch(r,t);case 5:a=e.sent,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),new Error("Cannot reach server at "+r+": "+e.t0.message);case 11:if(a.ok){e.next=13;break}throw new Error("Server at "+r+": "+a.statusText);case 13:return e.abrupt("return",a.text());case 14:case"end":return e.stop()}},e,this,[[2,8]])}));return e}()},{key:"basicRemoteEval_node",value:function(){function e(e,r){return t.apply(this,arguments)}var t=asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=System._nodeRequire("url").parse,i=System._nodeRequire("http"),o=Object.assign({method:t.method||"GET"},n(r)),e.abrupt("return",new Promise(function(e,r){var n=i.request(o,function(t){t.setEncoding("utf8");var n="";t.on("data",function(e){return n+=e}),t.on("end",function(){return e(n)}),t.on("error",function(e){return r(e)})});n.on("error",function(e){return r(e)}),n.end(t.body)}));case 2:case"end":return e.stop()}},e,this)}));return e}()}]),t}(RemoteEvalStrategy),L2LEvalStrategy=function(e){function t(e,r){classCallCheck(this,t);var n=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.l2lClient=e,n.targetId=r,n}return inherits(t,e),createClass(t,[{key:"basicRemoteEval",value:function(){function e(e,r){return t.apply(this,arguments)}var t=asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.l2lClient,i=this.targetId,e.next=4,new Promise(function(e,r){return n.sendTo(i,"remote-eval",{source:t},e)});case 4:return o=e.sent,s=o.data,s&&s.value&&s.value.isEvalResult&&(s=s.value),e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return e}()}]),t}(RemoteEvalStrategy),evalStrategies=Object.freeze({RemoteEvalStrategy:RemoteEvalStrategy,EvalStrategy:EvalStrategy,SimpleEvalStrategy:SimpleEvalStrategy,LivelyVmEvalStrategy:LivelyVmEvalStrategy,HttpEvalStrategy:HttpEvalStrategy,L2LEvalStrategy:L2LEvalStrategy});exports.completions=completions,exports.runEval=runEval$$1,exports.syncEval=syncEval$$1,exports.evalStrategies=evalStrategies,exports.defaultTopLevelVarRecorderName=defaultTopLevelVarRecorderName,exports.defaultClassToFunctionConverterName=defaultClassToFunctionConverterName,exports.evalCodeTransform=evalCodeTransform,exports.evalCodeTransformOfSystemRegisterSetters=evalCodeTransformOfSystemRegisterSetters}(this.lively.vm=this.lively.vm||{},lively.lang,lively.ast,lively.sourceTransform,lively.classes,lively.notifications),"undefined"!=typeof module&&module.exports&&(module.exports=GLOBAL.lively.vm)}();
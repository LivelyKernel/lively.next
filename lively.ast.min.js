/*! lively.ast-v0.1.0 2015-01-13 */

(function(a){function b(a,c){if({}.hasOwnProperty.call(b.cache,a))return b.cache[a];var d=b.resolve(a);if(!d)throw new Error("Failed to resolve module "+a);var e={id:a,require:b,filename:a,exports:{},loaded:!1,parent:c,children:[]};c&&c.children.push(e);var f=a.slice(0,a.lastIndexOf("/")+1);return b.cache[a]=e.exports,d.call(e.exports,e,e.exports,f,a),e.loaded=!0,b.cache[a]=e.exports}b.modules={},b.cache={},b.resolve=function(a){return{}.hasOwnProperty.call(b.modules,a)?b.modules[a]:void 0},b.define=function(a,c){b.modules[a]=c};var c=function(b){return b="/",{title:"browser",version:"v0.10.26",browser:!0,env:{},argv:[],nextTick:a.setImmediate||function(a){setTimeout(a,0)},cwd:function(){return b},chdir:function(a){b=a}}}();b.define("/tools/entry-point.js",function(c){!function(){"use strict";a.escodegen=b("/escodegen.js",c),escodegen.browser=!0}()}),b.define("/escodegen.js",function(c,d){!function(e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){"use strict";function D(a){switch(a.type){case e.AssignmentExpression:case e.ArrayExpression:case e.ArrayPattern:case e.BinaryExpression:case e.CallExpression:case e.ConditionalExpression:case e.ClassExpression:case e.ExportBatchSpecifier:case e.ExportSpecifier:case e.FunctionExpression:case e.Identifier:case e.ImportSpecifier:case e.Literal:case e.LogicalExpression:case e.MemberExpression:case e.MethodDefinition:case e.NewExpression:case e.ObjectExpression:case e.ObjectPattern:case e.Property:case e.SequenceExpression:case e.ThisExpression:case e.UnaryExpression:case e.UpdateExpression:case e.YieldExpression:return!0}return!1}function E(a){switch(a.type){case e.BlockStatement:case e.BreakStatement:case e.CatchClause:case e.ContinueStatement:case e.ClassDeclaration:case e.ClassBody:case e.DirectiveStatement:case e.DoWhileStatement:case e.DebuggerStatement:case e.EmptyStatement:case e.ExpressionStatement:case e.ForStatement:case e.ForInStatement:case e.ForOfStatement:case e.FunctionDeclaration:case e.IfStatement:case e.LabeledStatement:case e.ModuleDeclaration:case e.Program:case e.ReturnStatement:case e.SwitchStatement:case e.SwitchCase:case e.ThrowStatement:case e.TryStatement:case e.VariableDeclaration:case e.VariableDeclarator:case e.WhileStatement:case e.WithStatement:return!0}return!1}function F(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null}}function G(a,b){var c="";for(b|=0;b>0;b>>>=1,a+=a)1&b&&(c+=a);return c}function H(a){return/[\r\n]/g.test(a)}function I(a){var b=a.length;return b&&j.code.isLineTerminator(a.charCodeAt(b-1))}function J(a,b){function c(a){return"object"==typeof a&&a instanceof Object&&!(a instanceof RegExp)}var d,e;for(d in b)b.hasOwnProperty(d)&&(e=b[d],c(e)?c(a[d])?J(a[d],e):a[d]=J({},e):a[d]=e);return a}function K(a){var b,c,d,e,f;if(a!==a)throw new Error("Numeric literal whose value is NaN");if(0>a||0===a&&0>1/a)throw new Error("Numeric literal whose value is negative");if(a===1/0)return n?"null":o?"1e400":"1e+400";if(b=""+a,!o||b.length<3)return b;for(c=b.indexOf("."),!n&&48===b.charCodeAt(0)&&1===c&&(c=0,b=b.slice(1)),d=b,b=b.replace("e+","e"),e=0,(f=d.indexOf("e"))>0&&(e=+d.slice(f+1),d=d.slice(0,f)),c>=0&&(e-=d.length-c-1,d=+(d.slice(0,c)+d.slice(c+1))+""),f=0;48===d.charCodeAt(d.length+f-1);)--f;return 0!==f&&(e-=f,d=d.slice(0,f)),0!==e&&(d+="e"+e),(d.length<b.length||p&&a>1e12&&Math.floor(a)===a&&(d="0x"+a.toString(16)).length<b.length)&&+d===a&&(b=d),b}function L(a,b){return 8232===(-2&a)?(b?"u":"\\u")+(8232===a?"2028":"2029"):10===a||13===a?(b?"":"\\")+(10===a?"n":"r"):String.fromCharCode(a)}function M(a){var b,c,d,e,f,g,h,i;if(c=a.toString(),a.source){if(b=c.match(/\/([^/]*)$/),!b)return c;for(d=b[1],c="",h=!1,i=!1,e=0,f=a.source.length;f>e;++e)g=a.source.charCodeAt(e),i?(c+=L(g,i),i=!1):(h?93===g&&(h=!1):47===g?c+="\\":91===g&&(h=!0),c+=L(g,i),i=92===g);return"/"+c+"/"+d}return c}function N(a,b){var c,d="\\";switch(a){case 8:d+="b";break;case 12:d+="f";break;case 9:d+="t";break;default:c=a.toString(16).toUpperCase(),d+=n||a>255?"u"+"0000".slice(c.length)+c:0!==a||j.code.isDecimalDigit(b)?11===a?"x0B":"x"+"00".slice(c.length)+c:"0"}return d}function O(a){var b="\\";switch(a){case 92:b+="\\";break;case 10:b+="n";break;case 13:b+="r";break;case 8232:b+="u2028";break;case 8233:b+="u2029";break;default:throw new Error("Incorrectly classified character")}return b}function P(a){var b,c,d,e;for(e="double"===q?'"':"'",b=0,c=a.length;c>b;++b){if(d=a.charCodeAt(b),39===d){e='"';break}if(34===d){e="'";break}92===d&&++b}return e+a+e}function Q(a){var b,c,d,e,f,g="",h=0,i=0;for(b=0,c=a.length;c>b;++b){if(d=a.charCodeAt(b),39===d)++h;else if(34===d)++i;else if(47===d&&n)g+="\\";else{if(j.code.isLineTerminator(d)||92===d){g+=O(d);continue}if(n&&32>d||!(n||r||d>=32&&126>=d)){g+=N(d,a.charCodeAt(b+1));continue}}g+=String.fromCharCode(d)}if(e=!("double"===q||"auto"===q&&h>i),f=e?"'":'"',!(e?h:i))return f+g+f;for(a=g,g=f,b=0,c=a.length;c>b;++b)d=a.charCodeAt(b),(39===d&&e||34===d&&!e)&&(g+="\\"),g+=String.fromCharCode(d);return g+f}function R(a){var b,c,d,e="";for(b=0,c=a.length;c>b;++b)d=a[b],e+=k(d)?R(d):d;return e}function S(a,b){if(!A)return k(a)?R(a):a;if(null==b){if(a instanceof h)return a;b={}}return null==b.loc?new h(null,null,A,a,b.name||null):new h(b.loc.start.line,b.loc.start.column,A===!0?b.loc.source||null:A,a,b.name||null)}function T(){return t?t:" "}function U(a,b){var c,d,e,f;return c=S(a).toString(),0===c.length?[b]:(d=S(b).toString(),0===d.length?[a]:(e=c.charCodeAt(c.length-1),f=d.charCodeAt(0),(43===e||45===e)&&e===f||j.code.isIdentifierPart(e)&&j.code.isIdentifierPart(f)||47===e&&105===f?[a,T(),b]:j.code.isWhiteSpace(e)||j.code.isLineTerminator(e)||j.code.isWhiteSpace(f)||j.code.isLineTerminator(f)?[a,b]:[a,t,b]))}function V(a){return[l,a]}function W(a){var b,c;return b=l,l+=m,c=a.call(this,l),l=b,c}function X(a){var b;for(b=a.length-1;b>=0&&!j.code.isLineTerminator(a.charCodeAt(b));--b);return a.length-1-b}function Y(a,b){var c,d,e,f,g,h,i,k;for(c=a.split(/\r\n|[\r\n]/),h=Number.MAX_VALUE,d=1,e=c.length;e>d;++d){for(f=c[d],g=0;g<f.length&&j.code.isWhiteSpace(f.charCodeAt(g));)++g;h>g&&(h=g)}for(void 0!==b?(i=l,"*"===c[1][h]&&(b+=" "),l=b):(1&h&&--h,i=l),d=1,e=c.length;e>d;++d)k=S(V(c[d].slice(h))),c[d]=A?k.join(""):k;return l=i,c.join("\n")}function Z(a,b){return"Line"===a.type?I(a.value)?"//"+a.value:"//"+a.value+"\n":y.format.indent.adjustMultilineComment&&/[\n\r]/.test(a.value)?Y("/*"+a.value+"*/",b):"/*"+a.value+"*/"}function $(a,b){var c,d,f,g,h,i,j;if(a.leadingComments&&a.leadingComments.length>0){for(g=b,f=a.leadingComments[0],b=[],w&&a.type===e.Program&&0===a.body.length&&b.push("\n"),b.push(Z(f)),I(S(b).toString())||b.push("\n"),c=1,d=a.leadingComments.length;d>c;++c)f=a.leadingComments[c],j=[Z(f)],I(S(j).toString())||j.push("\n"),b.push(V(j));b.push(V(g))}if(a.trailingComments)for(h=!I(S(b).toString()),i=G(" ",X(S([l,b,m]).toString())),c=0,d=a.trailingComments.length;d>c;++c)f=a.trailingComments[c],h?(b=0===c?[b,m]:[b,i],b.push(Z(f,i))):b=[b,V(Z(f))],c!==d-1&&!I(S(b).toString())&&(b=[b,"\n"]);return b}function _(a,b,c){return c>b?["(",a,")"]:a}function ab(a,b,c){var d,f;return f=!y.comment||!a.leadingComments,a.type===e.BlockStatement&&f?[t,qb(a,{functionBody:c})]:a.type===e.EmptyStatement&&f?";":(W(function(){d=[s,V(qb(a,{semicolonOptional:b,functionBody:c}))]}),d)}function bb(a,b){var c=I(S(b).toString());return a.type!==e.BlockStatement||y.comment&&a.leadingComments||c?c?[b,l]:[b,s,l]:[b,t]}function cb(a){var b,c,d;for(d=a.split(/\r\n|\n/),b=1,c=d.length;c>b;b++)d[b]=s+l+d[b];return d}function db(a,b){var c,d,e;return c=a[y.verbatim],"string"==typeof c?d=_(cb(c),f.Sequence,b.precedence):(d=cb(c.content),e=null!=c.precedence?c.precedence:f.Sequence,d=_(d,e,b.precedence)),S(d,a)}function eb(a){return S(a.name,a)}function fb(a,b){var c;return c=a.type===e.Identifier?eb(a):ob(a,{precedence:b.precedence,allowIn:b.allowIn,allowCall:!0})}function gb(a){var b,c,d,g;if(g=!1,a.type!==e.ArrowFunctionExpression||a.rest||a.defaults&&0!==a.defaults.length||1!==a.params.length||a.params[0].type!==e.Identifier){for(d=["("],a.defaults&&(g=!0),b=0,c=a.params.length;c>b;++b)d.push(g&&a.defaults[b]?nb(a.params[b],a.defaults[b],"=",{precedence:f.Assignment,allowIn:!0,allowCall:!0}):fb(a.params[b],{precedence:f.Assignment,allowIn:!0,allowCall:!0})),c>b+1&&d.push(","+t);a.rest&&(a.params.length&&d.push(","+t),d.push("..."),d.push(eb(a.rest,{precedence:f.Assignment,allowIn:!0,allowCall:!0}))),d.push(")")}else d=[eb(a.params[0])];return d}function hb(a){var b,c;return b=gb(a),a.type===e.ArrowFunctionExpression&&(b.push(t),b.push("=>")),a.expression?(b.push(t),c=ob(a.body,{precedence:f.Assignment,allowIn:!0,allowCall:!0}),"{"===c.toString().charAt(0)&&(c=["(",c,")"]),b.push(c)):b.push(ab(a.body,!1,!0)),b}function ib(a,b,c){var d=["for"+t+"("];return W(function(){b.left.type===e.VariableDeclaration?W(function(){d.push(b.left.kind+T()),d.push(qb(b.left.declarations[0],{allowIn:!1}))}):d.push(ob(b.left,{precedence:f.Call,allowIn:!0,allowCall:!0})),d=U(d,a),d=[U(d,ob(b.right,{precedence:f.Sequence,allowIn:!0,allowCall:!0})),")"]}),d.push(ab(b.body,c)),d}function jb(a,b,c){function d(){for(h=a.declarations[0],y.comment&&h.leadingComments?(e.push("\n"),e.push(V(qb(h,{allowIn:c})))):(e.push(T()),e.push(qb(h,{allowIn:c}))),f=1,g=a.declarations.length;g>f;++f)h=a.declarations[f],y.comment&&h.leadingComments?(e.push(","+s),e.push(V(qb(h,{allowIn:c})))):(e.push(","+t),e.push(qb(h,{allowIn:c})))}var e,f,g,h;return e=[a.kind],a.declarations.length>1?W(d):d(),e.push(b),e}function kb(a){var b=["{",s];return W(function(c){var d,g;for(d=0,g=a.body.length;g>d;++d)b.push(c),b.push(ob(a.body[d],{precedence:f.Sequence,allowIn:!0,allowCall:!0,type:e.Property})),g>d+1&&b.push(s)}),I(S(b).toString())||b.push(s),b.push(l),b.push("}"),b}function lb(a){var b;if(a.hasOwnProperty("raw")&&z&&y.raw)try{if(b=z(a.raw).body[0].expression,b.type===e.Literal&&b.value===a.value)return a.raw}catch(a){}return null===a.value?"null":"string"==typeof a.value?Q(a.value):"number"==typeof a.value?K(a.value):"boolean"==typeof a.value?a.value?"true":"false":M(a.value)}function mb(a,b,c){var d=[];return b&&d.push("["),d.push(ob(a,c)),b&&d.push("]"),d}function nb(a,b,c,d){var e,g;return g=d.precedence,e=d.allowIn||f.Assignment<g,_([ob(a,{precedence:f.Call,allowIn:e,allowCall:!0}),t+c+t,ob(b,{precedence:f.Assignment,allowIn:e,allowCall:!0})],f.Assignment,g)}function ob(a,b){var c,d,h,i,k,m,n,o,p,q,r,v,w,x,z,A;if(d=b.precedence,v=b.allowIn,w=b.allowCall,h=a.type||b.type,y.verbatim&&a.hasOwnProperty(y.verbatim))return db(a,b);switch(h){case e.SequenceExpression:for(c=[],v|=f.Sequence<d,k=0,m=a.expressions.length;m>k;++k)c.push(ob(a.expressions[k],{precedence:f.Assignment,allowIn:v,allowCall:!0})),m>k+1&&c.push(","+t);c=_(c,f.Sequence,d);break;case e.AssignmentExpression:c=nb(a.left,a.right,a.operator,b);break;case e.ArrowFunctionExpression:v|=f.ArrowFunction<d,c=_(hb(a),f.ArrowFunction,d);break;case e.ConditionalExpression:v|=f.Conditional<d,c=_([ob(a.test,{precedence:f.LogicalOR,allowIn:v,allowCall:!0}),t+"?"+t,ob(a.consequent,{precedence:f.Assignment,allowIn:v,allowCall:!0}),t+":"+t,ob(a.alternate,{precedence:f.Assignment,allowIn:v,allowCall:!0})],f.Conditional,d);break;case e.LogicalExpression:case e.BinaryExpression:i=g[a.operator],v|=d>i,n=ob(a.left,{precedence:i,allowIn:v,allowCall:!0}),q=n.toString(),c=47===q.charCodeAt(q.length-1)&&j.code.isIdentifierPart(a.operator.charCodeAt(0))?[n,T(),a.operator]:U(n,a.operator),n=ob(a.right,{precedence:i+1,allowIn:v,allowCall:!0}),"/"===a.operator&&"/"===n.toString().charAt(0)||"<"===a.operator.slice(-1)&&"!--"===n.toString().slice(0,3)?(c.push(T()),c.push(n)):c=U(c,n),c="in"!==a.operator||v?_(c,i,d):["(",c,")"];break;case e.CallExpression:for(c=[ob(a.callee,{precedence:f.Call,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!1})],c.push("("),k=0,m=a.arguments.length;m>k;++k)c.push(ob(a.arguments[k],{precedence:f.Assignment,allowIn:!0,allowCall:!0})),m>k+1&&c.push(","+t);c.push(")"),c=w?_(c,f.Call,d):["(",c,")"];break;case e.NewExpression:if(m=a.arguments.length,x=void 0===b.allowUnparenthesizedNew||b.allowUnparenthesizedNew,c=U("new",ob(a.callee,{precedence:f.New,allowIn:!0,allowCall:!1,allowUnparenthesizedNew:x&&!u&&0===m})),!x||u||m>0){for(c.push("("),k=0;m>k;++k)c.push(ob(a.arguments[k],{precedence:f.Assignment,allowIn:!0,allowCall:!0})),m>k+1&&c.push(","+t);c.push(")")}c=_(c,f.New,d);break;case e.MemberExpression:c=[ob(a.object,{precedence:f.Call,allowIn:!0,allowCall:w,allowUnparenthesizedNew:!1})],a.computed?(c.push("["),c.push(ob(a.property,{precedence:f.Sequence,allowIn:!0,allowCall:w})),c.push("]")):(a.object.type===e.Literal&&"number"==typeof a.object.value&&(n=S(c).toString(),n.indexOf(".")<0&&!/[eExX]/.test(n)&&j.code.isDecimalDigit(n.charCodeAt(n.length-1))&&!(n.length>=2&&48===n.charCodeAt(0))&&c.push(".")),c.push("."),c.push(eb(a.property))),c=_(c,f.Member,d);break;case e.UnaryExpression:n=ob(a.argument,{precedence:f.Unary,allowIn:!0,allowCall:!0}),""===t?c=U(a.operator,n):(c=[a.operator],a.operator.length>2?c=U(c,n):(q=S(c).toString(),p=q.charCodeAt(q.length-1),r=n.toString().charCodeAt(0),(43===p||45===p)&&p===r||j.code.isIdentifierPart(p)&&j.code.isIdentifierPart(r)?(c.push(T()),c.push(n)):c.push(n))),c=_(c,f.Unary,d);break;case e.YieldExpression:c=a.delegate?"yield*":"yield",a.argument&&(c=U(c,ob(a.argument,{precedence:f.Yield,allowIn:!0,allowCall:!0}))),c=_(c,f.Yield,d);break;case e.UpdateExpression:c=a.prefix?_([a.operator,ob(a.argument,{precedence:f.Unary,allowIn:!0,allowCall:!0})],f.Unary,d):_([ob(a.argument,{precedence:f.Postfix,allowIn:!0,allowCall:!0}),a.operator],f.Postfix,d);break;case e.FunctionExpression:A=a.generator&&!y.moz.starlessGenerator,c=A?"function*":"function",c=a.id?[c,A?t:T(),eb(a.id),hb(a)]:[c+t,hb(a)];break;case e.ExportBatchSpecifier:c="*";break;case e.ArrayPattern:case e.ArrayExpression:if(!a.elements.length){c="[]";break}o=a.elements.length>1,c=["[",o?s:""],W(function(b){for(k=0,m=a.elements.length;m>k;++k)a.elements[k]?(c.push(o?b:""),c.push(ob(a.elements[k],{precedence:f.Assignment,allowIn:!0,allowCall:!0}))):(o&&c.push(b),k+1===m&&c.push(",")),m>k+1&&c.push(","+(o?s:t))}),o&&!I(S(c).toString())&&c.push(s),c.push(o?l:""),c.push("]");break;case e.ClassExpression:c=["class"],a.id&&(c=U(c,ob(a.id,{allowIn:!0,allowCall:!0}))),a.superClass&&(n=U("extends",ob(a.superClass,{precedence:f.Assignment,allowIn:!0,allowCall:!0})),c=U(c,n)),c.push(t),c.push(qb(a.body,{semicolonOptional:!0,directiveContext:!1}));break;case e.MethodDefinition:c=a["static"]?["static"+t]:[],"get"===a.kind||"set"===a.kind?c=U(c,[U(a.kind,mb(a.key,a.computed,{precedence:f.Sequence,allowIn:!0,allowCall:!0})),hb(a.value)]):(n=[mb(a.key,a.computed,{precedence:f.Sequence,allowIn:!0,allowCall:!0}),hb(a.value)],a.value.generator?(c.push("*"),c.push(n)):c=U(c,n));break;case e.Property:"get"===a.kind||"set"===a.kind?c=[a.kind,T(),mb(a.key,a.computed,{precedence:f.Sequence,allowIn:!0,allowCall:!0}),hb(a.value)]:a.shorthand?c=mb(a.key,a.computed,{precedence:f.Sequence,allowIn:!0,allowCall:!0}):a.method?(c=[],a.value.generator&&c.push("*"),c.push(mb(a.key,a.computed,{precedence:f.Sequence,allowIn:!0,allowCall:!0})),c.push(hb(a.value))):c=[mb(a.key,a.computed,{precedence:f.Sequence,allowIn:!0,allowCall:!0}),":"+t,ob(a.value,{precedence:f.Assignment,allowIn:!0,allowCall:!0})];break;case e.ObjectExpression:if(!a.properties.length){c="{}";break}if(o=a.properties.length>1,W(function(){n=ob(a.properties[0],{precedence:f.Sequence,allowIn:!0,allowCall:!0,type:e.Property})}),!o&&!H(S(n).toString())){c=["{",t,n,t,"}"];break}W(function(b){if(c=["{",s,b,n],o)for(c.push(","+s),k=1,m=a.properties.length;m>k;++k)c.push(b),c.push(ob(a.properties[k],{precedence:f.Sequence,allowIn:!0,allowCall:!0,type:e.Property})),m>k+1&&c.push(","+s)}),I(S(c).toString())||c.push(s),c.push(l),c.push("}");break;case e.ObjectPattern:if(!a.properties.length){c="{}";break}if(o=!1,1===a.properties.length)z=a.properties[0],z.value.type!==e.Identifier&&(o=!0);else for(k=0,m=a.properties.length;m>k;++k)if(z=a.properties[k],!z.shorthand){o=!0;break}c=["{",o?s:""],W(function(b){for(k=0,m=a.properties.length;m>k;++k)c.push(o?b:""),c.push(ob(a.properties[k],{precedence:f.Sequence,allowIn:!0,allowCall:!0})),m>k+1&&c.push(","+(o?s:t))}),o&&!I(S(c).toString())&&c.push(s),c.push(o?l:""),c.push("}");break;case e.ThisExpression:c="this";break;case e.Identifier:c=eb(a);break;case e.ImportSpecifier:case e.ExportSpecifier:c=[a.id.name],a.name&&c.push(T()+"as"+T()+a.name.name);break;case e.Literal:c=lb(a);break;case e.GeneratorExpression:case e.ComprehensionExpression:c=h===e.GeneratorExpression?["("]:["["],y.moz.comprehensionExpressionStartsWithAssignment&&(n=ob(a.body,{precedence:f.Assignment,allowIn:!0,allowCall:!0}),c.push(n)),a.blocks&&W(function(){for(k=0,m=a.blocks.length;m>k;++k)n=ob(a.blocks[k],{precedence:f.Sequence,allowIn:!0,allowCall:!0}),k>0||y.moz.comprehensionExpressionStartsWithAssignment?c=U(c,n):c.push(n)}),a.filter&&(c=U(c,"if"+t),n=ob(a.filter,{precedence:f.Sequence,allowIn:!0,allowCall:!0}),c=U(c,["(",n,")"])),y.moz.comprehensionExpressionStartsWithAssignment||(n=ob(a.body,{precedence:f.Assignment,allowIn:!0,allowCall:!0}),c=U(c,n)),c.push(h===e.GeneratorExpression?")":"]");break;case e.ComprehensionBlock:n=a.left.type===e.VariableDeclaration?[a.left.kind,T(),qb(a.left.declarations[0],{allowIn:!1})]:ob(a.left,{precedence:f.Call,allowIn:!0,allowCall:!0}),n=U(n,a.of?"of":"in"),n=U(n,ob(a.right,{precedence:f.Sequence,allowIn:!0,allowCall:!0})),c=["for"+t+"(",n,")"];break;case e.SpreadElement:c=["...",ob(a.argument,{precedence:f.Assignment,allowIn:!0,allowCall:!0})];break;case e.TaggedTemplateExpression:c=[ob(a.tag,{precedence:f.Call,allowIn:!0,allowCall:w,allowUnparenthesizedNew:!1}),ob(a.quasi,{precedence:f.Primary})],c=_(c,f.TaggedTemplate,d);break;case e.TemplateElement:c=a.value.raw;break;case e.TemplateLiteral:for(c=["`"],k=0,m=a.quasis.length;m>k;++k)c.push(ob(a.quasis[k],{precedence:f.Primary,allowIn:!0,allowCall:!0})),m>k+1&&(c.push("${"+t),c.push(ob(a.expressions[k],{precedence:f.Sequence,allowIn:!0,allowCall:!0})),c.push(t+"}"));c.push("`");break;default:throw new Error("Unknown expression type: "+a.type)}return y.comment&&(c=$(a,c)),S(c,a)}function pb(a,b){var c,d;return 0===a.specifiers.length?["import",t,lb(a.source),b]:(c=["import"],d=0,a.specifiers[0]["default"]&&(c=U(c,[a.specifiers[0].id.name]),++d),a.specifiers[d]&&(0!==d&&c.push(","),c.push(t+"{"),a.specifiers.length-d===1?(c.push(t),c.push(ob(a.specifiers[d],{precedence:f.Sequence,allowIn:!0,allowCall:!0})),c.push(t+"}"+t)):(W(function(b){var e,g;for(c.push(s),e=d,g=a.specifiers.length;g>e;++e)c.push(b),c.push(ob(a.specifiers[e],{precedence:f.Sequence,allowIn:!0,allowCall:!0})),g>e+1&&c.push(","+s)}),I(S(c).toString())||c.push(s),c.push(l+"}"+t))),c=U(c,["from"+t,lb(a.source),b]))}function qb(a,b){var c,d,g,h,i,j,m,n,o,p;switch(h=!0,n=";",i=!1,j=!1,b&&(h=void 0===b.allowIn||b.allowIn,!v&&b.semicolonOptional===!0&&(n=""),i=b.functionBody,j=b.directiveContext),a.type){case e.BlockStatement:g=["{",s],W(function(){for(c=0,d=a.body.length;d>c;++c)m=V(qb(a.body[c],{semicolonOptional:c===d-1,directiveContext:i})),g.push(m),I(S(m).toString())||g.push(s)}),g.push(V("}"));break;case e.BreakStatement:g=a.label?"break "+a.label.name+n:"break"+n;break;case e.ContinueStatement:g=a.label?"continue "+a.label.name+n:"continue"+n;break;case e.ClassBody:g=kb(a);break;case e.ClassDeclaration:g=["class "+a.id.name],a.superClass&&(m=U("extends",ob(a.superClass,{precedence:f.Assignment,allowIn:!0,allowCall:!0})),g=U(g,m)),g.push(t),g.push(qb(a.body,{semicolonOptional:!0,directiveContext:!1}));break;case e.DirectiveStatement:g=y.raw&&a.raw?a.raw+n:P(a.directive)+n;break;case e.DoWhileStatement:g=U("do",ab(a.body)),g=bb(a.body,g),g=U(g,["while"+t+"(",ob(a.test,{precedence:f.Sequence,allowIn:!0,allowCall:!0}),")"+n]);break;case e.CatchClause:W(function(){var b;g=["catch"+t+"(",ob(a.param,{precedence:f.Sequence,allowIn:!0,allowCall:!0}),")"],a.guard&&(b=ob(a.guard,{precedence:f.Sequence,allowIn:!0,allowCall:!0}),g.splice(2,0," if ",b))}),g.push(ab(a.body));break;case e.DebuggerStatement:g="debugger"+n;break;case e.EmptyStatement:g=";";break;case e.ExportDeclaration:if(g=["export"],a["default"]){g=U(g,"default"),g=U(g,ob(a.declaration,{precedence:f.Assignment,allowIn:!0,allowCall:!0})+n);break}if(a.specifiers){0===a.specifiers.length?g=U(g,"{"+t+"}"):a.specifiers[0].type===e.ExportBatchSpecifier?g=U(g,ob(a.specifiers[0],{precedence:f.Sequence,allowIn:!0,allowCall:!0})):(g=U(g,"{"),W(function(b){var c,d;for(g.push(s),c=0,d=a.specifiers.length;d>c;++c)g.push(b),g.push(ob(a.specifiers[c],{precedence:f.Sequence,allowIn:!0,allowCall:!0})),d>c+1&&g.push(","+s)}),I(S(g).toString())||g.push(s),g.push(l+"}")),a.source?g=U(g,["from"+t,lb(a.source),n]):g.push(n);break}a.declaration&&(g=U(g,qb(a.declaration,{semicolonOptional:""===n})));break;case e.ExpressionStatement:g=[ob(a.expression,{precedence:f.Sequence,allowIn:!0,allowCall:!0})],m=S(g).toString(),"{"===m.charAt(0)||"class"===m.slice(0,5)&&" {".indexOf(m.charAt(5))>=0||"function"===m.slice(0,8)&&"* (".indexOf(m.charAt(8))>=0||x&&j&&a.expression.type===e.Literal&&"string"==typeof a.expression.value?g=["(",g,")"+n]:g.push(n);break;case e.ImportDeclaration:g=pb(a,n);break;case e.VariableDeclarator:g=a.init?[ob(a.id,{precedence:f.Assignment,allowIn:h,allowCall:!0}),t,"=",t,ob(a.init,{precedence:f.Assignment,allowIn:h,allowCall:!0})]:fb(a.id,{precedence:f.Assignment,allowIn:h});break;case e.VariableDeclaration:g=jb(a,n,h);break;case e.ThrowStatement:g=[U("throw",ob(a.argument,{precedence:f.Sequence,allowIn:!0,allowCall:!0})),n];break;case e.TryStatement:if(g=["try",ab(a.block)],g=bb(a.block,g),a.handlers)for(c=0,d=a.handlers.length;d>c;++c)g=U(g,qb(a.handlers[c])),(a.finalizer||c+1!==d)&&(g=bb(a.handlers[c].body,g));else{for(p=a.guardedHandlers||[],c=0,d=p.length;d>c;++c)g=U(g,qb(p[c])),(a.finalizer||c+1!==d)&&(g=bb(p[c].body,g));if(a.handler)if(k(a.handler))for(c=0,d=a.handler.length;d>c;++c)g=U(g,qb(a.handler[c])),(a.finalizer||c+1!==d)&&(g=bb(a.handler[c].body,g));else g=U(g,qb(a.handler)),a.finalizer&&(g=bb(a.handler.body,g))}a.finalizer&&(g=U(g,["finally",ab(a.finalizer)]));break;case e.SwitchStatement:if(W(function(){g=["switch"+t+"(",ob(a.discriminant,{precedence:f.Sequence,allowIn:!0,allowCall:!0}),")"+t+"{"+s]}),a.cases)for(c=0,d=a.cases.length;d>c;++c)m=V(qb(a.cases[c],{semicolonOptional:c===d-1})),g.push(m),I(S(m).toString())||g.push(s);g.push(V("}"));break;case e.SwitchCase:W(function(){for(g=a.test?[U("case",ob(a.test,{precedence:f.Sequence,allowIn:!0,allowCall:!0})),":"]:["default:"],c=0,d=a.consequent.length,d&&a.consequent[0].type===e.BlockStatement&&(m=ab(a.consequent[0]),g.push(m),c=1),c!==d&&!I(S(g).toString())&&g.push(s);d>c;++c)m=V(qb(a.consequent[c],{semicolonOptional:c===d-1&&""===n})),g.push(m),c+1!==d&&!I(S(m).toString())&&g.push(s)});break;case e.IfStatement:W(function(){g=["if"+t+"(",ob(a.test,{precedence:f.Sequence,allowIn:!0,allowCall:!0}),")"]}),a.alternate?(g.push(ab(a.consequent)),g=bb(a.consequent,g),g=a.alternate.type===e.IfStatement?U(g,["else ",qb(a.alternate,{semicolonOptional:""===n})]):U(g,U("else",ab(a.alternate,""===n)))):g.push(ab(a.consequent,""===n));break;case e.ForStatement:W(function(){g=["for"+t+"("],a.init?a.init.type===e.VariableDeclaration?g.push(qb(a.init,{allowIn:!1})):(g.push(ob(a.init,{precedence:f.Sequence,allowIn:!1,allowCall:!0})),g.push(";")):g.push(";"),a.test?(g.push(t),g.push(ob(a.test,{precedence:f.Sequence,allowIn:!0,allowCall:!0})),g.push(";")):g.push(";"),a.update?(g.push(t),g.push(ob(a.update,{precedence:f.Sequence,allowIn:!0,allowCall:!0})),g.push(")")):g.push(")")}),g.push(ab(a.body,""===n));break;case e.ForInStatement:g=ib("in",a,""===n);break;case e.ForOfStatement:g=ib("of",a,""===n);break;case e.LabeledStatement:g=[a.label.name+":",ab(a.body,""===n)];break;case e.ModuleDeclaration:g=["module",T(),a.id.name,T(),"from",t,lb(a.source),n];break;case e.Program:for(d=a.body.length,g=[w&&d>0?"\n":""],c=0;d>c;++c)m=V(qb(a.body[c],{semicolonOptional:!w&&c===d-1,directiveContext:!0})),g.push(m),d>c+1&&!I(S(m).toString())&&g.push(s);break;case e.FunctionDeclaration:o=a.generator&&!y.moz.starlessGenerator,g=[o?"function*":"function",o?t:T(),eb(a.id),hb(a)];break;case e.ReturnStatement:g=a.argument?[U("return",ob(a.argument,{precedence:f.Sequence,allowIn:!0,allowCall:!0})),n]:["return"+n];break;case e.WhileStatement:W(function(){g=["while"+t+"(",ob(a.test,{precedence:f.Sequence,allowIn:!0,allowCall:!0}),")"]}),g.push(ab(a.body,""===n));break;case e.WithStatement:W(function(){g=["with"+t+"(",ob(a.object,{precedence:f.Sequence,allowIn:!0,allowCall:!0}),")"]}),g.push(ab(a.body,""===n));break;default:throw new Error("Unknown statement type: "+a.type)}return y.comment&&(g=$(a,g)),m=S(g).toString(),a.type===e.Program&&!w&&""===s&&"\n"===m.charAt(m.length-1)&&(g=A?S(g).replaceRight(/\s+$/,""):m.replace(/\s+$/,"")),S(g,a)}function rb(a){if(E(a))return qb(a);if(D(a))return ob(a,{precedence:f.Sequence,allowIn:!0,allowCall:!0});throw new Error("Unknown node type: "+a.type)}function sb(e,f){var g,i,j=F();return null!=f?("string"==typeof f.indent&&(j.format.indent.style=f.indent),"number"==typeof f.base&&(j.format.indent.base=f.base),f=J(j,f),m=f.format.indent.style,l="string"==typeof f.base?f.base:G(m,f.format.indent.base)):(f=j,m=f.format.indent.style,l=G(m,f.format.indent.base)),n=f.format.json,o=f.format.renumber,p=n?!1:f.format.hexadecimal,q=n?"double":f.format.quotes,r=f.format.escapeless,s=f.format.newline,t=f.format.space,f.format.compact&&(s=t=m=l=""),u=f.format.parentheses,v=f.format.semicolons,w=f.format.safeConcatenation,x=f.directive,z=n?null:f.parse,A=f.sourceMap,y=f,A&&(h=d.browser?a.sourceMap.SourceNode:b("/node_modules/source-map/lib/source-map.js",c).SourceNode),g=rb(e),A?(i=g.toStringWithSourceMap({file:f.file,sourceRoot:f.sourceMapRoot}),f.sourceContent&&i.map.setSourceContent(f.sourceMap,f.sourceContent),f.sourceMapWithCode?i:i.map.toString()):(i={code:g.toString(),map:null},f.sourceMapWithCode?i:i.code)}i=b("/node_modules/estraverse/estraverse.js",c),j=b("/node_modules/esutils/lib/utils.js",c),e={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportBatchSpecifier:"ExportBatchSpecifier",ExportDeclaration:"ExportDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportSpecifier:"ImportSpecifier",ImportDeclaration:"ImportDeclaration",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ModuleDeclaration:"ModuleDeclaration",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},f={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Unary:13,Postfix:14,Call:15,New:16,TaggedTemplate:17,Member:18,Primary:19},g={"||":f.LogicalOR,"&&":f.LogicalAND,"|":f.BitwiseOR,"^":f.BitwiseXOR,"&":f.BitwiseAND,"==":f.Equality,"!=":f.Equality,"===":f.Equality,"!==":f.Equality,is:f.Equality,isnt:f.Equality,"<":f.Relational,">":f.Relational,"<=":f.Relational,">=":f.Relational,"in":f.Relational,"instanceof":f.Relational,"<<":f.BitwiseSHIFT,">>":f.BitwiseSHIFT,">>>":f.BitwiseSHIFT,"+":f.Additive,"-":f.Additive,"*":f.Multiplicative,"%":f.Multiplicative,"/":f.Multiplicative},k=Array.isArray,k||(k=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),B={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},C=F().format,d.version=b("/package.json",c).version,d.generate=sb,d.attachComments=i.attachComments,d.Precedence=J({},f),d.browser=!1,d.FORMAT_MINIFY=B,d.FORMAT_DEFAULTS=C}()}),b.define("/package.json",function(a){a.exports={name:"escodegen",description:"ECMAScript code generator",homepage:"http://github.com/Constellation/escodegen",main:"escodegen.js",bin:{esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},version:"1.4.1",engines:{node:">=0.10.0"},maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository:{type:"git",url:"http://github.com/Constellation/escodegen.git"},dependencies:{estraverse:"^1.5.1",esutils:"^1.1.4",esprima:"^1.2.2"},optionalDependencies:{"source-map":"~0.1.37"},devDependencies:{"esprima-moz":"*",semver:"^3.0.1",bluebird:"^2.2.2","jshint-stylish":"^0.4.0",chai:"^1.9.1","gulp-mocha":"^1.0.0","gulp-eslint":"^0.1.8",gulp:"^3.8.6","bower-registry-client":"^0.2.1","gulp-jshint":"^1.8.0","commonjs-everywhere":"^0.9.7"},licenses:[{type:"BSD",url:"http://github.com/Constellation/escodegen/raw/master/LICENSE.BSD"}],scripts:{test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"}}}),b.define("/node_modules/source-map/lib/source-map.js",function(a,c){c.SourceMapGenerator=b("/node_modules/source-map/lib/source-map/source-map-generator.js",a).SourceMapGenerator,c.SourceMapConsumer=b("/node_modules/source-map/lib/source-map/source-map-consumer.js",a).SourceMapConsumer,c.SourceNode=b("/node_modules/source-map/lib/source-map/source-node.js",a).SourceNode}),b.define("/node_modules/source-map/lib/source-map/source-node.js",function(a){if("function"!=typeof c)var c=b("/node_modules/source-map/node_modules/amdefine/amdefine.js",a)(a,b);c(function(a,b,c){function d(a,b,c,d,e){this.children=[],this.sourceContents={},this.line=null==a?null:a,this.column=null==b?null:b,this.source=null==c?null:c,this.name=null==e?null:e,null!=d&&this.add(d)}var e=a("/node_modules/source-map/lib/source-map/source-map-generator.js",c).SourceMapGenerator,f=a("/node_modules/source-map/lib/source-map/util.js",c),g=/(\r?\n)/,h=/\r\n|[\s\S]/g;
d.fromStringWithSourceMap=function(a,b,c){function e(a,b){if(null===a||void 0===a.source)h.add(b);else{var e=c?f.join(c,a.source):a.source;h.add(new d(a.originalLine,a.originalColumn,e,b,a.name))}}var h=new d,i=a.split(g),j=function(){var a=i.shift(),b=i.shift()||"";return a+b},k=1,l=0,m=null;return b.eachMapping(function(a){if(null!==m){if(!(k<a.generatedLine)){var b=i[0],c=b.substr(0,a.generatedColumn-l);return i[0]=b.substr(a.generatedColumn-l),l=a.generatedColumn,e(m,c),m=a,void 0}var c="";e(m,j()),k++,l=0}for(;k<a.generatedLine;)h.add(j()),k++;if(l<a.generatedColumn){var b=i[0];h.add(b.substr(0,a.generatedColumn)),i[0]=b.substr(a.generatedColumn),l=a.generatedColumn}m=a},this),i.length>0&&(m&&e(m,j()),h.add(i.join(""))),b.sources.forEach(function(a){var d=b.sourceContentFor(a);null!=d&&(null!=c&&(a=f.join(c,a)),h.setSourceContent(a,d))}),h},d.prototype.add=function(a){if(Array.isArray(a))a.forEach(function(a){this.add(a)},this);else{if(!(a instanceof d||"string"==typeof a))throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+a);a&&this.children.push(a)}return this},d.prototype.prepend=function(a){if(Array.isArray(a))for(var b=a.length-1;b>=0;b--)this.prepend(a[b]);else{if(!(a instanceof d||"string"==typeof a))throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+a);this.children.unshift(a)}return this},d.prototype.walk=function(a){for(var b,c=0,e=this.children.length;e>c;c++)b=this.children[c],b instanceof d?b.walk(a):""!==b&&a(b,{source:this.source,line:this.line,column:this.column,name:this.name})},d.prototype.join=function(a){var b,c,d=this.children.length;if(d>0){for(b=[],c=0;d-1>c;c++)b.push(this.children[c]),b.push(a);b.push(this.children[c]),this.children=b}return this},d.prototype.replaceRight=function(a,b){var c=this.children[this.children.length-1];return c instanceof d?c.replaceRight(a,b):"string"==typeof c?this.children[this.children.length-1]=c.replace(a,b):this.children.push("".replace(a,b)),this},d.prototype.setSourceContent=function(a,b){this.sourceContents[f.toSetString(a)]=b},d.prototype.walkSourceContents=function(a){for(var b=0,c=this.children.length;c>b;b++)this.children[b]instanceof d&&this.children[b].walkSourceContents(a);for(var e=Object.keys(this.sourceContents),b=0,c=e.length;c>b;b++)a(f.fromSetString(e[b]),this.sourceContents[e[b]])},d.prototype.toString=function(){var a="";return this.walk(function(b){a+=b}),a},d.prototype.toStringWithSourceMap=function(a){var b={code:"",line:1,column:0},c=new e(a),d=!1,f=null,i=null,j=null,k=null;return this.walk(function(a,e){b.code+=a,null!==e.source&&null!==e.line&&null!==e.column?((f!==e.source||i!==e.line||j!==e.column||k!==e.name)&&c.addMapping({source:e.source,original:{line:e.line,column:e.column},generated:{line:b.line,column:b.column},name:e.name}),f=e.source,i=e.line,j=e.column,k=e.name,d=!0):d&&(c.addMapping({generated:{line:b.line,column:b.column}}),f=null,d=!1),a.match(h).forEach(function(a,h,i){g.test(a)?(b.line++,b.column=0,h+1===i.length?(f=null,d=!1):d&&c.addMapping({source:e.source,original:{line:e.line,column:e.column},generated:{line:b.line,column:b.column},name:e.name})):b.column+=a.length})}),this.walkSourceContents(function(a,b){c.setSourceContent(a,b)}),{code:b.code,map:c}},b.SourceNode=d})}),b.define("/node_modules/source-map/lib/source-map/util.js",function(a){if("function"!=typeof c)var c=b("/node_modules/source-map/node_modules/amdefine/amdefine.js",a)(a,b);c(function(a,b){function c(a,b,c){if(b in a)return a[b];if(3===arguments.length)return c;throw new Error('"'+b+'" is a required argument.')}function d(a){var b=a.match(n);return b?{scheme:b[1],auth:b[2],host:b[3],port:b[4],path:b[5]}:null}function e(a){var b="";return a.scheme&&(b+=a.scheme+":"),b+="//",a.auth&&(b+=a.auth+"@"),a.host&&(b+=a.host),a.port&&(b+=":"+a.port),a.path&&(b+=a.path),b}function f(a){var b=a,c=d(a);if(c){if(!c.path)return a;b=c.path}for(var f,g="/"===b.charAt(0),h=b.split(/\/+/),i=0,j=h.length-1;j>=0;j--)f=h[j],"."===f?h.splice(j,1):".."===f?i++:i>0&&(""===f?(h.splice(j+1,i),i=0):(h.splice(j,2),i--));return b=h.join("/"),""===b&&(b=g?"/":"."),c?(c.path=b,e(c)):b}function g(a,b){""===a&&(a="."),""===b&&(b=".");var c=d(b),g=d(a);if(g&&(a=g.path||"/"),c&&!c.scheme)return g&&(c.scheme=g.scheme),e(c);if(c||b.match(o))return b;if(g&&!g.host&&!g.path)return g.host=b,e(g);var h="/"===b.charAt(0)?b:f(a.replace(/\/+$/,"")+"/"+b);return g?(g.path=h,e(g)):h}function h(a,b){""===a&&(a="."),a=a.replace(/\/$/,"");var c=d(a);return"/"==b.charAt(0)&&c&&"/"==c.path?b.slice(1):0===b.indexOf(a+"/")?b.substr(a.length+1):b}function i(a){return"$"+a}function j(a){return a.substr(1)}function k(a,b){var c=a||"",d=b||"";return(c>d)-(d>c)}function l(a,b,c){var d;return d=k(a.source,b.source),d?d:(d=a.originalLine-b.originalLine,d?d:(d=a.originalColumn-b.originalColumn,d||c?d:(d=k(a.name,b.name),d?d:(d=a.generatedLine-b.generatedLine,d?d:a.generatedColumn-b.generatedColumn))))}function m(a,b,c){var d;return d=a.generatedLine-b.generatedLine,d?d:(d=a.generatedColumn-b.generatedColumn,d||c?d:(d=k(a.source,b.source),d?d:(d=a.originalLine-b.originalLine,d?d:(d=a.originalColumn-b.originalColumn,d?d:k(a.name,b.name)))))}b.getArg=c;var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,o=/^data:.+\,.+$/;b.urlParse=d,b.urlGenerate=e,b.normalize=f,b.join=g,b.relative=h,b.toSetString=i,b.fromSetString=j,b.compareByOriginalPositions=l,b.compareByGeneratedPositions=m})}),b.define("/node_modules/source-map/node_modules/amdefine/amdefine.js",function(a,d,e,f){"use strict";function g(a,d){function e(a){var b,c;for(b=0;a[b];b+=1)if(c=a[b],"."===c)a.splice(b,1),b-=1;else if(".."===c){if(1===b&&(".."===a[2]||".."===a[0]))break;b>0&&(a.splice(b-1,2),b-=2)}}function g(a,b){var c;return a&&"."===a.charAt(0)&&b&&(c=b.split("/"),c=c.slice(0,c.length-1),c=c.concat(a.split("/")),e(c),a=c.join("/")),a}function h(a){return function(b){return g(b,a)}}function i(a){function b(b){o[a]=b}return b.fromText=function(){throw new Error("amdefine does not implement load.fromText")},b}function j(b,c,e){var g,h,i,j;if(b)h=o[b]={},i={id:b,uri:f,exports:h},g=l(d,h,i,b);else{if(p)throw new Error("amdefine with no module ID cannot be called more than once per file.");p=!0,h=a.exports,i=a,g=l(d,h,i,a.id)}c&&(c=c.map(function(a){return g(a)})),j="function"==typeof e?e.apply(i.exports,c):e,void 0!==j&&(i.exports=j,b&&(o[b]=i.exports))}function k(a,b,c){Array.isArray(a)?(c=b,b=a,a=void 0):"string"!=typeof a&&(c=a,a=b=void 0),b&&!Array.isArray(b)&&(c=b,b=void 0),b||(b=["require","exports","module"]),a?n[a]=[a,b,c]:j(a,b,c)}var l,m,n={},o={},p=!1,q=b("path",a);return l=function(a,b,d,e){function f(f,g){return"string"==typeof f?m(a,b,d,f,e):(f=f.map(function(c){return m(a,b,d,c,e)}),void c.nextTick(function(){g.apply(null,f)}))}return f.toUrl=function(a){return 0===a.indexOf(".")?g(a,q.dirname(d.filename)):a},f},d=d||function(){return a.require.apply(a,arguments)},m=function(a,b,c,d,e){var f,k,p=d.indexOf("!"),q=d;if(-1===p){if(d=g(d,e),"require"===d)return l(a,b,c,e);if("exports"===d)return b;if("module"===d)return c;if(o.hasOwnProperty(d))return o[d];if(n[d])return j.apply(null,n[d]),o[d];if(a)return a(q);throw new Error("No module with ID: "+d)}return f=d.substring(0,p),d=d.substring(p+1,d.length),k=m(a,b,c,f,e),d=k.normalize?k.normalize(d,h(e)):g(d,e),o[d]?o[d]:(k.load(d,l(a,b,c,e),i(d),{}),o[d])},k.require=function(a){return o[a]?o[a]:n[a]?(j.apply(null,n[a]),o[a]):void 0},k.amd={},k}a.exports=g}),b.define("/node_modules/source-map/lib/source-map/source-map-generator.js",function(a){if("function"!=typeof c)var c=b("/node_modules/source-map/node_modules/amdefine/amdefine.js",a)(a,b);c(function(a,b,c){function d(a){a||(a={}),this._file=f.getArg(a,"file",null),this._sourceRoot=f.getArg(a,"sourceRoot",null),this._sources=new g,this._names=new g,this._mappings=[],this._sourcesContents=null}var e=a("/node_modules/source-map/lib/source-map/base64-vlq.js",c),f=a("/node_modules/source-map/lib/source-map/util.js",c),g=a("/node_modules/source-map/lib/source-map/array-set.js",c).ArraySet;d.prototype._version=3,d.fromSourceMap=function(a){var b=a.sourceRoot,c=new d({file:a.file,sourceRoot:b});return a.eachMapping(function(a){var d={generated:{line:a.generatedLine,column:a.generatedColumn}};null!=a.source&&(d.source=a.source,null!=b&&(d.source=f.relative(b,d.source)),d.original={line:a.originalLine,column:a.originalColumn},null!=a.name&&(d.name=a.name)),c.addMapping(d)}),a.sources.forEach(function(b){var d=a.sourceContentFor(b);null!=d&&c.setSourceContent(b,d)}),c},d.prototype.addMapping=function(a){var b=f.getArg(a,"generated"),c=f.getArg(a,"original",null),d=f.getArg(a,"source",null),e=f.getArg(a,"name",null);this._validateMapping(b,c,d,e),null!=d&&!this._sources.has(d)&&this._sources.add(d),null!=e&&!this._names.has(e)&&this._names.add(e),this._mappings.push({generatedLine:b.line,generatedColumn:b.column,originalLine:null!=c&&c.line,originalColumn:null!=c&&c.column,source:d,name:e})},d.prototype.setSourceContent=function(a,b){var c=a;null!=this._sourceRoot&&(c=f.relative(this._sourceRoot,c)),null!=b?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[f.toSetString(c)]=b):(delete this._sourcesContents[f.toSetString(c)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},d.prototype.applySourceMap=function(a,b,c){var d=b;if(null==b){if(null==a.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');d=a.file}var e=this._sourceRoot;null!=e&&(d=f.relative(e,d));var h=new g,i=new g;this._mappings.forEach(function(b){if(b.source===d&&null!=b.originalLine){var g=a.originalPositionFor({line:b.originalLine,column:b.originalColumn});null!=g.source&&(b.source=g.source,null!=c&&(b.source=f.join(c,b.source)),null!=e&&(b.source=f.relative(e,b.source)),b.originalLine=g.line,b.originalColumn=g.column,null!=g.name&&null!=b.name&&(b.name=g.name))}var j=b.source;null!=j&&!h.has(j)&&h.add(j);var k=b.name;null!=k&&!i.has(k)&&i.add(k)},this),this._sources=h,this._names=i,a.sources.forEach(function(b){var d=a.sourceContentFor(b);null!=d&&(null!=c&&(b=f.join(c,b)),null!=e&&(b=f.relative(e,b)),this.setSourceContent(b,d))},this)},d.prototype._validateMapping=function(a,b,c,d){if(!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0&&!b&&!c&&!d||a&&"line"in a&&"column"in a&&b&&"line"in b&&"column"in b&&a.line>0&&a.column>=0&&b.line>0&&b.column>=0&&c))throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:c,original:b,name:d}))},d.prototype._serializeMappings=function(){var a,b=0,c=1,d=0,g=0,h=0,i=0,j="";this._mappings.sort(f.compareByGeneratedPositions);for(var k=0,l=this._mappings.length;l>k;k++){if(a=this._mappings[k],a.generatedLine!==c)for(b=0;a.generatedLine!==c;)j+=";",c++;else if(k>0){if(!f.compareByGeneratedPositions(a,this._mappings[k-1]))continue;j+=","}j+=e.encode(a.generatedColumn-b),b=a.generatedColumn,null!=a.source&&(j+=e.encode(this._sources.indexOf(a.source)-i),i=this._sources.indexOf(a.source),j+=e.encode(a.originalLine-1-g),g=a.originalLine-1,j+=e.encode(a.originalColumn-d),d=a.originalColumn,null!=a.name&&(j+=e.encode(this._names.indexOf(a.name)-h),h=this._names.indexOf(a.name)))}return j},d.prototype._generateSourcesContent=function(a,b){return a.map(function(a){if(!this._sourcesContents)return null;null!=b&&(a=f.relative(b,a));var c=f.toSetString(a);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)},d.prototype.toJSON=function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(a.file=this._file),null!=this._sourceRoot&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},d.prototype.toString=function(){return JSON.stringify(this)},b.SourceMapGenerator=d})}),b.define("/node_modules/source-map/lib/source-map/array-set.js",function(a){if("function"!=typeof c)var c=b("/node_modules/source-map/node_modules/amdefine/amdefine.js",a)(a,b);c(function(a,b,c){function d(){this._array=[],this._set={}}var e=a("/node_modules/source-map/lib/source-map/util.js",c);d.fromArray=function(a,b){for(var c=new d,e=0,f=a.length;f>e;e++)c.add(a[e],b);return c},d.prototype.add=function(a,b){var c=this.has(a),d=this._array.length;(!c||b)&&this._array.push(a),c||(this._set[e.toSetString(a)]=d)},d.prototype.has=function(a){return Object.prototype.hasOwnProperty.call(this._set,e.toSetString(a))},d.prototype.indexOf=function(a){if(this.has(a))return this._set[e.toSetString(a)];throw new Error('"'+a+'" is not in the set.')},d.prototype.at=function(a){if(a>=0&&a<this._array.length)return this._array[a];throw new Error("No element indexed by "+a)},d.prototype.toArray=function(){return this._array.slice()},b.ArraySet=d})}),b.define("/node_modules/source-map/lib/source-map/base64-vlq.js",function(a){if("function"!=typeof c)var c=b("/node_modules/source-map/node_modules/amdefine/amdefine.js",a)(a,b);c(function(a,b,c){function d(a){return 0>a?(-a<<1)+1:(a<<1)+0}function e(a){var b=1===(1&a),c=a>>1;return b?-c:c}var f=a("/node_modules/source-map/lib/source-map/base64.js",c),g=5,h=1<<g,i=h-1,j=h;b.encode=function(a){var b,c="",e=d(a);do b=e&i,e>>>=g,e>0&&(b|=j),c+=f.encode(b);while(e>0);return c},b.decode=function(a){var b,c,d=0,h=a.length,k=0,l=0;do{if(d>=h)throw new Error("Expected more digits in base 64 VLQ value.");c=f.decode(a.charAt(d++)),b=!!(c&j),c&=i,k+=c<<l,l+=g}while(b);return{value:e(k),rest:a.slice(d)}}})}),b.define("/node_modules/source-map/lib/source-map/base64.js",function(a){if("function"!=typeof c)var c=b("/node_modules/source-map/node_modules/amdefine/amdefine.js",a)(a,b);c(function(a,b){var c={},d={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(function(a,b){c[a]=b,d[b]=a}),b.encode=function(a){if(a in d)return d[a];throw new TypeError("Must be between 0 and 63: "+a)},b.decode=function(a){if(a in c)return c[a];throw new TypeError("Not a valid base 64 digit: "+a)}})}),b.define("/node_modules/source-map/lib/source-map/source-map-consumer.js",function(a){if("function"!=typeof c)var c=b("/node_modules/source-map/node_modules/amdefine/amdefine.js",a)(a,b);c(function(a,b,c){function d(a){var b=a;"string"==typeof a&&(b=JSON.parse(a.replace(/^\)\]\}'/,"")));var c=e.getArg(b,"version"),d=e.getArg(b,"sources"),f=e.getArg(b,"names",[]),h=e.getArg(b,"sourceRoot",null),i=e.getArg(b,"sourcesContent",null),j=e.getArg(b,"mappings"),k=e.getArg(b,"file",null);if(c!=this._version)throw new Error("Unsupported version: "+c);this._names=g.fromArray(f,!0),this._sources=g.fromArray(d,!0),this.sourceRoot=h,this.sourcesContent=i,this._mappings=j,this.file=k}var e=a("/node_modules/source-map/lib/source-map/util.js",c),f=a("/node_modules/source-map/lib/source-map/binary-search.js",c),g=a("/node_modules/source-map/lib/source-map/array-set.js",c).ArraySet,h=a("/node_modules/source-map/lib/source-map/base64-vlq.js",c);d.fromSourceMap=function(a){var b=Object.create(d.prototype);return b._names=g.fromArray(a._names.toArray(),!0),b._sources=g.fromArray(a._sources.toArray(),!0),b.sourceRoot=a._sourceRoot,b.sourcesContent=a._generateSourcesContent(b._sources.toArray(),b.sourceRoot),b.file=a._file,b.__generatedMappings=a._mappings.slice().sort(e.compareByGeneratedPositions),b.__originalMappings=a._mappings.slice().sort(e.compareByOriginalPositions),b},d.prototype._version=3,Object.defineProperty(d.prototype,"sources",{get:function(){return this._sources.toArray().map(function(a){return null!=this.sourceRoot?e.join(this.sourceRoot,a):a},this)}}),d.prototype.__generatedMappings=null,Object.defineProperty(d.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__generatedMappings}}),d.prototype.__originalMappings=null,Object.defineProperty(d.prototype,"_originalMappings",{get:function(){return this.__originalMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__originalMappings}}),d.prototype._parseMappings=function(a){for(var b,c,d=1,f=0,g=0,i=0,j=0,k=0,l=/^[,;]/,m=a;m.length>0;)if(";"===m.charAt(0))d++,m=m.slice(1),f=0;else if(","===m.charAt(0))m=m.slice(1);else{if(b={},b.generatedLine=d,c=h.decode(m),b.generatedColumn=f+c.value,f=b.generatedColumn,m=c.rest,m.length>0&&!l.test(m.charAt(0))){if(c=h.decode(m),b.source=this._sources.at(j+c.value),j+=c.value,m=c.rest,0===m.length||l.test(m.charAt(0)))throw new Error("Found a source, but no line and column");if(c=h.decode(m),b.originalLine=g+c.value,g=b.originalLine,b.originalLine+=1,m=c.rest,0===m.length||l.test(m.charAt(0)))throw new Error("Found a source and line, but no column");c=h.decode(m),b.originalColumn=i+c.value,i=b.originalColumn,m=c.rest,m.length>0&&!l.test(m.charAt(0))&&(c=h.decode(m),b.name=this._names.at(k+c.value),k+=c.value,m=c.rest)}this.__generatedMappings.push(b),"number"==typeof b.originalLine&&this.__originalMappings.push(b)}this.__generatedMappings.sort(e.compareByGeneratedPositions),this.__originalMappings.sort(e.compareByOriginalPositions)},d.prototype._findMapping=function(a,b,c,d,e){if(a[c]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+a[c]);if(a[d]<0)throw new TypeError("Column must be greater than or equal to 0, got "+a[d]);return f.search(a,b,e)},d.prototype.originalPositionFor=function(a){var b={generatedLine:e.getArg(a,"line"),generatedColumn:e.getArg(a,"column")},c=this._findMapping(b,this._generatedMappings,"generatedLine","generatedColumn",e.compareByGeneratedPositions);if(c&&c.generatedLine===b.generatedLine){var d=e.getArg(c,"source",null);return null!=d&&null!=this.sourceRoot&&(d=e.join(this.sourceRoot,d)),{source:d,line:e.getArg(c,"originalLine",null),column:e.getArg(c,"originalColumn",null),name:e.getArg(c,"name",null)}}return{source:null,line:null,column:null,name:null}},d.prototype.sourceContentFor=function(a){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(a=e.relative(this.sourceRoot,a)),this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];var b;if(null!=this.sourceRoot&&(b=e.urlParse(this.sourceRoot))){var c=a.replace(/^file:\/\//,"");if("file"==b.scheme&&this._sources.has(c))return this.sourcesContent[this._sources.indexOf(c)];if((!b.path||"/"==b.path)&&this._sources.has("/"+a))return this.sourcesContent[this._sources.indexOf("/"+a)]}throw new Error('"'+a+'" is not in the SourceMap.')},d.prototype.generatedPositionFor=function(a){var b={source:e.getArg(a,"source"),originalLine:e.getArg(a,"line"),originalColumn:e.getArg(a,"column")};null!=this.sourceRoot&&(b.source=e.relative(this.sourceRoot,b.source));var c=this._findMapping(b,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions);return c?{line:e.getArg(c,"generatedLine",null),column:e.getArg(c,"generatedColumn",null)}:{line:null,column:null}},d.GENERATED_ORDER=1,d.ORIGINAL_ORDER=2,d.prototype.eachMapping=function(a,b,c){var f,g=b||null,h=c||d.GENERATED_ORDER;switch(h){case d.GENERATED_ORDER:f=this._generatedMappings;break;case d.ORIGINAL_ORDER:f=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;f.map(function(a){var b=a.source;return null!=b&&null!=i&&(b=e.join(i,b)),{source:b,generatedLine:a.generatedLine,generatedColumn:a.generatedColumn,originalLine:a.originalLine,originalColumn:a.originalColumn,name:a.name}}).forEach(a,g)},b.SourceMapConsumer=d})}),b.define("/node_modules/source-map/lib/source-map/binary-search.js",function(a){if("function"!=typeof c)var c=b("/node_modules/source-map/node_modules/amdefine/amdefine.js",a)(a,b);c(function(a,b){function c(a,b,d,e,f){var g=Math.floor((b-a)/2)+a,h=f(d,e[g],!0);return 0===h?e[g]:h>0?b-g>1?c(g,b,d,e,f):e[g]:g-a>1?c(a,g,d,e,f):0>a?null:e[a]}b.search=function(a,b,d){return b.length>0?c(-1,b.length,a,b,d):null}})}),b.define("/node_modules/esutils/lib/utils.js",function(a,c){!function(){"use strict";c.ast=b("/node_modules/esutils/lib/ast.js",a),c.code=b("/node_modules/esutils/lib/code.js",a),c.keyword=b("/node_modules/esutils/lib/keyword.js",a)}()}),b.define("/node_modules/esutils/lib/keyword.js",function(a){!function(c){"use strict";function d(a){switch(a){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function e(a,b){return b||"yield"!==a?f(a,b):!1}function f(a,b){if(b&&d(a))return!0;switch(a.length){case 2:return"if"===a||"in"===a||"do"===a;case 3:return"var"===a||"for"===a||"new"===a||"try"===a;case 4:return"this"===a||"else"===a||"case"===a||"void"===a||"with"===a||"enum"===a;case 5:return"while"===a||"break"===a||"catch"===a||"throw"===a||"const"===a||"yield"===a||"class"===a||"super"===a;case 6:return"return"===a||"typeof"===a||"delete"===a||"switch"===a||"export"===a||"import"===a;case 7:return"default"===a||"finally"===a||"extends"===a;case 8:return"function"===a||"continue"===a||"debugger"===a;case 10:return"instanceof"===a;default:return!1}}function g(a,b){return"null"===a||"true"===a||"false"===a||e(a,b)}function h(a,b){return"null"===a||"true"===a||"false"===a||f(a,b)}function i(a){return"eval"===a||"arguments"===a}function j(a){var b,d,e;if(0===a.length)return!1;if(e=a.charCodeAt(0),!c.isIdentifierStart(e)||92===e)return!1;for(b=1,d=a.length;d>b;++b)if(e=a.charCodeAt(b),!c.isIdentifierPart(e)||92===e)return!1;return!0}function k(a,b){return j(a)&&!g(a,b)}function l(a,b){return j(a)&&!h(a,b)}c=b("/node_modules/esutils/lib/code.js",a),a.exports={isKeywordES5:e,isKeywordES6:f,isReservedWordES5:g,isReservedWordES6:h,isRestrictedWord:i,isIdentifierName:j,isIdentifierES5:k,isIdentifierES6:l}}()}),b.define("/node_modules/esutils/lib/code.js",function(a){!function(b){"use strict";function c(a){return a>=48&&57>=a}function d(a){return c(a)||a>=97&&102>=a||a>=65&&70>=a}function e(a){return a>=48&&55>=a}function f(a){return 32===a||9===a||11===a||12===a||160===a||a>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(a)>=0}function g(a){return 10===a||13===a||8232===a||8233===a}function h(a){return 36===a||95===a||a>=65&&90>=a||a>=97&&122>=a||92===a||a>=128&&b.NonAsciiIdentifierStart.test(String.fromCharCode(a))}function i(a){return 36===a||95===a||a>=65&&90>=a||a>=97&&122>=a||a>=48&&57>=a||92===a||a>=128&&b.NonAsciiIdentifierPart.test(String.fromCharCode(a))}b={NonAsciiIdentifierStart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},a.exports={isDecimalDigit:c,isHexDigit:d,isOctalDigit:e,isWhiteSpace:f,isLineTerminator:g,isIdentifierStart:h,isIdentifierPart:i}}()}),b.define("/node_modules/esutils/lib/ast.js",function(a){!function(){"use strict";function b(a){if(null==a)return!1;switch(a.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function c(a){if(null==a)return!1;switch(a.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function d(a){if(null==a)return!1;switch(a.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function e(a){return d(a)||null!=a&&"FunctionDeclaration"===a.type}function f(a){switch(a.type){case"IfStatement":return null!=a.alternate?a.alternate:a.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return a.body}return null}function g(a){var b;if("IfStatement"!==a.type)return!1;if(null==a.alternate)return!1;b=a.consequent;do{if("IfStatement"===b.type&&null==b.alternate)return!0;b=f(b)}while(b);return!1}a.exports={isExpression:b,isStatement:d,isIterationStatement:c,isSourceElement:e,isProblematicIfStatement:g,trailingStatement:f}}()}),b.define("/node_modules/estraverse/estraverse.js",function(a,b){!function(a,c){"use strict";"function"==typeof define&&define.amd?define(["exports"],c):c(void 0!==b?b:a.estraverse={})}(this,function(a){"use strict";function b(){}function c(a){var b,d,e={};for(b in a)a.hasOwnProperty(b)&&(d=a[b],e[b]="object"==typeof d&&null!==d?c(d):d);return e}function d(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c}function e(a,b){var c,d,e,f;for(d=a.length,e=0;d;)c=d>>>1,f=e+c,b(a[f])?d=c:(e=f+1,d-=c+1);return e}function f(a,b){var c,d,e,f;for(d=a.length,e=0;d;)c=d>>>1,f=e+c,b(a[f])?(e=f+1,d-=c+1):d=c;return e}function g(a,b){this.parent=a,this.key=b}function h(a,b,c,d){this.node=a,this.path=b,this.wrap=c,this.ref=d}function i(){}function j(a,b){var c=new i;return c.traverse(a,b)}function k(a,b){var c=new i;return c.replace(a,b)}function l(a,b){var c;return c=e(b,function(b){return b.range[0]>a.range[0]}),a.extendedRange=[a.range[0],a.range[1]],c!==b.length&&(a.extendedRange[1]=b[c].range[0]),c-=1,c>=0&&(a.extendedRange[0]=b[c].range[1]),a}function m(a,b,d){var e,f,g,h,i=[];if(!a.range)throw new Error("attachComments needs range information");if(!d.length){if(b.length){for(g=0,f=b.length;f>g;g+=1)e=c(b[g]),e.extendedRange=[0,a.range[0]],i.push(e);a.leadingComments=i}return a}for(g=0,f=b.length;f>g;g+=1)i.push(l(c(b[g]),d));return h=0,j(a,{enter:function(a){for(var b;h<i.length&&(b=i[h],!(b.extendedRange[1]>a.range[0]));)b.extendedRange[1]===a.range[0]?(a.leadingComments||(a.leadingComments=[]),a.leadingComments.push(b),i.splice(h,1)):h+=1;return h===i.length?p.Break:i[h].extendedRange[0]>a.range[1]?p.Skip:void 0}}),h=0,j(a,{leave:function(a){for(var b;h<i.length&&(b=i[h],!(a.range[1]<b.extendedRange[0]));)a.range[1]===b.extendedRange[0]?(a.trailingComments||(a.trailingComments=[]),a.trailingComments.push(b),i.splice(h,1)):h+=1;return h===i.length?p.Break:i[h].extendedRange[0]>a.range[1]?p.Skip:void 0}}),a}var n,o,p,q,r,s;n={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},o=Array.isArray,o||(o=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),b(d),b(f),q={AssignmentExpression:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","defaults","rest","body"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","body","superClass"],ClassExpression:["id","body","superClass"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","defaults","rest","body"],FunctionExpression:["id","params","defaults","rest","body"],Identifier:[],IfStatement:["test","consequent","alternate"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MethodDefinition:["key","value"],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handlers","handler","guardedHandlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},r={},s={},p={Break:r,Skip:s},g.prototype.replace=function(a){this.parent[this.key]=a
},i.prototype.path=function(){function a(a,b){if(o(b))for(d=0,e=b.length;e>d;++d)a.push(b[d]);else a.push(b)}var b,c,d,e,f,g;if(!this.__current.path)return null;for(f=[],b=2,c=this.__leavelist.length;c>b;++b)g=this.__leavelist[b],a(f,g.path);return a(f,this.__current.path),f},i.prototype.parents=function(){var a,b,c;for(c=[],a=1,b=this.__leavelist.length;b>a;++a)c.push(this.__leavelist[a].node);return c},i.prototype.current=function(){return this.__current.node},i.prototype.__execute=function(a,b){var c,d;return d=void 0,c=this.__current,this.__current=b,this.__state=null,a&&(d=a.call(this,b.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=c,d},i.prototype.notify=function(a){this.__state=a},i.prototype.skip=function(){this.notify(s)},i.prototype["break"]=function(){this.notify(r)},i.prototype.__initialize=function(a,b){this.visitor=b,this.root=a,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null},i.prototype.traverse=function(a,b){var c,d,e,f,g,i,j,k,l,m,p,t;for(this.__initialize(a,b),t={},c=this.__worklist,d=this.__leavelist,c.push(new h(a,null,null,null)),d.push(new h(null,null,null,null));c.length;)if(e=c.pop(),e!==t){if(e.node){if(i=this.__execute(b.enter,e),this.__state===r||i===r)return;if(c.push(t),d.push(e),this.__state===s||i===s)continue;for(f=e.node,g=e.wrap||f.type,m=q[g],k=m.length;(k-=1)>=0;)if(j=m[k],p=f[j])if(o(p))for(l=p.length;(l-=1)>=0;)p[l]&&(e=g!==n.ObjectExpression&&g!==n.ObjectPattern||"properties"!==m[k]?new h(p[l],[j,l],null,null):new h(p[l],[j,l],"Property",null),c.push(e));else c.push(new h(p,j,null,null))}}else if(e=d.pop(),i=this.__execute(b.leave,e),this.__state===r||i===r)return},i.prototype.replace=function(a,b){var c,d,e,f,i,j,k,l,m,p,t,u,v;for(this.__initialize(a,b),t={},c=this.__worklist,d=this.__leavelist,u={root:a},j=new h(a,null,null,new g(u,"root")),c.push(j),d.push(j);c.length;)if(j=c.pop(),j!==t){if(i=this.__execute(b.enter,j),void 0!==i&&i!==r&&i!==s&&(j.ref.replace(i),j.node=i),this.__state===r||i===r)return u.root;if((e=j.node)&&(c.push(t),d.push(j),this.__state!==s&&i!==s))for(f=j.wrap||e.type,m=q[f],k=m.length;(k-=1)>=0;)if(v=m[k],p=e[v])if(o(p))for(l=p.length;(l-=1)>=0;)p[l]&&(j=f===n.ObjectExpression&&"properties"===m[k]?new h(p[l],[v,l],"Property",new g(p,l)):new h(p[l],[v,l],null,new g(p,l)),c.push(j));else c.push(new h(p,v,null,new g(e,v)))}else if(j=d.pop(),i=this.__execute(b.leave,j),void 0!==i&&i!==r&&i!==s&&j.ref.replace(i),this.__state===r||i===r)return u.root;return u.root},a.version="1.5.1-dev",a.Syntax=n,a.traverse=j,a.replace=k,a.attachComments=m,a.VisitorKeys=q,a.VisitorOption=p,a.Controller=i})}),b("/tools/entry-point.js")}).call(this,this),function(a,b){return"object"==typeof exports&&"object"==typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):void b(a.acorn||(a.acorn={}))}(this,function(a){"use strict";function b(a){ac={};for(var b in ec)ac[b]=a&&Y(a,b)?a[b]:ec[b];if(dc=ac.sourceFile||null,fc(ac.onToken)){var c=ac.onToken;ac.onToken=function(a){c.push(a)}}if(fc(ac.onComment)){var d=ac.onComment;ac.onComment=function(a,b,c,e,f,g){var h={type:a?"Block":"Line",value:b,start:c,end:e};ac.locations&&(h.loc=new M,h.loc.start=f,h.loc.end=g),ac.ranges&&(h.range=[c,e]),d.push(h)}}Yd=ac.ecmaVersion>=6?Xd:Wd}function c(){this.type=mc,this.value=nc,this.start=ic,this.end=jc,ac.locations&&(this.loc=new M,this.loc.end=lc,this.startLoc=kc,this.endLoc=lc),ac.ranges&&(this.range=[ic,jc])}function d(){rc=sc=hc,ac.locations&&(tc=h()),uc=vc=xc=!1,wc=[],m(),w()}function e(a,b){var c=gc(bc,a);b+=" ("+c.line+":"+c.column+")";var d=new SyntaxError(b);throw d.pos=a,d.loc=c,d.raisedAt=hc,d}function f(a){function b(a){if(1==a.length)return c+="return str === "+JSON.stringify(a[0])+";";c+="switch(str){";for(var b=0;b<a.length;++b)c+="case "+JSON.stringify(a[b])+":";c+="return true}return false;"}a=a.split(" ");var c="",d=[];a:for(var e=0;e<a.length;++e){for(var f=0;f<d.length;++f)if(d[f][0].length==a[e].length){d[f].push(a[e]);continue a}d.push([a[e]])}if(d.length>3){d.sort(function(a,b){return b.length-a.length}),c+="switch(str.length){";for(var e=0;e<d.length;++e){var g=d[e];c+="case "+g[0].length+":",b(g)}c+="}"}else b(a);return new Function("str",c)}function g(a,b){this.line=a,this.column=b}function h(){return new g(pc,hc-qc)}function i(a){a?(hc=a,qc=Math.max(0,bc.lastIndexOf("\n",a)),pc=bc.slice(0,qc).split(ce).length):(pc=1,hc=qc=0),oc=!0,yc=0,zc=[],0===hc&&ac.allowHashBang&&"#!"===bc.slice(0,2)&&l(2)}function j(a,b,d){jc=hc,ac.locations&&(lc=h()),mc=a,d!==!1&&m(),nc=b,oc=a.beforeExpr,ac.onToken&&ac.onToken(new c)}function k(){var a=ac.onComment&&ac.locations&&h(),b=hc,c=bc.indexOf("*/",hc+=2);if(-1===c&&e(hc-2,"Unterminated comment"),hc=c+2,ac.locations){de.lastIndex=b;for(var d;(d=de.exec(bc))&&d.index<hc;)++pc,qc=d.index+d[0].length}ac.onComment&&ac.onComment(!0,bc.slice(b+2,c),b,hc,a,ac.locations&&h())}function l(a){for(var b=hc,c=ac.onComment&&ac.locations&&h(),d=bc.charCodeAt(hc+=a);cc>hc&&10!==d&&13!==d&&8232!==d&&8233!==d;)++hc,d=bc.charCodeAt(hc);ac.onComment&&ac.onComment(!1,bc.slice(b+a,hc),b,hc,c,ac.locations&&h())}function m(){for(;cc>hc;){var a=bc.charCodeAt(hc);if(32===a)++hc;else if(13===a){++hc;var b=bc.charCodeAt(hc);10===b&&++hc,ac.locations&&(++pc,qc=hc)}else if(10===a||8232===a||8233===a)++hc,ac.locations&&(++pc,qc=hc);else if(a>8&&14>a)++hc;else if(47===a){var b=bc.charCodeAt(hc+1);if(42===b)k();else{if(47!==b)break;l(2)}}else if(160===a)++hc;else{if(!(a>=5760&&Zd.test(String.fromCharCode(a))))break;++hc}}}function n(){var a=bc.charCodeAt(hc+1);if(a>=48&&57>=a)return B(!0);var b=bc.charCodeAt(hc+2);return ac.ecmaVersion>=6&&46===a&&46===b?(hc+=3,j(zd)):(++hc,j(ud))}function o(){var a=bc.charCodeAt(hc+1);return oc?(++hc,y()):61===a?x(Cd,2):x(Ad,1)}function p(a){var b=bc.charCodeAt(hc+1);return 61===b?x(Cd,2):x(42===a?Pd:Od,1)}function q(a){var b=bc.charCodeAt(hc+1);return b===a?x(124===a?Fd:Gd,2):61===b?x(Cd,2):x(124===a?Hd:Jd,1)}function r(){var a=bc.charCodeAt(hc+1);return 61===a?x(Cd,2):x(Id,1)}function s(a){var b=bc.charCodeAt(hc+1);return b===a?45==b&&62==bc.charCodeAt(hc+2)&&ce.test(bc.slice(sc,hc))?(l(3),m(),w()):x(Dd,2):61===b?x(Cd,2):x(Nd,1)}function t(a){var b=bc.charCodeAt(hc+1),c=1;return b===a?(c=62===a&&62===bc.charCodeAt(hc+2)?3:2,61===bc.charCodeAt(hc+c)?x(Cd,c+1):x(Md,c)):33==b&&60==a&&45==bc.charCodeAt(hc+2)&&45==bc.charCodeAt(hc+3)?(l(4),m(),w()):(61===b&&(c=61===bc.charCodeAt(hc+2)?3:2),x(Ld,c))}function u(a){var b=bc.charCodeAt(hc+1);return 61===b?x(Kd,61===bc.charCodeAt(hc+2)?3:2):61===a&&62===b&&ac.ecmaVersion>=6?(hc+=2,j(wd)):x(61===a?Bd:Ed,1)}function v(a){switch(a){case 46:return n();case 40:return++hc,j(pd);case 41:return++hc,j(qd);case 59:return++hc,j(sd);case 44:return++hc,j(rd);case 91:return++hc,j(ld);case 93:return++hc,j(md);case 123:return++hc,zc.length&&++zc[zc.length-1],j(nd);case 125:return++hc,zc.length&&0===--zc[zc.length-1]?E(yd):j(od);case 58:return++hc,j(td);case 63:return++hc,j(vd);case 96:if(ac.ecmaVersion>=6)return++hc,E(xd);case 48:var b=bc.charCodeAt(hc+1);if(120===b||88===b)return A(16);if(ac.ecmaVersion>=6){if(111===b||79===b)return A(8);if(98===b||66===b)return A(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return B(!1);case 34:case 39:return D(a);case 47:return o();case 37:case 42:return p(a);case 124:case 38:return q(a);case 94:return r();case 43:case 45:return s(a);case 60:case 62:return t(a);case 61:case 33:return u(a);case 126:return x(Ed,1)}return!1}function w(a){if(a?hc=ic+1:ic=hc,ac.locations&&(kc=h()),a)return y();if(hc>=cc)return j(Fc);var b=bc.charCodeAt(hc);if(ee(b)||92===b)return I();var c=v(b);if(c===!1){var d=String.fromCharCode(b);if("\\"===d||ae.test(d))return I();e(hc,"Unexpected character '"+d+"'")}return c}function x(a,b){var c=bc.slice(hc,hc+b);hc+=b,j(a,c)}function y(){for(var a,b,c="",d=hc;;){hc>=cc&&e(d,"Unterminated regular expression");var f=bc.charAt(hc);if(ce.test(f)&&e(d,"Unterminated regular expression"),a)a=!1;else{if("["===f)b=!0;else if("]"===f&&b)b=!1;else if("/"===f&&!b)break;a="\\"===f}++hc}var c=bc.slice(d,hc);++hc;var g=H(),h=c;if(g){var i=/^[gmsiy]*$/;ac.ecmaVersion>=6&&(i=/^[gmsiyu]*$/),i.test(g)||e(d,"Invalid regular expression flag"),g.indexOf("u")>=0&&!ge&&(h=h.replace(/\\u\{([0-9a-fA-F]{5,6})\}/g,"x").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"))}try{new RegExp(h)}catch(k){k instanceof SyntaxError&&e(d,"Error parsing regular expression: "+k.message),e(k)}try{var l=new RegExp(c,g)}catch(m){l=null}return j(Cc,{pattern:c,flags:g,value:l})}function z(a,b){for(var c=hc,d=0,e=0,f=null==b?1/0:b;f>e;++e){var g,h=bc.charCodeAt(hc);if(g=h>=97?h-97+10:h>=65?h-65+10:h>=48&&57>=h?h-48:1/0,g>=a)break;++hc,d=d*a+g}return hc===c||null!=b&&hc-c!==b?null:d}function A(a){hc+=2;var b=z(a);return null==b&&e(ic+2,"Expected number in radix "+a),ee(bc.charCodeAt(hc))&&e(hc,"Identifier directly after number"),j(Bc,b)}function B(a){var b=hc,c=!1,d=48===bc.charCodeAt(hc);a||null!==z(10)||e(b,"Invalid number"),46===bc.charCodeAt(hc)&&(++hc,z(10),c=!0);var f=bc.charCodeAt(hc);(69===f||101===f)&&(f=bc.charCodeAt(++hc),(43===f||45===f)&&++hc,null===z(10)&&e(b,"Invalid number"),c=!0),ee(bc.charCodeAt(hc))&&e(hc,"Identifier directly after number");var g,h=bc.slice(b,hc);return c?g=parseFloat(h):d&&1!==h.length?/[89]/.test(h)||xc?e(b,"Invalid number"):g=parseInt(h,8):g=parseInt(h,10),j(Bc,g)}function C(){var a,b=bc.charCodeAt(hc);if(123===b?(ac.ecmaVersion<6&&X(),++hc,a=G(bc.indexOf("}",hc)-hc),++hc,a>1114111&&X()):a=G(4),65535>=a)return String.fromCharCode(a);var c=(a-65536>>10)+55296,d=(a-65536&1023)+56320;return String.fromCharCode(c,d)}function D(a){++hc;for(var b="";;){hc>=cc&&e(ic,"Unterminated string constant");var c=bc.charCodeAt(hc);if(c===a)return++hc,j(Dc,b);92===c?b+=F():(++hc,ce.test(String.fromCharCode(c))&&e(ic,"Unterminated string constant"),b+=String.fromCharCode(c))}}function E(a){a==yd&&zc.pop();for(var b="",c=hc;;){hc>=cc&&e(ic,"Unterminated template");var d=bc.charAt(hc);if("`"===d||"$"===d&&123===bc.charCodeAt(hc+1)){var f=bc.slice(c,hc);return++hc,"$"==d&&(++hc,zc.push(1)),j(a,{cooked:b,raw:f})}"\\"===d?b+=F():(++hc,ce.test(d)&&("\r"===d&&10===bc.charCodeAt(hc)&&(++hc,d="\n"),ac.locations&&(++pc,qc=hc)),b+=d)}}function F(){var a=bc.charCodeAt(++hc),b=/^[0-7]+/.exec(bc.slice(hc,hc+3));for(b&&(b=b[0]);b&&parseInt(b,8)>255;)b=b.slice(0,-1);if("0"===b&&(b=null),++hc,b)return xc&&e(hc-2,"Octal literal in strict mode"),hc+=b.length-1,String.fromCharCode(parseInt(b,8));switch(a){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(G(2));case 117:return C();case 116:return"	";case 98:return"\b";case 118:return"";case 102:return"\f";case 48:return"\x00";case 13:10===bc.charCodeAt(hc)&&++hc;case 10:return ac.locations&&(qc=hc,++pc),"";default:return String.fromCharCode(a)}}function G(a){var b=z(16,a);return null===b&&e(ic,"Bad character escape sequence"),b}function H(){ie=!1;for(var a,b=!0,c=hc;;){var d=bc.charCodeAt(hc);if(fe(d))ie&&(a+=bc.charAt(hc)),++hc;else{if(92!==d)break;ie||(a=bc.slice(c,hc)),ie=!0,117!=bc.charCodeAt(++hc)&&e(hc,"Expecting Unicode escape sequence \\uXXXX"),++hc;var f=G(4),g=String.fromCharCode(f);g||e(hc-1,"Invalid Unicode escape"),(b?ee(f):fe(f))||e(hc-4,"Invalid Unicode escape"),a+=g}b=!1}return ie?a:bc.slice(c,hc)}function I(){var a=H(),b=Ec;return!ie&&Yd(a)&&(b=kd[a]),j(b,a)}function J(){rc=ic,sc=jc,tc=lc,w()}function K(a){if(xc=a,hc=ic,ac.locations)for(;qc>hc;)qc=bc.lastIndexOf("\n",qc-2)+1,--pc;m(),w()}function L(){this.type=null,this.start=ic,this.end=null}function M(){this.start=kc,this.end=null,null!==dc&&(this.source=dc)}function N(){var a=new L;return ac.locations&&(a.loc=new M),ac.directSourceFile&&(a.sourceFile=ac.directSourceFile),ac.ranges&&(a.range=[ic,0]),a}function O(){return ac.locations?[ic,kc]:ic}function P(a){var b=new L,c=a;return ac.locations&&(b.loc=new M,b.loc.start=c[1],c=a[0]),b.start=c,ac.directSourceFile&&(b.sourceFile=ac.directSourceFile),ac.ranges&&(b.range=[c,0]),b}function Q(a,b){return a.type=b,a.end=sc,ac.locations&&(a.loc.end=tc),ac.ranges&&(a.range[1]=sc),a}function R(a,b,c){return ac.locations&&(a.loc.end=c[1],c=c[0]),a.type=b,a.end=c,ac.ranges&&(a.range[1]=c),a}function S(a){return ac.ecmaVersion>=5&&"ExpressionStatement"===a.type&&"Literal"===a.expression.type&&"use strict"===a.expression.value}function T(a){return mc===a?(J(),!0):!1}function U(){return!ac.strictSemicolons&&(mc===Fc||mc===od||ce.test(bc.slice(sc,ic)))}function V(){T(sd)||U()||X()}function W(a){T(a)||X()}function X(a){e(null!=a?a:ic,"Unexpected token")}function Y(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function Z(a,b,c){if(ac.ecmaVersion>=6&&a)switch(a.type){case"Identifier":case"MemberExpression":break;case"ObjectExpression":a.type="ObjectPattern";for(var d=0;d<a.properties.length;d++){var e=a.properties[d];"init"!==e.kind&&X(e.key.start),Z(e.value,!1,c)}break;case"ArrayExpression":a.type="ArrayPattern";for(var d=0,f=a.elements.length-1;f>=d;d++)Z(a.elements[d],d===f,c);break;case"SpreadElement":b?(Z(a.argument,!1,c),$(a.argument)):X(a.start);break;default:c&&X(a.start)}return a}function $(a){"Identifier"!==a.type&&"ArrayPattern"!==a.type&&X(a.start)}function _(a,b){switch(a.type){case"Identifier":(Td(a.name)||Ud(a.name))&&e(a.start,"Defining '"+a.name+"' in strict mode"),Y(b,a.name)&&e(a.start,"Argument name clash in strict mode"),b[a.name]=!0;break;case"ObjectPattern":for(var c=0;c<a.properties.length;c++)_(a.properties[c].value,b);break;case"ArrayPattern":for(var c=0;c<a.elements.length;c++){var d=a.elements[c];d&&_(d,b)}}}function ab(a,b){if(!(ac.ecmaVersion>=6)){var c,d=a.key;switch(d.type){case"Identifier":c=d.name;break;case"Literal":c=String(d.value);break;default:return}var f,g=a.kind||"init";if(Y(b,c)){f=b[c];var h="init"!==g;((xc||h)&&f[g]||!(h^f.init))&&e(d.start,"Redefinition of property")}else f=b[c]={init:!1,get:!1,set:!1};f[g]=!0}}function bb(a,b){switch(a.type){case"Identifier":xc&&(Ud(a.name)||Td(a.name))&&e(a.start,(b?"Binding ":"Assigning to ")+a.name+" in strict mode");break;case"MemberExpression":b&&e(a.start,"Binding to member expression");break;case"ObjectPattern":for(var c=0;c<a.properties.length;c++)bb(a.properties[c].value,b);break;case"ArrayPattern":for(var c=0;c<a.elements.length;c++){var d=a.elements[c];d&&bb(d,b)}break;case"SpreadElement":break;default:e(a.start,"Assigning to rvalue")}}function cb(a){var b=!0;for(a.body||(a.body=[]);mc!==Fc;){var c=db(!0);a.body.push(c),b&&S(c)&&K(!0),b=!1}return rc=ic,sc=jc,tc=lc,Q(a,"Program")}function db(a){(mc===Ad||mc===Cd&&"/="==nc)&&w(!0);var b=mc,c=N();switch(b){case Gc:case Jc:return eb(c,b.keyword);case Kc:return fb(c);case Mc:return gb(c);case Pc:return hb(c);case Qc:return ib(c);case bd:return Tb(c,!0);case Rc:return jb(c);case Sc:return kb(c);case Tc:return lb(c);case Uc:return mb(c);case Vc:return nb(c);case Wc:case Xc:case Yc:return ob(c,b.keyword);case Zc:return pb(c);case $c:return qb(c);case nd:return vb();case sd:return rb(c);case dd:case ed:return a||ac.allowImportExportEverywhere||e(ic,"'import' and 'export' may only appear at the top level"),b===ed?Yb(c):Wb(c);default:var d=nc,f=zb();return b===Ec&&"Identifier"===f.type&&T(td)?sb(c,d,f):tb(c,f)}}function eb(a,b){var c="break"==b;J(),T(sd)||U()?a.label=null:mc!==Ec?X():(a.label=Vb(),V());for(var d=0;d<wc.length;++d){var f=wc[d];if(null==a.label||f.name===a.label.name){if(null!=f.kind&&(c||"loop"===f.kind))break;if(a.label&&c)break}}return d===wc.length&&e(a.start,"Unsyntactic "+b),Q(a,c?"BreakStatement":"ContinueStatement")}function fb(a){return J(),V(),Q(a,"DebuggerStatement")}function gb(a){return J(),wc.push(je),a.body=db(),wc.pop(),W(Zc),a.test=ub(),ac.ecmaVersion>=6?T(sd):V(),Q(a,"DoWhileStatement")}function hb(a){if(J(),wc.push(je),W(pd),mc===sd)return wb(a,null);if(mc===Wc||mc===Xc){var b=N(),c=mc.keyword,d=mc===Xc;return J(),yb(b,!0,c),Q(b,"VariableDeclaration"),!(mc===jd||ac.ecmaVersion>=6&&mc===Ec&&"of"===nc)||1!==b.declarations.length||d&&b.declarations[0].init?wb(a,b):xb(a,b)}var b=zb(!1,!0);return mc===jd||ac.ecmaVersion>=6&&mc===Ec&&"of"===nc?(bb(b),xb(a,b)):wb(a,b)}function ib(a){return J(),Ob(a,!0)}function jb(a){return J(),a.test=ub(),a.consequent=db(),a.alternate=T(Nc)?db():null,Q(a,"IfStatement")}function kb(a){return uc||ac.allowReturnOutsideFunction||e(ic,"'return' outside of function"),J(),T(sd)||U()?a.argument=null:(a.argument=zb(),V()),Q(a,"ReturnStatement")}function lb(a){J(),a.discriminant=ub(),a.cases=[],W(nd),wc.push(ke);for(var b,c;mc!=od;)if(mc===Hc||mc===Lc){var d=mc===Hc;b&&Q(b,"SwitchCase"),a.cases.push(b=N()),b.consequent=[],J(),d?b.test=zb():(c&&e(rc,"Multiple default clauses"),c=!0,b.test=null),W(td)}else b||X(),b.consequent.push(db());return b&&Q(b,"SwitchCase"),J(),wc.pop(),Q(a,"SwitchStatement")}function mb(a){return J(),ce.test(bc.slice(sc,ic))&&e(sc,"Illegal newline after throw"),a.argument=zb(),V(),Q(a,"ThrowStatement")}function nb(a){if(J(),a.block=vb(),a.handler=null,mc===Ic){var b=N();J(),W(pd),b.param=Vb(),xc&&Ud(b.param.name)&&e(b.param.start,"Binding "+b.param.name+" in strict mode"),W(qd),b.guard=null,b.body=vb(),a.handler=Q(b,"CatchClause")}return a.guardedHandlers=Ac,a.finalizer=T(Oc)?vb():null,a.handler||a.finalizer||e(a.start,"Missing catch or finally clause"),Q(a,"TryStatement")}function ob(a,b){return J(),yb(a,!1,b),V(),Q(a,"VariableDeclaration")}function pb(a){return J(),a.test=ub(),wc.push(je),a.body=db(),wc.pop(),Q(a,"WhileStatement")}function qb(a){return xc&&e(ic,"'with' in strict mode"),J(),a.object=ub(),a.body=db(),Q(a,"WithStatement")}function rb(a){return J(),Q(a,"EmptyStatement")}function sb(a,b,c){for(var d=0;d<wc.length;++d)wc[d].name===b&&e(c.start,"Label '"+b+"' is already declared");var f=mc.isLoop?"loop":mc===Tc?"switch":null;return wc.push({name:b,kind:f}),a.body=db(),wc.pop(),a.label=c,Q(a,"LabeledStatement")}function tb(a,b){return a.expression=b,V(),Q(a,"ExpressionStatement")}function ub(){W(pd);var a=zb();return W(qd),a}function vb(a){var b,c=N(),d=!0;for(c.body=[],W(nd);!T(od);){var e=db();c.body.push(e),d&&a&&S(e)&&(b=xc,K(xc=!0)),d=!1}return b===!1&&K(!1),Q(c,"BlockStatement")}function wb(a,b){return a.init=b,W(sd),a.test=mc===sd?null:zb(),W(sd),a.update=mc===qd?null:zb(),W(qd),a.body=db(),wc.pop(),Q(a,"ForStatement")}function xb(a,b){var c=mc===jd?"ForInStatement":"ForOfStatement";return J(),a.left=b,a.right=zb(),W(qd),a.body=db(),wc.pop(),Q(a,c)}function yb(a,b,c){for(a.declarations=[],a.kind=c;;){var d=N();if(d.id=ac.ecmaVersion>=6?Z(Hb()):Vb(),bb(d.id,!0),d.init=T(Bd)?zb(!0,b):c===Yc.keyword?X():null,a.declarations.push(Q(d,"VariableDeclarator")),!T(rd))break}return a}function zb(a,b){var c=O(),d=Ab(b);if(!a&&mc===rd){var e=P(c);for(e.expressions=[d];T(rd);)e.expressions.push(Ab(b));return Q(e,"SequenceExpression")}return d}function Ab(a){var b=O(),c=Bb(a);if(mc.isAssign){var d=P(b);return d.operator=nc,d.left=mc===Bd?Z(c):c,bb(c),J(),d.right=Ab(a),Q(d,"AssignmentExpression")}return c}function Bb(a){var b=O(),c=Cb(a);if(T(vd)){var d=P(b);return d.test=c,d.consequent=zb(!0),W(td),d.alternate=zb(!0,a),Q(d,"ConditionalExpression")}return c}function Cb(a){var b=O();return Db(Eb(),b,-1,a)}function Db(a,b,c,d){var e=mc.binop;if(null!=e&&(!d||mc!==jd)&&e>c){var f=P(b);f.left=a,f.operator=nc;var g=mc;J();var h=O();return f.right=Db(Eb(),h,e,d),Q(f,g===Fd||g===Gd?"LogicalExpression":"BinaryExpression"),Db(f,b,c,d)}return a}function Eb(){if(mc.prefix){var a,b=N(),c=mc.isUpdate;return mc===zd?a="SpreadElement":(a=c?"UpdateExpression":"UnaryExpression",b.operator=nc,b.prefix=!0),oc=!0,J(),b.argument=Eb(),c?bb(b.argument):xc&&"delete"===b.operator&&"Identifier"===b.argument.type&&e(b.start,"Deleting local variable in strict mode"),Q(b,a)}for(var d=O(),f=Fb();mc.postfix&&!U();){var b=P(d);b.operator=nc,b.prefix=!1,b.argument=f,bb(f),J(),f=Q(b,"UpdateExpression")}return f}function Fb(){var a=O();return Gb(Hb(),a)}function Gb(a,b,c){if(T(ud)){var d=P(b);return d.object=a,d.property=Vb(!0),d.computed=!1,Gb(Q(d,"MemberExpression"),b,c)}if(T(ld)){var d=P(b);return d.object=a,d.property=zb(),d.computed=!0,W(md),Gb(Q(d,"MemberExpression"),b,c)}if(!c&&T(pd)){var d=P(b);return d.callee=a,d.arguments=Ub(qd,!1),Gb(Q(d,"CallExpression"),b,c)}if(mc===xd){var d=P(b);return d.tag=a,d.quasi=Kb(),Gb(Q(d,"TaggedTemplateExpression"),b,c)}return a}function Hb(){switch(mc){case ad:var a=N();return J(),Q(a,"ThisExpression");case fd:if(vc)return $b();case Ec:var b=O(),c=Vb(mc!==Ec);return T(wd)?Qb(P(b),[c]):c;case Cc:var a=N();return a.regex={pattern:nc.pattern,flags:nc.flags},a.value=nc.value,a.raw=bc.slice(ic,jc),J(),Q(a,"Literal");case Bc:case Dc:var a=N();return a.value=nc,a.raw=bc.slice(ic,jc),J(),Q(a,"Literal");case gd:case hd:case id:var a=N();return a.value=mc.atomValue,a.raw=mc.keyword,J(),Q(a,"Literal");case pd:var d,e,b=O();if(J(),ac.ecmaVersion>=7&&mc===Pc)d=_b(P(b),!0);else{var f=++yc;if(mc!==qd?(d=zb(),e="SequenceExpression"===d.type?d.expressions:[d]):e=[],W(qd),yc===f&&T(wd))d=Qb(P(b),e);else{if(d||X(rc),ac.ecmaVersion>=6)for(var g=0;g<e.length;g++)"SpreadElement"===e[g].type&&X();if(ac.preserveParens){var h=P(b);h.expression=d,d=Q(h,"ParenthesizedExpression")}}}return d;case ld:var a=N();return J(),ac.ecmaVersion>=7&&mc===Pc?_b(a,!1):(a.elements=Ub(md,!0,!0),Q(a,"ArrayExpression"));case nd:return Lb();case Qc:var a=N();return J(),Ob(a,!1);case bd:return Tb(N(),!1);case _c:return Ib();case xd:return Kb();default:X()}}function Ib(){var a=N();J();var b=O();return a.callee=Gb(Hb(),b,!0),a.arguments=T(pd)?Ub(qd,!1):Ac,Q(a,"NewExpression")}function Jb(){var a=P(ac.locations?[ic+1,kc.offset(1)]:ic+1);a.value=nc,a.tail=123!==bc.charCodeAt(jc-1),J();var b=a.tail?1:2;return R(a,"TemplateElement",ac.locations?[sc-b,tc.offset(-b)]:sc-b)}function Kb(){var a=N();a.expressions=[];var b=Jb();for(a.quasis=[b];!b.tail;)a.expressions.push(zb()),mc!==yd&&X(),a.quasis.push(b=Jb());return Q(a,"TemplateLiteral")}function Lb(){var a=N(),b=!0,c={};for(a.properties=[],J();!T(od);){if(b)b=!1;else if(W(rd),ac.allowTrailingCommas&&T(od))break;var d,e=N();ac.ecmaVersion>=6&&(e.method=!1,e.shorthand=!1,d=T(Pd)),Mb(e),T(td)?(e.value=zb(!0),e.kind="init"):ac.ecmaVersion>=6&&mc===pd?(e.kind="init",e.method=!0,e.value=Pb(d)):ac.ecmaVersion>=5&&!e.computed&&"Identifier"===e.key.type&&("get"===e.key.name||"set"===e.key.name)?(d&&X(),e.kind=e.key.name,Mb(e),e.value=Pb(!1)):ac.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?(e.kind="init",e.value=e.key,e.shorthand=!0):X(),ab(e,c),a.properties.push(Q(e,"Property"))}return Q(a,"ObjectExpression")}function Mb(a){if(ac.ecmaVersion>=6){if(T(ld))return a.computed=!0,a.key=zb(),void W(md);a.computed=!1}a.key=mc===Bc||mc===Dc?Hb():Vb(!0)}function Nb(a){a.id=null,a.params=[],ac.ecmaVersion>=6&&(a.defaults=[],a.rest=null,a.generator=!1)}function Ob(a,b,c){return Nb(a),ac.ecmaVersion>=6&&(a.generator=T(Pd)),(b||mc===Ec)&&(a.id=Vb()),Rb(a),Sb(a,c),Q(a,b?"FunctionDeclaration":"FunctionExpression")}function Pb(a){var b=N();Nb(b),Rb(b);var c;return ac.ecmaVersion>=6?(b.generator=a,c=!0):c=!1,Sb(b,c),Q(b,"FunctionExpression")}function Qb(a,b){Nb(a);for(var c=a.defaults,d=!1,e=0,f=b.length-1;f>=e;e++){var g=b[e];if("AssignmentExpression"===g.type&&"="===g.operator)d=!0,b[e]=g.left,c.push(g.right);else if(Z(g,e===f,!0),c.push(null),"SpreadElement"===g.type){b.length--,a.rest=g.argument;break}}return a.params=b,d||(a.defaults=[]),Sb(a,!0),Q(a,"ArrowFunctionExpression")}function Rb(a){var b=[],c=!1;for(W(pd);!T(qd);){if(ac.ecmaVersion>=6&&T(zd)){a.rest=Z(Hb(),!1,!0),$(a.rest),W(qd),b.push(null);break}if(a.params.push(ac.ecmaVersion>=6?Z(Hb(),!1,!0):Vb()),ac.ecmaVersion>=6&&(T(Bd)?(c=!0,b.push(zb(!0))):b.push(null)),!T(rd)){W(qd);break}}c&&(a.defaults=b)}function Sb(a,b){var c=b&&mc!==nd;if(c)a.body=zb(!0),a.expression=!0;else{var d=uc,e=vc,f=wc;uc=!0,vc=a.generator,wc=[],a.body=vb(!0),a.expression=!1,uc=d,vc=e,wc=f}if(xc||!c&&a.body.body.length&&S(a.body.body[0])){var g={};a.id&&_(a.id,{});for(var h=0;h<a.params.length;h++)_(a.params[h],g);a.rest&&_(a.rest,g)}}function Tb(a,b){J(),a.id=mc===Ec?Vb():b?X():null,a.superClass=T(cd)?zb():null;var c=N();for(c.body=[],W(nd);!T(od);){var d=N();mc===Ec&&"static"===nc?(J(),d["static"]=!0):d["static"]=!1;var e=T(Pd);Mb(d),mc===pd||d.computed||"Identifier"!==d.key.type||"get"!==d.key.name&&"set"!==d.key.name?d.kind="":(e&&X(),d.kind=d.key.name,Mb(d)),d.value=Pb(e),c.body.push(Q(d,"MethodDefinition")),T(sd)}return a.body=Q(c,"ClassBody"),Q(a,b?"ClassDeclaration":"ClassExpression")}function Ub(a,b,c){for(var d=[],e=!0;!T(a);){if(e)e=!1;else if(W(rd),b&&ac.allowTrailingCommas&&T(a))break;d.push(c&&mc===rd?null:zb(!0))}return d}function Vb(a){var b=N();return a&&"everywhere"==ac.forbidReserved&&(a=!1),mc===Ec?(!a&&(ac.forbidReserved&&(3===ac.ecmaVersion?Rd:Sd)(nc)||xc&&Td(nc))&&-1==bc.slice(ic,jc).indexOf("\\")&&e(ic,"The keyword '"+nc+"' is reserved"),b.name=nc):a&&mc.keyword?b.name=mc.keyword:X(),oc=!1,J(),Q(b,"Identifier")}function Wb(a){if(J(),mc===Wc||mc===Yc||mc===Xc||mc===Qc||mc===bd)a.declaration=db(),a["default"]=!1,a.specifiers=null,a.source=null;else if(T(Lc))a.declaration=zb(!0),a["default"]=!0,a.specifiers=null,a.source=null,V();else{var b=mc===Pd;a.declaration=null,a["default"]=!1,a.specifiers=Xb(),mc===Ec&&"from"===nc?(J(),a.source=mc===Dc?Hb():X()):(b&&X(),a.source=null),V()}return Q(a,"ExportDeclaration")}function Xb(){var a=[],b=!0;if(mc===Pd){var c=N();J(),a.push(Q(c,"ExportBatchSpecifier"))}else for(W(nd);!T(od);){if(b)b=!1;else if(W(rd),ac.allowTrailingCommas&&T(od))break;var c=N();c.id=Vb(mc===Lc),mc===Ec&&"as"===nc?(J(),c.name=Vb(!0)):c.name=null,a.push(Q(c,"ExportSpecifier"))}return a}function Yb(a){return J(),mc===Dc?(a.specifiers=[],a.source=Hb(),a.kind=""):(a.specifiers=Zb(),(mc!==Ec||"from"!==nc)&&X(),J(),a.source=mc===Dc?Hb():X()),V(),Q(a,"ImportDeclaration")}function Zb(){var a=[],b=!0;if(mc===Ec){var c=N();if(c.id=Vb(),bb(c.id,!0),c.name=null,c["default"]=!0,a.push(Q(c,"ImportSpecifier")),!T(rd))return a}if(mc===Pd){var c=N();return J(),(mc!==Ec||"as"!==nc)&&X(),J(),c.name=Vb(),bb(c.name,!0),a.push(Q(c,"ImportBatchSpecifier")),a}for(W(nd);!T(od);){if(b)b=!1;else if(W(rd),ac.allowTrailingCommas&&T(od))break;var c=N();c.id=Vb(!0),mc===Ec&&"as"===nc?(J(),c.name=Vb()):c.name=null,bb(c.name||c.id,!0),c["default"]=!1,a.push(Q(c,"ImportSpecifier"))}return a}function $b(){var a=N();return J(),T(sd)||U()?(a.delegate=!1,a.argument=null):(a.delegate=T(Pd),a.argument=zb(!0)),Q(a,"YieldExpression")}function _b(a,b){for(a.blocks=[];mc===Pc;){var c=N();J(),W(pd),c.left=Z(Hb()),bb(c.left,!0),(mc!==Ec||"of"!==nc)&&X(),J(),c.of=!0,c.right=zb(),W(qd),a.blocks.push(Q(c,"ComprehensionBlock"))}return a.filter=T(Rc)?ub():null,a.body=zb(),W(b?qd:md),a.generator=b,Q(a,"ComprehensionExpression")}a.version="0.11.1";var ac,bc,cc,dc;a.parse=function(a,c){bc=String(a),cc=bc.length,b(c),i();var e=ac.locations?[hc,h()]:hc;return d(),cb(ac.program||P(e))};var ec=a.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};a.parseExpressionAt=function(a,c,e){return bc=String(a),cc=bc.length,b(e),i(c),d(),zb()};var fc=function(a){return"[object Array]"===Object.prototype.toString.call(a)},gc=a.getLineInfo=function(a,b){for(var c=1,d=0;;){de.lastIndex=d;var e=de.exec(a);if(!(e&&e.index<b))break;++c,d=e.index+e[0].length}return{line:c,column:b-d}};a.Token=c,a.tokenize=function(a,d){function e(a){return sc=jc,w(a),new c}return bc=String(a),cc=bc.length,b(d),i(),m(),e.jumpTo=function(a,b){if(hc=a,ac.locations){pc=1,qc=de.lastIndex=0;for(var c;(c=de.exec(bc))&&c.index<a;)++pc,qc=c.index+c[0].length}oc=b,m()},e.noRegexp=function(){oc=!1},e.options=ac,e};var hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac=[],Bc={type:"num"},Cc={type:"regexp"},Dc={type:"string"},Ec={type:"name"},Fc={type:"eof"},Gc={keyword:"break"},Hc={keyword:"case",beforeExpr:!0},Ic={keyword:"catch"},Jc={keyword:"continue"},Kc={keyword:"debugger"},Lc={keyword:"default"},Mc={keyword:"do",isLoop:!0},Nc={keyword:"else",beforeExpr:!0},Oc={keyword:"finally"},Pc={keyword:"for",isLoop:!0},Qc={keyword:"function"},Rc={keyword:"if"},Sc={keyword:"return",beforeExpr:!0},Tc={keyword:"switch"},Uc={keyword:"throw",beforeExpr:!0},Vc={keyword:"try"},Wc={keyword:"var"},Xc={keyword:"let"},Yc={keyword:"const"},Zc={keyword:"while",isLoop:!0},$c={keyword:"with"},_c={keyword:"new",beforeExpr:!0},ad={keyword:"this"},bd={keyword:"class"},cd={keyword:"extends",beforeExpr:!0},dd={keyword:"export"},ed={keyword:"import"},fd={keyword:"yield",beforeExpr:!0},gd={keyword:"null",atomValue:null},hd={keyword:"true",atomValue:!0},id={keyword:"false",atomValue:!1},jd={keyword:"in",binop:7,beforeExpr:!0},kd={"break":Gc,"case":Hc,"catch":Ic,"continue":Jc,"debugger":Kc,"default":Lc,"do":Mc,"else":Nc,"finally":Oc,"for":Pc,"function":Qc,"if":Rc,"return":Sc,"switch":Tc,"throw":Uc,"try":Vc,"var":Wc,let:Xc,"const":Yc,"while":Zc,"with":$c,"null":gd,"true":hd,"false":id,"new":_c,"in":jd,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:!0},"this":ad,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,beforeExpr:!0},"class":bd,"extends":cd,"export":dd,"import":ed,"yield":fd},ld={type:"[",beforeExpr:!0},md={type:"]"},nd={type:"{",beforeExpr:!0},od={type:"}"},pd={type:"(",beforeExpr:!0},qd={type:")"},rd={type:",",beforeExpr:!0},sd={type:";",beforeExpr:!0},td={type:":",beforeExpr:!0},ud={type:"."},vd={type:"?",beforeExpr:!0},wd={type:"=>",beforeExpr:!0},xd={type:"template"},yd={type:"templateContinued"},zd={type:"...",prefix:!0,beforeExpr:!0},Ad={binop:10,beforeExpr:!0},Bd={isAssign:!0,beforeExpr:!0},Cd={isAssign:!0,beforeExpr:!0},Dd={postfix:!0,prefix:!0,isUpdate:!0},Ed={prefix:!0,beforeExpr:!0},Fd={binop:1,beforeExpr:!0},Gd={binop:2,beforeExpr:!0},Hd={binop:3,beforeExpr:!0},Id={binop:4,beforeExpr:!0},Jd={binop:5,beforeExpr:!0},Kd={binop:6,beforeExpr:!0},Ld={binop:7,beforeExpr:!0},Md={binop:8,beforeExpr:!0},Nd={binop:9,prefix:!0,beforeExpr:!0},Od={binop:10,beforeExpr:!0},Pd={binop:10,beforeExpr:!0};a.tokTypes={bracketL:ld,bracketR:md,braceL:nd,braceR:od,parenL:pd,parenR:qd,comma:rd,semi:sd,colon:td,dot:ud,ellipsis:zd,question:vd,slash:Ad,eq:Bd,name:Ec,eof:Fc,num:Bc,regexp:Cc,string:Dc,arrow:wd,template:xd,templateContinued:yd,star:Pd,assign:Cd};for(var Qd in kd)a.tokTypes["_"+Qd]=kd[Qd];var Rd=f("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Sd=f("class enum extends super const export import"),Td=f("implements interface let package private protected public static yield"),Ud=f("eval arguments"),Vd="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Wd=f(Vd),Xd=f(Vd+" let const class extends export import yield"),Yd=Wd,Zd=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,$d="--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",_d="------------------------------------------------------------------------------------------------------------------------------------------------",ae=new RegExp("["+$d+"]"),be=new RegExp("["+$d+_d+"]"),ce=/[\n\r\u2028\u2029]/,de=/\r\n|[\n\r\u2028\u2029]/g,ee=a.isIdentifierStart=function(a){return 65>a?36===a:91>a?!0:97>a?95===a:123>a?!0:a>=170&&ae.test(String.fromCharCode(a))
},fe=a.isIdentifierChar=function(a){return 48>a?36===a:58>a?!0:65>a?!1:91>a?!0:97>a?95===a:123>a?!0:a>=170&&be.test(String.fromCharCode(a))};g.prototype.offset=function(a){return new g(this.line,this.column+a)};var ge=!1;try{new RegExp("","u"),ge=!0}catch(he){}var ie;a.Node=L;var je={kind:"loop"},ke={kind:"switch"}}),function(a){return"object"==typeof exports&&"object"==typeof module?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):void a((this.acorn||(this.acorn={})).walk={})}(function(a){"use strict";function b(a){return"string"==typeof a?function(b){return b==a}:a?a:function(){return!0}}function c(a,b){this.node=a,this.state=b}function d(a,b,c){c(a,b)}function e(){}function f(a,b){return{vars:Object.create(null),prev:a,isCatch:b}}function g(a){for(;a.isCatch;)a=a.prev;return a}a.simple=function(b,c,d,e){function f(a,b,e){var g=e||a.type,h=c[g];d[g](a,b,f),h&&h(a,b)}d||(d=a.base),f(b,e)},a.ancestor=function(b,c,d,e){function f(a,b,e){var g=e||a.type,h=c[g];a!=b[b.length-1]&&(b=b.slice(),b.push(a)),d[g](a,b,f),h&&h(a,b)}d||(d=a.base),e||(e=[]),f(b,e)},a.recursive=function(b,c,d,e){function f(a,b,c){g[c||a.type](a,b,f)}var g=d?a.make(d,e):e;f(b,c)},a.findNodeAt=function(d,e,f,g,h,i){g=b(g);try{h||(h=a.base);var j=function(a,b,d){var i=d||a.type;if((null==e||a.start<=e)&&(null==f||a.end>=f)&&h[i](a,b,j),g(i,a)&&(null==e||a.start==e)&&(null==f||a.end==f))throw new c(a,b)};j(d,i)}catch(k){if(k instanceof c)return k;throw k}},a.findNodeAround=function(d,e,f,g,h){f=b(f);try{g||(g=a.base);var i=function(a,b,d){var h=d||a.type;if(!(a.start>e||a.end<e)&&(g[h](a,b,i),f(h,a)))throw new c(a,b)};i(d,h)}catch(j){if(j instanceof c)return j;throw j}},a.findNodeAfter=function(d,e,f,g,h){f=b(f);try{g||(g=a.base);var i=function(a,b,d){if(!(a.end<e)){var h=d||a.type;if(a.start>=e&&f(h,a))throw new c(a,b);g[h](a,b,i)}};i(d,h)}catch(j){if(j instanceof c)return j;throw j}},a.findNodeBefore=function(d,e,f,g,h){f=b(f),g||(g=a.base);var i,j=function(a,b,d){if(!(a.start>e)){var h=d||a.type;a.end<=e&&(!i||i.node.end<a.end)&&f(h,a)&&(i=new c(a,b)),g[h](a,b,j)}};return j(d,h),i},a.make=function(b,c){c||(c=a.base);var d={};for(var e in c)d[e]=c[e];for(var e in b)d[e]=b[e];return d};var h=a.base={};h.Program=h.BlockStatement=function(a,b,c){for(var d=0;d<a.body.length;++d)c(a.body[d],b,"Statement")},h.Statement=d,h.EmptyStatement=e,h.ExpressionStatement=function(a,b,c){c(a.expression,b,"Expression")},h.IfStatement=function(a,b,c){c(a.test,b,"Expression"),c(a.consequent,b,"Statement"),a.alternate&&c(a.alternate,b,"Statement")},h.LabeledStatement=function(a,b,c){c(a.body,b,"Statement")},h.BreakStatement=h.ContinueStatement=e,h.WithStatement=function(a,b,c){c(a.object,b,"Expression"),c(a.body,b,"Statement")},h.SwitchStatement=function(a,b,c){c(a.discriminant,b,"Expression");for(var d=0;d<a.cases.length;++d){var e=a.cases[d];e.test&&c(e.test,b,"Expression");for(var f=0;f<e.consequent.length;++f)c(e.consequent[f],b,"Statement")}},h.ReturnStatement=h.YieldExpression=function(a,b,c){a.argument&&c(a.argument,b,"Expression")},h.ThrowStatement=h.SpreadElement=function(a,b,c){c(a.argument,b,"Expression")},h.TryStatement=function(a,b,c){c(a.block,b,"Statement"),a.handler&&c(a.handler.body,b,"ScopeBody"),a.finalizer&&c(a.finalizer,b,"Statement")},h.WhileStatement=function(a,b,c){c(a.test,b,"Expression"),c(a.body,b,"Statement")},h.DoWhileStatement=h.WhileStatement,h.ForStatement=function(a,b,c){a.init&&c(a.init,b,"ForInit"),a.test&&c(a.test,b,"Expression"),a.update&&c(a.update,b,"Expression"),c(a.body,b,"Statement")},h.ForInStatement=h.ForOfStatement=function(a,b,c){c(a.left,b,"ForInit"),c(a.right,b,"Expression"),c(a.body,b,"Statement")},h.ForInit=function(a,b,c){"VariableDeclaration"==a.type?c(a,b):c(a,b,"Expression")},h.DebuggerStatement=e,h.FunctionDeclaration=function(a,b,c){c(a,b,"Function")},h.VariableDeclaration=function(a,b,c){for(var d=0;d<a.declarations.length;++d){var e=a.declarations[d];e.init&&c(e.init,b,"Expression")}},h.Function=function(a,b,c){c(a.body,b,"ScopeBody")},h.ScopeBody=function(a,b,c){c(a,b,"Statement")},h.Expression=d,h.ThisExpression=e,h.ArrayExpression=function(a,b,c){for(var d=0;d<a.elements.length;++d){var e=a.elements[d];e&&c(e,b,"Expression")}},h.ObjectExpression=function(a,b,c){for(var d=0;d<a.properties.length;++d)c(a.properties[d],b)},h.FunctionExpression=h.ArrowFunctionExpression=h.FunctionDeclaration,h.SequenceExpression=h.TemplateLiteral=function(a,b,c){for(var d=0;d<a.expressions.length;++d)c(a.expressions[d],b,"Expression")},h.UnaryExpression=h.UpdateExpression=function(a,b,c){c(a.argument,b,"Expression")},h.BinaryExpression=h.AssignmentExpression=h.LogicalExpression=function(a,b,c){c(a.left,b,"Expression"),c(a.right,b,"Expression")},h.ConditionalExpression=function(a,b,c){c(a.test,b,"Expression"),c(a.consequent,b,"Expression"),c(a.alternate,b,"Expression")},h.NewExpression=h.CallExpression=function(a,b,c){if(c(a.callee,b,"Expression"),a.arguments)for(var d=0;d<a.arguments.length;++d)c(a.arguments[d],b,"Expression")},h.MemberExpression=function(a,b,c){c(a.object,b,"Expression"),a.computed&&c(a.property,b,"Expression")},h.Identifier=h.Literal=h.ExportDeclaration=h.ImportDeclaration=e,h.TaggedTemplateExpression=function(a,b,c){c(a.tag,b,"Expression"),c(a.quasi,b)},h.ClassDeclaration=h.ClassExpression=function(a,b,c){a.superClass&&c(a.superClass,b,"Expression");for(var d=0;d<a.body.body.length;d++)c(a.body.body[d],b)},h.MethodDefinition=h.Property=function(a,b,c){a.computed&&c(a.key,b,"Expression"),c(a.value,b,"Expression")},h.ComprehensionExpression=function(a,b,c){for(var d=0;d<a.blocks.length;d++)c(a.blocks[d].right,b,"Expression");c(a.body,b,"Expression")},a.scopeVisitor=a.make({Function:function(a,b,c){for(var d=f(b),e=0;e<a.params.length;++e)d.vars[a.params[e].name]={type:"argument",node:a.params[e]};if(a.id){var h="FunctionDeclaration"==a.type;(h?g(b):d).vars[a.id.name]={type:h?"function":"function name",node:a.id}}c(a.body,d,"ScopeBody")},TryStatement:function(a,b,c){if(c(a.block,b,"Statement"),a.handler){var d=f(b,!0);d.vars[a.handler.param.name]={type:"catch clause",node:a.handler.param},c(a.handler.body,d,"ScopeBody")}a.finalizer&&c(a.finalizer,b,"Statement")},VariableDeclaration:function(a,b,c){for(var d=g(b),e=0;e<a.declarations.length;++e){var f=a.declarations[e];d.vars[f.id.name]={type:"var",node:f.id},f.init&&c(f.init,b,"Expression")}}})}),function(a,b){return"object"==typeof exports&&"object"==typeof module?b(exports,require("./acorn")):"function"==typeof define&&define.amd?define(["exports","./acorn"],b):void b(a.acorn||(a.acorn={}),a.acorn)}(this,function(a,b){"use strict";function c(a){if(mb=sb.end,hb.locations&&(qb=sb.endLoc),a&&(tb.length=0),sb=tb.shift()||d(a),sb.start>=ob){for(;sb.start>=ob;)nb=ob,ob=k(nb)+1;pb=l(nb)}}function d(a){for(;;)try{var c=jb(a);return c.type===lb.dot&&"."===ib.substr(c.end,1)&&(c=jb(),c.start--,c.type=lb.ellipsis),c}catch(d){if(!(d instanceof SyntaxError))throw d;var f=d.message,i=d.raisedAt,j=!0;if(/unterminated/i.test(f))if(i=k(d.pos+1),/string/.test(f))j={start:d.pos,end:i,type:lb.string,value:ib.slice(d.pos+1,i)};else if(/regular expr/i.test(f)){var l=ib.slice(d.pos,i);try{l=new RegExp(l)}catch(d){}j={start:d.pos,end:i,type:lb.regexp,value:l}}else j=/template/.test(f)?{start:d.pos,end:i,type:"`"==ib.charAt(d.pos)?lb.template:lb.templateContinued,value:ib.slice(d.pos+1,i)}:!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number/i.test(f))for(;i<ib.length&&!h(ib.charCodeAt(i));)++i;else if(/character escape|expected hexadecimal/i.test(f))for(;i<ib.length;){var m=ib.charCodeAt(i++);if(34===m||39===m||g(m))break}else if(/unexpected character/i.test(f))i++,j=!1;else{if(!/regular expression/i.test(f))throw d;j=!0}if(e(i),j===!0&&(j={start:i,end:i,type:lb.name,value:""}),j)return hb.locations&&(j.startLoc=b.getLineInfo(ib,j.start),j.endLoc=b.getLineInfo(ib,j.end)),j}}function e(a){for(;;)try{var b=ib.charAt(a-1),c=!b||/[\[\{\(,;:?\/*=+\-~!|&%^<>]/.test(b)||/[enwfd]/.test(b)&&/\b(keywords|case|else|return|throw|new|in|(instance|type)of|delete|void)$/.test(ib.slice(a-10,a));return jb.jumpTo(a,c)}catch(d){if(!(d instanceof SyntaxError&&/unterminated comment/i.test(d.message)))throw d;if(a=k(d.pos+1),a>=ib.length)return}}function f(a){for(;a>tb.length;)tb.push(d());return tb[a-1]}function g(a){return 10===a||13===a||8232===a||8329===a}function h(a){return 14>a&&a>8||32===a||160===a||g(a)}function i(){kb.push(pb)}function j(){pb=kb.pop()}function k(a){for(;a<ib.length&&!g(ib.charCodeAt(a));)++a;return a}function l(a){for(var b=0;;++a){var c=ib.charCodeAt(a);if(32===c)++b;else{if(9!==c)return b;b+=hb.tabSize}}}function m(a,b,c,d){return sb.type===a||sb.type===lb.eof?!0:c!=nb&&b>pb&&n()&&(!d||ob>=ib.length||l(ob)<b)?!0:!1}function n(){for(var a=sb.start-1;a>=nb;--a){var b=ib.charCodeAt(a);if(9!==b&&32!==b)return!1}return!0}function o(a){this.type=null,this.start=a,this.end=null}function p(a){this.start=a||sb.startLoc||{line:1,column:0},this.end=null,null!==rb&&(this.source=rb)}function q(){var a=new o(sb.start);return hb.locations&&(a.loc=new p),hb.directSourceFile&&(a.sourceFile=hb.directSourceFile),hb.ranges&&(a.range=[sb.start,0]),a}function r(){return hb.locations?[sb.start,sb.startLoc]:sb.start}function s(a){var b;return hb.locations?(b=new o(a[0]),b.loc=new p(a[1])):b=new o(a),hb.directSourceFile&&(b.sourceFile=hb.directSourceFile),hb.ranges&&(b.range=[a[0],0]),b}function t(a,b){return a.type=b,a.end=mb,hb.locations&&(a.loc.end=qb),hb.ranges&&(a.range[1]=mb),a}function u(a,b,c){return hb.locations&&(a.loc.end=c[1],c=c[0]),a.type=b,a.end=c,hb.ranges&&(a.range[1]=c),a}function v(){var a=q();return a.name="",t(a,"Identifier")}function w(a){return""==a.name}function x(a){return sb.type===a?(c(),!0):!1}function y(){return sb.type===lb.eof||sb.type===lb.braceR||ub.test(ib.slice(mb,sb.start))}function z(){return x(lb.semi)}function A(a){return x(a)?!0:f(1).type==a?(c(),c(),!0):f(2).type==a?(c(),c(),c(),!0):void 0}function B(a){if(!a)return a;switch(a.type){case"Identifier":case"MemberExpression":case"ObjectPattern":case"ArrayPattern":case"SpreadElement":return a;default:return v()}}function C(){var a=s(hb.locations?[0,b.getLineInfo(ib,0)]:0);for(a.body=[];sb.type!==lb.eof;)a.body.push(D());return mb=sb.end,qb=sb.endLoc,t(a,"Program")}function D(){(sb.type===lb.slash||sb.type===lb.assign&&"/="===sb.value)&&c(!0);var a=sb.type,b=q();switch(a){case lb._break:case lb._continue:c();var d=a===lb._break;return z()||y()?b.label=null:(b.label=sb.type===lb.name?Y():null,z()),t(b,d?"BreakStatement":"ContinueStatement");case lb._debugger:return c(),z(),t(b,"DebuggerStatement");case lb._do:return c(),b.body=D(),b.test=x(lb._while)?J():v(),z(),t(b,"DoWhileStatement");case lb._for:if(c(),i(),A(lb.parenL),sb.type===lb.semi)return F(b,null);if(sb.type===lb._var||sb.type===lb._let){var e=H(!0);return 1===e.declarations.length&&(sb.type===lb._in||sb.type===lb.name&&"of"===sb.value)?G(b,e):F(b,e)}var e=I(!1,!0);return sb.type===lb._in||sb.type===lb.name&&"of"===sb.value?G(b,B(e)):F(b,e);case lb._function:return c(),ab(b,!0);case lb._if:return c(),b.test=J(),b.consequent=D(),b.alternate=x(lb._else)?D():null,t(b,"IfStatement");case lb._return:return c(),x(lb.semi)||y()?b.argument=null:(b.argument=I(),z()),t(b,"ReturnStatement");case lb._switch:var f=pb,g=nb;c(),b.discriminant=J(),b.cases=[],i(),A(lb.braceL);for(var h;!m(lb.braceR,f,g,!0);)if(sb.type===lb._case||sb.type===lb._default){var k=sb.type===lb._case;h&&t(h,"SwitchCase"),b.cases.push(h=q()),h.consequent=[],c(),h.test=k?I():null,A(lb.colon)}else h||(b.cases.push(h=q()),h.consequent=[],h.test=null),h.consequent.push(D());return h&&t(h,"SwitchCase"),j(),x(lb.braceR),t(b,"SwitchStatement");case lb._throw:return c(),b.argument=I(),z(),t(b,"ThrowStatement");case lb._try:if(c(),b.block=E(),b.handler=null,sb.type===lb._catch){var l=q();c(),A(lb.parenL),l.param=Y(),A(lb.parenR),l.guard=null,l.body=E(),b.handler=t(l,"CatchClause")}return b.finalizer=x(lb._finally)?E():null,b.handler||b.finalizer?t(b,"TryStatement"):b.block;case lb._var:case lb._let:case lb._const:return H();case lb._while:return c(),b.test=J(),b.body=D(),t(b,"WhileStatement");case lb._with:return c(),b.object=J(),b.body=D(),t(b,"WithStatement");case lb.braceL:return E();case lb.semi:return c(),t(b,"EmptyStatement");case lb._class:return V(!0,!0);case lb._import:return eb();case lb._export:return db();default:var n=I();return w(n)?(c(),sb.type===lb.eof?t(b,"EmptyStatement"):D()):a===lb.name&&"Identifier"===n.type&&x(lb.colon)?(b.body=D(),b.label=n,t(b,"LabeledStatement")):(b.expression=n,z(),t(b,"ExpressionStatement"))}}function E(){var a=q();i(),A(lb.braceL);var b=pb,c=nb;for(a.body=[];!m(lb.braceR,b,c,!0);)a.body.push(D());return j(),x(lb.braceR),t(a,"BlockStatement")}function F(a,b){return a.init=b,a.test=a.update=null,x(lb.semi)&&sb.type!==lb.semi&&(a.test=I()),x(lb.semi)&&sb.type!==lb.parenR&&(a.update=I()),j(),A(lb.parenR),a.body=D(),t(a,"ForStatement")}function G(a,b){var d=sb.type===lb._in?"ForInStatement":"ForOfStatement";return c(),a.left=b,a.right=I(),j(),A(lb.parenR),a.body=D(),t(a,d)}function H(a){var b=q();b.kind=sb.type.keyword,c(),b.declarations=[];do{var d=q();d.id=hb.ecmaVersion>=6?$(R()):Y(),d.init=x(lb.eq)?I(!0,a):null,b.declarations.push(t(d,"VariableDeclarator"))}while(x(lb.comma));if(!b.declarations.length){var d=q();d.id=v(),b.declarations.push(t(d,"VariableDeclarator"))}return a||z(),t(b,"VariableDeclaration")}function I(a,b){var c=r(),d=K(b);if(!a&&sb.type===lb.comma){var e=s(c);for(e.expressions=[d];x(lb.comma);)e.expressions.push(K(b));return t(e,"SequenceExpression")}return d}function J(){i(),A(lb.parenL);var a=I();return j(),A(lb.parenR),a}function K(a){var b=r(),d=L(a);if(sb.type.isAssign){var e=s(b);return e.operator=sb.value,e.left=sb.type===lb.eq?$(d):B(d),c(),e.right=K(a),t(e,"AssignmentExpression")}return d}function L(a){var b=r(),c=M(a);if(x(lb.question)){var d=s(b);return d.test=c,d.consequent=I(!0),d.alternate=A(lb.colon)?I(!0,a):v(),t(d,"ConditionalExpression")}return c}function M(a){var b=r(),c=pb,d=nb;return N(O(a),b,-1,a,c,d)}function N(a,b,d,e,f,g){if(nb!=g&&f>pb&&n())return a;var h=sb.type.binop;if(null!=h&&(!e||sb.type!==lb._in)&&h>d){var i=s(b);if(i.left=a,i.operator=sb.value,c(),nb!=g&&f>pb&&n())i.right=v();else{var j=r();i.right=N(O(e),j,h,e,f,g)}return t(i,/&&|\|\|/.test(i.operator)?"LogicalExpression":"BinaryExpression"),N(i,b,d,e,f,g)}return a}function O(a){if(sb.type.prefix){var b,d=q(),e=sb.type.isUpdate;return sb.type===lb.ellipsis?b="SpreadElement":(b=e?"UpdateExpression":"UnaryExpression",d.operator=sb.value,d.prefix=!0),d.operator=sb.value,d.prefix=!0,c(),d.argument=O(a),e&&(d.argument=B(d.argument)),t(d,b)}for(var f=r(),g=P();sb.type.postfix&&!y();){var d=s(f);d.operator=sb.value,d.prefix=!1,d.argument=B(g),c(),g=t(d,"UpdateExpression")}return g}function P(){var a=r();return Q(R(),a,!1,pb,nb)}function Q(a,b,d,e,f){for(;;){if(nb!=f&&e>=pb&&n()){if(sb.type!=lb.dot||pb!=e)return a;--e}if(x(lb.dot)){var g=s(b);g.object=a,g.property=nb!=f&&e>=pb&&n()?v():X()||v(),g.computed=!1,a=t(g,"MemberExpression")}else if(sb.type==lb.bracketL){i(),c();var g=s(b);g.object=a,g.property=I(),g.computed=!0,j(),A(lb.bracketR),a=t(g,"MemberExpression")}else if(d||sb.type!=lb.parenL){if(sb.type!=lb.template)return a;var g=s(b);g.tag=a,g.quasi=U(),a=t(g,"TaggedTemplateExpression")}else{i();var g=s(b);g.callee=a,g.arguments=gb(lb.parenR),a=t(g,"CallExpression")}}}function R(){switch(sb.type){case lb._this:var a=q();return c(),t(a,"ThisExpression");case lb.name:var b=r(),d=Y();return x(lb.arrow)?cb(s(b),[d]):d;case lb.regexp:var a=q(),e=sb.value;return a.regex={pattern:e.pattern,flags:e.flags},a.value=e.value,a.raw=ib.slice(sb.start,sb.end),c(),t(a,"Literal");case lb.num:case lb.string:var a=q();return a.value=sb.value,a.raw=ib.slice(sb.start,sb.end),c(),t(a,"Literal");case lb._null:case lb._true:case lb._false:var a=q();return a.value=sb.type.atomValue,a.raw=sb.type.keyword,c(),t(a,"Literal");case lb.parenL:var b=r();c();var e=I();if(A(lb.parenR),x(lb.arrow))return cb(s(b),e.expressions||(w(e)?[]:[e]));if(hb.preserveParens){var f=s(b);f.expression=e,e=t(f,"ParenthesizedExpression")}return e;case lb.bracketL:var a=q();return i(),a.elements=gb(lb.bracketR,!0),t(a,"ArrayExpression");case lb.braceL:return V();case lb._class:return V(!0);case lb._function:var a=q();return c(),ab(a,!1);case lb._new:return S();case lb._yield:var a=q();return c(),z()||y()?(a.delegate=!1,a.argument=null):(a.delegate=x(lb.star),a.argument=I(!0)),t(a,"YieldExpression");case lb.template:return U();default:return v()}}function S(){var a=q(),b=pb,d=nb;c();var e=r();return a.callee=Q(R(),e,!0,b,d),sb.type==lb.parenL?(i(),a.arguments=gb(lb.parenR)):a.arguments=[],t(a,"NewExpression")}function T(){var a=s(hb.locations?[sb.start+1,sb.startLoc.offset(1)]:sb.start+1);a.value=sb.value,a.tail=123!==ib.charCodeAt(sb.end-1);var b=a.tail?1:2,d=hb.locations?[sb.end-b,sb.endLoc.offset(-b)]:sb.end-b;return c(),u(a,"TemplateElement",d)}function U(){var a=q();a.expressions=[];var b=T();for(a.quasis=[b];!b.tail;){var c=I();if(w(c)){a.quasis[a.quasis.length-1].tail=!0;break}a.expressions.push(c),sb.type===lb.templateContinued?a.quasis.push(b=T()):(b=q(),b.value={cooked:"",raw:""},b.tail=!0,a.quasis.push(b))}return t(a,"TemplateLiteral")}function V(a,b){var d=q();a?(c(),sb.type===lb.name?d.id=Y():b&&(d.id=v()),d.superClass=x(lb._extends)?I():null,d.body=q(),d.body.body=[]):d.properties=[],i();var e=pb+1,f=nb;for(x(lb.braceL),e>pb+1&&(e=pb,f=nb);!m(lb.braceR,e,f);){var g,h=q();hb.ecmaVersion>=6&&(a?(h["static"]=sb.type===lb.name&&"static"===sb.value)&&c():(h.method=!1,h.shorthand=!1),g=x(lb.star)),W(h),w(h.key)?(w(I(!0))&&c(),x(lb.comma)):(!a&&x(lb.colon)?(h.kind="init",h.value=I(!0)):hb.ecmaVersion>=6&&(sb.type===lb.parenL||sb.type===lb.braceL)?(a?h.kind="":(h.kind="init",h.method=!0),h.value=bb(g)):hb.ecmaVersion>=5&&"Identifier"===h.key.type&&("get"===h.key.name||"set"===h.key.name)?(h.kind=h.key.name,W(h),h.value=bb(!1)):a?(h.kind="",h.value=bb(g)):(h.kind="init",h.value=hb.ecmaVersion>=6?h.key:v(),h.shorthand=!0),a?(d.body.body.push(t(h,"MethodDefinition")),z()):(d.properties.push(t(h,"Property")),x(lb.comma)))}return j(),x(lb.braceR)||(mb=sb.start,hb.locations&&(qb=sb.startLoc)),a?(z(),t(d.body,"ClassBody"),t(d,b?"ClassDeclaration":"ClassExpression")):t(d,"ObjectExpression")}function W(a){if(hb.ecmaVersion>=6){if(x(lb.bracketL))return a.computed=!0,a.key=I(),void A(lb.bracketR);a.computed=!1}var b=sb.type===lb.num||sb.type===lb.string?R():Y();a.key=b||v()}function X(){return sb.type===lb.name||sb.type.keyword?Y():void 0}function Y(){var a=q();return a.name=sb.type===lb.name?sb.value:sb.type.keyword,jb.noRegexp(),c(),t(a,"Identifier")}function Z(a){a.id=null,a.params=[],hb.ecmaVersion>=6&&(a.defaults=[],a.rest=null,a.generator=!1,a.expression=!1)}function $(a){if(hb.ecmaVersion>=6&&a)switch(a.type){case"ObjectExpression":a.type="ObjectPattern";for(var b=a.properties,c=0;c<b.length;c++)b[c].value=$(b[c].value);break;case"ArrayExpression":a.type="ArrayPattern";for(var d=a.elements,c=0;c<d.length;c++)d[c]=$(d[c]);break;case"SpreadElement":a.argument=$(a.argument)}return B(a)}function _(a,b){var c=[],d=!1;b||(i(),b=gb(lb.parenR));for(var e=0;e<b.length;e++){var f=b[e],g=null;"AssignmentExpression"===f.type&&(g=f.right,f=f.left),f=$(f),"SpreadElement"!==f.type||(f=f.argument,e!==b.length-1)?(a.params.push(f),c.push(g),g&&(d=!0)):a.rest=f}d&&(a.defaults=c)}function ab(a,b){return Z(a),hb.ecmaVersion>=6&&(a.generator=x(lb.star)),sb.type===lb.name?a.id=Y():b&&(a.id=v()),_(a),a.body=E(),t(a,b?"FunctionDeclaration":"FunctionExpression")}function bb(a){var b=q();return Z(b),_(b),b.generator=a||!1,b.expression=hb.ecmaVersion>=6&&sb.type!==lb.braceL,b.body=b.expression?I(!0):E(),t(b,"FunctionExpression")}function cb(a,b){return Z(a),_(a,b),a.expression=sb.type!==lb.braceL,a.body=a.expression?I(!0):E(),t(a,"ArrowFunctionExpression")}function db(){var a=q();return c(),a["default"]=x(lb._default),a.specifiers=a.source=null,a["default"]?(a.declaration=I(),z()):sb.type.keyword?a.declaration=D():(a.declaration=null,fb(a,"Export")),z(),t(a,"ExportDeclaration")}function eb(){var a=q();if(c(),sb.type===lb.string)a.specifiers=[],a.source=R(),a.kind="";else{if(sb.type===lb.name&&"from"!==sb.value){var b=q();b.id=Y(),b.name=null,b["default"]=!0,t(b,"ImportSpecifier"),x(lb.comma)}fb(a,"Import");for(var d=a.specifiers,e=0;e<d.length;e++)d[e]["default"]=!1;b&&a.specifiers.unshift(b)}return z(),t(a,"ImportDeclaration")}function fb(a,b){var d=a.specifiers=[];if(sb.type===lb.star){var e=q();c(),sb.type===lb.name&&"as"===sb.value&&(c(),e.name=Y()),d.push(t(e,b+"BatchSpecifier"))}else{var f=pb,g=nb,h=ob;for(i(),x(lb.braceL),nb>h&&(h=nb);!m(lb.braceR,f+(h>=nb?1:0),g);){var e=q();if(sb.type===lb.star)c(),sb.type===lb.name&&"as"===sb.value&&(c(),e.name=Y()),t(e,b+"BatchSpecifier");else{if(sb.type===lb.name&&"from"===sb.value)break;e.id=Y(),sb.type===lb.name&&"as"===sb.value?(c(),e.name=Y()):e.name=null,t(e,b+"Specifier")}d.push(e),x(lb.comma)}x(lb.braceR),j()}sb.type===lb.name&&"from"===sb.value?(c(),a.source=R()):a.source=null}function gb(a,b){var d=pb,e=nb,f=[];for(c();!m(a,d+1,e);)if(x(lb.comma))f.push(b?null:v());else{var g=I(!0);if(w(g)){if(m(a,d,e))break;c()}else f.push(g);x(lb.comma)}return j(),x(a)||(mb=sb.start,hb.locations&&(qb=sb.startLoc)),f}var hb,ib,jb,kb,lb=b.tokTypes;b.defaultOptions.tabSize=4,a.parse_dammit=function(a,d){return d||(d={}),ib=String(a),jb=b.tokenize(ib,d),hb=jb.options,rb=hb.sourceFile||null,kb=[],ob=0,tb.length=0,c(),C()};var mb,nb,ob,pb,qb,rb,sb={start:0,end:0},tb=[],ub=/[\n\r\u2028\u2029]/;o.prototype=b.Node.prototype});var isCommonJS="undefined"!=typeof module&&module.require,Global="undefined"!=typeof window?window:global,lang="undefined"!=typeof lively?lively.lang:isCommonJS&&module.require("lively.lang"),escodegen=isCommonJS?require("escodegen"):escodegen,acorn=!isCommonJS&&Global.acorn;!acorn&&isCommonJS&&(acorn=require("acorn"),acorn.walk=require("acorn/util/walk"),acorn.parse_dammit=require("acorn/acorn_loose").parse_dammit);var env={isCommonJS:isCommonJS,Global:Global,lively:isCommonJS?Global.lively||{}:Global.lively||(Global.lively={}),"lively.lang":lang,"lively.ast":{},escodegen:escodegen,acorn:acorn};env.lively.ast=env["lively.ast"],isCommonJS?lang.obj.extend(module.exports,env):env.lively["lively.lang_env"]=env,function(a){var b="undefined"!=typeof module&&module.require?module.require("./env"):lively["lively.lang_env"];a(b.acorn,b.lively,b["lively.lang"],b["lively.ast"]),b.isCommonJS&&(require("./lib/acorn-extension"),require("./lib/mozilla-ast-visitors"),require("./lib/mozilla-ast-visitor-interface"),require("./lib/query"),require("./lib/transform"),require("./lib/comments"),module.exports=b["lively.ast"])}(function(a,b,c,d){d.acorn=a,d.parse=function(b,e){function f(a){a=h(g(a)),j.allComments=a.comments}function g(a){return i.forEach(function(b){var e=c.arr.detect(d.nodesAt(b.start,j).reverse(),function(a){return"BlockStatement"===a.type||"Program"===a.type});e||(e=j),e.comments||(e.comments=[]),e.comments.push(b),a.nodesWithComments.push(e)}),a}function h(a){return a.nodesWithComments.forEach(function(d){c.arr.clone(d.comments).reduce(function(e,f){if(f.isBlock)return e.lastComment=null,e;if(!e.lastComment)return e.lastComment=f,e;var g=e.lastComment,h=c.arr.detect(d.body,function(a){return a.start>=g.end&&a.end<=f.start});if(h)return e.lastComment=f,e;var i=b.slice(g.end,f.start);return/[\n\r][\n\r]+/.test(i)?(e.lastComment=f,e):(g.text+="\n"+f.text,g.end=f.end,c.arr.remove(d.comments,f),c.arr.remove(a.comments,f),e)},{lastComment:null})}),a}if(e=e||{},e.ecmaVersion=e.ecmaVersion||6,e.withComments){delete e.withComments;var i=[];e.onComment=function(a,b,c,d,e,f){i.push({isBlock:a,text:b,node:null,start:c,end:d,line:e,column:f})}}var j=e.addSource?a.walk.addSource(b,e):a.parse(b,e);return e.addAstIndex&&!j.hasOwnProperty("astIndex")&&a.walk.addAstIndex(j),j&&i&&f({ast:j,comments:i,nodesWithComments:[]}),j},d.parseFunction=function(b,c){c=c||{},c.ecmaVersion=6;var d="("+b+")",e=a.parse(d);return a.walk.addSource(e,d),e.body[0].expression},d.parseLikeOMeta=function(b,c){function d(b){return a.walk.toLKObjects(f.parse(b))}var e,f=this;switch(c){case"expr":case"stmt":case"functionDef":e=d(b),e.isSequence&&1==e.children.length&&(e=e.children[0],e.setParent(void 0));break;case"memberFragment":b="({"+b+"})",e=d(b),e=e.children[0].properties[0],e.setParent(void 0);break;case"categoryFragment":case"traitFragment":b="["+b+"]",e=d(b),e=e.children[0],e.setParent(void 0);break;default:e=d(b)}return e.source=b,e},d.fuzzyParse=function(b,c){c=c||{},c.ecmaVersion=6;var e,f,g;"LabeledStatement"===c.type&&(f="$={"+b+"}");try{e=d.parse(f||b,c),f?e=null:c.addSource&&a.walk.addSource(e,b)}catch(h){g=h}if(g&&void 0!==g.raisedAt){f&&(g.pos-=3,g.raisedAt-=3,g.loc.column-=3);var i="";i+=b.slice(g.raisedAt-20,g.raisedAt),i+="<-error->",i+=b.slice(g.raisedAt,g.raisedAt+20),c.verbose&&show("parse error: "+i),g.parseErrorSource=i}else g&&c.verbose&&show(""+g+g.stack);return e||(e=a.parse_dammit(b,c),c.addSource&&a.walk.addSource(e,b),e.isFuzzy=!0,e.parseError=g),e},d.nodesAt=function(b,c){return c="string"==typeof c?this.parse(c):c,a.walk.findNodesIncluding(c,b)}}),function(a){var b="undefined"!=typeof module&&module.require?module.require("../env"):lively["lively.lang_env"];a(b.acorn,b.escodegen,b.lively,b["lively.lang"],b["lively.ast"])}(function(a,b,c,d,e){e.acorn=a,a.walk.forEachNode=function(b,c,e,f){f=f||{};var g=f.traversal||"preorder",h=d.obj.clone(f.visitors?f.visitors:a.walk.visitors.withMemberExpression),i="preorder"===g?function(a,b,d,f,g){return c(d,e,f,b),a(d,f+1,g)}:function(a,b,d,f,g){var h=a(d,f+1,g);return c(d,e,f,b),h};return Object.keys(h).forEach(function(a){var b=h[a];h[a]=function(c,d,e){return i(b,a,c,d,e)}}),a.walk.recursive(b,0,null,h),b},a.walk.matchNodes=function(b,c,d,e){function f(a,b,d,e){c[a.type]&&c[a.type](a,b,d,e)}return a.walk.forEachNode(b,f,d,e)},a.walk.findNodesIncluding=function(b,c,e,f){var g=[];return f=f||d.obj.clone(a.walk.visitors.withMemberExpression),Object.keys(f).forEach(function(a){var b=f[a];f[a]=function(a,c,e){return d.arr.pushIfNotIncluded(g,a),b(a,c,e)}}),f.Property=function(a,b,c){d.arr.pushIfNotIncluded(g,a),c(a.key,b,"Expression"),c(a.value,b,"Expression")},f.LabeledStatement=function(a,b,c){a.label&&c(a.label,b,"Expression"),c(a.body,b,"Statement")},a.walk.findNodeAround(b,c,e,f),g},a.walk.addSource=function(b,c,d,e){return c="string"==typeof b?b:c,b="string"==typeof b?a.parse(b):b,d=!!d,a.walk.forEachNode(b,function(a){(!a.source||e)&&(a.source=d?c:c.slice(a.start,a.end))})},a.walk.inspect=function(b,c){return c="string"==typeof b?b:null,b="string"==typeof b?a.parse(b):b,c&&a.walk.addSource(b,c),d.obj.inspect(b)},a.walk.withParentInfo=function(b,c,e){function f(a){var b={id:Strings.newUUID(),parentScope:a,containingScopes:[]};return a&&a.containingScopes.push(b),b}e=e||{};var g,h=a.walk.make({Function:function(a,b,c){b&&b.scope&&(b.scope=f(b.scope)),c(a.body,b,"ScopeBody")},VariableDeclarator:function(a,b,c){a.init&&c(a.init,b,"Expression")},VariableDeclaration:function(a,b,c){for(var d=0;d<a.declarations.length;++d){var e=a.declarations[d];e&&c(e,b,"VariableDeclarator")}},ObjectExpression:function(a,b,c){for(var d=0;d<a.properties.length;++d){var e=a.properties[d];c(e.key,b,"Expression"),c(e.value,b,"Expression")}},MemberExpression:function(a,b,c){c(a.object,b,"Expression"),c(a.property,b,"Expression")}}),i=[];a.walk.forEachNode(b,function(a){d.arr.withoutAll(Object.keys(a),["end","start","type","source","raw"]).forEach(function(b){if(!a.__lookupGetter__(b)){var c=a[b];a.__defineGetter__(b,function(){return g=b,c}),i.push([a,b,a[b]])}})},null,{visitors:h});var j=[];return Object.keys(h).forEach(function(a){var b=h[a];h[a]=function(d,f,h){return a===d.type||e.visitAllNodes?(j.push(c.call(null,d,{scope:f.scope,depth:f.depth,parent:f.parent,type:a,propertyInParent:g})),b(d,{scope:f.scope,parent:d,depth:f.depth+1},h)):b(d,f,h)}}),a.walk.recursive(b,{scope:f(),parent:null,propertyInParent:"",depth:0},null,h),i.forEach(function(a){delete a[0][a[1]],a[0][a[1]]=a[2]}),j},a.walk.toLKObjects=function(a){function b(a,b){return a=a||-1,b=b||-1,new c.ast.Variable([a,b],"undefined")}function d(a){return e[a.type](a,d)}if(!a.type)throw new Error("Given AST is not an Acorn AST.");var e={Program:function(a,b){return new c.ast.Sequence([a.start,a.end],a.body.map(b))},FunctionDeclaration:function(a,b){var d=a.params.map(function(a){return new c.ast.Variable([a.start,a.end],a.name)}),e=new c.ast.Function([a.id.end,a.end],b(a.body),d);return new c.ast.VarDeclaration([a.start,a.end],a.id.name,e)},BlockStatement:function(a,b){var d=a.body.map(b);return new c.ast.Sequence([a.start+1,a.end],d)},ExpressionStatement:function(a,b){return b(a.expression)},CallExpression:function(a,b){if("MemberExpression"==a.callee.type&&"NewExpression"!=a.type){var d,e=a.callee.object;return d=a.callee.computed?b(a.callee.property):new c.ast.String([a.callee.property.start,a.callee.property.end],a.callee.property.name),new c.ast.Send([a.start,a.end],d,b(e),a.arguments.map(b))}return new c.ast.Call([a.start,a.end],b(a.callee),a.arguments.map(b))},MemberExpression:function(a,b){var d;return d=a.computed?b(a.property):new c.ast.String([a.property.start,a.property.end],a.property.name),new c.ast.GetSlot([a.start,a.end],d,b(a.object))},NewExpression:function(a,b){return new c.ast.New([a.start,a.end],this.CallExpression(a,b))},VariableDeclaration:function(a,b){var d=a.declarations[0]?a.declarations[0].start-1:a.start;return new c.ast.Sequence([d,a.end],a.declarations.map(b))},VariableDeclarator:function(a,d){var e=a.init?d(a.init):b(a.start-1,a.start-1);return new c.ast.VarDeclaration([a.start-1,a.end],a.id.name,e)},FunctionExpression:function(a,b){var d=a.params.map(function(a){return new c.ast.Variable([a.start,a.end],a.name)});return new c.ast.Function([a.start,a.end],b(a.body),d)},IfStatement:function(a,d){return new c.ast.If([a.start,a.end],d(a.test),d(a.consequent),a.alternate?d(a.alternate):b(a.consequent.end,a.consequent.end))},ConditionalExpression:function(a,b){return new c.ast.Cond([a.start,a.end],b(a.test),b(a.consequent),b(a.alternate))},SwitchStatement:function(a,b){return new c.ast.Switch([a.start,a.end],b(a.discriminant),a.cases.map(b))},SwitchCase:function(a,b){var d=a.consequent.length>0?a.consequent[0].start:a.end,e=a.consequent.length>0?a.consequent[a.consequent.length-1].end:a.end,f=new c.ast.Sequence([d,e],a.consequent.map(b));return null!=a.test?new c.ast.Case([a.start,a.end],b(a.test),f):new c.ast.Default([a.start,a.end],f)},BreakStatement:function(a){var b;return b=null==a.label?new c.ast.Label([a.end,a.end],""):new c.ast.Label([a.label.start,a.label.end],a.label.name),new c.ast.Break([a.start,a.end],b)},ContinueStatement:function(a){var b;return b=null==a.label?new c.ast.Label([a.end,a.end],""):new c.ast.Label([a.label.start,a.label.end],a.label.name),new c.ast.Continue([a.start,a.end],b)},TryStatement:function(a,d){var e,f;a.handler?(f=d(a.handler.body),e=d(a.handler.param)):(f=b(a.block.end+1,a.block.end+1),e=b(a.block.end+1,a.block.end+1));var g=a.finalizer?d(a.finalizer):b(a.end,a.end);return new c.ast.TryCatchFinally([a.start,a.end],d(a.block),e,f,g)},ThrowStatement:function(a,b){return new c.ast.Throw([a.start,a.end],b(a.argument))},ForStatement:function(a,d){var e=a.init?d(a.init):b(4,4),f=a.test?d(a.test):b(e.pos[1]+1,e.pos[1]+1),g=a.update?d(a.update):b(f.pos[1]+1,f.pos[1]+1);return new c.ast.For([a.start,a.end],e,f,d(a.body),g)},ForInStatement:function(a,b){var d=b("VariableDeclaration"==a.left.type?a.left.declarations[0]:a.left);return new c.ast.ForIn([a.start,a.end],d,b(a.right),b(a.body))},WhileStatement:function(a,b){return new c.ast.While([a.start,a.end],b(a.test),b(a.body))},DoWhileStatement:function(a,b){return new c.ast.DoWhile([a.start,a.end],b(a.body),b(a.test))
},WithStatement:function(a,b){return new c.ast.With([a.start,a.end],b(a.object),b(a.body))},UnaryExpression:function(a,b){return new c.ast.UnaryOp([a.start,a.end],a.operator,b(a.argument))},BinaryExpression:function(a,b){return new c.ast.BinaryOp([a.start,a.end],a.operator,b(a.left),b(a.right))},AssignmentExpression:function(a,b){return"="==a.operator?new c.ast.Set([a.start,a.end],b(a.left),b(a.right)):new c.ast.ModifyingSet([a.start,a.end],b(a.left),a.operator.substr(0,a.operator.length-1),b(a.right))},UpdateExpression:function(a,b){return a.prefix?new c.ast.PreOp([a.start,a.end],a.operator,b(a.argument)):new c.ast.PostOp([a.start,a.end],a.operator,b(a.argument))},ReturnStatement:function(a,d){return new c.ast.Return([a.start,a.end],a.argument?d(a.argument):b(a.end,a.end))},Identifier:function(a){return new c.ast.Variable([a.start,a.end],a.name)},Literal:function(a){if(Object.isNumber(a.value))return new c.ast.Number([a.start,a.end],a.value);if(Object.isBoolean(a.value))return new c.ast.Variable([a.start,a.end],a.value.toString());if("string"==typeof a.value)return new c.ast.String([a.start,a.end],a.value);if(Object.isRegExp(a.value)){var b=a.raw.substr(a.raw.lastIndexOf("/")+1);return new c.ast.Regex([a.start,a.end],a.value.source,b)}if(null===a.value)return new c.ast.Variable([a.start,a.end],"null");throw new Error("Case of Literal not handled!")},ObjectExpression:function(a,b){var d=a.properties.map(function(a){var d="Identifier"==a.key.type?a.key.name:a.key.value;if("init"==a.kind)return new c.ast.ObjProperty([a.key.start,a.value.end],d,b(a.value));if("get"==a.kind)return new c.ast.ObjPropertyGet([a.key.start,a.value.end],d,b(a.value.body));if("set"==a.kind)return new c.ast.ObjPropertySet([a.key.start,a.value.end],d,b(a.value.body),b(a.value.params[0]));throw new Error("Case of ObjectExpression not handled!")});return new c.ast.ObjectLiteral([a.start,a.end],d)},ArrayExpression:function(a,b){return new c.ast.ArrayLiteral([a.start,a.end],a.elements.map(b))},SequenceExpression:function(a,b){return new c.ast.Sequence([a.start,a.end],a.expressions.map(b))},EmptyStatement:function(a){return b(a.start,a.end)},ThisExpression:function(a){return new c.ast.This([a.start,a.end])},DebuggerStatement:function(a){return new c.ast.Debugger([a.start,a.end])},LabeledStatement:function(a,b){return new c.ast.LabelDeclaration([a.start,a.end],a.label.name,b(a.body))}};return e.LogicalExpression=e.BinaryExpression,d(a)},a.walk.copy=function(a,b){function c(a){return null===a?null:d[a.type](a,c)}var d=Object.extend({Program:function(a,b){return{start:a.start,end:a.end,type:"Program",body:a.body.map(b),source:a.source,astIndex:a.astIndex}},FunctionDeclaration:function(a,b){return{start:a.start,end:a.end,type:"FunctionDeclaration",id:b(a.id),params:a.params.map(b),body:b(a.body),source:a.source,astIndex:a.astIndex}},BlockStatement:function(a,b){return{start:a.start,end:a.end,type:"BlockStatement",body:a.body.map(b),source:a.source,astIndex:a.astIndex}},ExpressionStatement:function(a,b){return{start:a.start,end:a.end,type:"ExpressionStatement",expression:b(a.expression),source:a.source,astIndex:a.astIndex}},CallExpression:function(a,b){return{start:a.start,end:a.end,type:"CallExpression",callee:b(a.callee),arguments:a.arguments.map(b),source:a.source,astIndex:a.astIndex}},MemberExpression:function(a,b){return{start:a.start,end:a.end,type:"MemberExpression",object:b(a.object),property:b(a.property),computed:a.computed,source:a.source,astIndex:a.astIndex}},NewExpression:function(a,b){return{start:a.start,end:a.end,type:"NewExpression",callee:b(a.callee),arguments:a.arguments.map(b),source:a.source,astIndex:a.astIndex}},VariableDeclaration:function(a,b){return{start:a.start,end:a.end,type:"VariableDeclaration",declarations:a.declarations.map(b),kind:a.kind,source:a.source,astIndex:a.astIndex}},VariableDeclarator:function(a,b){return{start:a.start,end:a.end,type:"VariableDeclarator",id:b(a.id),init:b(a.init),source:a.source,astIndex:a.astIndex}},FunctionExpression:function(a,b){return{start:a.start,end:a.end,type:"FunctionExpression",id:b(a.id),params:a.params.map(b),body:b(a.body),source:a.source,astIndex:a.astIndex}},IfStatement:function(a,b){return{start:a.start,end:a.end,type:"IfStatement",test:b(a.test),consequent:b(a.consequent),alternate:b(a.alternate),source:a.source,astIndex:a.astIndex}},ConditionalExpression:function(a,b){return{start:a.start,end:a.end,type:"ConditionalExpression",test:b(a.test),consequent:b(a.consequent),alternate:b(a.alternate),source:a.source,astIndex:a.astIndex}},SwitchStatement:function(a,b){return{start:a.start,end:a.end,type:"SwitchStatement",discriminant:b(a.discriminant),cases:a.cases.map(b),source:a.source,astIndex:a.astIndex}},SwitchCase:function(a,b){return{start:a.start,end:a.end,type:"SwitchCase",test:b(a.test),consequent:a.consequent.map(b),source:a.source,astIndex:a.astIndex}},BreakStatement:function(a){return{start:a.start,end:a.end,type:"BreakStatement",label:a.label,source:a.source,astIndex:a.astIndex}},ContinueStatement:function(a){return{start:a.start,end:a.end,type:"ContinueStatement",label:a.label,source:a.source,astIndex:a.astIndex}},TryStatement:function(a,b){return{start:a.start,end:a.end,type:"TryStatement",block:b(a.block),handler:b(a.handler),finalizer:b(a.finalizer),guardedHandlers:a.guardedHandlers.map(b),source:a.source,astIndex:a.astIndex}},CatchClause:function(a,b){return{start:a.start,end:a.end,type:"CatchClause",param:b(a.param),guard:b(a.guard),body:b(a.body),source:a.source,astIndex:a.astIndex}},ThrowStatement:function(a,b){return{start:a.start,end:a.end,type:"ThrowStatement",argument:b(a.argument),source:a.source,astIndex:a.astIndex}},ForStatement:function(a,b){return{start:a.start,end:a.end,type:"ForStatement",init:b(a.init),test:b(a.test),update:b(a.update),body:b(a.body),source:a.source,astIndex:a.astIndex}},ForInStatement:function(a,b){return{start:a.start,end:a.end,type:"ForInStatement",left:b(a.left),right:b(a.right),body:b(a.body),source:a.source,astIndex:a.astIndex}},WhileStatement:function(a,b){return{start:a.start,end:a.end,type:"WhileStatement",test:b(a.test),body:b(a.body),source:a.source,astIndex:a.astIndex}},DoWhileStatement:function(a,b){return{start:a.start,end:a.end,type:"DoWhileStatement",test:b(a.test),body:b(a.body),source:a.source,astIndex:a.astIndex}},WithStatement:function(a,b){return{start:a.start,end:a.end,type:"WithStatement",object:b(a.object),body:b(a.body),source:a.source,astIndex:a.astIndex}},UnaryExpression:function(a,b){return{start:a.start,end:a.end,type:"UnaryExpression",argument:b(a.argument),operator:a.operator,prefix:a.prefix,source:a.source,astIndex:a.astIndex}},BinaryExpression:function(a,b){return{start:a.start,end:a.end,type:"BinaryExpression",left:b(a.left),operator:a.operator,right:b(a.right),source:a.source,astIndex:a.astIndex}},LogicalExpression:function(a,b){return{start:a.start,end:a.end,type:"LogicalExpression",left:b(a.left),operator:a.operator,right:b(a.right),source:a.source,astIndex:a.astIndex}},AssignmentExpression:function(a,b){return{start:a.start,end:a.end,type:"AssignmentExpression",left:b(a.left),operator:a.operator,right:b(a.right),source:a.source,astIndex:a.astIndex}},UpdateExpression:function(a,b){return{start:a.start,end:a.end,type:"UpdateExpression",argument:b(a.argument),operator:a.operator,prefix:a.prefix,source:a.source,astIndex:a.astIndex}},ReturnStatement:function(a,b){return{start:a.start,end:a.end,type:"ReturnStatement",argument:b(a.argument),source:a.source,astIndex:a.astIndex}},Identifier:function(a){return{start:a.start,end:a.end,type:"Identifier",name:a.name,source:a.source,astIndex:a.astIndex}},Literal:function(a){return{start:a.start,end:a.end,type:"Literal",value:a.value,raw:a.raw,source:a.source,astIndex:a.astIndex}},ObjectExpression:function(a,b){return{start:a.start,end:a.end,type:"ObjectExpression",properties:a.properties.map(function(a){return{key:b(a.key),value:b(a.value),kind:a.kind}}),source:a.source,astIndex:a.astIndex}},ArrayExpression:function(a,b){return{start:a.start,end:a.end,type:"ArrayExpression",elements:a.elements.map(b),source:a.source,astIndex:a.astIndex}},SequenceExpression:function(a,b){return{start:a.start,end:a.end,type:"SequenceExpression",expressions:a.expressions.map(b),source:a.source,astIndex:a.astIndex}},EmptyStatement:function(a){return{start:a.start,end:a.end,type:"EmptyStatement",source:a.source,astIndex:a.astIndex}},ThisExpression:function(a){return{start:a.start,end:a.end,type:"ThisExpression",source:a.source,astIndex:a.astIndex}},DebuggerStatement:function(a){return{start:a.start,end:a.end,type:"DebuggerStatement",source:a.source,astIndex:a.astIndex}},LabeledStatement:function(a,b){return{start:a.start,end:a.end,type:"LabeledStatement",label:a.label,body:b(a.body),source:a.source,astIndex:a.astIndex}}},b||{});return c(a)},a.walk.findSiblings=function(b,c,e){if(!c)return[];var f=a.walk.findNodesIncluding(b,c.start),g=f.indexOf(c),h=f.slice(0,g),i=d.arr.detect(h.reverse(),function(a){return Array.isArray(a.body)}),j=i.body;if(!e)return d.arr.without(j,c);var k=j.indexOf(c);return"before"===e?j.slice(0,k):j.slice(k+1)},a.walk.visitors={stopAtFunctions:a.walk.make({Function:function(){}}),withMemberExpression:a.walk.make({MemberExpression:function(a,b,c){c(a.object,b,"Expression"),c(a.property,b,"Expression")}})},function(){a.walk.findNodeByAstIndex=function(b,c,d){d=null==d?!0:!!d,!b.astIndex&&d&&a.walk.addAstIndex(b);var e=null;return a.withMozillaAstDo(b,null,function(a,b){if(!e){var d=b.astIndex;if(!(c>d))return b.astIndex===c?void(e=b):void a()}}),e},a.walk.findStatementOfNode=function(b,c,d){d||(d=c,c=b,b=null),b||(b={}),c.astIndex||a.walk.addAstIndex(c);var e,f,g,h=!1;return a.withMozillaAstDo(c,{},function(a,c,i,j,k){if(!(h||c.astIndex<d.astIndex)){if("Program"===c.type||"BlockStatement"===c.type?f=c.body:"SwitchCase"===c.type&&(f=c.consequent),f){var l=f.indexOf(c);l>-1&&(g=c)}h||c!==d&&c.astIndex!==d.astIndex||(h=!0,e=b.asPath?k:g),!h&&a()}}),e},a.walk.addAstIndex=function(b){return a.withMozillaAstDo(b,{index:0},function(a,b,c){a(),b.astIndex=c.index++}),b}}()}),function(a){var b="undefined"!=typeof module&&module.require?module.require("../env"):lively["lively.lang_env"];a(b.acorn,b.lively,b["lively.lang"],b["lively.ast"])}(function(a,b,c,d){d.MozillaAST={},d.MozillaAST.BaseVisitor=c.class.create(Object,"lively.ast.MozillaAST.BaseVisitor","visiting",{accept:function(a,b,c,d){return d=d||[],this["visit"+a.type](a,b,c,d)},visitProgram:function(a,b,c,d){var e;return a.body.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["body",f]))},this),e},visitFunction:function(a,b,c,d){var e;return a.id&&(e=this.accept(a.id,b,c,d.concat(["id"]))),a.params.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["params",f]))},this),a.defaults&&a.defaults.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["defaults",f]))},this),a.rest&&(e=this.accept(a.rest,b,c,d.concat(["rest"]))),e=this.accept(a.body,b,c,d.concat(["body"])),a.generator,a.expression,e},visitStatement:function(){var a;return a},visitEmptyStatement:function(){var a;return a},visitBlockStatement:function(a,b,c,d){var e;return a.body.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["body",f]))},this),e},visitExpressionStatement:function(a,b,c,d){var e;return e=this.accept(a.expression,b,c,d.concat(["expression"]))},visitIfStatement:function(a,b,c,d){var e;return e=this.accept(a.test,b,c,d.concat(["test"])),e=this.accept(a.consequent,b,c,d.concat(["consequent"])),a.alternate&&(e=this.accept(a.alternate,b,c,d.concat(["alternate"]))),e},visitLabeledStatement:function(a,b,c,d){var e;return e=this.accept(a.label,b,c,d.concat(["label"])),e=this.accept(a.body,b,c,d.concat(["body"]))},visitBreakStatement:function(a,b,c,d){var e;return a.label&&(e=this.accept(a.label,b,c,d.concat(["label"]))),e},visitContinueStatement:function(a,b,c,d){var e;return a.label&&(e=this.accept(a.label,b,c,d.concat(["label"]))),e},visitWithStatement:function(a,b,c,d){var e;return e=this.accept(a.object,b,c,d.concat(["object"])),e=this.accept(a.body,b,c,d.concat(["body"]))},visitSwitchStatement:function(a,b,c,d){var e;return e=this.accept(a.discriminant,b,c,d.concat(["discriminant"])),a.cases.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["cases",f]))},this),a.lexical,e},visitReturnStatement:function(a,b,c,d){var e;return a.argument&&(e=this.accept(a.argument,b,c,d.concat(["argument"]))),e},visitThrowStatement:function(a,b,c,d){var e;return e=this.accept(a.argument,b,c,d.concat(["argument"]))},visitTryStatement:function(a,b,c,d){var e;return e=this.accept(a.block,b,c,d.concat(["block"])),a.handler&&(e=this.accept(a.handler,b,c,d.concat(["handler"]))),a.guardedHandlers&&a.guardedHandlers.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["guardedHandlers",f]))},this),a.finalizer&&(e=this.accept(a.finalizer,b,c,d.concat(["finalizer"]))),e},visitWhileStatement:function(a,b,c,d){var e;return e=this.accept(a.test,b,c,d.concat(["test"])),e=this.accept(a.body,b,c,d.concat(["body"]))},visitDoWhileStatement:function(a,b,c,d){var e;return e=this.accept(a.body,b,c,d.concat(["body"])),e=this.accept(a.test,b,c,d.concat(["test"]))},visitForStatement:function(a,b,c,d){var e;return a.init&&(e=this.accept(a.init,b,c,d.concat(["init"]))),a.test&&(e=this.accept(a.test,b,c,d.concat(["test"]))),a.update&&(e=this.accept(a.update,b,c,d.concat(["update"]))),e=this.accept(a.body,b,c,d.concat(["body"]))},visitForInStatement:function(a,b,c,d){var e;return e=this.accept(a.left,b,c,d.concat(["left"])),e=this.accept(a.right,b,c,d.concat(["right"])),e=this.accept(a.body,b,c,d.concat(["body"])),a.each,e},visitForOfStatement:function(a,b,c,d){var e;return e=this.accept(a.left,b,c,d.concat(["left"])),e=this.accept(a.right,b,c,d.concat(["right"])),e=this.accept(a.body,b,c,d.concat(["body"]))},visitLetStatement:function(a,b,c,d){var e;return a.head.forEach(function(a,f){e=this.accept(a.id,b,c,d.concat(["head",f,"id"])),a.init&&(e=this.accept(a.init,b,c,d.concat(["head",f,"init"])))},this),e=this.accept(a.body,b,c,d.concat(["body"]))},visitDebuggerStatement:function(){var a;return a},visitDeclaration:function(){var a;return a},visitFunctionDeclaration:function(a,b,c,d){var e;return e=this.accept(a.id,b,c,d.concat(["id"])),a.params.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["params",f]))},this),a.defaults&&a.defaults.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["defaults",f]))},this),a.rest&&(e=this.accept(a.rest,b,c,d.concat(["rest"]))),e=this.accept(a.body,b,c,d.concat(["body"])),a.generator,a.expression,e},visitVariableDeclaration:function(a,b,c,d){var e;return a.declarations.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["declarations",f]))},this),e},visitVariableDeclarator:function(a,b,c,d){var e;return e=this.accept(a.id,b,c,d.concat(["id"])),a.init&&(e=this.accept(a.init,b,c,d.concat(["init"]))),e},visitExpression:function(){var a;return a},visitThisExpression:function(){var a;return a},visitArrayExpression:function(a,b,c,d){var e;return a.elements.forEach(function(a,f){a&&(e=this.accept(a,b,c,d.concat(["elements",f])))},this),e},visitObjectExpression:function(a,b,c,d){var e;return a.properties.forEach(function(a,f){e=this.accept(a.key,b,c,d.concat(["properties",f,"key"])),e=this.accept(a.value,b,c,d.concat(["properties",f,"value"]))},this),e},visitFunctionExpression:function(a,b,c,d){var e;return a.id&&(e=this.accept(a.id,b,c,d.concat(["id"]))),a.params.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["params",f]))},this),a.defaults&&a.defaults.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["defaults",f]))},this),a.rest&&(e=this.accept(a.rest,b,c,d.concat(["rest"]))),e=this.accept(a.body,b,c,d.concat(["body"])),a.generator,a.expression,e},visitArrowExpression:function(a,b,c,d){var e;return a.params.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["params",f]))},this),a.defaults&&a.defaults.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["defaults",f]))},this),a.rest&&(e=this.accept(a.rest,b,c,d.concat(["rest"]))),e=this.accept(a.body,b,c,d.concat(["body"])),a.generator,a.expression,e},visitArrowFunctionExpression:function(a,b,c,d){var e;return a.params.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["params",f]))},this),a.defaults&&a.defaults.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["defaults",f]))},this),a.rest&&(e=this.accept(a.rest,b,c,d.concat(["rest"]))),e=this.accept(a.body,b,c,d.concat(["body"])),a.generator,a.expression,e},visitSequenceExpression:function(a,b,c,d){var e;return a.expressions.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["expressions",f]))},this),e},visitUnaryExpression:function(a,b,c,d){var e;return a.prefix,e=this.accept(a.argument,b,c,d.concat(["argument"]))},visitBinaryExpression:function(a,b,c,d){var e;return e=this.accept(a.left,b,c,d.concat(["left"])),e=this.accept(a.right,b,c,d.concat(["right"]))},visitAssignmentExpression:function(a,b,c,d){var e;return e=this.accept(a.left,b,c,d.concat(["left"])),e=this.accept(a.right,b,c,d.concat(["right"]))},visitUpdateExpression:function(a,b,c,d){var e;return e=this.accept(a.argument,b,c,d.concat(["argument"])),a.prefix,e},visitLogicalExpression:function(a,b,c,d){var e;return e=this.accept(a.left,b,c,d.concat(["left"])),e=this.accept(a.right,b,c,d.concat(["right"]))},visitConditionalExpression:function(a,b,c,d){var e;return e=this.accept(a.test,b,c,d.concat(["test"])),e=this.accept(a.alternate,b,c,d.concat(["alternate"])),e=this.accept(a.consequent,b,c,d.concat(["consequent"]))},visitNewExpression:function(a,b,c,d){var e;return e=this.accept(a.callee,b,c,d.concat(["callee"])),a.arguments.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["arguments",f]))},this),e},visitCallExpression:function(a,b,c,d){var e;return e=this.accept(a.callee,b,c,d.concat(["callee"])),a.arguments.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["arguments",f]))},this),e},visitMemberExpression:function(a,b,c,d){var e;return e=this.accept(a.object,b,c,d.concat(["object"])),e=this.accept(a.property,b,c,d.concat(["property"])),a.computed,e},visitYieldExpression:function(a,b,c,d){var e;return a.argument&&(e=this.accept(a.argument,b,c,d.concat(["argument"]))),e},visitComprehensionExpression:function(a,b,c,d){var e;return e=this.accept(a.body,b,c,d.concat(["body"])),a.blocks.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["blocks",f]))},this),a.filter&&(e=this.accept(a.filter,b,c,d.concat(["filter"]))),e},visitGeneratorExpression:function(a,b,c,d){var e;return e=this.accept(a.body,b,c,d.concat(["body"])),a.blocks.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["blocks",f]))},this),a.filter&&(e=this.accept(a.filter,b,c,d.concat(["filter"]))),e},visitLetExpression:function(a,b,c,d){var e;return a.head.forEach(function(a,f){e=this.accept(a.id,b,c,d.concat(["head",f,"id"])),a.init&&(e=this.accept(a.init,b,c,d.concat(["head",f,"init"])))},this),e=this.accept(a.body,b,c,d.concat(["body"]))},visitPattern:function(){var a;return a},visitObjectPattern:function(a,b,c,d){var e;return a.properties.forEach(function(a,f){e=this.accept(a.key,b,c,d.concat(["properties",f,"key"])),e=this.accept(a.value,b,c,d.concat(["properties",f,"value"]))},this),e},visitArrayPattern:function(a,b,c,d){var e;return a.elements.forEach(function(a,f){a&&(e=this.accept(a,b,c,d.concat(["elements",f])))},this),e},visitSwitchCase:function(a,b,c,d){var e;return a.test&&(e=this.accept(a.test,b,c,d.concat(["test"]))),a.consequent.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["consequent",f]))},this),e},visitCatchClause:function(a,b,c,d){var e;return e=this.accept(a.param,b,c,d.concat(["param"])),a.guard&&(e=this.accept(a.guard,b,c,d.concat(["guard"]))),e=this.accept(a.body,b,c,d.concat(["body"]))},visitComprehensionBlock:function(a,b,c,d){var e;return e=this.accept(a.left,b,c,d.concat(["left"])),e=this.accept(a.right,b,c,d.concat(["right"])),a.each,e},visitIdentifier:function(){var a;return a},visitLiteral:function(a){var b;return a.value,b},visitClassDeclaration:function(a,b,c,d){var e;return e=this.accept(a.id,b,c,d.concat(["id"])),a.superClass&&(e=this.accept(a.superClass,b,c,d.concat(["superClass"]))),e=this.accept(a.body,b,c,d.concat(["body"]))},visitClassBody:function(a,b,c,d){var e;return a.body.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["body",f]))},this),e},visitMethodDefinition:function(a,b,c,d){var e;return a.static,a.computed,e=this.accept(a.key,b,c,d.concat(["key"])),e=this.accept(a.value,b,c,d.concat(["value"]))}}),d.MozillaAST.PrinterVisitor=c.class.create(d.MozillaAST.BaseVisitor,"lively.ast.PrinterVisitor",{accept:function(a,b,c,d,e){var f=e.map(function(a){return"string"==typeof a?"."+a:"["+a+"]"}).join(""),g=[];a(b,c,g,e),d.push({node:b,path:f,index:c.index++,children:g})}}),d.MozillaAST.ComparisonVisitor=c.class.create(d.MozillaAST.BaseVisitor,"lively.ast.ComparisonVisitor","comparison",{recordNotEqual:function(a,b,c,d){c.comparisons.errors.push({node1:a,node2:b,path:c.completePath,msg:d})},compareType:function(a,b,c){return this.compareField("type",a,b,c)},compareField:function(a,c,d,e){if(d=b.PropertyPath(e.completePath.join(".")).get(d),c&&d&&c[a]===d[a])return!0;if(c&&"*"===c[a]||d&&"*"===d[a])return!0;var f,g=e.completePath.join(".")+"."+a;return f=c?d?g+" is not equal: "+c[a]+" vs. "+d[a]:"node2 not defined but node1 ("+g+") is: "+c[a]:"node1 on "+g+" not defined",this.recordNotEqual(c,d,e,f),!1}},"visiting",{accept:function(a,c,d,e){var f=b.PropertyPath(e.join(".")).get(c);if("*"!==a&&"*"!==f){var g={completePath:e,comparisons:d.comparisons};this.compareType(a,c,g)&&this["visit"+a.type](a,c,g,e)}},visitFunction:function(a,b,c,d,e){b.generator&&this.compareField("generator",b,c,d),b.expression&&this.compareField("expression",b,c,d),a(b,c,d,e)},visitSwitchStatement:function(a,b,c,d,e){b.lexical&&this.compareField("lexical",b,c,d),a(b,c,d,e)},visitForInStatement:function(a,b,c,d,e){b.each&&this.compareField("each",b,c,d),a(b,c,d,e)},visitFunctionDeclaration:function(a,b,c,d,e){b.generator&&this.compareField("generator",b,c,d),b.expression&&this.compareField("expression",b,c,d),a(b,c,d,e)},visitVariableDeclaration:function(a,b,c,d,e){this.compareField("kind",b,c,d),a(b,c,d,e)},visitUnaryExpression:function(a,b,c,d,e){this.compareField("operator",b,c,d),b.prefix&&this.compareField("prefix",b,c,d),a(b,c,d,e)},visitBinaryExpression:function(a,b,c,d,e){this.compareField("operator",b,c,d),a(b,c,d,e)},visitAssignmentExpression:function(a,b,c,d,e){this.compareField("operator",b,c,d),a(b,c,d,e)},visitUpdateExpression:function(a,b,c,d,e){this.compareField("operator",b,c,d),b.prefix&&this.compareField("prefix",b,c,d),a(b,c,d,e)},visitLogicalExpression:function(a,b,c,d,e){this.compareField("operator",b,c,d),a(b,c,d,e)},visitMemberExpression:function(a,b,c,d,e){b.computed&&this.compareField("computed",b,c,d),a(b,c,d,e)},visitComprehensionBlock:function(a,b,c,d,e){b.each&&this.compareField("each",b,c,d),a(b,c,d,e)},visitIdentifier:function(a,b,c,d,e){this.compareField("name",b,c,d),a(b,c,d,e)},visitLiteral:function(a,b,c,d,e){this.compareField("value",b,c,d),a(b,c,d,e)},visitClassDeclaration:function(a,b,c,d,e){this.compareField("id",b,c,d),b.superClass&&this.compareField("superClass",b,c,d),this.compareField("body",b,c,d),a(b,c,d,e)},visitClassBody:function(a,b,c,d,e){this.compareField("body",b,c,d),a(b,c,d,e)},visitMethodDefinition:function(a,b,c,d,e){this.compareField("static",b,c,d),this.compareField("computed",b,c,d),this.compareField("kind",b,c,d),this.compareField("key",b,c,d),this.compareField("value",b,c,d),a(b,c,d,e)}}),d.MozillaAST.ScopeVisitor=c.class.create(d.MozillaAST.BaseVisitor,"lively.ast.ScopeVisitor","scope specific",{newScope:function(a,b){var c={node:a,varDecls:[],varDeclPaths:[],funcDecls:[],classDecls:[],methodDecls:[],refs:[],params:[],catches:[],subScopes:[]};return b&&b.subScopes.push(c),c}},"visiting",{accept:function(a,b,c,d){d=d||[];try{if(!this["visit"+a.type])throw new Error("No AST visit handler for type "+a.type);return this["visit"+a.type](a,b,c,d)}catch(e){show(e.stack)}},visitVariableDeclaration:function(a,b,c,d,e){return d.varDecls.push(b),d.varDeclPaths.push(e),a(b,c,d,e)},visitVariableDeclarator:function(a,b,c,d){var e;return a.init&&(e=this.accept(a.init,b,c,d.concat(["init"]))),e},visitFunction:function(a,b,c){var d=this.newScope(a,c);return d.params=Array.prototype.slice.call(a.params),d},visitFunctionDeclaration:function(a,b,c,d,e){d.funcDecls.push(b);var f,g=this.visitFunction(b,c,d,e);return b.defaults&&b.defaults.forEach(function(a,b){f=this.accept(a,c,g,e.concat(["defaults",b]))},this),b.rest&&(f=this.accept(b.rest,c,g,e.concat(["rest"]))),f=this.accept(b.body,c,g,e.concat(["body"]))},visitFunctionExpression:function(a,b,c,d,e){var f,g=this.visitFunction(b,c,d,e);return b.defaults&&b.defaults.forEach(function(a,b){f=this.accept(a,c,g,e.concat(["defaults",b]))},this),b.rest&&(f=this.accept(b.rest,c,g,e.concat(["rest"]))),f=this.accept(b.body,c,g,e.concat(["body"]))},visitArrowFunctionExpression:function(a,b,c,d,e){var f,g=this.visitFunction(b,c,d,e);return b.defaults&&b.defaults.forEach(function(a,b){f=this.accept(a,c,g,e.concat(["defaults",b]))},this),b.rest&&(f=this.accept(b.rest,c,g,e.concat(["rest"]))),f=this.accept(b.body,c,g,e.concat(["body"])),b.generator,b.expression,f},visitIdentifier:function(a,b,c,d,e){return d.refs.push(b),a(b,c,d,e)},visitMemberExpression:function(a,b,c,d){var e;return e=this.accept(a.object,b,c,d.concat(["object"])),a.computed&&(e=this.accept(a.property,b,c,d.concat(["property"]))),e},visitObjectExpression:function(a,b,c,d){var e;return a.properties.forEach(function(a,f){e=this.accept(a.value,b,c,d.concat(["properties",f,"value"]))},this),e},visitTryStatement:function(a,b,c,d){var e;return e=this.accept(a.block,b,c,d.concat(["block"])),a.handler&&(e=this.accept(a.handler,b,c,d.concat(["handler"])),c.catches.push(a.handler.param)),a.guardedHandlers&&a.guardedHandlers.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["guardedHandlers",f]))},this),a.finalizer&&(e=this.accept(a.finalizer,b,c,d.concat(["finalizer"]))),e},visitLabeledStatement:function(a,b,c,d){var e;return e=this.accept(a.body,b,c,d.concat(["body"]))},visitClassDeclaration:function(a,b,c,d){c.classDecls.push(a);var e;return a.superClass&&this.accept(a.superClass,b,c,d.concat(["superClass"])),e=this.accept(a.body,b,c,d.concat(["body"]))},visitMethodDefinition:function(a,b,c,d){var e;return e=this.accept(a.value,b,c,d.concat(["value"]))}})}),function(a){var b="undefined"!=typeof module&&module.require?module.require("../env"):lively["lively.lang_env"];a(b.acorn,b.escodegen,b.lively,b["lively.lang"],b["lively.ast"])}(function(a,b,c,d,e){var f={withMozillaAstDo:function(a,b,c){var d=new e.MozillaAST.BaseVisitor,f=d.accept;return d.accept=function(a,b,e,g){var h=function(){f.call(d,a,b,e,g)};return c(h,a,e,b,g)},d.accept(a,0,b,[])},printAst:function(d,f){function g(a){var b=a.path+":"+a.node.type,c=[];if(l&&c.push(a.index),k&&c.push(a.node.start+"-"+a.node.end),j){var d=a.node.source||h.slice(a.node.start,a.node.end),e=Strings.print(d.truncate(60).replace(/\n/g,"").replace(/\s+/g," "));c.push(e)}return c.length&&(b+="("+c.join(",")+")"),b}f=f||{};var h,i,j=f.printSource||!1,k=f.printPositions||!1,l=f.printIndex||!1,m=[];return"string"==typeof d?(h=d,i=c.ast.acorn.parse(d)):(i=d,h=f.source||i.source),j&&!i.source&&(h||(h=b.generate(i),i=e.acorn.parse(h)),a.walk.addSource(i,h)),(new e.PrinterVisitor).accept(i,{index:0},m,[]),Strings.printTree(m[0],g,function(a){return a.children},"  ")},compareAst:function(a,b){if(!a||!b)throw new Error("node"+(a?"1":"2")+" not defined");var c={completePath:[],comparisons:{errors:[]}};return(new e.ComparisonVisitor).accept(a,b,c,[]),c.comparisons.errors.length?c.comparisons.errors.pluck("msg"):null},pathToNode:function(b,c,d){d=d||{},b.astIndex||a.walk.addAstIndex(b);var f=new e.MozillaAST.BaseVisitor,g=null;return(f.accept=function(a,b,d,e){if(!g){var f=b.concat(e);if(a.astIndex===c){var h=f.map(function(a){return"string"==typeof a?"."+a:"["+a+"]"}).join("");g={pathString:h,path:f,node:a}}return this["visit"+a.type](a,f,d,e)}}).call(f,b,[],{},[]),g},rematchAstWithSource:function(a,b,c,f){c=!!c;var g=e.parse(b,c?{locations:!0}:void 0),h=new e.MozillaAST.BaseVisitor;f&&(g=d.Path(f).get(g)),h.accept=function(b,d,e,f){f=f||[];var g=f.reduce(function(a,b){return a[b]},a);return g.start=b.start,g.end=b.end,c&&(g.loc=b.loc),this["visit"+b.type](b,d,e,f)},h.accept(g)},stringify:function(a,c){return b.generate(a,c)}};d.obj.extend(e,f),d.obj.extend(a,f)}),function(a){var b="undefined"!=typeof module&&module.require?module.require("../env"):lively["lively.lang_env"];a(b.acorn,b.lively,b["lively.lang"],b["lively.ast"])}(function(a,b,c,d){var e=c.arr,f=c.chain;d.query={knownGlobals:["true","false","null","undefined","arguments","Object","Function","String","Array","Date","Boolean","Number","RegExp","Error","EvalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","Math","NaN","Infinity","Intl","JSON","parseFloat","parseInt","isNaN","isFinite","eval","alert","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","window","document","console","Node","HTMLCanvasElement","Image","Class","Global","Functions","Objects","Strings","module","lively","pt","rect","rgb","$super","$morph","$world","show"],scopes:function(a){var b=new d.MozillaAST.ScopeVisitor,c=b.newScope(a,null);return b.accept(a,0,c,[]),c},nodesAtIndex:function(b,c){return a.withMozillaAstDo(b,[],function(a,b,d){return b.start<=c&&c<=b.end&&(d.push(b),a()),d})},scopesAtIndex:function(a,b){return c.tree.filter(d.query.scopes(a),function(a){var c=a.node,d=c.start,e=c.end;return"FunctionDeclaration"===c.type&&(d=c.params.length?c.params[0].start:c.body.start,e=c.body.end),b>=d&&e>=b},function(a){return a.subScopes})},scopeAtIndex:function(a,b){return e.last(d.query.scopesAtIndex(a,b))},scopesAtPos:function(b,c){return a.nodesAt(b,c).filter(function(a){return"Program"===a.type||"FunctionDeclaration"===a.type||"FunctionExpression"===a.type})},nodesInScopeOf:function(b){return a.withMozillaAstDo(b,{root:b,result:[]},function(a,b,c){return c.result.push(b),b===c.root||"Program"!==b.type&&"FunctionDeclaration"!==b.type&&"FunctionExpression"!==b.type?(a(),c):c}).result},topLevelDeclsAndRefs:function(a,b){function c(a){return[a.node.id&&a.node.id.name].concat(f(a.funcDecls).pluck("id").pluck("name").compact().value()).concat(e.pluck(a.params,"name")).concat(e.pluck(a.catches,"name")).concat(f(a.varDecls).pluck("declarations").flatten().pluck("id").pluck("name").value()).concat(f(a.classDecls).pluck("id").pluck("name").value()).concat(j?h("Program"===a.node.type?a.node:a.node.body):[])}function g(a){var b=c(a);return a.subScopes.map(g).reduce(function(a,b){return a.concat(b)},a.refs).filter(function(a){return-1===b.indexOf(a.name)})}function h(a){return a&&a.comments?e.flatten(a.comments.filter(function(a){return a.text.trim().match(/^global/)}).map(function(a){return e.invoke(a.text.replace(/^\s*global\s*/,"").split(","),"trim")})):[]}"string"==typeof a&&(a=d.parse(a,{withComments:!0}));var i=d.query.scopes(a),j=b&&!!b.jslintGlobalComment,k=c(i),l=i.refs.concat(e.flatten(i.subScopes.map(g))),m=f(l).pluck("name").withoutAll(k).value();return{scope:i,varDecls:i.varDecls,funcDecls:i.funcDecls,declaredNames:k,undeclaredNames:m,refs:l}},findGlobalVarRefs:function(a,b){var c=d.query,e=c.topLevelDeclsAndRefs(a,b),f=e.declaredNames.concat(c.knownGlobals);return e.refs.filter(function(a){return-1===f.indexOf(a.name)})},findNodesIncludingLines:function(b,f,g){if(!f&&!b)throw new Error("Need at least ast or code");return f=f?f:a.stringify(b),b=b&&b.loc?b:d.parse(f,{locations:!0}),a.withMozillaAstDo(b,[],function(a,b,d){return g.every(function(a){return c.num.between(a,b.loc.start.line,b.loc.end.line)})&&(e.pushIfNotIncluded(d,b),a()),d})},findReferencesAndDeclsInScope:function(a,b){function d(a){var b=(a.funcDecls,f(a.varDecls).pluck("declarations").flatten().value());return a.params.concat(e.pluck(a.funcDecls.concat(b),"id"))
}return e.flatten(c.tree.map(a,function(a){return a.refs.concat(d(a)).filter(function(a){return a.name===b})},function(a){return a.subScopes.filter(function(a){return d(a).every(function(a){return a.name!==b})})}))},findDeclarationClosestToIndex:function(a,b,c){function g(a){var b=(a.funcDecls,f(a.varDecls).pluck("declarations").flatten().value());return a.params.concat(e.pluck(a.funcDecls.concat(b),"id"))}var h=null;return e.detect(d.query.scopesAtIndex(a,c).reverse(),function(a){var c=g(a),d=e.pluck(c,"name").indexOf(b);return-1===d?!1:(h=c[d],!0)}),h}}}),function(a){var b="undefined"!=typeof module&&module.require?module.require("../env"):lively["lively.lang_env"];a(b.acorn,b.lively,b["lively.lang"],b["lively.ast"])}(function(a,b,c,d){var e=c.chain,f=c.arr,g=c.string;d.transform={helper:{_node2string:function(a){return a.source||d.stringify(a)},_findIndentAt:function(a,b){var c=g.peekLeft(a,b,/\s+$/),d="number"==typeof c?a.slice(c,b):"";return"\n"===d[0]&&(d=d.slice(1)),d},_applyChanges:function(a,b){return a.reduce(function(a,b){if("del"===b.type)return a.slice(0,b.pos)+a.slice(b.pos+b.length);if("add"===b.type)return a.slice(0,b.pos)+b.string+a.slice(b.pos);throw new Error("Uexpected change "+Objects.inspect(b))},b)},_compareNodesForReplacement:function(a,b){if(a.start===b.start&&a.end===b.end)return 0;if(a.end<=b.start)return-1;if(a.start>=b.end)return 1;if(a.start<=b.start&&a.end>=b.end)return 1;if(b.start<=a.start&&b.end>=a.end)return-1;throw new Error("Comparing nodes")},replaceNode:function(a,b,c){var e="object"==typeof c?c:{changes:[],source:c},f=!1,g=e.changes.reduce(function(a,b){if(a.end<b.pos)return a;var c=b.pos<a.start;if(f=f||b.pos>=a.start&&b.pos<=a.end,"add"===b.type)return{start:c?a.start+b.string.length:a.start,end:a.end+b.string.length};if("del"===b.type)return{start:c?a.start-b.length:a.start,end:a.end-b.length};throw new Error("Cannot deal with change "+Objects.inspect(b))},{start:a.start,end:a.end}),h=d.transform.helper,i=e.source,j=b(a,i.slice(g.start,g.end),f),k=Array.isArray(j)?j.map(h._node2string).join("\n"+h._findIndentAt(i,g.start)):k=h._node2string(j),l=[{type:"del",pos:g.start,length:g.end-g.start},{type:"add",pos:g.start,string:k}];return{changes:e.changes.concat(l),source:this._applyChanges(l,i)}},replaceNodes:function(a,b){return a.sort(function(a,b){return d.transform.helper._compareNodesForReplacement(a.target,b.target)}).reduce(function(a,b){return d.transform.helper.replaceNode(b.target,b.replacementFunc,a)},"object"==typeof b?b:{changes:[],source:b})}},replace:function(a,b,c){var e="object"==typeof a?a:null,f="string"==typeof a?a:e.source||d.stringify(e),g=d.transform.helper.replaceNode(b,c,f);return g},replaceTopLevelVarDeclAndUsageForCapturing:function(a,b,g){function h(a){return-1===o.indexOf(a.name)&&(!n||n.indexOf(a.name)>-1)}function i(a){return h(a.id)}function j(a,c){return{type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",right:c||{type:"Identifier",name:"undefined"},left:{type:"MemberExpression",computed:!1,object:b,property:a}}}}function k(a){return{declarations:[a],kind:"var",type:"VariableDeclaration"}}function l(a,b){return{type:"MemberExpression",computed:!1,object:b,property:a}}var m=g&&g.ignoreUndeclaredExcept||null,n=g&&g.include||null,o=g&&g.exclude||[],p=g&&g.recordDefRanges,q="object"==typeof a?a:d.parse(a),r="string"==typeof a?a:q.source||d.stringify(q),s=d.query.topLevelDeclsAndRefs(q);m&&(o=f.withoutAll(s.undeclaredNames,m).concat(o));var t=s.scope;f.pushAll(o,f.pluck(t.catches,"name"));var u=t.varDecls.filter(function(a,b){var d=c.Path(t.varDeclPaths[b]),e=d.slice(0,-1).get(q);return"ForStatement"===e.type});f.pushAll(o,e(u).pluck("declarations").flatten().pluck("id").pluck("name").value());var v=d.transform.helper.replaceNodes(s.refs.filter(h).map(function(a){return{target:a,replacementFunc:function(a){return l(a,b)}}}),r);if(v=d.transform.helper.replaceNodes(f.withoutAll(s.varDecls,u).map(function(a){return{target:a,replacementFunc:function(a,c,e){if(e){var f=d.query.scopes(d.parse(c,{addSource:!0}));a=f.varDecls[0]}return a.declarations.map(function(a){var c={operator:"||",type:"LogicalExpression",left:{computed:!0,object:b,property:{type:"Literal",value:a.id.name},type:"MemberExpression"},right:{name:"undefined",type:"Identifier"}};return i(a)?j(a.id,a.init||c):k(a)})}}}),v),s.funcDecls.length){var w=s.funcDecls.filter(i).map(function(a){var b={type:"Identifier",name:a.id.name};return d.stringify(j(b,b))}).join("\n"),x={type:"add",pos:0,string:w};v={source:w+"\n"+v.source,changes:v.changes.concat([x])}}return p&&(v.defRanges=e(t.varDecls).pluck("declarations").flatten().value().concat(t.funcDecls).reduce(function(a,b){return a[b.id.name]||(a[b.id.name]=[]),a[b.id.name].push({type:b.type,start:b.start,end:b.end}),a},{})),v.ast=q,v},oneDeclaratorPerVarDecl:function(a){var b="object"==typeof a?a:d.parse(a),c="string"==typeof a?a:b.source||d.stringify(b),e=d.query.scopes(b),g=function i(a){return f.flatten(a.varDecls.concat(a.subScopes.map(i)))}(e),h=g.map(function(a){return{target:a,replacementFunc:function(a,b,c){return c&&(a=d.parse(b).body[0]),a.declarations.map(function(a){return{type:"VariableDeclaration",kind:"var",declarations:[a]}})}}});return d.transform.helper.replaceNodes(h,c)},returnLastStatement:function(a,b){b=b||{};var c=d.parse,e=c(a,{ecmaVersion:6}),f=e.body.pop(),g="return "+a.slice(f.start,f.end);if(!b.asAST)return a.slice(0,f.start)+g;var h=c(g,{allowReturnOutsideFunction:!0,ecmaVersion:6}).body.slice(-1)[0];return e.body.push(h),e.end+="return ".length,e},wrapInFunction:function(a,b){b=b||{};var c=d.transform.returnLastStatement(a,b);return b.asAST?{type:"Program",body:[{type:"ExpressionStatement",expression:{body:{body:c.body,type:"BlockStatement"},params:[],type:"FunctionExpression"}}]}:"function() {\n"+c+"\n}"}}});
//# sourceMappingURL=lively.ast.min.js.map
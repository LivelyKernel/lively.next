/*! lively.ast-v0.2.19 2016-02-05 */

!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.acorn=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a("./tokentype"),e=a("./state"),f=e.Parser.prototype;f.checkPropClash=function(a,b){if(!(this.options.ecmaVersion>=6&&(a.computed||a.method||a.shorthand))){var c=a.key,d=void 0;switch(c.type){case"Identifier":d=c.name;break;case"Literal":d=String(c.value);break;default:return}var e=a.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===d&&"init"===e&&(b.proto&&this.raise(c.start,"Redefinition of __proto__ property"),b.proto=!0));d="$"+d;var f=b[d];if(f){var g="init"!==e;((this.strict||g)&&f[e]||!(g^f.init))&&this.raise(c.start,"Redefinition of property")}else f=b[d]={init:!1,get:!1,set:!1};f[e]=!0}},f.parseExpression=function(a,b){var c=this.start,e=this.startLoc,f=this.parseMaybeAssign(a,b);if(this.type===d.types.comma){var g=this.startNodeAt(c,e);for(g.expressions=[f];this.eat(d.types.comma);)g.expressions.push(this.parseMaybeAssign(a,b));return this.finishNode(g,"SequenceExpression")}return f},f.parseMaybeAssign=function(a,b,c){if(this.type==d.types._yield&&this.inGenerator)return this.parseYield();var e=!1;b||(b={shorthandAssign:0,trailingComma:0},e=!0);var f=this.start,g=this.startLoc;(this.type==d.types.parenL||this.type==d.types.name)&&(this.potentialArrowAt=this.start);var h=this.parseMaybeConditional(a,b);if(c&&(h=c.call(this,h,f,g)),this.type.isAssign){e&&this.checkPatternErrors(b,!0);var i=this.startNodeAt(f,g);return i.operator=this.value,i.left=this.type===d.types.eq?this.toAssignable(h):h,b.shorthandAssign=0,this.checkLVal(h),this.next(),i.right=this.parseMaybeAssign(a),this.finishNode(i,"AssignmentExpression")}return e&&this.checkExpressionErrors(b,!0),h},f.parseMaybeConditional=function(a,b){var c=this.start,e=this.startLoc,f=this.parseExprOps(a,b);if(this.checkExpressionErrors(b))return f;if(this.eat(d.types.question)){var g=this.startNodeAt(c,e);return g.test=f,g.consequent=this.parseMaybeAssign(),this.expect(d.types.colon),g.alternate=this.parseMaybeAssign(a),this.finishNode(g,"ConditionalExpression")}return f},f.parseExprOps=function(a,b){var c=this.start,d=this.startLoc,e=this.parseMaybeUnary(b);return this.checkExpressionErrors(b)?e:this.parseExprOp(e,c,d,-1,a)},f.parseExprOp=function(a,b,c,e,f){var g=this.type.binop;if(null!=g&&(!f||this.type!==d.types._in)&&g>e){var h=this.startNodeAt(b,c);h.left=a,h.operator=this.value;var i=this.type;this.next();var j=this.start,k=this.startLoc;return h.right=this.parseExprOp(this.parseMaybeUnary(),j,k,g,f),this.finishNode(h,i===d.types.logicalOR||i===d.types.logicalAND?"LogicalExpression":"BinaryExpression"),this.parseExprOp(h,b,c,e,f)}return a},f.parseMaybeUnary=function(a){if(this.type.prefix){var b=this.startNode(),c=this.type===d.types.incDec;return b.operator=this.value,b.prefix=!0,this.next(),b.argument=this.parseMaybeUnary(),this.checkExpressionErrors(a,!0),c?this.checkLVal(b.argument):this.strict&&"delete"===b.operator&&"Identifier"===b.argument.type&&this.raise(b.start,"Deleting local variable in strict mode"),this.finishNode(b,c?"UpdateExpression":"UnaryExpression")}var e=this.start,f=this.startLoc,g=this.parseExprSubscripts(a);if(this.checkExpressionErrors(a))return g;for(;this.type.postfix&&!this.canInsertSemicolon();){var b=this.startNodeAt(e,f);b.operator=this.value,b.prefix=!1,b.argument=g,this.checkLVal(g),this.next(),g=this.finishNode(b,"UpdateExpression")}return g},f.parseExprSubscripts=function(a){var b=this.start,c=this.startLoc,d=this.parseExprAtom(a),e="ArrowFunctionExpression"===d.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);return this.checkExpressionErrors(a)||e?d:this.parseSubscripts(d,b,c)},f.parseSubscripts=function(a,b,c,e){for(;;)if(this.eat(d.types.dot)){var f=this.startNodeAt(b,c);f.object=a,f.property=this.parseIdent(!0),f.computed=!1,a=this.finishNode(f,"MemberExpression")}else if(this.eat(d.types.bracketL)){var f=this.startNodeAt(b,c);f.object=a,f.property=this.parseExpression(),f.computed=!0,this.expect(d.types.bracketR),a=this.finishNode(f,"MemberExpression")}else if(!e&&this.eat(d.types.parenL)){var f=this.startNodeAt(b,c);f.callee=a,f.arguments=this.parseExprList(d.types.parenR,!1),a=this.finishNode(f,"CallExpression")}else{if(this.type!==d.types.backQuote)return a;var f=this.startNodeAt(b,c);f.tag=a,f.quasi=this.parseTemplate(),a=this.finishNode(f,"TaggedTemplateExpression")}},f.parseExprAtom=function(a){var b=void 0,c=this.potentialArrowAt==this.start;switch(this.type){case d.types._super:this.inFunction||this.raise(this.start,"'super' outside of function or class");case d.types._this:var e=this.type===d.types._this?"ThisExpression":"Super";return b=this.startNode(),this.next(),this.finishNode(b,e);case d.types._yield:this.inGenerator&&this.unexpected();case d.types.name:var f=this.start,g=this.startLoc,h=this.parseIdent(this.type!==d.types.name);return c&&!this.canInsertSemicolon()&&this.eat(d.types.arrow)?this.parseArrowExpression(this.startNodeAt(f,g),[h]):h;case d.types.regexp:var i=this.value;return b=this.parseLiteral(i.value),b.regex={pattern:i.pattern,flags:i.flags},b;case d.types.num:case d.types.string:return this.parseLiteral(this.value);case d.types._null:case d.types._true:case d.types._false:return b=this.startNode(),b.value=this.type===d.types._null?null:this.type===d.types._true,b.raw=this.type.keyword,this.next(),this.finishNode(b,"Literal");case d.types.parenL:return this.parseParenAndDistinguishExpression(c);case d.types.bracketL:return b=this.startNode(),this.next(),this.options.ecmaVersion>=7&&this.type===d.types._for?this.parseComprehension(b,!1):(b.elements=this.parseExprList(d.types.bracketR,!0,!0,a),this.finishNode(b,"ArrayExpression"));case d.types.braceL:return this.parseObj(!1,a);case d.types._function:return b=this.startNode(),this.next(),this.parseFunction(b,!1);case d.types._class:return this.parseClass(this.startNode(),!1);case d.types._new:return this.parseNew();case d.types.backQuote:return this.parseTemplate();default:this.unexpected()}},f.parseLiteral=function(a){var b=this.startNode();return b.value=a,b.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(b,"Literal")},f.parseParenExpression=function(){this.expect(d.types.parenL);var a=this.parseExpression();return this.expect(d.types.parenR),a},f.parseParenAndDistinguishExpression=function(a){var b=this.start,c=this.startLoc,e=void 0;if(this.options.ecmaVersion>=6){if(this.next(),this.options.ecmaVersion>=7&&this.type===d.types._for)return this.parseComprehension(this.startNodeAt(b,c),!0);for(var f=this.start,g=this.startLoc,h=[],i=!0,j={shorthandAssign:0,trailingComma:0},k=void 0,l=void 0;this.type!==d.types.parenR;){if(i?i=!1:this.expect(d.types.comma),this.type===d.types.ellipsis){k=this.start,h.push(this.parseParenItem(this.parseRest()));break}this.type!==d.types.parenL||l||(l=this.start),h.push(this.parseMaybeAssign(!1,j,this.parseParenItem))}var m=this.start,n=this.startLoc;if(this.expect(d.types.parenR),a&&!this.canInsertSemicolon()&&this.eat(d.types.arrow))return this.checkPatternErrors(j,!0),l&&this.unexpected(l),this.parseParenArrowList(b,c,h);h.length||this.unexpected(this.lastTokStart),k&&this.unexpected(k),this.checkExpressionErrors(j,!0),h.length>1?(e=this.startNodeAt(f,g),e.expressions=h,this.finishNodeAt(e,"SequenceExpression",m,n)):e=h[0]}else e=this.parseParenExpression();if(this.options.preserveParens){var o=this.startNodeAt(b,c);return o.expression=e,this.finishNode(o,"ParenthesizedExpression")}return e},f.parseParenItem=function(a){return a},f.parseParenArrowList=function(a,b,c){return this.parseArrowExpression(this.startNodeAt(a,b),c)};var g=[];f.parseNew=function(){var a=this.startNode(),b=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(d.types.dot))return a.meta=b,a.property=this.parseIdent(!0),"target"!==a.property.name&&this.raise(a.property.start,"The only valid meta property for new is new.target"),this.inFunction||this.raise(a.start,"new.target can only be used in functions"),this.finishNode(a,"MetaProperty");var c=this.start,e=this.startLoc;return a.callee=this.parseSubscripts(this.parseExprAtom(),c,e,!0),this.eat(d.types.parenL)?a.arguments=this.parseExprList(d.types.parenR,!1):a.arguments=g,this.finishNode(a,"NewExpression")},f.parseTemplateElement=function(){var a=this.startNode();return a.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),a.tail=this.type===d.types.backQuote,this.finishNode(a,"TemplateElement")},f.parseTemplate=function(){var a=this.startNode();this.next(),a.expressions=[];var b=this.parseTemplateElement();for(a.quasis=[b];!b.tail;)this.expect(d.types.dollarBraceL),a.expressions.push(this.parseExpression()),this.expect(d.types.braceR),a.quasis.push(b=this.parseTemplateElement());return this.next(),this.finishNode(a,"TemplateLiteral")},f.parseObj=function(a,b){var c=this.startNode(),e=!0,f={};for(c.properties=[],this.next();!this.eat(d.types.braceR);){if(e)e=!1;else if(this.expect(d.types.comma),this.afterTrailingComma(d.types.braceR))break;var g=this.startNode(),h=void 0,i=void 0,j=void 0;this.options.ecmaVersion>=6&&(g.method=!1,g.shorthand=!1,(a||b)&&(i=this.start,j=this.startLoc),a||(h=this.eat(d.types.star))),this.parsePropertyName(g),this.parsePropertyValue(g,a,h,i,j,b),this.checkPropClash(g,f),c.properties.push(this.finishNode(g,"Property"))}return this.finishNode(c,a?"ObjectPattern":"ObjectExpression")},f.parsePropertyValue=function(a,b,c,e,f,g){if(this.eat(d.types.colon))a.value=b?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,g),a.kind="init";else if(this.options.ecmaVersion>=6&&this.type===d.types.parenL)b&&this.unexpected(),a.kind="init",a.method=!0,a.value=this.parseMethod(c);else if(this.options.ecmaVersion>=5&&!a.computed&&"Identifier"===a.key.type&&("get"===a.key.name||"set"===a.key.name)&&this.type!=d.types.comma&&this.type!=d.types.braceR){(c||b)&&this.unexpected(),a.kind=a.key.name,this.parsePropertyName(a),a.value=this.parseMethod(!1);var h="get"===a.kind?0:1;if(a.value.params.length!==h){var i=a.value.start;"get"===a.kind?this.raise(i,"getter should have no params"):this.raise(i,"setter should have exactly one param")}"set"===a.kind&&"RestElement"===a.value.params[0].type&&this.raise(a.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!a.computed&&"Identifier"===a.key.type?(a.kind="init",b?((this.keywords.test(a.key.name)||(this.strict?this.reservedWordsStrictBind:this.reservedWords).test(a.key.name))&&this.raise(a.key.start,"Binding "+a.key.name),a.value=this.parseMaybeDefault(e,f,a.key)):this.type===d.types.eq&&g?(g.shorthandAssign||(g.shorthandAssign=this.start),a.value=this.parseMaybeDefault(e,f,a.key)):a.value=a.key,a.shorthand=!0):this.unexpected()},f.parsePropertyName=function(a){if(this.options.ecmaVersion>=6){if(this.eat(d.types.bracketL))return a.computed=!0,a.key=this.parseMaybeAssign(),this.expect(d.types.bracketR),a.key;a.computed=!1}return a.key=this.type===d.types.num||this.type===d.types.string?this.parseExprAtom():this.parseIdent(!0)},f.initFunction=function(a){a.id=null,this.options.ecmaVersion>=6&&(a.generator=!1,a.expression=!1)},f.parseMethod=function(a){var b=this.startNode();return this.initFunction(b),this.expect(d.types.parenL),b.params=this.parseBindingList(d.types.parenR,!1,!1),this.options.ecmaVersion>=6&&(b.generator=a),this.parseFunctionBody(b,!1),this.finishNode(b,"FunctionExpression")},f.parseArrowExpression=function(a,b){return this.initFunction(a),a.params=this.toAssignableList(b,!0),this.parseFunctionBody(a,!0),this.finishNode(a,"ArrowFunctionExpression")},f.parseFunctionBody=function(a,b){var c=b&&this.type!==d.types.braceL;if(c)a.body=this.parseMaybeAssign(),a.expression=!0;else{var e=this.inFunction,f=this.inGenerator,g=this.labels;this.inFunction=!0,this.inGenerator=a.generator,this.labels=[],a.body=this.parseBlock(!0),a.expression=!1,this.inFunction=e,this.inGenerator=f,this.labels=g}if(this.strict||!c&&a.body.body.length&&this.isUseStrict(a.body.body[0])){var h=this.strict;this.strict=!0,a.id&&this.checkLVal(a.id,!0),this.checkParams(a),this.strict=h}else b&&this.checkParams(a)},f.checkParams=function(a){for(var b={},c=0;c<a.params.length;c++)this.checkLVal(a.params[c],!0,b)},f.parseExprList=function(a,b,c,e){for(var f=[],g=!0;!this.eat(a);){if(g)g=!1;else if(this.expect(d.types.comma),this.type===a&&e&&!e.trailingComma&&(e.trailingComma=this.lastTokStart),b&&this.afterTrailingComma(a))break;var h=void 0;h=c&&this.type===d.types.comma?null:this.type===d.types.ellipsis?this.parseSpread(e):this.parseMaybeAssign(!1,e),f.push(h)}return f},f.parseIdent=function(a){var b=this.startNode();return a&&"never"==this.options.allowReserved&&(a=!1),this.type===d.types.name?(!a&&(this.strict?this.reservedWordsStrict:this.reservedWords).test(this.value)&&(this.options.ecmaVersion>=6||-1==this.input.slice(this.start,this.end).indexOf("\\"))&&this.raise(this.start,"The keyword '"+this.value+"' is reserved"),b.name=this.value):a&&this.type.keyword?b.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(b,"Identifier")},f.parseYield=function(){var a=this.startNode();return this.next(),this.type==d.types.semi||this.canInsertSemicolon()||this.type!=d.types.star&&!this.type.startsExpr?(a.delegate=!1,a.argument=null):(a.delegate=this.eat(d.types.star),a.argument=this.parseMaybeAssign()),this.finishNode(a,"YieldExpression")},f.parseComprehension=function(a,b){for(a.blocks=[];this.type===d.types._for;){var c=this.startNode();this.next(),this.expect(d.types.parenL),c.left=this.parseBindingAtom(),this.checkLVal(c.left,!0),this.expectContextual("of"),c.right=this.parseExpression(),this.expect(d.types.parenR),a.blocks.push(this.finishNode(c,"ComprehensionBlock"))}return a.filter=this.eat(d.types._if)?this.parseParenExpression():null,a.body=this.parseExpression(),this.expect(b?d.types.parenR:d.types.bracketR),a.generator=b,this.finishNode(a,"ComprehensionExpression")}},{"./state":10,"./tokentype":14}],2:[function(a,b,c){"use strict";function d(a,b){for(var c=65536,d=0;d<b.length;d+=2){if(c+=b[d],c>a)return!1;if(c+=b[d+1],c>=a)return!0}}function e(a,b){return 65>a?36===a:91>a?!0:97>a?95===a:123>a?!0:65535>=a?a>=170&&l.test(String.fromCharCode(a)):b===!1?!1:d(a,n)}function f(a,b){return 48>a?36===a:58>a?!0:65>a?!1:91>a?!0:97>a?95===a:123>a?!0:65535>=a?a>=170&&m.test(String.fromCharCode(a)):b===!1?!1:d(a,n)||d(a,o)}c.__esModule=!0,c.isIdentifierStart=e,c.isIdentifierChar=f;var g={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"};c.reservedWords=g;var h="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",i={5:h,6:h+" let const class extends export import yield super"};c.keywords=i;var j="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",k="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣤ-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఃా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ູົຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏ᦰ-ᧀᧈᧉ᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷼-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣐-꣙꣠-꣱꤀-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︭︳︴﹍-﹏０-９＿",l=new RegExp("["+j+"]"),m=new RegExp("["+j+k+"]");j=k=null;var n=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,99,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,98,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,955,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,38,17,2,24,133,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,32,4,287,47,21,1,2,0,185,46,82,47,21,0,60,42,502,63,32,0,449,56,1288,920,104,110,2962,1070,13266,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,16481,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,1340,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,16355,541],o=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,16,9,83,11,168,11,6,9,8,2,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,316,19,13,9,214,6,3,8,112,16,16,9,82,12,9,9,535,9,20855,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,4305,6,792618,239]},{}],3:[function(a,b,c){"use strict";function d(a,b){return new g.Parser(b,a).parse()}function e(a,b,c){var d=new g.Parser(c,a,b);return d.nextToken(),d.parseExpression()}function f(a,b){return new g.Parser(b,a)}c.__esModule=!0,c.parse=d,c.parseExpressionAt=e,c.tokenizer=f;var g=a("./state");a("./parseutil"),a("./statement"),a("./lval"),a("./expression"),a("./location"),c.Parser=g.Parser,c.plugins=g.plugins;var h=a("./options");c.defaultOptions=h.defaultOptions;var i=a("./locutil");c.Position=i.Position,c.SourceLocation=i.SourceLocation,c.getLineInfo=i.getLineInfo;var j=a("./node");c.Node=j.Node;var k=a("./tokentype");c.TokenType=k.TokenType,c.tokTypes=k.types;var l=a("./tokencontext");c.TokContext=l.TokContext,c.tokContexts=l.types;var m=a("./identifier");c.isIdentifierChar=m.isIdentifierChar,c.isIdentifierStart=m.isIdentifierStart;var n=a("./tokenize");c.Token=n.Token;var o=a("./whitespace");c.isNewLine=o.isNewLine,c.lineBreak=o.lineBreak,c.lineBreakG=o.lineBreakG;var p="2.7.0";c.version=p},{"./expression":1,"./identifier":2,"./location":4,"./locutil":5,"./lval":6,"./node":7,"./options":8,"./parseutil":9,"./state":10,"./statement":11,"./tokencontext":12,"./tokenize":13,"./tokentype":14,"./whitespace":16}],4:[function(a,b,c){"use strict";var d=a("./state"),e=a("./locutil"),f=d.Parser.prototype;f.raise=function(a,b){var c=e.getLineInfo(this.input,a);b+=" ("+c.line+":"+c.column+")";var d=new SyntaxError(b);throw d.pos=a,d.loc=c,d.raisedAt=this.pos,d},f.curPosition=function(){return this.options.locations?new e.Position(this.curLine,this.pos-this.lineStart):void 0}},{"./locutil":5,"./state":10}],5:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=1,d=0;;){f.lineBreakG.lastIndex=d;var e=f.lineBreakG.exec(a);if(!(e&&e.index<b))return new g(c,b-d);++c,d=e.index+e[0].length}}c.__esModule=!0,c.getLineInfo=e;var f=a("./whitespace"),g=function(){function a(b,c){d(this,a),this.line=b,this.column=c}return a.prototype.offset=function(b){return new a(this.line,this.column+b)},a}();c.Position=g;var h=function i(a,b,c){d(this,i),this.start=b,this.end=c,null!==a.sourceFile&&(this.source=a.sourceFile)};c.SourceLocation=h},{"./whitespace":16}],6:[function(a,b,c){"use strict";var d=a("./tokentype"),e=a("./state"),f=a("./util"),g=e.Parser.prototype;g.toAssignable=function(a,b){if(this.options.ecmaVersion>=6&&a)switch(a.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":break;case"ObjectExpression":a.type="ObjectPattern";for(var c=0;c<a.properties.length;c++){var d=a.properties[c];"init"!==d.kind&&this.raise(d.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(d.value,b)}break;case"ArrayExpression":a.type="ArrayPattern",this.toAssignableList(a.elements,b);break;case"AssignmentExpression":if("="!==a.operator){this.raise(a.left.end,"Only '=' operator can be used for specifying default value.");break}a.type="AssignmentPattern",delete a.operator;case"AssignmentPattern":"YieldExpression"===a.right.type&&this.raise(a.right.start,"Yield expression cannot be a default value");break;case"ParenthesizedExpression":a.expression=this.toAssignable(a.expression,b);break;case"MemberExpression":if(!b)break;default:this.raise(a.start,"Assigning to rvalue")}return a},g.toAssignableList=function(a,b){var c=a.length;if(c){var d=a[c-1];if(d&&"RestElement"==d.type)--c;else if(d&&"SpreadElement"==d.type){d.type="RestElement";var e=d.argument;this.toAssignable(e,b),"Identifier"!==e.type&&"MemberExpression"!==e.type&&"ArrayPattern"!==e.type&&this.unexpected(e.start),--c}b&&"RestElement"===d.type&&"Identifier"!==d.argument.type&&this.unexpected(d.argument.start)}for(var f=0;c>f;f++){var g=a[f];g&&this.toAssignable(g,b)}return a},g.parseSpread=function(a){var b=this.startNode();return this.next(),b.argument=this.parseMaybeAssign(a),this.finishNode(b,"SpreadElement")},g.parseRest=function(a){var b=this.startNode();return this.next(),a?b.argument=this.type===d.types.name?this.parseIdent():this.unexpected():b.argument=this.type===d.types.name||this.type===d.types.bracketL?this.parseBindingAtom():this.unexpected(),this.finishNode(b,"RestElement")},g.parseBindingAtom=function(){if(this.options.ecmaVersion<6)return this.parseIdent();switch(this.type){case d.types.name:return this.parseIdent();case d.types.bracketL:var a=this.startNode();return this.next(),a.elements=this.parseBindingList(d.types.bracketR,!0,!0),this.finishNode(a,"ArrayPattern");case d.types.braceL:return this.parseObj(!0);default:this.unexpected()}},g.parseBindingList=function(a,b,c,e){for(var f=[],g=!0;!this.eat(a);)if(g?g=!1:this.expect(d.types.comma),b&&this.type===d.types.comma)f.push(null);else{if(c&&this.afterTrailingComma(a))break;if(this.type===d.types.ellipsis){var h=this.parseRest(e);this.parseBindingListItem(h),f.push(h),this.expect(a);break}var i=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(i),f.push(i)}return f},g.parseBindingListItem=function(a){return a},g.parseMaybeDefault=function(a,b,c){if(c=c||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(d.types.eq))return c;var e=this.startNodeAt(a,b);return e.left=c,e.right=this.parseMaybeAssign(),this.finishNode(e,"AssignmentPattern")},g.checkLVal=function(a,b,c){switch(a.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(a.name)&&this.raise(a.start,(b?"Binding ":"Assigning to ")+a.name+" in strict mode"),c&&(f.has(c,a.name)&&this.raise(a.start,"Argument name clash"),c[a.name]=!0);break;case"MemberExpression":b&&this.raise(a.start,(b?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var d=0;d<a.properties.length;d++)this.checkLVal(a.properties[d].value,b,c);break;case"ArrayPattern":for(var d=0;d<a.elements.length;d++){var e=a.elements[d];e&&this.checkLVal(e,b,c)}break;case"AssignmentPattern":this.checkLVal(a.left,b,c);break;case"RestElement":this.checkLVal(a.argument,b,c);break;case"ParenthesizedExpression":this.checkLVal(a.expression,b,c);break;default:this.raise(a.start,(b?"Binding":"Assigning to")+" rvalue")}}},{"./state":10,"./tokentype":14,"./util":15}],7:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b,c,d){return a.type=b,a.end=c,this.options.locations&&(a.loc.end=d),this.options.ranges&&(a.range[1]=c),a}c.__esModule=!0;var f=a("./state"),g=a("./locutil"),h=function j(a,b,c){d(this,j),this.type="",this.start=b,this.end=0,a.options.locations&&(this.loc=new g.SourceLocation(a,c)),a.options.directSourceFile&&(this.sourceFile=a.options.directSourceFile),a.options.ranges&&(this.range=[b,0])};c.Node=h;var i=f.Parser.prototype;i.startNode=function(){return new h(this,this.start,this.startLoc)},i.startNodeAt=function(a,b){return new h(this,a,b)},i.finishNode=function(a,b){return e.call(this,a,b,this.lastTokEnd,this.lastTokEndLoc)},i.finishNodeAt=function(a,b,c,d){return e.call(this,a,b,c,d)}},{"./locutil":5,"./state":10}],8:[function(a,b,c){"use strict";function d(a){var b={};for(var c in h)b[c]=a&&f.has(a,c)?a[c]:h[c];return null==b.allowReserved&&(b.allowReserved=b.ecmaVersion<5),f.isArray(b.onToken)&&!function(){var a=b.onToken;b.onToken=function(b){return a.push(b)}}(),f.isArray(b.onComment)&&(b.onComment=e(b,b.onComment)),b}function e(a,b){return function(c,d,e,f,h,i){var j={type:c?"Block":"Line",value:d,start:e,end:f};a.locations&&(j.loc=new g.SourceLocation(this,h,i)),a.ranges&&(j.range=[e,f]),b.push(j)}}c.__esModule=!0,c.getOptions=d;var f=a("./util"),g=a("./locutil"),h={ecmaVersion:5,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}};c.defaultOptions=h},{"./locutil":5,"./util":15}],9:[function(a,b,c){"use strict";var d=a("./tokentype"),e=a("./state"),f=a("./whitespace"),g=e.Parser.prototype;g.isUseStrict=function(a){return this.options.ecmaVersion>=5&&"ExpressionStatement"===a.type&&"Literal"===a.expression.type&&"use strict"===a.expression.raw.slice(1,-1)},g.eat=function(a){return this.type===a?(this.next(),!0):!1},g.isContextual=function(a){return this.type===d.types.name&&this.value===a},g.eatContextual=function(a){return this.value===a&&this.eat(d.types.name)},g.expectContextual=function(a){this.eatContextual(a)||this.unexpected()},g.canInsertSemicolon=function(){return this.type===d.types.eof||this.type===d.types.braceR||f.lineBreak.test(this.input.slice(this.lastTokEnd,this.start))},g.insertSemicolon=function(){return this.canInsertSemicolon()?(this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0):void 0},g.semicolon=function(){this.eat(d.types.semi)||this.insertSemicolon()||this.unexpected()},g.afterTrailingComma=function(a){return this.type==a?(this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),this.next(),!0):void 0},g.expect=function(a){this.eat(a)||this.unexpected()},g.unexpected=function(a){this.raise(null!=a?a:this.start,"Unexpected token")},g.checkPatternErrors=function(a,b){var c=a&&a.trailingComma;return b?void(c&&this.raise(c,"Trailing comma is not permitted in destructuring patterns")):!!c},g.checkExpressionErrors=function(a,b){var c=a&&a.shorthandAssign;return b?void(c&&this.raise(c,"Shorthand property assignments are valid only in destructuring patterns")):!!c}},{"./state":10,"./tokentype":14,"./whitespace":16}],10:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){return new RegExp("^("+a.replace(/ /g,"|")+")$")}c.__esModule=!0;var f=a("./identifier"),g=a("./tokentype"),h=a("./whitespace"),i=a("./options"),j={};c.plugins=j;var k=function(){function a(b,c,j){d(this,a),this.options=b=i.getOptions(b),this.sourceFile=b.sourceFile,this.keywords=e(f.keywords[b.ecmaVersion>=6?6:5]);var k=b.allowReserved?"":f.reservedWords[b.ecmaVersion]+("module"==b.sourceType?" await":"");this.reservedWords=e(k);var l=(k?k+" ":"")+f.reservedWords.strict;this.reservedWordsStrict=e(l),this.reservedWordsStrictBind=e(l+" "+f.reservedWords.strictBind),this.input=String(c),this.containsEsc=!1,this.loadPlugins(b.plugins),j?(this.pos=j,this.lineStart=Math.max(0,this.input.lastIndexOf("\n",j)),this.curLine=this.input.slice(0,this.lineStart).split(h.lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=g.types.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.strict=this.inModule="module"===b.sourceType,this.potentialArrowAt=-1,this.inFunction=this.inGenerator=!1,this.labels=[],0===this.pos&&b.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2)}return a.prototype.isKeyword=function(a){return this.keywords.test(a)},a.prototype.isReservedWord=function(a){return this.reservedWords.test(a)},a.prototype.extend=function(a,b){this[a]=b(this[a])},a.prototype.loadPlugins=function(a){for(var b in a){var c=j[b];if(!c)throw new Error("Plugin '"+b+"' not found");c(this,a[b])}},a.prototype.parse=function(){var a=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(a)},a}();c.Parser=k},{"./identifier":2,"./options":8,"./tokentype":14,"./whitespace":16}],11:[function(a,b,c){"use strict";var d=a("./tokentype"),e=a("./state"),f=a("./whitespace"),g=e.Parser.prototype;g.parseTopLevel=function(a){var b=!0;for(a.body||(a.body=[]);this.type!==d.types.eof;){var c=this.parseStatement(!0,!0);a.body.push(c),b&&(this.isUseStrict(c)&&this.setStrict(!0),b=!1)}return this.next(),this.options.ecmaVersion>=6&&(a.sourceType=this.options.sourceType),this.finishNode(a,"Program")};var h={kind:"loop"},i={kind:"switch"};g.parseStatement=function(a,b){var c=this.type,e=this.startNode();switch(c){case d.types._break:case d.types._continue:return this.parseBreakContinueStatement(e,c.keyword);case d.types._debugger:return this.parseDebuggerStatement(e);case d.types._do:return this.parseDoStatement(e);case d.types._for:return this.parseForStatement(e);case d.types._function:return!a&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(e);case d.types._class:return a||this.unexpected(),this.parseClass(e,!0);case d.types._if:return this.parseIfStatement(e);case d.types._return:return this.parseReturnStatement(e);case d.types._switch:return this.parseSwitchStatement(e);case d.types._throw:return this.parseThrowStatement(e);case d.types._try:return this.parseTryStatement(e);case d.types._let:case d.types._const:a||this.unexpected();case d.types._var:return this.parseVarStatement(e,c);case d.types._while:return this.parseWhileStatement(e);case d.types._with:return this.parseWithStatement(e);case d.types.braceL:return this.parseBlock();case d.types.semi:return this.parseEmptyStatement(e);case d.types._export:case d.types._import:return this.options.allowImportExportEverywhere||(b||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),
c===d.types._import?this.parseImport(e):this.parseExport(e);default:var f=this.value,g=this.parseExpression();return c===d.types.name&&"Identifier"===g.type&&this.eat(d.types.colon)?this.parseLabeledStatement(e,f,g):this.parseExpressionStatement(e,g)}},g.parseBreakContinueStatement=function(a,b){var c="break"==b;this.next(),this.eat(d.types.semi)||this.insertSemicolon()?a.label=null:this.type!==d.types.name?this.unexpected():(a.label=this.parseIdent(),this.semicolon());for(var e=0;e<this.labels.length;++e){var f=this.labels[e];if(null==a.label||f.name===a.label.name){if(null!=f.kind&&(c||"loop"===f.kind))break;if(a.label&&c)break}}return e===this.labels.length&&this.raise(a.start,"Unsyntactic "+b),this.finishNode(a,c?"BreakStatement":"ContinueStatement")},g.parseDebuggerStatement=function(a){return this.next(),this.semicolon(),this.finishNode(a,"DebuggerStatement")},g.parseDoStatement=function(a){return this.next(),this.labels.push(h),a.body=this.parseStatement(!1),this.labels.pop(),this.expect(d.types._while),a.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(d.types.semi):this.semicolon(),this.finishNode(a,"DoWhileStatement")},g.parseForStatement=function(a){if(this.next(),this.labels.push(h),this.expect(d.types.parenL),this.type===d.types.semi)return this.parseFor(a,null);if(this.type===d.types._var||this.type===d.types._let||this.type===d.types._const){var b=this.startNode(),c=this.type;return this.next(),this.parseVar(b,!0,c),this.finishNode(b,"VariableDeclaration"),!(this.type===d.types._in||this.options.ecmaVersion>=6&&this.isContextual("of"))||1!==b.declarations.length||c!==d.types._var&&b.declarations[0].init?this.parseFor(a,b):this.parseForIn(a,b)}var e={shorthandAssign:0,trailingComma:0},f=this.parseExpression(!0,e);return this.type===d.types._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.checkPatternErrors(e,!0),this.toAssignable(f),this.checkLVal(f),this.parseForIn(a,f)):(this.checkExpressionErrors(e,!0),this.parseFor(a,f))},g.parseFunctionStatement=function(a){return this.next(),this.parseFunction(a,!0)},g.parseIfStatement=function(a){return this.next(),a.test=this.parseParenExpression(),a.consequent=this.parseStatement(!1),a.alternate=this.eat(d.types._else)?this.parseStatement(!1):null,this.finishNode(a,"IfStatement")},g.parseReturnStatement=function(a){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(d.types.semi)||this.insertSemicolon()?a.argument=null:(a.argument=this.parseExpression(),this.semicolon()),this.finishNode(a,"ReturnStatement")},g.parseSwitchStatement=function(a){this.next(),a.discriminant=this.parseParenExpression(),a.cases=[],this.expect(d.types.braceL),this.labels.push(i);for(var b,c=!1;this.type!=d.types.braceR;)if(this.type===d.types._case||this.type===d.types._default){var e=this.type===d.types._case;b&&this.finishNode(b,"SwitchCase"),a.cases.push(b=this.startNode()),b.consequent=[],this.next(),e?b.test=this.parseExpression():(c&&this.raise(this.lastTokStart,"Multiple default clauses"),c=!0,b.test=null),this.expect(d.types.colon)}else b||this.unexpected(),b.consequent.push(this.parseStatement(!0));return b&&this.finishNode(b,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(a,"SwitchStatement")},g.parseThrowStatement=function(a){return this.next(),f.lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),a.argument=this.parseExpression(),this.semicolon(),this.finishNode(a,"ThrowStatement")};var j=[];g.parseTryStatement=function(a){if(this.next(),a.block=this.parseBlock(),a.handler=null,this.type===d.types._catch){var b=this.startNode();this.next(),this.expect(d.types.parenL),b.param=this.parseBindingAtom(),this.checkLVal(b.param,!0),this.expect(d.types.parenR),b.body=this.parseBlock(),a.handler=this.finishNode(b,"CatchClause")}return a.finalizer=this.eat(d.types._finally)?this.parseBlock():null,a.handler||a.finalizer||this.raise(a.start,"Missing catch or finally clause"),this.finishNode(a,"TryStatement")},g.parseVarStatement=function(a,b){return this.next(),this.parseVar(a,!1,b),this.semicolon(),this.finishNode(a,"VariableDeclaration")},g.parseWhileStatement=function(a){return this.next(),a.test=this.parseParenExpression(),this.labels.push(h),a.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(a,"WhileStatement")},g.parseWithStatement=function(a){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),a.object=this.parseParenExpression(),a.body=this.parseStatement(!1),this.finishNode(a,"WithStatement")},g.parseEmptyStatement=function(a){return this.next(),this.finishNode(a,"EmptyStatement")},g.parseLabeledStatement=function(a,b,c){for(var e=0;e<this.labels.length;++e)this.labels[e].name===b&&this.raise(c.start,"Label '"+b+"' is already declared");for(var f=this.type.isLoop?"loop":this.type===d.types._switch?"switch":null,e=this.labels.length-1;e>=0;e--){var g=this.labels[e];if(g.statementStart!=a.start)break;g.statementStart=this.start,g.kind=f}return this.labels.push({name:b,kind:f,statementStart:this.start}),a.body=this.parseStatement(!0),this.labels.pop(),a.label=c,this.finishNode(a,"LabeledStatement")},g.parseExpressionStatement=function(a,b){return a.expression=b,this.semicolon(),this.finishNode(a,"ExpressionStatement")},g.parseBlock=function(a){var b=this.startNode(),c=!0,e=void 0;for(b.body=[],this.expect(d.types.braceL);!this.eat(d.types.braceR);){var f=this.parseStatement(!0);b.body.push(f),c&&a&&this.isUseStrict(f)&&(e=this.strict,this.setStrict(this.strict=!0)),c=!1}return e===!1&&this.setStrict(!1),this.finishNode(b,"BlockStatement")},g.parseFor=function(a,b){return a.init=b,this.expect(d.types.semi),a.test=this.type===d.types.semi?null:this.parseExpression(),this.expect(d.types.semi),a.update=this.type===d.types.parenR?null:this.parseExpression(),this.expect(d.types.parenR),a.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(a,"ForStatement")},g.parseForIn=function(a,b){var c=this.type===d.types._in?"ForInStatement":"ForOfStatement";return this.next(),a.left=b,a.right=this.parseExpression(),this.expect(d.types.parenR),a.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(a,c)},g.parseVar=function(a,b,c){for(a.declarations=[],a.kind=c.keyword;;){var e=this.startNode();if(this.parseVarId(e),this.eat(d.types.eq)?e.init=this.parseMaybeAssign(b):c!==d.types._const||this.type===d.types._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"==e.id.type||b&&(this.type===d.types._in||this.isContextual("of"))?e.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),a.declarations.push(this.finishNode(e,"VariableDeclarator")),!this.eat(d.types.comma))break}return a},g.parseVarId=function(a){a.id=this.parseBindingAtom(),this.checkLVal(a.id,!0)},g.parseFunction=function(a,b,c){return this.initFunction(a),this.options.ecmaVersion>=6&&(a.generator=this.eat(d.types.star)),(b||this.type===d.types.name)&&(a.id=this.parseIdent()),this.parseFunctionParams(a),this.parseFunctionBody(a,c),this.finishNode(a,b?"FunctionDeclaration":"FunctionExpression")},g.parseFunctionParams=function(a){this.expect(d.types.parenL),a.params=this.parseBindingList(d.types.parenR,!1,!1,!0)},g.parseClass=function(a,b){this.next(),this.parseClassId(a,b),this.parseClassSuper(a);var c=this.startNode(),e=!1;for(c.body=[],this.expect(d.types.braceL);!this.eat(d.types.braceR);)if(!this.eat(d.types.semi)){var f=this.startNode(),g=this.eat(d.types.star),h=this.type===d.types.name&&"static"===this.value;this.parsePropertyName(f),f["static"]=h&&this.type!==d.types.parenL,f["static"]&&(g&&this.unexpected(),g=this.eat(d.types.star),this.parsePropertyName(f)),f.kind="method";var i=!1;if(!f.computed){var j=f.key;g||"Identifier"!==j.type||this.type===d.types.parenL||"get"!==j.name&&"set"!==j.name||(i=!0,f.kind=j.name,j=this.parsePropertyName(f)),!f["static"]&&("Identifier"===j.type&&"constructor"===j.name||"Literal"===j.type&&"constructor"===j.value)&&(e&&this.raise(j.start,"Duplicate constructor in the same class"),i&&this.raise(j.start,"Constructor can't have get/set modifier"),g&&this.raise(j.start,"Constructor can't be a generator"),f.kind="constructor",e=!0)}if(this.parseClassMethod(c,f,g),i){var k="get"===f.kind?0:1;if(f.value.params.length!==k){var l=f.value.start;"get"===f.kind?this.raise(l,"getter should have no params"):this.raise(l,"setter should have exactly one param")}"set"===f.kind&&"RestElement"===f.value.params[0].type&&this.raise(f.value.params[0].start,"Setter cannot use rest params")}}return a.body=this.finishNode(c,"ClassBody"),this.finishNode(a,b?"ClassDeclaration":"ClassExpression")},g.parseClassMethod=function(a,b,c){b.value=this.parseMethod(c),a.body.push(this.finishNode(b,"MethodDefinition"))},g.parseClassId=function(a,b){a.id=this.type===d.types.name?this.parseIdent():b?this.unexpected():null},g.parseClassSuper=function(a){a.superClass=this.eat(d.types._extends)?this.parseExprSubscripts():null},g.parseExport=function(a){if(this.next(),this.eat(d.types.star))return this.expectContextual("from"),a.source=this.type===d.types.string?this.parseExprAtom():this.unexpected(),this.semicolon(),this.finishNode(a,"ExportAllDeclaration");if(this.eat(d.types._default)){var b=this.parseMaybeAssign(),c=!0;return("FunctionExpression"==b.type||"ClassExpression"==b.type)&&(c=!1,b.id&&(b.type="FunctionExpression"==b.type?"FunctionDeclaration":"ClassDeclaration")),a.declaration=b,c&&this.semicolon(),this.finishNode(a,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())a.declaration=this.parseStatement(!0),a.specifiers=[],a.source=null;else{if(a.declaration=null,a.specifiers=this.parseExportSpecifiers(),this.eatContextual("from"))a.source=this.type===d.types.string?this.parseExprAtom():this.unexpected();else{for(var e=0;e<a.specifiers.length;e++)(this.keywords.test(a.specifiers[e].local.name)||this.reservedWords.test(a.specifiers[e].local.name))&&this.unexpected(a.specifiers[e].local.start);a.source=null}this.semicolon()}return this.finishNode(a,"ExportNamedDeclaration")},g.shouldParseExportStatement=function(){return this.type.keyword},g.parseExportSpecifiers=function(){var a=[],b=!0;for(this.expect(d.types.braceL);!this.eat(d.types.braceR);){if(b)b=!1;else if(this.expect(d.types.comma),this.afterTrailingComma(d.types.braceR))break;var c=this.startNode();c.local=this.parseIdent(this.type===d.types._default),c.exported=this.eatContextual("as")?this.parseIdent(!0):c.local,a.push(this.finishNode(c,"ExportSpecifier"))}return a},g.parseImport=function(a){return this.next(),this.type===d.types.string?(a.specifiers=j,a.source=this.parseExprAtom()):(a.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),a.source=this.type===d.types.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(a,"ImportDeclaration")},g.parseImportSpecifiers=function(){var a=[],b=!0;if(this.type===d.types.name){var c=this.startNode();if(c.local=this.parseIdent(),this.checkLVal(c.local,!0),a.push(this.finishNode(c,"ImportDefaultSpecifier")),!this.eat(d.types.comma))return a}if(this.type===d.types.star){var c=this.startNode();return this.next(),this.expectContextual("as"),c.local=this.parseIdent(),this.checkLVal(c.local,!0),a.push(this.finishNode(c,"ImportNamespaceSpecifier")),a}for(this.expect(d.types.braceL);!this.eat(d.types.braceR);){if(b)b=!1;else if(this.expect(d.types.comma),this.afterTrailingComma(d.types.braceR))break;var c=this.startNode();c.imported=this.parseIdent(!0),this.eatContextual("as")?c.local=this.parseIdent():(c.local=c.imported,this.isKeyword(c.local.name)&&this.unexpected(c.local.start),this.reservedWordsStrict.test(c.local.name)&&this.raise(c.local.start,"The keyword '"+c.local.name+"' is reserved")),this.checkLVal(c.local,!0),a.push(this.finishNode(c,"ImportSpecifier"))}return a}},{"./state":10,"./tokentype":14,"./whitespace":16}],12:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("./state"),f=a("./tokentype"),g=a("./whitespace"),h=function k(a,b,c,e){d(this,k),this.token=a,this.isExpr=!!b,this.preserveSpace=!!c,this.override=e};c.TokContext=h;var i={b_stat:new h("{",!1),b_expr:new h("{",!0),b_tmpl:new h("${",!0),p_stat:new h("(",!1),p_expr:new h("(",!0),q_tmpl:new h("`",!0,!0,function(a){return a.readTmplToken()}),f_expr:new h("function",!0)};c.types=i;var j=e.Parser.prototype;j.initialContext=function(){return[i.b_stat]},j.braceIsBlock=function(a){if(a===f.types.colon){var b=this.curContext();if(b===i.b_stat||b===i.b_expr)return!b.isExpr}return a===f.types._return?g.lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):a===f.types._else||a===f.types.semi||a===f.types.eof||a===f.types.parenR?!0:a==f.types.braceL?this.curContext()===i.b_stat:!this.exprAllowed},j.updateContext=function(a){var b=void 0,c=this.type;c.keyword&&a==f.types.dot?this.exprAllowed=!1:(b=c.updateContext)?b.call(this,a):this.exprAllowed=c.beforeExpr},f.types.parenR.updateContext=f.types.braceR.updateContext=function(){if(1==this.context.length)return void(this.exprAllowed=!0);var a=this.context.pop();a===i.b_stat&&this.curContext()===i.f_expr?(this.context.pop(),this.exprAllowed=!1):a===i.b_tmpl?this.exprAllowed=!0:this.exprAllowed=!a.isExpr},f.types.braceL.updateContext=function(a){this.context.push(this.braceIsBlock(a)?i.b_stat:i.b_expr),this.exprAllowed=!0},f.types.dollarBraceL.updateContext=function(){this.context.push(i.b_tmpl),this.exprAllowed=!0},f.types.parenL.updateContext=function(a){var b=a===f.types._if||a===f.types._for||a===f.types._with||a===f.types._while;this.context.push(b?i.p_stat:i.p_expr),this.exprAllowed=!0},f.types.incDec.updateContext=function(){},f.types._function.updateContext=function(){this.curContext()!==i.b_stat&&this.context.push(i.f_expr),this.exprAllowed=!1},f.types.backQuote.updateContext=function(){this.curContext()===i.q_tmpl?this.context.pop():this.context.push(i.q_tmpl),this.exprAllowed=!1}},{"./state":10,"./tokentype":14,"./whitespace":16}],13:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b,c,d){try{return new RegExp(a,b)}catch(e){if(void 0!==c)throw e instanceof SyntaxError&&d.raise(c,"Error parsing regular expression: "+e.message),e}}function f(a){return 65535>=a?String.fromCharCode(a):(a-=65536,String.fromCharCode((a>>10)+55296,(1023&a)+56320))}c.__esModule=!0;var g=a("./identifier"),h=a("./tokentype"),i=a("./state"),j=a("./locutil"),k=a("./whitespace"),l=function p(a){d(this,p),this.type=a.type,this.value=a.value,this.start=a.start,this.end=a.end,a.options.locations&&(this.loc=new j.SourceLocation(a,a.startLoc,a.endLoc)),a.options.ranges&&(this.range=[a.start,a.end])};c.Token=l;var m=i.Parser.prototype,n="object"==typeof Packages&&"[object JavaPackage]"==Object.prototype.toString.call(Packages);m.next=function(){this.options.onToken&&this.options.onToken(new l(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},m.getToken=function(){return this.next(),new l(this)},"undefined"!=typeof Symbol&&(m[Symbol.iterator]=function(){var a=this;return{next:function(){var b=a.getToken();return{done:b.type===h.types.eof,value:b}}}}),m.setStrict=function(a){if(this.strict=a,this.type===h.types.num||this.type===h.types.string){if(this.pos=this.start,this.options.locations)for(;this.pos<this.lineStart;)this.lineStart=this.input.lastIndexOf("\n",this.lineStart-2)+1,--this.curLine;this.nextToken()}},m.curContext=function(){return this.context[this.context.length-1]},m.nextToken=function(){var a=this.curContext();return a&&a.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(h.types.eof):a.override?a.override(this):void this.readToken(this.fullCharCodeAtPos())},m.readToken=function(a){return g.isIdentifierStart(a,this.options.ecmaVersion>=6)||92===a?this.readWord():this.getTokenFromCode(a)},m.fullCharCodeAtPos=function(){var a=this.input.charCodeAt(this.pos);if(55295>=a||a>=57344)return a;var b=this.input.charCodeAt(this.pos+1);return(a<<10)+b-56613888},m.skipBlockComment=function(){var a=this.options.onComment&&this.curPosition(),b=this.pos,c=this.input.indexOf("*/",this.pos+=2);if(-1===c&&this.raise(this.pos-2,"Unterminated comment"),this.pos=c+2,this.options.locations){k.lineBreakG.lastIndex=b;for(var d=void 0;(d=k.lineBreakG.exec(this.input))&&d.index<this.pos;)++this.curLine,this.lineStart=d.index+d[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(b+2,c),b,this.pos,a,this.curPosition())},m.skipLineComment=function(a){for(var b=this.pos,c=this.options.onComment&&this.curPosition(),d=this.input.charCodeAt(this.pos+=a);this.pos<this.input.length&&10!==d&&13!==d&&8232!==d&&8233!==d;)++this.pos,d=this.input.charCodeAt(this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(b+a,this.pos),b,this.pos,c,this.curPosition())},m.skipSpace=function(){a:for(;this.pos<this.input.length;){var a=this.input.charCodeAt(this.pos);switch(a){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break a}break;default:if(!(a>8&&14>a||a>=5760&&k.nonASCIIwhitespace.test(String.fromCharCode(a))))break a;++this.pos}}},m.finishToken=function(a,b){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var c=this.type;this.type=a,this.value=b,this.updateContext(c)},m.readToken_dot=function(){var a=this.input.charCodeAt(this.pos+1);if(a>=48&&57>=a)return this.readNumber(!0);var b=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===a&&46===b?(this.pos+=3,this.finishToken(h.types.ellipsis)):(++this.pos,this.finishToken(h.types.dot))},m.readToken_slash=function(){var a=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===a?this.finishOp(h.types.assign,2):this.finishOp(h.types.slash,1)},m.readToken_mult_modulo=function(a){var b=this.input.charCodeAt(this.pos+1);return 61===b?this.finishOp(h.types.assign,2):this.finishOp(42===a?h.types.star:h.types.modulo,1)},m.readToken_pipe_amp=function(a){var b=this.input.charCodeAt(this.pos+1);return b===a?this.finishOp(124===a?h.types.logicalOR:h.types.logicalAND,2):61===b?this.finishOp(h.types.assign,2):this.finishOp(124===a?h.types.bitwiseOR:h.types.bitwiseAND,1)},m.readToken_caret=function(){var a=this.input.charCodeAt(this.pos+1);return 61===a?this.finishOp(h.types.assign,2):this.finishOp(h.types.bitwiseXOR,1)},m.readToken_plus_min=function(a){var b=this.input.charCodeAt(this.pos+1);return b===a?45==b&&62==this.input.charCodeAt(this.pos+2)&&k.lineBreak.test(this.input.slice(this.lastTokEnd,this.pos))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(h.types.incDec,2):61===b?this.finishOp(h.types.assign,2):this.finishOp(h.types.plusMin,1)},m.readToken_lt_gt=function(a){var b=this.input.charCodeAt(this.pos+1),c=1;return b===a?(c=62===a&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+c)?this.finishOp(h.types.assign,c+1):this.finishOp(h.types.bitShift,c)):33==b&&60==a&&45==this.input.charCodeAt(this.pos+2)&&45==this.input.charCodeAt(this.pos+3)?(this.inModule&&this.unexpected(),this.skipLineComment(4),this.skipSpace(),this.nextToken()):(61===b&&(c=61===this.input.charCodeAt(this.pos+2)?3:2),this.finishOp(h.types.relational,c))},m.readToken_eq_excl=function(a){var b=this.input.charCodeAt(this.pos+1);return 61===b?this.finishOp(h.types.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===a&&62===b&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(h.types.arrow)):this.finishOp(61===a?h.types.eq:h.types.prefix,1)},m.getTokenFromCode=function(a){switch(a){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(h.types.parenL);case 41:return++this.pos,this.finishToken(h.types.parenR);case 59:return++this.pos,this.finishToken(h.types.semi);case 44:return++this.pos,this.finishToken(h.types.comma);case 91:return++this.pos,this.finishToken(h.types.bracketL);case 93:return++this.pos,this.finishToken(h.types.bracketR);case 123:return++this.pos,this.finishToken(h.types.braceL);case 125:return++this.pos,this.finishToken(h.types.braceR);case 58:return++this.pos,this.finishToken(h.types.colon);case 63:return++this.pos,this.finishToken(h.types.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(h.types.backQuote);case 48:var b=this.input.charCodeAt(this.pos+1);if(120===b||88===b)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===b||79===b)return this.readRadixNumber(8);if(98===b||66===b)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(a);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo(a);case 124:case 38:return this.readToken_pipe_amp(a);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(a);case 60:case 62:return this.readToken_lt_gt(a);case 61:case 33:return this.readToken_eq_excl(a);case 126:return this.finishOp(h.types.prefix,1)}this.raise(this.pos,"Unexpected character '"+f(a)+"'")},m.finishOp=function(a,b){var c=this.input.slice(this.pos,this.pos+b);return this.pos+=b,this.finishToken(a,c)};var o=!!e("￿","u");m.readRegexp=function(){for(var a=this,b=void 0,c=void 0,d=this.pos;;){this.pos>=this.input.length&&this.raise(d,"Unterminated regular expression");var f=this.input.charAt(this.pos);if(k.lineBreak.test(f)&&this.raise(d,"Unterminated regular expression"),b)b=!1;else{if("["===f)c=!0;else if("]"===f&&c)c=!1;else if("/"===f&&!c)break;b="\\"===f}++this.pos}var g=this.input.slice(d,this.pos);++this.pos;var i=this.readWord1(),j=g;if(i){var l=/^[gim]*$/;this.options.ecmaVersion>=6&&(l=/^[gimuy]*$/),l.test(i)||this.raise(d,"Invalid regular expression flag"),i.indexOf("u")>=0&&!o&&(j=j.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(b,c,e){return c=Number("0x"+c),c>1114111&&a.raise(d+e+3,"Code point out of bounds"),"x"}),j=j.replace(/\\u([a-fA-F0-9]{4})|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"))}var m=null;return n||(e(j,void 0,d,this),m=e(g,i)),this.finishToken(h.types.regexp,{pattern:g,flags:i,value:m})},m.readInt=function(a,b){for(var c=this.pos,d=0,e=0,f=null==b?1/0:b;f>e;++e){var g=this.input.charCodeAt(this.pos),h=void 0;if(h=g>=97?g-97+10:g>=65?g-65+10:g>=48&&57>=g?g-48:1/0,h>=a)break;++this.pos,d=d*a+h}return this.pos===c||null!=b&&this.pos-c!==b?null:d},m.readRadixNumber=function(a){this.pos+=2;var b=this.readInt(a);return null==b&&this.raise(this.start+2,"Expected number in radix "+a),g.isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.types.num,b)},m.readNumber=function(a){var b=this.pos,c=!1,d=48===this.input.charCodeAt(this.pos);a||null!==this.readInt(10)||this.raise(b,"Invalid number");var e=this.input.charCodeAt(this.pos);46===e&&(++this.pos,this.readInt(10),c=!0,e=this.input.charCodeAt(this.pos)),(69===e||101===e)&&(e=this.input.charCodeAt(++this.pos),(43===e||45===e)&&++this.pos,null===this.readInt(10)&&this.raise(b,"Invalid number"),c=!0),g.isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var f=this.input.slice(b,this.pos),i=void 0;return c?i=parseFloat(f):d&&1!==f.length?/[89]/.test(f)||this.strict?this.raise(b,"Invalid number"):i=parseInt(f,8):i=parseInt(f,10),this.finishToken(h.types.num,i)},m.readCodePoint=function(){var a=this.input.charCodeAt(this.pos),b=void 0;if(123===a){this.options.ecmaVersion<6&&this.unexpected();var c=++this.pos;b=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,b>1114111&&this.raise(c,"Code point out of bounds")}else b=this.readHexChar(4);return b},m.readString=function(a){for(var b="",c=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var d=this.input.charCodeAt(this.pos);if(d===a)break;92===d?(b+=this.input.slice(c,this.pos),b+=this.readEscapedChar(!1),c=this.pos):(k.isNewLine(d)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return b+=this.input.slice(c,this.pos++),this.finishToken(h.types.string,b)},m.readTmplToken=function(){for(var a="",b=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var c=this.input.charCodeAt(this.pos);if(96===c||36===c&&123===this.input.charCodeAt(this.pos+1))return this.pos===this.start&&this.type===h.types.template?36===c?(this.pos+=2,this.finishToken(h.types.dollarBraceL)):(++this.pos,this.finishToken(h.types.backQuote)):(a+=this.input.slice(b,this.pos),this.finishToken(h.types.template,a));if(92===c)a+=this.input.slice(b,this.pos),a+=this.readEscapedChar(!0),b=this.pos;else if(k.isNewLine(c)){switch(a+=this.input.slice(b,this.pos),++this.pos,c){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:a+="\n";break;default:a+=String.fromCharCode(c)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),b=this.pos}else++this.pos}},m.readEscapedChar=function(a){var b=this.input.charCodeAt(++this.pos);switch(++this.pos,b){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return f(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\x0B";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(b>=48&&55>=b){var c=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],d=parseInt(c,8);return d>255&&(c=c.slice(0,-1),d=parseInt(c,8)),"0"!==c&&(this.strict||a)&&this.raise(this.pos-2,"Octal literal in strict mode"),this.pos+=c.length-1,String.fromCharCode(d)}return String.fromCharCode(b)}},m.readHexChar=function(a){var b=this.pos,c=this.readInt(16,a);return null===c&&this.raise(b,"Bad character escape sequence"),c},m.readWord1=function(){this.containsEsc=!1;for(var a="",b=!0,c=this.pos,d=this.options.ecmaVersion>=6;this.pos<this.input.length;){var e=this.fullCharCodeAtPos();if(g.isIdentifierChar(e,d))this.pos+=65535>=e?1:2;else{if(92!==e)break;this.containsEsc=!0,a+=this.input.slice(c,this.pos);var h=this.pos;117!=this.input.charCodeAt(++this.pos)&&this.raise(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var i=this.readCodePoint();(b?g.isIdentifierStart:g.isIdentifierChar)(i,d)||this.raise(h,"Invalid Unicode escape"),a+=f(i),c=this.pos}b=!1}return a+this.input.slice(c,this.pos)},m.readWord=function(){var a=this.readWord1(),b=h.types.name;return(this.options.ecmaVersion>=6||!this.containsEsc)&&this.keywords.test(a)&&(b=h.keywords[a]),this.finishToken(b,a)}},{"./identifier":2,"./locutil":5,"./state":10,"./tokentype":14,"./whitespace":16}],14:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){return new g(a,{beforeExpr:!0,binop:b})}function f(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];b.keyword=a,k[a]=j["_"+a]=new g(a,b)}c.__esModule=!0;var g=function l(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];d(this,l),this.label=a,this.keyword=b.keyword,this.beforeExpr=!!b.beforeExpr,this.startsExpr=!!b.startsExpr,this.isLoop=!!b.isLoop,this.isAssign=!!b.isAssign,this.prefix=!!b.prefix,this.postfix=!!b.postfix,this.binop=b.binop||null,this.updateContext=null};c.TokenType=g;var h={beforeExpr:!0},i={startsExpr:!0},j={num:new g("num",i),regexp:new g("regexp",i),string:new g("string",i),name:new g("name",i),eof:new g("eof"),bracketL:new g("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new g("]"),braceL:new g("{",{beforeExpr:!0,startsExpr:!0}),braceR:new g("}"),parenL:new g("(",{beforeExpr:!0,startsExpr:!0}),parenR:new g(")"),comma:new g(",",h),semi:new g(";",h),colon:new g(":",h),dot:new g("."),question:new g("?",h),arrow:new g("=>",h),template:new g("template"),ellipsis:new g("...",h),backQuote:new g("`",i),dollarBraceL:new g("${",{beforeExpr:!0,startsExpr:!0}),eq:new g("=",{beforeExpr:!0,isAssign:!0}),assign:new g("_=",{beforeExpr:!0,isAssign:!0}),incDec:new g("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new g("prefix",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:e("||",1),logicalAND:e("&&",2),bitwiseOR:e("|",3),bitwiseXOR:e("^",4),bitwiseAND:e("&",5),equality:e("==/!=",6),relational:e("</>",7),bitShift:e("<</>>",8),plusMin:new g("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:e("%",10),star:e("*",10),slash:e("/",10)};c.types=j;var k={};c.keywords=k,f("break"),f("case",h),f("catch"),f("continue"),f("debugger"),f("default",h),f("do",{isLoop:!0,beforeExpr:!0}),f("else",h),f("finally"),f("for",{isLoop:!0}),f("function",i),f("if"),f("return",h),f("switch"),f("throw",h),f("try"),f("var"),f("let"),f("const"),f("while",{isLoop:!0}),f("with"),f("new",{beforeExpr:!0,startsExpr:!0}),f("this",i),f("super",i),f("class"),f("extends",h),f("export"),f("import"),f("yield",{beforeExpr:!0,startsExpr:!0}),f("null",i),f("true",i),f("false",i),f("in",{beforeExpr:!0,binop:7}),f("instanceof",{beforeExpr:!0,binop:7}),f("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),f("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),f("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},{}],15:[function(a,b,c){"use strict";function d(a){return"[object Array]"===Object.prototype.toString.call(a)}function e(a,b){return Object.prototype.hasOwnProperty.call(a,b)}c.__esModule=!0,c.isArray=d,c.has=e},{}],16:[function(a,b,c){"use strict";function d(a){return 10===a||13===a||8232===a||8233==a}c.__esModule=!0,c.isNewLine=d;var e=/\r\n?|\n|\u2028|\u2029/;c.lineBreak=e;var f=new RegExp(e.source,"g");c.lineBreakG=f;var g=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/;c.nonASCIIwhitespace=g},{}]},{},[3])(3)}),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(b.acorn||(b.acorn={})).walk=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b,d,e,f){d||(d=c.base),function g(a,c,e){var f=e||a.type,h=b[f];d[f](a,c,g),h&&h(a,c)}(a,e,f)}function f(a,b,d,e){d||(d=c.base),e||(e=[]),function f(a,c,e){var g=e||a.type,h=b[g];a!=c[c.length-1]&&(c=c.slice(),c.push(a)),d[g](a,c,f),h&&h(a,c)}(a,e)}function g(a,b,d,e,f){var g=d?c.make(d,e):e;!function h(a,b,c){g[c||a.type](a,b,h)}(a,b,f)}function h(a){return"string"==typeof a?function(b){return b==a}:a?a:function(){return!0}}function i(a,b,d,e,f,g){e=h(e),f||(f=c.base);try{!function j(a,c,g){var h=g||a.type;if((null==b||a.start<=b)&&(null==d||a.end>=d)&&f[h](a,c,j),(null==b||a.start==b)&&(null==d||a.end==d)&&e(h,a))throw new p(a,c)}(a,g)}catch(i){if(i instanceof p)return i;throw i}}function j(a,b,d,e,f){
d=h(d),e||(e=c.base);try{!function i(a,c,f){var g=f||a.type;if(!(a.start>b||a.end<b)&&(e[g](a,c,i),d(g,a)))throw new p(a,c)}(a,f)}catch(g){if(g instanceof p)return g;throw g}}function k(a,b,d,e,f){d=h(d),e||(e=c.base);try{!function i(a,c,f){if(!(a.end<b)){var g=f||a.type;if(a.start>=b&&d(g,a))throw new p(a,c);e[g](a,c,i)}}(a,f)}catch(g){if(g instanceof p)return g;throw g}}function l(a,b,d,e,f){d=h(d),e||(e=c.base);var g=void 0;return function i(a,c,f){if(!(a.start>b)){var h=f||a.type;a.end<=b&&(!g||g.node.end<a.end)&&d(h,a)&&(g=new p(a,c)),e[h](a,c,i)}}(a,f),g}function m(a,b){b||(b=c.base);var d={};for(var e in b)d[e]=b[e];for(var e in a)d[e]=a[e];return d}function n(a,b,c){c(a,b)}function o(a,b,c){}c.__esModule=!0,c.simple=e,c.ancestor=f,c.recursive=g,c.findNodeAt=i,c.findNodeAround=j,c.findNodeAfter=k,c.findNodeBefore=l,c.make=m;var p=function r(a,b){d(this,r),this.node=a,this.state=b},q={};c.base=q,q.Program=q.BlockStatement=function(a,b,c){for(var d=0;d<a.body.length;++d)c(a.body[d],b,"Statement")},q.Statement=n,q.EmptyStatement=o,q.ExpressionStatement=q.ParenthesizedExpression=function(a,b,c){return c(a.expression,b,"Expression")},q.IfStatement=function(a,b,c){c(a.test,b,"Expression"),c(a.consequent,b,"Statement"),a.alternate&&c(a.alternate,b,"Statement")},q.LabeledStatement=function(a,b,c){return c(a.body,b,"Statement")},q.BreakStatement=q.ContinueStatement=o,q.WithStatement=function(a,b,c){c(a.object,b,"Expression"),c(a.body,b,"Statement")},q.SwitchStatement=function(a,b,c){c(a.discriminant,b,"Expression");for(var d=0;d<a.cases.length;++d){var e=a.cases[d];e.test&&c(e.test,b,"Expression");for(var f=0;f<e.consequent.length;++f)c(e.consequent[f],b,"Statement")}},q.ReturnStatement=q.YieldExpression=function(a,b,c){a.argument&&c(a.argument,b,"Expression")},q.ThrowStatement=q.SpreadElement=function(a,b,c){return c(a.argument,b,"Expression")},q.TryStatement=function(a,b,c){c(a.block,b,"Statement"),a.handler&&(c(a.handler.param,b,"Pattern"),c(a.handler.body,b,"ScopeBody")),a.finalizer&&c(a.finalizer,b,"Statement")},q.WhileStatement=q.DoWhileStatement=function(a,b,c){c(a.test,b,"Expression"),c(a.body,b,"Statement")},q.ForStatement=function(a,b,c){a.init&&c(a.init,b,"ForInit"),a.test&&c(a.test,b,"Expression"),a.update&&c(a.update,b,"Expression"),c(a.body,b,"Statement")},q.ForInStatement=q.ForOfStatement=function(a,b,c){c(a.left,b,"ForInit"),c(a.right,b,"Expression"),c(a.body,b,"Statement")},q.ForInit=function(a,b,c){"VariableDeclaration"==a.type?c(a,b):c(a,b,"Expression")},q.DebuggerStatement=o,q.FunctionDeclaration=function(a,b,c){return c(a,b,"Function")},q.VariableDeclaration=function(a,b,c){for(var d=0;d<a.declarations.length;++d)c(a.declarations[d],b)},q.VariableDeclarator=function(a,b,c){c(a.id,b,"Pattern"),a.init&&c(a.init,b,"Expression")},q.Function=function(a,b,c){a.id&&c(a.id,b,"Pattern");for(var d=0;d<a.params.length;d++)c(a.params[d],b,"Pattern");c(a.body,b,a.expression?"ScopeExpression":"ScopeBody")},q.ScopeBody=function(a,b,c){return c(a,b,"Statement")},q.ScopeExpression=function(a,b,c){return c(a,b,"Expression")},q.Pattern=function(a,b,c){"Identifier"==a.type?c(a,b,"VariablePattern"):"MemberExpression"==a.type?c(a,b,"MemberPattern"):c(a,b)},q.VariablePattern=o,q.MemberPattern=n,q.RestElement=function(a,b,c){return c(a.argument,b,"Pattern")},q.ArrayPattern=function(a,b,c){for(var d=0;d<a.elements.length;++d){var e=a.elements[d];e&&c(e,b,"Pattern")}},q.ObjectPattern=function(a,b,c){for(var d=0;d<a.properties.length;++d)c(a.properties[d].value,b,"Pattern")},q.Expression=n,q.ThisExpression=q.Super=q.MetaProperty=o,q.ArrayExpression=function(a,b,c){for(var d=0;d<a.elements.length;++d){var e=a.elements[d];e&&c(e,b,"Expression")}},q.ObjectExpression=function(a,b,c){for(var d=0;d<a.properties.length;++d)c(a.properties[d],b)},q.FunctionExpression=q.ArrowFunctionExpression=q.FunctionDeclaration,q.SequenceExpression=q.TemplateLiteral=function(a,b,c){for(var d=0;d<a.expressions.length;++d)c(a.expressions[d],b,"Expression")},q.UnaryExpression=q.UpdateExpression=function(a,b,c){c(a.argument,b,"Expression")},q.BinaryExpression=q.LogicalExpression=function(a,b,c){c(a.left,b,"Expression"),c(a.right,b,"Expression")},q.AssignmentExpression=q.AssignmentPattern=function(a,b,c){c(a.left,b,"Pattern"),c(a.right,b,"Expression")},q.ConditionalExpression=function(a,b,c){c(a.test,b,"Expression"),c(a.consequent,b,"Expression"),c(a.alternate,b,"Expression")},q.NewExpression=q.CallExpression=function(a,b,c){if(c(a.callee,b,"Expression"),a.arguments)for(var d=0;d<a.arguments.length;++d)c(a.arguments[d],b,"Expression")},q.MemberExpression=function(a,b,c){c(a.object,b,"Expression"),a.computed&&c(a.property,b,"Expression")},q.ExportNamedDeclaration=q.ExportDefaultDeclaration=function(a,b,c){a.declaration&&c(a.declaration,b,"ExportNamedDeclaration"==a.type||a.declaration.id?"Statement":"Expression"),a.source&&c(a.source,b,"Expression")},q.ExportAllDeclaration=function(a,b,c){c(a.source,b,"Expression")},q.ImportDeclaration=function(a,b,c){for(var d=0;d<a.specifiers.length;d++)c(a.specifiers[d],b);c(a.source,b,"Expression")},q.ImportSpecifier=q.ImportDefaultSpecifier=q.ImportNamespaceSpecifier=q.Identifier=q.Literal=o,q.TaggedTemplateExpression=function(a,b,c){c(a.tag,b,"Expression"),c(a.quasi,b)},q.ClassDeclaration=q.ClassExpression=function(a,b,c){return c(a,b,"Class")},q.Class=function(a,b,c){a.id&&c(a.id,b,"Pattern"),a.superClass&&c(a.superClass,b,"Expression");for(var d=0;d<a.body.body.length;d++)c(a.body.body[d],b)},q.MethodDefinition=q.Property=function(a,b,c){a.computed&&c(a.key,b,"Expression"),c(a.value,b,"Expression")},q.ComprehensionExpression=function(a,b,c){for(var d=0;d<a.blocks.length;d++)c(a.blocks[d].right,b,"Expression");c(a.body,b,"Expression")}},{}]},{},[1])(1)}),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(b.acorn||(b.acorn={})).loose=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";b.exports="undefined"!=typeof acorn?acorn:require("./acorn")},{}],2:[function(a,b,c){"use strict";var d=a("./state"),e=a("./parseutil"),f=a(".."),g=d.LooseParser.prototype;g.checkLVal=function(a){if(!a)return a;switch(a.type){case"Identifier":case"MemberExpression":return a;case"ParenthesizedExpression":return a.expression=this.checkLVal(a.expression),a;default:return this.dummyIdent()}},g.parseExpression=function(a){var b=this.storeCurrentPos(),c=this.parseMaybeAssign(a);if(this.tok.type===f.tokTypes.comma){var d=this.startNodeAt(b);for(d.expressions=[c];this.eat(f.tokTypes.comma);)d.expressions.push(this.parseMaybeAssign(a));return this.finishNode(d,"SequenceExpression")}return c},g.parseParenExpression=function(){this.pushCx(),this.expect(f.tokTypes.parenL);var a=this.parseExpression();return this.popCx(),this.expect(f.tokTypes.parenR),a},g.parseMaybeAssign=function(a){var b=this.storeCurrentPos(),c=this.parseMaybeConditional(a);if(this.tok.type.isAssign){var d=this.startNodeAt(b);return d.operator=this.tok.value,d.left=this.tok.type===f.tokTypes.eq?this.toAssignable(c):this.checkLVal(c),this.next(),d.right=this.parseMaybeAssign(a),this.finishNode(d,"AssignmentExpression")}return c},g.parseMaybeConditional=function(a){var b=this.storeCurrentPos(),c=this.parseExprOps(a);if(this.eat(f.tokTypes.question)){var d=this.startNodeAt(b);return d.test=c,d.consequent=this.parseMaybeAssign(),d.alternate=this.expect(f.tokTypes.colon)?this.parseMaybeAssign(a):this.dummyIdent(),this.finishNode(d,"ConditionalExpression")}return c},g.parseExprOps=function(a){var b=this.storeCurrentPos(),c=this.curIndent,d=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(a),b,-1,a,c,d)},g.parseExprOp=function(a,b,c,d,e,g){if(this.curLineStart!=g&&this.curIndent<e&&this.tokenStartsLine())return a;var h=this.tok.type.binop;if(null!=h&&(!d||this.tok.type!==f.tokTypes._in)&&h>c){var i=this.startNodeAt(b);if(i.left=a,i.operator=this.tok.value,this.next(),this.curLineStart!=g&&this.curIndent<e&&this.tokenStartsLine())i.right=this.dummyIdent();else{var j=this.storeCurrentPos();i.right=this.parseExprOp(this.parseMaybeUnary(d),j,h,d,e,g)}return this.finishNode(i,/&&|\|\|/.test(i.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(i,b,c,d,e,g)}return a},g.parseMaybeUnary=function(a){if(this.tok.type.prefix){var b=this.startNode(),c=this.tok.type===f.tokTypes.incDec;return b.operator=this.tok.value,b.prefix=!0,this.next(),b.argument=this.parseMaybeUnary(a),c&&(b.argument=this.checkLVal(b.argument)),this.finishNode(b,c?"UpdateExpression":"UnaryExpression")}if(this.tok.type===f.tokTypes.ellipsis){var b=this.startNode();return this.next(),b.argument=this.parseMaybeUnary(a),this.finishNode(b,"SpreadElement")}for(var d=this.storeCurrentPos(),e=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var b=this.startNodeAt(d);b.operator=this.tok.value,b.prefix=!1,b.argument=this.checkLVal(e),this.next(),e=this.finishNode(b,"UpdateExpression")}return e},g.parseExprSubscripts=function(){var a=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),a,!1,this.curIndent,this.curLineStart)},g.parseSubscripts=function(a,b,c,d,e){for(;;){if(this.curLineStart!=e&&this.curIndent<=d&&this.tokenStartsLine()){if(this.tok.type!=f.tokTypes.dot||this.curIndent!=d)return a;--d}if(this.eat(f.tokTypes.dot)){var g=this.startNodeAt(b);g.object=a,this.curLineStart!=e&&this.curIndent<=d&&this.tokenStartsLine()?g.property=this.dummyIdent():g.property=this.parsePropertyAccessor()||this.dummyIdent(),g.computed=!1,a=this.finishNode(g,"MemberExpression")}else if(this.tok.type==f.tokTypes.bracketL){this.pushCx(),this.next();var g=this.startNodeAt(b);g.object=a,g.property=this.parseExpression(),g.computed=!0,this.popCx(),this.expect(f.tokTypes.bracketR),a=this.finishNode(g,"MemberExpression")}else if(c||this.tok.type!=f.tokTypes.parenL){if(this.tok.type!=f.tokTypes.backQuote)return a;var g=this.startNodeAt(b);g.tag=a,g.quasi=this.parseTemplate(),a=this.finishNode(g,"TaggedTemplateExpression")}else{var g=this.startNodeAt(b);g.callee=a,g.arguments=this.parseExprList(f.tokTypes.parenR),a=this.finishNode(g,"CallExpression")}}},g.parseExprAtom=function(){var a=void 0;switch(this.tok.type){case f.tokTypes._this:case f.tokTypes._super:var b=this.tok.type===f.tokTypes._this?"ThisExpression":"Super";return a=this.startNode(),this.next(),this.finishNode(a,b);case f.tokTypes.name:var c=this.storeCurrentPos(),d=this.parseIdent();return this.eat(f.tokTypes.arrow)?this.parseArrowExpression(this.startNodeAt(c),[d]):d;case f.tokTypes.regexp:a=this.startNode();var g=this.tok.value;return a.regex={pattern:g.pattern,flags:g.flags},a.value=g.value,a.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(a,"Literal");case f.tokTypes.num:case f.tokTypes.string:return a=this.startNode(),a.value=this.tok.value,a.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(a,"Literal");case f.tokTypes._null:case f.tokTypes._true:case f.tokTypes._false:return a=this.startNode(),a.value=this.tok.type===f.tokTypes._null?null:this.tok.type===f.tokTypes._true,a.raw=this.tok.type.keyword,this.next(),this.finishNode(a,"Literal");case f.tokTypes.parenL:var h=this.storeCurrentPos();this.next();var i=this.parseExpression();if(this.expect(f.tokTypes.parenR),this.eat(f.tokTypes.arrow))return this.parseArrowExpression(this.startNodeAt(h),i.expressions||(e.isDummy(i)?[]:[i]));if(this.options.preserveParens){var j=this.startNodeAt(h);j.expression=i,i=this.finishNode(j,"ParenthesizedExpression")}return i;case f.tokTypes.bracketL:return a=this.startNode(),a.elements=this.parseExprList(f.tokTypes.bracketR,!0),this.finishNode(a,"ArrayExpression");case f.tokTypes.braceL:return this.parseObj();case f.tokTypes._class:return this.parseClass();case f.tokTypes._function:return a=this.startNode(),this.next(),this.parseFunction(a,!1);case f.tokTypes._new:return this.parseNew();case f.tokTypes._yield:return a=this.startNode(),this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!=f.tokTypes.star&&!this.tok.type.startsExpr?(a.delegate=!1,a.argument=null):(a.delegate=this.eat(f.tokTypes.star),a.argument=this.parseMaybeAssign()),this.finishNode(a,"YieldExpression");case f.tokTypes.backQuote:return this.parseTemplate();default:return this.dummyIdent()}},g.parseNew=function(){var a=this.startNode(),b=this.curIndent,c=this.curLineStart,d=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(f.tokTypes.dot))return a.meta=d,a.property=this.parseIdent(!0),this.finishNode(a,"MetaProperty");var e=this.storeCurrentPos();return a.callee=this.parseSubscripts(this.parseExprAtom(),e,!0,b,c),this.tok.type==f.tokTypes.parenL?a.arguments=this.parseExprList(f.tokTypes.parenR):a.arguments=[],this.finishNode(a,"NewExpression")},g.parseTemplateElement=function(){var a=this.startNode();return a.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,"\n"),cooked:this.tok.value},this.next(),a.tail=this.tok.type===f.tokTypes.backQuote,this.finishNode(a,"TemplateElement")},g.parseTemplate=function(){var a=this.startNode();this.next(),a.expressions=[];var b=this.parseTemplateElement();for(a.quasis=[b];!b.tail;)this.next(),a.expressions.push(this.parseExpression()),this.expect(f.tokTypes.braceR)?b=this.parseTemplateElement():(b=this.startNode(),b.value={cooked:"",raw:""},b.tail=!0),a.quasis.push(b);return this.expect(f.tokTypes.backQuote),this.finishNode(a,"TemplateLiteral")},g.parseObj=function(){var a=this.startNode();a.properties=[],this.pushCx();var b=this.curIndent+1,c=this.curLineStart;for(this.eat(f.tokTypes.braceL),this.curIndent+1<b&&(b=this.curIndent,c=this.curLineStart);!this.closes(f.tokTypes.braceR,b,c);){var d=this.startNode(),g=void 0,h=void 0;if(this.options.ecmaVersion>=6&&(h=this.storeCurrentPos(),d.method=!1,d.shorthand=!1,g=this.eat(f.tokTypes.star)),this.parsePropertyName(d),e.isDummy(d.key))e.isDummy(this.parseMaybeAssign())&&this.next(),this.eat(f.tokTypes.comma);else{if(this.eat(f.tokTypes.colon))d.kind="init",d.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===f.tokTypes.parenL||this.tok.type===f.tokTypes.braceL))d.kind="init",d.method=!0,d.value=this.parseMethod(g);else if(this.options.ecmaVersion>=5&&"Identifier"===d.key.type&&!d.computed&&("get"===d.key.name||"set"===d.key.name)&&this.tok.type!=f.tokTypes.comma&&this.tok.type!=f.tokTypes.braceR)d.kind=d.key.name,this.parsePropertyName(d),d.value=this.parseMethod(!1);else{if(d.kind="init",this.options.ecmaVersion>=6)if(this.eat(f.tokTypes.eq)){var i=this.startNodeAt(h);i.operator="=",i.left=d.key,i.right=this.parseMaybeAssign(),d.value=this.finishNode(i,"AssignmentExpression")}else d.value=d.key;else d.value=this.dummyIdent();d.shorthand=!0}a.properties.push(this.finishNode(d,"Property")),this.eat(f.tokTypes.comma)}}return this.popCx(),this.eat(f.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(a,"ObjectExpression")},g.parsePropertyName=function(a){if(this.options.ecmaVersion>=6){if(this.eat(f.tokTypes.bracketL))return a.computed=!0,a.key=this.parseExpression(),void this.expect(f.tokTypes.bracketR);a.computed=!1}var b=this.tok.type===f.tokTypes.num||this.tok.type===f.tokTypes.string?this.parseExprAtom():this.parseIdent();a.key=b||this.dummyIdent()},g.parsePropertyAccessor=function(){return this.tok.type===f.tokTypes.name||this.tok.type.keyword?this.parseIdent():void 0},g.parseIdent=function(){var a=this.tok.type===f.tokTypes.name?this.tok.value:this.tok.type.keyword;if(!a)return this.dummyIdent();var b=this.startNode();return this.next(),b.name=a,this.finishNode(b,"Identifier")},g.initFunction=function(a){a.id=null,a.params=[],this.options.ecmaVersion>=6&&(a.generator=!1,a.expression=!1)},g.toAssignable=function(a,b){if(!a||"Identifier"==a.type||"MemberExpression"==a.type&&!b);else if("ParenthesizedExpression"==a.type)a.expression=this.toAssignable(a.expression,b);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if("ObjectExpression"==a.type){a.type="ObjectPattern";for(var c=a.properties,d=0;d<c.length;d++)c[d].value=this.toAssignable(c[d].value,b)}else if("ArrayExpression"==a.type)a.type="ArrayPattern",this.toAssignableList(a.elements,b);else if("SpreadElement"==a.type)a.type="RestElement",a.argument=this.toAssignable(a.argument,b);else{if("AssignmentExpression"!=a.type)return this.dummyIdent();a.type="AssignmentPattern",delete a.operator}}return a},g.toAssignableList=function(a,b){for(var c=0;c<a.length;c++)a[c]=this.toAssignable(a[c],b);return a},g.parseFunctionParams=function(a){return a=this.parseExprList(f.tokTypes.parenR),this.toAssignableList(a,!0)},g.parseMethod=function(a){var b=this.startNode();return this.initFunction(b),b.params=this.parseFunctionParams(),b.generator=a||!1,b.expression=this.options.ecmaVersion>=6&&this.tok.type!==f.tokTypes.braceL,b.body=b.expression?this.parseMaybeAssign():this.parseBlock(),this.finishNode(b,"FunctionExpression")},g.parseArrowExpression=function(a,b){return this.initFunction(a),a.params=this.toAssignableList(b,!0),a.expression=this.tok.type!==f.tokTypes.braceL,a.body=a.expression?this.parseMaybeAssign():this.parseBlock(),this.finishNode(a,"ArrowFunctionExpression")},g.parseExprList=function(a,b){this.pushCx();var c=this.curIndent,d=this.curLineStart,g=[];for(this.next();!this.closes(a,c+1,d);)if(this.eat(f.tokTypes.comma))g.push(b?null:this.dummyIdent());else{var h=this.parseMaybeAssign();if(e.isDummy(h)){if(this.closes(a,c,d))break;this.next()}else g.push(h);this.eat(f.tokTypes.comma)}return this.popCx(),this.eat(a)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),g}},{"..":1,"./parseutil":4,"./state":5}],3:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a,b){var c=new h.LooseParser(a,b);return c.next(),c.parseTopLevel()}c.__esModule=!0,c.parse_dammit=e;var f=a(".."),g=d(f),h=a("./state");a("./tokenize"),a("./statement"),a("./expression"),c.LooseParser=h.LooseParser,c.pluginsLoose=h.pluginsLoose,g.defaultOptions.tabSize=4,g.parse_dammit=e,g.LooseParser=h.LooseParser,g.pluginsLoose=h.pluginsLoose},{"..":1,"./expression":2,"./state":5,"./statement":6,"./tokenize":7}],4:[function(a,b,c){"use strict";function d(a){return"✖"==a.name}c.__esModule=!0,c.isDummy=d},{}],5:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a(".."),f={};c.pluginsLoose=f;var g=function(){function a(b,c){if(d(this,a),this.toks=e.tokenizer(b,c),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:e.tokTypes.eof,start:0,end:0},this.options.locations){var f=this.toks.curPosition();this.tok.loc=new e.SourceLocation(this.toks,f,f)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.options.pluginsLoose=c.pluginsLoose||{},this.loadPlugins(this.options.pluginsLoose)}return a.prototype.startNode=function(){return new e.Node(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)},a.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},a.prototype.startNodeAt=function(a){return this.options.locations?new e.Node(this.toks,a[0],a[1]):new e.Node(this.toks,a)},a.prototype.finishNode=function(a,b){return a.type=b,a.end=this.last.end,this.options.locations&&(a.loc.end=this.last.loc.end),this.options.ranges&&(a.range[1]=this.last.end),a},a.prototype.dummyNode=function(a){var b=this.startNode();return b.type=a,b.end=b.start,this.options.locations&&(b.loc.end=b.loc.start),this.options.ranges&&(b.range[1]=b.start),this.last={type:e.tokTypes.name,start:b.start,end:b.start,loc:b.loc},b},a.prototype.dummyIdent=function(){var a=this.dummyNode("Identifier");return a.name="✖",a},a.prototype.dummyString=function(){var a=this.dummyNode("Literal");return a.value=a.raw="✖",a},a.prototype.eat=function(a){return this.tok.type===a?(this.next(),!0):!1},a.prototype.isContextual=function(a){return this.tok.type===e.tokTypes.name&&this.tok.value===a},a.prototype.eatContextual=function(a){return this.tok.value===a&&this.eat(e.tokTypes.name)},a.prototype.canInsertSemicolon=function(){return this.tok.type===e.tokTypes.eof||this.tok.type===e.tokTypes.braceR||e.lineBreak.test(this.input.slice(this.last.end,this.tok.start))},a.prototype.semicolon=function(){return this.eat(e.tokTypes.semi)},a.prototype.expect=function(a){if(this.eat(a))return!0;for(var b=1;2>=b;b++)if(this.lookAhead(b).type==a){for(var c=0;b>c;c++)this.next();return!0}},a.prototype.pushCx=function(){this.context.push(this.curIndent)},a.prototype.popCx=function(){this.curIndent=this.context.pop()},a.prototype.lineEnd=function(a){for(;a<this.input.length&&!e.isNewLine(this.input.charCodeAt(a));)++a;return a},a.prototype.indentationAfter=function(a){for(var b=0;;++a){var c=this.input.charCodeAt(a);if(32===c)++b;else{if(9!==c)return b;b+=this.options.tabSize}}},a.prototype.closes=function(a,b,c,d){return this.tok.type===a||this.tok.type===e.tokTypes.eof?!0:c!=this.curLineStart&&this.curIndent<b&&this.tokenStartsLine()&&(!d||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<b)},a.prototype.tokenStartsLine=function(){for(var a=this.tok.start-1;a>=this.curLineStart;--a){var b=this.input.charCodeAt(a);if(9!==b&&32!==b)return!1}return!0},a.prototype.extend=function(a,b){this[a]=b(this[a])},a.prototype.loadPlugins=function(a){for(var b in a){var c=f[b];if(!c)throw new Error("Plugin '"+b+"' not found");c(this,a[b])}},a}();c.LooseParser=g},{"..":1}],6:[function(a,b,c){"use strict";var d=a("./state"),e=a("./parseutil"),f=a(".."),g=d.LooseParser.prototype;g.parseTopLevel=function(){var a=this.startNodeAt(this.options.locations?[0,f.getLineInfo(this.input,0)]:0);for(a.body=[];this.tok.type!==f.tokTypes.eof;)a.body.push(this.parseStatement());return this.last=this.tok,this.options.ecmaVersion>=6&&(a.sourceType=this.options.sourceType),this.finishNode(a,"Program")},g.parseStatement=function(){var a=this.tok.type,b=this.startNode();switch(a){case f.tokTypes._break:case f.tokTypes._continue:this.next();var c=a===f.tokTypes._break;return this.semicolon()||this.canInsertSemicolon()?b.label=null:(b.label=this.tok.type===f.tokTypes.name?this.parseIdent():null,this.semicolon()),this.finishNode(b,c?"BreakStatement":"ContinueStatement");case f.tokTypes._debugger:return this.next(),this.semicolon(),this.finishNode(b,"DebuggerStatement");case f.tokTypes._do:return this.next(),b.body=this.parseStatement(),b.test=this.eat(f.tokTypes._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(b,"DoWhileStatement");case f.tokTypes._for:if(this.next(),this.pushCx(),this.expect(f.tokTypes.parenL),this.tok.type===f.tokTypes.semi)return this.parseFor(b,null);if(this.tok.type===f.tokTypes._var||this.tok.type===f.tokTypes._let||this.tok.type===f.tokTypes._const){var d=this.parseVar(!0);return 1!==d.declarations.length||this.tok.type!==f.tokTypes._in&&!this.isContextual("of")?this.parseFor(b,d):this.parseForIn(b,d)}var g=this.parseExpression(!0);return this.tok.type===f.tokTypes._in||this.isContextual("of")?this.parseForIn(b,this.toAssignable(g)):this.parseFor(b,g);case f.tokTypes._function:return this.next(),this.parseFunction(b,!0);case f.tokTypes._if:return this.next(),b.test=this.parseParenExpression(),b.consequent=this.parseStatement(),b.alternate=this.eat(f.tokTypes._else)?this.parseStatement():null,this.finishNode(b,"IfStatement");case f.tokTypes._return:return this.next(),this.eat(f.tokTypes.semi)||this.canInsertSemicolon()?b.argument=null:(b.argument=this.parseExpression(),this.semicolon()),this.finishNode(b,"ReturnStatement");case f.tokTypes._switch:var h=this.curIndent,i=this.curLineStart;this.next(),b.discriminant=this.parseParenExpression(),b.cases=[],this.pushCx(),this.expect(f.tokTypes.braceL);for(var j=void 0;!this.closes(f.tokTypes.braceR,h,i,!0);)if(this.tok.type===f.tokTypes._case||this.tok.type===f.tokTypes._default){var k=this.tok.type===f.tokTypes._case;j&&this.finishNode(j,"SwitchCase"),b.cases.push(j=this.startNode()),j.consequent=[],this.next(),k?j.test=this.parseExpression():j.test=null,this.expect(f.tokTypes.colon)}else j||(b.cases.push(j=this.startNode()),j.consequent=[],j.test=null),j.consequent.push(this.parseStatement());return j&&this.finishNode(j,"SwitchCase"),this.popCx(),this.eat(f.tokTypes.braceR),this.finishNode(b,"SwitchStatement");case f.tokTypes._throw:return this.next(),b.argument=this.parseExpression(),this.semicolon(),this.finishNode(b,"ThrowStatement");case f.tokTypes._try:if(this.next(),b.block=this.parseBlock(),b.handler=null,this.tok.type===f.tokTypes._catch){var l=this.startNode();this.next(),this.expect(f.tokTypes.parenL),l.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(f.tokTypes.parenR),l.body=this.parseBlock(),b.handler=this.finishNode(l,"CatchClause")}return b.finalizer=this.eat(f.tokTypes._finally)?this.parseBlock():null,b.handler||b.finalizer?this.finishNode(b,"TryStatement"):b.block;case f.tokTypes._var:case f.tokTypes._let:case f.tokTypes._const:return this.parseVar();case f.tokTypes._while:return this.next(),b.test=this.parseParenExpression(),b.body=this.parseStatement(),this.finishNode(b,"WhileStatement");case f.tokTypes._with:return this.next(),b.object=this.parseParenExpression(),b.body=this.parseStatement(),this.finishNode(b,"WithStatement");case f.tokTypes.braceL:return this.parseBlock();case f.tokTypes.semi:return this.next(),this.finishNode(b,"EmptyStatement");case f.tokTypes._class:return this.parseClass(!0);case f.tokTypes._import:return this.parseImport();case f.tokTypes._export:return this.parseExport();default:var m=this.parseExpression();return e.isDummy(m)?(this.next(),this.tok.type===f.tokTypes.eof?this.finishNode(b,"EmptyStatement"):this.parseStatement()):a===f.tokTypes.name&&"Identifier"===m.type&&this.eat(f.tokTypes.colon)?(b.body=this.parseStatement(),b.label=m,this.finishNode(b,"LabeledStatement")):(b.expression=m,this.semicolon(),this.finishNode(b,"ExpressionStatement"))}},g.parseBlock=function(){var a=this.startNode();this.pushCx(),this.expect(f.tokTypes.braceL);var b=this.curIndent,c=this.curLineStart;for(a.body=[];!this.closes(f.tokTypes.braceR,b,c,!0);)a.body.push(this.parseStatement());return this.popCx(),this.eat(f.tokTypes.braceR),this.finishNode(a,"BlockStatement")},g.parseFor=function(a,b){return a.init=b,a.test=a.update=null,this.eat(f.tokTypes.semi)&&this.tok.type!==f.tokTypes.semi&&(a.test=this.parseExpression()),this.eat(f.tokTypes.semi)&&this.tok.type!==f.tokTypes.parenR&&(a.update=this.parseExpression()),this.popCx(),this.expect(f.tokTypes.parenR),a.body=this.parseStatement(),this.finishNode(a,"ForStatement")},g.parseForIn=function(a,b){var c=this.tok.type===f.tokTypes._in?"ForInStatement":"ForOfStatement";return this.next(),a.left=b,a.right=this.parseExpression(),this.popCx(),this.expect(f.tokTypes.parenR),a.body=this.parseStatement(),this.finishNode(a,c)},g.parseVar=function(a){var b=this.startNode();b.kind=this.tok.type.keyword,this.next(),b.declarations=[];do{var c=this.startNode();c.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent(),c.init=this.eat(f.tokTypes.eq)?this.parseMaybeAssign(a):null,b.declarations.push(this.finishNode(c,"VariableDeclarator"))}while(this.eat(f.tokTypes.comma));if(!b.declarations.length){var c=this.startNode();c.id=this.dummyIdent(),b.declarations.push(this.finishNode(c,"VariableDeclarator"))}return a||this.semicolon(),this.finishNode(b,"VariableDeclaration")},g.parseClass=function(a){var b=this.startNode();this.next(),this.tok.type===f.tokTypes.name?b.id=this.parseIdent():a?b.id=this.dummyIdent():b.id=null,b.superClass=this.eat(f.tokTypes._extends)?this.parseExpression():null,b.body=this.startNode(),b.body.body=[],this.pushCx();var c=this.curIndent+1,d=this.curLineStart;for(this.eat(f.tokTypes.braceL),this.curIndent+1<c&&(c=this.curIndent,d=this.curLineStart);!this.closes(f.tokTypes.braceR,c,d);)if(!this.semicolon()){var g=this.startNode(),h=void 0;this.options.ecmaVersion>=6&&(g["static"]=!1,h=this.eat(f.tokTypes.star)),this.parsePropertyName(g),e.isDummy(g.key)?(e.isDummy(this.parseMaybeAssign())&&this.next(),this.eat(f.tokTypes.comma)):("Identifier"!==g.key.type||g.computed||"static"!==g.key.name||this.tok.type==f.tokTypes.parenL||this.tok.type==f.tokTypes.braceL?g["static"]=!1:(g["static"]=!0,h=this.eat(f.tokTypes.star),this.parsePropertyName(g)),this.options.ecmaVersion>=5&&"Identifier"===g.key.type&&!g.computed&&("get"===g.key.name||"set"===g.key.name)&&this.tok.type!==f.tokTypes.parenL&&this.tok.type!==f.tokTypes.braceL?(g.kind=g.key.name,this.parsePropertyName(g),g.value=this.parseMethod(!1)):(g.computed||g["static"]||h||!("Identifier"===g.key.type&&"constructor"===g.key.name||"Literal"===g.key.type&&"constructor"===g.key.value)?g.kind="method":g.kind="constructor",g.value=this.parseMethod(h)),b.body.body.push(this.finishNode(g,"MethodDefinition")))}return this.popCx(),this.eat(f.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(b.body,"ClassBody"),this.finishNode(b,a?"ClassDeclaration":"ClassExpression")},g.parseFunction=function(a,b){return this.initFunction(a),this.options.ecmaVersion>=6&&(a.generator=this.eat(f.tokTypes.star)),this.tok.type===f.tokTypes.name?a.id=this.parseIdent():b&&(a.id=this.dummyIdent()),a.params=this.parseFunctionParams(),a.body=this.parseBlock(),this.finishNode(a,b?"FunctionDeclaration":"FunctionExpression")},g.parseExport=function(){var a=this.startNode();if(this.next(),this.eat(f.tokTypes.star))return a.source=this.eatContextual("from")?this.parseExprAtom():null,this.finishNode(a,"ExportAllDeclaration");if(this.eat(f.tokTypes._default)){var b=this.parseMaybeAssign();if(b.id)switch(b.type){case"FunctionExpression":b.type="FunctionDeclaration";break;case"ClassExpression":b.type="ClassDeclaration"}return a.declaration=b,this.semicolon(),this.finishNode(a,"ExportDefaultDeclaration")}return this.tok.type.keyword?(a.declaration=this.parseStatement(),a.specifiers=[],a.source=null):(a.declaration=null,a.specifiers=this.parseExportSpecifierList(),a.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(a,"ExportNamedDeclaration")},g.parseImport=function(){var a=this.startNode();if(this.next(),this.tok.type===f.tokTypes.string)a.specifiers=[],a.source=this.parseExprAtom(),a.kind="";else{var b=void 0;this.tok.type===f.tokTypes.name&&"from"!==this.tok.value&&(b=this.startNode(),b.local=this.parseIdent(),this.finishNode(b,"ImportDefaultSpecifier"),this.eat(f.tokTypes.comma)),a.specifiers=this.parseImportSpecifierList(),a.source=this.eatContextual("from")&&this.tok.type==f.tokTypes.string?this.parseExprAtom():this.dummyString(),b&&a.specifiers.unshift(b)}return this.semicolon(),this.finishNode(a,"ImportDeclaration")},g.parseImportSpecifierList=function(){var a=[];if(this.tok.type===f.tokTypes.star){var b=this.startNode();this.next(),this.eatContextual("as")&&(b.local=this.parseIdent()),a.push(this.finishNode(b,"ImportNamespaceSpecifier"));
}else{var c=this.curIndent,d=this.curLineStart,g=this.nextLineStart;for(this.pushCx(),this.eat(f.tokTypes.braceL),this.curLineStart>g&&(g=this.curLineStart);!this.closes(f.tokTypes.braceR,c+(this.curLineStart<=g?1:0),d);){var b=this.startNode();if(this.eat(f.tokTypes.star))b.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),this.finishNode(b,"ImportNamespaceSpecifier");else{if(this.isContextual("from"))break;if(b.imported=this.parseIdent(),e.isDummy(b.imported))break;b.local=this.eatContextual("as")?this.parseIdent():b.imported,this.finishNode(b,"ImportSpecifier")}a.push(b),this.eat(f.tokTypes.comma)}this.eat(f.tokTypes.braceR),this.popCx()}return a},g.parseExportSpecifierList=function(){var a=[],b=this.curIndent,c=this.curLineStart,d=this.nextLineStart;for(this.pushCx(),this.eat(f.tokTypes.braceL),this.curLineStart>d&&(d=this.curLineStart);!this.closes(f.tokTypes.braceR,b+(this.curLineStart<=d?1:0),c)&&!this.isContextual("from");){var g=this.startNode();if(g.local=this.parseIdent(),e.isDummy(g.local))break;g.exported=this.eatContextual("as")?this.parseIdent():g.local,this.finishNode(g,"ExportSpecifier"),a.push(g),this.eat(f.tokTypes.comma)}return this.eat(f.tokTypes.braceR),this.popCx(),a}},{"..":1,"./parseutil":4,"./state":5}],7:[function(a,b,c){"use strict";function d(a){return 14>a&&a>8||32===a||160===a||e.isNewLine(a)}var e=a(".."),f=a("./state"),g=f.LooseParser.prototype;g.next=function(){if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},g.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===e.tokTypes.dot&&"."===this.input.substr(this.toks.end,1)&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=e.tokTypes.ellipsis),new e.Token(this.toks)}catch(a){if(!(a instanceof SyntaxError))throw a;var b=a.message,c=a.raisedAt,f=!0;if(/unterminated/i.test(b))if(c=this.lineEnd(a.pos+1),/string/.test(b))f={start:a.pos,end:c,type:e.tokTypes.string,value:this.input.slice(a.pos+1,c)};else if(/regular expr/i.test(b)){var g=this.input.slice(a.pos,c);try{g=new RegExp(g)}catch(a){}f={start:a.pos,end:c,type:e.tokTypes.regexp,value:g}}else f=/template/.test(b)?{start:a.pos,end:c,type:e.tokTypes.template,value:this.input.slice(a.pos,c)}:!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(b))for(;c<this.input.length&&!d(this.input.charCodeAt(c));)++c;else if(/character escape|expected hexadecimal/i.test(b))for(;c<this.input.length;){var h=this.input.charCodeAt(c++);if(34===h||39===h||e.isNewLine(h))break}else if(/unexpected character/i.test(b))c++,f=!1;else{if(!/regular expression/i.test(b))throw a;f=!0}if(this.resetTo(c),f===!0&&(f={start:c,end:c,type:e.tokTypes.name,value:"✖"}),f)return this.options.locations&&(f.loc=new e.SourceLocation(this.toks,e.getLineInfo(this.input,f.start),e.getLineInfo(this.input,f.end))),f}},g.resetTo=function(a){this.toks.pos=a;var b=this.input.charAt(a-1);if(this.toks.exprAllowed=!b||/[\[\{\(,;:?\/*=+\-~!|&%^<>]/.test(b)||/[enwfd]/.test(b)&&/\b(keywords|case|else|return|throw|new|in|(instance|type)of|delete|void)$/.test(this.input.slice(a-10,a)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=e.lineBreakG.lastIndex=0;for(var c=void 0;(c=e.lineBreakG.exec(this.input))&&c.index<a;)++this.toks.curLine,this.toks.lineStart=c.index+c[0].length}},g.lookAhead=function(a){for(;a>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[a-1]}},{"..":1,"./state":5}]},{},[3])(3)});var isCommonJS="undefined"!=typeof module&&"undefined"!=typeof require,Global="undefined"!=typeof window?window:global,lang=isCommonJS?module.require("lively.lang"):Global.lively&&lively.lang,escodegen=isCommonJS?require("escodegen"):escodegen,acorn=!isCommonJS&&Global.acorn;!acorn&&isCommonJS&&(acorn=require("acorn"),acorn.walk=require("acorn/dist/walk"),acorn.parse_dammit=require("acorn/dist/acorn_loose").parse_dammit,Global.acorn=acorn);var env={isCommonJS:isCommonJS,Global:Global,lively:isCommonJS?Global.lively||{}:Global.lively||(Global.lively={}),"lively.lang":lang,"lively.ast":Global.lively&&Global.lively.ast||{},escodegen:escodegen,acorn:acorn};env.lively.ast=env["lively.ast"],isCommonJS?lang.obj.extend(module.exports,env):env.lively["lively.lang_env"]=env,function(a){var b="undefined"!=typeof module&&module.require?module.require("./env"):lively["lively.lang_env"];a(b.acorn,b.lively,b["lively.lang"],b["lively.ast"]),b.isCommonJS&&(require("./lib/acorn-extension"),require("./lib/mozilla-ast-visitors"),require("./lib/mozilla-ast-visitor-interface"),require("./lib/query"),require("./lib/transform"),require("./lib/comments"),require("./lib/code-categorizer"),module.exports=b["lively.ast"])}(function(a,b,c,d){d.acorn?d.acorn=c.obj.extend(d.acorn,a):d.acorn=a,d.parse=function(b,e){function f(a){a=h(g(a)),j.allComments=a.comments}function g(a){return i.forEach(function(b){var e=c.arr.detect(d.nodesAt(b.start,j).reverse(),function(a){return"BlockStatement"===a.type||"Program"===a.type});e||(e=j),e.comments||(e.comments=[]),e.comments.push(b),a.nodesWithComments.push(e)}),a}function h(a){return a.nodesWithComments.forEach(function(d){c.arr.clone(d.comments).reduce(function(e,f){if(f.isBlock)return e.lastComment=null,e;if(!e.lastComment)return e.lastComment=f,e;var g=e.lastComment,h=c.arr.detect(d.body,function(a){return a.start>=g.end&&a.end<=f.start});if(h)return e.lastComment=f,e;var i=b.slice(g.end,f.start);return/[\n\r][\n\r]+/.test(i)?(e.lastComment=f,e):(g.text+="\n"+f.text,g.end=f.end,c.arr.remove(d.comments,f),c.arr.remove(a.comments,f),e)},{lastComment:null})}),a}if(e=e||{},e.ecmaVersion=e.ecmaVersion||6,e.sourceType=e.sourceType||"module",e.plugins=e.plugins||{},e.plugins.hasOwnProperty("jsx")&&(e.plugins.jsx=e.plugins.jsx),e.withComments){delete e.withComments;var i=[];e.onComment=function(a,b,c,d,e,f){i.push({isBlock:a,text:b,node:null,start:c,end:d,line:e,column:f})}}var j=e.addSource?a.walk.addSource(b,e):a.parse(b,e);return e.addAstIndex&&!j.hasOwnProperty("astIndex")&&a.walk.addAstIndex(j),j&&i&&f({ast:j,comments:i,nodesWithComments:[]}),j},d.parseFunction=function(b,c){c=c||{},c.ecmaVersion=6,c.sourceType=c.sourceType||"module",c.plugins=c.plugins||{},c.plugins.hasOwnProperty("jsx")&&(c.plugins.jsx=c.plugins.jsx);var d="("+b+")",e=a.parse(d);return a.walk.addSource(e,d),e.body[0].expression},d.parseLikeOMeta=function(b,c){function d(b){return a.walk.toLKObjects(f.parse(b))}var e,f=this;switch(c){case"expr":case"stmt":case"functionDef":e=d(b),e.isSequence&&1==e.children.length&&(e=e.children[0],e.setParent(void 0));break;case"memberFragment":b="({"+b+"})",e=d(b),e=e.children[0].properties[0],e.setParent(void 0);break;case"categoryFragment":case"traitFragment":b="["+b+"]",e=d(b),e=e.children[0],e.setParent(void 0);break;default:e=d(b)}return e.source=b,e},d.fuzzyParse=function(b,c){c=c||{},c.ecmaVersion=c.ecmaVersion||6,c.sourceType=c.sourceType||"module",c.plugins=c.plugins||{},c.plugins.hasOwnProperty("jsx")&&(c.plugins.jsx=c.plugins.jsx);var e,f,g;"LabeledStatement"===c.type&&(f="$={"+b+"}");try{e=d.parse(f||b,c),f?e=null:c.addSource&&a.walk.addSource(e,b)}catch(h){g=h}if(g&&void 0!==g.raisedAt){f&&(g.pos-=3,g.raisedAt-=3,g.loc.column-=3);var i="";i+=b.slice(g.raisedAt-20,g.raisedAt),i+="<-error->",i+=b.slice(g.raisedAt,g.raisedAt+20),c.verbose&&show("parse error: "+i),g.parseErrorSource=i}else g&&c.verbose&&show(""+g+g.stack);return e||(e=a.parse_dammit(b,c),c.addSource&&a.walk.addSource(e,b),e.isFuzzy=!0,e.parseError=g),e},d.nodesAt=function(b,c){return c="string"==typeof c?this.parse(c):c,a.walk.findNodesIncluding(c,b)}}),function(a){var b="undefined"!=typeof module&&module.require?module.require("../env"):lively["lively.lang_env"];a(b.acorn,b.escodegen,b.lively,b["lively.lang"],b["lively.ast"])}(function(a,b,c,d,e){e.acorn?e.acorn=d.obj.extend(e.acorn,a):e.acorn=a,a.walk.forEachNode=function(b,c,e,f){f=f||{};var g=f.traversal||"preorder",h=d.obj.clone(f.visitors?f.visitors:a.walk.visitors.withMemberExpression),i="preorder"===g?function(a,b,d,f,g){return c(d,e,f,b),a(d,f+1,g)}:function(a,b,d,f,g){var h=a(d,f+1,g);return c(d,e,f,b),h};return Object.keys(h).forEach(function(a){var b=h[a];h[a]=function(c,d,e){return i(b,a,c,d,e)}}),a.walk.recursive(b,0,null,h),b},a.walk.matchNodes=function(b,c,d,e){function f(a,b,d,e){c[a.type]&&c[a.type](a,b,d,e)}return a.walk.forEachNode(b,f,d,e)},a.walk.findNodesIncluding=function(b,c,e,f){var g=[];return f=f||d.obj.clone(a.walk.visitors.withMemberExpression),Object.keys(f).forEach(function(a){var b=f[a];f[a]=function(a,c,e){return d.arr.pushIfNotIncluded(g,a),b(a,c,e)}}),f.Property=function(a,b,c){d.arr.pushIfNotIncluded(g,a),c(a.key,b,"Expression"),c(a.value,b,"Expression")},f.LabeledStatement=function(a,b,c){a.label&&c(a.label,b,"Expression"),c(a.body,b,"Statement")},a.walk.findNodeAround(b,c,e,f),g},a.walk.addSource=function(b,c,d,e){var f=f||{};return f.ecmaVersion=f.ecmaVersion||6,f.sourceType=f.sourceType||"module",f.plugins=f.plugins||{},f.plugins.hasOwnProperty("jsx")&&(f.plugins.jsx=f.plugins.jsx),c="string"==typeof b?b:c,b="string"==typeof b?a.parse(b,f):b,d=!!d,a.walk.forEachNode(b,function(a){(!a.source||e)&&(a.source=d?c:c.slice(a.start,a.end))})},a.walk.inspect=function(b,c){var e=e||{};return e.ecmaVersion=e.ecmaVersion||6,e.sourceType=e.sourceType||"module",e.plugins=e.plugins||{},e.plugins.hasOwnProperty("jsx")&&(e.plugins.jsx=e.plugins.jsx),c="string"==typeof b?b:null,b="string"==typeof b?a.parse(b):b,c&&a.walk.addSource(b,c),d.obj.inspect(b)},a.walk.withParentInfo=function(b,c,e){function f(a){var b={id:d.string.newUUID(),parentScope:a,containingScopes:[]};return a&&a.containingScopes.push(b),b}e=e||{};var g,h=a.walk.make({Function:function(a,b,c){b&&b.scope&&(b.scope=f(b.scope)),c(a.body,b,"ScopeBody")},VariableDeclarator:function(a,b,c){a.init&&c(a.init,b,"Expression")},VariableDeclaration:function(a,b,c){for(var d=0;d<a.declarations.length;++d){var e=a.declarations[d];e&&c(e,b,"VariableDeclarator")}},ObjectExpression:function(a,b,c){for(var d=0;d<a.properties.length;++d){var e=a.properties[d];c(e.key,b,"Expression"),c(e.value,b,"Expression")}},MemberExpression:function(a,b,c){c(a.object,b,"Expression"),c(a.property,b,"Expression")}}),i=[];a.walk.forEachNode(b,function(a){d.arr.withoutAll(Object.keys(a),["end","start","type","source","raw"]).forEach(function(b){if(!a.__lookupGetter__(b)){var c=a[b];a.__defineGetter__(b,function(){return g=b,c}),i.push([a,b,a[b]])}})},null,{visitors:h});var j=[];return Object.keys(h).forEach(function(a){var b=h[a];h[a]=function(d,f,h){return a===d.type||e.visitAllNodes?(j.push(c.call(null,d,{scope:f.scope,depth:f.depth,parent:f.parent,type:a,propertyInParent:g})),b(d,{scope:f.scope,parent:d,depth:f.depth+1},h)):b(d,f,h)}}),a.walk.recursive(b,{scope:f(),parent:null,propertyInParent:"",depth:0},null,h),i.forEach(function(a){delete a[0][a[1]],a[0][a[1]]=a[2]}),j},a.walk.toLKObjects=function(a){function b(a,b){return a=a||-1,b=b||-1,new c.ast.Variable([a,b],"undefined")}function d(a){return e[a.type](a,d)}if(!a.type)throw new Error("Given AST is not an Acorn AST.");var e={Program:function(a,b){return new c.ast.Sequence([a.start,a.end],a.body.map(b))},FunctionDeclaration:function(a,b){var d=a.params.map(function(a){return new c.ast.Variable([a.start,a.end],a.name)}),e=new c.ast.Function([a.id.end,a.end],b(a.body),d);return new c.ast.VarDeclaration([a.start,a.end],a.id.name,e)},BlockStatement:function(a,b){var d=a.body.map(b);return new c.ast.Sequence([a.start+1,a.end],d)},ExpressionStatement:function(a,b){return b(a.expression)},CallExpression:function(a,b){if("MemberExpression"==a.callee.type&&"NewExpression"!=a.type){var d,e=a.callee.object;return d=a.callee.computed?b(a.callee.property):new c.ast.String([a.callee.property.start,a.callee.property.end],a.callee.property.name),new c.ast.Send([a.start,a.end],d,b(e),a.arguments.map(b))}return new c.ast.Call([a.start,a.end],b(a.callee),a.arguments.map(b))},MemberExpression:function(a,b){var d;return d=a.computed?b(a.property):new c.ast.String([a.property.start,a.property.end],a.property.name),new c.ast.GetSlot([a.start,a.end],d,b(a.object))},NewExpression:function(a,b){return new c.ast.New([a.start,a.end],this.CallExpression(a,b))},VariableDeclaration:function(a,b){var d=a.declarations[0]?a.declarations[0].start-1:a.start;return new c.ast.Sequence([d,a.end],a.declarations.map(b))},VariableDeclarator:function(a,d){var e=a.init?d(a.init):b(a.start-1,a.start-1);return new c.ast.VarDeclaration([a.start-1,a.end],a.id.name,e)},FunctionExpression:function(a,b){var d=a.params.map(function(a){return new c.ast.Variable([a.start,a.end],a.name)});return new c.ast.Function([a.start,a.end],b(a.body),d)},IfStatement:function(a,d){return new c.ast.If([a.start,a.end],d(a.test),d(a.consequent),a.alternate?d(a.alternate):b(a.consequent.end,a.consequent.end))},ConditionalExpression:function(a,b){return new c.ast.Cond([a.start,a.end],b(a.test),b(a.consequent),b(a.alternate))},SwitchStatement:function(a,b){return new c.ast.Switch([a.start,a.end],b(a.discriminant),a.cases.map(b))},SwitchCase:function(a,b){var d=a.consequent.length>0?a.consequent[0].start:a.end,e=a.consequent.length>0?a.consequent[a.consequent.length-1].end:a.end,f=new c.ast.Sequence([d,e],a.consequent.map(b));return null!=a.test?new c.ast.Case([a.start,a.end],b(a.test),f):new c.ast.Default([a.start,a.end],f)},BreakStatement:function(a,b){var d;return d=null==a.label?new c.ast.Label([a.end,a.end],""):new c.ast.Label([a.label.start,a.label.end],a.label.name),new c.ast.Break([a.start,a.end],d)},ContinueStatement:function(a,b){var d;return d=null==a.label?new c.ast.Label([a.end,a.end],""):new c.ast.Label([a.label.start,a.label.end],a.label.name),new c.ast.Continue([a.start,a.end],d)},TryStatement:function(a,d){var e,f;a.handler?(f=d(a.handler.body),e=d(a.handler.param)):(f=b(a.block.end+1,a.block.end+1),e=b(a.block.end+1,a.block.end+1));var g=a.finalizer?d(a.finalizer):b(a.end,a.end);return new c.ast.TryCatchFinally([a.start,a.end],d(a.block),e,f,g)},ThrowStatement:function(a,b){return new c.ast.Throw([a.start,a.end],b(a.argument))},ForStatement:function(a,d){var e=a.init?d(a.init):b(4,4),f=a.test?d(a.test):b(e.pos[1]+1,e.pos[1]+1),g=a.update?d(a.update):b(f.pos[1]+1,f.pos[1]+1);return new c.ast.For([a.start,a.end],e,f,d(a.body),g)},ForInStatement:function(a,b){var d=b("VariableDeclaration"==a.left.type?a.left.declarations[0]:a.left);return new c.ast.ForIn([a.start,a.end],d,b(a.right),b(a.body))},WhileStatement:function(a,b){return new c.ast.While([a.start,a.end],b(a.test),b(a.body))},DoWhileStatement:function(a,b){return new c.ast.DoWhile([a.start,a.end],b(a.body),b(a.test))},WithStatement:function(a,b){return new c.ast.With([a.start,a.end],b(a.object),b(a.body))},UnaryExpression:function(a,b){return new c.ast.UnaryOp([a.start,a.end],a.operator,b(a.argument))},BinaryExpression:function(a,b){return new c.ast.BinaryOp([a.start,a.end],a.operator,b(a.left),b(a.right))},AssignmentExpression:function(a,b){return"="==a.operator?new c.ast.Set([a.start,a.end],b(a.left),b(a.right)):new c.ast.ModifyingSet([a.start,a.end],b(a.left),a.operator.substr(0,a.operator.length-1),b(a.right))},UpdateExpression:function(a,b){return a.prefix?new c.ast.PreOp([a.start,a.end],a.operator,b(a.argument)):new c.ast.PostOp([a.start,a.end],a.operator,b(a.argument))},ReturnStatement:function(a,d){return new c.ast.Return([a.start,a.end],a.argument?d(a.argument):b(a.end,a.end))},Identifier:function(a,b){return new c.ast.Variable([a.start,a.end],a.name)},Literal:function(a,b){if(Object.isNumber(a.value))return new c.ast.Number([a.start,a.end],a.value);if(Object.isBoolean(a.value))return new c.ast.Variable([a.start,a.end],a.value.toString());if("string"==typeof a.value)return new c.ast.String([a.start,a.end],a.value);if(Object.isRegExp(a.value)){var d=a.raw.substr(a.raw.lastIndexOf("/")+1);return new c.ast.Regex([a.start,a.end],a.value.source,d)}if(null===a.value)return new c.ast.Variable([a.start,a.end],"null");throw new Error("Case of Literal not handled!")},ObjectExpression:function(a,b){var d=a.properties.map(function(a){var d="Identifier"==a.key.type?a.key.name:a.key.value;if("init"==a.kind)return new c.ast.ObjProperty([a.key.start,a.value.end],d,b(a.value));if("get"==a.kind)return new c.ast.ObjPropertyGet([a.key.start,a.value.end],d,b(a.value.body));if("set"==a.kind)return new c.ast.ObjPropertySet([a.key.start,a.value.end],d,b(a.value.body),b(a.value.params[0]));throw new Error("Case of ObjectExpression not handled!")});return new c.ast.ObjectLiteral([a.start,a.end],d)},ArrayExpression:function(a,b){return new c.ast.ArrayLiteral([a.start,a.end],a.elements.map(b))},SequenceExpression:function(a,b){return new c.ast.Sequence([a.start,a.end],a.expressions.map(b))},EmptyStatement:function(a,c){return b(a.start,a.end)},ThisExpression:function(a,b){return new c.ast.This([a.start,a.end])},DebuggerStatement:function(a,b){return new c.ast.Debugger([a.start,a.end])},LabeledStatement:function(a,b){return new c.ast.LabelDeclaration([a.start,a.end],a.label.name,b(a.body))}};return e.LogicalExpression=e.BinaryExpression,d(a)},a.walk.copy=function(a,b){function c(a){return null===a?null:e[a.type](a,c)}var e=d.obj.extend({Program:function(a,b){return{start:a.start,end:a.end,type:"Program",body:a.body.map(b),source:a.source,astIndex:a.astIndex}},FunctionDeclaration:function(a,b){return{start:a.start,end:a.end,type:"FunctionDeclaration",id:b(a.id),params:a.params.map(b),body:b(a.body),source:a.source,astIndex:a.astIndex}},BlockStatement:function(a,b){return{start:a.start,end:a.end,type:"BlockStatement",body:a.body.map(b),source:a.source,astIndex:a.astIndex}},ExpressionStatement:function(a,b){return{start:a.start,end:a.end,type:"ExpressionStatement",expression:b(a.expression),source:a.source,astIndex:a.astIndex}},CallExpression:function(a,b){return{start:a.start,end:a.end,type:"CallExpression",callee:b(a.callee),arguments:a.arguments.map(b),source:a.source,astIndex:a.astIndex}},MemberExpression:function(a,b){return{start:a.start,end:a.end,type:"MemberExpression",object:b(a.object),property:b(a.property),computed:a.computed,source:a.source,astIndex:a.astIndex}},NewExpression:function(a,b){return{start:a.start,end:a.end,type:"NewExpression",callee:b(a.callee),arguments:a.arguments.map(b),source:a.source,astIndex:a.astIndex}},VariableDeclaration:function(a,b){return{start:a.start,end:a.end,type:"VariableDeclaration",declarations:a.declarations.map(b),kind:a.kind,source:a.source,astIndex:a.astIndex}},VariableDeclarator:function(a,b){return{start:a.start,end:a.end,type:"VariableDeclarator",id:b(a.id),init:b(a.init),source:a.source,astIndex:a.astIndex}},FunctionExpression:function(a,b){return{start:a.start,end:a.end,type:"FunctionExpression",id:b(a.id),params:a.params.map(b),body:b(a.body),source:a.source,astIndex:a.astIndex}},IfStatement:function(a,b){return{start:a.start,end:a.end,type:"IfStatement",test:b(a.test),consequent:b(a.consequent),alternate:b(a.alternate),source:a.source,astIndex:a.astIndex}},ConditionalExpression:function(a,b){return{start:a.start,end:a.end,type:"ConditionalExpression",test:b(a.test),consequent:b(a.consequent),alternate:b(a.alternate),source:a.source,astIndex:a.astIndex}},SwitchStatement:function(a,b){return{start:a.start,end:a.end,type:"SwitchStatement",discriminant:b(a.discriminant),cases:a.cases.map(b),source:a.source,astIndex:a.astIndex}},SwitchCase:function(a,b){return{start:a.start,end:a.end,type:"SwitchCase",test:b(a.test),consequent:a.consequent.map(b),source:a.source,astIndex:a.astIndex}},BreakStatement:function(a,b){return{start:a.start,end:a.end,type:"BreakStatement",label:a.label,source:a.source,astIndex:a.astIndex}},ContinueStatement:function(a,b){return{start:a.start,end:a.end,type:"ContinueStatement",label:a.label,source:a.source,astIndex:a.astIndex}},TryStatement:function(a,b){return{start:a.start,end:a.end,type:"TryStatement",block:b(a.block),handler:b(a.handler),finalizer:b(a.finalizer),guardedHandlers:a.guardedHandlers.map(b),source:a.source,astIndex:a.astIndex}},CatchClause:function(a,b){return{start:a.start,end:a.end,type:"CatchClause",param:b(a.param),guard:b(a.guard),body:b(a.body),source:a.source,astIndex:a.astIndex}},ThrowStatement:function(a,b){return{start:a.start,end:a.end,type:"ThrowStatement",argument:b(a.argument),source:a.source,astIndex:a.astIndex}},ForStatement:function(a,b){return{start:a.start,end:a.end,type:"ForStatement",init:b(a.init),test:b(a.test),update:b(a.update),body:b(a.body),source:a.source,astIndex:a.astIndex}},ForInStatement:function(a,b){return{start:a.start,end:a.end,type:"ForInStatement",left:b(a.left),right:b(a.right),body:b(a.body),source:a.source,astIndex:a.astIndex}},WhileStatement:function(a,b){return{start:a.start,end:a.end,type:"WhileStatement",test:b(a.test),body:b(a.body),source:a.source,astIndex:a.astIndex}},DoWhileStatement:function(a,b){return{start:a.start,end:a.end,type:"DoWhileStatement",test:b(a.test),body:b(a.body),source:a.source,astIndex:a.astIndex}},WithStatement:function(a,b){return{start:a.start,end:a.end,type:"WithStatement",object:b(a.object),body:b(a.body),source:a.source,astIndex:a.astIndex}},UnaryExpression:function(a,b){return{start:a.start,end:a.end,type:"UnaryExpression",argument:b(a.argument),operator:a.operator,prefix:a.prefix,source:a.source,astIndex:a.astIndex}},BinaryExpression:function(a,b){return{start:a.start,end:a.end,type:"BinaryExpression",left:b(a.left),operator:a.operator,right:b(a.right),source:a.source,astIndex:a.astIndex}},LogicalExpression:function(a,b){return{start:a.start,end:a.end,type:"LogicalExpression",left:b(a.left),operator:a.operator,right:b(a.right),source:a.source,astIndex:a.astIndex}},AssignmentExpression:function(a,b){return{start:a.start,end:a.end,type:"AssignmentExpression",left:b(a.left),operator:a.operator,right:b(a.right),source:a.source,astIndex:a.astIndex}},UpdateExpression:function(a,b){return{start:a.start,end:a.end,type:"UpdateExpression",argument:b(a.argument),operator:a.operator,prefix:a.prefix,source:a.source,astIndex:a.astIndex}},ReturnStatement:function(a,b){return{start:a.start,end:a.end,type:"ReturnStatement",argument:b(a.argument),source:a.source,astIndex:a.astIndex}},Identifier:function(a,b){return{start:a.start,end:a.end,type:"Identifier",name:a.name,source:a.source,astIndex:a.astIndex}},Literal:function(a,b){return{start:a.start,end:a.end,type:"Literal",value:a.value,raw:a.raw,source:a.source,astIndex:a.astIndex}},ObjectExpression:function(a,b){return{start:a.start,end:a.end,type:"ObjectExpression",properties:a.properties.map(function(a){return{key:b(a.key),value:b(a.value),kind:a.kind}}),source:a.source,astIndex:a.astIndex}},ArrayExpression:function(a,b){return{start:a.start,end:a.end,type:"ArrayExpression",elements:a.elements.map(b),source:a.source,astIndex:a.astIndex}},SequenceExpression:function(a,b){return{start:a.start,end:a.end,type:"SequenceExpression",expressions:a.expressions.map(b),source:a.source,astIndex:a.astIndex}},EmptyStatement:function(a,b){return{start:a.start,end:a.end,type:"EmptyStatement",source:a.source,astIndex:a.astIndex}},ThisExpression:function(a,b){return{start:a.start,end:a.end,type:"ThisExpression",source:a.source,astIndex:a.astIndex}},DebuggerStatement:function(a,b){return{start:a.start,end:a.end,type:"DebuggerStatement",source:a.source,astIndex:a.astIndex}},LabeledStatement:function(a,b){return{start:a.start,end:a.end,type:"LabeledStatement",label:a.label,body:b(a.body),source:a.source,astIndex:a.astIndex}}},b||{});return c(a)},a.walk.findSiblings=function(b,c,e){if(!c)return[];var f=a.walk.findNodesIncluding(b,c.start),g=f.indexOf(c),h=f.slice(0,g),i=d.arr.detect(h.reverse(),function(a){return Array.isArray(a.body)}),j=i.body;if(!e)return d.arr.without(j,c);var k=j.indexOf(c);return"before"===e?j.slice(0,k):j.slice(k+1)},a.walk.visitors={stopAtFunctions:a.walk.make({Function:function(){}}),withMemberExpression:a.walk.make({MemberExpression:function(a,b,c){c(a.object,b,"Expression"),c(a.property,b,"Expression")}})},function(){a.walk.findNodeByAstIndex=function(b,c,d){d=null==d?!0:!!d,!b.astIndex&&d&&a.walk.addAstIndex(b);var e=null;return a.withMozillaAstDo(b,null,function(a,b,d){if(!e){var f=b.astIndex;if(!(c>f))return b.astIndex===c?void(e=b):void a()}}),e},a.walk.findStatementOfNode=function(b,c,e){e||(e=c,c=b,b=null),b||(b={}),c.astIndex||a.walk.addAstIndex(c);var f,g=!1,h=["EmptyStatement","BlockStatement","ExpressionStatement","IfStatement","LabeledStatement","BreakStatement","ContinueStatement","WithStatement","SwitchStatement","ReturnStatement","ThrowStatement","TryStatement","WhileStatement","DoWhileStatement","ForStatement","ForInStatement","DebuggerStatement","FunctionDeclaration","VariableDeclaration","ClassDeclaration"];return a.withMozillaAstDo(c,{},function(a,i,j,k,l){if(!(g||i.astIndex<e.astIndex)){if(i===e||i.astIndex===e.astIndex)if(g=!0,b.asPath)f=l;else{var m=d.Path(l);do f=m.get(c),m=m.slice(0,m.size()-1);while(-1==h.indexOf(f.type)&&m.size()>0)}!g&&a()}}),f},a.walk.addAstIndex=function(b){return a.withMozillaAstDo(b,{index:0},function(a,b,c){a(),b.astIndex=c.index++}),b}}()}),function(a){var b="undefined"!=typeof module&&module.require?module.require("../env"):lively["lively.lang_env"];a(b.acorn,b.lively,b["lively.lang"],b["lively.ast"])}(function(a,b,c,d){d.MozillaAST={},d.MozillaAST.BaseVisitor=c["class"].create(Object,"lively.ast.MozillaAST.BaseVisitor","visiting",{accept:function(a,b,c,d){return d=d||[],this["visit"+a.type](a,b,c,d)},visitProgram:function(a,b,c,d){var e;return a.body.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["body",f]))},this),e},visitFunction:function(a,b,c,d){var e;return a.id&&(e=this.accept(a.id,b,c,d.concat(["id"]))),a.params.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["params",f]))},this),a.defaults&&a.defaults.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["defaults",f]))},this),a.rest&&(e=this.accept(a.rest,b,c,d.concat(["rest"]))),e=this.accept(a.body,b,c,d.concat(["body"])),a.generator,a.expression,e},visitStatement:function(a,b,c,d){var e;return e},visitEmptyStatement:function(a,b,c,d){var e;return e},visitBlockStatement:function(a,b,c,d){var e;return a.body.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["body",f]))},this),e},visitExpressionStatement:function(a,b,c,d){var e;return e=this.accept(a.expression,b,c,d.concat(["expression"]))},visitIfStatement:function(a,b,c,d){var e;return e=this.accept(a.test,b,c,d.concat(["test"])),e=this.accept(a.consequent,b,c,d.concat(["consequent"])),a.alternate&&(e=this.accept(a.alternate,b,c,d.concat(["alternate"]))),e},visitLabeledStatement:function(a,b,c,d){var e;return e=this.accept(a.label,b,c,d.concat(["label"])),e=this.accept(a.body,b,c,d.concat(["body"]))},visitBreakStatement:function(a,b,c,d){var e;return a.label&&(e=this.accept(a.label,b,c,d.concat(["label"]))),e},visitContinueStatement:function(a,b,c,d){var e;return a.label&&(e=this.accept(a.label,b,c,d.concat(["label"]))),e},visitWithStatement:function(a,b,c,d){var e;return e=this.accept(a.object,b,c,d.concat(["object"])),e=this.accept(a.body,b,c,d.concat(["body"]))},visitSwitchStatement:function(a,b,c,d){var e;return e=this.accept(a.discriminant,b,c,d.concat(["discriminant"])),a.cases.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["cases",f]))},this),a.lexical,e},visitReturnStatement:function(a,b,c,d){var e;return a.argument&&(e=this.accept(a.argument,b,c,d.concat(["argument"]))),e},visitThrowStatement:function(a,b,c,d){var e;return e=this.accept(a.argument,b,c,d.concat(["argument"]))},visitTryStatement:function(a,b,c,d){var e;return e=this.accept(a.block,b,c,d.concat(["block"])),a.handler&&(e=this.accept(a.handler,b,c,d.concat(["handler"]))),a.guardedHandlers&&a.guardedHandlers.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["guardedHandlers",f]))},this),a.finalizer&&(e=this.accept(a.finalizer,b,c,d.concat(["finalizer"]))),e},visitWhileStatement:function(a,b,c,d){var e;return e=this.accept(a.test,b,c,d.concat(["test"])),e=this.accept(a.body,b,c,d.concat(["body"]))},visitDoWhileStatement:function(a,b,c,d){var e;return e=this.accept(a.body,b,c,d.concat(["body"])),e=this.accept(a.test,b,c,d.concat(["test"]))},visitForStatement:function(a,b,c,d){var e;return a.init&&(e=this.accept(a.init,b,c,d.concat(["init"]))),a.test&&(e=this.accept(a.test,b,c,d.concat(["test"]))),a.update&&(e=this.accept(a.update,b,c,d.concat(["update"]))),e=this.accept(a.body,b,c,d.concat(["body"]))},visitForInStatement:function(a,b,c,d){var e;return e=this.accept(a.left,b,c,d.concat(["left"])),e=this.accept(a.right,b,c,d.concat(["right"])),e=this.accept(a.body,b,c,d.concat(["body"])),a.each,e},visitForOfStatement:function(a,b,c,d){var e;return e=this.accept(a.left,b,c,d.concat(["left"])),e=this.accept(a.right,b,c,d.concat(["right"])),e=this.accept(a.body,b,c,d.concat(["body"]))},visitLetStatement:function(a,b,c,d){var e;return a.head.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["head",f]))},this),e=this.accept(a.body,b,c,d.concat(["body"]))},visitDebuggerStatement:function(a,b,c,d){var e;return e},visitDeclaration:function(a,b,c,d){var e;return e},visitFunctionDeclaration:function(a,b,c,d){var e;return e=this.accept(a.id,b,c,d.concat(["id"])),a.params.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["params",f]))},this),a.defaults&&a.defaults.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["defaults",f]))},this),a.rest&&(e=this.accept(a.rest,b,c,d.concat(["rest"]))),e=this.accept(a.body,b,c,d.concat(["body"])),a.generator,a.expression,e},visitVariableDeclaration:function(a,b,c,d){var e;return a.declarations.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["declarations",f]))},this),e},visitVariableDeclarator:function(a,b,c,d){var e;return e=this.accept(a.id,b,c,d.concat(["id"])),a.init&&(e=this.accept(a.init,b,c,d.concat(["init"]))),e},visitExpression:function(a,b,c,d){var e;return e},visitThisExpression:function(a,b,c,d){var e;return e},visitArrayExpression:function(a,b,c,d){var e;return a.elements.forEach(function(a,f){a&&(e=this.accept(a,b,c,d.concat(["elements",f])))},this),e},visitObjectExpression:function(a,b,c,d){var e;return a.properties.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["properties",f]))},this),e},visitProperty:function(a,b,c,d){var e;return e=this.accept(a.key,b,c,d.concat(["key"])),e=this.accept(a.value,b,c,d.concat(["value"]))},visitFunctionExpression:function(a,b,c,d){var e;return a.id&&(e=this.accept(a.id,b,c,d.concat(["id"]))),a.params.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["params",f]))},this),a.defaults&&a.defaults.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["defaults",f]))},this),a.rest&&(e=this.accept(a.rest,b,c,d.concat(["rest"]))),e=this.accept(a.body,b,c,d.concat(["body"])),a.generator,a.expression,e},visitArrowExpression:function(a,b,c,d){var e;return a.params.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["params",f]))},this),a.defaults&&a.defaults.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["defaults",f]))},this),a.rest&&(e=this.accept(a.rest,b,c,d.concat(["rest"]))),e=this.accept(a.body,b,c,d.concat(["body"])),a.generator,a.expression,e},visitArrowFunctionExpression:function(a,b,c,d){var e;return a.params.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["params",f]))},this),a.defaults&&a.defaults.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["defaults",f]))},this),a.rest&&(e=this.accept(a.rest,b,c,d.concat(["rest"]))),e=this.accept(a.body,b,c,d.concat(["body"])),a.generator,a.expression,e},visitSequenceExpression:function(a,b,c,d){var e;return a.expressions.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["expressions",f]))},this),e},visitUnaryExpression:function(a,b,c,d){var e;return a.prefix,
e=this.accept(a.argument,b,c,d.concat(["argument"]))},visitBinaryExpression:function(a,b,c,d){var e;return e=this.accept(a.left,b,c,d.concat(["left"])),e=this.accept(a.right,b,c,d.concat(["right"]))},visitAssignmentExpression:function(a,b,c,d){var e;return e=this.accept(a.left,b,c,d.concat(["left"])),e=this.accept(a.right,b,c,d.concat(["right"]))},visitUpdateExpression:function(a,b,c,d){var e;return e=this.accept(a.argument,b,c,d.concat(["argument"])),a.prefix,e},visitLogicalExpression:function(a,b,c,d){var e;return e=this.accept(a.left,b,c,d.concat(["left"])),e=this.accept(a.right,b,c,d.concat(["right"]))},visitConditionalExpression:function(a,b,c,d){var e;return e=this.accept(a.test,b,c,d.concat(["test"])),e=this.accept(a.alternate,b,c,d.concat(["alternate"])),e=this.accept(a.consequent,b,c,d.concat(["consequent"]))},visitNewExpression:function(a,b,c,d){var e;return e=this.accept(a.callee,b,c,d.concat(["callee"])),a.arguments.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["arguments",f]))},this),e},visitCallExpression:function(a,b,c,d){var e;return e=this.accept(a.callee,b,c,d.concat(["callee"])),a.arguments.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["arguments",f]))},this),e},visitMemberExpression:function(a,b,c,d){var e;return e=this.accept(a.object,b,c,d.concat(["object"])),e=this.accept(a.property,b,c,d.concat(["property"])),a.computed,e},visitYieldExpression:function(a,b,c,d){var e;return a.argument&&(e=this.accept(a.argument,b,c,d.concat(["argument"]))),e},visitComprehensionExpression:function(a,b,c,d){var e;return e=this.accept(a.body,b,c,d.concat(["body"])),a.blocks.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["blocks",f]))},this),a.filter&&(e=this.accept(a.filter,b,c,d.concat(["filter"]))),e},visitGeneratorExpression:function(a,b,c,d){var e;return e=this.accept(a.body,b,c,d.concat(["body"])),a.blocks.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["blocks",f]))},this),a.filter&&(e=this.accept(a.filter,b,c,d.concat(["filter"]))),e},visitLetExpression:function(a,b,c,d){var e;return a.head.forEach(function(a,f){a&&(e=this.accept(a,b,c,d.concat(["head",f])))},this),e=this.accept(a.body,b,c,d.concat(["body"]))},visitPattern:function(a,b,c,d){var e;return e},visitObjectPattern:function(a,b,c,d){var e;return a.properties.forEach(function(a,f){e=this.accept(a.key,b,c,d.concat(["properties",f,"key"])),e=this.accept(a.value,b,c,d.concat(["properties",f,"value"]))},this),e},visitArrayPattern:function(a,b,c,d){var e;return a.elements.forEach(function(a,f){a&&(e=this.accept(a,b,c,d.concat(["elements",f])))},this),e},visitRestElement:function(a,b,c,d){var e;return e=this.accept(a.argument,b,c,d.concat(["argument"]))},visitSwitchCase:function(a,b,c,d){var e;return a.test&&(e=this.accept(a.test,b,c,d.concat(["test"]))),a.consequent.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["consequent",f]))},this),e},visitCatchClause:function(a,b,c,d){var e;return e=this.accept(a.param,b,c,d.concat(["param"])),a.guard&&(e=this.accept(a.guard,b,c,d.concat(["guard"]))),e=this.accept(a.body,b,c,d.concat(["body"]))},visitComprehensionBlock:function(a,b,c,d){var e;return e=this.accept(a.left,b,c,d.concat(["left"])),e=this.accept(a.right,b,c,d.concat(["right"])),a.each,e},visitComprehensionIf:function(a,b,c,d){var e;return e=this.accept(a.test,b,c,d.concat(["test"]))},visitIdentifier:function(a,b,c,d){var e;return e},visitLiteral:function(a,b,c,d){var e;return a.value,e},visitClassDeclaration:function(a,b,c,d){var e;return e=this.accept(a.id,b,c,d.concat(["id"])),a.superClass&&(e=this.accept(a.superClass,b,c,d.concat(["superClass"]))),e=this.accept(a.body,b,c,d.concat(["body"]))},visitClassExpression:function(a,b,c,d){c.classDecls.push(a);var e;return a.superClass&&this.accept(a.superClass,b,c,d.concat(["superClass"])),e=this.accept(a.body,b,c,d.concat(["body"]))},visitClassBody:function(a,b,c,d){var e;return a.body.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["body",f]))},this),e},visitMethodDefinition:function(a,b,c,d){var e;return a["static"],a.computed,e=this.accept(a.key,b,c,d.concat(["key"])),e=this.accept(a.value,b,c,d.concat(["value"]))},visitImportDeclaration:function(a,b,c,d){var e;return a.specifiers.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["specifiers",f]))},this),a.source&&(e=this.accept(a.source,b,c,d.concat(["source"]))),e},visitImportSpecifier:function(a,b,c,d){var e;e=this.accept(a.local,b,c,d.concat(["local"])),e=this.accept(a.imported,b,c,d.concat(["imported"]));var e},visitImportDefaultSpecifier:function(a,b,c,d){return this.accept(a.local,b,c,d.concat(["local"]))},visitImportNamespaceSpecifier:function(a,b,c,d){return this.accept(a.local,b,c,d.concat(["local"]))},visitExportNamedDeclaration:function(a,b,c,d){var e;return a.declaration&&(e=this.accept(a.declaration,b,c,d.concat(["declaration"]))),a.specifiers.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["specifiers",f]))},this),a.source&&(e=this.accept(a.source,b,c,d.concat(["source"]))),e},visitExportSpecifier:function(a,b,c,d){var e;e=this.accept(a.local,b,c,d.concat(["local"])),e=this.accept(a.exported,b,c,d.concat(["exported"]));var e},visitExportDefaultDeclaration:function(a,b,c,d){return this.accept(a.declaration,b,c,d.concat(["declaration"]))},visitExportAllDeclaration:function(a,b,c,d){return this.accept(a.source,b,c,d.concat(["source"]))},visitJSXIdentifier:function(a,b,c,d){var e;return e},visitJSXMemberExpression:function(a,b,c,d){var e;return e=this.accept(a.object,b,c,d.concat(["object"])),e=this.accept(a.property,b,c,d.concat(["property"]))},visitJSXNamespacedName:function(a,b,c,d){var e;return e=this.accept(a.namespace,b,c,d.concat(["namespace"])),e=this.accept(a.name,b,c,d.concat(["name"]))},visitJSXEmptyExpression:function(a,b,c,d){var e;return e},visitJSXBoundaryElement:function(a,b,c,d){var e;return e=this.accept(a.name,b,c,d.concat(["name"]))},visitJSXOpeningElement:function(a,b,c,d){var e;return a.attributes.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["attributes",f]))},this),a.selfClosing,e},visitJSXClosingElement:function(a,b,c,d){var e;return e},visitJSXAttribute:function(a,b,c,d){var e;return e=this.accept(a.name,b,c,d.concat(["name"])),a.value&&(e=this.accept(a.value,b,c,d.concat(["value"]))),e},visitSpreadElement:function(a,b,c,d){var e;return e=this.accept(a.argument,b,c,d.concat(["argument"]))},visitJSXSpreadAttribute:function(a,b,c,d){var e;return e},visitJSXElement:function(a,b,c,d){var e;return e=this.accept(a.openingElement,b,c,d.concat(["openingElement"])),a.children.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["children",f]))},this),a.closingElement&&(e=this.accept(a.closingElement,b,c,d.concat(["closingElement"]))),e},visitTemplateLiteral:function(a,b,c,d){var e;return a.quasis.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["quasis",f]))},this),a.expressions.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["expressions",f]))},this),e},visitTaggedTemplateExpression:function(a,b,c,d){var e;return e=this.accept(a.tag,b,c,d.concat(["tag"])),e=this.accept(a.quasi,b,c,d.concat(["quasi"]))},visitTemplateElement:function(a,b,c,d){}}),d.MozillaAST.PrinterVisitor=c["class"].create(d.MozillaAST.BaseVisitor,"lively.ast.PrinterVisitor",{accept:function(a,b,c,d,e){var f=e.map(function(a){return"string"==typeof a?"."+a:"["+a+"]"}).join(""),g=[];a(b,c,g,e),d.push({node:b,path:f,index:c.index++,children:g})}}),d.MozillaAST.ComparisonVisitor=c["class"].create(d.MozillaAST.BaseVisitor,"lively.ast.ComparisonVisitor","comparison",{recordNotEqual:function(a,b,c,d){c.comparisons.errors.push({node1:a,node2:b,path:c.completePath,msg:d})},compareType:function(a,b,c){return this.compareField("type",a,b,c)},compareField:function(a,c,d,e){if(d=b.PropertyPath(e.completePath.join(".")).get(d),c&&d&&c[a]===d[a])return!0;if(c&&"*"===c[a]||d&&"*"===d[a])return!0;var f,g=e.completePath.join(".")+"."+a;return f=c?d?g+" is not equal: "+c[a]+" vs. "+d[a]:"node2 not defined but node1 ("+g+") is: "+c[a]:"node1 on "+g+" not defined",this.recordNotEqual(c,d,e,f),!1}},"visiting",{accept:function(a,c,d,e){var f=b.PropertyPath(e.join(".")).get(c);if("*"!==a&&"*"!==f){var g={completePath:e,comparisons:d.comparisons};this.compareType(a,c,g)&&this["visit"+a.type](a,c,g,e)}},visitFunction:function(a,b,c,d,e){b.generator&&this.compareField("generator",b,c,d),b.expression&&this.compareField("expression",b,c,d),a(b,c,d,e)},visitSwitchStatement:function(a,b,c,d,e){b.lexical&&this.compareField("lexical",b,c,d),a(b,c,d,e)},visitForInStatement:function(a,b,c,d,e){b.each&&this.compareField("each",b,c,d),a(b,c,d,e)},visitFunctionDeclaration:function(a,b,c,d,e){b.generator&&this.compareField("generator",b,c,d),b.expression&&this.compareField("expression",b,c,d),a(b,c,d,e)},visitVariableDeclaration:function(a,b,c,d,e){this.compareField("kind",b,c,d),a(b,c,d,e)},visitUnaryExpression:function(a,b,c,d,e){this.compareField("operator",b,c,d),b.prefix&&this.compareField("prefix",b,c,d),a(b,c,d,e)},visitBinaryExpression:function(a,b,c,d,e){this.compareField("operator",b,c,d),a(b,c,d,e)},visitAssignmentExpression:function(a,b,c,d,e){this.compareField("operator",b,c,d),a(b,c,d,e)},visitUpdateExpression:function(a,b,c,d,e){this.compareField("operator",b,c,d),b.prefix&&this.compareField("prefix",b,c,d),a(b,c,d,e)},visitLogicalExpression:function(a,b,c,d,e){this.compareField("operator",b,c,d),a(b,c,d,e)},visitMemberExpression:function(a,b,c,d,e){b.computed&&this.compareField("computed",b,c,d),a(b,c,d,e)},visitComprehensionBlock:function(a,b,c,d,e){b.each&&this.compareField("each",b,c,d),a(b,c,d,e)},visitIdentifier:function(a,b,c,d,e){this.compareField("name",b,c,d),a(b,c,d,e)},visitLiteral:function(a,b,c,d,e){this.compareField("value",b,c,d),a(b,c,d,e)},visitClassDeclaration:function(a,b,c,d,e){this.compareField("id",b,c,d),b.superClass&&this.compareField("superClass",b,c,d),this.compareField("body",b,c,d),a(b,c,d,e)},visitClassBody:function(a,b,c,d,e){this.compareField("body",b,c,d),a(b,c,d,e)},visitMethodDefinition:function(a,b,c,d,e){this.compareField("static",b,c,d),this.compareField("computed",b,c,d),this.compareField("kind",b,c,d),this.compareField("key",b,c,d),this.compareField("value",b,c,d),a(b,c,d,e)}}),d.MozillaAST.ScopeVisitor=c["class"].create(d.MozillaAST.BaseVisitor,"lively.ast.ScopeVisitor","scope specific",{newScope:function(a,b){var c={node:a,varDecls:[],varDeclPaths:[],funcDecls:[],classDecls:[],methodDecls:[],importDecls:[],refs:[],params:[],catches:[],subScopes:[]};return b&&b.subScopes.push(c),c}},"visiting",{accept:function(a,b,c,d){if(d=d||[],!this["visit"+a.type])throw new Error("No AST visit handler for type "+a.type);return this["visit"+a.type](a,b,c,d)},visitVariableDeclaration:function(a,b,c,d,e){return d.varDecls.push(b),d.varDeclPaths.push(e),a(b,c,d,e)},visitVariableDeclarator:function(a,b,c,d){var e;return a.init&&(e=this.accept(a.init,b,c,d.concat(["init"]))),e},visitFunction:function(a,b,c,d){var e=this.newScope(a,c);return e.params=Array.prototype.slice.call(a.params),e},visitFunctionDeclaration:function(a,b,c,d,e){d.funcDecls.push(b);var f,g=this.visitFunction(b,c,d,e);return b.defaults&&b.defaults.forEach(function(a,b){f=this.accept(a,c,g,e.concat(["defaults",b]))},this),b.rest&&(f=this.accept(b.rest,c,g,e.concat(["rest"]))),f=this.accept(b.body,c,g,e.concat(["body"]))},visitFunctionExpression:function(a,b,c,d,e){var f,g=this.visitFunction(b,c,d,e);return b.defaults&&b.defaults.forEach(function(a,b){f=this.accept(a,c,g,e.concat(["defaults",b]))},this),b.rest&&(f=this.accept(b.rest,c,g,e.concat(["rest"]))),f=this.accept(b.body,c,g,e.concat(["body"]))},visitArrowFunctionExpression:function(a,b,c,d,e){var f,g=this.visitFunction(b,c,d,e);return b.defaults&&b.defaults.forEach(function(a,b){f=this.accept(a,c,g,e.concat(["defaults",b]))},this),b.rest&&(f=this.accept(b.rest,c,g,e.concat(["rest"]))),f=this.accept(b.body,c,g,e.concat(["body"])),b.generator,b.expression,f},visitIdentifier:function(a,b,c,d,e){return d.refs.push(b),a(b,c,d,e)},visitMemberExpression:function(a,b,c,d){var e;return e=this.accept(a.object,b,c,d.concat(["object"])),a.computed&&(e=this.accept(a.property,b,c,d.concat(["property"]))),e},visitProperty:function(a,b,c,d){var e;return e=this.accept(a.value,b,c,d.concat(["value"]))},visitTryStatement:function(a,b,c,d){var e;return e=this.accept(a.block,b,c,d.concat(["block"])),a.handler&&(e=this.accept(a.handler,b,c,d.concat(["handler"])),c.catches.push(a.handler.param)),a.guardedHandlers&&a.guardedHandlers.forEach(function(a,f){e=this.accept(a,b,c,d.concat(["guardedHandlers",f]))},this),a.finalizer&&(e=this.accept(a.finalizer,b,c,d.concat(["finalizer"]))),e},visitLabeledStatement:function(a,b,c,d){var e;return e=this.accept(a.body,b,c,d.concat(["body"]))},visitClassDeclaration:function(a,b,c,d){c.classDecls.push(a);var e;return a.superClass&&this.accept(a.superClass,b,c,d.concat(["superClass"])),e=this.accept(a.body,b,c,d.concat(["body"]))},visitMethodDefinition:function(a,b,c,d){var e;return e=this.accept(a.value,b,c,d.concat(["value"]))},visitBreakStatement:function(a,b,c,d){return null},visitContinueStatement:function(a,b,c,d){return null},visitImportSpecifier:function(a,b,c,d){c.importDecls.push(a.local);var e;e=this.accept(a.imported,b,c,d.concat(["imported"]));var e},visitImportDefaultSpecifier:function(a,b,c,d){c.importDecls.push(a.local)},visitImportNamespaceSpecifier:function(a,b,c,d){c.importDecls.push(a.local)},visitExportSpecifier:function(a,b,c,d){var e;e=this.accept(a.local,b,c,d.concat(["local"]));var e}})}),function(a){var b="undefined"!=typeof module&&module.require?module.require("../env"):lively["lively.lang_env"];a(b.acorn,b.escodegen,b.lively,b["lively.lang"],b["lively.ast"])}(function(a,b,c,d,e){var f={withMozillaAstDo:function(a,b,c){var d=new e.MozillaAST.BaseVisitor,f=d.accept;return d.accept=function(a,b,e,g){var h=function(){f.call(d,a,b,e,g)};return c(h,a,e,b,g)},d.accept(a,0,b,[])},printAst:function(c,f){function g(a){var b=a.path+":"+a.node.type,c=[];if(l&&c.push(a.index),k&&c.push(a.node.start+"-"+a.node.end),j){var e=a.node.source||h.slice(a.node.start,a.node.end),f=d.string.print.print(e.truncate(60).replace(/\n/g,"").replace(/\s+/g," "));c.push(f)}return c.length&&(b+="("+c.join(",")+")"),b}f=f||{};var h,i,j=f.printSource||!1,k=f.printPositions||!1,l=f.printIndex||!1,m=[];return"string"==typeof c?(h=c,i=a.parse(c)):(i=c,h=f.source||i.source),j&&!i.source&&(h||(h=b.generate(i),i=e.acorn.parse(h)),a.walk.addSource(i,h)),(new e.MozillaAST.PrinterVisitor).accept(i,{index:0},m,[]),d.string.printTree(m[0],g,function(a){return a.children},"  ")},compareAst:function(a,b){if(!a||!b)throw new Error("node"+(a?"1":"2")+" not defined");var c={completePath:[],comparisons:{errors:[]}};return(new e.ComparisonVisitor).accept(a,b,c,[]),c.comparisons.errors.length?c.comparisons.errors.pluck("msg"):null},pathToNode:function(b,c,d){d=d||{},b.astIndex||a.walk.addAstIndex(b);var f=new e.MozillaAST.BaseVisitor,g=null;return(f.accept=function(a,b,d,e){if(!g){var f=b.concat(e);if(a.astIndex===c){var h=f.map(function(a){return"string"==typeof a?"."+a:"["+a+"]"}).join("");g={pathString:h,path:f,node:a}}return this["visit"+a.type](a,f,d,e)}}).call(f,b,[],{},[]),g},rematchAstWithSource:function(a,b,c,f){c=!!c;var g=e.parse(b,c?{locations:!0}:void 0),h=new e.MozillaAST.BaseVisitor;f&&(g=d.Path(f).get(g)),h.accept=function(b,d,e,f){f=f||[];var g=f.reduce(function(a,b){return a[b]},a);return g.start=b.start,g.end=b.end,c&&(g.loc=b.loc),this["visit"+b.type](b,d,e,f)},h.accept(g)},stringify:function(a,c){return b.generate(a,c)}};d.obj.extend(e,f),d.obj.extend(a,f)}),function(a){var b="undefined"!=typeof module&&module.require?module.require("../env"):lively["lively.lang_env"];a(b.acorn,b.lively,b["lively.lang"],b["lively.ast"])}(function(a,b,c,d){var e=c.arr,f=c.chain,g={declIds:function(a){return e.flatmap(a,function(a){return a?"Identifier"===a.type?[a]:"RestElement"===a.type?[a.argument]:"ObjectPattern"===a.type?g.declIds(e.pluck(a.properties,"value")):"ArrayPattern"===a.type?g.declIds(a.elements):[]:[]})},varDeclIds:function(a){return g.declIds(f(a.varDecls).pluck("declarations").flatten().pluck("id").value())},objPropertiesAsList:function h(a,b,c){return e.flatmap(a.properties,function(a){var d=a.key.name,f=[],g={key:b.concat([d]),value:a.value};switch(a.value.type){case"ArrayExpression":case"ArrayPattern":c||f.push(g),f=f.concat(e.flatmap(a.value.elements,function(a,e){return h(a,b.concat([d,e]),c)}));break;case"ObjectExpression":case"ObjectPattern":c||f.push(g),f=f.concat(h(a.value,b.concat([d]),c));break;default:f.push(g)}return f})}};d.query={helpers:g,knownGlobals:["true","false","null","undefined","arguments","Object","Function","String","Array","Date","Boolean","Number","RegExp","Error","EvalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","Math","NaN","Infinity","Intl","JSON","Promise","parseFloat","parseInt","isNaN","isFinite","eval","alert","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","navigator","window","document","console","setTimeout","clearTimeout","setInterval","clearInterval","requestAnimationFrame","cancelAnimationFrame","Node","HTMLCanvasElement","Image","Class","Global","Functions","Objects","Strings","module","lively","pt","rect","rgb","$super","$morph","$world","show"],scopes:function(a){var b=new d.MozillaAST.ScopeVisitor,c=b.newScope(a,null);return b.accept(a,0,c,[]),c},nodesAtIndex:function(b,c){return a.withMozillaAstDo(b,[],function(a,b,d){return b.start<=c&&c<=b.end&&(d.push(b),a()),d})},scopesAtIndex:function(a,b){return c.tree.filter(d.query.scopes(a),function(a){var c=a.node,d=c.start,e=c.end;return"FunctionDeclaration"===c.type&&(d=c.params.length?c.params[0].start:c.body.start,e=c.body.end),b>=d&&e>=b},function(a){return a.subScopes})},scopeAtIndex:function(a,b){return e.last(d.query.scopesAtIndex(a,b))},scopesAtPos:function(b,c){return a.nodesAt(b,c).filter(function(a){return"Program"===a.type||"FunctionDeclaration"===a.type||"FunctionExpression"===a.type})},nodesInScopeOf:function(b){return a.withMozillaAstDo(b,{root:b,result:[]},function(a,b,c){return c.result.push(b),b===c.root||"Program"!==b.type&&"FunctionDeclaration"!==b.type&&"FunctionExpression"!==b.type?(a(),c):c}).result},_declaredVarNames:function(a,b){return(a.node.id&&a.node.id.name?[a.node.id&&a.node.id.name]:[]).concat(f(a.funcDecls).pluck("id").pluck("name").compact().value()).concat(e.pluck(g.declIds(a.params),"name")).concat(e.pluck(a.catches,"name")).concat(e.pluck(g.varDeclIds(a),"name")).concat(f(a.classDecls).pluck("id").pluck("name").value()).concat(e.pluck(a.importDecls,"name")).concat(b?d.query._findJsLintGlobalDeclarations("Program"===a.node.type?a.node:a.node.body):[])},_findJsLintGlobalDeclarations:function(a){return a&&a.comments?e.flatten(a.comments.filter(function(a){return a.text.trim().match(/^global/)}).map(function(a){return e.invoke(a.text.replace(/^\s*global\s*/,"").split(","),"trim")})):[]},topLevelDeclsAndRefs:function(a,b){function c(a){var b=g._declaredVarNames(a,i);return a.subScopes.map(c).reduce(function(a,b){return a.concat(b)},a.refs).filter(function(a){return-1===b.indexOf(a.name)})}b=b||{},b.withComments=!0,"string"==typeof a&&(a=d.parse(a,b));var g=d.query,h=d.query.scopes(a),i=!!b.jslintGlobalComment,j=g._declaredVarNames(h,i),k=h.refs.concat(e.flatten(h.subScopes.map(c))),l=f(k).pluck("name").withoutAll(j).value();return{scope:h,varDecls:h.varDecls,funcDecls:h.funcDecls,declaredNames:j,undeclaredNames:l,refs:k}},findGlobalVarRefs:function(a,b){var c=d.query,e=c.topLevelDeclsAndRefs(a,b),f=e.declaredNames.concat(c.knownGlobals);return e.refs.filter(function(a){return-1===f.indexOf(a.name)})},findNodesIncludingLines:function(b,f,g,h){if(!f&&!b)throw new Error("Need at least ast or code");return f=f?f:a.stringify(b),b=b&&b.loc?b:d.parse(f,{locations:!0}),a.withMozillaAstDo(b,[],function(a,b,d){return g.every(function(a){return c.num.between(a,b.loc.start.line,b.loc.end.line)})&&(e.pushIfNotIncluded(d,b),a()),d})},findReferencesAndDeclsInScope:function(a,b){function d(a){return a.params.concat(e.pluck(a.funcDecls,"id")).concat(g.varDeclIds(a))}return e.flatten(c.tree.map(a,function(a){return a.refs.concat(d(a)).filter(function(a){return a.name===b})},function(a){return a.subScopes.filter(function(a){return d(a).every(function(a){return a.name!==b})})}))},findDeclarationClosestToIndex:function(a,b,c){function f(a){return a.params.concat(e.pluck(a.funcDecls,"id")).concat(g.varDeclIds(a))}var h=null;return e.detect(d.query.scopesAtIndex(a,c).reverse(),function(a){var c=f(a),d=e.pluck(c,"name").indexOf(b);return-1===d?!1:(h=c[d],!0)}),h}}}),function(a){var b="undefined"!=typeof module&&module.require?module.require("../env"):lively["lively.lang_env"];a(b.acorn,b.lively,b["lively.lang"],b["lively.ast"])}(function(a,b,c,d){var e=c.chain,f=c.arr,g=c.string;d.transform={helper:{_node2string:function(a){return a.source||d.stringify(a)},_findIndentAt:function(a,b){var c=g.peekLeft(a,b,/\s+$/),d="number"==typeof c?a.slice(c,b):"";return"\n"===d[0]&&(d=d.slice(1)),d},_applyChanges:function(a,b){return a.reduce(function(a,b){if("del"===b.type)return a.slice(0,b.pos)+a.slice(b.pos+b.length);if("add"===b.type)return a.slice(0,b.pos)+b.string+a.slice(b.pos);throw new Error("Uexpected change "+Objects.inspect(b))},b)},_compareNodesForReplacement:function(a,b){if(a.start===b.start&&a.end===b.end)return 0;if(a.end<=b.start)return-1;if(a.start>=b.end)return 1;if(a.start<=b.start&&a.end>=b.end)return 1;if(b.start<=a.start&&b.end>=a.end)return-1;throw new Error("Comparing nodes")},memberExpression:function(a){function b(a){return"string"==typeof a?{name:a,type:"Identifier"}:{raw:String(a),type:"Literal",value:a}}var c=a.slice(1).reduce(function(a,c){return{computed:"string"!=typeof c,object:a,property:b(c),type:"MemberExpression"}},b(a[0]));return c},replaceNode:function(a,b,c){var e="object"==typeof c?c:{changes:[],source:c},f=!1,g=e.changes.reduce(function(a,b){if(a.end<b.pos)return a;var c=b.pos<a.start;if(f=f||b.pos>=a.start&&b.pos<=a.end,"add"===b.type)return{start:c?a.start+b.string.length:a.start,end:a.end+b.string.length};if("del"===b.type)return{start:c?a.start-b.length:a.start,end:a.end-b.length};throw new Error("Cannot deal with change "+Objects.inspect(b))},{start:a.start,end:a.end}),h=d.transform.helper,i=e.source,j=b(a,i.slice(g.start,g.end),f),k=Array.isArray(j)?j.map(h._node2string).join("\n"+h._findIndentAt(i,g.start)):k=h._node2string(j),l=[{type:"del",pos:g.start,length:g.end-g.start},{type:"add",pos:g.start,string:k}];return{changes:e.changes.concat(l),source:this._applyChanges(l,i)}},replaceNodes:function(a,b){return a.sort(function(a,b){return d.transform.helper._compareNodesForReplacement(a.target,b.target)}).reduce(function(a,b){return d.transform.helper.replaceNode(b.target,b.replacementFunc,a)},"object"==typeof b?b:{changes:[],source:b})}},replace:function(a,b,c,e){var f="object"==typeof a?a:null,g="string"==typeof a?a:f.source||d.stringify(f),h=d.transform.helper.replaceNode(b,c,g);return h},replaceTopLevelVarDeclAndUsageForCapturing:function(a,b,g){function h(a){return-1===o.indexOf(a.name)&&(!n||n.indexOf(a.name)>-1)}function i(a){return h(a.id)}function j(a,c){return{type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",right:c||{type:"Identifier",name:"undefined"},left:{type:"MemberExpression",computed:!1,object:b,property:a}}}}function k(a){return{declarations:[a],kind:"var",type:"VariableDeclaration"}}function l(a,b){return{type:"MemberExpression",computed:!1,object:b,property:a}}var m=g&&g.ignoreUndeclaredExcept||null,n=g&&g.include||null,o=g&&g.exclude||[],p=g&&g.recordDefRanges,q="object"==typeof a?a:d.parse(a),r="string"==typeof a?a:q.source||d.stringify(q),s=d.query.topLevelDeclsAndRefs(q);m&&(o=f.withoutAll(s.undeclaredNames,m).concat(o));var t=s.scope;f.pushAll(o,f.pluck(t.catches,"name"));var u=t.varDecls.filter(function(a,b){var d=c.Path(t.varDeclPaths[b]),e=d.slice(0,-1).get(q);return"ForStatement"===e.type||"ForInStatement"===e.type});f.pushAll(o,e(u).pluck("declarations").flatten().pluck("id").pluck("name").value());var v=d.transform.helper.replaceNodes(s.refs.filter(h).map(function(a){return{target:a,replacementFunc:function(a){return l(a,b)}}}),r);if(v=d.transform.helper.replaceNodes(f.withoutAll(s.varDecls,u).map(function(a){return{target:a,replacementFunc:function(a,c,e){if(e){var f=d.query.scopes(d.parse(c,{addSource:!0}));a=f.varDecls[0]}return a.declarations.map(function(a){var c={operator:"||",type:"LogicalExpression",left:{computed:!0,object:b,property:{type:"Literal",value:a.id.name},type:"MemberExpression"},right:{name:"undefined",type:"Identifier"}};return i(a)?j(a.id,a.init||c):k(a)})}}}),v),s.funcDecls.length){var w=s.funcDecls.filter(i).map(function(a){var b={type:"Identifier",name:a.id.name};return d.stringify(j(b,b))}).join("\n"),x={type:"add",pos:0,string:w};v={source:w+"\n"+v.source,changes:v.changes.concat([x])}}return p&&(v.defRanges=e(t.varDecls).pluck("declarations").flatten().value().concat(t.funcDecls).reduce(function(a,b){return a[b.id.name]||(a[b.id.name]=[]),a[b.id.name].push({type:b.type,start:b.start,end:b.end}),a},{})),v.ast=q,v},oneDeclaratorPerVarDecl:function(a){var b="object"==typeof a?a:d.parse(a),c="string"==typeof a?a:b.source||d.stringify(b),e=d.query.scopes(b),g=function i(a){return f.flatten(a.varDecls.concat(a.subScopes.map(i)))}(e),h=g.map(function(a){return{target:a,replacementFunc:function(a,b,c){return c&&(a=d.parse(b).body[0]),a.declarations.map(function(a){return{type:"VariableDeclaration",kind:"var",declarations:[a]}})}}});return d.transform.helper.replaceNodes(h,c)},oneDeclaratorForVarsInDestructoring:function(a){var b="object"==typeof a?a:d.parse(a),c="string"==typeof a?a:b.source||d.stringify(b),e=d.query.scopes(b),g=function i(a){return f.flatten(a.varDecls.concat(a.subScopes.map(i)))}(e),h=g.map(function(a){return{target:a,replacementFunc:function(a,b,c){return c&&(a=d.parse(b).body[0]),f.flatmap(a.declarations,function(a){var b={type:"Identifier",name:"__temp"},c={type:"VariableDeclaration",kind:"var",declarations:[{type:"VariableDeclarator",id:b,init:a.init}]},e=f.pluck(d.query.helpers.objPropertiesAsList(a.id,[],!1),"key").map(function(a){return{type:"VariableDeclaration",kind:"var",declarations:[{type:"VariableDeclarator",kind:"var",id:{type:"Identifier",name:f.last(a)},init:d.transform.helper.memberExpression([b.name].concat(a))}]}});return[c].concat(e)})}}});return d.transform.helper.replaceNodes(h,c)},returnLastStatement:function(a,b){b=b||{};var c=d.parse,e=c(a,{ecmaVersion:6}),f=e.body.pop(),g="return "+a.slice(f.start,f.end);if(!b.asAST)return a.slice(0,f.start)+g;var h=c(g,{allowReturnOutsideFunction:!0,ecmaVersion:6}).body.slice(-1)[0];return e.body.push(h),e.end+="return ".length,e},wrapInFunction:function(a,b){b=b||{};var c=d.transform.returnLastStatement(a,b);return b.asAST?{type:"Program",body:[{type:"ExpressionStatement",expression:{body:{body:c.body,type:"BlockStatement"},params:[],type:"FunctionExpression"}}]}:"function() {\n"+c+"\n}"}}}),function(a){var b="undefined"!=typeof module&&module.require?module.require("../env"):lively["lively.lang_env"];a(b.acorn,b.lively,b["lively.lang"],b["lively.ast"])}(function(a,b,c,d){var e=c.arr,f=c.chain,g=c.obj,h=c.Path,i=c.string;d.comments={getCommentPrecedingNode:function(b,c){var e=a.walk.findStatementOfNode({asPath:!0},b,c),g=e.slice(0,-2),i=h(g).get(b);return i.comments&&i.comments.length?f(d.comments.extractComments(b)).reversed().detect(function(a){return a.followingNode===c}).value():null},extractComments:function(c,f){function j(a){var c=[];return b.ast.acorn.withMozillaAstDo(a,c,function(a,b,c,d,f){b.comments&&e.pushAll(c,b.comments.map(function(a){return{path:f,comment:a,node:b}})),a()}),c}function k(a){return e.detect(a.node.body,function(b){return b.start>a.comment.end})}function l(a){return{type:"unknown",comment:a.comment.text}}function m(a){var b=h(a.path.slice(0,-1)).get(y);return b&&"FunctionDeclaration"===b.type}function n(a){var b=h(a.path.slice(0,-1)).get(y),c=b.id?b.id.name:"<error: no name for function>";return{name:c,args:e.pluck(b.params,"name")}}function o(a){return e.equals(a.path.slice(-2),["value","body"])}function p(a){return e.equals(a.path.slice(-2),["right","body"])}function q(a){for(var b=h(a.path.slice(0,-2)).get(y),c=b.key?b.key.name:"<error: no name for method>",d=a.path.slice(),f="<error: no object found for method>";d.length&&"init"!==e.last(d);)d.pop();if(d.length&&(f=h(d.slice(0,-1).concat(["id","name"])).get(y)),i.startsWith(f,"<error")){for(d=a.path.slice();d.length&&"right"!==e.last(d);)d.pop();if(d.length){var g=h(d.slice(0,-1).concat(["left"])).get(y);f=z.slice(g.start,g.end)}}if(i.startsWith(f,"<error")){d=a.path.slice();var j=h(d.slice(0,-6)).get(y),k=j&&"CallExpression"===j.type,l=k&&j.arguments[0];l&&(f=z.slice(l.start,l.end))}return{name:c,args:e.pluck(b.value.params,"name"),objectName:f}}function r(b){var c=h(b.path.slice(0,-1)).get(y);if("FunctionExpression"!==c.type&&"FunctionDeclaration"!==c.type)return{};var d=a.walk.findStatementOfNode(y,c);if("ExpressionStatement"!==d.type||"AssignmentExpression"!==d.expression.type)return{};var f=z.slice(d.expression.left.object.start,d.expression.left.object.end),g=z.slice(d.expression.left.property.start,d.expression.left.property.end);return{name:g,objectName:f,args:e.pluck(c.params,"name")}}function s(a){var b=a.path.slice(-5);return e.removeAt(b,1),e.equals(b,["properties","value","callee","body"])}function t(a){var b,c,d;d=a.path.slice(0,-3);var f=h(d).get(y);f&&"Property"===f.type&&(c=e.pluck(f.value.callee.params,"name"),b=f.key?f.key.name:"<error: no name for method>"),b||(d=a.path.slice(0,-2),f=h(d).get(y),f&&"Property"===f.type&&(c=e.pluck(f.value.params,"name"),b=f.key?f.key.name:"<error: no name for method>")),b||(b="<error: no name for method>",c=[],d=a.path);for(var g=e.clone(d),j="<error: no object found for method>";g.length&&"init"!==e.last(g);)g.pop();if(g.length&&(j=h(g.slice(0,-1).concat(["id","name"])).get(y)),i.startsWith(j,"<error")){for(var g=e.clone(d);g.length&&"right"!==e.last(g);)g.pop();if(g.length){var k=h(g.slice(0,-1).concat(["left"])).get(y);j=z.slice(k.start,k.end)}}if(i.startsWith(j,"<error")){var g=e.clone(d),l=h(g.slice(0,-4)).get(y),m=l&&"CallExpression"===l.type,n=m&&l.arguments[0];n&&(j=z.slice(n.start,n.end))}return{name:b,args:c,objectName:j}}function u(a){return v(a)&&("ObjectExpression"===a.declarations[0].init.type||x(a.declarations[0].init))}function v(a){return a&&"VariableDeclaration"===a.type&&1===a.declarations.length}function w(a){return{name:a.declarations[0].id.name}}function x(a){return"AssignmentExpression"!==a.type?!1:"ObjectExpression"===a.right.type?!0:"AssignmentExpression"===a.right.type?x(a.right):!1}var y="string"==typeof c?d.parse(c,{withComments:!0}):c,z=f?f:"string"==typeof c?c:d.stringify(c),A=e.sortBy(j(y),function(a){return a.comment.start});return A.map(function(a,b){if(o(a))return g.merge([a,a.comment,{type:"method",comment:a.comment.text},q(a)]);if(s(a))return g.merge([a,a.comment,{type:"method",comment:a.comment.text},t(a)]);if(m(a))return g.merge([a,a.comment,{type:"function",comment:a.comment.text},n(a)]);if(p(a))return g.merge([a,a.comment,{type:"method",comment:a.comment.text},r(a)]);var c=k(a);if(!c)return g.merge([a,a.comment,{followingNode:c},l(a)]);var d=A[b+1];return d&&d.comment.start<=c.start?g.merge([a,a.comment,{followingNode:c},l(a)]):u(c)?g.merge([a,a.comment,{followingNode:c},{type:"object",comment:a.comment.text},w(c)]):v(c)?g.merge([a,a.comment,{followingNode:c},{type:"var",comment:a.comment.text},w(c)]):g.merge([a,a.comment,{followingNode:c},l(a)])})}}}),function(a){var b="undefined"!=typeof module&&module.require?module.require("../env"):lively["lively.lang_env"];a(b.acorn,b.lively,b["lively.lang"],b["lively.ast"])}(function(a,b,c,d){function e(a){return a.properties.map(function(a){return{name:a.key.name||a.key.value,type:"FunctionExpression"===a.value.type?"method":"property",
node:a}})}function f(a){if("subclass"!==t("expression.callee.property.name").get(a))return null;var b={type:"lively-class-definition",name:t("expression.arguments.0.value").get(a),node:a},c=r.flatmap(a.expression.arguments,function(a){return"ObjectExpression"!==a.type?[]:e(a).map(function(a){return a.type="lively-class-instance-"+a.type,a.parent=b,a})});return[b].concat(c)}function g(a){if("extend"!==t("expression.callee.property.name").get(a)||"ObjectExpression"!==t("expression.arguments.0.type").get(a))return null;var b=t("expression.arguments.0.name").get(a);if(!b)return null;var c={name:b,node:a,type:"lively-extend-definition"},d=(e(t("expression.arguments.1").get(a))||[]).map(function(a){return a.parent=c,a});return[c].concat(d)}function h(a){return"VariableDeclaration"!==a.type?null:r.flatmap(p(a),function(a){return r.flatmap(a.ids,function(b){var c={name:b.name,node:a.node,type:"var-decl"};if(!c.node.init)return[c];for(var d=c.node.init;"AssignmentExpression"===d.type;)d=d.right;if("ObjectExpression"===d.type)return[c].concat(e(d).map(function(a){return a.type="object-"+a.type,a.parent=c,a}));var f=j(d);return f?[c].concat(f.map(function(a){return a.parent=c,a})):[c]})})}function i(a){return"FunctionStatement"!==a.type&&"FunctionDeclaration"!==a.type?null:[{name:a.id.name,node:a,type:"function-decl"}]}function j(a){if("ExpressionStatement"===a.type&&(a=a.expression),"CallExpression"!==a.type)return null;var b=a.arguments.detect(function(a){return"ObjectExpression"===a.type});return b?e(b):null}function k(a,b){if(!m(a))return null;var c=q(t("expression.arguments.0").get(a),b),d={node:a,name:t("expression.callee.object.callee.object.arguments.0.value").get(a)};return c.forEach(function(a){return a.parent=d}),c}function l(a,b){if(!n(a))return null;var c,d=t("expression.arguments.0").get(a);c=d&&"FunctionExpression"===d.type&&u.lines(d.source||"").length>5?q(d,b):q(t("expression.callee").get(a),b);var e={node:a,name:t("expression.callee.id.name").get(a)};return c.forEach(function(a){return a.parent||(a.parent=e)}),c}function m(a){return"module"===t("expression.callee.object.callee.object.callee.name").get(a)&&"toRun"===t("expression.callee.property.name").get(a)}function n(a){return"CallExpression"===t("expression.type").get(a)&&"FunctionExpression"===t("expression.callee.type").get(a)}function o(a){return r.flatmap(a,function(a){return a?"Identifier"===a.type?[a]:"RestElement"===a.type?[a.argument]:"ObjectPattern"===a.type?o(r.pluck(a.properties,"value")):"ArrayPattern"===a.type?o(a.elements):[]:[]})}function p(a){return a.declarations.map(function(a){return!a.source&&a.init&&(a.source=a.id.name+" = "+a.init.source),{node:a,ids:o([a.id])}})}function q(a,b){b=b||s.merge({hideOneLiners:!1},b),"string"==typeof a&&(a=d.parse(a,{addSource:!0}));var c="Program"===a.type?a.body:a.body.body,e=r.flatmap(c,function(a){return k(a,b)||l(a,b)||h(a)||i(a)||f(a)||g(a)||j(a)});return b.hideOneLiners&&a.source&&(e=e.reduce(function(a,b){return b.parent&&a.indexOf(b.parent)>-1?a.push(b):(b.node.source||"").indexOf("\n")>-1&&a.push(b),a},[])),b.hideOneLiners&&a.loc&&(e=e.filter(function(a){return!a.node.loc||a.node.loc.start.line!==a.node.loc.end.line})),e}var r=c.arr,s=(c.chain,c.obj),t=c.Path,u=c.string;d.codeCategorizer={findDecls:q}});
//# sourceMappingURL=lively.ast.min.js.map
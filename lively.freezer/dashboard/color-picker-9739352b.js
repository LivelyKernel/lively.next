System.register(["./__root_module__-64e296ea.js","./index-1222f918.js"],function(Ba){var Ab,Qb,dc,Xb,Xd,ad,Nd,dd,Lc,rd,Gd,ke,Kd,Hc,fb,Db,mc,hc,Tc,Ld,oc,pc,Nb,Dc,Vc,Hd,Id,rb,Hb,Mc,qb,tb,eb,ob,wb,cb,Oa,Gb,sc,vc,fc,rc,Q,ha,Ga,La,Yb,kc,Ua,ec,ge,ee,ed;return{setters:[function(ab){Ab=ab.C;Qb=ab.a2;dc=ab.b6;Xb=ab.b7;Xd=ab.b8;ad=ab.b9;Nd=ab.ba;dd=ab.bb;Lc=ab.a3;rd=ab.ah;Gd=ab.bc;ke=ab.bd;Kd=ab.be;Hc=ab.aj;fb=ab.a$;Db=ab.al;mc=ab.aC;hc=ab.a9;Tc=ab.b0;Ld=ab.an;oc=ab.I;pc=ab.aW;Nb=ab.b4;Dc=ab.bf;Vc=ab.bg;
Hd=ab.ar;Id=ab.as;rb=ab.aq;Hb=ab.a6;Mc=ab.bh;qb=ab.at;tb=ab.ap;eb=ab.aD;ob=ab.aa;wb=ab.bi;cb=ab.am;Oa=ab.ao;Gb=ab.ab;sc=ab.$;vc=ab.au;fc=ab.s;rc=ab.a7;Q=ab.a1;ha=ab.bj;Ga=ab.bk;La=ab.bl;Yb=ab.ai;kc=ab.av;Ua=ab.aO},function(ab){ec=ab.p;ge=ab.P;ee=ab._;ed=ab.N}],execute:function(){var ab=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");ab.Color=Ab;ab.rect=Qb;ab.Complementary=dc;ab.Triadic=Xb;ab.Tetradic=Xd;ab.Quadratic=ad;ab.Analogous=Nd;ab.Neutral=dd;ab.pt=Lc;ab.Point=rd;ab.flatDesignColors=
Gd;ab.materialDesignColors=ke;ab.webSafeColors=Kd;ab.Morph=Hc;ab.CustomLayout=fb;ab.VerticalLayout=Db;ab.HorizontalLayout=mc;ab.Text=hc;ab.TilingLayout=Tc;ab.Ellipse=Ld;ab.Image=oc;ab.StyleSheet=pc;ab.DropDownSelector=Nb;ab.ModeSelector=Dc;ab.Slider=Vc;ab.connect=Hd;ab.signal=Id;ab.num=rb;ab.arr=Hb;ab.SnapLayout=Mc;ab.WHEEL_URL="/lively.ide/assets/color-wheel.png";ab.duration=200;(function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Eb=md.hasOwnProperty("ColorPaletteField")&&
"function"===typeof md.ColorPaletteField?md.ColorPaletteField:md.ColorPaletteField=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"onHoverIn",value:function(){if(this.color){var xa=$jscomp.makeIterator(this.color.toHSB()),Ca=xa.next().value,Mb=xa.next().value;xa=xa.next().value;this.borderColor=ab.Color.hsb(Ca,1<Mb+.5?Mb-.5:Mb+.5,1<xa+.5?xa-.5:xa+.5)}}},{key:"onHoverOut",value:function(){this.borderColor=
ab.Color.transparent}},{key:"onMouseDown",value:function(){ab.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:ab.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||ab.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||ab.Color.transparent}},styleClasses:{after:["color"],
initialize:function(){this.styleClasses=this.color?["colorField"]:["vacantColorField"]}}}}}],md,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:638,end:1607})})(ab.Morph);(function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Eb=md.hasOwnProperty("ColorHarmonyField")&&
"function"===typeof md.ColorHarmonyField?md.ColorHarmonyField:md.ColorHarmonyField=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"onMouseDown",value:function(){ab.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:ab.pt(80,60)},fill:{defaultValue:ab.Color.transparent},
master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color harmony field"}}},color:{set:function(xa){var Ca=$jscomp.makeIterator(this.submorphs),Mb=Ca.next().value;Ca=Ca.next().value;var P=$jscomp.makeIterator(xa?xa.toHSB():[]),za=P.next().value,Ta=P.next().value;P=P.next().value;this.setProperty("color",xa);xa&&Mb&&Ca&&(Mb.fill=xa,Ca.textString=xa.toHexString(),Ca.fontColor=ab.Color.hsb(za,1<Ta+.5?Ta-.5:Ta+.5,1<P+.5?P-.5:P+.5))}},submorphs:{after:["color"],initialize:function(){var xa=
$jscomp.makeIterator((this.color||ab.Color.transparent).toHSB()),Ca=xa.next().value,Mb=xa.next().value;xa=xa.next().value;this.submorphs=[new ab.Morph({fill:this.color,extent:ab.pt(80,50)}),new ab.Text({textString:Ca.toFixed()+", "+Mb.toFixed(2)+", "+xa.toFixed(2),fill:ab.Color.transparent,fontColor:ab.Color.gray.darker(),bottomLeft:ab.pt(0,50)})]}}}}}],md,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:1609,end:3001})})(ab.Morph);(function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Eb=md.hasOwnProperty("HarmonyDisplay")&&"function"===typeof md.HarmonyDisplay?md.HarmonyDisplay:md.HarmonyDisplay=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"update",value:function(xa){var Ca=$jscomp.makeIterator(xa.pivotColor.toHSB()),
Mb=Ca.next().value,P=Ca.next().value;Ca=Ca.next().value;Mb=xa.harmony.chord({hue:Mb,saturation:P,brightness:Ca});Mb.length!=this.submorphs.length?this.submorphs=Mb.map(function(za){za=new ab.ColorHarmonyField({color:za});ab.connect(za,"updateColor",xa,"color");return za}):ab.arr.zip(this.submorphs,Mb).forEach(function(za){var Ta=$jscomp.makeIterator(za);za=Ta.next().value;Ta=Ta.next().value;za.color=Ta})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyDisplay"}}],md,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3003,end:3581})})(ab.Morph);(function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Eb=md.hasOwnProperty("PivotColorControl")&&"function"===typeof md.PivotColorControl?md.PivotColorControl:md.PivotColorControl=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"update",value:function(xa){this.pivotColor=xa.pivotColor}},{key:"onDrag",value:function(xa){var Ca=$jscomp.makeIterator(this.pivotColor.toHSB()),Mb=Ca.next().value,P=Ca.next().value;Ca=Ca.next().value;Mb=ab.num.toRadians(Mb);xa=ab.Point.polar(50*P,Mb).addPt(xa.state.dragDelta);Mb=ab.num.toDegrees(xa.theta());Mb=0>Mb?Mb+360:Mb;P=Math.min(xa.r()/50,1);this.pivotColor=ab.Color.hsb(Mb,P,Ca)}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:ab.Color.blue},draggable:{defaultValue:!0}}}}],md,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3583,end:4217})})(ab.Ellipse);(function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
Eb=md.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof md.HarmonyVisualizer?md.HarmonyVisualizer:md.HarmonyVisualizer=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"update",value:function(xa){var Ca=$jscomp.makeIterator(this.submorphs).next().value,Mb=this.get("pivot control"),P=$jscomp.makeIterator(xa.pivotColor.toHSB()),za=P.next().value,Ta=P.next().value;P=P.next().value;var Fb=ab.num.toRadians(za);
za=xa.harmony.chord({hue:za,saturation:Ta,brightness:P}).map(function(Cc){var Uc=$jscomp.makeIterator(Cc.toHSB()),he=Uc.next().value;Cc=Uc.next().value;Uc.next();Uc=ab.num.toRadians(he);return ab.Point.polar(50*Cc,Uc)});Ca.fill=ab.Color.black.withA(1-P);Mb.update(xa);Ca.submorphs.length-1!=za.length?Ca.submorphs=[].concat($jscomp.arrayFromIterable(za.map(function(Cc){return new ab.Ellipse({center:Cc,fill:ab.Color.transparent,draggable:!1,borderWidth:1,borderColor:ab.Color.black})})),[Mb]):(ab.arr.zip(Ca.submorphs,
za).forEach(function(Cc){var Uc=$jscomp.makeIterator(Cc);Cc=Uc.next().value;if(Uc=Uc.next().value)Cc.center=Uc}),Mb.center=ab.Point.polar(50*Ta,Fb))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new ab.PivotColorControl({name:"pivot control"})]}]}}}}}],md,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4219,end:5681})})(ab.Image);(function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Eb=md.hasOwnProperty("HarmonyPalette")&&"function"===typeof md.HarmonyPalette?md.HarmonyPalette:md.HarmonyPalette=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"update",value:function(xa){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=xa.pivotBrightness,this.harmony=xa.harmony,this.get("harmonies").update(xa),this.get("harmony visualizer").update(xa),this.updateInProgress=!1)}},{key:"harmonyControl",value:function(){var xa,Ca,Mb=new ab.Morph({name:"harmonyControl",submorphs:[new ab.HarmonyVisualizer({name:"harmony visualizer"}),Ca=new ab.Slider({min:0,
max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),xa=new ab.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new ab.Complementary,Triadic:new ab.Triadic,Tetradic:new ab.Tetradic,Quadratic:new ab.Quadratic,Analogous:new ab.Analogous,Neutral:new ab.Neutral}})]});ab.connect(Ca,"value",this,"pivotBrightness");ab.connect(xa,"selectedValue",this,"harmony");return Mb}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new ab.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],initialize:function(){this.submorphs=[new ab.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],md,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5683,end:7610})})(ab.Morph);var Rc=Ba("C",function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Eb=md.hasOwnProperty("ColorPalette")&&"function"===typeof md.ColorPalette?md.ColorPalette:md.ColorPalette=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return qb(Eb,te,[{key:"fadeIntoWorld",value:function(xa){qb._get(Object.getPrototypeOf(Eb.prototype),"fadeIntoWorld",this).call(this,xa);this.initPosition=xa;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function(xa){"Escape"==xa.key&&this.close()}},{key:"close",value:function(xa){xa?this.fadeOut(xa):this.remove();ab.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",extent:ab.pt(400,253),submorphs:[this.solidColorPalette(),new ab.HarmonyPalette({name:"harmony palette",
isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var xa=this.get("solidColorPalette"),Ca=this.get("paletteView");xa.visible||(Ca.submorphs.forEach(function(Mb){return Mb.animate({isLayoutable:!1,visible:!1,duration:200})}),xa.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var xa=this.get("paletteView");this.get("harmony palette").visible||(xa.submorphs.forEach(function(Ca){return Ca.animate({isLayoutable:!1,visible:!1,
duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var xa=new ab.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette","Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});ab.connect(xa,"Color Palette",this,"selectSolidMode");ab.connect(xa,"Color Harmonies",this,"selectHarmonyMode");return xa}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",
master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var xa=this.getColorsFor(this.colorPalette),Ca=xa.colors,Mb=xa.mod;return this.cachedPalette[xa.name]||this.getPalette(Ca,Mb)}},{key:"getPalette",value:function(xa,Ca){var Mb=this,P=Math.max(Math.ceil(xa.length/Ca),15),za=P*this.colorFieldWidth,Ta=Ca*this.colorFieldWidth;xa=[].concat($jscomp.arrayFromIterable(xa),$jscomp.arrayFromIterable(ab.arr.withN(P*
Ca-xa.length,null)));return{extent:ab.pt(za,Ta),name:"paletteContainer",submorphs:xa.map(function(Fb){Fb=new ab.ColorPaletteField({color:Fb&&ab.Color.rgbHex(Fb),extent:ab.pt(Mb.colorFieldWidth,Mb.colorFieldWidth)});ab.connect(Fb,"updateColor",Mb,"color");return Fb})}}},{key:"switchPalette",value:function(xa){var Ca=xa.name,Mb=xa.colors;xa=xa.mod;var P=this.get("solidColorPalette"),za=$jscomp.makeIterator(P.submorphs);za.next();za=za.next().value;this.cachedPalette[Ca]=this.cachedPalette[Ca]||this.getPalette(Mb,
xa,Ca);P.submorphs=[this.cachedPalette[Ca],za]}},{key:"getPaletteDescription",value:function(xa){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",custom:"Your personal set of customly defined colors.",materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",
flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[xa]}},{key:"updatePaletteDescription",value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function(xa){return Object.assign({name:xa},
{flatDesign:{colors:ab.flatDesignColors,mod:11},materialDesign:{colors:ab.materialDesignColors,mod:15},webSafe:{colors:ab.webSafeColors,mod:12}}[xa])}},{key:"paletteConfig",value:function(){var xa,Ca={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[xa=new ab.DropDownSelector({isHaloItem:!0,name:"paletteSelector",selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};
ab.connect(xa,"selectedValue",this,"colorPalette");return Ca}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:ab.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function(xa){this.setProperty("colorPalette",xa);this.switchPalette(this.getColorsFor(xa));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function(xa){this.setProperty("pivotColor",xa);this.get("harmony palette").update(this)}},
color:{set:function(xa){this.setProperty("color",xa);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var xa=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());xa.next();xa.next();return xa.next().value},set:function(xa){var Ca=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),Mb=Ca.next().value;Ca=Ca.next().value;this.pivotColor=ab.Color.hsb(Mb,Ca,xa)}},harmony:{after:["submorphs","pivotColor"],
defaultValue:new ab.Complementary,set:function(xa){this.setProperty("harmony",xa);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var xa=$jscomp.makeIterator(this.color.toHSB()),Ca=xa.next().value,Mb=xa.next().value;xa.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=ab.Color.hsb(Ca,
Mb,1);ab.connect(this.get("harmony palette"),"harmony",this,"harmony");ab.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");ab.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],md,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:7676,end:15467})}(ab.Morph));ab.ColorPalette=Rc;ab.ColorPalette=Rc;ab.ColorPalette=Rc;var pb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");pb.Morph=Hc;pb.Icon=tb;pb.ProportionalLayout=eb;pb.config=ob;pb.Text=hc;pb.ShadowObject=wb;pb.GridLayout=cb;pb.TilingLayout=Tc;pb.StyleSheet=pc;pb.morph=Oa;pb.HorizontalLayout=mc;pb.VerticalLayout=Db;pb.KeyHandler=Gb;pb.connect=Hd;pb.signal=Id;pb.arr=Hb;pb.promise=sc;pb.fun=vc;pb.string=fc;pb.obj=rc;pb.Color=
Ab;pb.rect=Qb;pb.Rectangle=Q;pb.pt=Lc;pb.popovers=ec;pb.ModeSelector=Dc;pb.DropDownSelector=Nb;pb.SearchField=ha;pb.CheckBox=Ga;pb.Popover=ge;pb.SvgStyleHalo=ee;pb.NumberWidget=ed;pb.Icons=La;pb.duration=200;var bd=Ba("c",pb.colorWidgets||{});pb.colorWidgets=bd;pb.colorWidgets=bd;pb.colorWidgets=bd;(function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Eb=md.hasOwnProperty("SelectableControl")&&"function"===typeof md.SelectableControl?md.SelectableControl:md.SelectableControl=
function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"select",value:function(xa){var Ca=this,Mb,P,za;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ta){if(1==Ta.nextAddress)return Ca.target?Ta.yield(Ca.target.execCommand(xa),2):Ta.return();Mb=Ta.yieldResult;P=Ca.get("modeSelector");Mb.opacity=0;Ca.lastLabel&&(za=P.submorphs.indexOf(Ca.lastLabel)<P.submorphs.indexOf(P.currentLabel),Mb.topLeft=
P.bottomLeft.addXY(za?20:-20,10));Ca.lastLabel=P.currentLabel;Ca.animate({submorphs:[P,Mb],duration:pb.duration});Mb.animate({opacity:1,duration:pb.duration});Ta.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SelectableControl"}},{key:"properties",get:function(){return{target:{type:"Morph"},selectableControls:{},selectedControl:{},fill:{defaultValue:pb.Color.transparent},layout:{initialize:function(){this.layout=new pb.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function(xa){return this.container.submorphs.indexOf(xa)}})}},
submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var xa=new pb.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});this.submorphs=[xa];xa.width=100;pb.connect(xa,"switchLabel",this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:948,end:2579})})(pb.Morph);(function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Eb=md.hasOwnProperty("ToggledControl")&&"function"===typeof md.ToggledControl?md.ToggledControl:md.ToggledControl=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"toggle",value:function(xa){var Ca=$jscomp.makeIterator(this.submorphs).next().value,
Mb=this.toggledControl(xa);Ca=[Ca].concat($jscomp.arrayFromIterable(Mb?[Mb]:[]));pb.signal(this,"update",xa&&Mb.value);Mb&&(Mb.opacity=0);this.animate({submorphs:Ca,duration:pb.duration});Mb&&Mb.animate({opacity:1,duration:pb.duration})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:pb.Color.transparent},
layout:{initialize:function(){this.layout=new pb.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var xa=new pb.CheckBox({checked:this.checked});this.submorphs=[{fill:pb.Color.transparent,layout:new pb.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:pb.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},xa]}];this.toggle(this.checked);pb.connect(xa,"toggle",this,"toggle")}}}}}],
md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2581,end:4273})})(pb.Morph);(function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Eb=md.hasOwnProperty("StylePopover")&&"function"===typeof md.StylePopover?md.StylePopover:md.StylePopover=
function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"setupConnections",value:function(){}},{key:"controls",value:function(){return[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=pb.morph({layout:new pb.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:pb.Color.transparent,
submorphs:this.controls()});this.setupConnections()}}}}}],md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4275,end:4825})})(pb.Popover);var od=function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Eb=md.hasOwnProperty("IconPopover")&&"function"===
typeof md.IconPopover?md.IconPopover:md.IconPopover=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"onDrop",value:function(xa){var Ca=this;xa.hand.grabbedMorphs.find(function(Mb){return Mb===Ca.iconLabel})&&(xa.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new pb.VerticalLayout({spacing:4}),fill:pb.Color.transparent,submorphs:[new pb.SearchField({name:"searchInput",
width:200,placeHolder:"Search Icons"}),pb.morph({textAndAttributes:this.iconAsTextAttributes(),name:"iconList",draggable:!0,type:"text",extent:pb.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var xa=this.ui,Ca=xa.iconList;pb.connect(xa.searchInput,"searchInput",this,"filterIcons");pb.connect(Ca,"onMouseUp",this,"iconSelectClick");pb.connect(Ca,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",
value:function(xa){xa=this.ui.iconList.textPositionFromPoint(xa.positionIn(this.ui.iconList));xa=this.iconAtTextPos(xa);this.iconLabel=pb.Icon.makeLabel(xa,{fontSize:this.ui.iconList.fontSize,name:xa});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",value:function(xa){var Ca=Object.keys(pb.Icons);xa&&(Ca=Ca.filter(xa));return pb.arr.flatmap(Ca,function(Mb,P){return[pb.Icons[Mb].code,{iconCode:pb.Icons[Mb].code,iconName:Mb}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",
value:function(){var xa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ca){if(1==Ca.nextAddress)return Ca.yield(pb.promise.delay(250),2);pb.fun.debounceNamed("filterIcons",200,function(){xa.ui.iconList.textAndAttributes=xa.iconAsTextAttributes(function(Mb){return xa.ui.searchInput.matches(Mb.toLowerCase())})})();Ca.jumpToEnd()})}},{key:"iconSelectClick",value:function(xa){xa=this.ui.iconList.textPositionFromPoint(xa.positionIn(this.ui.iconList));xa=this.iconAtTextPos(xa);this.setStatusMessage(xa);
pb.signal(this,"select",xa)}},{key:"iconAtTextPos",value:function(xa){var Ca=xa.row;xa=xa.column;--xa;for(var Mb=this.ui.iconList,P=Mb.textAndAttributesInRange({start:{row:Ca,column:Math.max(0,xa)},end:{row:Ca,column:xa+2}});P.length&&!P[1].iconName;)xa++,P=P.slice(2);var za={start:{row:Ca,column:xa},end:{row:Ca,column:xa+1}};Mb.addTextAttribute({backgroundColor:Mb.selectionColor.darker().withA(.5)},za);pb.promise.delay(1E3).then(function(){return Mb.addTextAttribute({backgroundColor:pb.Color.transparent},
za)});return P.length?P[1].iconName:null}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"IconPopover"}},{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:pb.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),iconList:this.get("iconList")}}}}}}],md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4834,end:8444})}(pb.StylePopover);pb.IconPopover=od;pb.IconPopover=od;pb.IconPopover=od;var lb=function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Eb=md.hasOwnProperty("LayoutPopover")&&"function"===typeof md.LayoutPopover?md.LayoutPopover:md.LayoutPopover=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,
te,[{key:"getLayoutObjects",value:function(){return[null,new pb.HorizontalLayout({autoResize:!1}),new pb.VerticalLayout({autoResize:!1}),new pb.TilingLayout,new pb.ProportionalLayout,new pb.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){qb._get(Object.getPrototypeOf(Eb.prototype),"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:pb.Color.transparent,layout:new pb.VerticalLayout({spacing:5,
layoutOrder:function(xa){return this.container.submorphs.indexOf(xa)}}),submorphs:[this.layoutPicker(),this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),duration:300}:{isLayoutable:!1,extent:pb.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function(xa){this.clearLayoutHalo();xa&&xa.layout&&(this.layoutHalo=
(xa.world()||xa.env.world).showLayoutHaloFor(xa))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function(xa){return xa?xa.name()+" Layout":"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function(xa){this.container.animate({layout:xa});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());
pb.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var xa=this,Ca=this.getLayoutObjects().map(function(Mb){var P={};return P[xa.getLayoutName(Mb)]=Mb,P});Ca=this.get("Layout Type")||new pb.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return xa.getCurrentLayoutName()},selectedValue:this.container.layout,values:pb.obj.merge(Ca)});pb.connect(Ca,"selectedValue",this,"applyLayout");return Ca}},{key:"layoutControls",value:function(){return{name:"controlContainer",
fill:pb.Color.transparent,layout:new pb.VerticalLayout,isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:pb.Color.gray.lighter()}}}}],md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:8453,end:11192})}(pb.StylePopover);pb.LayoutPopover=lb;pb.LayoutPopover=lb;pb.LayoutPopover=lb;var Sa=function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Eb=md.hasOwnProperty("FillPopover")&&"function"===typeof md.FillPopover?md.FillPopover:md.FillPopover=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,
te,[{key:"openHandle",value:function(xa){xa.openInWorld();this.openHandles.push(xa)}},{key:"close",value:function(){qb._get(Object.getPrototypeOf(Eb.prototype),"close",this).call(this);this.openHandles.forEach(function(xa){return xa.remove()})}},{key:"setupConnections",value:function(){var xa=this.ui,Ca=xa.fillSelector,Mb=xa.colorField;xa=xa.gradientEditor;Ca&&pb.connect(this,"fillValue",Ca,"value");xa&&(pb.connect(xa,"gradientValue",this,"fillValue"),pb.connect(xa,"openHandle",this,"openHandle"));
Mb&&(pb.connect(this,"close",Mb,"remove"),pb.connect(Mb,"update",this,"fillValue"),pb.connect(this,"onMouseDown",Mb,"removeWidgets"))}},{key:"commands",get:function(){var xa=this;return qb._get(Object.getPrototypeOf(Eb.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var Ca=new pb.colorWidgets.ColorPickerField({name:"colorField",colorValue:xa.fillValue.isGradient?pb.Color.blue:xa.fillValue});Ca.whenRendered().then(function(){xa.setupConnections()});return Ca}},{name:"switch to gradient",
exec:function(){var Ca=new pb.colorWidgets.GradientEditor({name:"gradient editor",gradientValue:xa.fillValue});Ca.whenRendered().then(function(){xa.setupConnections();xa.handleMorph&&Ca.showGradientHandlesOn(xa.handleMorph);Ca.update()});return Ca}}])}},{key:"controls",value:function(){return this.gradientEnabled?[new pb.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]:
[{fill:pb.Color.transparent,layout:new pb.VerticalLayout({spacing:0}),submorphs:[new pb.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue})]}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},fillValue:{defaultValue:pb.Color.blue},popoverColor:{defaultValue:pb.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),
fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:11201,end:14064})}(pb.StylePopover);pb.FillPopover=Sa;pb.FillPopover=Sa;pb.FillPopover=Sa;var qc=Ba("S",function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
Eb=md.hasOwnProperty("ShadowPopover")&&"function"===typeof md.ShadowPopover?md.ShadowPopover:md.ShadowPopover=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"controls",value:function(){var xa=this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",Ca=[{layout:new pb.VerticalLayout({resizeContainer:!0,spacing:5}),fill:pb.Color.transparent,name:"control container",submorphs:[xa=
new pb.DropDownSelector({name:"shadow type",borderRadius:2,padding:3,selectedValue:xa,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?this.shadowControls():[])}];pb.connect(xa,"selectedValue",this,"changeShadowType");return Ca}},{key:"shadowControls",value:function(){var xa=this.shadowValue,Ca=new pb.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:xa.distance,unit:"px"}),Mb=new pb.NumberWidget({name:"angleSlider",min:0,max:360,number:xa.rotation,autofit:!1}),
P=new pb.NumberWidget({name:"spreadSlider",min:0,number:xa.spread,autofit:!1}),za=new pb.NumberWidget({name:"blurSlider",min:0,number:xa.blur,autofit:!1});xa=new pb.colorWidgets.ColorPickerField({name:"colorPicker",colorValue:xa.color});pb.connect(xa,"colorValue",this,"updateShadow",{converter:function(Ta){return{color:Ta}}});pb.connect(this,"onMouseDown",xa,"removeWidgets");pb.connect(this,"close",xa,"remove");pb.connect(P,"update",this,"updateShadow",{converter:function(Ta){return{spread:Ta}}});
pb.connect(Ca,"update",this,"updateShadow",{converter:function(Ta){return{distance:Ta}}});pb.connect(za,"update",this,"updateShadow",{converter:function(Ta){return{blur:Ta}}});pb.connect(Mb,"update",this,"updateShadow",{converter:function(Ta){return{rotation:Ta}}});return new pb.Morph({layout:new pb.GridLayout({autoAssign:!1,fitToCell:!1,columns:[0,{paddingLeft:1}],rows:pb.arr.flatten(pb.arr.range(0,3).map(function(Ta){return[Ta,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",
null,"distanceSlider"],["blurLabel",null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:pb.Color.transparent,submorphs:pb.arr.flatten([["distance",Ca],["spread",P],["blur",za],["angle",Mb],["color",xa]].map(function(Ta){var Fb=$jscomp.makeIterator(Ta);Ta=Fb.next().value;Fb=Fb.next().value;return[{type:"label",styleClasses:["controlName"],value:pb.string.capitalize(Ta)+":",name:Ta+"Label"},Fb]}))})}},{key:"changeShadowType",value:function(xa){"No Shadow"==
xa?this.toggleShadow(!1):"Inset Shadow"==xa?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?this.shadowControls():[]),duration:300})}},{key:"updateShadow",value:function(xa){var Ca=this.shadowValue;xa=Object.assign({fast:Ca.fast,color:Ca.color,spread:Ca.spread,blur:Ca.blur,distance:Ca.distance,rotation:Ca.rotation,inset:Ca.inset},xa);this.shadowValue=
new pb.ShadowObject(xa)}},{key:"toggleShadow",value:function(xa){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=xa&&this.cachedShadow}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowPopover"}},{key:"properties",get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new pb.ShadowObject({fast:!0})},popoverColor:{defaultValue:pb.Color.gray.lighter()}}}}],md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:14073,end:18507})}(pb.StylePopover));pb.ShadowPopover=qc;pb.ShadowPopover=qc;pb.ShadowPopover=qc;pb.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";var le=function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Eb=md.hasOwnProperty("PointPopover")&&"function"===typeof md.PointPopover?
md.PointPopover:md.PointPopover=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"refineResolution",value:function(xa){this.resolution=.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function(xa){this.pointValue=this.pointValue.addPt(xa.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){qb._get(Object.getPrototypeOf(Eb.prototype),
"relayout",this).call(this);var xa=this.getSubmorphNamed("mesh"),Ca=this.getSubmorphNamed("point value view");xa.origin=xa.innerBounds().center().addXY(4,1);xa.position=this.get("body").innerBounds().center();xa.scale=this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";Ca.value=pb.obj.safeToString(this.pointValue);Ca.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function(xa){var Ca=
this;qb._get(Object.getPrototypeOf(Eb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,xa);this.whenRendered().then(function(){return Ca.relayout()})}},{key:"calibrate",value:function(){var xa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ca){if(1==Ca.nextAddress)return xa.get("knob").animate({center:xa.innerBounds().center(),duration:200}),Ca.yield(xa.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);xa.relayout();Ca.jumpToEnd()})}},{key:"showPointValue",
value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},{key:"controls",value:function(){this.extent=pb.pt(200,200);var xa,Ca,Mb=[pb.morph({extent:pb.pt(200,200),clipMode:"hidden",fill:pb.Color.transparent,submorphs:[{type:"image",name:"mesh",fill:pb.Color.transparent,opacity:.5,imageUrl:pb.milimeter,autoResize:!0},{extent:pb.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:pb.Color.gray},fill:pb.Color.transparent},xa=pb.morph({name:"scroller",extent:pb.pt(200,
200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),Ca=pb.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:pb.Color.red,borderColor:pb.Color.black,borderWidth:1,center:pb.pt(100,100)}),{type:"label",name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:pb.pt(10,10),type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];xa.scroll=pb.pt(0,120);pb.connect(Ca,"onDragStart",this,"showPointValue");pb.connect(Ca,
"onDrag",this,"adjustPoint");pb.connect(Ca,"onDragEnd",this,"calibrate");pb.connect(this,"extent",this,"relayout");pb.connect(xa,"onScroll",this,"refineResolution");return Mb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"PointPopover"}},{key:"properties",get:function(){return{pointValue:{defaultValue:pb.pt(0,0)},resolution:{defaultValue:1}}}}],md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:18622,end:21799})}(pb.StylePopover);pb.PointPopover=le;pb.PointPopover=le;pb.PointPopover=le;var Zd=function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Eb=md.hasOwnProperty("RectanglePopover")&&"function"===typeof md.RectanglePopover?md.RectanglePopover:md.RectanglePopover=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"controls",value:function(){var xa=this;return[{fill:pb.Color.transparent,extent:pb.pt(120,120),layout:new pb.GridLayout({grid:[["top","top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],columns:[0,{paddingLeft:4},1,{paddingRight:4,fixed:!0,width:60}],rows:pb.arr.flatten(pb.arr.range(0,3).map(function(Ca){return[Ca,{paddingTop:0==Ca?4:2,paddingBottom:3==Ca?4:2}]}))}),
submorphs:pb.arr.flatten(["top","right","bottom","left"].map(function(Ca){var Mb=new pb.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},name:Ca+" scrubber",autofit:!1,number:xa.rectangle.partNamed(Ca)});pb.connect(Mb,"update",xa,"rectangle",{updater:function(P,za){var Ta=this.targetObj.rectangle,Fb={};za=(Fb.left=Ta.left(),Fb.top=Ta.top(),Fb.right=Ta.right(),Fb.bottom=Ta.bottom(),Fb[Ca]=za,Fb);P(pb.Rectangle.inset(za.left,za.top,za.right,za.bottom))},varMapping:{side:Ca,
Rectangle:Q}});return[{type:"label",styleClasses:["controlName"],name:Ca,value:Ca,padding:3},Mb]}))}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RectanglePopover"}},{key:"properties",get:function(){return{popoverColor:{defaultValue:pb.Color.gray.lighter()},rectangle:{defaultValue:pb.rect(0)}}}}],md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:21808,end:23792})}(pb.StylePopover);pb.RectanglePopover=Zd;pb.RectanglePopover=Zd;pb.RectanglePopover=Zd;var Fe=function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Eb=md.hasOwnProperty("TextPopover")&&"function"===typeof md.TextPopover?md.TextPopover:md.TextPopover=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return qb(Eb,te,[{key:"controls",value:function(){var xa=new pb.Text(Object.assign({name:"editor",extent:pb.pt(300,200),textString:this.text,lineWrapping:"by-chars"},pb.config.codeEditor.defaultStyle));return[{layout:new pb.HorizontalLayout,fill:pb.Color.transparent,borderColor:pb.Color.gray,borderWidth:1,borderRadius:4,clipMode:"hidden",submorphs:[xa]}]}},{key:"commands",get:function(){return qb._get(Object.getPrototypeOf(Eb.prototype),"commands",this).concat([{name:"save string",exec:function(xa){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ca){xa.text=
xa.get("editor").textString;pb.signal(xa,"save",xa.text);xa.setStatusMessage("String saved!",pb.Color.green);Ca.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return qb._get(Object.getPrototypeOf(Eb.prototype),"keybindings",this).concat([{keys:{mac:"Command-S",win:"Ctrl-S"},command:"save string"}])}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],md,{pathInPackage:function(){return"styling/style-popover.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:23801,end:24876})}(pb.StylePopover);pb.TextPopover=Fe;pb.TextPopover=Fe;pb.TextPopover=Fe;Object.assign(pb.popovers,{FillPopover:Sa,IconPopover:od,RectanglePopover:Zd,ShadowPopover:qc,PointPopover:le,LayoutPopover:lb});var Oc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");
Oc.Morph=Hc;Oc.morph=Oa;Oc.StyleSheet=pc;Oc.Text=hc;Oc.Icon=tb;Oc.VerticalLayout=Db;Oc.GridLayout=cb;Oc.HorizontalLayout=mc;Oc.pt=Lc;Oc.Rectangle=Q;Oc.Color=Ab;Oc.LinearGradient=Yb;Oc.rect=Qb;Oc.signal=Id;Oc.once=kc;Oc.connect=Hd;Oc.obj=rc;Oc.Window=Ua;Oc.ColorPalette=Rc;Oc.FillPopover=Sa;Oc.colorWidgets=bd;Oc.Slider=Vc;Oc.Popover=ge;Oc.WHEEL_URL="/lively.ide/assets/color-wheel.png";Rc=function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Eb=md.hasOwnProperty("ColorPickerField")&&
"function"===typeof md.ColorPickerField?md.ColorPickerField:md.ColorPickerField=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"testAttr",get:function(){return[42]}},{key:"spec",value:function(){return Oc.obj.dissoc(qb._get(Object.getPrototypeOf(Eb.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function(xa){"Escape"==xa.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?
this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,duration:300})}},{key:"onHoverOut",value:function(){this.get("dropDownIndicator").animate({opacity:0,duration:300})}},{key:"update",value:function(xa){this._updating=!0;var Ca=this.submorphs[1];this.colorValue=xa;this.get("topLeft").fill=xa;this.get("bottomRight").fill=xa.isGradient?Oc.Color.transparent:xa.withA(1);Ca.visible=Ca.isLayoutable=!this.gradientEnabled;this.gradientEnabled?
this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=this.get("topLeft").width=this.width-Ca.width;this.get("bottomRight").left=0;this.get("dropDownIndicator").right=this.get("paletteButton").width-5;this._updating=!1}},{key:"openPicker",value:function(xa){var Ca=this,Mb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(P){Mb=Ca.picker||new Oc.ColorPicker({color:Ca.colorValue});Mb.position=Oc.pt(0,-Mb.height/2);Oc.connect(Mb,
"color",Ca,"update");Ca.picker=Mb.openInWorld();Ca.picker.topLeft=Ca.globalBounds().bottomCenter();Ca.picker.topLeft=Ca.world().visibleBounds().translateForInclusion(Ca.picker.globalBounds()).topLeft();Ca.removePalette();P.jumpToEnd()})}},{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function(xa){var Ca=this,Mb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(P){if(1==P.nextAddress)return Mb=Ca.gradientEnabled?Ca.fillWidget:Ca.palette,
Ca.gradientEnabled?Oc.connect(Mb,"fillValue",Ca,"update"):Oc.connect(Mb.targetMorph,"color",Ca,"update"),Mb.isLayoutable=!1,P.yield(Mb.openInWorld(),2);Mb.topCenter=Ca.get("paletteButton").globalBounds().center();Mb.topCenter=Ca.world().visibleBounds().translateForInclusion(Mb.globalBounds()).topCenter();Ca.removePicker();Oc.once(Mb,"remove",Mb,"topLeft",{converter:function(){return Oc.pt(0,0)},varMapping:{pt:Lc}});P.jumpToEnd()})}},{key:"removePalette",value:function(){this.colorValue.isGradient?
this.fillWidget.remove():this.palette.remove()}},{key:"removeWidgets",value:function(){this.removePalette();this.removePicker()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,after:["colorValue"],set:function(xa){this.setProperty("gradientEnabled",xa);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new Oc.FillPopover({fillValue:this.colorValue})}},
testProp:{get:function(){return[42]}},palette:{serialize:!1,get:function(){return this._palette||(this._palette=new Oc.Popover({position:Oc.pt(0,0),name:"Color Palette",targetMorph:new Oc.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function(xa){xa&&(xa.isColor||xa.isGradient)||(xa=Oc.Color.blue);if(!this._updating)return this.update(xa);this.setProperty("colorValue",xa)},get:function(){return this.getProperty("colorValue")||Oc.Color.white}},master:{initialize:function(){this.master=
{auto:"styleguide://SystemWidgets/color field"}}},submorphs:{initialize:function(){this.innerBounds().topRight();this.innerBounds().bottomLeft();var xa=Oc.pt(40,25);this.submorphs=[{extent:xa,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:xa},{name:"bottomRight",type:"polygon",extent:xa,origin:Oc.pt(0,0),vertices:[Oc.pt(0,0),xa.withX(0),xa]},Oc.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:Oc.pt(30,12.5)})]},{fill:Oc.Color.transparent,extent:Oc.pt(25,
25),onHoverIn:function(){this.fill=Oc.Color.black.withA(.2)},onHoverOut:function(){this.fill=Oc.Color.transparent},submorphs:[{name:"pickerButton",type:"image",autoResize:!1,imageUrl:Oc.WHEEL_URL}]}];Oc.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",this,"openPicker");Oc.connect(this.getSubmorphNamed("paletteButton"),"onMouseDown",this,"openPalette");Oc.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],md,{pathInPackage:function(){return"styling/color-picker.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:630,end:6351})}(Oc.Morph);Oc.ColorPickerField=Rc;Oc.ColorPickerField=Rc;Oc.ColorPickerField=Rc;Oc.colorWidgets.ColorPickerField=Oc.ColorPickerField;(function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Eb=md.hasOwnProperty("FieldPicker")&&"function"===
typeof md.FieldPicker?md.FieldPicker:md.FieldPicker=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"update",value:function(xa){this.getSubmorphNamed("hue").fill=Oc.Color.hsb(xa.hue,1,1);this.brightness=xa.brightness;this.saturation=xa.saturation;this.get("picker").center=this.pickerPosition}},{key:"onMouseDown",value:function(xa){this.pickerPosition=xa.positionIn(this);Oc.signal(this,"pickerPosition",
this.pickerPosition)}},{key:"onDrag",value:function(xa){this.pickerPosition=xa.positionIn(this)}},{key:"relayout",value:function(){var xa=this.innerBounds();this.getSubmorphNamed("hue").setBounds(xa);this.getSubmorphNamed("shade").setBounds(xa);this.getSubmorphNamed("light").setBounds(xa)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:Oc.Color.transparent},saturation:{defaultValue:0},brightness:{defaultValue:0},
draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var xa=this.saturation,Ca=this.brightness;return void 0===xa||void 0===Ca?Oc.pt(0,0):Oc.pt(this.getSubmorphNamed("hue").width*xa,this.getSubmorphNamed("hue").height*(1-Ca))},set:function(xa){var Ca=xa.x;xa=xa.y;var Mb=this.getSubmorphNamed("hue"),P=Mb.height;this.saturation=Math.max(0,Math.min(Ca/Mb.width,1));this.brightness=Math.max(0,Math.min(1-xa/P,1));Oc.signal(this,"saturation",
this.saturation);Oc.signal(this,"brightness",this.brightness)}},submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new Oc.LinearGradient({stops:[{color:Oc.Color.white,offset:0},{color:Oc.Color.transparent,offset:1}],vector:"eastwest"})},{borderRadius:3,name:"light",reactsToPointer:!1,fill:new Oc.LinearGradient({stops:[{color:Oc.Color.black,offset:0},{color:Oc.Color.transparent,offset:1}],vector:"southnorth"})},
{name:"picker",type:"ellipse",reactsToPointer:!1,fill:Oc.Color.transparent,borderColor:Oc.Color.black,borderWidth:3,extent:Oc.pt(16,16),submorphs:[{type:"ellipse",fill:Oc.Color.transparent,borderColor:Oc.Color.white,reactsToPointer:!1,borderWidth:3,center:Oc.pt(8,8),extent:Oc.pt(12,12)}]}];Oc.connect(this,"extent",this,"relayout")}}}}}],md,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:6404,end:9755})})(Oc.Morph);(function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Eb=md.hasOwnProperty("ColorPropertyView")&&"function"===typeof md.ColorPropertyView?md.ColorPropertyView:md.ColorPropertyView=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=
["key"].concat($jscomp.arrayFromIterable(this.readOnly?[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=[!this.readOnly&&"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function(xa){"Enter"!=xa.keyCombo||this.readOnly?qb._get(Object.getPrototypeOf(Eb.prototype),
"onKeyDown",this).call(this,xa):(this.owner.focus(),xa.stop(),Oc.signal(this,"updateValue",this.value))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},value:{derived:[!0],set:function(xa){this.textString=Oc.obj.safeToString(xa)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:Oc.Color.gray.darker()}}}}],
md,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:9757,end:10927})})(Oc.Text);(function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Eb=md.hasOwnProperty("HuePicker")&&"function"===typeof md.HuePicker?md.HuePicker:md.HuePicker=function(xa){xa&&
xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"onMouseDown",value:function(xa){this.sliderPosition=Oc.pt(0,xa.positionIn(this).y)}},{key:"onDrag",value:function(xa){this.sliderPosition=Oc.pt(0,xa.positionIn(this).y)}},{key:"update",value:function(xa){this.hue=xa.hue;this.get("slider").center=this.sliderPosition}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new Oc.LinearGradient({stops:[{color:Oc.Color.rgb(255,
0,0),offset:0},{color:Oc.Color.rgb(255,255,0),offset:.17},{color:Oc.Color.limeGreen,offset:.33},{color:Oc.Color.cyan,offset:.5},{color:Oc.Color.blue,offset:.66},{color:Oc.Color.magenta,offset:.83},{color:Oc.Color.rgb(255,0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return Oc.pt(this.width/2,this.hue/360*this.height)},set:function(xa){this.hue=Math.max(0,Math.min(xa.y/this.height*360,359));Oc.signal(this,
"hue",this.hue)}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:Oc.Color.black,fill:Oc.Color.transparent,borderWidth:2}]}}}}}],md,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},
{start:10929,end:12576})})(Oc.Morph);(function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Eb=md.hasOwnProperty("ColorDetails")&&"function"===typeof md.ColorDetails?md.ColorDetails:md.ColorDetails=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"update",value:function(xa){xa=xa.color;var Ca=$jscomp.makeIterator(xa.toTuple8Bit()),Mb=Ca.next().value,P=Ca.next().value;
Ca=Ca.next().value;var za=$jscomp.makeIterator(xa.toHSB()),Ta=za.next().value,Fb=za.next().value;za=za.next().value;var Cc=this.get("hashViewer");this.get("colorViewer").fill=xa;Cc.replace(Cc.documentRange,xa.toHexString(),!1,!1);this.get("R").value="R "+Mb.toFixed(0)+"\n\nG "+P.toFixed(0)+"\n\nB "+Ca.toFixed(0)+"\n\nH "+Ta.toFixed(0)+"\n\nS "+Fb.toFixed(2)+"\n\nV "+za.toFixed(2)}},{key:"onHashViewerChanged",value:function(xa){xa=Oc.Color.rgbHex(xa);this.owner.owner.color=xa}},{key:"keyValue",value:function(xa){var Ca=
xa.name,Mb=xa.key,P=xa.value,za=xa.update;xa=xa.editable;return new Oc.Morph({fill:Oc.Color.transparent,layout:new Oc.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",styleClasses:[xa&&"large","key"],value:Mb},new Oc.ColorPropertyView({name:Ca||Mb,readOnly:!xa,value:P,update:za})]})}},{key:"hashViewer",value:function(){var xa=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});Oc.connect(xa.get("hashViewer"),"updateValue",this,"onHashViewerChanged");
return xa}},{key:"rgbViewer",value:function(){var xa=$jscomp.makeIterator(this.color.toTuple8Bit()),Ca=xa.next().value,Mb=xa.next().value;xa=xa.next().value;return new Oc.Morph({name:"rgbViewer",fill:Oc.Color.transparent,submorphs:[this.keyValue({key:"R",value:Ca.toFixed()}),this.keyValue({key:"G",value:Mb.toFixed()}),this.keyValue({key:"B",value:xa.toFixed()})]})}},{key:"hsbViewer",value:function(){var xa=$jscomp.makeIterator(this.color.toHSB()),Ca=xa.next().value,Mb=xa.next().value;xa=xa.next().value;
return new Oc.Morph({name:"hsbViewer",fill:Oc.Color.transparent,submorphs:[this.keyValue({key:"H",value:Ca.toFixed()}),this.keyValue({key:"S",value:Mb.toFixed(2)}),this.keyValue({key:"V",value:xa.toFixed(2)})]})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorDetails"}},{key:"properties",get:function(){return{color:{defaultValue:Oc.Color.blue},width:{defaultValue:80},fill:{defaultValue:Oc.Color.transparent},layout:{initialize:function(){this.layout=new Oc.VerticalLayout({spacing:9,
layoutOrder:function(xa){return this.container.submorphs.indexOf(xa)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:Oc.pt(50,50),name:"colorViewer",fill:this.color},this.hashViewer(),{type:"label",name:"R",autofit:!0,padding:Oc.rect(10,0,0,0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],md,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12578,end:15353})})(Oc.Morph);Rc=Ba("a",function(te){var md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Eb=md.hasOwnProperty("ColorPicker")&&"function"===typeof md.ColorPicker?md.ColorPicker:md.ColorPicker=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qb(Eb,te,[{key:"onKeyDown",value:function(xa){"Escape"==xa.key&&
this.close()}},{key:"close",value:function(){qb._get(Object.getPrototypeOf(Eb.prototype),"close",this).call(this);Oc.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&(this.get("header").fill=Oc.Color.transparent,this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),Oc.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var xa=this.colorDetails(),Ca=this.fieldPicker(),
Mb=this.huePicker(),P=this.alphaSlider();xa=new Oc.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[Ca,Mb,xa,P]});Oc.connect(Ca,"brightness",this,"brightness");Oc.connect(Ca,"saturation",this,"saturation");Oc.connect(Mb,"hue",this,"hue");return xa}},{key:"alphaSlider",value:function(){var xa,Ca=Oc.morph({name:"alphaSlider",fill:Oc.Color.transparent,layout:new Oc.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:Oc.Rectangle.inset(3),
value:"Alpha",fontColor:Oc.Color.gray,fontWeight:"bold"},xa=new Oc.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});Oc.connect(xa,"value",this,"alpha");return Ca}},{key:"fieldPicker",value:function(){return new Oc.FieldPicker({name:"field picker",saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new Oc.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new Oc.ColorDetails({name:"details",
color:this.color})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:Oc.pt(400,320)},fill:{defaultValue:Oc.Color.black.withA(.7)},isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},hasFixedPosition:{defaultValue:!0},color:{defaultValue:Oc.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return Oc.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function(xa){var Ca=
$jscomp.makeIterator(xa.toHSB()),Mb=Ca.next().value,P=Ca.next().value;Ca=Ca.next().value;this.hue=Mb;this.saturation=P;this.brightness=Ca;this.alpha=xa.a}},alpha:{set:function(xa){this.setProperty("alpha",xa);this.update()}},saturation:{},brightness:{set:function(xa){this.setProperty("brightness",xa);this.update()}},hue:{set:function(xa){this.setProperty("hue",xa);this.update()}},targetMorph:{initialize:function(){var xa=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=Oc.Color.gray;
this.ui.header.fill=Oc.Color.transparent;this.whenRendered().then(function(){xa.fill=Oc.Color.black.withA(.7);xa.update()})}}}}}],md,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15362,end:19200})}(Oc.Window));Oc.ColorPicker=Rc;Oc.ColorPicker=Rc;Oc.ColorPicker=Rc}}});
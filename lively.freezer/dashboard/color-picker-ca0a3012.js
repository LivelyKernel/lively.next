System.register(["./__root_module__-db735625.js","./index-2260babb.js"],function(db){var Zb,lc,Uc,Bc,Vd,Od,je,Bd,jd,zd,ge,We,kf,bf,Hd,Ae,uc,wd,ce,Gd,pe,Te,rc,bd,he,cd,ie,ac,Db,Tc,Nc,wc,Vc,hb,zc,Ub,Jc,Wc,Ad,Xd,xc,Pc,sc,Za,Pa,ua,Na,Wa,Vb,Fa,Xa,gc;return{setters:[function(ub){Zb=ub.C;lc=ub.bf;Uc=ub.bg;Bc=ub.bh;Vd=ub.bi;Od=ub.bj;je=ub.bk;Bd=ub.p;jd=ub.ab;zd=ub.bl;ge=ub.bm;We=ub.bn;kf=ub.M;bf=ub.O;Hd=ub.Y;Ae=ub.W;uc=ub.aE;wd=ub.bo;ce=ub.bp;Gd=ub.d;pe=ub.g;Te=ub.n;rc=ub.b;bd=ub.i;he=ub.I;cd=ub.ai;
ie=ub.h;ac=ub.bq;Db=ub.ae;Tc=ub.aA;Nc=ub.br;wc=ub.m;Vc=ub.ah;hb=ub.ad;zc=ub.a6;Ub=ub.a;Jc=ub.f;Wc=ub.c;Ad=ub._;Xd=ub.a2;xc=ub.R;Pc=ub.bs;sc=ub.bt;Za=ub.bu;Pa=ub.ac;ua=ub.o;Na=ub.as;Wa=ub.r},function(ub){Vb=ub.p;Fa=ub.P;Xa=ub.d;gc=ub.N}],execute:function(){var ub=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");ub.Color=Zb;ub.Complementary=lc;ub.Triadic=Uc;ub.Tetradic=Bc;ub.Quadratic=Vd;ub.Analogous=Od;ub.Neutral=je;ub.pt=Bd;ub.Point=jd;ub.flatDesignColors=zd;ub.materialDesignColors=
ge;ub.webSafeColors=We;ub.Morph=kf;ub.Text=bf;ub.Ellipse=Hd;ub.Image=Ae;ub.DropDownSelector=uc;ub.ModeSelector=wd;ub.Slider=ce;ub.connect=Gd;ub.signal=pe;ub.num=Te;ub.arr=rc;ub.WHEEL_URL="/lively.ide/assets/color-wheel.png";ub.duration=200;(function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Wb=ic.hasOwnProperty("ColorPaletteField")&&"function"===typeof ic.ColorPaletteField?ic.ColorPaletteField:ic.ColorPaletteField=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"onHoverIn",value:function(){if(this.color){var $a=$jscomp.makeIterator(this.color.isGradient?ub.Color.blue.toHSB():this.color.toHSB()),ma=$a.next().value,Ta=$a.next().value;$a=$a.next().value;this.borderColor=ub.Color.hsb(ma,1<Ta+.5?Ta-.5:Ta+.5,1<$a+.5?$a-.5:$a+.5)}}},{key:"onHoverOut",value:function(){this.borderColor=ub.Color.transparent}},{key:"onMouseDown",value:function(){ub.signal(this,"updateColor",
this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:ub.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||ub.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||ub.Color.transparent}},styleClasses:{after:["color"],initialize:function(){this.styleClasses=this.color?["colorField"]:["vacantColorField"]}}}}}],
ic,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:525,end:1539})})(ub.Morph);(function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Wb=ic.hasOwnProperty("ColorHarmonyField")&&"function"===typeof ic.ColorHarmonyField?ic.ColorHarmonyField:
ic.ColorHarmonyField=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"onMouseDown",value:function(){ub.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:ub.pt(80,60)},fill:{defaultValue:ub.Color.transparent},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color harmony field"}}},
color:{set:function($a){var ma=$jscomp.makeIterator(this.submorphs),Ta=ma.next().value;ma=ma.next().value;var qb=$jscomp.makeIterator($a?$a.toHSB():[]),ec=qb.next().value,Ic=qb.next().value;qb=qb.next().value;this.setProperty("color",$a);$a&&Ta&&ma&&(Ta.fill=$a,ma.textString=$a.toHexString(),ma.fontColor=ub.Color.hsb(ec,1<Ic+.5?Ic-.5:Ic+.5,1<qb+.5?qb-.5:qb+.5))}},submorphs:{after:["color"],initialize:function(){var $a=$jscomp.makeIterator((this.color||ub.Color.transparent).toHSB()),ma=$a.next().value,
Ta=$a.next().value;$a=$a.next().value;this.submorphs=[new ub.Morph({fill:this.color,extent:ub.pt(80,50)}),new ub.Text({textString:ma.toFixed()+", "+Ta.toFixed(2)+", "+$a.toFixed(2),fill:ub.Color.transparent,fontColor:ub.Color.gray.darker(),bottomLeft:ub.pt(0,50)})]}}}}}],ic,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:1541,end:2933})})(ub.Morph);(function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Wb=ic.hasOwnProperty("HarmonyDisplay")&&"function"===typeof ic.HarmonyDisplay?ic.HarmonyDisplay:ic.HarmonyDisplay=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"update",value:function($a){var ma=$jscomp.makeIterator($a.pivotColor.toHSB()),Ta=ma.next().value,
qb=ma.next().value;ma=ma.next().value;Ta=$a.harmony.chord({hue:Ta,saturation:qb,brightness:ma});Ta.length!=this.submorphs.length?this.submorphs=Ta.map(function(ec){ec=new ub.ColorHarmonyField({color:ec});ub.connect(ec,"updateColor",$a,"color");return ec}):ub.arr.zip(this.submorphs,Ta).forEach(function(ec){var Ic=$jscomp.makeIterator(ec);ec=Ic.next().value;Ic=Ic.next().value;ec.color=Ic})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyDisplay"}}],ic,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2935,end:3513})})(ub.Morph);(function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Wb=ic.hasOwnProperty("PivotColorControl")&&"function"===typeof ic.PivotColorControl?ic.PivotColorControl:ic.PivotColorControl=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"update",value:function($a){this.pivotColor=$a.pivotColor}},{key:"onDrag",value:function($a){var ma=$jscomp.makeIterator(this.pivotColor.toHSB()),Ta=ma.next().value,qb=ma.next().value;ma=ma.next().value;Ta=ub.num.toRadians(Ta);$a=ub.Point.polar(50*qb,Ta).addPt($a.state.dragDelta);Ta=ub.num.toDegrees($a.theta());Ta=0>Ta?Ta+360:Ta;qb=Math.min($a.r()/50,1);this.pivotColor=ub.Color.hsb(Ta,qb,ma)}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:ub.Color.blue},draggable:{defaultValue:!0}}}}],ic,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3515,end:4149})})(ub.Ellipse);(function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
Wb=ic.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof ic.HarmonyVisualizer?ic.HarmonyVisualizer:ic.HarmonyVisualizer=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"update",value:function($a){var ma=$jscomp.makeIterator(this.submorphs).next().value,Ta=this.get("pivot control"),qb=$jscomp.makeIterator($a.pivotColor.toHSB()),ec=qb.next().value,Ic=qb.next().value;qb=qb.next().value;var ud=
ub.num.toRadians(ec);ec=$a.harmony.chord({hue:ec,saturation:Ic,brightness:qb}).map(function(gd){var me=$jscomp.makeIterator(gd.toHSB()),ue=me.next().value;gd=me.next().value;me.next();me=ub.num.toRadians(ue);return ub.Point.polar(50*gd,me)});ma.fill=ub.Color.black.withA(1-qb);Ta.update($a);ma.submorphs.length-1!=ec.length?ma.submorphs=[].concat($jscomp.arrayFromIterable(ec.map(function(gd){return new ub.Ellipse({center:gd,fill:ub.Color.transparent,draggable:!1,borderWidth:1,borderColor:ub.Color.black})})),
[Ta]):(ub.arr.zip(ma.submorphs,ec).forEach(function(gd){var me=$jscomp.makeIterator(gd);gd=me.next().value;if(me=me.next().value)gd.center=me}),Ta.center=ub.Point.polar(50*Ic,ud))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new ub.PivotColorControl({name:"pivot control"})]}]}}}}}],
ic,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4151,end:5613})})(ub.Image);(function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Wb=ic.hasOwnProperty("HarmonyPalette")&&"function"===typeof ic.HarmonyPalette?ic.HarmonyPalette:ic.HarmonyPalette=
function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"update",value:function($a){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=$a.pivotBrightness,this.harmony=$a.harmony,this.get("harmonies").update($a),this.get("harmony visualizer").update($a),this.updateInProgress=!1)}},{key:"harmonyControl",value:function(){var $a,ma,Ta=new ub.Morph({name:"harmonyControl",submorphs:[new ub.HarmonyVisualizer({name:"harmony visualizer"}),
ma=new ub.Slider({min:0,max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),$a=new ub.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new ub.Complementary,Triadic:new ub.Triadic,Tetradic:new ub.Tetradic,Quadratic:new ub.Quadratic,Analogous:new ub.Analogous,Neutral:new ub.Neutral}})]});ub.connect(ma,"value",this,"pivotBrightness");ub.connect($a,"selectedValue",
this,"harmony");return Ta}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new ub.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],initialize:function(){this.submorphs=[new ub.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],ic,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5615,end:7542})})(ub.Morph);var qd=db("C",function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Wb=ic.hasOwnProperty("ColorPalette")&&"function"===typeof ic.ColorPalette?ic.ColorPalette:ic.ColorPalette=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"fadeIntoWorld",value:function($a){bd._get(Object.getPrototypeOf(Wb.prototype),"fadeIntoWorld",this).call(this,$a);this.initPosition=$a;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function($a){"Escape"==$a.key&&this.close()}},{key:"close",value:function($a){$a?this.fadeOut($a):this.remove();ub.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",
extent:ub.pt(400,253),submorphs:[this.solidColorPalette(),new ub.HarmonyPalette({name:"harmony palette",isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var $a=this.get("solidColorPalette"),ma=this.get("paletteView");$a.visible||(ma.submorphs.forEach(function(Ta){return Ta.animate({isLayoutable:!1,visible:!1,duration:200})}),$a.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var $a=this.get("paletteView");this.get("harmony palette").visible||
($a.submorphs.forEach(function(ma){return ma.animate({isLayoutable:!1,visible:!1,duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var $a=new ub.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette","Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});ub.connect($a,"Color Palette",this,"selectSolidMode");ub.connect($a,"Color Harmonies",this,"selectHarmonyMode");
return $a}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var $a=this.getColorsFor(this.colorPalette),ma=$a.colors,Ta=$a.mod;return this.cachedPalette[$a.name]||this.getPalette(ma,Ta)}},{key:"getPalette",value:function($a,ma){var Ta=this,qb=Math.max(Math.ceil($a.length/ma),15),ec=qb*this.colorFieldWidth,Ic=
ma*this.colorFieldWidth;$a=[].concat($jscomp.arrayFromIterable($a),$jscomp.arrayFromIterable(ub.arr.withN(qb*ma-$a.length,null)));return{extent:ub.pt(ec,Ic),name:"paletteContainer",submorphs:$a.map(function(ud){ud=new ub.ColorPaletteField({color:ud&&ub.Color.rgbHex(ud),extent:ub.pt(Ta.colorFieldWidth,Ta.colorFieldWidth)});ub.connect(ud,"updateColor",Ta,"color");return ud})}}},{key:"switchPalette",value:function($a){var ma=$a.name,Ta=$a.colors;$a=$a.mod;var qb=this.get("solidColorPalette"),ec=$jscomp.makeIterator(qb.submorphs);
ec.next();ec=ec.next().value;this.cachedPalette[ma]=this.cachedPalette[ma]||this.getPalette(Ta,$a,ma);qb.submorphs=[this.cachedPalette[ma],ec]}},{key:"getPaletteDescription",value:function($a){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",custom:"Your personal set of customly defined colors.",
materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[$a]}},{key:"updatePaletteDescription",
value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function($a){return Object.assign({name:$a},{flatDesign:{colors:ub.flatDesignColors,mod:11},materialDesign:{colors:ub.materialDesignColors,mod:15},webSafe:{colors:ub.webSafeColors,mod:12}}[$a])}},{key:"paletteConfig",value:function(){var $a,ma={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[$a=new ub.DropDownSelector({isHaloItem:!0,name:"paletteSelector",
selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};ub.connect($a,"selectedValue",this,"colorPalette");return ma}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:ub.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function($a){this.setProperty("colorPalette",
$a);this.switchPalette(this.getColorsFor($a));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function($a){this.setProperty("pivotColor",$a);this.get("harmony palette").update(this)}},color:{set:function($a){this.setProperty("color",$a);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var $a=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());$a.next();$a.next();return $a.next().value},
set:function($a){var ma=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),Ta=ma.next().value;ma=ma.next().value;this.pivotColor=ub.Color.hsb(Ta,ma,$a)}},harmony:{after:["submorphs","pivotColor"],defaultValue:new ub.Complementary,set:function($a){this.setProperty("harmony",$a);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var $a=
$jscomp.makeIterator((this.color.isGradient?ub.Color.blue:this.color).toHSB()),ma=$a.next().value,Ta=$a.next().value;$a.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=ub.Color.hsb(ma,Ta,1);ub.connect(this.get("harmony palette"),"harmony",this,"harmony");ub.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");ub.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],
ic,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:7608,end:15438})}(ub.Morph));ub.ColorPalette=qd;ub.ColorPalette=qd;ub.ColorPalette=qd;var fc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");fc.Morph=kf;fc.Icon=he;fc.ProportionalLayout=cd;fc.config=ie;
fc.Text=bf;fc.ShadowObject=ac;fc.GridLayout=Db;fc.TilingLayout=Tc;fc.StyleSheet=Nc;fc.morph=wc;fc.HorizontalLayout=Vc;fc.VerticalLayout=hb;fc.KeyHandler=zc;fc.connect=Gd;fc.signal=pe;fc.arr=rc;fc.promise=Ub;fc.fun=Jc;fc.string=Wc;fc.obj=Ad;fc.Color=Zb;fc.rect=Xd;fc.Rectangle=xc;fc.pt=Bd;fc.popovers=Vb;fc.ModeSelector=wd;fc.DropDownSelector=uc;fc.SearchField=Pc;fc.CheckBox=sc;fc.Popover=Fa;fc.SvgStyleHalo=Xa;fc.NumberWidget=gc;fc.Icons=Za;fc.duration=200;var Ud=db("c",fc.colorWidgets||{});fc.colorWidgets=
Ud;fc.colorWidgets=Ud;fc.colorWidgets=Ud;(function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Wb=ic.hasOwnProperty("SelectableControl")&&"function"===typeof ic.SelectableControl?ic.SelectableControl:ic.SelectableControl=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"select",value:function($a){var ma=this,Ta,qb,ec;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ic){if(1==
Ic.nextAddress)return ma.target?Ic.yield(ma.target.execCommand($a),2):Ic.return();Ta=Ic.yieldResult;qb=ma.get("modeSelector");Ta.opacity=0;ma.lastLabel&&(ec=qb.submorphs.indexOf(ma.lastLabel)<qb.submorphs.indexOf(qb.currentLabel),Ta.topLeft=qb.bottomLeft.addXY(ec?20:-20,10));ma.lastLabel=qb.currentLabel;ma.animate({submorphs:[qb,Ta],duration:fc.duration});Ta.animate({opacity:1,duration:fc.duration});Ic.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SelectableControl"}},
{key:"properties",get:function(){return{target:{type:"Morph"},selectableControls:{},selectedControl:{},fill:{defaultValue:fc.Color.transparent},layout:{initialize:function(){this.layout=new fc.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function($a){return this.container.submorphs.indexOf($a)}})}},submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var $a=new fc.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});
this.submorphs=[$a];$a.width=100;fc.connect($a,"switchLabel",this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],ic,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:948,end:2579})})(fc.Morph);(function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
Wb=ic.hasOwnProperty("ToggledControl")&&"function"===typeof ic.ToggledControl?ic.ToggledControl:ic.ToggledControl=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"toggle",value:function($a){var ma=$jscomp.makeIterator(this.submorphs).next().value,Ta=this.toggledControl($a);ma=[ma].concat($jscomp.arrayFromIterable(Ta?[Ta]:[]));fc.signal(this,"update",$a&&Ta.value);Ta&&(Ta.opacity=0);this.animate({submorphs:ma,
duration:fc.duration});Ta&&Ta.animate({opacity:1,duration:fc.duration})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:fc.Color.transparent},layout:{initialize:function(){this.layout=new fc.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var $a=new fc.CheckBox({checked:this.checked});this.submorphs=
[{fill:fc.Color.transparent,layout:new fc.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:fc.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},$a]}];this.toggle(this.checked);fc.connect($a,"toggle",this,"toggle")}}}}}],ic,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2581,end:4273})})(fc.Morph);(function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Wb=ic.hasOwnProperty("StylePopover")&&"function"===typeof ic.StylePopover?ic.StylePopover:ic.StylePopover=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"setupConnections",value:function(){}},{key:"controls",
value:function(){return[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=fc.morph({layout:new fc.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:fc.Color.transparent,submorphs:this.controls()});this.setupConnections()}}}}}],ic,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4275,end:4825})})(fc.Popover);var td=function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Wb=ic.hasOwnProperty("IconPopover")&&"function"===typeof ic.IconPopover?ic.IconPopover:ic.IconPopover=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"onDrop",value:function($a){var ma=this;$a.hand.grabbedMorphs.find(function(Ta){return Ta===
ma.iconLabel})&&($a.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new fc.VerticalLayout({spacing:4}),fill:fc.Color.transparent,submorphs:[new fc.SearchField({name:"searchInput",width:200,placeHolder:"Search Icons"}),fc.morph({textAndAttributes:this.iconAsTextAttributes(),name:"iconList",draggable:!0,type:"text",extent:fc.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var $a=
this.ui,ma=$a.iconList;fc.connect($a.searchInput,"searchInput",this,"filterIcons");fc.connect(ma,"onMouseUp",this,"iconSelectClick");fc.connect(ma,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",value:function($a){$a=this.ui.iconList.textPositionFromPoint($a.positionIn(this.ui.iconList));$a=this.iconAtTextPos($a);this.iconLabel=fc.Icon.makeLabel($a,{fontSize:this.ui.iconList.fontSize,name:$a});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",
value:function($a){var ma=Object.keys(fc.Icons);$a&&(ma=ma.filter($a));return fc.arr.flatmap(ma,function(Ta,qb){return[fc.Icons[Ta].code,{iconCode:fc.Icons[Ta].code,iconName:Ta}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",value:function(){var $a=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ma){if(1==ma.nextAddress)return ma.yield(fc.promise.delay(250),2);fc.fun.debounceNamed("filterIcons",200,function(){$a.ui.iconList.textAndAttributes=$a.iconAsTextAttributes(function(Ta){return $a.ui.searchInput.matches(Ta.toLowerCase())})})();
ma.jumpToEnd()})}},{key:"iconSelectClick",value:function($a){$a=this.ui.iconList.textPositionFromPoint($a.positionIn(this.ui.iconList));$a=this.iconAtTextPos($a);this.setStatusMessage($a);fc.signal(this,"select",$a)}},{key:"iconAtTextPos",value:function($a){var ma=$a.row;$a=$a.column;--$a;for(var Ta=this.ui.iconList,qb=Ta.textAndAttributesInRange({start:{row:ma,column:Math.max(0,$a)},end:{row:ma,column:$a+2}});qb.length&&!qb[1].iconName;)$a++,qb=qb.slice(2);var ec={start:{row:ma,column:$a},end:{row:ma,
column:$a+1}};Ta.addTextAttribute({backgroundColor:Ta.selectionColor.darker().withA(.5)},ec);fc.promise.delay(1E3).then(function(){return Ta.addTextAttribute({backgroundColor:fc.Color.transparent},ec)});return qb.length?qb[1].iconName:null}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"IconPopover"}},{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:fc.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),
iconList:this.get("iconList")}}}}}}],ic,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4834,end:8444})}(fc.StylePopover);fc.IconPopover=td;fc.IconPopover=td;fc.IconPopover=td;td=function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Wb=ic.hasOwnProperty("LayoutPopover")&&
"function"===typeof ic.LayoutPopover?ic.LayoutPopover:ic.LayoutPopover=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"getLayoutObjects",value:function(){return[null,new fc.HorizontalLayout({autoResize:!1}),new fc.VerticalLayout({autoResize:!1}),new fc.TilingLayout,new fc.ProportionalLayout,new fc.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){bd._get(Object.getPrototypeOf(Wb.prototype),
"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:fc.Color.transparent,layout:new fc.VerticalLayout({spacing:5,layoutOrder:function($a){return this.container.submorphs.indexOf($a)}}),submorphs:[this.layoutPicker(),this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),
duration:300}:{isLayoutable:!1,extent:fc.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function($a){this.clearLayoutHalo();$a&&$a.layout&&(this.layoutHalo=($a.world()||$a.env.world).showLayoutHaloFor($a))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function($a){return $a?$a.name()+" Layout":
"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function($a){this.container.animate({layout:$a});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());fc.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var $a=this,ma=this.getLayoutObjects().map(function(Ta){var qb={};return qb[$a.getLayoutName(Ta)]=Ta,qb});ma=this.get("Layout Type")||new fc.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return $a.getCurrentLayoutName()},
selectedValue:this.container.layout,values:fc.obj.merge(ma)});fc.connect(ma,"selectedValue",this,"applyLayout");return ma}},{key:"layoutControls",value:function(){return{name:"controlContainer",fill:fc.Color.transparent,layout:new fc.VerticalLayout,isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:fc.Color.gray.lighter()}}}}],
ic,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:8453,end:11240})}(fc.StylePopover);fc.LayoutPopover=td;fc.LayoutPopover=td;fc.LayoutPopover=td;td=function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Wb=ic.hasOwnProperty("FillPopover")&&
"function"===typeof ic.FillPopover?ic.FillPopover:ic.FillPopover=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"openHandle",value:function($a){$a.openInWorld();this.openHandles.push($a)}},{key:"close",value:function(){bd._get(Object.getPrototypeOf(Wb.prototype),"close",this).call(this);this.openHandles.forEach(function($a){return $a.remove()})}},{key:"setupConnections",value:function(){var $a=
this.ui,ma=$a.fillSelector,Ta=$a.colorField;$a=$a.gradientEditor;ma&&fc.connect(this,"fillValue",ma,"value");$a&&(fc.connect($a,"gradientValue",this,"fillValue"),fc.connect($a,"openHandle",this,"openHandle"));Ta&&(fc.connect(this,"close",Ta,"remove"),fc.connect(Ta,"update",this,"fillValue"),fc.connect(this,"onMouseDown",Ta,"removeWidgets"))}},{key:"commands",get:function(){var $a=this;return bd._get(Object.getPrototypeOf(Wb.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var ma=
new fc.colorWidgets.ColorPickerField({name:"colorField",colorValue:$a.fillValue.isGradient?fc.Color.blue:$a.fillValue});ma.whenRendered().then(function(){$a.setupConnections()});return ma}},{name:"switch to gradient",exec:function(){var ma=new fc.colorWidgets.GradientEditor({name:"gradient editor",gradientValue:$a.fillValue});ma.whenRendered().then(function(){$a.setupConnections();$a.handleMorph&&ma.showGradientHandlesOn($a.handleMorph);ma.update()});return ma}}])}},{key:"controls",value:function(){var $a=
this;if(!this.gradientEnabled){var ma=new fc.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue});ma.whenRendered().then(function(){ma.update($a.fillValue)});return[{fill:fc.Color.transparent,layout:new fc.VerticalLayout({spacing:0}),submorphs:[ma]}]}return[new fc.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},fillValue:{defaultValue:fc.Color.blue},popoverColor:{defaultValue:fc.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],ic,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:11249,end:14234})}(fc.StylePopover);fc.FillPopover=td;fc.FillPopover=td;fc.FillPopover=td;var fd=db("S",function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Wb=ic.hasOwnProperty("ShadowPopover")&&"function"===typeof ic.ShadowPopover?ic.ShadowPopover:ic.ShadowPopover=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"controls",value:function(){var $a=this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",ma=[{layout:new fc.VerticalLayout({resizeContainer:!0,spacing:5}),fill:fc.Color.transparent,name:"control container",submorphs:[$a=new fc.DropDownSelector({name:"shadow type",borderRadius:2,padding:3,selectedValue:$a,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?
this.shadowControls():[])}];fc.connect($a,"selectedValue",this,"changeShadowType");return ma}},{key:"shadowControls",value:function(){var $a=this.shadowValue,ma=new fc.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:$a.distance,unit:"px"}),Ta=new fc.NumberWidget({name:"angleSlider",min:0,max:360,number:$a.rotation,autofit:!1}),qb=new fc.NumberWidget({name:"spreadSlider",min:0,number:$a.spread,autofit:!1}),ec=new fc.NumberWidget({name:"blurSlider",min:0,number:$a.blur,autofit:!1});$a=new fc.colorWidgets.ColorPickerField({name:"colorPicker",
colorValue:$a.color});fc.connect($a,"colorValue",this,"updateShadow",{converter:function(Ic){return{color:Ic}}});fc.connect(this,"onMouseDown",$a,"removeWidgets");fc.connect(this,"close",$a,"remove");fc.connect(qb,"update",this,"updateShadow",{converter:function(Ic){return{spread:Ic}}});fc.connect(ma,"update",this,"updateShadow",{converter:function(Ic){return{distance:Ic}}});fc.connect(ec,"update",this,"updateShadow",{converter:function(Ic){return{blur:Ic}}});fc.connect(Ta,"update",this,"updateShadow",
{converter:function(Ic){return{rotation:Ic}}});return new fc.Morph({layout:new fc.GridLayout({autoAssign:!1,fitToCell:!1,columns:[0,{paddingLeft:1}],rows:fc.arr.flatten(fc.arr.range(0,3).map(function(Ic){return[Ic,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",null,"distanceSlider"],["blurLabel",null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:fc.Color.transparent,submorphs:fc.arr.flatten([["distance",
ma],["spread",qb],["blur",ec],["angle",Ta],["color",$a]].map(function(Ic){var ud=$jscomp.makeIterator(Ic);Ic=ud.next().value;ud=ud.next().value;return[{type:"label",styleClasses:["controlName"],value:fc.string.capitalize(Ic)+":",name:Ic+"Label"},ud]}))})}},{key:"changeShadowType",value:function($a){"No Shadow"==$a?this.toggleShadow(!1):"Inset Shadow"==$a?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?
this.shadowControls():[]),duration:300})}},{key:"updateShadow",value:function($a){var ma=this.shadowValue;$a=Object.assign({fast:ma.fast,color:ma.color,spread:ma.spread,blur:ma.blur,distance:ma.distance,rotation:ma.rotation,inset:ma.inset},$a);this.shadowValue=new fc.ShadowObject($a)}},{key:"toggleShadow",value:function($a){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=$a&&this.cachedShadow}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowPopover"}},
{key:"properties",get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new fc.ShadowObject({fast:!0})},popoverColor:{defaultValue:fc.Color.gray.lighter()}}}}],ic,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:14243,end:18677})}(fc.StylePopover));fc.ShadowPopover=fd;
fc.ShadowPopover=fd;fc.ShadowPopover=fd;fc.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";fd=function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Wb=ic.hasOwnProperty("PointPopover")&&"function"===typeof ic.PointPopover?ic.PointPopover:ic.PointPopover=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"refineResolution",
value:function($a){this.resolution=.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function($a){this.pointValue=this.pointValue.addPt($a.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){bd._get(Object.getPrototypeOf(Wb.prototype),"relayout",this).call(this);var $a=this.getSubmorphNamed("mesh"),ma=this.getSubmorphNamed("point value view");$a.origin=$a.innerBounds().center().addXY(4,1);$a.position=this.get("body").innerBounds().center();
$a.scale=this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";ma.value=fc.obj.safeToString(this.pointValue);ma.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function($a){var ma=this;bd._get(Object.getPrototypeOf(Wb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,$a);this.whenRendered().then(function(){return ma.relayout()})}},{key:"calibrate",value:function(){var $a=
this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ma){if(1==ma.nextAddress)return $a.get("knob").animate({center:$a.innerBounds().center(),duration:200}),ma.yield($a.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);$a.relayout();ma.jumpToEnd()})}},{key:"showPointValue",value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},{key:"controls",value:function(){this.extent=fc.pt(200,200);var $a,ma,Ta=[fc.morph({extent:fc.pt(200,
200),clipMode:"hidden",fill:fc.Color.transparent,submorphs:[{type:"image",name:"mesh",fill:fc.Color.transparent,opacity:.5,imageUrl:fc.milimeter,autoResize:!0},{extent:fc.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:fc.Color.gray},fill:fc.Color.transparent},$a=fc.morph({name:"scroller",extent:fc.pt(200,200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),ma=fc.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:fc.Color.red,borderColor:fc.Color.black,
borderWidth:1,center:fc.pt(100,100),draggable:!0}),{type:"label",name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:fc.pt(10,10),type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];$a.scroll=fc.pt(0,120);fc.connect(ma,"onDragStart",this,"showPointValue");fc.connect(ma,"onDrag",this,"adjustPoint");fc.connect(ma,"onDragEnd",this,"calibrate");fc.connect(this,"extent",this,"relayout");fc.connect($a,"onScroll",this,"refineResolution");return Ta}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"PointPopover"}},{key:"properties",get:function(){return{pointValue:{defaultValue:fc.pt(0,0)},resolution:{defaultValue:1}}}}],ic,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:18792,end:21996})}(fc.StylePopover);fc.PointPopover=fd;fc.PointPopover=fd;fc.PointPopover=
fd;fd=function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Wb=ic.hasOwnProperty("RectanglePopover")&&"function"===typeof ic.RectanglePopover?ic.RectanglePopover:ic.RectanglePopover=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"controls",value:function(){var $a=this;return[{fill:fc.Color.transparent,extent:fc.pt(120,120),layout:new fc.GridLayout({grid:[["top",
"top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],columns:[0,{paddingLeft:4},1,{paddingRight:4,fixed:!0,width:60}],rows:fc.arr.flatten(fc.arr.range(0,3).map(function(ma){return[ma,{paddingTop:0==ma?4:2,paddingBottom:3==ma?4:2}]}))}),submorphs:fc.arr.flatten(["top","right","bottom","left"].map(function(ma){var Ta=new fc.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},name:ma+" scrubber",autofit:!1,number:$a.rectangle.partNamed(ma)});
fc.connect(Ta,"update",$a,"rectangle",{updater:function(qb,ec){var Ic=this.targetObj.rectangle,ud={};ec=(ud.left=Ic.left(),ud.top=Ic.top(),ud.right=Ic.right(),ud.bottom=Ic.bottom(),ud[ma]=ec,ud);qb(fc.Rectangle.inset(ec.left,ec.top,ec.right,ec.bottom))},varMapping:{side:ma,Rectangle:fc.Rectangle}});return[{type:"label",styleClasses:["controlName"],name:ma,value:ma,padding:3},Ta]}))}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RectanglePopover"}},{key:"properties",get:function(){return{popoverColor:{defaultValue:fc.Color.gray.lighter()},
rectangle:{defaultValue:fc.rect(0)}}}}],ic,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:22005,end:23989})}(fc.StylePopover);fc.RectanglePopover=fd;fc.RectanglePopover=fd;fc.RectanglePopover=fd;fd=function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
Wb=ic.hasOwnProperty("TextPopover")&&"function"===typeof ic.TextPopover?ic.TextPopover:ic.TextPopover=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"controls",value:function(){var $a=new fc.Text(Object.assign({name:"editor",extent:fc.pt(300,200),textString:this.text,lineWrapping:"by-chars"},fc.config.codeEditor.defaultStyle));return[{layout:new fc.HorizontalLayout,fill:fc.Color.transparent,borderColor:fc.Color.gray,
borderWidth:1,borderRadius:4,clipMode:"hidden",submorphs:[$a]}]}},{key:"commands",get:function(){return bd._get(Object.getPrototypeOf(Wb.prototype),"commands",this).concat([{name:"save string",exec:function($a){return $jscomp.asyncExecutePromiseGeneratorProgram(function(ma){$a.text=$a.get("editor").textString;fc.signal($a,"save",$a.text);$a.setStatusMessage("String saved!",fc.Color.green);ma.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return bd._get(Object.getPrototypeOf(Wb.prototype),"keybindings",
this).concat([{keys:{mac:"Command-S",win:"Ctrl-S"},command:"save string"}])}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],ic,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},
{start:23998,end:25073})}(fc.StylePopover);fc.TextPopover=fd;fc.TextPopover=fd;fc.TextPopover=fd;Object.assign(fc.popovers,{FillPopover:fc.FillPopover,IconPopover:fc.IconPopover,RectanglePopover:fc.RectanglePopover,ShadowPopover:fc.ShadowPopover,PointPopover:fc.PointPopover,LayoutPopover:fc.LayoutPopover});var Xb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");Xb.Morph=kf;Xb.morph=wc;Xb.StyleSheet=Nc;Xb.Text=bf;Xb.Icon=he;Xb.VerticalLayout=hb;Xb.GridLayout=Db;Xb.HorizontalLayout=
Vc;Xb.pt=Bd;Xb.Rectangle=xc;Xb.Color=Zb;Xb.LinearGradient=Pa;Xb.rect=Xd;Xb.signal=pe;Xb.once=ua;Xb.connect=Gd;Xb.obj=Ad;Xb.num=Te;Xb.Window=Na;Xb.ColorPalette=qd;Xb.FillPopover=td;Xb.colorWidgets=Ud;Xb.Slider=ce;Xb.Popover=Fa;Xb.resource=Wa;Xb.WHEEL_URL="/lively.ide/assets/color-wheel.png";qd=function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Wb=ic.hasOwnProperty("ColorPickerField")&&"function"===typeof ic.ColorPickerField?ic.ColorPickerField:ic.ColorPickerField=
function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"spec",value:function(){return Xb.obj.dissoc(bd._get(Object.getPrototypeOf(Wb.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function($a){"Escape"==$a.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,
duration:300})}},{key:"onHoverOut",value:function(){this.get("dropDownIndicator").animate({opacity:0,duration:300})}},{key:"update",value:function($a){this._updating=!0;var ma=this.submorphs[1];this.colorValue=$a;this.get("topLeft").fill=$a;this.get("bottomRight").fill=$a.isGradient?Xb.Color.transparent:$a.withA(1);ma.visible=ma.isLayoutable=!this.gradientEnabled;this.gradientEnabled?this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=
this.get("topLeft").width=Math.max(1,this.width-ma.width);this.get("bottomRight").left=0;this.get("dropDownIndicator").right=this.get("paletteButton").width-5;this._updating=!1}},{key:"openPicker",value:function($a){var ma=this,Ta,qb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ec){if(1==ec.nextAddress)return(Ta=ma.picker)?ec.jumpTo(2):ec.yield(Xb.resource("part://SystemWidgets/new color picker").read(),3);2!=ec.nextAddress&&(Ta=ec.yieldResult);qb=Ta;qb.solidOnly=!ma.gradientEnabled;
qb.hasFixedPosition=!0;qb.focusOnMorph(ma.context,ma.colorValue);qb.toggleHalos(!1);qb.position=Xb.pt(0,-qb.height/2);Xb.connect(qb,"value",ma,"update");ma.picker=qb.openInWorld();ma.picker.topLeft=ma.globalBounds().bottomCenter();ma.picker.topLeft=ma.world().visibleBounds().translateForInclusion(ma.picker.globalBounds()).topLeft();ec.jumpToEnd()})}},{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function($a){var ma=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ta){ma.openPicker($a);
Ta.jumpToEnd()})}},{key:"removeWidgets",value:function(){this.removePicker()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,after:["colorValue"],set:function($a){this.setProperty("gradientEnabled",$a);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new Xb.FillPopover({fillValue:this.colorValue})}},testProp:{get:function(){return[42]}},palette:{serialize:!1,
get:function(){return this._palette||(this._palette=new Xb.Popover({position:Xb.pt(0,0),name:"Color Palette",targetMorph:new Xb.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function($a){$a&&($a.isColor||$a.isGradient)||($a=Xb.Color.blue);if(!this._updating)return this.update($a);this.setProperty("colorValue",$a)},get:function(){return this.getProperty("colorValue")||Xb.Color.white}},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color field"}}},
submorphs:{initialize:function(){this.innerBounds().topRight();this.innerBounds().bottomLeft();var $a=Xb.pt(40,25);this.submorphs=[{extent:$a,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:$a},{name:"bottomRight",type:"polygon",extent:$a,origin:Xb.pt(0,0),vertices:[Xb.pt(0,0),$a.withX(0),$a]},Xb.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:Xb.pt(30,12.5)})]},{fill:Xb.Color.transparent,extent:Xb.pt(25,25),onHoverIn:function(){this.fill=Xb.Color.black.withA(.2)},
onHoverOut:function(){this.fill=Xb.Color.transparent},submorphs:[{name:"pickerButton",type:"image",autoResize:!1,imageUrl:Xb.WHEEL_URL}]}];Xb.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",this,"openPicker");Xb.connect(this.getSubmorphNamed("paletteButton"),"onMouseDown",this,"openPalette");Xb.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],ic,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:689,end:5910})}(Xb.Morph);Xb.ColorPickerField=qd;Xb.ColorPickerField=qd;Xb.ColorPickerField=qd;Xb.colorWidgets.ColorPickerField=Xb.ColorPickerField;(function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Wb=ic.hasOwnProperty("FieldPicker")&&"function"===typeof ic.FieldPicker?ic.FieldPicker:ic.FieldPicker=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"confirm",value:function(){Xb.signal(this,"shadeChanged",[this.brightness,this.saturation])}},{key:"update",value:function($a){var ma=$jscomp.makeIterator($a.color.toHSB());$a=ma.next().value;var Ta=ma.next().value;ma=ma.next().value;this.getSubmorphNamed("hue").fill=Xb.Color.hsb($a,1,1);this.brightness=ma;this.saturation=Ta;this.refresh()}},{key:"refresh",value:function(){this.get("picker").center=this.pickerPosition}},
{key:"onMouseDown",value:function($a){this.pickerPosition=$a.positionIn(this);this.confirm()}},{key:"onDrag",value:function($a){this.pickerPosition=$a.positionIn(this);this.confirm()}},{key:"relayout",value:function(){var $a=this.innerBounds();this.getSubmorphNamed("hue").setBounds($a);this.getSubmorphNamed("shade").setBounds($a);this.getSubmorphNamed("light").setBounds($a)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:Xb.Color.transparent},
saturation:{defaultValue:0},brightness:{defaultValue:0},draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var $a=this.saturation,ma=this.brightness;return void 0===$a||void 0===ma?Xb.pt(0,0):Xb.pt(this.getSubmorphNamed("hue").width*$a,this.getSubmorphNamed("hue").height*(1-ma))},set:function($a){var ma=$a.x;$a=$a.y;var Ta=this.getSubmorphNamed("hue"),qb=Ta.height;this.saturation=Xb.num.clamp(ma/Ta.width,0,1);this.brightness=Xb.num.clamp(1-
$a/qb,0,1);this.refresh()}},submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new Xb.LinearGradient({stops:[{color:Xb.Color.white,offset:0},{color:Xb.Color.transparent,offset:1}],vector:"eastwest"})},{borderRadius:3,name:"light",reactsToPointer:!1,fill:new Xb.LinearGradient({stops:[{color:Xb.Color.black,offset:0},{color:Xb.Color.transparent,offset:1}],vector:"southnorth"})},{name:"picker",type:"ellipse",
reactsToPointer:!1,fill:Xb.Color.transparent,borderColor:Xb.Color.black,borderWidth:3,extent:Xb.pt(16,16),submorphs:[{type:"ellipse",fill:Xb.Color.transparent,borderColor:Xb.Color.white,reactsToPointer:!1,borderWidth:3,center:Xb.pt(8,8),extent:Xb.pt(12,12)}]}];Xb.connect(this,"extent",this,"relayout")}}}}}],ic,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5964,end:9331})})(Xb.Morph);(function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Wb=ic.hasOwnProperty("ColorPropertyView")&&"function"===typeof ic.ColorPropertyView?ic.ColorPropertyView:ic.ColorPropertyView=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=
["key"].concat($jscomp.arrayFromIterable(this.readOnly?[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=[!this.readOnly&&"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function($a){"Enter"!=$a.keyCombo||this.readOnly?bd._get(Object.getPrototypeOf(Wb.prototype),
"onKeyDown",this).call(this,$a):(this.owner.focus(),$a.stop(),Xb.signal(this,"updateValue",this.value))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},value:{derived:[!0],set:function($a){this.textString=Xb.obj.safeToString($a)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:Xb.Color.gray.darker()}}}}],
ic,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:9340,end:10510})})(Xb.Text);(function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Wb=ic.hasOwnProperty("HuePicker")&&"function"===typeof ic.HuePicker?ic.HuePicker:ic.HuePicker=function($a){$a&&
$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"confirm",value:function(){Xb.signal(this,"hueChanged",this.hue)}},{key:"onMouseDown",value:function($a){var ma=this.get("slider").width;this.sliderPosition=Xb.pt(0,$a.positionIn(this).y-ma/2);this.confirm()}},{key:"onDrag",value:function($a){var ma=this.get("slider").width;this.sliderPosition=Xb.pt(0,$a.positionIn(this).y-ma/2);this.confirm()}},{key:"update",value:function($a){this.hue=
$a.hsb[0];this.refresh()}},{key:"refresh",value:function(){this.get("slider").center=this.sliderPosition}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new Xb.LinearGradient({stops:[{color:Xb.Color.rgb(255,0,0),offset:0},{color:Xb.Color.rgb(255,255,0),offset:.17},{color:Xb.Color.limeGreen,offset:.33},{color:Xb.Color.cyan,offset:.5},{color:Xb.Color.blue,offset:.66},{color:Xb.Color.magenta,offset:.83},{color:Xb.Color.rgb(255,
0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return Xb.pt(this.width/2,5+this.hue/360*(this.height-10))},set:function($a){this.hue=Math.max(0,Math.min($a.y/(this.height-10)*360,359));this.refresh()}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:Xb.Color.black,fill:Xb.Color.transparent,
borderWidth:2}]}}}}}],ic,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:10512,end:12485})})(Xb.Morph);(function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Wb=ic.hasOwnProperty("ColorDetails")&&"function"===typeof ic.ColorDetails?ic.ColorDetails:
ic.ColorDetails=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"update",value:function($a){$a=$a.color;var ma=$jscomp.makeIterator($a.toTuple8Bit()),Ta=ma.next().value,qb=ma.next().value;ma=ma.next().value;var ec=$jscomp.makeIterator($a.toHSB()),Ic=ec.next().value,ud=ec.next().value;ec=ec.next().value;var gd=this.get("hashViewer");this.get("colorViewer").fill=$a;gd.replace(gd.documentRange,$a.toHexString(),
!1,!1);this.get("R").value="R "+Ta.toFixed(0)+"\n\nG "+qb.toFixed(0)+"\n\nB "+ma.toFixed(0)+"\n\nH "+Ic.toFixed(0)+"\n\nS "+ud.toFixed(2)+"\n\nV "+ec.toFixed(2)}},{key:"onHashViewerChanged",value:function($a){$a=Xb.Color.rgbHex($a);this.owner.owner.color=$a}},{key:"keyValue",value:function($a){var ma=$a.name,Ta=$a.key,qb=$a.value,ec=$a.update;$a=$a.editable;return new Xb.Morph({fill:Xb.Color.transparent,layout:new Xb.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",styleClasses:[$a&&
"large","key"],value:Ta},new Xb.ColorPropertyView({name:ma||Ta,readOnly:!$a,value:qb,update:ec})]})}},{key:"hashViewer",value:function(){var $a=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});Xb.connect($a.get("hashViewer"),"updateValue",this,"onHashViewerChanged");return $a}},{key:"rgbViewer",value:function(){var $a=$jscomp.makeIterator(this.color.toTuple8Bit()),ma=$a.next().value,Ta=$a.next().value;$a=$a.next().value;return new Xb.Morph({name:"rgbViewer",fill:Xb.Color.transparent,
submorphs:[this.keyValue({key:"R",value:ma.toFixed()}),this.keyValue({key:"G",value:Ta.toFixed()}),this.keyValue({key:"B",value:$a.toFixed()})]})}},{key:"hsbViewer",value:function(){var $a=$jscomp.makeIterator(this.color.toHSB()),ma=$a.next().value,Ta=$a.next().value;$a=$a.next().value;return new Xb.Morph({name:"hsbViewer",fill:Xb.Color.transparent,submorphs:[this.keyValue({key:"H",value:ma.toFixed()}),this.keyValue({key:"S",value:Ta.toFixed(2)}),this.keyValue({key:"V",value:$a.toFixed(2)})]})}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorDetails"}},{key:"properties",get:function(){return{color:{defaultValue:Xb.Color.blue},width:{defaultValue:80},fill:{defaultValue:Xb.Color.transparent},layout:{initialize:function(){this.layout=new Xb.VerticalLayout({spacing:9,layoutOrder:function($a){return this.container.submorphs.indexOf($a)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:Xb.pt(50,50),name:"colorViewer",fill:this.color},
this.hashViewer(),{type:"label",name:"R",autofit:!0,padding:Xb.rect(10,0,0,0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],ic,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12494,end:15269})})(Xb.Morph);qd=db("a",function(Me){var ic=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),
Wb=ic.hasOwnProperty("ColorPicker")&&"function"===typeof ic.ColorPicker?ic.ColorPicker:ic.ColorPicker=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(Wb,Me,[{key:"onKeyDown",value:function($a){"Escape"==$a.key&&this.close()}},{key:"close",value:function(){bd._get(Object.getPrototypeOf(Wb.prototype),"close",this).call(this);Xb.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&
(this.get("header").fill=Xb.Color.transparent,this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),Xb.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var $a=this.colorDetails(),ma=this.fieldPicker(),Ta=this.huePicker(),qb=this.alphaSlider();$a=new Xb.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[ma,Ta,$a,qb]});Xb.connect(ma,
"brightness",this,"brightness");Xb.connect(ma,"saturation",this,"saturation");Xb.connect(Ta,"hue",this,"hue");return $a}},{key:"alphaSlider",value:function(){var $a,ma=Xb.morph({name:"alphaSlider",fill:Xb.Color.transparent,layout:new Xb.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:Xb.Rectangle.inset(3),value:"Alpha",fontColor:Xb.Color.gray,fontWeight:"bold"},$a=new Xb.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});Xb.connect($a,"value",this,"alpha");return ma}},
{key:"fieldPicker",value:function(){return new Xb.FieldPicker({name:"field picker",saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new Xb.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new Xb.ColorDetails({name:"details",color:this.color})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:Xb.pt(400,320)},fill:{defaultValue:Xb.Color.black.withA(.7)},
isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},hasFixedPosition:{defaultValue:!0},color:{defaultValue:Xb.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return Xb.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function($a){var ma=$jscomp.makeIterator($a.toHSB()),Ta=ma.next().value,qb=ma.next().value;ma=ma.next().value;this.hue=Ta;this.saturation=qb;this.brightness=ma;this.alpha=$a.a}},alpha:{set:function($a){this.setProperty("alpha",$a);
this.update()}},saturation:{},brightness:{set:function($a){this.setProperty("brightness",$a);this.update()}},hue:{set:function($a){this.setProperty("hue",$a);this.update()}},targetMorph:{initialize:function(){var $a=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=Xb.Color.gray;this.ui.header.fill=Xb.Color.transparent;this.whenRendered().then(function(){$a.fill=Xb.Color.black.withA(.7);$a.update()})}}}}}],ic,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15278,end:19116})}(Xb.Window));Xb.ColorPicker=qd;Xb.ColorPicker=qd;Xb.ColorPicker=qd}}});
System.register(["./__root_module__-7cbd94df.js","./index-a563870d.js"],function(Da){var Ab,Rb,jc,cc,je,fd,Yd,jd,Pc,vd,Ld,ge,Td,md,Za,Db,ac,ic,gd,fe,Yb,qc,Ob,Hc,Yc,cd,$b,pb,xc,Lc,Ga,Ra,rb,Kb,Ib,gb,ib,Lb,tc,Qc,sc,Vc,Q,fa,Ia,Sa,ec,Vb,Ua,wc,oe,Md,id;return{setters:[function(Ta){Ab=Ta.C;Rb=Ta.a2;jc=Ta.b5;cc=Ta.b6;je=Ta.b7;fd=Ta.b8;Yd=Ta.b9;jd=Ta.ba;Pc=Ta.a3;vd=Ta.ag;Ld=Ta.bb;ge=Ta.bc;Td=Ta.bd;md=Ta.ai;Za=Ta.a_;Db=Ta.ak;ac=Ta.aB;ic=Ta.a9;gd=Ta.a$;fe=Ta.am;Yb=Ta.I;qc=Ta.aV;Ob=Ta.b3;Hc=Ta.be;Yc=Ta.bf;
cd=Ta.aq;$b=Ta.ar;pb=Ta.ap;xc=Ta.a6;Lc=Ta.bg;Ga=Ta.as;Ra=Ta.ao;rb=Ta.aC;Kb=Ta.aa;Ib=Ta.bh;gb=Ta.al;ib=Ta.an;Lb=Ta.ab;tc=Ta.$;Qc=Ta.at;sc=Ta.s;Vc=Ta.a7;Q=Ta.a1;fa=Ta.bi;Ia=Ta.bj;Sa=Ta.bk;ec=Ta.ah;Vb=Ta.au;Ua=Ta.aN},function(Ta){wc=Ta.p;oe=Ta.P;Md=Ta._;id=Ta.N}],execute:function(){var Ta=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");Ta.Color=Ab;Ta.rect=Rb;Ta.Complementary=jc;Ta.Triadic=cc;Ta.Tetradic=je;Ta.Quadratic=fd;Ta.Analogous=Yd;Ta.Neutral=jd;Ta.pt=Pc;Ta.Point=vd;Ta.flatDesignColors=
Ld;Ta.materialDesignColors=ge;Ta.webSafeColors=Td;Ta.Morph=md;Ta.CustomLayout=Za;Ta.VerticalLayout=Db;Ta.HorizontalLayout=ac;Ta.Text=ic;Ta.TilingLayout=gd;Ta.Ellipse=fe;Ta.Image=Yb;Ta.StyleSheet=qc;Ta.DropDownSelector=Ob;Ta.ModeSelector=Hc;Ta.Slider=Yc;Ta.connect=cd;Ta.signal=$b;Ta.num=pb;Ta.arr=xc;Ta.SnapLayout=Lc;Ta.WHEEL_URL="/lively.ide/assets/color-wheel.png";Ta.duration=200;(function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Zb=Hd.hasOwnProperty("ColorPaletteField")&&
"function"===typeof Hd.ColorPaletteField?Hd.ColorPaletteField:Hd.ColorPaletteField=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"onHoverIn",value:function(){if(this.color){var sa=$jscomp.makeIterator(this.color.toHSB()),Aa=sa.next().value,Mb=sa.next().value;sa=sa.next().value;this.borderColor=Ta.Color.hsb(Aa,1<Mb+.5?Mb-.5:Mb+.5,1<sa+.5?sa-.5:sa+.5)}}},{key:"onHoverOut",value:function(){this.borderColor=
Ta.Color.transparent}},{key:"onMouseDown",value:function(){Ta.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:Ta.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||Ta.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||Ta.Color.transparent}},styleClasses:{after:["color"],
initialize:function(){this.styleClasses=this.color?["colorField"]:["vacantColorField"]}}}}}],Hd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:653,end:1603})})(Ta.Morph);(function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Zb=Hd.hasOwnProperty("ColorHarmonyField")&&
"function"===typeof Hd.ColorHarmonyField?Hd.ColorHarmonyField:Hd.ColorHarmonyField=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"onMouseDown",value:function(){Ta.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:Ta.pt(80,60)},fill:{defaultValue:Ta.Color.transparent},
master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color harmony field"}}},color:{set:function(sa){var Aa=$jscomp.makeIterator(this.submorphs),Mb=Aa.next().value;Aa=Aa.next().value;var P=$jscomp.makeIterator(sa?sa.toHSB():[]),wa=P.next().value,Qa=P.next().value;P=P.next().value;this.setProperty("color",sa);sa&&Mb&&Aa&&(Mb.fill=sa,Aa.textString=sa.toHexString(),Aa.fontColor=Ta.Color.hsb(wa,1<Qa+.5?Qa-.5:Qa+.5,1<P+.5?P-.5:P+.5))}},submorphs:{after:["color"],initialize:function(){var sa=
$jscomp.makeIterator((this.color||Ta.Color.transparent).toHSB()),Aa=sa.next().value,Mb=sa.next().value;sa=sa.next().value;this.submorphs=[new Ta.Morph({fill:this.color,extent:Ta.pt(80,50)}),new Ta.Text({textString:Aa.toFixed()+", "+Mb.toFixed(2)+", "+sa.toFixed(2),fill:Ta.Color.transparent,fontColor:Ta.Color.gray.darker(),bottomLeft:Ta.pt(0,50)})]}}}}}],Hd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:1605,end:3066})})(Ta.Morph);(function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Zb=Hd.hasOwnProperty("HarmonyDisplay")&&"function"===typeof Hd.HarmonyDisplay?Hd.HarmonyDisplay:Hd.HarmonyDisplay=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"update",value:function(sa){var Aa=$jscomp.makeIterator(sa.pivotColor.toHSB()),
Mb=Aa.next().value,P=Aa.next().value;Aa=Aa.next().value;Mb=sa.harmony.chord({hue:Mb,saturation:P,brightness:Aa});Mb.length!=this.submorphs.length?this.submorphs=Mb.map(function(wa){wa=new Ta.ColorHarmonyField({color:wa});Ta.connect(wa,"updateColor",sa,"color");return wa}):Ta.arr.zip(this.submorphs,Mb).forEach(function(wa){var Qa=$jscomp.makeIterator(wa);wa=Qa.next().value;Qa=Qa.next().value;wa.color=Qa})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyDisplay"}}],Hd,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3068,end:3642})})(Ta.Morph);(function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Zb=Hd.hasOwnProperty("PivotColorControl")&&"function"===typeof Hd.PivotColorControl?Hd.PivotColorControl:Hd.PivotColorControl=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"update",value:function(sa){this.pivotColor=sa.pivotColor}},{key:"onDrag",value:function(sa){var Aa=$jscomp.makeIterator(this.pivotColor.toHSB()),Mb=Aa.next().value,P=Aa.next().value;Aa=Aa.next().value;Mb=Ta.num.toRadians(Mb);sa=Ta.Point.polar(50*P,Mb).addPt(sa.state.dragDelta);Mb=Ta.num.toDegrees(sa.theta());Mb=0>Mb?Mb+360:Mb;P=Math.min(sa.r()/50,1);this.pivotColor=Ta.Color.hsb(Mb,P,Aa)}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:Ta.Color.blue},draggable:{defaultValue:!0}}}}],Hd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3644,end:4288})})(Ta.Ellipse);(function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
Zb=Hd.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof Hd.HarmonyVisualizer?Hd.HarmonyVisualizer:Hd.HarmonyVisualizer=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"update",value:function(sa){var Aa=$jscomp.makeIterator(this.submorphs).next().value,Mb=this.get("pivot control"),P=$jscomp.makeIterator(sa.pivotColor.toHSB()),wa=P.next().value,Qa=P.next().value;P=P.next().value;var Nb=Ta.num.toRadians(wa);
wa=sa.harmony.chord({hue:wa,saturation:Qa,brightness:P}).map(function(Gc){var Uc=$jscomp.makeIterator(Gc.toHSB()),le=Uc.next().value;Gc=Uc.next().value;Uc.next();Uc=Ta.num.toRadians(le);return Ta.Point.polar(50*Gc,Uc)});Aa.fill=Ta.Color.black.withA(1-P);Mb.update(sa);Aa.submorphs.length-1!=wa.length?Aa.submorphs=[].concat($jscomp.arrayFromIterable(wa.map(function(Gc){return new Ta.Ellipse({center:Gc,fill:Ta.Color.transparent,draggable:!1,borderWidth:1,borderColor:Ta.Color.black})})),[Mb]):(Ta.arr.zip(Aa.submorphs,
wa).forEach(function(Gc){var Uc=$jscomp.makeIterator(Gc);Gc=Uc.next().value;if(Uc=Uc.next().value)Gc.center=Uc}),Mb.center=Ta.Point.polar(50*Qa,Nb))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new Ta.PivotColorControl({name:"pivot control"})]}]}}}}}],Hd,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4290,end:5783})})(Ta.Image);(function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Zb=Hd.hasOwnProperty("HarmonyPalette")&&"function"===typeof Hd.HarmonyPalette?Hd.HarmonyPalette:Hd.HarmonyPalette=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"update",value:function(sa){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=sa.pivotBrightness,this.harmony=sa.harmony,this.get("harmonies").update(sa),this.get("harmony visualizer").update(sa),this.updateInProgress=!1)}},{key:"harmonyControl",value:function(){var sa,Aa,Mb=new Ta.Morph({name:"harmonyControl",submorphs:[new Ta.HarmonyVisualizer({name:"harmony visualizer"}),Aa=new Ta.Slider({min:0,
max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),sa=new Ta.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new Ta.Complementary,Triadic:new Ta.Triadic,Tetradic:new Ta.Tetradic,Quadratic:new Ta.Quadratic,Analogous:new Ta.Analogous,Neutral:new Ta.Neutral}})]});Ta.connect(Aa,"value",this,"pivotBrightness");Ta.connect(sa,"selectedValue",this,"harmony");return Mb}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new Ta.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],initialize:function(){this.submorphs=[new Ta.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],Hd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5785,end:7880})})(Ta.Morph);var rd=Da("C",function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Zb=Hd.hasOwnProperty("ColorPalette")&&"function"===typeof Hd.ColorPalette?Hd.ColorPalette:Hd.ColorPalette=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return Ga(Zb,ye,[{key:"fadeIntoWorld",value:function(sa){Ga._get(Object.getPrototypeOf(Zb.prototype),"fadeIntoWorld",this).call(this,sa);this.initPosition=sa;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function(sa){"Escape"==sa.key&&this.close()}},{key:"close",value:function(sa){sa?this.fadeOut(sa):this.remove();Ta.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",extent:Ta.pt(400,253),submorphs:[this.solidColorPalette(),new Ta.HarmonyPalette({name:"harmony palette",
isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var sa=this.get("solidColorPalette"),Aa=this.get("paletteView");sa.visible||(Aa.submorphs.forEach(function(Mb){return Mb.animate({isLayoutable:!1,visible:!1,duration:200})}),sa.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var sa=this.get("paletteView");this.get("harmony palette").visible||(sa.submorphs.forEach(function(Aa){return Aa.animate({isLayoutable:!1,visible:!1,
duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var sa=new Ta.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette","Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});Ta.connect(sa,"Color Palette",this,"selectSolidMode");Ta.connect(sa,"Color Harmonies",this,"selectHarmonyMode");return sa}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",
master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var sa=this.getColorsFor(this.colorPalette),Aa=sa.colors,Mb=sa.mod;return this.cachedPalette[sa.name]||this.getPalette(Aa,Mb)}},{key:"getPalette",value:function(sa,Aa){var Mb=this,P=Math.max(Math.ceil(sa.length/Aa),15),wa=P*this.colorFieldWidth,Qa=Aa*this.colorFieldWidth;sa=[].concat($jscomp.arrayFromIterable(sa),$jscomp.arrayFromIterable(Ta.arr.withN(P*
Aa-sa.length,null)));return{extent:Ta.pt(wa,Qa),name:"paletteContainer",submorphs:sa.map(function(Nb){Nb=new Ta.ColorPaletteField({color:Nb&&Ta.Color.rgbHex(Nb),extent:Ta.pt(Mb.colorFieldWidth,Mb.colorFieldWidth)});Ta.connect(Nb,"updateColor",Mb,"color");return Nb})}}},{key:"switchPalette",value:function(sa){var Aa=sa.name,Mb=sa.colors;sa=sa.mod;var P=this.get("solidColorPalette"),wa=$jscomp.makeIterator(P.submorphs);wa.next();wa=wa.next().value;this.cachedPalette[Aa]=this.cachedPalette[Aa]||this.getPalette(Mb,
sa,Aa);P.submorphs=[this.cachedPalette[Aa],wa]}},{key:"getPaletteDescription",value:function(sa){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",custom:"Your personal set of customly defined colors.",materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",
flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[sa]}},{key:"updatePaletteDescription",value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function(sa){return Object.assign({name:sa},
{flatDesign:{colors:Ta.flatDesignColors,mod:11},materialDesign:{colors:Ta.materialDesignColors,mod:15},webSafe:{colors:Ta.webSafeColors,mod:12}}[sa])}},{key:"paletteConfig",value:function(){var sa,Aa={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[sa=new Ta.DropDownSelector({isHaloItem:!0,name:"paletteSelector",selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};
Ta.connect(sa,"selectedValue",this,"colorPalette");return Aa}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:Ta.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function(sa){this.setProperty("colorPalette",sa);this.switchPalette(this.getColorsFor(sa));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function(sa){this.setProperty("pivotColor",sa);this.get("harmony palette").update(this)}},
color:{set:function(sa){this.setProperty("color",sa);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var sa=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());sa.next();sa.next();return sa.next().value},set:function(sa){var Aa=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),Mb=Aa.next().value;Aa=Aa.next().value;this.pivotColor=Ta.Color.hsb(Mb,Aa,sa)}},harmony:{after:["submorphs","pivotColor"],
defaultValue:new Ta.Complementary,set:function(sa){this.setProperty("harmony",sa);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var sa=$jscomp.makeIterator(this.color.toHSB()),Aa=sa.next().value,Mb=sa.next().value;sa.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=Ta.Color.hsb(Aa,
Mb,1);Ta.connect(this.get("harmony palette"),"harmony",this,"harmony");Ta.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");Ta.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],Hd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:7946,end:15967})}(Ta.Morph));Ta.ColorPalette=rd;Ta.ColorPalette=rd;Ta.ColorPalette=rd;var jb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");jb.Morph=md;jb.Icon=Ra;jb.ProportionalLayout=rb;jb.config=Kb;jb.Text=ic;jb.ShadowObject=Ib;jb.GridLayout=gb;jb.TilingLayout=gd;jb.StyleSheet=qc;jb.morph=ib;jb.HorizontalLayout=ac;jb.VerticalLayout=Db;jb.KeyHandler=Lb;jb.connect=cd;jb.signal=$b;jb.arr=xc;jb.promise=tc;jb.fun=Qc;jb.string=sc;jb.obj=Vc;jb.Color=
Ab;jb.rect=Rb;jb.Rectangle=Q;jb.pt=Pc;jb.popovers=wc;jb.ModeSelector=Hc;jb.DropDownSelector=Ob;jb.SearchField=fa;jb.CheckBox=Ia;jb.Popover=oe;jb.SvgStyleHalo=Md;jb.NumberWidget=id;jb.Icons=Sa;jb.duration=200;var Qd=Da("c",jb.colorWidgets||{});jb.colorWidgets=Qd;jb.colorWidgets=Qd;jb.colorWidgets=Qd;(function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Zb=Hd.hasOwnProperty("SelectableControl")&&"function"===typeof Hd.SelectableControl?Hd.SelectableControl:Hd.SelectableControl=
function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"select",value:function(sa){var Aa=this,Mb,P,wa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){if(1==Qa.nextAddress)return Aa.target?Qa.yield(Aa.target.execCommand(sa),2):Qa.return();Mb=Qa.yieldResult;P=Aa.get("modeSelector");Mb.opacity=0;Aa.lastLabel&&(wa=P.submorphs.indexOf(Aa.lastLabel)<P.submorphs.indexOf(P.currentLabel),Mb.topLeft=
P.bottomLeft.addXY(wa?20:-20,10));Aa.lastLabel=P.currentLabel;Aa.animate({submorphs:[P,Mb],duration:jb.duration});Mb.animate({opacity:1,duration:jb.duration});Qa.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SelectableControl"}},{key:"properties",get:function(){return{target:{type:"Morph"},selectableControls:{},selectedControl:{},fill:{defaultValue:jb.Color.transparent},layout:{initialize:function(){this.layout=new jb.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function(sa){return this.container.submorphs.indexOf(sa)}})}},
submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var sa=new jb.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});this.submorphs=[sa];sa.width=100;jb.connect(sa,"switchLabel",this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],Hd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:946,end:2555})})(jb.Morph);(function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Zb=Hd.hasOwnProperty("ToggledControl")&&"function"===typeof Hd.ToggledControl?Hd.ToggledControl:Hd.ToggledControl=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"toggle",value:function(sa){var Aa=$jscomp.makeIterator(this.submorphs).next().value,
Mb=this.toggledControl(sa);Aa=[Aa].concat($jscomp.arrayFromIterable(Mb?[Mb]:[]));jb.signal(this,"update",sa&&Mb.value);Mb&&(Mb.opacity=0);this.animate({submorphs:Aa,duration:jb.duration});Mb&&Mb.animate({opacity:1,duration:jb.duration})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:jb.Color.transparent},
layout:{initialize:function(){this.layout=new jb.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var sa=new jb.CheckBox({checked:this.checked});this.submorphs=[{fill:jb.Color.transparent,layout:new jb.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:jb.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},sa]}];this.toggle(this.checked);jb.connect(sa,"toggle",this,"toggle")}}}}}],
Hd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2557,end:4228})})(jb.Morph);(function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Zb=Hd.hasOwnProperty("StylePopover")&&"function"===typeof Hd.StylePopover?Hd.StylePopover:Hd.StylePopover=
function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"setupConnections",value:function(){}},{key:"controls",value:function(){return[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=jb.morph({layout:new jb.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:jb.Color.transparent,
submorphs:this.controls()});this.setupConnections()}}}}}],Hd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4230,end:4772})})(jb.Popover);var ab=function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Zb=Hd.hasOwnProperty("IconPopover")&&"function"===
typeof Hd.IconPopover?Hd.IconPopover:Hd.IconPopover=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"onDrop",value:function(sa){var Aa=this;sa.hand.grabbedMorphs.find(function(Mb){return Mb===Aa.iconLabel})&&(sa.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new jb.VerticalLayout({spacing:4}),fill:jb.Color.transparent,submorphs:[new jb.SearchField({name:"searchInput",
width:200,placeHolder:"Search Icons"}),jb.morph({textAndAttributes:this.iconAsTextAttributes(),name:"iconList",draggable:!0,type:"text",extent:jb.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var sa=this.ui,Aa=sa.iconList;jb.connect(sa.searchInput,"searchInput",this,"filterIcons");jb.connect(Aa,"onMouseUp",this,"iconSelectClick");jb.connect(Aa,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",
value:function(sa){sa=this.ui.iconList.textPositionFromPoint(sa.positionIn(this.ui.iconList));sa=this.iconAtTextPos(sa);this.iconLabel=jb.Icon.makeLabel(sa,{fontSize:this.ui.iconList.fontSize,name:sa});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",value:function(sa){var Aa=Object.keys(jb.Icons);sa&&(Aa=Aa.filter(sa));return jb.arr.flatmap(Aa,function(Mb,P){return[jb.Icons[Mb].code,{iconCode:jb.Icons[Mb].code,iconName:Mb}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",
value:function(){var sa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){if(1==Aa.nextAddress)return Aa.yield(jb.promise.delay(250),2);jb.fun.debounceNamed("filterIcons",200,function(){sa.ui.iconList.textAndAttributes=sa.iconAsTextAttributes(function(Mb){return sa.ui.searchInput.matches(Mb.toLowerCase())})})();Aa.jumpToEnd()})}},{key:"iconSelectClick",value:function(sa){sa=this.ui.iconList.textPositionFromPoint(sa.positionIn(this.ui.iconList));sa=this.iconAtTextPos(sa);this.setStatusMessage(sa);
jb.signal(this,"select",sa)}},{key:"iconAtTextPos",value:function(sa){var Aa=sa.row;sa=sa.column;--sa;for(var Mb=this.ui.iconList,P=Mb.textAndAttributesInRange({start:{row:Aa,column:Math.max(0,sa)},end:{row:Aa,column:sa+2}});P.length&&!P[1].iconName;)sa++,P=P.slice(2);var wa={start:{row:Aa,column:sa},end:{row:Aa,column:sa+1}};Mb.addTextAttribute({backgroundColor:Mb.selectionColor.darker().withA(.5)},wa);jb.promise.delay(1E3).then(function(){return Mb.addTextAttribute({backgroundColor:jb.Color.transparent},
wa)});return P.length?P[1].iconName:null}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"IconPopover"}},{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:jb.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),iconList:this.get("iconList")}}}}}}],Hd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4781,end:8324})}(jb.StylePopover);jb.IconPopover=ab;jb.IconPopover=ab;jb.IconPopover=ab;var lb=function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Zb=Hd.hasOwnProperty("LayoutPopover")&&"function"===typeof Hd.LayoutPopover?Hd.LayoutPopover:Hd.LayoutPopover=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,
ye,[{key:"getLayoutObjects",value:function(){return[null,new jb.HorizontalLayout({autoResize:!1}),new jb.VerticalLayout({autoResize:!1}),new jb.TilingLayout,new jb.ProportionalLayout,new jb.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){Ga._get(Object.getPrototypeOf(Zb.prototype),"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:jb.Color.transparent,layout:new jb.VerticalLayout({spacing:5,
layoutOrder:function(sa){return this.container.submorphs.indexOf(sa)}}),submorphs:[this.layoutPicker(),this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),duration:300}:{isLayoutable:!1,extent:jb.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function(sa){this.clearLayoutHalo();sa&&sa.layout&&(this.layoutHalo=
(sa.world()||sa.env.world).showLayoutHaloFor(sa))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function(sa){return sa?sa.name()+" Layout":"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function(sa){this.container.animate({layout:sa});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());
jb.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var sa=this,Aa=this.getLayoutObjects().map(function(Mb){var P={};return P[sa.getLayoutName(Mb)]=Mb,P});Aa=this.get("Layout Type")||new jb.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return sa.getCurrentLayoutName()},selectedValue:this.container.layout,values:jb.obj.merge(Aa)});jb.connect(Aa,"selectedValue",this,"applyLayout");return Aa}},{key:"layoutControls",value:function(){return{name:"controlContainer",
fill:jb.Color.transparent,layout:new jb.VerticalLayout,isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:jb.Color.gray.lighter()}}}}],Hd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:8333,end:11030})}(jb.StylePopover);jb.LayoutPopover=lb;jb.LayoutPopover=lb;jb.LayoutPopover=lb;var vb=function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Zb=Hd.hasOwnProperty("FillPopover")&&"function"===typeof Hd.FillPopover?Hd.FillPopover:Hd.FillPopover=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,
ye,[{key:"openHandle",value:function(sa){sa.openInWorld();this.openHandles.push(sa)}},{key:"close",value:function(){Ga._get(Object.getPrototypeOf(Zb.prototype),"close",this).call(this);this.openHandles.forEach(function(sa){return sa.remove()})}},{key:"setupConnections",value:function(){var sa=this.ui,Aa=sa.fillSelector,Mb=sa.colorField;sa=sa.gradientEditor;Aa&&jb.connect(this,"fillValue",Aa,"value");sa&&(jb.connect(sa,"gradientValue",this,"fillValue"),jb.connect(sa,"openHandle",this,"openHandle"));
Mb&&(jb.connect(this,"close",Mb,"remove"),jb.connect(Mb,"update",this,"fillValue"),jb.connect(this,"onMouseDown",Mb,"removeWidgets"))}},{key:"commands",get:function(){var sa=this;return Ga._get(Object.getPrototypeOf(Zb.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var Aa=new jb.colorWidgets.ColorPickerField({name:"colorField",colorValue:sa.fillValue.isGradient?jb.Color.blue:sa.fillValue});Aa.whenRendered().then(function(){sa.setupConnections()});return Aa}},{name:"switch to gradient",
exec:function(){var Aa=new jb.colorWidgets.GradientEditor({name:"gradient editor",gradientValue:sa.fillValue});Aa.whenRendered().then(function(){sa.setupConnections();sa.handleMorph&&Aa.showGradientHandlesOn(sa.handleMorph);Aa.update()});return Aa}}])}},{key:"controls",value:function(){return this.gradientEnabled?[new jb.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]:
[{fill:jb.Color.transparent,layout:new jb.VerticalLayout({spacing:0}),submorphs:[new jb.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue})]}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},fillValue:{defaultValue:jb.Color.blue},popoverColor:{defaultValue:jb.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),
fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],Hd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:11039,end:13883})}(jb.StylePopover);jb.FillPopover=vb;jb.FillPopover=vb;jb.FillPopover=vb;var Bd=Da("S",function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
Zb=Hd.hasOwnProperty("ShadowPopover")&&"function"===typeof Hd.ShadowPopover?Hd.ShadowPopover:Hd.ShadowPopover=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"controls",value:function(){var sa=this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",Aa=[{layout:new jb.VerticalLayout({resizeContainer:!0,spacing:5}),fill:jb.Color.transparent,name:"control container",submorphs:[sa=
new jb.DropDownSelector({name:"shadow type",borderRadius:2,padding:3,selectedValue:sa,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?this.shadowControls():[])}];jb.connect(sa,"selectedValue",this,"changeShadowType");return Aa}},{key:"shadowControls",value:function(){var sa=this.shadowValue,Aa=new jb.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:sa.distance,unit:"px"}),Mb=new jb.NumberWidget({name:"angleSlider",min:0,max:360,number:sa.rotation,autofit:!1}),
P=new jb.NumberWidget({name:"spreadSlider",min:0,number:sa.spread,autofit:!1}),wa=new jb.NumberWidget({name:"blurSlider",min:0,number:sa.blur,autofit:!1});sa=new jb.colorWidgets.ColorPickerField({name:"colorPicker",colorValue:sa.color});jb.connect(sa,"colorValue",this,"updateShadow",{converter:function(Qa){return{color:Qa}}});jb.connect(this,"onMouseDown",sa,"removeWidgets");jb.connect(this,"close",sa,"remove");jb.connect(P,"update",this,"updateShadow",{converter:function(Qa){return{spread:Qa}}});
jb.connect(Aa,"update",this,"updateShadow",{converter:function(Qa){return{distance:Qa}}});jb.connect(wa,"update",this,"updateShadow",{converter:function(Qa){return{blur:Qa}}});jb.connect(Mb,"update",this,"updateShadow",{converter:function(Qa){return{rotation:Qa}}});return new jb.Morph({layout:new jb.GridLayout({autoAssign:!1,fitToCell:!1,columns:[0,{paddingLeft:1}],rows:jb.arr.flatten(jb.arr.range(0,3).map(function(Qa){return[Qa,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",
null,"distanceSlider"],["blurLabel",null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:jb.Color.transparent,submorphs:jb.arr.flatten([["distance",Aa],["spread",P],["blur",wa],["angle",Mb],["color",sa]].map(function(Qa){var Nb=$jscomp.makeIterator(Qa);Qa=Nb.next().value;Nb=Nb.next().value;return[{type:"label",styleClasses:["controlName"],value:jb.string.capitalize(Qa)+":",name:Qa+"Label"},Nb]}))})}},{key:"changeShadowType",value:function(sa){"No Shadow"==
sa?this.toggleShadow(!1):"Inset Shadow"==sa?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?this.shadowControls():[]),duration:300})}},{key:"updateShadow",value:function(sa){var Aa=this.shadowValue;sa=Object.assign({fast:Aa.fast,color:Aa.color,spread:Aa.spread,blur:Aa.blur,distance:Aa.distance,rotation:Aa.rotation,inset:Aa.inset},sa);this.shadowValue=
new jb.ShadowObject(sa)}},{key:"toggleShadow",value:function(sa){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=sa&&this.cachedShadow}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowPopover"}},{key:"properties",get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new jb.ShadowObject({fast:!0})},popoverColor:{defaultValue:jb.Color.gray.lighter()}}}}],Hd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:13892,end:18423})}(jb.StylePopover));jb.ShadowPopover=Bd;jb.ShadowPopover=Bd;jb.ShadowPopover=Bd;jb.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";var de=function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Zb=Hd.hasOwnProperty("PointPopover")&&"function"===typeof Hd.PointPopover?
Hd.PointPopover:Hd.PointPopover=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"refineResolution",value:function(sa){this.resolution=.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function(sa){this.pointValue=this.pointValue.addPt(sa.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){Ga._get(Object.getPrototypeOf(Zb.prototype),
"relayout",this).call(this);var sa=this.getSubmorphNamed("mesh"),Aa=this.getSubmorphNamed("point value view");sa.origin=sa.innerBounds().center().addXY(4,1);sa.position=this.get("body").innerBounds().center();sa.scale=this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";Aa.value=jb.obj.safeToString(this.pointValue);Aa.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function(sa){var Aa=
this;Ga._get(Object.getPrototypeOf(Zb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,sa);this.whenRendered().then(function(){return Aa.relayout()})}},{key:"calibrate",value:function(){var sa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){if(1==Aa.nextAddress)return sa.get("knob").animate({center:sa.innerBounds().center(),duration:200}),Aa.yield(sa.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);sa.relayout();Aa.jumpToEnd()})}},{key:"showPointValue",
value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},{key:"controls",value:function(){this.extent=jb.pt(200,200);var sa,Aa,Mb=[jb.morph({extent:jb.pt(200,200),clipMode:"hidden",fill:jb.Color.transparent,submorphs:[{type:"image",name:"mesh",fill:jb.Color.transparent,opacity:.5,imageUrl:jb.milimeter,autoResize:!0},{extent:jb.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:jb.Color.gray},fill:jb.Color.transparent},sa=jb.morph({name:"scroller",extent:jb.pt(200,
200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),Aa=jb.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:jb.Color.red,borderColor:jb.Color.black,borderWidth:1,center:jb.pt(100,100)}),{type:"label",name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:jb.pt(10,10),type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];sa.scroll=jb.pt(0,120);jb.connect(Aa,"onDragStart",this,"showPointValue");jb.connect(Aa,
"onDrag",this,"adjustPoint");jb.connect(Aa,"onDragEnd",this,"calibrate");jb.connect(this,"extent",this,"relayout");jb.connect(sa,"onScroll",this,"refineResolution");return Mb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"PointPopover"}},{key:"properties",get:function(){return{pointValue:{defaultValue:jb.pt(0,0)},resolution:{defaultValue:1}}}}],Hd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:18538,end:21666})}(jb.StylePopover);jb.PointPopover=de;jb.PointPopover=de;jb.PointPopover=de;var Ee=function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Zb=Hd.hasOwnProperty("RectanglePopover")&&"function"===typeof Hd.RectanglePopover?Hd.RectanglePopover:Hd.RectanglePopover=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"controls",value:function(){var sa=this;return[{fill:jb.Color.transparent,extent:jb.pt(120,120),layout:new jb.GridLayout({grid:[["top","top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],columns:[0,{paddingLeft:4},1,{paddingRight:4,fixed:!0,width:60}],rows:jb.arr.flatten(jb.arr.range(0,3).map(function(Aa){return[Aa,{paddingTop:0==Aa?4:2,paddingBottom:3==Aa?4:2}]}))}),
submorphs:jb.arr.flatten(["top","right","bottom","left"].map(function(Aa){var Mb=new jb.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},name:Aa+" scrubber",autofit:!1,number:sa.rectangle.partNamed(Aa)});jb.connect(Mb,"update",sa,"rectangle",{updater:function(P,wa){var Qa={},Nb=this.targetObj.rectangle;wa=(Qa.left=Nb.left(),Qa.top=Nb.top(),Qa.right=Nb.right(),Qa.bottom=Nb.bottom(),Qa[Aa]=wa,Qa);P(jb.Rectangle.inset(wa.left,wa.top,wa.right,wa.bottom))},varMapping:{side:Aa,
Rectangle:Q}});return[{type:"label",styleClasses:["controlName"],name:Aa,value:Aa,padding:3},Mb]}))}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RectanglePopover"}},{key:"properties",get:function(){return{popoverColor:{defaultValue:jb.Color.gray.lighter()},rectangle:{defaultValue:jb.rect(0)}}}}],Hd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:21675,end:23653})}(jb.StylePopover);jb.RectanglePopover=Ee;jb.RectanglePopover=Ee;jb.RectanglePopover=Ee;var Ze=function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Zb=Hd.hasOwnProperty("TextPopover")&&"function"===typeof Hd.TextPopover?Hd.TextPopover:Hd.TextPopover=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return Ga(Zb,ye,[{key:"controls",value:function(){var sa=new jb.Text(Object.assign({name:"editor",extent:jb.pt(300,200),textString:this.text,lineWrapping:"by-chars"},jb.config.codeEditor.defaultStyle));return[{layout:new jb.HorizontalLayout,fill:jb.Color.transparent,borderColor:jb.Color.gray,borderWidth:1,borderRadius:4,clipMode:"hidden",submorphs:[sa]}]}},{key:"commands",get:function(){return Ga._get(Object.getPrototypeOf(Zb.prototype),"commands",this).concat([{name:"save string",exec:function(sa){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){sa.text=
sa.get("editor").textString;jb.signal(sa,"save",sa.text);sa.setStatusMessage("String saved!",jb.Color.green);Aa.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return Ga._get(Object.getPrototypeOf(Zb.prototype),"keybindings",this).concat([{keys:{mac:"Command-S",win:"Ctrl-S"},command:"save string"}])}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],Hd,{pathInPackage:function(){return"styling/style-popover.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:23662,end:24776})}(jb.StylePopover);jb.TextPopover=Ze;jb.TextPopover=Ze;jb.TextPopover=Ze;Object.assign(jb.popovers,{FillPopover:vb,IconPopover:ab,RectanglePopover:Ee,ShadowPopover:Bd,PointPopover:de,LayoutPopover:lb});var Zc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");
Zc.Morph=md;Zc.morph=ib;Zc.StyleSheet=qc;Zc.Text=ic;Zc.Icon=Ra;Zc.VerticalLayout=Db;Zc.GridLayout=gb;Zc.HorizontalLayout=ac;Zc.pt=Pc;Zc.Rectangle=Q;Zc.Color=Ab;Zc.LinearGradient=ec;Zc.rect=Rb;Zc.signal=$b;Zc.once=Vb;Zc.connect=cd;Zc.obj=Vc;Zc.Window=Ua;Zc.ColorPalette=rd;Zc.FillPopover=vb;Zc.colorWidgets=Qd;Zc.Slider=Yc;Zc.Popover=oe;Zc.WHEEL_URL="/lively.ide/assets/color-wheel.png";rd=function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Zb=Hd.hasOwnProperty("ColorPickerField")&&
"function"===typeof Hd.ColorPickerField?Hd.ColorPickerField:Hd.ColorPickerField=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"testAttr",get:function(){return[42]}},{key:"spec",value:function(){return Zc.obj.dissoc(Ga._get(Object.getPrototypeOf(Zb.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function(sa){"Escape"==sa.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?
this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,duration:300})}},{key:"onHoverOut",value:function(){this.get("dropDownIndicator").animate({opacity:0,duration:300})}},{key:"update",value:function(sa){this._updating=!0;var Aa=this.submorphs[1];this.colorValue=sa;this.get("topLeft").fill=sa;this.get("bottomRight").fill=sa.isGradient?Zc.Color.transparent:sa.withA(1);Aa.visible=Aa.isLayoutable=!this.gradientEnabled;this.gradientEnabled?
this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=this.get("topLeft").width=this.width-Aa.width;this.get("bottomRight").left=0;this.get("dropDownIndicator").right=this.get("paletteButton").width-5;this._updating=!1}},{key:"openPicker",value:function(sa){var Aa=this,Mb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(P){Mb=Aa.picker||new Zc.ColorPicker({color:Aa.colorValue});Mb.position=Zc.pt(0,-Mb.height/2);Zc.connect(Mb,
"color",Aa,"update");Aa.picker=Mb.openInWorld();Aa.picker.topLeft=Aa.globalBounds().bottomCenter();Aa.picker.topLeft=Aa.world().visibleBounds().translateForInclusion(Aa.picker.globalBounds()).topLeft();Aa.removePalette();P.jumpToEnd()})}},{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function(sa){var Aa=this,Mb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(P){if(1==P.nextAddress)return Mb=Aa.gradientEnabled?Aa.fillWidget:Aa.palette,
Aa.gradientEnabled?Zc.connect(Mb,"fillValue",Aa,"update"):Zc.connect(Mb.targetMorph,"color",Aa,"update"),Mb.isLayoutable=!1,P.yield(Mb.openInWorld(),2);Mb.topCenter=Aa.get("paletteButton").globalBounds().center();Mb.topCenter=Aa.world().visibleBounds().translateForInclusion(Mb.globalBounds()).topCenter();Aa.removePicker();Zc.once(Mb,"remove",Mb,"topLeft",{converter:function(){return Zc.pt(0,0)},varMapping:{pt:Pc}});P.jumpToEnd()})}},{key:"removePalette",value:function(){this.colorValue.isGradient?
this.fillWidget.remove():this.palette.remove()}},{key:"removeWidgets",value:function(){this.removePalette();this.removePicker()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,after:["colorValue"],set:function(sa){this.setProperty("gradientEnabled",sa);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new Zc.FillPopover({fillValue:this.colorValue})}},
testProp:{get:function(){return[42]}},palette:{serialize:!1,get:function(){return this._palette||(this._palette=new Zc.Popover({position:Zc.pt(0,0),name:"Color Palette",targetMorph:new Zc.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function(sa){sa&&(sa.isColor||sa.isGradient)||(sa=Zc.Color.blue);if(!this._updating)return this.update(sa);this.setProperty("colorValue",sa)},get:function(){return this.getProperty("colorValue")||Zc.Color.white}},master:{initialize:function(){this.master=
{auto:"styleguide://SystemWidgets/color field"}}},submorphs:{initialize:function(){this.innerBounds().topRight();this.innerBounds().bottomLeft();var sa=Zc.pt(40,25);this.submorphs=[{extent:sa,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:sa},{name:"bottomRight",type:"polygon",extent:sa,origin:Zc.pt(0,0),vertices:[Zc.pt(0,0),sa.withX(0),sa]},Zc.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:Zc.pt(30,12.5)})]},{fill:Zc.Color.transparent,extent:Zc.pt(25,
25),onHoverIn:function(){this.fill=Zc.Color.black.withA(.2)},onHoverOut:function(){this.fill=Zc.Color.transparent},submorphs:[{name:"pickerButton",type:"image",autoResize:!1,imageUrl:Zc.WHEEL_URL}]}];Zc.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",this,"openPicker");Zc.connect(this.getSubmorphNamed("paletteButton"),"onMouseDown",this,"openPalette");Zc.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],Hd,{pathInPackage:function(){return"styling/color-picker.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:627,end:6335})}(Zc.Morph);Zc.ColorPickerField=rd;Zc.ColorPickerField=rd;Zc.ColorPickerField=rd;Zc.colorWidgets.ColorPickerField=Zc.ColorPickerField;(function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Zb=Hd.hasOwnProperty("FieldPicker")&&"function"===
typeof Hd.FieldPicker?Hd.FieldPicker:Hd.FieldPicker=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"update",value:function(sa){this.getSubmorphNamed("hue").fill=Zc.Color.hsb(sa.hue,1,1);this.brightness=sa.brightness;this.saturation=sa.saturation;this.get("picker").center=this.pickerPosition}},{key:"onMouseDown",value:function(sa){this.pickerPosition=sa.positionIn(this);Zc.signal(this,"pickerPosition",
this.pickerPosition)}},{key:"onDrag",value:function(sa){this.pickerPosition=sa.positionIn(this)}},{key:"relayout",value:function(){var sa=this.innerBounds();this.getSubmorphNamed("hue").setBounds(sa);this.getSubmorphNamed("shade").setBounds(sa);this.getSubmorphNamed("light").setBounds(sa)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:Zc.Color.transparent},saturation:{defaultValue:0},brightness:{defaultValue:0},
draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var sa=this.saturation,Aa=this.brightness;return void 0===sa||void 0===Aa?Zc.pt(0,0):Zc.pt(this.getSubmorphNamed("hue").width*sa,this.getSubmorphNamed("hue").height*(1-Aa))},set:function(sa){var Aa=sa.x;sa=sa.y;var Mb=this.getSubmorphNamed("hue"),P=Mb.height;this.saturation=Math.max(0,Math.min(Aa/Mb.width,1));this.brightness=Math.max(0,Math.min(1-sa/P,1));Zc.signal(this,"saturation",
this.saturation);Zc.signal(this,"brightness",this.brightness)}},submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new Zc.LinearGradient({stops:[{color:Zc.Color.white,offset:0},{color:Zc.Color.transparent,offset:1}],vector:"eastwest"})},{borderRadius:3,name:"light",reactsToPointer:!1,fill:new Zc.LinearGradient({stops:[{color:Zc.Color.black,offset:0},{color:Zc.Color.transparent,offset:1}],vector:"southnorth"})},
{name:"picker",type:"ellipse",reactsToPointer:!1,fill:Zc.Color.transparent,borderColor:Zc.Color.black,borderWidth:3,extent:Zc.pt(16,16),submorphs:[{type:"ellipse",fill:Zc.Color.transparent,borderColor:Zc.Color.white,reactsToPointer:!1,borderWidth:3,center:Zc.pt(8,8),extent:Zc.pt(12,12)}]}];Zc.connect(this,"extent",this,"relayout")}}}}}],Hd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:6388,end:9719})})(Zc.Morph);(function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Zb=Hd.hasOwnProperty("ColorPropertyView")&&"function"===typeof Hd.ColorPropertyView?Hd.ColorPropertyView:Hd.ColorPropertyView=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=
["key"].concat($jscomp.arrayFromIterable(this.readOnly?[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=[!this.readOnly&&"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function(sa){"Enter"!=sa.keyCombo||this.readOnly?Ga._get(Object.getPrototypeOf(Zb.prototype),
"onKeyDown",this).call(this,sa):(this.owner.focus(),sa.stop(),Zc.signal(this,"updateValue",this.value))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},value:{derived:[!0],set:function(sa){this.textString=Zc.obj.safeToString(sa)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:Zc.Color.gray.darker()}}}}],
Hd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:9721,end:10903})})(Zc.Text);(function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Zb=Hd.hasOwnProperty("HuePicker")&&"function"===typeof Hd.HuePicker?Hd.HuePicker:Hd.HuePicker=function(sa){sa&&
sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"onMouseDown",value:function(sa){this.sliderPosition=Zc.pt(0,sa.positionIn(this).y)}},{key:"onDrag",value:function(sa){this.sliderPosition=Zc.pt(0,sa.positionIn(this).y)}},{key:"update",value:function(sa){this.hue=sa.hue;this.get("slider").center=this.sliderPosition}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new Zc.LinearGradient({stops:[{color:Zc.Color.rgb(255,
0,0),offset:0},{color:Zc.Color.rgb(255,255,0),offset:.17},{color:Zc.Color.limeGreen,offset:.33},{color:Zc.Color.cyan,offset:.5},{color:Zc.Color.blue,offset:.66},{color:Zc.Color.magenta,offset:.83},{color:Zc.Color.rgb(255,0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return Zc.pt(this.width/2,this.hue/360*this.height)},set:function(sa){this.hue=Math.max(0,Math.min(sa.y/this.height*360,359));Zc.signal(this,
"hue",this.hue)}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:Zc.Color.black,fill:Zc.Color.transparent,borderWidth:2}]}}}}}],Hd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},
{start:10905,end:12586})})(Zc.Morph);(function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Zb=Hd.hasOwnProperty("ColorDetails")&&"function"===typeof Hd.ColorDetails?Hd.ColorDetails:Hd.ColorDetails=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"update",value:function(sa){sa=sa.color;var Aa=$jscomp.makeIterator(sa.toTuple8Bit()),Mb=Aa.next().value,P=Aa.next().value;
Aa=Aa.next().value;var wa=$jscomp.makeIterator(sa.toHSB()),Qa=wa.next().value,Nb=wa.next().value;wa=wa.next().value;var Gc=this.get("hashViewer");this.get("colorViewer").fill=sa;Gc.replace(Gc.documentRange,sa.toHexString(),!1,!1);this.get("R").value="R "+Mb.toFixed(0)+"\n\nG "+P.toFixed(0)+"\n\nB "+Aa.toFixed(0)+"\n\nH "+Qa.toFixed(0)+"\n\nS "+Nb.toFixed(2)+"\n\nV "+wa.toFixed(2)}},{key:"onHashViewerChanged",value:function(sa){sa=Zc.Color.rgbHex(sa);this.owner.owner.color=sa}},{key:"keyValue",value:function(sa){var Aa=
sa.name,Mb=sa.key,P=sa.value,wa=sa.update;sa=sa.editable;return new Zc.Morph({fill:Zc.Color.transparent,layout:new Zc.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",styleClasses:[sa&&"large","key"],value:Mb},new Zc.ColorPropertyView({name:Aa||Mb,readOnly:!sa,value:P,update:wa})]})}},{key:"hashViewer",value:function(){var sa=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});Zc.connect(sa.get("hashViewer"),"updateValue",this,"onHashViewerChanged");
return sa}},{key:"rgbViewer",value:function(){var sa=$jscomp.makeIterator(this.color.toTuple8Bit()),Aa=sa.next().value,Mb=sa.next().value;sa=sa.next().value;return new Zc.Morph({name:"rgbViewer",fill:Zc.Color.transparent,submorphs:[this.keyValue({key:"R",value:Aa.toFixed()}),this.keyValue({key:"G",value:Mb.toFixed()}),this.keyValue({key:"B",value:sa.toFixed()})]})}},{key:"hsbViewer",value:function(){var sa=$jscomp.makeIterator(this.color.toHSB()),Aa=sa.next().value,Mb=sa.next().value;sa=sa.next().value;
return new Zc.Morph({name:"hsbViewer",fill:Zc.Color.transparent,submorphs:[this.keyValue({key:"H",value:Aa.toFixed()}),this.keyValue({key:"S",value:Mb.toFixed(2)}),this.keyValue({key:"V",value:sa.toFixed(2)})]})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorDetails"}},{key:"properties",get:function(){return{color:{defaultValue:Zc.Color.blue},width:{defaultValue:80},fill:{defaultValue:Zc.Color.transparent},layout:{initialize:function(){this.layout=new Zc.VerticalLayout({spacing:9,
layoutOrder:function(sa){return this.container.submorphs.indexOf(sa)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:Zc.pt(50,50),name:"colorViewer",fill:this.color},this.hashViewer(),{type:"label",name:"R",autofit:!0,padding:Zc.rect(10,0,0,0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],Hd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12588,end:15311})})(Zc.Morph);rd=Da("a",function(ye){var Hd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Zb=Hd.hasOwnProperty("ColorPicker")&&"function"===typeof Hd.ColorPicker?Hd.ColorPicker:Hd.ColorPicker=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ga(Zb,ye,[{key:"onKeyDown",value:function(sa){"Escape"==sa.key&&
this.close()}},{key:"close",value:function(){Ga._get(Object.getPrototypeOf(Zb.prototype),"close",this).call(this);Zc.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&(this.get("header").fill=Zc.Color.transparent,this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),Zc.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var sa=this.colorDetails(),Aa=this.fieldPicker(),
Mb=this.huePicker(),P=this.alphaSlider();sa=new Zc.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[Aa,Mb,sa,P]});Zc.connect(Aa,"brightness",this,"brightness");Zc.connect(Aa,"saturation",this,"saturation");Zc.connect(Mb,"hue",this,"hue");return sa}},{key:"alphaSlider",value:function(){var sa,Aa=Zc.morph({name:"alphaSlider",fill:Zc.Color.transparent,layout:new Zc.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:Zc.Rectangle.inset(3),
value:"Alpha",fontColor:Zc.Color.gray,fontWeight:"bold"},sa=new Zc.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});Zc.connect(sa,"value",this,"alpha");return Aa}},{key:"fieldPicker",value:function(){return new Zc.FieldPicker({name:"field picker",saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new Zc.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new Zc.ColorDetails({name:"details",
color:this.color})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:Zc.pt(400,320)},fill:{defaultValue:Zc.Color.black.withA(.7)},isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},hasFixedPosition:{defaultValue:!0},color:{defaultValue:Zc.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return Zc.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function(sa){var Aa=
$jscomp.makeIterator(sa.toHSB()),Mb=Aa.next().value,P=Aa.next().value;Aa=Aa.next().value;this.hue=Mb;this.saturation=P;this.brightness=Aa;this.alpha=sa.a}},alpha:{set:function(sa){this.setProperty("alpha",sa);this.update()}},saturation:{},brightness:{set:function(sa){this.setProperty("brightness",sa);this.update()}},hue:{set:function(sa){this.setProperty("hue",sa);this.update()}},targetMorph:{initialize:function(){var sa=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=Zc.Color.gray;
this.ui.header.fill=Zc.Color.transparent;this.whenRendered().then(function(){sa.fill=Zc.Color.black.withA(.7);sa.update()})}}}}}],Hd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15320,end:19178})}(Zc.Window));Zc.ColorPicker=rd;Zc.ColorPicker=rd;Zc.ColorPicker=rd}}});
System.register(["./__root_module__-46f2ff9c.js","kld-intersections","./object-classes-105c90ac.js"],function(Ma,rb){var Db,hc,Kb,id,Zc,yd,Kc,sc,bd,hd,se,xe,ne,Rc,Pd,Hb,Gc,ud,Vc,Id,ie,Fb,Ac,$c,Bc,vd,pb,lb,Zb;return{setters:[function(Mb){Db=Mb.a;hc=Mb.f;Kb=Mb.b;id=Mb.c;Zc=Mb.r;yd=Mb.p;Kc=Mb.R;sc=Mb.C;bd=Mb.d;hd=Mb.o;se=Mb.g;xe=Mb.m;ne=Mb.e;Rc=Mb.t;Pd=Mb.I;Hb=Mb.h;Gc=Mb.M;ud=Mb.j;Vc=Mb.l;Id=Mb.k;ie=Mb.U;Fb=Mb.q;Ac=Mb.u;$c=Mb.v;Bc=Mb.w;vd=Mb.i},function(){},function(Mb){pb=Mb.default;lb=Mb.interactivelyForkPackage;
Zb=Mb.addScript}],execute:function(){var Mb=window.gapi=window.gapi||{};Mb._bs=(new Date).getTime();(function(){function rc(ja){if(Error.captureStackTrace)Error.captureStackTrace(this,rc);else{var Aa=Error().stack;Aa&&(this.stack=Aa)}ja&&(this.message=String(ja))}function Ta(ja){var Aa=ja.length;if(0<Aa){for(var hb=Array(Aa),Eb=0;Eb<Aa;Eb++)hb[Eb]=ja[Eb];return hb}return[]}function Lb(ja,Aa){for(var hb in ja)Aa.call(void 0,ja[hb],hb,ja)}function mb(ja,Aa){for(var hb,Eb,kc=1;kc<arguments.length;kc++){Eb=
arguments[kc];for(hb in Eb)ja[hb]=Eb[hb];for(var zc=0;zc<xb.length;zc++)hb=xb[zc],Object.prototype.hasOwnProperty.call(Eb,hb)&&(ja[hb]=Eb[hb])}}function Gb(ja){if(0!==ja.indexOf("GCSC"))return null;var Aa={W:!1};ja=ja.substr(4);if(!ja)return Aa;var hb=ja.charAt(0);ja=ja.substr(1);var Eb=ja.lastIndexOf("_");if(-1==Eb)return Aa;var kc=ew(ja.substr(Eb+1));if(null==kc)return Aa;ja=ja.substring(0,Eb);if("_"!==ja.charAt(0))return Aa;Eb="E"===hb&&kc.j;return!Eb&&("U"!==hb||kc.j)||Eb&&!so?Aa:{W:!0,j:Eb,ka:ja.substr(1),
domain:kc.domain,l:kc.l}}var vc=function(ja){var Aa=0;return function(){return Aa<ja.length?{done:!1,value:ja[Aa++]}:{done:!0}}},Lc="function"==typeof Object.defineProperties?Object.defineProperty:function(ja,Aa,hb){if(ja==Array.prototype||ja==Object.prototype)return ja;ja[Aa]=hb.value;return ja},cc=function(ja){ja=["object"==typeof globalThis&&globalThis,ja,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var Aa=0;Aa<ja.length;++Aa){var hb=ja[Aa];if(hb&&
hb.Math==Math)return hb}throw Error("Cannot find global object");}(this),Vb=function(ja,Aa){if(Aa)a:{var hb=cc;ja=ja.split(".");for(var Eb=0;Eb<ja.length-1;Eb++){var kc=ja[Eb];if(!(kc in hb))break a;hb=hb[kc]}ja=ja[ja.length-1];Eb=hb[ja];Aa=Aa(Eb);Aa!=Eb&&null!=Aa&&Lc(hb,ja,{configurable:!0,writable:!0,value:Aa})}};Vb("Symbol",function(ja){if(ja)return ja;var Aa=function(zc,Jd){this.ba=zc;Lc(this,"description",{configurable:!0,writable:!0,value:Jd})};Aa.prototype.toString=function(){return this.ba};
var hb="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",Eb=0,kc=function(zc){if(this instanceof kc)throw new TypeError("Symbol is not a constructor");return new Aa(hb+(zc||"")+"_"+Eb++,zc)};return kc});Vb("Symbol.iterator",function(ja){if(ja)return ja;ja=Symbol("Symbol.iterator");for(var Aa="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),hb=0;hb<Aa.length;hb++){var Eb=cc[Aa[hb]];"function"===typeof Eb&&"function"!=typeof Eb.prototype[ja]&&
Lc(Eb.prototype,ja,{configurable:!0,writable:!0,value:function(){return Ub(vc(this))}})}return ja});var Ub=function(ja){ja={next:ja};ja[Symbol.iterator]=function(){return this};return ja},Ga=function(ja,Aa){ja instanceof String&&(ja+="");var hb=0,Eb=!1,kc={next:function(){if(!Eb&&hb<ja.length){var zc=hb++;return{value:Aa(zc,ja[zc]),done:!1}}Eb=!0;return{done:!0,value:void 0}}};kc[Symbol.iterator]=function(){return kc};return kc};Vb("Array.prototype.keys",function(ja){return ja?ja:function(){return Ga(this,
function(Aa){return Aa})}});var jb=this||self,X=function(ja){var Aa=typeof ja;return"object"!=Aa?Aa:ja?Array.isArray(ja)?"array":Aa:"null"},ha=function(ja){var Aa=X(ja);return"array"==Aa||"object"==Aa&&"number"==typeof ja.length},Fa=function(ja){var Aa=typeof ja;return"object"==Aa&&null!=ja||"function"==Aa},Ja=function(ja,Aa,hb){return ja.call.apply(ja.bind,arguments)},Ca=function(ja,Aa,hb){if(!ja)throw Error();if(2<arguments.length){var Eb=Array.prototype.slice.call(arguments,2);return function(){var kc=
Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(kc,Eb);return ja.apply(Aa,kc)}}return function(){return ja.apply(Aa,arguments)}},ra=function(ja,Aa,hb){ra=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ja:Ca;return ra.apply(null,arguments)},tb=function(ja,Aa){function hb(){}hb.prototype=Aa.prototype;ja.na=Aa.prototype;ja.prototype=new hb;ja.prototype.constructor=ja;ja.A=function(Eb,kc,zc){for(var Jd=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)Jd[Xe-
2]=arguments[Xe];return Aa.prototype[kc].apply(Eb,Jd)}},Na=function(ja){return ja},lc=function(ja){var Aa=null,hb=jb.trustedTypes;if(!hb||!hb.createPolicy)return Aa;try{Aa=hb.createPolicy(ja,{createHTML:Na,createScript:Na,createScriptURL:Na})}catch(Eb){jb.console&&jb.console.error(Eb.message)}return Aa};tb(rc,Error);rc.prototype.name="CustomError";var kd,Tb=function(ja,Aa){ja=ja.split("%s");for(var hb="",Eb=ja.length-1,kc=0;kc<Eb;kc++)hb+=ja[kc]+(kc<Aa.length?Aa[kc]:"%s");rc.call(this,hb+ja[Eb])};
tb(Tb,rc);Tb.prototype.name="AssertionError";var md=function(ja,Aa,hb,Eb){var kc="Assertion failed";if(hb){kc+=": "+hb;var zc=Eb}else ja&&(kc+=": "+ja,zc=Aa);throw new Tb(""+kc,zc||[]);},wb=function(ja,Aa,hb){ja||md("",null,Aa,Array.prototype.slice.call(arguments,2));return ja},je=function(ja,Aa){throw new Tb("Failure"+(ja?": "+ja:""),Array.prototype.slice.call(arguments,1));},bf=function(ja,Aa,hb){"string"!==typeof ja&&md("Expected string but got %s: %s.",[X(ja),ja],Aa,Array.prototype.slice.call(arguments,
2))},Wc=Array.prototype.forEach?function(ja,Aa){wb(null!=ja.length);Array.prototype.forEach.call(ja,Aa,void 0)}:function(ja,Aa){for(var hb=ja.length,Eb="string"===typeof ja?ja.split(""):ja,kc=0;kc<hb;kc++)kc in Eb&&Aa.call(void 0,Eb[kc],kc,ja)},xb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ze,yb=function(ja,Aa){this.R=ja===R&&Aa||"";this.ca=Ha};yb.prototype.D=!0;yb.prototype.C=function(){return this.R};yb.prototype.toString=function(){return"Const{"+
this.R+"}"};var nb=function(ja){if(ja instanceof yb&&ja.constructor===yb&&ja.ca===Ha)return ja.R;je("expected object of type Const, got '"+ja+"'");return"type_error:Const"},Ha={},R={},ya=/&/g,$a=/</g,Ab=/>/g,bc=/"/g,Ec=/'/g,pc=/\x00/g,wd=/[\x00&<>"']/,xd=function(ja,Aa){return-1!=ja.indexOf(Aa)},Se=function(ja,Aa){this.O=Aa===df?ja:""};Se.prototype.D=!0;Se.prototype.C=function(){return this.O.toString()};Se.prototype.toString=function(){return this.O.toString()};var v=function(ja){if(ja instanceof
Se&&ja.constructor===Se)return ja.O;je("expected object of type SafeUrl, got '"+ja+"' of type "+X(ja));return"type_error:SafeUrl"},Ie=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,cf=function(ja){if(ja instanceof Se)return ja;ja="object"==typeof ja&&ja.D?ja.C():String(ja);wb(Ie.test(ja),"%s does not match the safe URL pattern",ja)||(ja="about:invalid#zClosurez");return new Se(ja,df)},df={};a:{var Ze=jb.navigator;if(Ze){var ke=Ze.userAgent;if(ke){var Ke=ke;break a}}Ke=""}var yf=function(ja,Aa,
hb){this.N=hb===ug?ja:""};yf.prototype.D=!0;yf.prototype.C=function(){return this.N.toString()};yf.prototype.toString=function(){return this.N.toString()};var wf=function(ja){if(ja instanceof yf&&ja.constructor===yf)return ja.N;je("expected object of type SafeHtml, got '"+ja+"' of type "+X(ja));return"type_error:SafeHtml"},ug={},Zd=new yf(jb.trustedTypes&&jb.trustedTypes.emptyHTML||"",0,ug),Hc=function(ja,Aa){a:{try{var hb=ja&&ja.ownerDocument,Eb=hb&&(hb.defaultView||hb.parentWindow);Eb=Eb||jb;if(Eb.Element&&
Eb.Location){hb=Eb;break a}}catch(zc){}hb=null}if(hb&&"undefined"!=typeof hb[Aa]&&(!ja||!(ja instanceof hb[Aa])&&(ja instanceof hb.Location||ja instanceof hb.Element))){if(Fa(ja))try{var kc=ja.constructor.displayName||ja.constructor.name||Object.prototype.toString.call(ja)}catch(zc){kc="<object could not be stringified>"}else kc=void 0===ja?"undefined":null===ja?"null":typeof ja;je("Argument is not a %s (or a non-Element, non-Location mock); got: %s",Aa,kc)}return ja},dh={MATH:!0,SCRIPT:!0,STYLE:!0,
SVG:!0,TEMPLATE:!0},ed=function(ja){var Aa=!1,hb;return function(){Aa||(hb=ja(),Aa=!0);return hb}}(function(){if("undefined"===typeof document)return!1;var ja=document.createElement("div"),Aa=document.createElement("div");Aa.appendChild(document.createElement("div"));ja.appendChild(Aa);if(!ja.firstChild)return!1;Aa=ja.firstChild.firstChild;ja.innerHTML=wf(Zd);return!Aa.parentElement}),pg=function(ja){wd.test(ja)&&(-1!=ja.indexOf("&")&&(ja=ja.replace(ya,"&amp;")),-1!=ja.indexOf("<")&&(ja=ja.replace($a,
"&lt;")),-1!=ja.indexOf(">")&&(ja=ja.replace(Ab,"&gt;")),-1!=ja.indexOf('"')&&(ja=ja.replace(bc,"&quot;")),-1!=ja.indexOf("'")&&(ja=ja.replace(Ec,"&#39;")),-1!=ja.indexOf("\x00")&&(ja=ja.replace(pc,"&#0;")));return ja},Qc=xd(Ke,"Opera"),Va=xd(Ke,"Trident")||xd(Ke,"MSIE"),gb=xd(Ke,"Edge"),Za=xd(Ke,"Gecko")&&!(xd(Ke.toLowerCase(),"webkit")&&!xd(Ke,"Edge"))&&!(xd(Ke,"Trident")||xd(Ke,"MSIE"))&&!xd(Ke,"Edge"),V=xd(Ke.toLowerCase(),"webkit")&&!xd(Ke,"Edge"),O=function(){var ja=jb.document;return ja?ja.documentMode:
void 0};a:{var Ka="",ea=function(){var ja=Ke;if(Za)return/rv:([^\);]+)(\)|;)/.exec(ja);if(gb)return/Edge\/([\d\.]+)/.exec(ja);if(Va)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ja);if(V)return/WebKit\/(\S+)/.exec(ja);if(Qc)return/(?:Version)[ \/]?(\S+)/.exec(ja)}();ea&&(Ka=ea?ea[1]:"");if(Va){var Da=O();if(null!=Da&&Da>parseFloat(Ka)){var Sa=String(Da);break a}}Sa=Ka}var vb=Sa;if(jb.document&&Va){var Bb=O();var Ib=Bb?Bb:parseInt(vb,10)||void 0}else Ib=void 0;var wc=Ib,yc;(yc=!Va)||(yc=9<=Number(wc));
var gd=yc,$d=function(ja,Aa){Lb(Aa,function(hb,Eb){hb&&"object"==typeof hb&&hb.D&&(hb=hb.C());"style"==Eb?ja.style.cssText=hb:"class"==Eb?ja.className=hb:"for"==Eb?ja.htmlFor=hb:te.hasOwnProperty(Eb)?ja.setAttribute(te[Eb],hb):0==Eb.lastIndexOf("aria-",0)||0==Eb.lastIndexOf("data-",0)?ja.setAttribute(Eb,hb):ja[Eb]=hb})},te={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",
type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Ed=function(ja,Aa,hb,Eb){function kc(Xe){Xe&&Aa.appendChild("string"===typeof Xe?ja.createTextNode(Xe):Xe)}for(;Eb<hb.length;Eb++){var zc=hb[Eb];if(!ha(zc)||Fa(zc)&&0<zc.nodeType)kc(zc);else{a:{if(zc&&"number"==typeof zc.length){if(Fa(zc)){var Jd="function"==typeof zc.item||"string"==typeof zc.item;break a}if("function"===typeof zc){Jd="function"==typeof zc.item;break a}}Jd=!1}Wc(Jd?Ta(zc):zc,kc)}}},Je=function(ja,Aa){Aa=String(Aa);"application/xhtml+xml"===
ja.contentType&&(Aa=Aa.toLowerCase());return ja.createElement(Aa)},He=function(ja){wb(ja,"Node cannot be null or undefined.");return 9==ja.nodeType?ja:ja.ownerDocument||ja.document},ye=function(ja){this.B=ja||jb.document||document};var oe=ye.prototype;oe.getElementsByTagName=function(ja,Aa){return(Aa||this.B).getElementsByTagName(String(ja))};oe.fa=function(ja,Aa,hb){var Eb=this.B,kc=arguments,zc=String(kc[0]),Jd=kc[1];if(!gd&&Jd&&(Jd.name||Jd.type)){zc=["<",zc];Jd.name&&zc.push(' name="',pg(Jd.name),
'"');if(Jd.type){zc.push(' type="',pg(Jd.type),'"');var Xe={};mb(Xe,Jd);delete Xe.type;Jd=Xe}zc.push(">");zc=zc.join("")}zc=Je(Eb,zc);Jd&&("string"===typeof Jd?zc.className=Jd:Array.isArray(Jd)?zc.className=Jd.join(" "):$d(zc,Jd));2<kc.length&&Ed(Eb,zc,kc,2);return zc};oe.createElement=function(ja){return Je(this.B,ja)};oe.createTextNode=function(ja){return this.B.createTextNode(String(ja))};oe.appendChild=function(ja,Aa){wb(null!=ja&&null!=Aa,"goog.dom.appendChild expects non-null arguments");ja.appendChild(Aa)};
oe.append=function(ja,Aa){Ed(He(ja),ja,arguments,1)};oe.canHaveChildren=function(ja){if(1!=ja.nodeType)return!1;switch(ja.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};oe.removeNode=function(ja){return ja&&
ja.parentNode?ja.parentNode.removeChild(ja):null};oe.contains=function(ja,Aa){if(!ja||!Aa)return!1;if(ja.contains&&1==Aa.nodeType)return ja==Aa||ja.contains(Aa);if("undefined"!=typeof ja.compareDocumentPosition)return ja==Aa||!!(ja.compareDocumentPosition(Aa)&16);for(;Aa&&ja!=Aa;)Aa=Aa.parentNode;return Aa==ja};var of=window,Cf=document,rh=of.location,Bh=function(){},$g=/\[native code\]/,Hf=function(ja,Aa,hb){return ja[Aa]=ja[Aa]||hb},ei=function(ja){for(var Aa=0;Aa<this.length;Aa++)if(this[Aa]===
ja)return Aa;return-1},Gh=function(ja){ja=ja.sort();for(var Aa=[],hb=void 0,Eb=0;Eb<ja.length;Eb++){var kc=ja[Eb];kc!=hb&&Aa.push(kc);hb=kc}return Aa},ni=/&/g,wg=/</g,Lg=/>/g,Pe=/"/g,Vi=/'/g,Pb=function(ja){return String(ja).replace(ni,"&amp;").replace(wg,"&lt;").replace(Lg,"&gt;").replace(Pe,"&quot;").replace(Vi,"&#39;")},Nc=function(){var ja;if((ja=Object.create)&&$g.test(ja))ja=ja(null);else{ja={};for(var Aa in ja)ja[Aa]=void 0}return ja},fe=function(ja,Aa){return Object.prototype.hasOwnProperty.call(ja,
Aa)},ge=function(ja){if($g.test(Object.keys))return Object.keys(ja);var Aa=[],hb;for(hb in ja)fe(ja,hb)&&Aa.push(hb);return Aa},Mf=function(ja,Aa){ja=ja||{};for(var hb in ja)fe(ja,hb)&&(Aa[hb]=ja[hb])},jg=function(ja){return function(){of.setTimeout(ja,0)}},fi=function(ja,Aa){if(!ja)throw Error(Aa||"");},Ch=Hf(of,"gapi",{}),zk=function(ja,Aa,hb){var Eb=new RegExp("([#].*&|[#])"+Aa+"=([^&#]*)","g");Aa=new RegExp("([?#].*&|[?#])"+Aa+"=([^&#]*)","g");if(ja=ja&&(Eb.exec(ja)||Aa.exec(ja)))try{hb=decodeURIComponent(ja[2])}catch(kc){}return hb},
Wm=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),Xm=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,Fm=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),Vk=/%([a-f]|[0-9a-fA-F][a-f])/g,Gm=/^(https?|ftp|file|chrome-extension):$/i,Wk=function(ja){ja=String(ja);ja=ja.replace(Xm,function(kc){try{return encodeURIComponent(kc)}catch(zc){return encodeURIComponent(kc.replace(/^[^%]+$/g,
"\ufffd"))}}).replace(Fm,function(kc){return kc.replace(/%/g,"%25")}).replace(Vk,function(kc){return kc.toUpperCase()});ja=ja.match(Wm)||[];var Aa=Nc(),hb=function(kc){return kc.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},Eb=!!(ja[1]||"").match(Gm);Aa.A=hb((ja[1]||"")+(ja[2]||"")+(ja[3]||(ja[2]&&Eb?"/":"")));Eb=function(kc){return hb(kc.replace(/\?/g,"%3F").replace(/#/g,"%23"))};Aa.query=ja[5]?[Eb(ja[5])]:[];Aa.i=ja[7]?
[Eb(ja[7])]:[];return Aa},dm=function(ja){return ja.A+(0<ja.query.length?"?"+ja.query.join("&"):"")+(0<ja.i.length?"#"+ja.i.join("&"):"")},Il=function(ja,Aa){var hb=[];if(ja)for(var Eb in ja)if(fe(ja,Eb)&&null!=ja[Eb]){var kc=Aa?Aa(ja[Eb]):ja[Eb];hb.push(encodeURIComponent(Eb)+"="+encodeURIComponent(kc))}return hb},bj=function(ja,Aa,hb,Eb){ja=Wk(ja);ja.query.push.apply(ja.query,Il(Aa,Eb));ja.i.push.apply(ja.i,Il(hb,Eb));return dm(ja)},Jl=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+
"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),Xf=function(ja,Aa){var hb=Wk(Aa);Aa=hb.A;hb.query.length&&(Aa+="?"+hb.query.join(""));hb.i.length&&(Aa+="#"+hb.i.join(""));var Eb="";2E3<Aa.length&&(Eb=Aa,Aa=Aa.substr(0,2E3),Aa=Aa.replace(Jl,""),Eb=Eb.substr(Aa.length));var kc=ja.createElement("div");ja=ja.createElement("a");hb=Wk(Aa);Aa=hb.A;hb.query.length&&(Aa+="?"+hb.query.join(""));hb.i.length&&(Aa+="#"+hb.i.join(""));Aa=new Se(Aa,df);Hc(ja,"HTMLAnchorElement");
Aa=Aa instanceof Se?Aa:cf(Aa);ja.href=v(Aa);kc.appendChild(ja);Aa=kc.innerHTML;hb=new yb(R,"Assignment to self.");bf(nb(hb),"must provide justification");wb(!/^[\s\xa0]*$/.test(nb(hb)),"must provide non-empty justification");void 0===ze&&(ze=lc("gapi#html"));Aa=(hb=ze)?hb.createHTML(Aa):Aa;Aa=new yf(Aa,null,ug);if(kc.tagName&&dh[kc.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+kc.tagName+".");if(ed())for(;kc.lastChild;)kc.removeChild(kc.lastChild);
kc.innerHTML=wf(Aa);Aa=String(kc.firstChild.href);kc.parentNode&&kc.parentNode.removeChild(kc);hb=Wk(Aa+Eb);Eb=hb.A;hb.query.length&&(Eb+="?"+hb.query.join(""));hb.i.length&&(Eb+="#"+hb.i.join(""));return Eb},sj=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,Ak=function(ja,Aa,hb,Eb){if(of[hb+"EventListener"])of[hb+"EventListener"](ja,Aa,!1);else if(of[Eb+"tachEvent"])of[Eb+"tachEvent"]("on"+ja,Aa)},em=function(){var ja=Cf.readyState;return"complete"===ja||"interactive"===ja&&-1==navigator.userAgent.indexOf("MSIE")},
Zm=function(ja){var Aa=Xv;if(!em())try{Aa()}catch(hb){}fm(ja)},fm=function(ja){if(em())ja();else{var Aa=!1,hb=function(){if(!Aa)return Aa=!0,ja.apply(this,arguments)};of.addEventListener?(of.addEventListener("load",hb,!1),of.addEventListener("DOMContentLoaded",hb,!1)):of.attachEvent&&(of.attachEvent("onreadystatechange",function(){em()&&hb.apply(this,arguments)}),of.attachEvent("onload",hb))}},ql=function(ja){for(;ja.firstChild;)ja.removeChild(ja.firstChild)},Qp={button:!0,div:!0,span:!0};var zg=
Hf(of,"___jsl",Nc());Hf(zg,"I",0);Hf(zg,"hel",10);var Hm=function(ja){return zg.dpo?zg.h:zk(ja,"jsh",zg.h)},po=function(ja){var Aa=Hf(zg,"sws",[]);Aa.push.apply(Aa,ja)},Kk=function(ja){return Hf(zg,"watt",Nc())[ja]},Ym=function(ja){var Aa=Hf(zg,"PQ",[]);zg.PQ=[];var hb=Aa.length;if(0===hb)ja();else for(var Eb=0,kc=function(){++Eb===hb&&ja()},zc=0;zc<hb;zc++)Aa[zc](kc)},rn=function(ja){return Hf(Hf(zg,"H",Nc()),ja,Nc())},tn=Hf(zg,"perf",Nc()),sn=Hf(tn,"g",Nc()),Xo=Hf(tn,"i",Nc());Hf(tn,"r",[]);Nc();
Nc();var Sn=function(ja,Aa,hb){var Eb=tn.r;"function"===typeof Eb?Eb(ja,Aa,hb):Eb.push([ja,Aa,hb])},$m=function(ja,Aa,hb){sn[ja]=!Aa&&sn[ja]||hb||(new Date).getTime();Sn(ja)},qo=function(ja,Aa,hb){Aa&&0<Aa.length&&(Aa=ic(Aa),hb&&0<hb.length&&(Aa+="___"+ic(hb)),28<Aa.length&&(Aa=Aa.substr(0,28)+(Aa.length-28)),hb=Aa,Aa=Hf(Xo,"_p",Nc()),Hf(Aa,hb,Nc())[ja]=(new Date).getTime(),Sn(ja,"_p",hb))},ic=function(ja){return ja.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},Ui=Nc(),pa=[],
w=function(ja){throw Error("Bad hint"+(ja?": "+ja:""));};pa.push(["jsl",function(ja){for(var Aa in ja)if(fe(ja,Aa)){var hb=ja[Aa];"object"==typeof hb?zg[Aa]=Hf(zg,Aa,[]).concat(hb):Hf(zg,Aa,hb)}if(Aa=ja.u)ja=Hf(zg,"us",[]),ja.push(Aa),(Aa=/^https:(.*)$/.exec(Aa))&&ja.push("http:"+Aa[1])}]);var C=/^(\/[a-zA-Z0-9_\-]+)+$/,F=[/\/amp\//,/\/amp$/,/^\/amp$/],y=/^[a-zA-Z0-9\-_\.,!]+$/,H=/^gapi\.loaded_[0-9]+$/,L=/^[a-zA-Z0-9,._-]+$/,Q=function(ja,Aa,hb,Eb,kc){var zc=ja.split(";"),Jd=zc.shift(),Xe=Ui[Jd],
$e=null;Xe?$e=Xe(zc,Aa,hb,Eb):w("no hint processor for: "+Jd);$e||w("failed to generate load url");Aa=$e;hb=Aa.match(La);(Eb=Aa.match(ma))&&1===Eb.length&&na.test(Aa)&&hb&&1===hb.length||w("failed sanity: "+ja);try{kc&&0<kc.length&&($e=$e+"?le="+kc.join(","))}catch(ag){}return $e},ba=function(ja,Aa,hb,Eb){ja=qa(ja);H.test(hb)||w("invalid_callback");Aa=S(Aa);Eb=Eb&&Eb.length?S(Eb):null;var kc=function(zc){return encodeURIComponent(zc).replace(/%2C/g,",")};return[encodeURIComponent(ja.pathPrefix).replace(/%2C/g,
",").replace(/%2F/g,"/"),"/k=",kc(ja.version),"/m=",kc(Aa),Eb?"/exm="+kc(Eb):"","/rt=j/sv=1/d=1/ed=1",ja.T?"/am="+kc(ja.T):"",ja.Z?"/rs="+kc(ja.Z):"",ja.aa?"/t="+kc(ja.aa):"","/cb=",kc(hb)].join("")},qa=function(ja){"/"!==ja.charAt(0)&&w("relative path");for(var Aa=ja.substring(1).split("/"),hb=[];Aa.length;){ja=Aa.shift();if(!ja.length||0==ja.indexOf("."))w("empty/relative directory");else if(0<ja.indexOf("=")){Aa.unshift(ja);break}hb.push(ja)}ja={};for(var Eb=0,kc=Aa.length;Eb<kc;++Eb){var zc=Aa[Eb].split("="),
Jd=decodeURIComponent(zc[0]),Xe=decodeURIComponent(zc[1]);2==zc.length&&Jd&&Xe&&(ja[Jd]=ja[Jd]||Xe)}Aa="/"+hb.join("/");C.test(Aa)||w("invalid_prefix");hb=0;for(Eb=F.length;hb<Eb;++hb)F[hb].test(Aa)&&w("invalid_prefix");hb=Y(ja,"k",!0);Eb=Y(ja,"am");kc=Y(ja,"rs");ja=Y(ja,"t");return{pathPrefix:Aa,version:hb,T:Eb,Z:kc,aa:ja}},S=function(ja){for(var Aa=[],hb=0,Eb=ja.length;hb<Eb;++hb){var kc=ja[hb].replace(/\./g,"_").replace(/-/g,"_");L.test(kc)&&Aa.push(kc)}return Aa.join(",")},Y=function(ja,Aa,hb){ja=
ja[Aa];!ja&&hb&&w("missing: "+Aa);if(ja){if(y.test(ja))return ja;w("invalid: "+Aa)}return null},na=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,ma=/\/cb=/g,La=/\/\//g,Xa=function(){var ja=Hm(rh.href);if(!ja)throw Error("Bad hint");return ja};Ui.m=function(ja,Aa,hb,Eb){(ja=ja[0])||w("missing_hint");return"https://apis.google.com"+ba(ja,Aa,hb,Eb)};var eb=decodeURI("%73cript"),db=/^[-+_0-9\/A-Za-z]+={0,2}$/,Rb=function(ja,Aa){for(var hb=[],Eb=0;Eb<ja.length;++Eb){var kc=
ja[Eb];kc&&0>ei.call(Aa,kc)&&hb.push(kc)}return hb},Cc=function(){var ja=zg.nonce;return void 0!==ja?ja&&ja===String(ja)&&ja.match(db)?ja:zg.nonce=null:Cf.querySelector?(ja=Cf.querySelector("script[nonce]"))?(ja=ja.nonce||ja.getAttribute("nonce")||"",ja&&ja===String(ja)&&ja.match(db)?zg.nonce=ja:zg.nonce=null):null:null},Xc=function(ja){if("loading"!=Cf.readyState)Oc(ja);else{var Aa=Cc(),hb="";null!==Aa&&(hb=' nonce="'+Aa+'"');ja="<"+eb+' src="'+encodeURI(ja)+'"'+hb+"></"+eb+">";Cf.write(Ge?Ge.createHTML(ja):
ja)}},Oc=function(ja){var Aa=Cf.createElement(eb);Aa.setAttribute("src",Ge?Ge.createScriptURL(ja):ja);ja=Cc();null!==ja&&Aa.setAttribute("nonce",ja);Aa.async="true";(ja=Cf.getElementsByTagName(eb)[0])?ja.parentNode.insertBefore(Aa,ja):(Cf.head||Cf.body||Cf.documentElement).appendChild(Aa)},dd=function(ja,Aa){var hb=Aa&&Aa._c;if(hb)for(var Eb=0;Eb<pa.length;Eb++){var kc=pa[Eb][0],zc=pa[Eb][1];zc&&fe(hb,kc)&&zc(hb[kc],ja,Aa)}},Md=function(ja,Aa,hb){Kf(function(){var Eb=Aa===Hm(rh.href)?Hf(Ch,"_",Nc()):
Nc();Eb=Hf(rn(Aa),"_",Eb);ja(Eb)},hb)},ee=function(ja,Aa){var hb=Aa||{};"function"==typeof Aa&&(hb={},hb.callback=Aa);dd(ja,hb);Aa=ja?ja.split(":"):[];var Eb=hb.h||Xa(),kc=Hf(zg,"ah",Nc());if(kc["::"]&&Aa.length){ja=[];for(var zc=null;zc=Aa.shift();){var Jd=zc.split(".");Jd=kc[zc]||kc[Jd[1]&&"ns:"+Jd[0]||""]||Eb;var Xe=ja.length&&ja[ja.length-1]||null,$e=Xe;Xe&&Xe.hint==Jd||($e={hint:Jd,features:[]},ja.push($e));$e.features.push(zc)}var ag=ja.length;if(1<ag){var Yf=hb.callback;Yf&&(hb.callback=function(){0==
--ag&&Yf()})}for(;Aa=ja.shift();)Wb(Aa.features,hb,Aa.hint)}else Wb(Aa||[],hb,Eb)},Wb=function(ja,Aa,hb){ja=Gh(ja)||[];var Eb=Aa.callback,kc=Aa.config,zc=Aa.timeout,Jd=Aa.ontimeout,Xe=Aa.onerror,$e=void 0;"function"==typeof Xe&&($e=Xe);var ag=null,Yf=!1;if(zc&&!Jd||!zc&&Jd)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";Xe=Hf(rn(hb),"r",[]).sort();var Wi=Hf(rn(hb),"L",[]).sort(),Oj=zg.le,Yh=[].concat(Xe),Xi=function(Bk,ps){if(Yf)return 0;of.clearTimeout(ag);Wi.push.apply(Wi,
Ji);var un=((Ch||{}).config||{}).update;un?un(kc):kc&&Hf(zg,"cu",[]).push(kc);if(ps){qo("me0",Bk,Yh);try{Md(ps,hb,$e)}finally{qo("me1",Bk,Yh)}}return 1};0<zc&&(ag=of.setTimeout(function(){Yf=!0;Jd()},zc));var Ji=Rb(ja,Wi);if(Ji.length){Ji=Rb(ja,Xe);var ik=Hf(zg,"CP",[]),sl=ik.length;ik[sl]=function(Bk){if(!Bk)return 0;qo("ml1",Ji,Yh);var ps=function(ap){ik[sl]=null;Xi(Ji,Bk)&&Ym(function(){Eb&&Eb();ap()})},un=function(){var ap=ik[sl+1];ap&&ap()};0<sl&&ik[sl-1]?ik[sl]=function(){ps(un)}:ps(un)};if(Ji.length){var Lm=
"loaded_"+zg.I++;Ch[Lm]=function(Bk){ik[sl](Bk);Ch[Lm]=null};ja=Q(hb,Ji,"gapi."+Lm,Xe,Oj);Xe.push.apply(Xe,Ji);qo("ml0",Ji,Yh);Aa.sync||of.___gapisync?Xc(ja):Oc(ja)}else ik[sl](Bh)}else Xi(Ji)&&Eb&&Eb()},Ge=lc("gapi#gapi"),Kf=function(ja,Aa){if(zg.hee&&0<zg.hel)try{return ja()}catch(hb){Aa&&Aa(hb),zg.hel--,ee("debug_error",function(){try{window.___jsl.hefn(hb)}catch(Eb){throw hb;}})}else try{return ja()}catch(hb){throw Aa&&Aa(hb),hb;}};Ch.load=function(ja,Aa){return Kf(function(){return ee(ja,Aa)})};
var fd=function(ja){var Aa=window.___jsl=window.___jsl||{};Aa[ja]=Aa[ja]||[];return Aa[ja]},cg=function(ja){var Aa=window.___jsl=window.___jsl||{};Aa.cfg=!ja&&Aa.cfg||{};return Aa.cfg},lh=function(ja){return"object"===typeof ja&&/\[native code\]/.test(ja.push)},Tf=function(ja,Aa,hb){if(Aa&&"object"===typeof Aa)for(var Eb in Aa)!Object.prototype.hasOwnProperty.call(Aa,Eb)||hb&&"___goc"===Eb&&"undefined"===typeof Aa[Eb]||(ja[Eb]&&Aa[Eb]&&"object"===typeof ja[Eb]&&"object"===typeof Aa[Eb]&&!lh(ja[Eb])&&
!lh(Aa[Eb])?Tf(ja[Eb],Aa[Eb]):Aa[Eb]&&"object"===typeof Aa[Eb]?(ja[Eb]=lh(Aa[Eb])?[]:{},Tf(ja[Eb],Aa[Eb])):ja[Eb]=Aa[Eb])},xf=function(ja){if(ja&&!/^\s+$/.test(ja)){for(;0==ja.charCodeAt(ja.length-1);)ja=ja.substring(0,ja.length-1);try{var Aa=window.JSON.parse(ja)}catch(hb){}if("object"===typeof Aa)return Aa;try{Aa=(new Function("return ("+ja+"\n)"))()}catch(hb){}if("object"===typeof Aa)return Aa;try{Aa=(new Function("return ({"+ja+"\n})"))()}catch(hb){}return"object"===typeof Aa?Aa:{}}},Ce=function(ja,
Aa){var hb={___goc:void 0};ja.length&&ja[ja.length-1]&&Object.hasOwnProperty.call(ja[ja.length-1],"___goc")&&"undefined"===typeof ja[ja.length-1].___goc&&(hb=ja.pop());Tf(hb,Aa);ja.push(hb)},Hg=function(ja){cg(!0);var Aa=window.___gcfg,hb=fd("cu"),Eb=window.___gu;Aa&&Aa!==Eb&&(Ce(hb,Aa),window.___gu=Aa);Aa=fd("cu");var kc=document.scripts||document.getElementsByTagName("script")||[];Eb=[];var zc=[];zc.push.apply(zc,fd("us"));for(var Jd=0;Jd<kc.length;++Jd)for(var Xe=kc[Jd],$e=0;$e<zc.length;++$e)Xe.src&&
0==Xe.src.indexOf(zc[$e])&&Eb.push(Xe);0==Eb.length&&0<kc.length&&kc[kc.length-1].src&&Eb.push(kc[kc.length-1]);for(kc=0;kc<Eb.length;++kc)Eb[kc].getAttribute("gapi_processed")||(Eb[kc].setAttribute("gapi_processed",!0),(zc=Eb[kc])?(Jd=zc.nodeType,zc=3==Jd||4==Jd?zc.nodeValue:zc.textContent||""):zc=void 0,(zc=xf(zc))&&Aa.push(zc));ja&&Ce(hb,ja);Eb=fd("cd");ja=0;for(Aa=Eb.length;ja<Aa;++ja)Tf(cg(),Eb[ja],!0);Eb=fd("ci");ja=0;for(Aa=Eb.length;ja<Aa;++ja)Tf(cg(),Eb[ja],!0);ja=0;for(Aa=hb.length;ja<Aa;++ja)Tf(cg(),
hb[ja],!0)},Qg=function(ja){var Aa=cg();if(!ja)return Aa;ja=ja.split("/");for(var hb=0,Eb=ja.length;Aa&&"object"===typeof Aa&&hb<Eb;++hb)Aa=Aa[ja[hb]];return hb===ja.length&&void 0!==Aa?Aa:void 0},kg=function(ja,Aa){var hb;if("string"===typeof ja){var Eb=hb={};ja=ja.split("/");for(var kc=0,zc=ja.length;kc<zc-1;++kc)Eb=Eb[ja[kc]]={};Eb[ja[kc]]=Aa}else hb=ja;Hg(hb)},gm=function(){var ja=window.__GOOGLEAPIS;ja&&(ja.googleapis&&!ja["googleapis.config"]&&(ja["googleapis.config"]=ja.googleapis),Hf(zg,"ci",
[]).push(ja),window.__GOOGLEAPIS=void 0)},Im={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},Nj=!1,Be=Nc(),ah=function(){if(!Nj){for(var ja=document.getElementsByTagName("meta"),Aa=0;Aa<ja.length;++Aa){var hb=ja[Aa].name.toLowerCase();if(0==hb.lastIndexOf("google-signin-",0)){hb=hb.substring(14);var Eb=ja[Aa].content;Im[hb]&&Eb&&(Be[hb]=Eb)}}if(window.self!==window.top){ja=document.location.toString();for(var kc in Im)0<Im[kc]&&(Aa=zk(ja,
kc,""))&&(Be[kc]=Aa)}Nj=!0}kc=Nc();Mf(Be,kc);return kc},tj=function(ja){return!!(ja.clientid&&ja.scope&&ja.callback)},Yj=window.console,Yo=function(){return!!zg.oa},Tn=function(){},If=Hf(zg,"rw",Nc()),hk=function(ja){for(var Aa in If)ja(If[Aa])},dg=function(ja,Aa){(ja=If[ja])&&ja.state<Aa&&(ja.state=Aa)},vh=function(ja){var Aa=window.___jsl=window.___jsl||{};Aa.cfg=Aa.cfg||{};Aa=Aa.cfg;if(!ja)return Aa;ja=ja.split("/");for(var hb=0,Eb=ja.length;Aa&&"object"===typeof Aa&&hb<Eb;++hb)Aa=Aa[ja[hb]];return hb===
ja.length&&void 0!==Aa?Aa:void 0},cj=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,Jm=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,vv=function(ja){var Aa=vh("googleapis.config/sessionIndex");"string"===typeof Aa&&254<Aa.length&&(Aa=null);null==Aa&&(Aa=window.__X_GOOG_AUTHUSER);"string"===typeof Aa&&254<Aa.length&&(Aa=null);if(null==Aa){var hb=window.google;hb&&(Aa=hb.authuser)}"string"===typeof Aa&&254<Aa.length&&(Aa=null);
null==Aa&&(ja=ja||window.location.href,Aa=zk(ja,"authuser")||null,null==Aa&&(Aa=(Aa=ja.match(cj))?Aa[1]:null));if(null==Aa)return null;Aa=String(Aa);254<Aa.length&&(Aa=null);return Aa},wv=function(ja){var Aa=vh("googleapis.config/sessionDelegate");"string"===typeof Aa&&21<Aa.length&&(Aa=null);null==Aa&&(Aa=(ja=(ja||window.location.href).match(Jm))?ja[1]:null);if(null==Aa)return null;Aa=String(Aa);21<Aa.length&&(Aa=null);return Aa},hs,Rp,Sp=void 0,ro=function(ja){try{return jb.JSON.parse.call(jb.JSON,
ja)}catch(Aa){return!1}},Un=function(ja){return Object.prototype.toString.call(ja)},is=Un(0),xv=Un(new Date(0)),yv=Un(!0),zv=Un(""),yy=Un({}),Av=Un([]),Tp=function(ja,Aa){if(Aa)for(var hb=0,Eb=Aa.length;hb<Eb;++hb)if(ja===Aa[hb])throw new TypeError("Converting circular structure to JSON");Eb=typeof ja;if("undefined"!==Eb){hb=Array.prototype.slice.call(Aa||[],0);hb[hb.length]=ja;Aa=[];var kc=Un(ja);if(null!=ja&&"function"===typeof ja.toJSON&&(Object.prototype.hasOwnProperty.call(ja,"toJSON")||(kc!==
Av||ja.constructor!==Array&&ja.constructor!==Object)&&(kc!==yy||ja.constructor!==Array&&ja.constructor!==Object)&&kc!==zv&&kc!==is&&kc!==yv&&kc!==xv))return Tp(ja.toJSON.call(ja),hb);if(null==ja)Aa[Aa.length]="null";else if(kc===is)ja=Number(ja),isNaN(ja)||isNaN(ja-ja)?ja="null":-0===ja&&0>1/ja&&(ja="-0"),Aa[Aa.length]=String(ja);else if(kc===yv)Aa[Aa.length]=String(!!Number(ja));else{if(kc===xv)return Tp(ja.toISOString.call(ja),hb);if(kc===Av&&Un(ja.length)===is){Aa[Aa.length]="[";var zc=0;for(Eb=
Number(ja.length)>>0;zc<Eb;++zc)zc&&(Aa[Aa.length]=","),Aa[Aa.length]=Tp(ja[zc],hb)||"null";Aa[Aa.length]="]"}else if(kc==zv&&Un(ja.length)===is){Aa[Aa.length]='"';zc=0;for(hb=Number(ja.length)>>0;zc<hb;++zc)Eb=String.prototype.charAt.call(ja,zc),kc=String.prototype.charCodeAt.call(ja,zc),Aa[Aa.length]="\b"===Eb?"\\b":"\f"===Eb?"\\f":"\n"===Eb?"\\n":"\r"===Eb?"\\r":"\t"===Eb?"\\t":"\\"===Eb||'"'===Eb?"\\"+Eb:31>=kc?"\\u"+(kc+65536).toString(16).substr(1):32<=kc&&65535>=kc?Eb:"\ufffd";Aa[Aa.length]=
'"'}else if("object"===Eb){Aa[Aa.length]="{";Eb=0;for(zc in ja)Object.prototype.hasOwnProperty.call(ja,zc)&&(kc=Tp(ja[zc],hb),void 0!==kc&&(Eb++&&(Aa[Aa.length]=","),Aa[Aa.length]=Tp(zc),Aa[Aa.length]=":",Aa[Aa.length]=kc));Aa[Aa.length]="}"}else return}return Aa.join("")}},zy=/[\0-\x07\x0b\x0e-\x1f]/,Ay=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,By=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,Cy=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,
Dy=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,Ey=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,Fy=/[ \t\n\r]+/g,Gy=/[^"]:/,Hy=/""/g,Iy=/true|false|null/g,Jy=/00/,Ky=/[\{]([^0\}]|0[^:])/,Ly=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,My=/[^\[,:][\[\{]/,Ny=/^(\{|\}|\[|\]|,|:|0)+/,Oy=/\u2028/g,Py=/\u2029/g,Qy=function(ja){ja=String(ja);if(zy.test(ja)||Ay.test(ja)||By.test(ja)||Cy.test(ja))return!1;var Aa=ja.replace(Dy,'""');Aa=Aa.replace(Ey,"0");Aa=Aa.replace(Fy,"");if(Gy.test(Aa))return!1;Aa=Aa.replace(Hy,
"0");Aa=Aa.replace(Iy,"0");if(Jy.test(Aa)||Ky.test(Aa)||Ly.test(Aa)||My.test(Aa)||!Aa||Aa.replace(Ny,""))return!1;ja=ja.replace(Oy,"\\u2028").replace(Py,"\\u2029");Aa=void 0;try{Aa=Sp?[ro(ja)]:eval("(function (var_args) {\n  return Array.prototype.slice.call(arguments, 0);\n})(\n"+ja+"\n)")}catch(hb){return!1}return Aa&&1===Aa.length?Aa[0]:!1},Bv=function(){var ja=((jb.document||{}).scripts||[]).length;if((void 0===hs||void 0===Sp||Rp!==ja)&&-1!==Rp){hs=Sp=!1;Rp=-1;try{try{Sp=!!jb.JSON&&'{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'===
jb.JSON.stringify.call(jb.JSON,{a:[3,!0,new Date(0)],c:function(){}})&&!0===ro("true")&&3===ro('[{"a":3}]')[0].a}catch(Aa){}hs=Sp&&!ro("[00]")&&!ro('"\u0007"')&&!ro('"\\0"')&&!ro('"\\v"')}finally{Rp=ja}}},Cv=function(ja){if(-1===Rp)return!1;Bv();return(hs?ro:Qy)(ja)},Dv=function(ja){if(-1!==Rp)return Bv(),Sp?jb.JSON.stringify.call(jb.JSON,ja):Tp(ja)},Ry=!Date.prototype.toISOString||"function"!==typeof Date.prototype.toISOString||"1970-01-01T00:00:00.000Z"!==(new Date(0)).toISOString(),Sy=function(){var ja=
Date.prototype.getUTCFullYear.call(this);return[0>ja?"-"+String(1E6-ja).substr(1):9999>=ja?String(1E4+ja).substr(1):"+"+String(1E6+ja).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1E3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),
"Z"].join("")};Date.prototype.toISOString=Ry?Sy:Date.prototype.toISOString;var Yq=function(){this.blockSize=64;this.g=[];this.K=[];this.da=[];this.G=[];this.G[0]=128;for(var ja=1;ja<this.blockSize;++ja)this.G[ja]=0;this.H=this.o=0;this.reset()};tb(Yq,function(){this.blockSize=-1});Yq.prototype.reset=function(){this.g[0]=1732584193;this.g[1]=4023233417;this.g[2]=2562383102;this.g[3]=271733878;this.g[4]=3285377520;this.H=this.o=0};var js=function(ja,Aa,hb){hb||(hb=0);var Eb=ja.da;if("string"===typeof Aa)for(var kc=
0;16>kc;kc++)Eb[kc]=Aa.charCodeAt(hb)<<24|Aa.charCodeAt(hb+1)<<16|Aa.charCodeAt(hb+2)<<8|Aa.charCodeAt(hb+3),hb+=4;else for(kc=0;16>kc;kc++)Eb[kc]=Aa[hb]<<24|Aa[hb+1]<<16|Aa[hb+2]<<8|Aa[hb+3],hb+=4;for(kc=16;80>kc;kc++){var zc=Eb[kc-3]^Eb[kc-8]^Eb[kc-14]^Eb[kc-16];Eb[kc]=(zc<<1|zc>>>31)&4294967295}Aa=ja.g[0];hb=ja.g[1];var Jd=ja.g[2],Xe=ja.g[3],$e=ja.g[4];for(kc=0;80>kc;kc++){if(40>kc)if(20>kc){zc=Xe^hb&(Jd^Xe);var ag=1518500249}else zc=hb^Jd^Xe,ag=1859775393;else 60>kc?(zc=hb&Jd|Xe&(hb|Jd),ag=2400959708):
(zc=hb^Jd^Xe,ag=3395469782);zc=(Aa<<5|Aa>>>27)+zc+$e+ag+Eb[kc]&4294967295;$e=Xe;Xe=Jd;Jd=(hb<<30|hb>>>2)&4294967295;hb=Aa;Aa=zc}ja.g[0]=ja.g[0]+Aa&4294967295;ja.g[1]=ja.g[1]+hb&4294967295;ja.g[2]=ja.g[2]+Jd&4294967295;ja.g[3]=ja.g[3]+Xe&4294967295;ja.g[4]=ja.g[4]+$e&4294967295};Yq.prototype.update=function(ja,Aa){if(null!=ja){void 0===Aa&&(Aa=ja.length);for(var hb=Aa-this.blockSize,Eb=0,kc=this.K,zc=this.o;Eb<Aa;){if(0==zc)for(;Eb<=hb;)js(this,ja,Eb),Eb+=this.blockSize;if("string"===typeof ja)for(;Eb<
Aa;){if(kc[zc]=ja.charCodeAt(Eb),++zc,++Eb,zc==this.blockSize){js(this,kc);zc=0;break}}else for(;Eb<Aa;)if(kc[zc]=ja[Eb],++zc,++Eb,zc==this.blockSize){js(this,kc);zc=0;break}}this.o=zc;this.H+=Aa}};Yq.prototype.digest=function(){var ja=[],Aa=8*this.H;56>this.o?this.update(this.G,56-this.o):this.update(this.G,this.blockSize-(this.o-56));for(var hb=this.blockSize-1;56<=hb;hb--)this.K[hb]=Aa&255,Aa/=256;js(this,this.K);for(hb=Aa=0;5>hb;hb++)for(var Eb=24;0<=Eb;Eb-=8)ja[Aa]=this.g[hb]>>Eb&255,++Aa;return ja};
var Ev=function(){this.P=new Yq};Ev.prototype.reset=function(){this.P.reset()};var zt=of.crypto,Fv=!1,ks=0,Ty=0,At=1,Bt=0,ls="",Gv=function(ja){ja=ja||of.event;var Aa=ja.screenX+ja.clientX<<16;Aa+=ja.screenY+ja.clientY;Aa*=(new Date).getTime()%1E6;At=At*Aa%Bt;0<ks&&++Ty==ks&&Ak("mousemove",Gv,"remove","de")},Hv=function(ja){var Aa=new Ev;ja=unescape(encodeURIComponent(ja));for(var hb=[],Eb=0,kc=ja.length;Eb<kc;++Eb)hb.push(ja.charCodeAt(Eb));Aa.P.update(hb);Aa=Aa.P.digest();ja="";for(hb=0;hb<Aa.length;hb++)ja+=
"0123456789ABCDEF".charAt(Math.floor(Aa[hb]/16))+"0123456789ABCDEF".charAt(Aa[hb]%16);return ja};(Fv=!!zt&&"function"==typeof zt.getRandomValues)||(Bt=1E6*(screen.width*screen.width+screen.height),ls=Hv(Cf.cookie+"|"+Cf.location+"|"+(new Date).getTime()+"|"+Math.random()),ks=vh("random/maxObserveMousemove")||0,0!=ks&&Ak("mousemove",Gv,"add","at"));var Iv=function(){var ja=zg.onl;if(!ja){ja=Nc();zg.onl=ja;var Aa=Nc();ja.e=function(hb){var Eb=Aa[hb];Eb&&(delete Aa[hb],Eb())};ja.a=function(hb,Eb){Aa[hb]=
Eb};ja.r=function(hb){delete Aa[hb]}}return ja},bh=function(ja,Aa){Aa=Aa.onload;return"function"===typeof Aa?(Iv().a(ja,Aa),Aa):null},bC=function(ja){fi(/^\w+$/.test(ja),"Unsupported id - "+ja);return'onload="window.___jsl.onl.e(&#34;'+ja+'&#34;)"'},cC=function(ja){Iv().r(ja)},dC={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},eC={allowtransparency:!0,onload:!0},Jv=0,fC=function(ja){fi(!ja||sj.test(ja),
"Illegal url for new iframe - "+ja)},Kv=function(ja,Aa,hb,Eb,kc){fC(hb.src);var zc,Jd=bh(Eb,hb),Xe=Jd?bC(Eb):"";try{document.all&&(zc=ja.createElement('<iframe frameborder="'+Pb(String(hb.frameborder))+'" scrolling="'+Pb(String(hb.scrolling))+'" '+Xe+' name="'+Pb(String(hb.name))+'"/>'))}catch(ag){}finally{zc||(zc=(ja?new ye(He(ja)):kd||(kd=new ye)).fa("IFRAME"),Jd&&(zc.onload=function(){zc.onload=null;Jd.call(this)},cC(Eb)))}zc.setAttribute("ng-non-bindable","");for(var $e in hb)ja=hb[$e],"style"===
$e&&"object"===typeof ja?Mf(ja,zc.style):eC[$e]||zc.setAttribute($e,String(ja));($e=kc&&kc.beforeNode||null)||kc&&kc.dontclear||ql(Aa);Aa.insertBefore(zc,$e);zc=$e?$e.previousSibling:Aa.lastChild;hb.allowtransparency&&(zc.allowTransparency=!0);return zc},gC=/^:[\w]+$/,hC=/:([a-zA-Z_]+):/g,Lv=function(){var ja=vv()||"0",Aa=wv(),hb=vv(void 0)||ja,Eb=wv(void 0),kc="";hb&&(kc+="u/"+encodeURIComponent(String(hb))+"/");Eb&&(kc+="b/"+encodeURIComponent(String(Eb))+"/");hb=kc||null;(kc=(Eb=!1===vh("isLoggedIn"))?
"_/im/":"")&&(hb="");var zc=vh("iframes/:socialhost:"),Jd=vh("iframes/:im_socialhost:");return{socialhost:zc,ctx_socialhost:Eb?Jd:zc,session_index:ja,session_delegate:Aa,session_prefix:hb,im_prefix:kc}},iC=function(ja,Aa){return Lv()[Aa]||""},jC=function(ja){return function(Aa,hb){return ja?Lv()[hb]||ja[hb]||"":Lv()[hb]||""}},Qh=function(ja){var Aa;ja.match(/^https?%3A/i)&&(Aa=decodeURIComponent(ja));return Xf(document,Aa?Aa:ja)},Ct=function(ja){ja=ja||"canonical";for(var Aa=document.getElementsByTagName("link"),
hb=0,Eb=Aa.length;hb<Eb;hb++){var kc=Aa[hb],zc=kc.getAttribute("rel");if(zc&&zc.toLowerCase()==ja&&(kc=kc.getAttribute("href"))&&(kc=Qh(kc))&&null!=kc.match(/^https?:\/\/[\w\-_\.]+/i))return kc}return window.location.href},Dt={se:"0"},Uy={post:!0},Vy={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Wy="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Mv=Hf(zg,"WI",Nc()),Nv=function(ja,Aa,hb){var Eb,kc={},zc=Eb=ja;"plus"==
ja&&Aa.action&&(Eb=ja+"_"+Aa.action,zc=ja+"/"+Aa.action);(Eb=Qg("iframes/"+Eb+"/url"))||(Eb=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+zc+"?usegapi=1");for(var Jd in Dt)kc[Jd]=Jd+"/"+(Aa[Jd]||Dt[Jd])+"/";kc=Xf(Cf,Eb.replace(hC,jC(kc)));Jd="iframes/"+ja+"/params/";zc={};Mf(Aa,zc);(Eb=Qg("lang")||Qg("gwidget/lang"))&&(zc.hl=Eb);Uy[ja]||(zc.origin=window.location.origin||window.location.protocol+"//"+window.location.host);zc.exp=Qg(Jd+"exp");if(Jd=Qg(Jd+"location"))for(Eb=0;Eb<Jd.length;Eb++){var Xe=
Jd[Eb];zc[Xe]=of.location[Xe]}switch(ja){case "plus":case "follow":Jd=zc.href;Eb=Aa.action?void 0:"publisher";Jd=(Jd="string"==typeof Jd?Jd:void 0)?Qh(Jd):Ct(Eb);zc.url=Jd;delete zc.href;break;case "plusone":Jd=(Jd=Aa.href)?Qh(Jd):Ct();zc.url=Jd;Jd=Aa.db;Eb=Qg();null==Jd&&Eb&&(Jd=Eb.db,null==Jd&&(Jd=Eb.gwidget&&Eb.gwidget.db));zc.db=Jd||void 0;Jd=Aa.ecp;Eb=Qg();null==Jd&&Eb&&(Jd=Eb.ecp,null==Jd&&(Jd=Eb.gwidget&&Eb.gwidget.ecp));zc.ecp=Jd||void 0;delete zc.href;break;case "signin":zc.url=Ct()}zg.ILI&&
(zc.iloader="1");delete zc["data-onload"];delete zc.rd;for(var $e in Dt)zc[$e]&&delete zc[$e];zc.gsrc=Qg("iframes/:source:");$e=Qg("inline/css");"undefined"!==typeof $e&&0<hb&&$e>=hb&&(zc.ic="1");$e=/^#|^fr-/;hb={};for(var ag in zc)fe(zc,ag)&&$e.test(ag)&&(hb[ag.replace($e,"")]=zc[ag],delete zc[ag]);ag="q"==Qg("iframes/"+ja+"/params/si")?zc:hb;$e=ah();for(var Yf in $e)!fe($e,Yf)||fe(zc,Yf)||fe(hb,Yf)||(ag[Yf]=$e[Yf]);Yf=[].concat(Wy);(ag=Qg("iframes/"+ja+"/methods"))&&"object"===typeof ag&&$g.test(ag.push)&&
(Yf=Yf.concat(ag));for(var Wi in Aa)fe(Aa,Wi)&&/^on/.test(Wi)&&("plus"!=ja||"onconnect"!=Wi)&&(Yf.push(Wi),delete zc[Wi]);delete zc.callback;hb._methods=Yf.join(",");return bj(kc,zc,hb)},Xy=["style","data-gapiscan"],Ov=function(ja){for(var Aa=Nc(),hb=0!=ja.nodeName.toLowerCase().indexOf("g:"),Eb=0,kc=ja.attributes.length;Eb<kc;Eb++){var zc=ja.attributes[Eb],Jd=zc.name,Xe=zc.value;0<=ei.call(Xy,Jd)||hb&&0!=Jd.indexOf("data-")||"null"===Xe||"specified"in zc&&!zc.specified||(hb&&(Jd=Jd.substr(5)),Aa[Jd.toLowerCase()]=
Xe)}ja=ja.style;(hb=Pv(ja&&ja.height))&&(Aa.height=String(hb));(ja=Pv(ja&&ja.width))&&(Aa.width=String(ja));return Aa},Pv=function(ja){var Aa=void 0;"number"===typeof ja?Aa=ja:"string"===typeof ja&&(Aa=parseInt(ja,10));return Aa},Qv=function(){var ja=zg.drw;hk(function(Aa){if(ja!==Aa.id&&4!=Aa.state&&"share"!=Aa.type){var hb=Aa.id,Eb=Aa.type,kc=Aa.url;Aa=Aa.userParams;var zc=Cf.getElementById(hb);if(zc){var Jd=Nv(Eb,Aa,0);Jd?(zc=zc.parentNode,kc.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==Jd.replace(/#.*/,
"").replace(/(\?|&)ic=1/,"")&&(Aa.dontclear=!0,Aa.rd=!0,Aa.ri=!0,Aa.type=Eb,Wv(zc,Aa),(Eb=If[zc.lastChild.id])&&(Eb.oid=hb),dg(hb,4))):delete If[hb]}else delete If[hb]}})},Yy=/(?:^|\s)g-((\S)*)(?:$|\s)/,Zy={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};var ms=Hf(zg,"SW",Nc());var ns=Hf(zg,"SA",Nc());var Zq=Hf(zg,"SM",Nc());var Et=Hf(zg,"FW",[]);var Rv=null;var Sv=function(ja,Aa){Tv(void 0,!1,ja,Aa)},Tv=function(ja,Aa,hb,Eb){$m("ps0",!0);hb=("string"===typeof hb?document.getElementById(hb):
hb)||Cf;var kc=Cf.documentMode;if(hb.querySelectorAll&&(!kc||8<kc)){kc=Eb?[Eb]:ge(ms).concat(ge(ns)).concat(ge(Zq));for(var zc=[],Jd=0;Jd<kc.length;Jd++){var Xe=kc[Jd];zc.push(".g-"+Xe,"g\\:"+Xe)}kc=hb.querySelectorAll(zc.join(","))}else kc=hb.getElementsByTagName("*");hb=Nc();for(zc=0;zc<kc.length;zc++){var $e=Jd=kc[zc];Xe=Eb;var ag=$e.nodeName.toLowerCase(),Yf=void 0;if($e.getAttribute("data-gapiscan"))Xe=null;else{var Wi=ag.indexOf("g:");0==Wi?Yf=ag.substr(2):(Wi=(Wi=String($e.className||$e.getAttribute("class")))&&
Yy.exec(Wi))&&(Yf=Wi[1]);Xe=!Yf||!(ms[Yf]||ns[Yf]||Zq[Yf])||Xe&&Yf!==Xe?null:Yf}Xe&&(Zy[Xe]||0==Jd.nodeName.toLowerCase().indexOf("g:")||0!=ge(Ov(Jd)).length)&&(Jd.setAttribute("data-gapiscan",!0),Hf(hb,Xe,[]).push(Jd))}if(Aa)for(var Oj in hb)for(Aa=hb[Oj],Eb=0;Eb<Aa.length;Eb++)Aa[Eb].setAttribute("data-onload",!0);for(var Yh in hb)Et.push(Yh);$m("ps1",!0);if((Oj=Et.join(":"))||ja)try{Ch.load(Oj,ja)}catch(Ji){Yj&&Yj.log&&Yj.log(Ji);return}if(Uv(Rv||{}))for(var Xi in hb){ja=hb[Xi];Yh=0;for(Aa=ja.length;Yh<
Aa;Yh++)ja[Yh].removeAttribute("data-gapiscan");Ft(Xi)}else{Eb=[];for(Xi in hb)for(ja=hb[Xi],Yh=0,Aa=ja.length;Yh<Aa;Yh++)kc=ja[Yh],Vv(Xi,kc,Ov(kc),Eb,Aa);Gt(Oj,Eb)}},$y=function(ja){var Aa=Hf(Ch,ja,{});Aa.go||(Aa.go=function(hb){return Sv(hb,ja)},Aa.render=function(hb,Eb){Eb=Eb||{};Eb.type=ja;return Wv(hb,Eb)})},az=function(ja){ms[ja]=!0},bz=function(ja){ns[ja]=!0},cz=function(ja){Zq[ja]=!0},Ft=function(ja,Aa){var hb=Kk(ja);Aa&&hb?(hb(Aa),(hb=Aa.iframeNode)&&hb.setAttribute("data-gapiattached",!0)):
Ch.load(ja,function(){var Eb=Kk(ja),kc=Aa&&Aa.iframeNode,zc=Aa&&Aa.userParams;kc&&Eb?(Eb(Aa),kc.setAttribute("data-gapiattached",!0)):(Eb=Ch[ja].go,"signin2"==ja?Eb(kc,zc):Eb(kc&&kc.parentNode,zc))})},Uv=function(){return!1},Gt=function(){},Vv=function(ja,Aa,hb,Eb,kc,zc,Jd){switch(dz(Aa,ja,zc)){case 0:ja=Zq[ja]?ja+"_annotation":ja;Eb={};Eb.iframeNode=Aa;Eb.userParams=hb;Ft(ja,Eb);break;case 1:if(Aa.parentNode){for(var Xe in hb){if(zc=fe(hb,Xe))zc=hb[Xe],zc=!!zc&&"object"===typeof zc&&(!zc.toString||
zc.toString===Object.prototype.toString||zc.toString===Array.prototype.toString);if(zc)try{hb[Xe]=Dv(hb[Xe])}catch(sl){delete hb[Xe]}}zc=!0;hb.dontclear&&(zc=!1);delete hb.dontclear;Tn();Xe=Nv(ja,hb,kc);kc=Jd||{};kc.allowPost=1;kc.attributes=Vy;kc.dontclear=!zc;Jd={};Jd.userParams=hb;Jd.url=Xe;Jd.type=ja;if(hb.rd)var $e=Aa;else $e=document.createElement("div"),Aa.setAttribute("data-gapistub",!0),$e.style.cssText="position:absolute;width:450px;left:-10000px;",Aa.parentNode.insertBefore($e,Aa);Jd.siteElement=
$e;$e.id||(Aa=$e,Hf(Mv,ja,0),zc="___"+ja+"_"+Mv[ja]++,Aa.id=zc);Aa=Nc();Aa[">type"]=ja;Mf(hb,Aa);zc=Xe;hb=$e;Xe=kc||{};Aa=Xe.attributes||{};fi(!(Xe.allowPost||Xe.forcePost)||!Aa.onload,"onload is not supported by post iframe (allowPost or forcePost)");kc=Aa=zc;gC.test(Aa)&&(kc=vh("iframes/"+kc.substring(1)+"/url"),fi(!!kc,"Unknown iframe url config for - "+Aa));zc=Xf(Cf,kc.replace(hC,iC));Aa=hb.ownerDocument||Cf;kc=Xe;var ag=0;do $e=kc.id||["I",Jv++,"_",(new Date).getTime()].join("");while(Aa.getElementById($e)&&
5>++ag);fi(5>ag,"Error creating iframe id");kc=$e;$e=Xe;ag={};var Yf={};Aa.documentMode&&9>Aa.documentMode&&(ag.hostiemode=Aa.documentMode);Mf($e.queryParams||{},ag);Mf($e.fragmentParams||{},Yf);var Wi=$e.pfname,Oj=Nc();vh("iframes/dropLegacyIdParam")||(Oj.id=kc);Oj._gfid=kc;Oj.parent=Aa.location.protocol+"//"+Aa.location.host;var Yh=zk(Aa.location.href,"parent");Wi=Wi||"";!Wi&&Yh&&(Yh=zk(Aa.location.href,"_gfid","")||zk(Aa.location.href,"id",""),Wi=zk(Aa.location.href,"pfname",""),Wi=Yh?Wi+"/"+Yh:
"");Wi||(Yh=Cv(zk(Aa.location.href,"jcp","")))&&"object"==typeof Yh&&(Wi=(Wi=Yh.id)?Yh.pfname+"/"+Wi:"");Oj.pfname=Wi;$e.connectWithJsonParam&&(Yh={},Yh.jcp=Dv(Oj),Oj=Yh);Yh=zk(zc,"rpctoken")||ag.rpctoken||Yf.rpctoken;if(!Yh){if(!(Yh=$e.rpctoken)){Yh=String;Wi=Math;var Xi=Wi.round;if(Fv){var Ji=new of.Uint32Array(1);zt.getRandomValues(Ji);Ji=Number("0."+Ji[0])}else Ji=At,Ji+=parseInt(ls.substr(0,20),16),ls=Hv(ls),Ji/=Bt+Math.pow(16,20);Yh=Yh(Xi.call(Wi,1E8*Ji))}Oj.rpctoken=Yh}$e.rpctoken=Yh;Mf(Oj,
$e.connectWithQueryParams?ag:Yf);Yh=Aa.location.href;Oj=Nc();(Wi=zk(Yh,"_bsh",zg.bsh))&&(Oj._bsh=Wi);(Yh=Hm(Yh))&&(Oj.jsh=Yh);$e.hintInFragment?Mf(Oj,Yf):Mf(Oj,ag);ag=bj(zc,ag,Yf,$e.paramsSerializer);zc=Xe;Yf=Nc();Mf(dC,Yf);Mf(zc.attributes,Yf);Yf.name=Yf.id=kc;Yf.src=ag;Xe.eurl=ag;Xe=($e=Xe)||{};zc=!!Xe.allowPost;if(Xe.forcePost||zc&&2E3<ag.length){zc=Wk(ag);Yf.src="";$e.dropDataPostorigin||(Yf["data-postorigin"]=ag);Xe=Kv(Aa,hb,Yf,kc);if(-1!=navigator.userAgent.indexOf("WebKit")){var ik=Xe.contentWindow.document;
ik.open();ag=ik.createElement("div");Yf={};Oj=kc+"_inner";Yf.name=Oj;Yf.src="";Yf.style="display:none";Kv(Aa,ag,Yf,Oj,$e)}ag=($e=zc.query[0])?$e.split("&"):[];$e=[];for(Yf=0;Yf<ag.length;Yf++)Oj=ag[Yf].split("=",2),$e.push([decodeURIComponent(Oj[0]),decodeURIComponent(Oj[1])]);zc.query=[];ag=dm(zc);fi(sj.test(ag),"Invalid URL: "+ag);zc=Aa.createElement("form");zc.method="POST";zc.target=kc;zc.style.display="none";kc=ag instanceof Se?ag:cf(ag);Hc(zc,"HTMLFormElement").action=v(kc);for(kc=0;kc<$e.length;kc++)ag=
Aa.createElement("input"),ag.type="hidden",ag.name=$e[kc][0],ag.value=$e[kc][1],zc.appendChild(ag);hb.appendChild(zc);zc.submit();zc.parentNode.removeChild(zc);ik&&ik.close();ik=Xe}else ik=Kv(Aa,hb,Yf,kc,$e);Jd.iframeNode=ik;Jd.id=ik.getAttribute("id");ik=Jd.id;hb=Nc();hb.id=ik;hb.userParams=Jd.userParams;hb.url=Jd.url;hb.type=Jd.type;hb.state=1;If[ik]=hb;ik=Jd}else ik=null;ik&&((Jd=ik.id)&&Eb.push(Jd),Ft(ja,ik))}},dz=function(ja,Aa,hb){if(ja&&1===ja.nodeType&&Aa){if(hb)return 1;if(Zq[Aa]){if(Qp[ja.nodeName.toLowerCase()])return(ja=
ja.innerHTML)&&ja.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(ns[Aa])return 0;if(ms[Aa])return 1}}return null},Wv=function(ja,Aa){var hb=Aa.type;delete Aa.type;var Eb=("string"===typeof ja?document.getElementById(ja):ja)||void 0;if(Eb){ja={};for(var kc in Aa)fe(Aa,kc)&&(ja[kc.toLowerCase()]=Aa[kc]);ja.rd=1;(Aa=!!ja.ri)&&delete ja.ri;kc=[];Vv(hb,Eb,ja,kc,0,Aa,void 0);Gt(hb,kc)}else Yj&&Yj.log&&Yj.log("string"==="gapi."+hb+".render: missing element "+typeof ja?ja:"")};Hf(Ch,"platform",{}).go=Sv;
Uv=function(ja){for(var Aa=["_c","jsl","h"],hb=0;hb<Aa.length&&ja;hb++)ja=ja[Aa[hb]];Aa=Hm(rh.href);return!ja||0!=ja.indexOf("n;")&&0!=Aa.indexOf("n;")&&ja!==Aa};Gt=function(ja,Aa){$v(ja,Aa)};var Xv=function(ja){Tv(ja,!0)},Ht=function(ja,Aa){Aa=Aa||[];for(var hb=0;hb<Aa.length;++hb)ja(Aa[hb]);for(ja=0;ja<Aa.length;ja++)$y(Aa[ja])};pa.push(["platform",function(ja,Aa,hb){Rv=hb;Aa&&Et.push(Aa);Ht(az,ja);Ht(bz,hb._c.annotation);Ht(cz,hb._c.bimodal);gm();Hg();if("explicit"!=Qg("parsetags")){po(ja);tj(ah())&&
!Qg("disableRealtimeCallback")&&Tn();if(hb&&(ja=hb.callback)){var Eb=jg(ja);delete hb.callback}Zm(function(){Xv(Eb)})}}]);Ch._pl=!0;var Yv=function(ja){if(ja=(ja=If[ja])?ja.oid:void 0){var Aa=Cf.getElementById(ja);Aa&&Aa.parentNode.removeChild(Aa);delete If[ja];Yv(ja)}},ez=/^\{h:'/,Zv=/^!_/,It="",$v=function(ja,Aa){function hb(){Ak("message",Eb,"remove","de")}function Eb(zc){var Jd=zc.data,Xe=zc.origin;if(aw(Jd,Aa)){var $e=kc;kc=!1;$e&&$m("rqe");bw(ja,function(){$e&&$m("rqd");hb();for(var ag=Hf(zg,
"RPMQ",[]),Yf=0;Yf<ag.length;Yf++)ag[Yf]({data:Jd,origin:Xe})})}}if(0!==Aa.length){It=zk(rh.href,"pfname","");var kc=!0;Ak("message",Eb,"add","at");ee(ja,hb)}},aw=function(ja,Aa){ja=String(ja);if(ez.test(ja))return!0;var hb=!1;Zv.test(ja)&&(hb=!0,ja=ja.substr(2));if(!/^\{/.test(ja))return!1;var Eb=Cv(ja);if(!Eb)return!1;ja=Eb.f;if(Eb.s&&ja&&-1!=ei.call(Aa,ja)){if("_renderstart"===Eb.s||Eb.s===It+"/"+ja+"::_renderstart")if(Eb=Eb.a&&Eb.a[hb?0:1],Aa=Cf.getElementById(ja),dg(ja,2),Eb&&Aa&&Eb.width&&Eb.height){a:{hb=
Aa.parentNode;ja=Eb||{};if(Yo()){var kc=Aa.id;if(kc){Eb=(Eb=If[kc])?Eb.state:void 0;if(1===Eb||4===Eb)break a;Yv(kc)}}(Eb=hb.nextSibling)&&Eb.getAttribute&&Eb.getAttribute("data-gapistub")&&(hb.parentNode.removeChild(Eb),hb.style.cssText="");Eb=ja.width;var zc=ja.height,Jd=hb.style;Jd.textIndent="0";Jd.margin="0";Jd.padding="0";Jd.background="transparent";Jd.borderStyle="none";Jd.cssFloat="none";Jd.styleFloat="none";Jd.lineHeight="normal";Jd.fontSize="1px";Jd.verticalAlign="baseline";hb=hb.style;
hb.display="inline-block";Jd=Aa.style;Jd.position="static";Jd.left="0";Jd.top="0";Jd.visibility="visible";Eb&&(hb.width=Jd.width=Eb+"px");zc&&(hb.height=Jd.height=zc+"px");ja.verticalAlign&&(hb.verticalAlign=ja.verticalAlign);kc&&dg(kc,3)}Aa["data-csi-wdt"]=(new Date).getTime()}return!0}return!1},bw=function(ja,Aa){ee(ja,Aa)},Up=function(ja,Aa){this.M=ja;ja=Aa||{};this.ga=Number(ja.maxAge)||0;this.V=ja.domain;this.X=ja.path;this.ha=!!ja.secure};Up.prototype.read=function(){for(var ja=this.M+"=",Aa=
document.cookie.split(/;\s*/),hb=0;hb<Aa.length;++hb){var Eb=Aa[hb];if(0==Eb.indexOf(ja))return Eb.substr(ja.length)}};Up.prototype.write=function(ja,Aa){if(!fz.test(this.M))throw"Invalid cookie name";if(!cw.test(ja))throw"Invalid cookie value";ja=this.M+"="+ja;this.V&&(ja+=";domain="+this.V);this.X&&(ja+=";path="+this.X);Aa="number"===typeof Aa?Aa:this.ga;if(0<=Aa){var hb=new Date;hb.setSeconds(hb.getSeconds()+Aa);ja+=";expires="+hb.toUTCString()}this.ha&&(ja+=";secure");document.cookie=ja;return!0};
Up.prototype.clear=function(){this.write("",0)};var cw=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,fz=/^[A-Z_][A-Z0-9_]{0,63}$/;Up.iterate=function(ja){for(var Aa=document.cookie.split(/;\s*/),hb=0;hb<Aa.length;++hb){var Eb=Aa[hb].split("="),kc=Eb.shift();ja(kc,Eb.join("="))}};var $q=function(ja){this.F=ja};$q.prototype.read=function(){if(Zo.hasOwnProperty(this.F))return Zo[this.F]};$q.prototype.write=function(ja){Zo[this.F]=ja;return!0};$q.prototype.clear=function(){delete Zo[this.F]};var Zo={};$q.iterate=function(ja){for(var Aa in Zo)Zo.hasOwnProperty(Aa)&&
ja(Aa,Zo[Aa])};var so="https:"===window.location.protocol,dw=so||"http:"===window.location.protocol?Up:$q,ew=function(ja){var Aa=ja.substr(1),hb="",Eb=window.location.hostname;if(""!==Aa){hb=parseInt(Aa,10);if(isNaN(hb))return null;Aa=Eb.split(".");if(Aa.length<hb-1)return null;Aa.length==hb-1&&(Eb="."+Eb)}else Eb="";return{j:"S"==ja.charAt(0),domain:Eb,l:hb}},gz=function(){var ja,Aa=null;dw.iterate(function(hb,Eb){0===hb.indexOf("G_AUTHUSER_")&&(hb=ew(hb.substring(11)),!ja||hb.j&&!ja.j||hb.j==ja.j&&
hb.l>ja.l)&&(ja=hb,Aa=Eb)});return{ea:ja,J:Aa}},fw=function(ja){if(!ja)return[];ja=ja.split("=");return ja[1]?ja[1].split("|"):[]},hz=function(ja){ja=ja.split(":");return{clientId:ja[0].split("=")[1],ja:fw(ja[1]),ma:fw(ja[2]),la:fw(ja[3])}},gw=function(){var ja=gz(),Aa=ja.ea;ja=ja.J;if(null!==ja){var hb;dw.iterate(function(zc,Jd){(zc=Gb(zc))&&zc.W&&zc.j==Aa.j&&zc.l==Aa.l&&(hb=Jd)});if(hb){var Eb=hz(hb),kc=Eb&&Eb.ja[Number(ja)];Eb=Eb&&Eb.clientId;if(kc)return{J:ja,ia:kc,clientId:Eb}}}return null},
os=function(){this.U=hw};oe=os.prototype;oe.$=function(){this.L||(this.v=0,this.L=!0,this.Y())};oe.Y=function(){this.L&&(this.U()?this.v=this.S:this.v=Math.min(2*(this.v||this.S),120),window.setTimeout(ra(this.Y,this),1E3*this.v))};oe.v=0;oe.S=2;oe.U=null;oe.L=!1;var Jt=null;Yo=function(){return zg.oa=!0};Tn=function(){zg.oa=!0;var ja=gw();(ja=ja&&ja.J)&&kg("googleapis.config/sessionIndex",ja);Jt||(Jt=Hf(zg,"ss",new os));ja=Jt;ja.$&&ja.$()};var hw=function(){var ja=gw(),Aa=ja&&ja.ia||null,hb=ja&&
ja.clientId;ee("auth",{callback:function(){var Eb=of.gapi.auth,kc={client_id:hb,session_state:Aa};Eb.checkSessionState(kc,function(zc){var Jd=kc.session_state,Xe=!!Qg("isLoggedIn");zc=Qg("debug/forceIm")?!1:Jd&&zc||!Jd&&!zc;if(Xe=Xe!==zc)kg("isLoggedIn",zc),Tn(),Qv(),zc||((zc=Eb.signOut)?zc():(zc=Eb.setToken)&&zc(null));zc=ah();var $e=Qg("savedUserState");Jd=Eb._guss(zc.cookiepolicy);$e=$e!=Jd&&"undefined"!=typeof $e;kg("savedUserState",Jd);(Xe||$e)&&tj(zc)&&!Qg("disableRealtimeCallback")&&Eb._pimf(zc,
!0)})}});return!0};$m("bs0",!0,window.gapi._bs);$m("bs1",!0);delete window.gapi._bs}).call(void 0);Mb.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,
"googleapis.config":{auth:{useFirstPartyAuthV2:!1}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!1,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"en",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},
url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",
methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},
plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},
plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},
url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},
sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},
zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},
h:"m;/_/scs/apps-static/_/js/k=oz.gapi.en_US.bnEFfFZ9cyI.O/am=AQ/d=1/rs=AGLTcCNaq8ri2P66tzK7chsKcRiE1CsLyQ/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"e5f685b0f2087c66363bf458bab3c4029d2a33ae",dpo:!1,le:[]},platform:"additnow backdrop blogger comments commentcount community donation family_creation follow hangout health page partnersbadge person playemm playreview plus plusone post ratingbadge savetoandroidpay savetodrive savetowallet sharetoclassroom shortlists signin2 surveyoptin visibility youtube ytsubscribe zoomableimage".split(" "),
fp:"e5f685b0f2087c66363bf458bab3c4029d2a33ae",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});var ub=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js");ub.notify=function(rc,Ta){var Lb,mb,Gb,vc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Lc){switch(Lc.nextAddress){case 1:return Lb=ub.morph({type:"text",textAlign:"center",textString:Ta,fill:null,padding:ub.Rectangle.inset(10),fontSize:30,fontColor:"white",fontWeight:"bold",
readOnly:!0,grabbable:!1}),mb=Math.max(rc.width+40,Lb.width),Gb=Math.max(120,Lb.height),vc=rc.addMorph({extent:ub.pt(mb,Gb),border:{radius:8},name:"notification",center:rc.innerBounds().center(),origin:ub.pt(mb/2,Gb/2),fill:ub.Color.gray,scale:.1,grabbable:!1,submorphs:[Lb]}),vc.submorphs[0].center=vc.innerBounds().center().subPt(ub.pt(mb/2,Gb/2)),Lc.yield(vc.animate({scale:1,duration:400}),2);case 2:return Lc.yield(ub.promise.delay(800),3);case 3:return Lc.yield(vc.animate({opacity:0,duration:400}),
4);case 4:vc.remove(),Lc.jumpToEnd()}})};ub.promise=Db;ub.fun=hc;ub.arr=Kb;ub.string=id;ub.resource=Zc;ub.pt=yd;ub.Rectangle=Kc;ub.Color=sc;ub.connect=bd;ub.once=hd;ub.signal=se;ub.morph=xe;ub.easings=ne;ub.touchInputDevice=Rc;ub.Icon=Pd;ub.config=Hb;ub.Morph=Gc;ub.Menu=ud;ub.loadMorphFromSnapshot=Vc;ub.createMorphSnapshot=Id;ub.UserRegistry=ie;ub.ClientUser=Fb;ub.loadPart=Ac;ub.LoadingIndicator=$c;ub.gapi=_missingExportShim;ub.pathForBrowserHistory=Bc;ub.ObjectPackage=pb;ub.interactivelyForkPackage=
lb;ub.addScript=Zb;Mb=Ma("UserUI",{getCurrentUser:function(){return ub.UserRegistry.current.loadUserFromLocalStorage(ub.config.users.authServerURL)},showUserFlap:function(rc){rc=void 0===rc?$world:rc;var Ta,Lb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(mb){if(1==mb.nextAddress)return mb.yield(ub.resource("part://SystemIDE/lively top bar master").read(),2);Ta=mb.yieldResult;Ta.name="lively top bar";Ta.hasFixedPosition=!0;Ta.respondsToVisibleWindow=!0;Ta.openInWorld();Ta.relayout();
Ta.top=-Ta.height;Lb=Ta.dropShadow;Ta.dropShadow=null;Ta.attachToTarget(rc);$world.onTopBarLoaded();rb.import("./__root_module__-46f2ff9c.js").then(function(Gb){return Gb.bU}).then(function(Gb){var vc,Lc,cc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Vb){switch(Vb.nextAddress){case 1:return Vb.yield(Ta.whenRendered(),2);case 2:return Vb.yield(Ta.animate({position:ub.pt(0,0),dropShadow:Lb,duration:500}),3);case 3:if(rc.metadata){Vb.jumpTo(4);break}rc.animate({customTween:function(Ub){Ta.blur=
rc.blur=3*Ub},duration:500});return Vb.yield(rc.askForName(),5);case 5:return vc=Vb.yieldResult,rc.name=vc,rc.changeMetaData("commit",{name:vc}),window.history&&window.history.pushState({},"lively.next",ub.pathForBrowserHistory(vc)),Lc=ub.ObjectPackage.withId(ub.string.camelCaseString(vc)),Vb.yield(Lc.adoptObject(rc),6);case 6:rc.animate({customTween:function(Ub){Ta.blur=rc.blur=3*(1-Ub)},duration:500});case 4:return Vb.yield(ub.resource("part://SystemUserUI/version checker").read(),7);case 7:cc=
Vb.yieldResult,cc.openInWorld(),cc.relayout(),cc.checkVersion(),Vb.jumpToEnd()}})});return mb.return(Ta)})},hideUserFlap:function(rc){rc=void 0===rc?$world:rc;rc.submorphs.filter(function(Ta){return"user flap"===Ta.name&&Ta.owner==rc}).forEach(function(Ta){return Ta.remove()})},showWidget:function(rc,Ta){Ta=void 0===Ta?{}:Ta;var Lb=this,mb,Gb,vc,Lc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cc){if(1==cc.nextAddress)return mb=Ta,Gb=void 0===mb.modal?!0:mb.modal,vc=void 0===mb.user?
Lb.getCurrentUser():mb.user,cc.yield(Lb.loadMorph(rc),2);Lc=cc.yieldResult;return cc.return(Lc.run(Gb,Ta.world,vc))})},showUserInfo:function(rc){rc=void 0===rc?{}:rc;var Ta=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Lb){return 1==Lb.nextAddress?Lb.yield(Ta.showWidget("user info",rc),2):Lb.return(Lb.yieldResult)})},showLogin:function(rc){rc=void 0===rc?{}:rc;var Ta=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Lb){return Lb.return(Ta.showWidget("login widget",
rc))})},showRegister:function(rc){rc=void 0===rc?{}:rc;var Ta=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Lb){return Lb.return(Ta.showWidget("register widget",rc))})},loadMorph:function(rc,Ta){var Lb,mb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Gb){switch(Gb.nextAddress){case 1:switch(rc){case "login widget":return Gb.jumpTo(2);case "user info":return Gb.jumpTo(3);case "register widget":return Gb.jumpTo(4)}Gb.jumpTo(5);break;case 2:return Gb.yield(ub.resource("part://SystemUserUI/login widget").read(),
6);case 6:return Gb.return(Gb.yieldResult);case 3:return Gb.yield(ub.resource("part://SystemUserUI/user info").read(),7);case 7:return Gb.return(Gb.yieldResult);case 4:return Gb.yield(ub.resource("part://SystemUserUI/register widget").read(),8);case 8:return Gb.return(Gb.yieldResult);case 5:return Lb=System.decanonicalize("lively.user/morphic/"+rc+".json"),Gb.yield(ub.resource(Lb).readJson(),9);case 9:return mb=Gb.yieldResult,Gb.return(ub.loadMorphFromSnapshot(mb,Ta))}})}});ub.UserUI=Mb;ub.UserUI=
Mb;ub.UserUI=Mb;(function(rc){var Ta=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Lb=Ta.hasOwnProperty("UserWidget")&&"function"===typeof Ta.UserWidget?Ta.UserWidget:Ta.UserWidget=function(mb){mb&&mb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return vd(Lb,rc,[{key:"run",value:function(mb,Gb,vc){var Lc=this;Gb=void 0===Gb?$world:Gb;if(void 0===mb||mb)var cc=Gb.addMorph({name:this.name+" overlay",hasFixedPosition:!0,
grabbable:!1,draggable:!1,extent:Gb.extent,fill:ub.Color.black.withA(.4)});this.epiMorph=this.hasFixedPosition=!0;this.activate(vc);return(new Promise(function(Vb,Ub){ub.once(Lc,"resolved",Vb)})).then(function(Vb){Lc.remove();cc&&cc.remove();return Vb})}},{key:"activate",value:function(mb){mb=$world;mb.addMorph(this);this.align(this.worldPoint(this.innerBounds().center()),mb.visibleBounds().center());this.focus()}},{key:"onKeyDown",value:function(mb){"Enter"===mb.keyCombo&&(this.onEnterPressed(),
mb.stop());"Escape"===mb.keyCombo&&(this.onEscapePressed(),mb.stop());"Tab"===mb.keyCombo&&(this.focusNext(),mb.stop());"Shift-Tab"===mb.keyCombo&&(this.focusPrev(),mb.stop())}},{key:"focusOrder",value:function(){return[]}},{key:"focusNext",value:function(){var mb=this.focusOrder(),Gb=this.world().focusedMorph;Gb=mb.indexOf(Gb)+1;Gb>mb.length-1&&(Gb=0);mb[Gb].focus()}},{key:"focusPrev",value:function(){var mb=this.focusOrder(),Gb=this.world().focusedMorph;Gb=mb.indexOf(Gb)-1;0>Gb&&(Gb=mb.length-1);
mb[Gb].focus()}},{key:"onEscapePressed",value:function(){this.close()}},{key:"onEnterPressed",value:function(){}},{key:"close",value:function(){}},{key:"_save",value:function(){var mb=this,Gb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vc){if(1==vc.nextAddress)return vc.yield(ub.createMorphSnapshot(mb),2);Gb=vc.yieldResult;return vc.yield(lively.modules.module("lively.user/morphic/"+mb.name+".json").changeSource(JSON.stringify(Gb,null,2),{doEval:!1}),0)})}},{key:"_htmlExport",value:function(){var mb=
this,Gb,vc,Lc,cc,Vb,Ub;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ga){if(1==Ga.nextAddress)return Gb=lively.modules.module,vc=Gb("lively.user/html/"+mb.name+".html").id,Lc=ub.resource(vc),Ga.yield(Gb("lively.morphic/rendering/html-generator.js").load(),2);if(3!=Ga.nextAddress)return cc=Ga.yieldResult,Vb=cc.generateHTML,Ga.yield(Vb(mb,Lc,{isFragment:!0,addStyles:!1}),3);Ub=Ga.yieldResult;return Ga.return({resource:Lc,html:Ub})})}},{key:"htmlExport_transformNode",value:function(mb){this.focusOrder().forEach(function(Gb,
vc){return mb.querySelector("#"+Gb.id).tabIndex=vc+1});return mb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserWidget"}},{key:"properties",get:function(){return{user:{}}}}],Ta,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:5305,end:8037})})(ub.Morph);Mb=Ma("UserInfoWidget",
function(rc){var Ta=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Lb=Ta.hasOwnProperty("UserInfoWidget")&&"function"===typeof Ta.UserInfoWidget?Ta.UserInfoWidget:Ta.UserInfoWidget=function(mb){mb&&mb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return vd(Lb,rc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),
emailInput:this.getSubmorphNamed("email input"),saveButton:this.getSubmorphNamed("save button"),logoutButton:this.getSubmorphNamed("logout button"),closeButton:this.getSubmorphNamed("close button"),userAvatar:this.getSubmorphNamed("user avatar")}}},{key:"activate",value:function(mb){vd._get(Object.getPrototypeOf(Lb.prototype),"activate",this).call(this,mb);this.displayUser(mb)}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){var mb=this.ui;return[mb.userNameInput,
mb.emailInput,mb.passwordInput,mb.passwordInput2]}},{key:"onEnterPressed",value:function(){this.trySave()}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(mb){mb.draggable=!1;mb.grabbable=!1});ub.connect(this.ui.saveButton,"fire",this,"trySave");ub.connect(this.ui.logoutButton,"fire",this,"logout");ub.connect(this.ui.closeButton,"onMouseDown",this,"close");this.ui.userNameInput.readOnly=!0;this.ui.userNameInput.selectable=!0;ub.notify(this,"OK")}},{key:"displayUser",value:function(mb){mb=
(this.user=mb)||{};var Gb=mb.email,vc=this.ui,Lc=vc.emailInput,cc=vc.passwordInput,Vb=vc.passwordInput2,Ub=vc.userAvatar;vc.userNameInput.input=mb.name||"";Lc.input=Gb||"";cc.input="";Vb.input="";Ub.imageUrl=ub.resource("https://s.gravatar.com/avatar").join(ub.string.md5(Gb||"")).withQuery({s:320}).url}},{key:"trySave",value:function(){var mb=this,Gb,vc,Lc,cc,Vb,Ub,Ga,jb,X,ha,Fa,Ja,Ca,ra,tb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Na){switch(Na.nextAddress){case 1:Gb=mb;vc=Gb.user;
Lc=Gb.ui;cc=Lc.emailInput;Vb=Lc.passwordInput;Ub=Lc.passwordInput2;if(!vc)return Na.return(mb.showError("no user object"));Ga=cc.input;jb=Vb.input;X=Ub.input;if(vc.email==Ga&&!jb&&!X)return Na.return(ub.signal(mb,"resolved",vc));if(!jb&&!X){Na.jumpTo(2);break}return jb!==X?Na.return(mb.world().inform("Passwords do not match!",{requester:mb})):Na.yield(mb.world().passwordPrompt("To set a new password, please enter your old one",{requester:mb}),3);case 3:return(ha=Na.yieldResult)?Na.yield(vc.checkPassword(ha),
4):Na.return(mb.world().inform("Old password needed to change password, aborting!",{requester:mb}));case 4:if(Fa=Na.yieldResult,!Fa)return Na.return(mb.world().inform("Old password is not correct, aborting!",{requester:mb}));case 2:return Ja={},jb&&(Ja.password=jb),Ga&&(Ja.email=Ga),Na.yield(vc.modify(Ja),5);case 5:return Ca=Na.yieldResult,ra=Ca.status,(tb=Ca.error)?Na.return(mb.world().inform("Failed to modify: "+tb,{requester:mb})):Na.yield(ub.UserRegistry.current.saveUserToLocalStorage(vc),6);
case 6:return Na.yield(ub.notify(mb,ra),7);case 7:mb.displayUser(vc),ub.signal(mb,"resolved",vc),Na.jumpToEnd()}})}},{key:"logout",value:function(){var mb=this,Gb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vc){if(1==vc.nextAddress)return vc.yield(ub.UserRegistry.current.logout(mb.user),2);if(3!=vc.nextAddress)return mb.displayUser(mb.user),mb.remove(),vc.yield(ub.UserUI.showLogin({modal:!1}),3);Gb=vc.yieldResult;ub.signal(mb,"resolved",Gb);vc.jumpToEnd()})}},{key:"close",value:function(){ub.signal(this,
"resolved",this.user)}},{key:"onMouseUp",value:function(mb){var Gb=this.ui,vc=Gb.closeButton;Gb=Gb.saveButton;switch(mb.targetMorph){case vc:this.close();break;case Gb:this.trySave()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserInfoWidget"}}],Ta,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",
version:"0.2.0"}}},{start:8046,end:12062})}(ub.UserWidget));ub.UserInfoWidget=Mb;ub.UserInfoWidget=Mb;ub.UserInfoWidget=Mb;Mb=Ma("LoginWidget",function(rc){var Ta=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Lb=Ta.hasOwnProperty("LoginWidget")&&"function"===typeof Ta.LoginWidget?Ta.LoginWidget:Ta.LoginWidget=function(mb){mb&&mb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return vd(Lb,rc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
passwordInput:this.getSubmorphNamed("password input"),loginButton:this.getSubmorphNamed("login button"),registerButton:this.getSubmorphNamed("register button"),guestButton:this.getSubmorphNamed("guest button"),emailLoginForm:this.getSubmorphNamed("email login form"),googleLogin:this.getSubmorphNamed("google login"),emailLogin:this.getSubmorphNamed("email login"),appleLogin:this.getSubmorphNamed("apple login")}}},{key:"signInWithGoogle",value:function(){ub.gapi.load("auth2",function(){var mb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Gb){if(1==
Gb.nextAddress)return ub.gapi.auth2.init({client_id:"CLIENT_ID.apps.googleusercontent.com"}),mb=ub.gapi.auth2.getAuthInstance(),Gb.yield(mb.signIn(),2);Gb.jumpToEnd()})})}},{key:"signInWithEmail",value:function(){var mb=this,Gb,vc,Lc,cc,Vb,Ub;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ga){Gb=mb.ui;vc=Gb.emailLoginForm;Lc=Gb.googleLogin;cc=Gb.emailLogin;Vb=Gb.appleLogin;Ub=ub.easings.inOutExpo;[Lc,cc,Vb].map(function(jb){return jb.animate({visible:!1,isLayoutable:!1,easing:Ub,duration:300})});
vc.animate({visible:!0,isLayoutable:!0,easing:Ub,duration:300});Ga.jumpToEnd()})}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.passwordInput]}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(jb){jb.draggable=!1;jb.grabbable=!1});var mb=this.ui,Gb=mb.registerButton,vc=mb.userNameInput,Lc=mb.appleLogin,cc=mb.passwordInput,Vb=mb.emailLoginForm,Ub=mb.googleLogin,Ga=mb.emailLogin;ub.connect(mb.loginButton,
"fire",this,"tryLogin");ub.connect(Gb,"fire",this,"switchToRegisterWidget");ub.connect(Ga,"fire",this,"signInWithEmail");ub.connect(Ub,"fire",this,"loginWithGoogle");vc.input="";cc.input="";Vb.isLayoutable=Vb.visible=!1;[Ga,Lc,Ub].map(function(jb){return jb.visible=jb.isLayoutable=!0})}},{key:"onEnterPressed",value:function(){this.tryLogin()}},{key:"tryLogin",value:function(){var mb=this,Gb,vc,Lc,cc,Vb,Ub,Ga,jb,X;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){switch(ha.nextAddress){case 1:Gb=
mb;vc=Gb.ui;Lc=vc.userNameInput;cc=vc.passwordInput;Vb=Lc.input;Ub=cc.input;if(!Vb)return ha.return();Ga=ub.ClientUser.named(Vb,ub.config.users.authServerURL);ha.setCatchFinallyBlocks(2);return ha.yield(ub.UserRegistry.current.login(Ga,Ub),4);case 4:ha.leaveTryBlock(3);break;case 2:X=ha.enterCatchBlock(),jb=X.message;case 3:if(jb)return ub.signal(mb,"loginFailed",jb),jb.includes("No user")&&mb.indicateError(mb.ui.userNameInput,jb),jb.includes("does not match")&&mb.indicateError(mb.ui.passwordInput,
"Password incorrect"),ha.return();ub.notify(mb,"logged in");ub.signal(mb,"loginSucceeded",Ga);ub.signal(mb,"resolved",Ga);ha.jumpToEnd()}})}},{key:"switchToRegisterWidget",value:function(){var mb=this,Gb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vc){if(1==vc.nextAddress)return vc.yield(ub.UserUI.showRegister({modal:!1}),2);(Gb=vc.yieldResult)&&ub.signal(mb,"resolved",Gb);vc.jumpToEnd()})}},{key:"continueAsGuest",value:function(){var mb=this,Gb,vc,Lc,cc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Vb){if(1==
Vb.nextAddress)return Gb=ub.UserRegistry.current,vc=Gb.loadUserFromLocalStorage(ub.config.users.authServerURL),vc.isGuestUser?(Lc=vc,Vb.jumpTo(2)):Vb.yield(Gb.login(ub.ClientUser.guest),3);2!=Vb.nextAddress&&(Lc=Vb.yieldResult);cc=Lc;ub.signal(mb,"resolved",cc);Vb.jumpToEnd()})}},{key:"indicateError",value:function(mb,Gb){mb.indicateError(Gb)}},{key:"clearErrors",value:function(){this.ui.userNameInput.clearError();this.ui.passwordInput.clearError()}},{key:"onMouseUp",value:function(mb){var Gb=this.ui,
vc=Gb.loginButton;Gb=Gb.registerButton;switch(mb.targetMorph){case vc:this.tryLogin();break;case Gb:this.switchToRegisterWidget()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LoginWidget"}}],Ta,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:12071,end:15982})}(ub.UserWidget));
ub.LoginWidget=Mb;ub.LoginWidget=Mb;ub.LoginWidget=Mb;Mb=Ma("RegisterWidget",function(rc){var Ta=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Lb=Ta.hasOwnProperty("RegisterWidget")&&"function"===typeof Ta.RegisterWidget?Ta.RegisterWidget:Ta.RegisterWidget=function(mb){mb&&mb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return vd(Lb,rc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
emailInput:this.getSubmorphNamed("email input"),passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),registerButton:this.getSubmorphNamed("register button"),cancelButton:this.getSubmorphNamed("cancel button")}}},{key:"onEnterPressed",value:function(){this.tryRegister()}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.emailInput,this.ui.passwordInput,this.ui.passwordInput2]}},
{key:"reset",value:function(){this.withAllSubmorphsDo(function(mb){mb.draggable=!1;mb.grabbable=!1});ub.connect(this.ui.registerButton,"fire",this,"tryRegister");ub.connect(this.ui.cancelButton,"fire",this,"close");this.ui.userNameInput.readOnly=!0;this.ui.userNameInput.selectable=!0;ub.notify(this,"OK")}},{key:"displayUser",value:function(mb){this.user=mb}},{key:"tryRegister",value:function(){var mb=this,Gb,vc,Lc,cc,Vb,Ub,Ga,jb,X,ha,Fa,Ja,Ca;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ra){switch(ra.nextAddress){case 1:Gb=
mb;vc=Gb.ui;Lc=vc.userNameInput;cc=vc.emailInput;Vb=vc.passwordInput;Ub=vc.passwordInput2;Ga=Lc.input;jb=cc.input;X=Vb.input;ha=Ub.input;if(!(Ga&&X&&ha&&jb))return Ga||Lc.indicateError("Please enter a user name!"),jb||cc.indicateError("Please enter E-Mail address!"),X||Vb.indicateError("Please enter a password!"),ha||Ub.indicateError("Please repeat your password!"),ra.return();if(X!==ha)return Ub.indicateError("Passwords do not match!"),ra.return();Fa=ub.ClientUser.named(Ga,ub.config.users.authServerURL);
jb&&(Fa.email=jb);ra.setCatchFinallyBlocks(2);return ra.yield(ub.UserRegistry.current.register(Fa,X),4);case 4:ra.leaveTryBlock(3);break;case 2:Ja=Ca=ra.enterCatchBlock();case 3:return Ja?ra.return(mb.world().inform("Failed to register: "+Ja,{requester:mb})):ra.yield(ub.notify(mb,"registered"),5);case 5:mb.displayUser(Fa),ub.signal(mb,"resolved",Fa),ra.jumpToEnd()}})}},{key:"close",value:function(){ub.signal(this,"resolved",this.user)}},{key:"onMouseUp",value:function(mb){var Gb=this.ui,vc=Gb.registerButton;
Gb=Gb.cancelButton;switch(mb.targetMorph){case vc:this.tryRegister();break;case Gb:this.close()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RegisterWidget"}}],Ta,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:15991,end:18885})}(ub.UserWidget));ub.RegisterWidget=
Mb;ub.RegisterWidget=Mb;ub.RegisterWidget=Mb;Mb=Ma("UserFlap",function(rc){var Ta=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Lb=Ta.hasOwnProperty("UserFlap")&&"function"===typeof Ta.UserFlap?Ta.UserFlap:Ta.UserFlap=function(mb){mb&&mb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return vd(Lb,rc,[{key:"isUserFlap",get:function(){return!0}},{key:"isMaximized",get:function(){return 3<this.submorphs.length}},{key:"onLoad",
value:function(){var mb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Gb){if(1==Gb.nextAddress)return Gb.yield(mb.whenRendered(),2);if([mb].concat($jscomp.arrayFromIterable(mb.ownerChain())).find(function(vc){return vc.isComponent}))return Gb.return();mb.showUser(mb.currentUser());Gb.jumpToEnd()})}},{key:"open",value:function(){var mb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Gb){mb.openInWorld();mb.showUser(mb.currentUser(),!1);mb.alignInWorld(!1);mb.hasFixedPosition=
!0;return Gb.return(mb)})}},{key:"onMouseDown",value:function(mb){var Gb=this,vc,Lc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cc){switch(cc.nextAddress){case 1:vc=mb.targetMorph.name;Lc=Gb.currentUser();switch(vc){case "profile item":return cc.return(Gb.showUserInfo(Lc));case "logout item":return cc.jumpTo(2);case "login item":return cc.jumpTo(3);case "register item":Gb.showRegister();break;case "user flap":Gb.maximize();break;case "keyboard input":Gb.toggleKeyboardInput()}cc.jumpTo(0);
break;case 2:return cc.yield(Gb.minimize(),5);case 5:return cc.yield(Gb.logout(Lc),6);case 6:return cc.return();case 3:return cc.yield(Gb.showLogin(Lc),7);case 7:return cc.return()}})}},{key:"toggleKeyboardInput",value:function(mb){mb=void 0===mb?!ub.touchInputDevice:mb;ub.touchInputDevice=mb;var Gb=this.get("keyboard input");mb?(Gb.fontColor=ub.Color.rgb(0,176,255),Gb.dropShadow=this.haloShadow):(Gb.fontColor=this.fontColor,Gb.dropShadow=!1)}},{key:"currentUser",value:function(){return ub.UserRegistry.current.loadUserFromLocalStorage(ub.config.users.authServerURL)}},
{key:"onUserChanged",value:function(mb){this.showUser(mb.user||{name:"???"},!1)}},{key:"onWorldResize",value:function(mb){!this.isComponent&&this.alignInWorld()}},{key:"relayout",value:function(){this.alignInWorld()}},{key:"alignInWorld",value:function(mb){var Gb=this,vc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Lc){if(1==Lc.nextAddress)return Lc.yield(Gb.whenRendered(),2);Gb.hasFixedPosition&&Gb.owner.isWorld?Gb.topRight=ub.pt(Gb.world().visibleBounds().width,0):Gb.owner.isWorld&&
(vc=$world.visibleBounds().topRight().withY(0).subXY(10,0),mb?Gb.animate({topRight:vc,duration:200}):Gb.topRight=vc);Lc.jumpToEnd()})}},{key:"minimize",value:function(){var mb=this,Gb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vc){if(1==vc.nextAddress)return(Gb=mb.getSubmorphNamed("user menu"))?vc.yield(Gb.animate({opacity:0,scale:.8,duration:200}),2):vc.return();Gb.visible=!1;vc.jumpToEnd()})}},{key:"ensureMenu",value:function(){var mb=this,Gb,vc,Lc,cc,Vb,Ub;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ga){switch(Ga.nextAddress){case 1:if(!mb._menuFetch){Ga.jumpTo(2);
break}return Ga.yield(mb._menuFetch,3);case 3:return Ga.return(Ga.yieldResult);case 2:Gb=ub.promise.deferred();mb._menuFetch=Gb.promise;if(vc=mb.getSubmorphNamed("user menu")){Ga.jumpTo(4);break}Lc=mb;cc=Lc.addMorph;Vb=Lc;return Ga.yield(ub.resource("part://SystemIDE/user menu master").read(),5);case 5:vc=cc.call(Vb,Ga.yieldResult);case 4:Ub=vc,Ub.name="user menu",Ub.visible=!1,Ub.opacity=0,Ub.scale=.8,Ub.position=mb.getSubmorphNamed("avatar").bottomCenter.addXY(0,10),Gb.resolve(Ub),Ga.jumpToEnd()}})}},
{key:"maximize",value:function(){var mb=this,Gb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vc){if(1==vc.nextAddress)return(Gb=mb.getSubmorphNamed("user menu"))?vc.jumpTo(2):vc.yield(mb.ensureMenu(),3);2!=vc.nextAddress&&(Gb=vc.yieldResult);Gb.right=mb.width-5;Gb.visible=!0;return vc.yield(Gb.animate({opacity:1,scale:1,duration:200}),0)})}},{key:"changeWidthAndHeight",value:function(mb,Gb,vc){var Lc=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cc){return vc?cc.yield(Lc.animate({position:Lc.position.addXY(Lc.width-
mb,0),extent:ub.pt(mb,Gb),duration:200}),0):(Lc.extent=ub.pt(mb,Gb),Lc.position=Lc.position.addXY(Lc.width-mb,0),cc.jumpTo(0))})}},{key:"showMenuItems",value:function(mb){var Gb=this;ub.arr.withoutAll(["login item","logout item","profile item","register item"],mb).map(function(vc){return Gb.getSubmorphNamed(vc)}).forEach(function(vc){vc.visible=!1;vc.bringToFront()});mb.map(function(vc){return Gb.getSubmorphNamed(vc)}).forEach(function(vc){vc.visible=!0})}},{key:"showUser",value:function(mb,Gb){var vc=
this,Lc,cc,Vb,Ub,Ga;return $jscomp.asyncExecutePromiseGeneratorProgram(function(jb){switch(jb.nextAddress){case 1:return Lc=vc.getSubmorphNamed("label"),cc=vc.getSubmorphNamed("user menu"),Vb=vc.getSubmorphNamed("avatar"),vc.getSubmorphNamed("login item"),vc.getSubmorphNamed("logout item"),vc.getSubmorphNamed("profile item"),Ub=String(mb.name),Ga=ub.resource("https://s.gravatar.com/avatar").join(ub.string.md5(mb.email||"")).withQuery({s:160}).url,jb.yield(vc.ensureMenu(),2);case 2:Ub.startsWith("guest-")?
(vc.showMenuItems(["login item","register item"]),Ub="guest"):vc.showMenuItems(["logout item","profile item"]);Lc.value=Ub;Vb.imageUrl=Ga;if(!cc){jb.jumpTo(3);break}return jb.yield(cc.master.whenApplied(),4);case 4:cc.position=Vb.bottomCenter.addXY(0,10);case 3:return jb.yield(vc.whenRendered(),5);case 5:vc.alignInWorld(),jb.jumpToEnd()}})}},{key:"showRegister",value:function(){return ub.UserUI.showRegister()}},{key:"showUserInfo",value:function(mb){return ub.UserUI.showUserInfo({user:mb})}},{key:"showLogin",
value:function(mb){return ub.UserUI.showLogin({user:mb})}},{key:"logout",value:function(mb){return ub.UserRegistry.current.logout(mb)}},{key:"onBlur",value:function(mb){var Gb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vc){if(1==vc.nextAddress)return Gb.minimize(),vc.yield(Gb.whenRendered(),2);Gb.world().focusedMorph.ownerChain().includes(Gb)&&Gb.focus();vc.jumpToEnd()})}},{key:"showMenu",value:function(mb,Gb){Gb=void 0===Gb?!1:Gb;var vc=this,Lc,cc,Vb,Ub;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ga){Lc=
vc.getSubmorphNamed("label");cc=vc.getSubmorphNamed("avatar");Vb=["open chat",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(jb){jb.jumpToEnd()})}];Ub=Object.assign(ub.Menu.forItems(mb.isGuestUser?[Vb,["login",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(jb){vc.minimize();vc.showLogin(mb);jb.jumpToEnd()})}]]:[["show user info",function(){vc.minimize();vc.showUserInfo(mb)}],Vb,["logout",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(jb){if(1==
jb.nextAddress)return jb.yield(vc.minimize(),2);vc.logout(mb);jb.jumpToEnd()})}]]),{name:"menu",position:ub.pt(10,5),dropShadow:!1,opacity:Gb?0:1,borderWidth:0,fontSize:12,fontFamily:"Helvetica Neue, Verdana, Sans Serif"});cc.visible=!1;Lc.visible=!1;vc.addMorph(Ub);Gb&&Ub.animate({opacity:1,duration:200});return Ga.yield(vc.changeWidthAndHeight(Ub.width+20,Ub.height+10,Gb),0)})}},{key:"updateNetworkIndicator",value:function(mb){var Gb="red";mb&&(mb.isOnline()&&(Gb="yellow"),mb.isRegistered()&&(Gb=
"green"));this.get("network-indicator").animate({fill:ub.Color[Gb],duration:300})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserFlap"}},{key:"properties",get:function(){return{submorphs:{initialize:function(){this.submorphs=[{type:"label",name:"label",fontSize:12,fontFamliy:"Helvetica Neue, Verdana, Sans Serif",fontWeight:"bold",padding:ub.Rectangle.inset(4),reactsToPointer:!1},ub.Icon.makeLabel("user",{name:"avatar",fontColor:ub.Color.black.withA(.3),fontSize:12,clipMode:"hidden",
padding:ub.Rectangle.inset(2,2,4,0),borderWidth:1,borderColor:ub.Color.black.withA(.3),extent:ub.pt(20,20),borderRadius:10}),{name:"network-indicator",fill:ub.Color.red,borderRadius:5,extent:ub.pt(5,5),position:ub.pt(5,8),reactsToPointer:!1}]}},fontColor:{after:["submorphs"],set:function(mb){this.setProperty("fontColor",mb)}},name:{initialize:function(){this.name="user flap"}},epiMorph:{defaultValue:!0},clipMode:{defaultValue:"hidden"},draggable:{defaultValue:!1},grabbable:{defaultValue:!1},acceptsDrops:{defaultValue:!1},
fill:{defaultValue:ub.Color.white},borderRadiusBottom:{defaultValue:10},borderRadiusLeft:{defaultValue:10},borderRadiusRight:{defaultValue:10},nativeCursor:{defaultValue:"pointer"},respondsToVisibleWindow:{defaultValue:!0},haloColor:{readOnly:!0,get:function(){return ub.Color.rgb(0,176,255)}},haloShadow:{readOnly:!0,get:function(){return{distance:2,rotation:45,color:ub.Color.rgba(64,196,255,.4),inset:!1,blur:6,spread:0,fast:!1}}}}}}],Ta,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:18894,end:28024})}(ub.Morph));ub.UserFlap=Mb;ub.UserFlap=Mb;ub.UserFlap=Mb}}});
System.register("./__root_module__-cddb8267.js kld-intersections ./index-6d7025d7.js ./index-5e61fbf0.js ./index-51795659.js ./color-picker-3ee1bf1f.js ./index-5ddff150.js".split(" "),function(){var Ea,Cb,Kb,lc,$b,Qd,Zc,Rd,ad,Nc,nd,he,af,Af,rd,cc,Ic,Kd,Kc,Bd,be,yc;return{setters:[function(Cc){Ea=Cc.an;Cb=Cc.aC;Kb=Cc.ab;lc=Cc.as;$b=Cc.aa;Qd=Cc.a3;Zc=Cc.C;Rd=Cc.ax;ad=Cc.au;Nc=Cc.bp;nd=Cc.aw;he=Cc.a8;af=Cc.a7;Af=Cc.bR;rd=Cc.aj;cc=Cc.av;Ic=Cc.r;Kd=Cc.a6;Kc=Cc.P;Bd=Cc.bU;be=Cc.bV},function(){},function(){},
function(){},function(){},function(Cc){yc=Cc.S},function(){}],execute:function(){var Cc=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js");Cc.Morph=Ea;Cc.touchInputDevice=Cb;Cc.morph=Kb;Cc.Icon=lc;Cc.easings=$b;Cc.pt=Qd;Cc.Color=Zc;Cc.fun=Rd;Cc.connect=ad;Cc.TreeData=Nc;var Pb=function(Gb){var sb=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),Bc=sb.hasOwnProperty("SettingsTree")&&"function"===typeof sb.SettingsTree?sb.SettingsTree:sb.SettingsTree=function(gb){gb&&gb[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return nd(Bc,Gb,[{key:"display",value:function(gb){return gb.panel?[gb.panel,{}]:gb.name}},{key:"collapse",value:function(gb,rb){gb.isCollapsed=rb}},{key:"isCollapsed",value:function(gb){return gb.isCollapsed}},{key:"isLeaf",value:function(gb){return!gb.children}},{key:"getChildren",value:function(gb){var rb=this;return gb===this.root?gb.children.filter(function(Sa){return rb.target&&Sa.applicabilityCheck?eval(Sa.applicabilityCheck)(rb.target):
!0}):gb.children}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SettingsTree"}},{key:"default",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" ",{}].concat($jscomp.arrayFromIterable(Cc.Icon.textAttribute("font")),[" Rich Text",{fontWeight:"bold"}]),children:[{panel:Cc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Cc.Icon.textAttribute("image")),[" Shape",{fontWeight:"bold"}]),children:[{panel:Cc.morph({})}]},{isCollapsed:!1,
name:[" ",{}].concat($jscomp.arrayFromIterable(Cc.Icon.textAttribute("border-style")),[" Border",{paddingLeft:"2px",fontWeight:"bold"}]),children:[{panel:Cc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Cc.Icon.textAttribute("grip-vertical")),[" Layout",{paddingLeft:"4px",fontWeight:"bold"}]),children:[{panel:Cc.morph({})}]}]})}},{key:"border",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" Type    ",{},Cc.morph({height:20}),{}],children:[{panel:Cc.morph({})}]},
{isCollapsed:!1,name:[" Color   ",{},Cc.morph({height:20}),{}],children:[{panel:Cc.morph({})}]},{isCollapsed:!1,name:[" Width  ",{},Cc.morph({height:20}),{}],children:[{panel:Cc.morph({})}]},{isCollapsed:!1,name:[" Radius ",{},Cc.morph({height:20}),{}],children:[{panel:Cc.morph({})}]}]})}}],sb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",
version:"0.1.1-67"}}},{start:284,end:2663})}(Cc.TreeData);Cc.SettingsTree=Pb;Cc.SettingsTree=Pb;Cc.SettingsTree=Pb;Pb=function(Gb){var sb=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),Bc=sb.hasOwnProperty("StylingSideBar")&&"function"===typeof sb.StylingSideBar?sb.StylingSideBar:sb.StylingSideBar=function(gb){gb&&gb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return nd(Bc,Gb,[{key:"relayout",value:function(){this.onWorldResize()}},
{key:"collapseAll",value:function(){this.getSubmorphsByStyleClassName("Tree").forEach(function(gb){gb.nodes.forEach(function(rb){return gb.treeData.root==rb?gb.uncollapse(rb):gb.collapse(rb)})})}},{key:"onWorldResize",value:function(gb){gb=void 0===gb?!0:gb;if(this.respondsToVisibleWindow){var rb=$world.visibleBounds(),Sa=navigator.standalone&&Cc.touchInputDevice?25:0,Ua=this.getSubmorphNamed("horizontal resizer");this.height=rb.height-Sa;this.top=Sa+rb.top();Ua.height=this.height;Ua.left=0;Ua.top=
0;gb&&(this.visible?this.topRight=rb.topRight():this.topLeft=rb.topRight())}}},{key:"toggle",value:function(gb){var rb=this,Sa,Ua;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cb){switch(cb.nextAddress){case 1:Sa=$world.visibleBounds().withTopLeft(Cc.pt(0,0));Ua=navigator.standalone&&Cc.touchInputDevice?25:0;rb.height=Sa.height-Ua;rb.top=Ua+Sa.top();if(gb)return $world.addMorph(rb,$world.get("lively top bar")),rb.topLeft=Sa.topRight(),rb.visible=!0,cb.yield(rb.whenRendered(),5);rb.detachFromWorld($world);
return cb.yield(rb.animate({opacity:0,topLeft:Sa.topRight(),duration:300}),4);case 4:rb.visible=!1;rb.remove();cb.jumpTo(0);break;case 5:return rb.onWorldResize(!1),cb.yield(rb.animate({opacity:1,easing:Cc.easings.outCirc,topRight:Sa.topRight(),duration:300}),6);case 6:rb.attachToWorld($world),cb.jumpToEnd()}})}},{key:"cleanupAnchors",value:function(){for(var gb=this.withAllSubmorphsSelect(function(cb){return cb.anchors&&cb.anchors.filter(function(ab){return!ab.id}).length}),rb={},Sa=$jscomp.makeIterator(gb),
Ua=Sa.next();!Ua.done;rb={$jscomp$loop$prop$m$2547:rb.$jscomp$loop$prop$m$2547},Ua=Sa.next())rb.$jscomp$loop$prop$m$2547=Ua.value,rb.$jscomp$loop$prop$m$2547.anchors.forEach(function(cb){return function(ab){return!ab.id&&cb.$jscomp$loop$prop$m$2547.removeAnchor(ab)}}(rb));return gb.length}},{key:"attachToWorld",value:function(gb){Cc.connect(gb,"showHaloFor",this,"focusMorph",{garbageCollect:!0})}},{key:"detachFromWorld",value:function(gb){var rb=this;gb.attributeConnections.forEach(function(Sa){Sa.targetObj===
rb&&Sa.disconnect()})}},{key:"focusMorph",value:function(gb){if(!gb.isMorph||!gb.ownerChain().includes(this)){(gb.isLabel||gb.isText||gb.isButton)&&this.richTextControl.focusOn(gb,!1);var rb=this.getSubmorphNamed("style settings tree");rb.treeData.target=gb;rb.update(!0);Object.values(this.controls).forEach(function(Sa){return Sa&&Sa.focusOn(gb)})}}},{key:"onHierarchyChange",value:function(){Object.values(this.controls).forEach(function(gb){return gb&&gb.update()})}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"StylingSideBar"}},{key:"properties",get:function(){return{controls:{},richTextControl:{},isHaloItem:{get:function(){return!0}}}}}],sb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-67"}}},{start:2682,end:5749})}(Cc.Morph);Pb=Cc.StylingSideBar;Cc.default=Pb;var Dc=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js");
Dc.Morph=Ea;Dc.obj=he;Dc.string=af;Dc.connect=ad;Dc.noUpdate=Af;Dc.once=rd;Pb=function(Gb){var sb=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js"),Bc=sb.hasOwnProperty("ShapeFormatStyler")&&"function"===typeof sb.ShapeFormatStyler?sb.ShapeFormatStyler:sb.ShapeFormatStyler=function(gb){gb&&gb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return nd(Bc,Gb,[{key:Symbol.for("lively-instance-initialize"),value:function(gb){nd._get(Object.getPrototypeOf(Bc.prototype),
Symbol.for("lively-instance-initialize"),this).call(this,gb);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var gb=this.ui,rb={},Sa=$jscomp.makeIterator(Object.entries(this.uiSpec)),Ua=Sa.next();!Ua.done;rb={$jscomp$loop$prop$control$2549:rb.$jscomp$loop$prop$control$2549,$jscomp$loop$prop$prop$2550:rb.$jscomp$loop$prop$prop$2550},Ua=Sa.next()){var cb=$jscomp.makeIterator(Ua.value);Ua=cb.next().value;cb=$jscomp.makeIterator(cb.next().value);cb.next();
var ab=cb.next().value;rb.$jscomp$loop$prop$prop$2550=cb.next().value;rb.$jscomp$loop$prop$control$2549=gb[Ua];Dc.connect(rb.$jscomp$loop$prop$control$2549,ab,this,"updateTarget",{updater:function(qb){return function(Zb,kc){qb.$jscomp$loop$prop$control$2549._updating=!0;Zb(qb.$jscomp$loop$prop$prop$2550,kc);qb.$jscomp$loop$prop$control$2549._updating=!1}}(rb),varMapping:{prop:rb.$jscomp$loop$prop$prop$2550,control:rb.$jscomp$loop$prop$control$2549}})}}},{key:"update",value:function(){var gb=this,
rb=this.target,Sa=rb.clipMode,Ua=rb.fill,cb=rb.dropShadow,ab=rb.opacity,qb=rb.height,Zb=rb.width;rb=this.ui;var kc=rb.clipModeSelector,Rb=rb.fillPicker,ma=rb.opacityField,Ia=rb.shadowPicker,W=rb.heightField,sa=rb.widthField;Dc.noUpdate(function(){gb.updateControl(Ia,"shadowValue",cb);gb.updateControl(kc,"selection",Sa);gb.updateControl(Rb,"colorValue",Ua);gb.updateControl(ma,"number",ab);gb.updateControl(W,"number",qb);gb.updateControl(sa,"number",Zb)})}},{key:"updateTarget",value:function(gb,rb){this.target[gb]=
rb;this.update()}},{key:"updateControl",value:function(gb,rb,Sa){gb._updating||Dc.obj.equals(gb[rb],Sa)||(gb[rb]=Sa)}},{key:"updateMultiValue",value:function(gb,rb,Sa){var Ua=this.ui,cb=Ua[this.join(gb)],ab=cb.get("multi value indicator"),qb=Dc.obj.values(rb).some(function(Zb){return!Dc.obj.isFunction(Zb)&&!Dc.obj.equals(Zb,rb.valueOf())});ab.left=0;cb.visible=cb.isLayoutable=!qb;if(qb&&ab.visible!=qb)Dc.once(ab,"onMouseDown",cb,Sa,{converter:function(){return rb.valueOf()},varMapping:{value:rb}});
ab.visible=ab.isLayoutable=qb;ab.left=qb?200:0;this.updateControl(cb,Sa,rb.valueOf());cb=$jscomp.makeIterator(["top","left","bottom","right"]);for(ab=cb.next();!ab.done;ab=cb.next())ab=ab.value,qb=Ua[this.join(gb,ab)],this.updateControl(qb,Sa,rb[ab])}},{key:"lower",value:function(gb){return gb.charAt(0).toLowerCase()+gb.slice(1)}},{key:"join",value:function(gb,rb){return this.lower(Dc.string.camelCaseString(gb+(rb?" "+rb:"")))}},{key:"unwrap",value:function(gb,rb,Sa){var Ua={};Ua=(Ua[this.lower(Dc.string.camelCaseString(gb))]=
[gb,rb,Sa],Ua);for(var cb=$jscomp.makeIterator(["top","left","bottom","right"]),ab=cb.next();!ab.done;ab=cb.next()){ab=ab.value;var qb=gb+" "+ab;Ua[this.lower(Dc.string.camelCaseString(qb))]=[qb,rb,this.join(Sa,ab)]}return Ua}},{key:"focusOn",value:function(gb){var rb=this,Sa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ua){if(1==Ua.nextAddress)return!gb||rb.isAncestorOf(gb)||rb.target===gb||Dc.obj.isArray(gb)||(rb.target=gb),Sa=rb.visible,rb.visible=!0,Ua.yield(rb.whenRendered(),2);
if(3!=Ua.nextAddress)return rb.update(),Ua.yield(rb.whenRendered(),3);rb.getSubmorphsByStyleClassName("NumberWidget").map(function(cb){return cb.relayout()});rb.visible=Sa;Ua.jumpToEnd()})}},{key:"onHoverIn",value:function(gb){this.watchForTarget=!1}},{key:"onHoverOut",value:function(gb){this.watchForTarget=!0}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShapeFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||(this._uiSpec={clipModeSelector:["clip mode selector",
"selection","clipMode"],fillPicker:["fill picker","colorValue","fill"],shadowPicker:["shadow picker","shadowValue","dropShadow"],opacityField:["opacity field","number","opacity"],heightField:["height field","number","height"],widthField:["width field","number","width"]})}},ui:{readOnly:!0,get:function(){var gb=this,rb=this.uiSpec;return this._ui||(this._ui=Dc.obj.extract(rb,Dc.obj.keys(rb),function(Sa,Ua){Sa=$jscomp.makeIterator(Ua).next().value;return gb.getSubmorphNamed(Sa)}))}}}}}],sb,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeFormatStyler",version:"0.1.1-144"}}},{start:176,end:4600})}(Dc.Morph);Pb=Dc.ShapeFormatStyler;Dc.default=Pb;var Xc=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js");Xc.Morph=Ea;Xc.ShadowPopover=yc;Xc.connect=ad;Xc.signal=cc;Pb=function(Gb){var sb=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js"),Bc=sb.hasOwnProperty("ShadowWidget")&&
"function"===typeof sb.ShadowWidget?sb.ShadowWidget:sb.ShadowWidget=function(gb){gb&&gb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return nd(Bc,Gb,[{key:"onHoverIn",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:1,duration:200})}},{key:"onHoverOut",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:0,duration:200})}},{key:"onMouseDown",value:function(gb){this.openPopover()}},
{key:"update",value:function(gb){var rb=this.submorphs[0];rb&&(rb.dropShadow=gb)}},{key:"openPopover",value:function(){var gb=this,rb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sa){if(1==Sa.nextAddress)return rb=new Xc.ShadowPopover({hasFixedPosition:!!gb.ownerChain().find(function(Ua){return Ua.hasFixedPosition}),shadowValue:gb.shadowValue}),Sa.yield(rb.fadeIntoWorld(gb.globalBounds().center()),2);Xc.connect(rb,"shadowValue",gb,"shadowValue");Xc.connect(gb,"shadowValue",gb,"update");
Xc.signal(gb,"openWidget",rb);Sa.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowWidget"}},{key:"properties",get:function(){return{shadowValue:{set:function(gb){this.setProperty("shadowValue",gb);this.update(gb)}}}}}],sb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShadowWidget",version:"0.1.1-7"}}},
{start:194,end:1231})}(Xc.Morph);Pb=Xc.ShadowWidget;Xc.default=Pb;var Cd=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js");Cd.Morph=Ea;Cd.obj=he;Cd.string=af;Cd.connect=ad;Cd.noUpdate=Af;Cd.once=rd;Pb=function(Gb){var sb=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js"),Bc=sb.hasOwnProperty("BorderFormatStyler")&&"function"===typeof sb.BorderFormatStyler?sb.BorderFormatStyler:sb.BorderFormatStyler=function(gb){gb&&gb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return nd(Bc,Gb,[{key:"setupUI",value:function(){var gb=this;this.getSubmorphsByStyleClassName("NumberWidget").map(function(rb){var Sa=Cd.string.camelCaseString(rb.name);Sa=Sa[0].toLowerCase()+Sa.slice(1);gb.ui[Sa]=rb})}},{key:"cleanupAnchors",value:function(){var gb=this.withAllSubmorphsSelect(function(Ua){return Ua.anchors&&Ua.anchors.filter(function(cb){return!cb.id})}),rb={};gb=$jscomp.makeIterator(gb);for(var Sa=gb.next();!Sa.done;rb={$jscomp$loop$prop$m$2552:rb.$jscomp$loop$prop$m$2552},
Sa=gb.next())rb.$jscomp$loop$prop$m$2552=Sa.value,rb.$jscomp$loop$prop$m$2552.anchors.forEach(function(Ua){return function(cb){return!cb.id&&Ua.$jscomp$loop$prop$m$2552.removeAnchor(cb)}}(rb))}},{key:Symbol.for("lively-instance-initialize"),value:function(gb){nd._get(Object.getPrototypeOf(Bc.prototype),Symbol.for("lively-instance-initialize"),this).call(this,gb);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var gb=this.ui,rb={},Sa=$jscomp.makeIterator(Object.entries(this.uiSpec)),
Ua=Sa.next();!Ua.done;rb={$jscomp$loop$prop$control$2554:rb.$jscomp$loop$prop$control$2554,$jscomp$loop$prop$prop$2555:rb.$jscomp$loop$prop$prop$2555},Ua=Sa.next()){var cb=$jscomp.makeIterator(Ua.value);Ua=cb.next().value;cb=$jscomp.makeIterator(cb.next().value);cb.next();var ab=cb.next().value;rb.$jscomp$loop$prop$prop$2555=cb.next().value;rb.$jscomp$loop$prop$control$2554=gb[Ua];Cd.connect(rb.$jscomp$loop$prop$control$2554,ab,this,"updateTarget",{updater:function(qb){return function(Zb,kc){qb.$jscomp$loop$prop$control$2554._updating=
!0;Zb(qb.$jscomp$loop$prop$prop$2555,kc);qb.$jscomp$loop$prop$control$2554._updating=!1}}(rb),varMapping:{prop:rb.$jscomp$loop$prop$prop$2555,control:rb.$jscomp$loop$prop$control$2554}})}}},{key:"update",value:function(){var gb=this,rb=this.target,Sa=rb.borderStyle,Ua=rb.borderColor,cb=rb.borderRadius,ab=rb.borderWidth;Cd.noUpdate(function(){gb.updateMultiValue("border style selector",Sa,"selection");gb.updateMultiValue("border color picker",Ua,"colorValue");gb.updateMultiValue("border radius field",
cb,"number");gb.updateMultiValue("border width field",ab,"number")})}},{key:"updateTarget",value:function(gb,rb){this.target[gb]=rb;this.update()}},{key:"updateControl",value:function(gb,rb,Sa){gb._updating||Cd.obj.equals(gb[rb],Sa)||(gb[rb]=Sa)}},{key:"updateMultiValue",value:function(gb,rb,Sa){var Ua=this.ui,cb=Ua[this.join(gb)],ab=cb.get("multi value indicator"),qb=Cd.obj.values(rb).some(function(Zb){return!Cd.obj.isFunction(Zb)&&!Cd.obj.equals(Zb,rb.valueOf())});cb.visible=cb.isLayoutable=!qb;
if(qb&&ab.visible!=qb)Cd.once(ab,"onMouseDown",cb,Sa,{converter:function(){return rb.valueOf()},varMapping:{value:rb}});ab.visible=ab.isLayoutable=qb;this.updateControl(cb,Sa,rb.valueOf());cb=$jscomp.makeIterator(["top","left","bottom","right"]);for(ab=cb.next();!ab.done;ab=cb.next())ab=ab.value,qb=Ua[this.join(gb,ab)],this.updateControl(qb,Sa,rb[ab])}},{key:"lower",value:function(gb){return gb.charAt(0).toLowerCase()+gb.slice(1)}},{key:"join",value:function(gb,rb){return this.lower(Cd.string.camelCaseString(gb+
(rb?" "+rb:"")))}},{key:"unwrap",value:function(gb,rb,Sa){var Ua={};Ua=(Ua[this.lower(Cd.string.camelCaseString(gb))]=[gb,rb,Sa],Ua);for(var cb=$jscomp.makeIterator(["top","left","bottom","right"]),ab=cb.next();!ab.done;ab=cb.next()){ab=ab.value;var qb=gb+" "+ab;Ua[this.lower(Cd.string.camelCaseString(qb))]=[qb,rb,this.join(Sa,ab)]}return Ua}},{key:"attachToWorld",value:function(){Cd.connect($world,"showHaloFor",this,"focusOn",{garbageCollect:!0})}},{key:"focusOn",value:function(gb){var rb=this,Sa;
return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ua){if(1==Ua.nextAddress)return!gb||rb.isAncestorOf(gb)||rb.target===gb||Cd.obj.isArray(gb)||(rb.target=gb),Sa=rb.visible,rb.visible=!0,Ua.yield(rb.whenRendered(),2);if(3!=Ua.nextAddress)return rb.update(),Ua.yield(rb.whenRendered(),3);rb.getSubmorphsByStyleClassName("NumberWidget").map(function(cb){return cb.relayout()});rb.visible=Sa;Ua.jumpToEnd()})}},{key:"onHoverIn",value:function(gb){this.watchForTarget=!1}},{key:"onHoverOut",value:function(gb){this.watchForTarget=
!0}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"BorderFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{derived:!0,serialize:!1,get:function(){return this._uiSpec||(this._uiSpec=Object.assign({},this.unwrap("border style selector","selection","borderStyle"),{},this.unwrap("border color picker","colorValue","borderColor"),{},this.unwrap("border radius field","number","borderRadius"),{},this.unwrap("border width field","number","borderWidth")))}},ui:{initialize:function(){this.setupUI()}}}}}],
sb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"BorderFormatStyler",version:"0.1.1-16"}}},{start:185,end:5003})}(Cd.Morph);Pb=Cd.BorderFormatStyler;Cd.default=Pb;var Od=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js");Od.Morph=Ea;Od.resource=Ic;Od.arr=Kd;Od.obj=he;Od.string=af;Od.Path=Kc;Od.connect=ad;Od.getMastersMenu=
Bd;Od.resolvedMasters=be;Pb=function(Gb){var sb=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js"),Bc=sb.hasOwnProperty("MasterComponentControl")&&"function"===typeof sb.MasterComponentControl?sb.MasterComponentControl:sb.MasterComponentControl=function(gb){gb&&gb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return nd(Bc,Gb,[{key:"focusOn",value:function(gb){this.target=gb;this.update()}},{key:"onMouseUp",value:function(gb){var rb=
this,Sa,Ua,cb,ab,qb,Zb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(kc){if(1==kc.nextAddress){"auto master selection"==gb.targetMorph.name&&(Sa="auto");"hover master selection"==gb.targetMorph.name&&(Sa="hover");"click master selection"==gb.targetMorph.name&&(Sa="click");rb.refreshButtons();if(!rb.target)return kc.return();Ua=$jscomp.makeIterator(["auto","hover","click"]);for(cb=Ua.next();!cb.done;cb=Ua.next())ab=cb.value,rb.target.master&&rb.target.master[ab]&&!rb.get(ab+" master checkbox").checked&&
rb.adjustMasterComponent(ab,null);if(!Sa)return kc.jumpTo(0);qb=rb;Zb=qb.openMenu;return kc.yield(rb.getMastersMenu(Sa),3)}Zb.call(qb,kc.yieldResult,gb);kc.jumpToEnd()})}},{key:"getMastersMenu",value:function(gb){var rb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sa){return 1==Sa.nextAddress?Sa.yield(Promise.all([].concat($jscomp.arrayFromIterable(Object.keys(Od.resolvedMasters)),[rb.world().name]).map(function(Ua){var cb,ab,qb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Zb){return 1==
Zb.nextAddress?(cb=Ua,ab=rb,qb=ab.componentsToMenu,Zb.yield(Od.resource("styleguide://"+Ua+"/").dirList(),2)):Zb.return([cb,qb.call(ab,Zb.yieldResult,gb)])})})),2):Sa.return(Sa.yieldResult)})}},{key:"componentsToMenu",value:function(gb,rb,Sa,Ua){var cb=this;Sa=void 0===Sa?null:Sa;Ua=void 0===Ua?1:Ua;Sa||(Sa=gb.map(function(qb){return{name:Od.arr.last(qb.name.split("/")),path:qb.name.split("/"),value:qb}}));if(0==Sa.length||100<Ua)return[];var ab=this;return Od.arr.flatten(Object.entries(Od.arr.groupBy(Sa,
function(qb){return qb.path[Ua-1]})).map(function(qb){var Zb=$jscomp.makeIterator(qb);qb=Zb.next().value;Zb=Zb.next().value;var kc=$jscomp.makeIterator(Od.arr.partition(Zb,function(Rb){return Rb.path.length<=Ua}));Zb=kc.next().value;kc=kc.next().value;qb=[qb,cb.componentsToMenu(null,rb,kc,Ua+1)];return[].concat($jscomp.arrayFromIterable(Zb.map(function(Rb){return[Rb.name,function(){ab.adjustMasterComponent(rb,Rb.value)}]})),$jscomp.arrayFromIterable(qb[1].length?[qb]:[]))}),1)}},{key:"getComponentSelectionMenu",
value:function(gb){var rb=this,Sa,Ua,cb,ab,qb,Zb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(kc){if(1==kc.nextAddress)return Sa=rb.world().metadata.commit.name,Ua=Od.resource("styleguide://"+Sa+"/"),kc.yield(Ua.dirList(),2);if(3!=kc.nextAddress)return cb=kc.yieldResult,kc.yield(Od.resource("styleguide://System/").dirList(),3);ab=kc.yieldResult;qb=rb.componentsToMenu(cb,gb);Zb=rb.componentsToMenu(ab,gb);return kc.return([].concat($jscomp.arrayFromIterable(0<qb.length?[].concat($jscomp.arrayFromIterable(qb),
[{isDivider:!0}]):[]),$jscomp.arrayFromIterable(Zb)))})}},{key:"adjustMasterComponent",value:function(gb,rb){if(this.target.master)this.target.master[gb]=rb;else if(rb){var Sa={};this.target.master=(Sa[gb]=rb,Sa)}gb=this.target.master;rb=gb.hover;Sa=gb.click;gb.auto||rb||Sa||(this.target.master=null);this.update();this.target.withAllSubmorphsDo(function(Ua){return delete Ua._parametrizedProps});this.target.requestMasterStyling()}},{key:"componentsToMenu",value:function(gb,rb,Sa,Ua){var cb=this;Sa=
void 0===Sa?null:Sa;Ua=void 0===Ua?1:Ua;Sa||(Sa=gb.map(function(qb){return{name:Od.arr.last(qb.name.split("/")),path:qb.name.split("/"),value:qb}}));if(0==Sa.length||100<Ua)return[];var ab=this;return Od.arr.flatten(Object.entries(Od.arr.groupBy(Sa,function(qb){return qb.path[Ua-1]})).map(function(qb){var Zb=$jscomp.makeIterator(qb);qb=Zb.next().value;Zb=Zb.next().value;var kc=$jscomp.makeIterator(Od.arr.partition(Zb,function(Rb){return Rb.path.length<=Ua}));Zb=kc.next().value;kc=kc.next().value;
qb=[qb,cb.componentsToMenu(null,rb,kc,Ua+1)];return[].concat($jscomp.arrayFromIterable(Zb.map(function(Rb){return[Rb.name,function(){ab.adjustMasterComponent(rb,Rb.value)}]})),$jscomp.arrayFromIterable(qb[1].length?[qb]:[]))}),1)}},{key:"update",value:function(){if(this.target){for(var gb=$jscomp.makeIterator(["auto","hover","click"]),rb=gb.next();!rb.done;rb=gb.next()){rb=rb.value;var Sa=this.getSubmorphNamed(rb+" master selection"),Ua=this.getSubmorphNamed(rb+" master checkbox");Od.Path(["master",
rb]).get(this.target)?Ua.checked=!0:Ua.checked=!1;Sa.label=Od.string.truncateLeft(Od.Path(["master",rb,"name"]).get(this.target)||"select master",15,"...")}this.refreshButtons()}}},{key:"refreshButtons",value:function(){for(var gb=$jscomp.makeIterator(["auto","hover","click"]),rb=gb.next();!rb.done;rb=gb.next()){rb=rb.value;var Sa=this.getSubmorphNamed(rb+" master selection"),Ua=this.getSubmorphNamed(rb+" master checkbox");Sa=Sa.deactivated=!Ua.checked;this.getSubmorphNamed(rb+" master selection").opacity=
Sa?.5:1}gb=this.getSubmorphNamed("overridden props list");gb.items=this.getOverriddenProps();this.getSubmorphNamed("clear overridden prop button").deactivated=!gb.selection}},{key:"getMasterForTarget",value:function(){if(this.target.isMorph)return[this.target].concat($jscomp.arrayFromIterable(this.target.ownerChain())).map(function(gb){return gb.master}).find(Boolean)}},{key:"clearSelectedProperty",value:function(){var gb=this.getSubmorphNamed("overridden props list").selection;this.getMasterForTarget().clearOverriddenPropertiesFor(this.target,
[gb]);this.refreshButtons()}},{key:"getOverriddenProps",value:function(){var gb=this.getMasterForTarget();return gb&&gb._overriddenProps?(gb=gb._overriddenProps.get(this.target))?Object.keys(gb):[]:[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"MasterComponentControl"}}],sb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"MasterComponentControl",
version:"0.1.1-108"}}},{start:315,end:6096})}(Od.Morph);Pb=Od.MasterComponentControl;Od.default=Pb}}});

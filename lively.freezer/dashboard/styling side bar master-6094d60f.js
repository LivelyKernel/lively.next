System.register("./__root_module__-5a58cfed.js kld-intersections ./index-ce89c89c.js ./index-0f8ae983.js ./index-0e8213f8.js ./color-picker-91804b43.js ./index-1584dae6.js".split(" "),function(){var Ca,Cb,Vb,lc,gc,fe,fd,Zd,id,Uc,Ad,Nd,ee,Ud,kd,cb,Fb,vc,pc,sd;return{setters:[function(pd){Ca=pd.ag;Cb=pd.ay;Vb=pd.al;lc=pd.am;gc=pd.at;fe=pd.a1;fd=pd.C;Zd=pd.ar;id=pd.ao;Uc=pd.bo;Ad=pd.aq;Nd=pd.a5;ee=pd.s;Ud=pd.bU;kd=pd.as;cb=pd.ap;Fb=pd.r;vc=pd.a4;pc=pd.P},function(){},function(){},function(){},function(){},
function(pd){sd=pd.S},function(){}],execute:function(){var pd=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js");pd.Morph=Ca;pd.touchInputDevice=Cb;pd.morph=Vb;pd.Icon=lc;pd.easings=gc;pd.pt=fe;pd.Color=fd;pd.fun=Zd;pd.connect=id;pd.TreeData=Uc;var tc=function(td){var Ob=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),sb=Ob.hasOwnProperty("SettingsTree")&&"function"===typeof Ob.SettingsTree?Ob.SettingsTree:Ob.SettingsTree=function(hb){hb&&hb[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ad(sb,td,[{key:"display",value:function(hb){return hb.panel?[hb.panel,{}]:hb.name}},{key:"collapse",value:function(hb,qb){hb.isCollapsed=qb}},{key:"isCollapsed",value:function(hb){return hb.isCollapsed}},{key:"isLeaf",value:function(hb){return!hb.children}},{key:"getChildren",value:function(hb){return hb.children}}],[{key:"className",get:function(){return"SettingsTree"}},{key:"default",value:function(){return new this({isCollapsed:!1,
children:[{isCollapsed:!0,name:[" ",{}].concat($jscomp.arrayFromIterable(pd.Icon.textAttribute("font")),[" Rich Text",{fontWeight:"bold"}]),children:[{panel:pd.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(pd.Icon.textAttribute("image")),[" Shape",{fontWeight:"bold"}]),children:[{panel:pd.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(pd.Icon.textAttribute("border-style")),[" Border",{paddingLeft:"2px",fontWeight:"bold"}]),children:[{panel:pd.morph({})}]},
{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(pd.Icon.textAttribute("grip-vertical")),[" Layout",{paddingLeft:"4px",fontWeight:"bold"}]),children:[{panel:pd.morph({})}]}]})}},{key:"border",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" Type    ",{},pd.morph({height:20}),{}],children:[{panel:pd.morph({})}]},{isCollapsed:!1,name:[" Color   ",{},pd.morph({height:20}),{}],children:[{panel:pd.morph({})}]},{isCollapsed:!1,name:[" Width  ",{},pd.morph({height:20}),
{}],children:[{panel:pd.morph({})}]},{isCollapsed:!1,name:[" Radius ",{},pd.morph({height:20}),{}],children:[{panel:pd.morph({})}]}]})}}],Ob,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-55"}}},{start:284,end:2453})}(pd.TreeData);pd.SettingsTree=tc;pd.SettingsTree=tc;pd.SettingsTree=tc;tc=function(td){var Ob=
lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),sb=Ob.hasOwnProperty("StylingSideBar")&&"function"===typeof Ob.StylingSideBar?Ob.StylingSideBar:Ob.StylingSideBar=function(hb){hb&&hb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ad(sb,td,[{key:"onWorldResize",value:function(hb){hb=void 0===hb?!0:hb;if(this.respondsToVisibleWindow){var qb=$world.visibleBounds(),Aa=navigator.standalone&&pd.touchInputDevice?25:0,bb=this.getSubmorphNamed("horizontal resizer");
this.height=qb.height-Aa;this.top=Aa+qb.top();bb.height=this.height;bb.left=0;bb.top=0;hb&&(this.visible?this.topRight=qb.topRight():this.topLeft=qb.topRight())}}},{key:"toggle",value:function(hb){var qb=this,Aa,bb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wb){switch(wb.nextAddress){case 1:Aa=$world.visibleBounds();bb=navigator.standalone&&pd.touchInputDevice?25:0;qb.height=Aa.height-bb;qb.top=bb+Aa.top();if(hb)return $world.addMorph(qb,$world.get("lively top bar")),qb.left=Aa.width,
qb.visible=!0,wb.yield(qb.whenRendered(),5);qb.detachFromWorld($world);return wb.yield(qb.animate({opacity:0,left:Aa.width,duration:300}),4);case 4:qb.visible=!1;qb.remove();wb.jumpTo(0);break;case 5:return qb.onWorldResize(!1),wb.yield(qb.animate({opacity:1,easing:pd.easings.outCirc,right:Aa.width,duration:300}),6);case 6:qb.attachToWorld($world),wb.jumpToEnd()}})}},{key:"attachToWorld",value:function(hb){pd.connect(hb,"showHaloFor",this,"focusMorph",{garbageCollect:!0})}},{key:"detachFromWorld",
value:function(hb){var qb=this;hb.attributeConnections.forEach(function(Aa){Aa.targetObj===qb&&Aa.disconnect()})}},{key:"focusMorph",value:function(hb){hb.isMorph&&hb.ownerChain().includes(this)||((hb.isLabel||hb.isText||hb.isButton)&&this.richTextControl.focusOn(hb,!1),Object.values(this.controls).forEach(function(qb){return qb&&qb.focusOn(hb)}))}},{key:"onHierarchyChange",value:function(){Object.values(this.controls).forEach(function(hb){return hb&&hb.update()})}}],[{key:"className",get:function(){return"StylingSideBar"}},
{key:"properties",get:function(){return{controls:{},richTextControl:{},isHaloItem:{get:function(){return!0}}}}}],Ob,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-55"}}},{start:2470,end:4827})}(pd.Morph);tc=pd.StylingSideBar;pd.default=tc;var bd=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js");
bd.Morph=Ca;bd.obj=Nd;bd.string=ee;bd.connect=id;bd.noUpdate=Ud;bd.once=kd;tc=function(td){var Ob=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js"),sb=Ob.hasOwnProperty("ShapeFormatStyler")&&"function"===typeof Ob.ShapeFormatStyler?Ob.ShapeFormatStyler:Ob.ShapeFormatStyler=function(hb){hb&&hb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ad(sb,td,[{key:Symbol.for("lively-instance-initialize"),value:function(hb){Ad._get(Object.getPrototypeOf(sb.prototype),
Symbol.for("lively-instance-initialize"),this).call(this,hb);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var hb=this.ui,qb={},Aa=$jscomp.makeIterator(Object.entries(this.uiSpec)),bb=Aa.next();!bb.done;qb={$jscomp$loop$prop$control$2293:qb.$jscomp$loop$prop$control$2293,$jscomp$loop$prop$prop$2294:qb.$jscomp$loop$prop$prop$2294},bb=Aa.next()){var wb=$jscomp.makeIterator(bb.value);bb=wb.next().value;wb=$jscomp.makeIterator(wb.next().value);wb.next();
var Hb=wb.next().value;qb.$jscomp$loop$prop$prop$2294=wb.next().value;qb.$jscomp$loop$prop$control$2293=hb[bb];bd.connect(qb.$jscomp$loop$prop$control$2293,Hb,this,"updateTarget",{updater:function(Qb){return function(lb,mb){Qb.$jscomp$loop$prop$control$2293._updating=!0;lb(Qb.$jscomp$loop$prop$prop$2294,mb);Qb.$jscomp$loop$prop$control$2293._updating=!1}}(qb),varMapping:{prop:qb.$jscomp$loop$prop$prop$2294,control:qb.$jscomp$loop$prop$control$2293}})}}},{key:"update",value:function(){var hb=this,
qb=this.target,Aa=qb.clipMode,bb=qb.fill,wb=qb.dropShadow,Hb=qb.opacity,Qb=qb.height,lb=qb.width;qb=this.ui;var mb=qb.clipModeSelector,Rb=qb.fillPicker,Gc=qb.opacityField,mc=qb.shadowPicker,Pc=qb.heightField,Xc=qb.widthField;bd.noUpdate(function(){hb.updateControl(mc,"shadowValue",wb);hb.updateControl(mb,"selection",Aa);hb.updateControl(Rb,"colorValue",bb);hb.updateControl(Gc,"number",Hb);hb.updateControl(Pc,"number",Qb);hb.updateControl(Xc,"number",lb)})}},{key:"updateTarget",value:function(hb,qb){this.target[hb]=
qb;this.update()}},{key:"updateControl",value:function(hb,qb,Aa){hb._updating||bd.obj.equals(hb[qb],Aa)||(hb[qb]=Aa)}},{key:"updateMultiValue",value:function(hb,qb,Aa){var bb=this.ui,wb=bb[this.join(hb)],Hb=wb.get("multi value indicator"),Qb=bd.obj.values(qb).some(function(lb){return!bd.obj.isFunction(lb)&&!bd.obj.equals(lb,qb.valueOf())});Hb.left=0;wb.visible=wb.isLayoutable=!Qb;if(Qb&&Hb.visible!=Qb)bd.once(Hb,"onMouseDown",wb,Aa,{converter:function(){return qb.valueOf()},varMapping:{value:qb}});
Hb.visible=Hb.isLayoutable=Qb;Hb.left=Qb?200:0;this.updateControl(wb,Aa,qb.valueOf());wb=$jscomp.makeIterator(["top","left","bottom","right"]);for(Hb=wb.next();!Hb.done;Hb=wb.next())Hb=Hb.value,Qb=bb[this.join(hb,Hb)],this.updateControl(Qb,Aa,qb[Hb])}},{key:"lower",value:function(hb){return hb.charAt(0).toLowerCase()+hb.slice(1)}},{key:"join",value:function(hb,qb){return this.lower(bd.string.camelCaseString(hb+(qb?" "+qb:"")))}},{key:"unwrap",value:function(hb,qb,Aa){var bb={};bb=(bb[this.lower(bd.string.camelCaseString(hb))]=
[hb,qb,Aa],bb);for(var wb=$jscomp.makeIterator(["top","left","bottom","right"]),Hb=wb.next();!Hb.done;Hb=wb.next()){Hb=Hb.value;var Qb=hb+" "+Hb;bb[this.lower(bd.string.camelCaseString(Qb))]=[Qb,qb,this.join(Aa,Hb)]}return bb}},{key:"focusOn",value:function(hb){var qb=this,Aa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(bb){if(1==bb.nextAddress)return!hb||qb.isAncestorOf(hb)||qb.target===hb||bd.obj.isArray(hb)||(qb.target=hb),Aa=qb.visible,qb.visible=!0,bb.yield(qb.whenRendered(),2);
if(3!=bb.nextAddress)return qb.update(),bb.yield(qb.whenRendered(),3);qb.getSubmorphsByStyleClassName("NumberWidget").map(function(wb){return wb.relayout()});qb.visible=Aa;bb.jumpToEnd()})}},{key:"onHoverIn",value:function(hb){this.watchForTarget=!1}},{key:"onHoverOut",value:function(hb){this.watchForTarget=!0}}],[{key:"className",get:function(){return"ShapeFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||(this._uiSpec={clipModeSelector:["clip mode selector",
"selection","clipMode"],fillPicker:["fill picker","colorValue","fill"],shadowPicker:["shadow picker","shadowValue","dropShadow"],opacityField:["opacity field","number","opacity"],heightField:["height field","number","height"],widthField:["width field","number","width"]})}},ui:{readOnly:!0,get:function(){var hb=this,qb=this.uiSpec;return this._ui||(this._ui=bd.obj.extract(qb,bd.obj.keys(qb),function(Aa,bb){Aa=$jscomp.makeIterator(bb).next().value;return hb.getSubmorphNamed(Aa)}))}}}}}],Ob,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeFormatStyler",version:"0.1.1-144"}}},{start:176,end:4600})}(bd.Morph);tc=bd.ShapeFormatStyler;bd.default=tc;var Xb=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js");Xb.Morph=Ca;Xb.ShadowPopover=sd;Xb.connect=id;Xb.signal=cb;tc=function(td){var Ob=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js"),sb=Ob.hasOwnProperty("ShadowWidget")&&
"function"===typeof Ob.ShadowWidget?Ob.ShadowWidget:Ob.ShadowWidget=function(hb){hb&&hb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ad(sb,td,[{key:"onHoverIn",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:1,duration:200})}},{key:"onHoverOut",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:0,duration:200})}},{key:"onMouseDown",value:function(hb){this.openPopover()}},
{key:"update",value:function(hb){var qb=this.submorphs[0];qb&&(qb.dropShadow=hb)}},{key:"openPopover",value:function(){var hb=this,qb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){if(1==Aa.nextAddress)return qb=new Xb.ShadowPopover({hasFixedPosition:!!hb.ownerChain().find(function(bb){return bb.hasFixedPosition}),shadowValue:hb.shadowValue}),Aa.yield(qb.fadeIntoWorld(hb.globalBounds().center()),2);Xb.connect(qb,"shadowValue",hb,"shadowValue");Xb.connect(hb,"shadowValue",hb,"update");
Xb.signal(hb,"openWidget",qb);Aa.jumpToEnd()})}}],[{key:"className",get:function(){return"ShadowWidget"}},{key:"properties",get:function(){return{shadowValue:{set:function(hb){this.setProperty("shadowValue",hb);this.update(hb)}}}}}],Ob,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShadowWidget",version:"0.1.1-7"}}},{start:194,end:1231})}(Xb.Morph);
tc=Xb.ShadowWidget;Xb.default=tc;var Tb=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js");Tb.Morph=Ca;Tb.obj=Nd;Tb.string=ee;Tb.connect=id;Tb.noUpdate=Ud;Tb.once=kd;tc=function(td){var Ob=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js"),sb=Ob.hasOwnProperty("BorderFormatStyler")&&"function"===typeof Ob.BorderFormatStyler?Ob.BorderFormatStyler:Ob.BorderFormatStyler=function(hb){hb&&hb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Ad(sb,td,[{key:Symbol.for("lively-instance-initialize"),value:function(hb){Ad._get(Object.getPrototypeOf(sb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,hb);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var hb=this.ui,qb={},Aa=$jscomp.makeIterator(Object.entries(this.uiSpec)),bb=Aa.next();!bb.done;qb={$jscomp$loop$prop$control$2296:qb.$jscomp$loop$prop$control$2296,$jscomp$loop$prop$prop$2297:qb.$jscomp$loop$prop$prop$2297},
bb=Aa.next()){var wb=$jscomp.makeIterator(bb.value);bb=wb.next().value;wb=$jscomp.makeIterator(wb.next().value);wb.next();var Hb=wb.next().value;qb.$jscomp$loop$prop$prop$2297=wb.next().value;qb.$jscomp$loop$prop$control$2296=hb[bb];Tb.connect(qb.$jscomp$loop$prop$control$2296,Hb,this,"updateTarget",{updater:function(Qb){return function(lb,mb){Qb.$jscomp$loop$prop$control$2296._updating=!0;lb(Qb.$jscomp$loop$prop$prop$2297,mb);Qb.$jscomp$loop$prop$control$2296._updating=!1}}(qb),varMapping:{prop:qb.$jscomp$loop$prop$prop$2297,
control:qb.$jscomp$loop$prop$control$2296}})}}},{key:"update",value:function(){var hb=this,qb=this.target,Aa=qb.borderStyle,bb=qb.borderColor,wb=qb.borderRadius,Hb=qb.borderWidth;Tb.noUpdate(function(){hb.updateMultiValue("border style selector",Aa,"selection");hb.updateMultiValue("border color picker",bb,"colorValue");hb.updateMultiValue("border radius field",wb,"number");hb.updateMultiValue("border width field",Hb,"number")})}},{key:"updateTarget",value:function(hb,qb){this.target[hb]=qb;this.update()}},
{key:"updateControl",value:function(hb,qb,Aa){hb._updating||Tb.obj.equals(hb[qb],Aa)||(hb[qb]=Aa)}},{key:"updateMultiValue",value:function(hb,qb,Aa){var bb=this.ui,wb=bb[this.join(hb)],Hb=wb.get("multi value indicator"),Qb=Tb.obj.values(qb).some(function(lb){return!Tb.obj.isFunction(lb)&&!Tb.obj.equals(lb,qb.valueOf())});wb.visible=wb.isLayoutable=!Qb;if(Qb&&Hb.visible!=Qb)Tb.once(Hb,"onMouseDown",wb,Aa,{converter:function(){return qb.valueOf()},varMapping:{value:qb}});Hb.visible=Hb.isLayoutable=
Qb;this.updateControl(wb,Aa,qb.valueOf());wb=$jscomp.makeIterator(["top","left","bottom","right"]);for(Hb=wb.next();!Hb.done;Hb=wb.next())Hb=Hb.value,Qb=bb[this.join(hb,Hb)],this.updateControl(Qb,Aa,qb[Hb])}},{key:"lower",value:function(hb){return hb.charAt(0).toLowerCase()+hb.slice(1)}},{key:"join",value:function(hb,qb){return this.lower(Tb.string.camelCaseString(hb+(qb?" "+qb:"")))}},{key:"unwrap",value:function(hb,qb,Aa){var bb={};bb=(bb[this.lower(Tb.string.camelCaseString(hb))]=[hb,qb,Aa],bb);
for(var wb=$jscomp.makeIterator(["top","left","bottom","right"]),Hb=wb.next();!Hb.done;Hb=wb.next()){Hb=Hb.value;var Qb=hb+" "+Hb;bb[this.lower(Tb.string.camelCaseString(Qb))]=[Qb,qb,this.join(Aa,Hb)]}return bb}},{key:"attachToWorld",value:function(){Tb.connect($world,"showHaloFor",this,"focusOn",{garbageCollect:!0})}},{key:"focusOn",value:function(hb){var qb=this,Aa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(bb){if(1==bb.nextAddress)return!hb||qb.isAncestorOf(hb)||qb.target===hb||
Tb.obj.isArray(hb)||(qb.target=hb),Aa=qb.visible,qb.visible=!0,bb.yield(qb.whenRendered(),2);if(3!=bb.nextAddress)return qb.update(),bb.yield(qb.whenRendered(),3);qb.getSubmorphsByStyleClassName("NumberWidget").map(function(wb){return wb.relayout()});qb.visible=Aa;bb.jumpToEnd()})}},{key:"onHoverIn",value:function(hb){this.watchForTarget=!1}},{key:"onHoverOut",value:function(hb){this.watchForTarget=!0}}],[{key:"className",get:function(){return"BorderFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||
(this._uiSpec=Object.assign({},this.unwrap("border style selector","selection","borderStyle"),{},this.unwrap("border color picker","colorValue","borderColor"),{},this.unwrap("border radius field","number","borderRadius"),{},this.unwrap("border width field","number","borderWidth")))}},ui:{}}}}],Ob,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"BorderFormatStyler",
version:"0.1.1-10"}}},{start:185,end:4385})}(Tb.Morph);tc=Tb.BorderFormatStyler;Tb.default=tc;var Oc=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js");Oc.Morph=Ca;Oc.resource=Fb;Oc.arr=vc;Oc.obj=Nd;Oc.string=ee;Oc.Path=pc;Oc.connect=id;tc=function(td){var Ob=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js"),sb=Ob.hasOwnProperty("MasterComponentControl")&&"function"===typeof Ob.MasterComponentControl?Ob.MasterComponentControl:Ob.MasterComponentControl=function(hb){hb&&
hb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ad(sb,td,[{key:"focusOn",value:function(hb){this.target=hb;this.update()}},{key:"onMouseUp",value:function(hb){var qb=this,Aa,bb,wb,Hb,Qb,lb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(mb){if(1==mb.nextAddress){"auto master selection"==hb.targetMorph.name&&(Aa="auto");"hover master selection"==hb.targetMorph.name&&(Aa="hover");"click master selection"==hb.targetMorph.name&&
(Aa="click");qb.refreshButtons();if(!qb.target)return mb.return();bb=$jscomp.makeIterator(["auto","hover","click"]);for(wb=bb.next();!wb.done;wb=bb.next())Hb=wb.value,qb.target.master&&qb.target.master[Hb]&&!qb.get(Hb+" master checkbox").checked&&qb.adjustMasterComponent(Hb,null);if(!Aa)return mb.jumpTo(0);Qb=qb;lb=Qb.openMenu;return mb.yield(qb.getComponentSelectionMenu(Aa),3)}lb.call(Qb,mb.yieldResult,hb);mb.jumpToEnd()})}},{key:"getComponentSelectionMenu",value:function(hb){var qb=this,Aa,bb,wb,
Hb,Qb,lb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(mb){if(1==mb.nextAddress)return Aa=qb.world().metadata.commit.name,bb=Oc.resource("styleguide://"+Aa+"/"),mb.yield(bb.dirList(),2);if(3!=mb.nextAddress)return wb=mb.yieldResult,mb.yield(Oc.resource("styleguide://System/").dirList(),3);Hb=mb.yieldResult;Qb=qb.componentsToMenu(wb,hb);lb=qb.componentsToMenu(Hb,hb);return mb.return([].concat($jscomp.arrayFromIterable(0<Qb.length?[].concat($jscomp.arrayFromIterable(Qb),[{isDivider:!0}]):
[]),$jscomp.arrayFromIterable(lb)))})}},{key:"adjustMasterComponent",value:function(hb,qb){if(this.target.master)this.target.master[hb]=qb;else if(qb){var Aa={};this.target.master=(Aa[hb]=qb,Aa)}hb=this.target.master;qb=hb.hover;Aa=hb.click;hb.auto||qb||Aa||(this.target.master=null);this.update();this.target.withAllSubmorphsDo(function(bb){return delete bb._parametrizedProps});this.target.requestMasterStyling()}},{key:"componentsToMenu",value:function(hb,qb,Aa,bb){var wb=this;Aa=void 0===Aa?null:
Aa;bb=void 0===bb?1:bb;Aa||(Aa=hb.map(function(Qb){return{name:Oc.arr.last(Qb.name.split("/")),path:Qb.name.split("/"),value:Qb}}));if(0==Aa.length||100<bb)return[];var Hb=this;return Oc.arr.flatten(Object.entries(Oc.arr.groupBy(Aa,function(Qb){return Qb.path[bb-1]})).map(function(Qb){var lb=$jscomp.makeIterator(Qb);Qb=lb.next().value;lb=lb.next().value;var mb=$jscomp.makeIterator(Oc.arr.partition(lb,function(Rb){return Rb.path.length<=bb}));lb=mb.next().value;mb=mb.next().value;Qb=[Qb,wb.componentsToMenu(null,
qb,mb,bb+1)];return[].concat($jscomp.arrayFromIterable(lb.map(function(Rb){return[Rb.name,function(){Hb.adjustMasterComponent(qb,Rb.value)}]})),$jscomp.arrayFromIterable(Qb[1].length?[Qb]:[]))}),1)}},{key:"update",value:function(){if(this.target){for(var hb=$jscomp.makeIterator(["auto","hover","click"]),qb=hb.next();!qb.done;qb=hb.next()){qb=qb.value;var Aa=this.getSubmorphNamed(qb+" master selection"),bb=this.getSubmorphNamed(qb+" master checkbox");Oc.Path(["master",qb]).get(this.target)?bb.checked=
!0:bb.checked=!1;Aa.label=Oc.string.truncateLeft(Oc.Path(["master",qb,"name"]).get(this.target)||"select master",15,"...")}this.refreshButtons()}}},{key:"refreshButtons",value:function(){for(var hb=$jscomp.makeIterator(["auto","hover","click"]),qb=hb.next();!qb.done;qb=hb.next()){qb=qb.value;var Aa=this.getSubmorphNamed(qb+" master selection"),bb=this.getSubmorphNamed(qb+" master checkbox");Aa=Aa.deactivated=!bb.checked;this.getSubmorphNamed(qb+" master selection").opacity=Aa?.5:1}hb=this.getSubmorphNamed("overridden props list");
hb.items=this.getOverriddenProps();this.getSubmorphNamed("clear overridden prop button").deactivated=!hb.selection}},{key:"getMasterForTarget",value:function(){if(this.target.isMorph)return[this.target].concat($jscomp.arrayFromIterable(this.target.ownerChain())).map(function(hb){return hb.master}).find(Boolean)}},{key:"clearSelectedProperty",value:function(){var hb=this.getSubmorphNamed("overridden props list").selection;this.getMasterForTarget().clearOverriddenPropertiesFor(this.target,[hb]);this.refreshButtons()}},
{key:"getOverriddenProps",value:function(){var hb=this.getMasterForTarget();return hb&&hb._overriddenProps?(hb=hb._overriddenProps.get(this.target))?Object.keys(hb):[]:[]}}],[{key:"className",get:function(){return"MasterComponentControl"}}],Ob,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"MasterComponentControl",version:"0.1.1-104"}}},
{start:234,end:4847})}(Oc.Morph);tc=Oc.MasterComponentControl;Oc.default=tc}}});

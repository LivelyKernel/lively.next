System.register("./__root_module__-db735625.js ./index-705f6bba.js ./world-6b3b1e35.js ./index-2260babb.js ./index-7ce4e91c.js ./color-picker-ca0a3012.js ./object-classes-d20badfc.js ./user-ui-f27547c5.js ./index-1a2d973b.js".split(" "),function(){var db,Zb,lc,Uc,Bc,Vd,Od,je,Bd,jd,zd,ge,We,kf,bf,Hd,Ae,uc,wd,ce,Gd,pe,Te,rc,bd,he,cd,ie,ac;return{setters:[function(Db){db=Db.M;Zb=Db.I;lc=Db.T;Uc=Db.m;Bc=Db.O;Vd=Db.Q;Od=Db.S;je=Db.V;Bd=Db.W;jd=Db.X;zd=Db.Y;ge=Db.p;We=Db.R;kf=Db.C;bf=Db.b;Hd=Db.Z;
Ae=Db._;uc=Db.v;wd=Db.r;ce=Db.$;Gd=Db.a0;pe=Db.d;Te=Db.g;rc=Db.o;bd=Db.a1;he=Db.i},function(){},function(Db){cd=Db.Selection;ie=Db.SelectionElement},function(Db){ac=Db._},function(){},function(){},function(){},function(){},function(){}],execute:function(){var Db=lively.FreezerRuntime.recorderFor("LivelyTopBar/index.js");Db.Morph=db;Db.Icon=Zb;Db.Tooltip=lc;Db.morph=Uc;Db.Text=Bc;Db.Polygon=Vd;Db.Label=Od;Db.Path=je;Db.Image=Bd;Db.HTMLMorph=jd;Db.Ellipse=zd;Db.pt=ge;Db.Rectangle=We;Db.Color=kf;Db.arr=
bf;Db.Closure=Hd;Db.obj=Ae;Db.LoadingIndicator=uc;Db.resource=wd;Db.Canvas=ce;Db.getClassName=Gd;Db.Selection=cd;Db.SelectionElement=ie;Db.connect=pe;Db.signal=Te;Db.once=rc;Db.disconnect=bd;Db.CommentBrowser=ac;var Tc=function(Nc){var wc=lively.FreezerRuntime.recorderFor("LivelyTopBar/index.js"),Vc=wc.hasOwnProperty("LivelyTopBar")&&"function"===typeof wc.LivelyTopBar?wc.LivelyTopBar:wc.LivelyTopBar=function(hb){hb&&hb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return he(Vc,Nc,[{key:"__additionally_serialize__",value:function(hb,zc,Ub,Jc){he._get(Object.getPrototypeOf(Vc.prototype),"__additionally_serialize__",this).call(this,hb,zc,Ub,Jc);Jc("haloFilterFn",this.getProperty("haloFilterFn"))}},{key:"registerCustomShape",value:function(hb,zc,Ub,Jc){this.shapeToClass[hb]=zc;this.keyToShape[Ub]=hb;this.shapeToIcon[hb]={shortcut:Ub,args:Jc};this.shapesCreatedViaDrag.push(zc)}},{key:"beforePublish",value:function(){this.activeSideBars=[];this.currentShapeMode=
"Rectangle";this.setEditMode("Halo")}},{key:"onLoad",value:function(){var hb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(zc){if(1==zc.nextAddress)return hb.isComponent?zc.return():zc.yield(hb.whenRendered(),2);delete hb.shapeToIcon._rev;document.body.style.background="black";hb.setEditMode("Halo");hb.userFlap.getSubmorphNamed("fast load toggler").refresh();zc.jumpToEnd()})}},{key:"onUserChanged",value:function(hb){this.userFlap.onUserChanged(hb)}},{key:"relayout",value:function(){this.respondsToVisibleWindow&&
(this.width=this.world().visibleBounds().width,this.position=Db.pt(0,0))}},{key:"adjustElements",value:function(){var hb=this.get("ipad status bar");hb&&(hb.width=this.width);this.userFlap.owner==this&&(this.userFlap.right=this.width-10,this.userFlap.visible=750<this.width)}},{key:"getShapeMenuItems",value:function(){var hb=this;return Object.entries(this.shapeToIcon).map(function(zc){zc=$jscomp.makeIterator(zc);var Ub=zc.next().value,Jc=zc.next().value;zc=Jc.shortcut;Jc=Jc.args;return[[].concat($jscomp.arrayFromIterable(hb.currentShapeMode===
Ub?[].concat($jscomp.arrayFromIterable(Db.Icon.textAttribute("check",{fontSize:11,paddingTop:"2px"})),["   ",{}]):["     ",{}]),$jscomp.arrayFromIterable(Db.Icon.textAttribute.apply(Db.Icon,$jscomp.arrayFromIterable(Jc))),["   "+Ub+" ",{float:"none"},"      "+zc,{float:"right",fontSize:11,opacity:.5,fontFamily:"IBM Plex Mono"}]),function(){hb.currentShapeMode=Ub;hb.setEditMode("Shape")}]})}},{key:"getSideBarMenuItems",value:function(){var hb=this;return Object.entries(this.sideBarToIcon).map(function(zc){zc=
$jscomp.makeIterator(zc);var Ub=zc.next().value;zc=zc.next().value.args;return[[].concat($jscomp.arrayFromIterable(hb.activeSideBars.includes(Ub)?[].concat($jscomp.arrayFromIterable(Db.Icon.textAttribute("check",{fontSize:11,paddingTop:"2px"})),["   ",{}]):["     ",{}]),$jscomp.arrayFromIterable(Db.Icon.textAttribute.apply(Db.Icon,$jscomp.arrayFromIterable(zc))),["   "+Ub+" ",{float:"none"}]),function(){return hb.openSideBar(Ub)}]})}},{key:"reloadSidebar",value:function(){this.sideBar.remove();this.sideBar=
null;this.stylingPalette.remove();this.stylingPalette=null;this.openSideBar("Scene Graph");this.openSideBar("Styling Palette")}},{key:"onKeyUp",value:function(hb){"Hand"==this._tmpEditMode&&this.setEditMode("Hand",!0)}},{key:"onKeyDown",value:function(hb){he._get(Object.getPrototypeOf(Vc.prototype),"onKeyDown",this).call(this,hb);if(hb.isCommandKey()&&"Hand"==this._tmpEditMode)this.setEditMode("Halo",!0);else if(!hb.isAltDown()){var zc=this.keyToShape;if(zc[hb.key])this.currentShapeMode=zc[hb.key],
this.setEditMode("Shape");else switch(hb.key){case "Escape":this.setEditMode("Halo");break;case "T":this.setEditMode("Text")}}}},{key:"openSideBar",value:function(hb){var zc=this,Ub,Jc,Wc,Ad,Xd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(xc){switch(xc.nextAddress){case 1:zc.activeSideBars.includes(hb)?Db.arr.remove(zc.activeSideBars,hb):zc.activeSideBars.push(hb);if("Scene Graph"!=hb){xc.jumpTo(2);break}if(zc.sideBar){xc.jumpTo(3);break}Ub=Db.LoadingIndicator.open("loading side bar");
return xc.yield(Ub.whenRendered(),4);case 4:return Jc=zc,xc.yield(Db.resource("part://SystemIDE/scene graph side bar master").read(),5);case 5:return Jc.sideBar=xc.yieldResult,zc.sideBar.hasFixedPosition=!0,zc.sideBar.respondsToVisibleWindow=!0,zc.sideBar.openInWorld(),zc.sideBar.right=0,xc.yield(zc.sideBar.whenRendered(),6);case 6:Ub.remove();case 3:return xc.yield(zc.sideBar.toggle(zc.activeSideBars.includes("Scene Graph")),2);case 2:if("Styling Palette"!=hb){xc.jumpTo(8);break}if(zc.stylingPalette){xc.jumpTo(9);
break}Wc=Db.LoadingIndicator.open("loading side bar");return xc.yield(Wc.whenRendered(),10);case 10:return Ad=zc,xc.yield(Db.resource("part://SystemIDE/styling side bar master").read(),11);case 11:return Ad.stylingPalette=xc.yieldResult,zc.stylingPalette.collapseAll(),zc.stylingPalette.hasFixedPosition=!0,zc.stylingPalette.respondsToVisibleWindow=!0,zc.stylingPalette.openInWorld(),zc.stylingPalette.left=zc.world().width,zc.stylingPalette.relayout(),xc.yield(zc.stylingPalette.whenRendered(),12);case 12:Wc.remove();
case 9:return xc.yield(zc.stylingPalette.toggle(zc.activeSideBars.includes("Styling Palette")),8);case 8:(Xd=zc.get("lively version checker"))&&Xd.owner==$world&&Xd.relayout(),xc.jumpToEnd()}})}},{key:"onMouseDown",value:function(hb){var zc=this.get("select shape type"),Ub=this.get("shape mode button"),Jc=this.get("side bar selector"),Wc=this.primaryTarget||this.world();hb.targetMorph==zc&&(this.world().openWorldMenu(hb,this.getShapeMenuItems()).position=Ub.globalBounds().bottomLeft().subPt(this.world().scroll));
"undo button"==hb.targetMorph.name&&Wc.execCommand("undo");"redo button"==hb.targetMorph.name&&Wc.execCommand("redo");"save button"==hb.targetMorph.name&&$world.execCommand("save world");hb.targetMorph==Ub&&this.setEditMode("Shape");"text mode button"==hb.targetMorph.name&&this.setEditMode("Text");"hand mode button"==hb.targetMorph.name&&this.setEditMode("Hand");"halo mode button"==hb.targetMorph.name&&this.setEditMode("Halo");"open component browser"==hb.targetMorph.name&&this.interactivelyLoadComponent();
"load world button"==hb.targetMorph.name&&this.world().execCommand("load world");"comment browser button"==hb.targetMorph.name&&this.toggleCommentBrowser();hb.targetMorph==Jc&&(this.world().openWorldMenu(hb,this.getSideBarMenuItems()).position=Jc.globalBounds().bottomLeft().subPt(this.world().scroll))}},{key:"colorCommentBrowserButton",value:function(){var hb=this.get("user flap"),zc=hb.haloShadow;hb=hb.haloColor;var Ub=this.get("comment browser button");Ub.fontColor=hb;Ub.dropShadow=zc}},{key:"uncolorCommentBrowserButton",
value:function(){var hb=this.get("comment browser button"),zc=Db.Color.rgb(102,102,102);hb.dropShadow=!1;hb.fontColor=zc}},{key:"toggleCommentBrowser",value:function(){var hb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(zc){Db.CommentBrowser.isOpen()?hb.uncolorCommentBrowserButton():hb.colorCommentBrowserButton();return zc.yield(hb.world().execCommand("toggle comment browser"),0)})}},{key:"commentCountBadge",get:function(){return this.get("comment browser button").get("comment count badge")}},
{key:"interactivelyLoadComponent",value:function(){var hb=this,zc,Ub,Jc,Wc,Ad;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Xd){if(1==Xd.nextAddress)return zc=hb.get("open component browser"),Ub=hb.userFlap,Jc=Ub.haloShadow,Wc=Ub.haloColor,Ad=Db.Color.rgb(102,102,102),zc.fontColor=Wc,zc.dropShadow=Jc,Xd.yield(hb.world().execCommand("browse and load component"),2);zc.dropShadow=!1;zc.fontColor=Ad;Xd.jumpToEnd()})}},{key:"setEditMode",value:function(hb,zc){var Ub=this;zc=void 0===zc?!1:
zc;this.editMode=hb;var Jc=this.primaryTarget||this.world(),Wc=this.userFlap,Ad=Wc.haloShadow,Xd=Wc.haloColor,xc=Db.Color.rgb(102,102,102);zc||(this._tmpEditMode=hb);Wc=this.get("shape mode button");var Pc=this.get("text mode button"),sc=this.get("hand mode button"),Za=this.get("halo mode button");[["Shape",Wc.submorphs],["Text",[Pc]],["Hand",[sc]],["Halo",[Za]]].forEach(function(Pa){var ua=$jscomp.makeIterator(Pa);Pa=ua.next().value;ua=ua.next().value;"Shape"==hb?Ub.toggleShapeMode(Jc,!0,Ub.currentShapeMode):
"Text"==hb?Ub.toggleShapeMode(Jc,!0,"Text"):Ub.toggleShapeMode(Jc,!1);Ub.showHaloPreviews("Halo"==hb);zc||"Halo"==hb||Ub.world().halos().forEach(function(Na){return Na.remove()});Pa==hb?ua.forEach(function(Na){Na.dropShadow=Ad;Na.fontColor=Xd}):ua.forEach(function(Na){Na.dropShadow=null;Na.fontColor=xc})})}},{key:"canBeCreatedViaDrag",value:function(hb){return this.shapesCreatedViaDrag.includes(hb)}},{key:"toggleShapeMode",value:function(hb,zc,Ub){var Jc=this.shapeToClass;zc?(hb.nativeCursor="crosshair",
hb._yieldShapeOnClick=Jc[Ub]):(hb._yieldShapeOnClick=!1,hb.nativeCursor="auto")}},{key:"handleShapeCreation",value:function(hb){var zc=this.primaryTarget||this.world(),Ub=zc._yieldShapeOnClick;if(!Ub)return!1;zc._sizeTooltip&&zc._sizeTooltip.remove();if(hb.targetMorph!=zc)return!1;if(zc._shapeRequest&&Ub&&!zc._yieldedShape){var Jc=zc.localize(this.world().firstHand.position);switch(Ub){case Db.Image:zc.addMorph(Db.morph({type:Ub,position:Jc,extent:Db.pt(150,150),fill:Db.Color.transparent,imageUrl:"https://i.imgur.com/uGRFZEs.jpg"}));
break;case Db.Label:zc.addMorph(Db.morph({type:Ub,position:Jc,value:"I am a label!",fill:Db.Color.transparent}));break;case Db.Text:if(hb.targetMorph.isText)return;zc.addMorph(Db.morph({type:Ub,position:Jc,readOnly:!0,textString:"I am a text field!",fill:Db.Color.transparent}))}}Ub==Db.Text&&zc._yieldedShape?zc._yieldedShape.focus():zc._yieldedShape&&zc._yieldedShape.owner&&this.showHaloFor(zc._yieldedShape);zc._yieldedShape=null;zc._shapeRequest=!1}},{key:"prepareShapeCreation",value:function(hb){var zc=
this.primaryTarget||this.world(),Ub=zc._yieldShapeOnClick;if(!Ub||!this.canBeCreatedViaDrag(Ub))return!1;zc._yieldedShape=Db.morph(Object.assign({type:Ub,position:hb.positionIn(zc),extent:Db.pt(1,1),fill:Db.Color.transparent,borderWidth:1,borderColor:Db.Color.rgb(23,160,251),fixedHeight:!0,fixedWidth:!0,lineWrapping:!0},Ub==Db.Text?this.getDefaultTextAttrs():{},{},Ub==Db.Image?this.getImageDefaultAttrs():{},{},Ub==Db.Polygon?this.getPolyDefaultAttrs():{},{},Ub==Db.Path?this.getPathDefaultAttrs():
{}));zc._sizeTooltip=Db.morph({type:Db.Tooltip,padding:Db.Rectangle.inset(5,5,5,5),styleClasses:["Tooltip"]}).openInWorld();return!0}},{key:"getPolyDefaultAttrs",value:function(){return{vertices:[Db.pt(131.4,86.3),Db.pt(171,139.6),Db.pt(105.9,119.9),Db.pt(65.3,172.5),Db.pt(64.7,107),Db.pt(0,86.3),Db.pt(64.7,65.5),Db.pt(65.3,0),Db.pt(105.9,52.6),Db.pt(171,32.9),Db.pt(131.4,86.3)],borderWidth:1}}},{key:"getPathDefaultAttrs",value:function(){return{vertices:[Db.pt(0,0),Db.pt(1,1)],borderWidth:1}}},{key:"getImageDefaultAttrs",
value:function(){return{imageUrl:"https://i.imgur.com/uGRFZEs.jpg"}}},{key:"getDefaultTextAttrs",value:function(){return{readOnly:!0}}},{key:"yieldShapeIfNeeded",value:function(hb){var zc=this.primaryTarget||this.world();return zc._yieldedShape?(!zc._yieldedShape.owner&&10<hb.state.absDragDelta.r()&&zc.addMorph(zc._yieldedShape),zc._yieldedShape.extent=hb.positionIn(zc.world()).subPt(hb.state.dragStartPosition).subPt(Db.pt(1,1)).maxPt(Db.pt(1,1)),zc._sizeTooltip.description=zc._yieldShapeOnClick[Symbol.for("__LivelyClassName__")]+
": "+zc._yieldedShape.width.toFixed(0)+"x"+zc._yieldedShape.height.toFixed(0),zc._sizeTooltip.topLeft=hb.positionIn(zc.world()).addXY(15,15),!0):!1}},{key:"handleHaloSelection",value:function(hb){var zc=this.world(),Ub=this.primaryTarget||zc,Jc=$jscomp.makeIterator(zc.halos()).next().value;this._showHaloPreview&&this._currentlyHighlighted&&0==zc.halos().length&&(hb.stop(),zc.getSubmorphsByStyleClassName("HaloPreview").forEach(function(Wc){return Wc.remove()}),this.showHaloFor(this._currentlyHighlighted));
hb.targetMorph&&console.log(hb.targetMorph);Jc&&Jc.target==hb.state.prevClick.clickedOnMorph&&"border-box"==hb.targetMorph.name&&50>hb.state.timeOfLastActivity-hb.state.prevClick.clickedAtTime?Jc.temporaryEditTextMorph(hb):hb.targetMorph==Ub&&(Ub._shapeRequest=!0)}},{key:"showHaloFor",value:function(hb){var zc=this;if(hb){if(Db.obj.isArray(hb)){if(0==hb.length)return;var Ub=this.world().showHaloForSelection(hb)}else Ub=this.world().showHaloFor(hb);Db.once(Ub,"remove",function(){Ub.target!=zc.world().focusedMorph&&
Db.signal(zc.primaryTarget,"onHaloRemoved",hb)});this.activeHaloItems.includes("*")||(Ub.activeItems=this.activeHaloItems);Ub.topBar=this;Db.signal(this.primaryTarget,"onHaloOpened",hb)}}},{key:"handleHaloPreview",value:function(hb){var zc=this;if(this._showHaloPreview){var Ub=this.haloFilterFn,Jc=this.primaryTarget||this.world(),Wc=Jc.morphsContainingPoint(hb.positionIn(Jc.world()));"hoverout"==hb.type&&(Wc=[Jc]);hb=Wc.filter(function(Ad){return Ub(Ad)&&Ad.halosEnabled&&[Ad].concat($jscomp.arrayFromIterable(Ad.ownerChain())).every(function(Xd){return Xd.visible&&
0<Xd.opacity&&!Xd.styleClasses.includes("HaloPreview")})})[0];Wc.find(function(Ad){return Ad.isMenuItem||Ad==zc.sideBar||Ad==zc.stylingPalette})?(this._currentlyHighlighted=!1,this.clearHaloPreviews()):this.showHaloPreviewFor(hb)}}},{key:"showHaloPreviewFor",value:function(hb){var zc=this.primaryTarget||this.world();if(hb&&(![hb].concat($jscomp.arrayFromIterable(hb.ownerChain())).find(function(Ub){return Ub.isComponent})&&hb.getWindow()?hb=null:[hb].concat($jscomp.arrayFromIterable(hb.ownerChain())).find(function(Ub){return Ub.isEpiMorph})?
hb=null:hb==zc&&(hb=null),this._currentlyHighlighted!=hb&&(this.clearHaloPreviews(),this._currentlyHighlighted=hb),!(0<this.world().halos().length)&&hb)){this._previewCache||(this._previewCache=new WeakMap);zc=Db.Morph;switch(Db.getClassName(hb)){case "Ellipse":zc=Db.Ellipse}zc=this._previewCache.get(hb)||Db.morph({type:zc,styleClasses:["HaloPreview"],epiMorph:!0,fill:Db.Color.transparent,reactsToPointer:!1,halosEnabled:!1,acceptsDrops:!1,border:{color:Db.Color.rgb(23,160,251),width:1}});zc.owner||
this.world().addMorph(zc);zc.setBounds(hb.globalBounds());zc.borderColor=Db.Color.rgb(23,160,251);zc.borderStyle="solid";hb.master&&(zc.borderColor=Db.Color.purple);hb.ownerChain().find(function(Ub){return Ub.master&&Ub.master.managesMorph(hb)})&&(zc.borderColor=Db.Color.purple,zc.borderStyle="dotted");hb.isComponent&&(zc.borderColor=Db.Color.magenta);this._previewCache.set(hb,zc)}}},{key:"showHaloPreviews",value:function(hb){hb||this.clearHaloPreviews();this._showHaloPreview=hb}},{key:"clearHaloPreviews",
value:function(){this.world().getSubmorphsByStyleClassName("HaloPreview").forEach(function(hb){return hb.remove()})}},{key:"prepareDragSelection",value:function(hb){var zc=(this.primaryTarget||this.world()).world();this._selectionStartPos=hb.positionIn(zc);this._morphSelection=zc.addMorph({type:Db.Selection,epiMorph:!0,reactsToPointer:!1,position:this._selectionStartPos,extent:hb.state.dragDelta});this._selectedMorphs={}}},{key:"adjustDragSelection",value:function(hb){var zc=this,Ub=this.primaryTarget||
this.world(),Jc=Ub.world(),Wc=Db.Rectangle.fromAny(hb.position,this._selectionStartPos);this._morphSelection.setBounds(Wc);Ub.submorphs.forEach(function(Ad){if(!Ad.isSelectionElement&&!Ad.isHand){var Xd=Ad.globalBounds(),xc=Wc.containsRect(Xd);!zc._selectedMorphs[Ad.id]&&xc&&(zc._selectedMorphs[Ad.id]=Jc.addMorph({type:Db.SelectionElement,bounds:Xd},zc._morphSelection));zc._selectedMorphs[Ad.id]&&!xc&&(zc._selectedMorphs[Ad.id].remove(),delete zc._selectedMorphs[Ad.id])}})}},{key:"finishDragSelectionIfNeeded",
value:function(hb){if(this._morphSelection){var zc=this.world();this._morphSelection.fadeOut(200);Db.obj.values(this._selectedMorphs).map(function(Ub){return Ub.remove()});this.showHaloFor(Object.keys(this._selectedMorphs).map(function(Ub){return zc.getMorphWithId(Ub)}));this._selectedMorphs={};this._morphSelection=null}}},{key:"onTargetDragStart",value:function(hb){!this.prepareShapeCreation(hb)&&hb.leftMouseButtonPressed()&&this.prepareDragSelection(hb)}},{key:"onTargetDrag",value:function(hb){!this.yieldShapeIfNeeded(hb)&&
this._morphSelection&&this.adjustDragSelection(hb)}},{key:"detachFromTarget",value:function(hb){Db.disconnect(hb,"onMouseMove",this,"handleHaloPreview");Db.disconnect(hb,"onMouseDown",this,"handleHaloSelection");Db.disconnect(hb,"onMouseUp",this,"handleShapeCreation");Db.disconnect(hb,"onDragStart",this,"onTargetDragStart");Db.disconnect(hb,"onDrag",this,"onTargetDrag");Db.disconnect(hb,"onDragEnd",this,"finishDragSelectionIfNeeded")}},{key:"attachToTarget",value:function(hb){this.primaryTarget&&
this.detachFromTarget(this.primaryTarget);this.primaryTarget=hb;this.setEditMode("Halo");Db.connect(hb,"onMouseMove",this,"handleHaloPreview",{garbageCollect:!0});Db.connect(hb,"onHoverOut",this,"handleHaloPreview",{garbageCollect:!0});Db.connect(hb,"onMouseDown",this,"handleHaloSelection",{garbageCollect:!0});Db.connect(hb,"onMouseUp",this,"handleShapeCreation",{garbageCollect:!0});Db.connect(hb,"onDragStart",this,"onTargetDragStart",{garbageCollect:!0});Db.connect(hb,"onDrag",this,"onTargetDrag",
{garbageCollect:!0});Db.connect(hb,"onDragEnd",this,"finishDragSelectionIfNeeded",{garbageCollect:!0})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LivelyTopBar"}},{key:"properties",get:function(){return{isTopBar:{readOnly:!0,get:function(){return!0}},activeHaloItems:{initialize:function(hb){hb||(this.activeHaloItems=["*"])}},primaryTarget:{doc:"A reference to the morph that the top bar considers its primary target",defaultValue:null},haloFilterFn:{defaultValue:"() => true",derived:!0,
set:function(hb){this.setProperty("haloFilterFn",hb)},get:function(){return Db.Closure.fromSource(this.getProperty("haloFilterFn"),{target:this.primaryTarget}).asFunction()}},userFlap:{},activeSideBars:{},currentShapeMode:{after:["submorphs"],set:function(hb){this.setProperty("currentShapeMode",hb);this.get("shape status icon").textAndAttributes=Db.Icon.textAttribute(this.shapeToIcon[hb].args[0])}},sideBarToIcon:{readOnly:!0,get:function(){return{"Scene Graph":{args:["sitemap",{textStyleClasses:["fas"]}]},
"Styling Palette":{args:["palette",{textStyleClasses:["fas"]}]}}}},shapeToIcon:{initialize:function(hb){this.shapeToIcon=hb||{Rectangle:{shortcut:"R",args:["square",{textStyleClasses:["fas"]}]},Ellipse:{shortcut:"E",args:["circle",{textStyleClasses:["fas"]}]},Image:{shortcut:"I",args:["image",{textStyleClasses:["fas"],paddingTop:"1px"}]},Path:{shortcut:"P",args:["bezier-curve",{fontSize:13,paddingTop:"3px"}]},Polygon:{shortcut:"Q",args:["draw-polygon",{fontSize:17}]},Label:{shortcut:"L",args:["tag",
{paddingTop:"1px"}]},Canvas:{shortcut:"C",args:["chess-board",{paddingTop:"1px"}]},HTML:{shortcut:"H",args:["code",{paddingTop:"1px"}]}}}},keyToShape:{initialize:function(hb){this.keyToShape=hb||{R:"Rectangle",E:"Ellipse",I:"Image",P:"Path",Q:"Polygon",L:"Label",C:"Canvas",H:"HTML"}}},shapeToClass:{serialize:!1,defaultValue:{Rectangle:Db.Morph,Ellipse:Db.Ellipse,HTML:Db.HTMLMorph,Canvas:Db.Canvas,Image:Db.Image,Path:Db.Path,Label:Db.Label,Polygon:Db.Polygon,Text:Db.Text}},shapesCreatedViaDrag:{serialize:!1,
initialize:function(){this.shapesCreatedViaDrag=[Db.Morph,Db.Ellipse,Db.HTMLMorph,Db.Canvas,Db.Text,Db.Polygon,Db.Path,Db.Image]}}}}}],wc,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"LivelyTopBar",version:"0.1.1-280"}}},{start:740,end:25265})}(Db.Morph);Tc=Db.LivelyTopBar;Db.default=Tc}}});
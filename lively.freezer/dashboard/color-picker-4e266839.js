System.register(["./__root_module__-aefa9179.js","./index-3100fe37.js"],function(Da){var Bb,Qb,hc,ac,be,bd,Sd,ed,Mc,pd,Dd,ke,Kd,jd,cb,Ab,Yb,gc,dd,Zd,Wb,oc,Lb,Bc,Sc,Yc,Xb,qb,uc,Hc,Ia,Va,tb,Jb,Ib,ib,jb,Fb,rc,Ic,ec,Pc,Q,ha,Ha,Pa,bc,ic,Ra,tc,Qd,md,$c;return{setters:[function(Wa){Bb=Wa.C;Qb=Wa.a2;hc=Wa.b5;ac=Wa.b6;be=Wa.b7;bd=Wa.b8;Sd=Wa.b9;ed=Wa.ba;Mc=Wa.a3;pd=Wa.ag;Dd=Wa.bb;ke=Wa.bc;Kd=Wa.bd;jd=Wa.ai;cb=Wa.a_;Ab=Wa.ak;Yb=Wa.aB;gc=Wa.a9;dd=Wa.a$;Zd=Wa.am;Wb=Wa.I;oc=Wa.aV;Lb=Wa.b3;Bc=Wa.be;Sc=Wa.bf;
Yc=Wa.aq;Xb=Wa.ar;qb=Wa.ap;uc=Wa.a6;Hc=Wa.bg;Ia=Wa.as;Va=Wa.ao;tb=Wa.aC;Jb=Wa.aa;Ib=Wa.bh;ib=Wa.al;jb=Wa.an;Fb=Wa.ab;rc=Wa.$;Ic=Wa.at;ec=Wa.s;Pc=Wa.a7;Q=Wa.a1;ha=Wa.bi;Ha=Wa.bj;Pa=Wa.bk;bc=Wa.ah;ic=Wa.au;Ra=Wa.aN},function(Wa){tc=Wa.p;Qd=Wa.P;md=Wa._;$c=Wa.N}],execute:function(){var Wa=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");Wa.Color=Bb;Wa.rect=Qb;Wa.Complementary=hc;Wa.Triadic=ac;Wa.Tetradic=be;Wa.Quadratic=bd;Wa.Analogous=Sd;Wa.Neutral=ed;Wa.pt=Mc;Wa.Point=pd;Wa.flatDesignColors=
Dd;Wa.materialDesignColors=ke;Wa.webSafeColors=Kd;Wa.Morph=jd;Wa.CustomLayout=cb;Wa.VerticalLayout=Ab;Wa.HorizontalLayout=Yb;Wa.Text=gc;Wa.TilingLayout=dd;Wa.Ellipse=Zd;Wa.Image=Wb;Wa.StyleSheet=oc;Wa.DropDownSelector=Lb;Wa.ModeSelector=Bc;Wa.Slider=Sc;Wa.connect=Yc;Wa.signal=Xb;Wa.num=qb;Wa.arr=uc;Wa.SnapLayout=Hc;Wa.WHEEL_URL="/lively.ide/assets/color-wheel.png";Wa.duration=200;(function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Nb=Ed.hasOwnProperty("ColorPaletteField")&&
"function"===typeof Ed.ColorPaletteField?Ed.ColorPaletteField:Ed.ColorPaletteField=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"onHoverIn",value:function(){if(this.color){var wa=$jscomp.makeIterator(this.color.toHSB()),Ba=wa.next().value,Mb=wa.next().value;wa=wa.next().value;this.borderColor=Wa.Color.hsb(Ba,1<Mb+.5?Mb-.5:Mb+.5,1<wa+.5?wa-.5:wa+.5)}}},{key:"onHoverOut",value:function(){this.borderColor=
Wa.Color.transparent}},{key:"onMouseDown",value:function(){Wa.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:Wa.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||Wa.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||Wa.Color.transparent}},styleClasses:{after:["color"],
initialize:function(){this.styleClasses=this.color?["colorField"]:["vacantColorField"]}}}}}],Ed,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:653,end:1603})})(Wa.Morph);(function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Nb=Ed.hasOwnProperty("ColorHarmonyField")&&
"function"===typeof Ed.ColorHarmonyField?Ed.ColorHarmonyField:Ed.ColorHarmonyField=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"onMouseDown",value:function(){Wa.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:Wa.pt(80,60)},fill:{defaultValue:Wa.Color.transparent},
master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color harmony field"}}},color:{set:function(wa){var Ba=$jscomp.makeIterator(this.submorphs),Mb=Ba.next().value;Ba=Ba.next().value;var P=$jscomp.makeIterator(wa?wa.toHSB():[]),ya=P.next().value,Ua=P.next().value;P=P.next().value;this.setProperty("color",wa);wa&&Mb&&Ba&&(Mb.fill=wa,Ba.textString=wa.toHexString(),Ba.fontColor=Wa.Color.hsb(ya,1<Ua+.5?Ua-.5:Ua+.5,1<P+.5?P-.5:P+.5))}},submorphs:{after:["color"],initialize:function(){var wa=
$jscomp.makeIterator((this.color||Wa.Color.transparent).toHSB()),Ba=wa.next().value,Mb=wa.next().value;wa=wa.next().value;this.submorphs=[new Wa.Morph({fill:this.color,extent:Wa.pt(80,50)}),new Wa.Text({textString:Ba.toFixed()+", "+Mb.toFixed(2)+", "+wa.toFixed(2),fill:Wa.Color.transparent,fontColor:Wa.Color.gray.darker(),bottomLeft:Wa.pt(0,50)})]}}}}}],Ed,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:1605,end:3066})})(Wa.Morph);(function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Nb=Ed.hasOwnProperty("HarmonyDisplay")&&"function"===typeof Ed.HarmonyDisplay?Ed.HarmonyDisplay:Ed.HarmonyDisplay=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"update",value:function(wa){var Ba=$jscomp.makeIterator(wa.pivotColor.toHSB()),
Mb=Ba.next().value,P=Ba.next().value;Ba=Ba.next().value;Mb=wa.harmony.chord({hue:Mb,saturation:P,brightness:Ba});Mb.length!=this.submorphs.length?this.submorphs=Mb.map(function(ya){ya=new Wa.ColorHarmonyField({color:ya});Wa.connect(ya,"updateColor",wa,"color");return ya}):Wa.arr.zip(this.submorphs,Mb).forEach(function(ya){var Ua=$jscomp.makeIterator(ya);ya=Ua.next().value;Ua=Ua.next().value;ya.color=Ua})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyDisplay"}}],Ed,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3068,end:3642})})(Wa.Morph);(function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Nb=Ed.hasOwnProperty("PivotColorControl")&&"function"===typeof Ed.PivotColorControl?Ed.PivotColorControl:Ed.PivotColorControl=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"update",value:function(wa){this.pivotColor=wa.pivotColor}},{key:"onDrag",value:function(wa){var Ba=$jscomp.makeIterator(this.pivotColor.toHSB()),Mb=Ba.next().value,P=Ba.next().value;Ba=Ba.next().value;Mb=Wa.num.toRadians(Mb);wa=Wa.Point.polar(50*P,Mb).addPt(wa.state.dragDelta);Mb=Wa.num.toDegrees(wa.theta());Mb=0>Mb?Mb+360:Mb;P=Math.min(wa.r()/50,1);this.pivotColor=Wa.Color.hsb(Mb,P,Ba)}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:Wa.Color.blue},draggable:{defaultValue:!0}}}}],Ed,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3644,end:4288})})(Wa.Ellipse);(function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
Nb=Ed.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof Ed.HarmonyVisualizer?Ed.HarmonyVisualizer:Ed.HarmonyVisualizer=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"update",value:function(wa){var Ba=$jscomp.makeIterator(this.submorphs).next().value,Mb=this.get("pivot control"),P=$jscomp.makeIterator(wa.pivotColor.toHSB()),ya=P.next().value,Ua=P.next().value;P=P.next().value;var Eb=Wa.num.toRadians(ya);
ya=wa.harmony.chord({hue:ya,saturation:Ua,brightness:P}).map(function(Cc){var cd=$jscomp.makeIterator(Cc.toHSB()),ee=cd.next().value;Cc=cd.next().value;cd.next();cd=Wa.num.toRadians(ee);return Wa.Point.polar(50*Cc,cd)});Ba.fill=Wa.Color.black.withA(1-P);Mb.update(wa);Ba.submorphs.length-1!=ya.length?Ba.submorphs=[].concat($jscomp.arrayFromIterable(ya.map(function(Cc){return new Wa.Ellipse({center:Cc,fill:Wa.Color.transparent,draggable:!1,borderWidth:1,borderColor:Wa.Color.black})})),[Mb]):(Wa.arr.zip(Ba.submorphs,
ya).forEach(function(Cc){var cd=$jscomp.makeIterator(Cc);Cc=cd.next().value;if(cd=cd.next().value)Cc.center=cd}),Mb.center=Wa.Point.polar(50*Ua,Eb))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new Wa.PivotColorControl({name:"pivot control"})]}]}}}}}],Ed,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4290,end:5783})})(Wa.Image);(function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Nb=Ed.hasOwnProperty("HarmonyPalette")&&"function"===typeof Ed.HarmonyPalette?Ed.HarmonyPalette:Ed.HarmonyPalette=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"update",value:function(wa){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=wa.pivotBrightness,this.harmony=wa.harmony,this.get("harmonies").update(wa),this.get("harmony visualizer").update(wa),this.updateInProgress=!1)}},{key:"harmonyControl",value:function(){var wa,Ba,Mb=new Wa.Morph({name:"harmonyControl",submorphs:[new Wa.HarmonyVisualizer({name:"harmony visualizer"}),Ba=new Wa.Slider({min:0,
max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),wa=new Wa.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new Wa.Complementary,Triadic:new Wa.Triadic,Tetradic:new Wa.Tetradic,Quadratic:new Wa.Quadratic,Analogous:new Wa.Analogous,Neutral:new Wa.Neutral}})]});Wa.connect(Ba,"value",this,"pivotBrightness");Wa.connect(wa,"selectedValue",this,"harmony");return Mb}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new Wa.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],initialize:function(){this.submorphs=[new Wa.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],Ed,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5785,end:7880})})(Wa.Morph);var fd=Da("C",function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Nb=Ed.hasOwnProperty("ColorPalette")&&"function"===typeof Ed.ColorPalette?Ed.ColorPalette:Ed.ColorPalette=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return Ia(Nb,re,[{key:"fadeIntoWorld",value:function(wa){Ia._get(Object.getPrototypeOf(Nb.prototype),"fadeIntoWorld",this).call(this,wa);this.initPosition=wa;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function(wa){"Escape"==wa.key&&this.close()}},{key:"close",value:function(wa){wa?this.fadeOut(wa):this.remove();Wa.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",extent:Wa.pt(400,253),submorphs:[this.solidColorPalette(),new Wa.HarmonyPalette({name:"harmony palette",
isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var wa=this.get("solidColorPalette"),Ba=this.get("paletteView");wa.visible||(Ba.submorphs.forEach(function(Mb){return Mb.animate({isLayoutable:!1,visible:!1,duration:200})}),wa.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var wa=this.get("paletteView");this.get("harmony palette").visible||(wa.submorphs.forEach(function(Ba){return Ba.animate({isLayoutable:!1,visible:!1,
duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var wa=new Wa.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette","Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});Wa.connect(wa,"Color Palette",this,"selectSolidMode");Wa.connect(wa,"Color Harmonies",this,"selectHarmonyMode");return wa}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",
master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var wa=this.getColorsFor(this.colorPalette),Ba=wa.colors,Mb=wa.mod;return this.cachedPalette[wa.name]||this.getPalette(Ba,Mb)}},{key:"getPalette",value:function(wa,Ba){var Mb=this,P=Math.max(Math.ceil(wa.length/Ba),15),ya=P*this.colorFieldWidth,Ua=Ba*this.colorFieldWidth;wa=[].concat($jscomp.arrayFromIterable(wa),$jscomp.arrayFromIterable(Wa.arr.withN(P*
Ba-wa.length,null)));return{extent:Wa.pt(ya,Ua),name:"paletteContainer",submorphs:wa.map(function(Eb){Eb=new Wa.ColorPaletteField({color:Eb&&Wa.Color.rgbHex(Eb),extent:Wa.pt(Mb.colorFieldWidth,Mb.colorFieldWidth)});Wa.connect(Eb,"updateColor",Mb,"color");return Eb})}}},{key:"switchPalette",value:function(wa){var Ba=wa.name,Mb=wa.colors;wa=wa.mod;var P=this.get("solidColorPalette"),ya=$jscomp.makeIterator(P.submorphs);ya.next();ya=ya.next().value;this.cachedPalette[Ba]=this.cachedPalette[Ba]||this.getPalette(Mb,
wa,Ba);P.submorphs=[this.cachedPalette[Ba],ya]}},{key:"getPaletteDescription",value:function(wa){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",custom:"Your personal set of customly defined colors.",materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",
flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[wa]}},{key:"updatePaletteDescription",value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function(wa){return Object.assign({name:wa},
{flatDesign:{colors:Wa.flatDesignColors,mod:11},materialDesign:{colors:Wa.materialDesignColors,mod:15},webSafe:{colors:Wa.webSafeColors,mod:12}}[wa])}},{key:"paletteConfig",value:function(){var wa,Ba={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[wa=new Wa.DropDownSelector({isHaloItem:!0,name:"paletteSelector",selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};
Wa.connect(wa,"selectedValue",this,"colorPalette");return Ba}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:Wa.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function(wa){this.setProperty("colorPalette",wa);this.switchPalette(this.getColorsFor(wa));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function(wa){this.setProperty("pivotColor",wa);this.get("harmony palette").update(this)}},
color:{set:function(wa){this.setProperty("color",wa);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var wa=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());wa.next();wa.next();return wa.next().value},set:function(wa){var Ba=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),Mb=Ba.next().value;Ba=Ba.next().value;this.pivotColor=Wa.Color.hsb(Mb,Ba,wa)}},harmony:{after:["submorphs","pivotColor"],
defaultValue:new Wa.Complementary,set:function(wa){this.setProperty("harmony",wa);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var wa=$jscomp.makeIterator(this.color.toHSB()),Ba=wa.next().value,Mb=wa.next().value;wa.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=Wa.Color.hsb(Ba,
Mb,1);Wa.connect(this.get("harmony palette"),"harmony",this,"harmony");Wa.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");Wa.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],Ed,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:7946,end:15967})}(Wa.Morph));Wa.ColorPalette=fd;Wa.ColorPalette=fd;Wa.ColorPalette=fd;var lb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");lb.Morph=jd;lb.Icon=Va;lb.ProportionalLayout=tb;lb.config=Jb;lb.Text=gc;lb.ShadowObject=Ib;lb.GridLayout=ib;lb.TilingLayout=dd;lb.StyleSheet=oc;lb.morph=jb;lb.HorizontalLayout=Yb;lb.VerticalLayout=Ab;lb.KeyHandler=Fb;lb.connect=Yc;lb.signal=Xb;lb.arr=uc;lb.promise=rc;lb.fun=Ic;lb.string=ec;lb.obj=Pc;lb.Color=
Bb;lb.rect=Qb;lb.Rectangle=Q;lb.pt=Mc;lb.popovers=tc;lb.ModeSelector=Bc;lb.DropDownSelector=Lb;lb.SearchField=ha;lb.CheckBox=Ha;lb.Popover=Qd;lb.SvgStyleHalo=md;lb.NumberWidget=$c;lb.Icons=Pa;lb.duration=200;var Hd=Da("c",lb.colorWidgets||{});lb.colorWidgets=Hd;lb.colorWidgets=Hd;lb.colorWidgets=Hd;(function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Nb=Ed.hasOwnProperty("SelectableControl")&&"function"===typeof Ed.SelectableControl?Ed.SelectableControl:Ed.SelectableControl=
function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"select",value:function(wa){var Ba=this,Mb,P,ya;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ua){if(1==Ua.nextAddress)return Ba.target?Ua.yield(Ba.target.execCommand(wa),2):Ua.return();Mb=Ua.yieldResult;P=Ba.get("modeSelector");Mb.opacity=0;Ba.lastLabel&&(ya=P.submorphs.indexOf(Ba.lastLabel)<P.submorphs.indexOf(P.currentLabel),Mb.topLeft=
P.bottomLeft.addXY(ya?20:-20,10));Ba.lastLabel=P.currentLabel;Ba.animate({submorphs:[P,Mb],duration:lb.duration});Mb.animate({opacity:1,duration:lb.duration});Ua.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SelectableControl"}},{key:"properties",get:function(){return{target:{type:"Morph"},selectableControls:{},selectedControl:{},fill:{defaultValue:lb.Color.transparent},layout:{initialize:function(){this.layout=new lb.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function(wa){return this.container.submorphs.indexOf(wa)}})}},
submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var wa=new lb.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});this.submorphs=[wa];wa.width=100;lb.connect(wa,"switchLabel",this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],Ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:946,end:2555})})(lb.Morph);(function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Nb=Ed.hasOwnProperty("ToggledControl")&&"function"===typeof Ed.ToggledControl?Ed.ToggledControl:Ed.ToggledControl=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"toggle",value:function(wa){var Ba=$jscomp.makeIterator(this.submorphs).next().value,
Mb=this.toggledControl(wa);Ba=[Ba].concat($jscomp.arrayFromIterable(Mb?[Mb]:[]));lb.signal(this,"update",wa&&Mb.value);Mb&&(Mb.opacity=0);this.animate({submorphs:Ba,duration:lb.duration});Mb&&Mb.animate({opacity:1,duration:lb.duration})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:lb.Color.transparent},
layout:{initialize:function(){this.layout=new lb.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var wa=new lb.CheckBox({checked:this.checked});this.submorphs=[{fill:lb.Color.transparent,layout:new lb.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:lb.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},wa]}];this.toggle(this.checked);lb.connect(wa,"toggle",this,"toggle")}}}}}],
Ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2557,end:4228})})(lb.Morph);(function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Nb=Ed.hasOwnProperty("StylePopover")&&"function"===typeof Ed.StylePopover?Ed.StylePopover:Ed.StylePopover=
function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"setupConnections",value:function(){}},{key:"controls",value:function(){return[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=lb.morph({layout:new lb.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:lb.Color.transparent,
submorphs:this.controls()});this.setupConnections()}}}}}],Ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4230,end:4772})})(lb.Popover);var db=function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Nb=Ed.hasOwnProperty("IconPopover")&&"function"===
typeof Ed.IconPopover?Ed.IconPopover:Ed.IconPopover=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"onDrop",value:function(wa){var Ba=this;wa.hand.grabbedMorphs.find(function(Mb){return Mb===Ba.iconLabel})&&(wa.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new lb.VerticalLayout({spacing:4}),fill:lb.Color.transparent,submorphs:[new lb.SearchField({name:"searchInput",
width:200,placeHolder:"Search Icons"}),lb.morph({textAndAttributes:this.iconAsTextAttributes(),name:"iconList",draggable:!0,type:"text",extent:lb.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var wa=this.ui,Ba=wa.iconList;lb.connect(wa.searchInput,"searchInput",this,"filterIcons");lb.connect(Ba,"onMouseUp",this,"iconSelectClick");lb.connect(Ba,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",
value:function(wa){wa=this.ui.iconList.textPositionFromPoint(wa.positionIn(this.ui.iconList));wa=this.iconAtTextPos(wa);this.iconLabel=lb.Icon.makeLabel(wa,{fontSize:this.ui.iconList.fontSize,name:wa});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",value:function(wa){var Ba=Object.keys(lb.Icons);wa&&(Ba=Ba.filter(wa));return lb.arr.flatmap(Ba,function(Mb,P){return[lb.Icons[Mb].code,{iconCode:lb.Icons[Mb].code,iconName:Mb}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",
value:function(){var wa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ba){if(1==Ba.nextAddress)return Ba.yield(lb.promise.delay(250),2);lb.fun.debounceNamed("filterIcons",200,function(){wa.ui.iconList.textAndAttributes=wa.iconAsTextAttributes(function(Mb){return wa.ui.searchInput.matches(Mb.toLowerCase())})})();Ba.jumpToEnd()})}},{key:"iconSelectClick",value:function(wa){wa=this.ui.iconList.textPositionFromPoint(wa.positionIn(this.ui.iconList));wa=this.iconAtTextPos(wa);this.setStatusMessage(wa);
lb.signal(this,"select",wa)}},{key:"iconAtTextPos",value:function(wa){var Ba=wa.row;wa=wa.column;--wa;for(var Mb=this.ui.iconList,P=Mb.textAndAttributesInRange({start:{row:Ba,column:Math.max(0,wa)},end:{row:Ba,column:wa+2}});P.length&&!P[1].iconName;)wa++,P=P.slice(2);var ya={start:{row:Ba,column:wa},end:{row:Ba,column:wa+1}};Mb.addTextAttribute({backgroundColor:Mb.selectionColor.darker().withA(.5)},ya);lb.promise.delay(1E3).then(function(){return Mb.addTextAttribute({backgroundColor:lb.Color.transparent},
ya)});return P.length?P[1].iconName:null}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"IconPopover"}},{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:lb.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),iconList:this.get("iconList")}}}}}}],Ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4781,end:8324})}(lb.StylePopover);lb.IconPopover=db;lb.IconPopover=db;lb.IconPopover=db;var rb=function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Nb=Ed.hasOwnProperty("LayoutPopover")&&"function"===typeof Ed.LayoutPopover?Ed.LayoutPopover:Ed.LayoutPopover=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,
re,[{key:"getLayoutObjects",value:function(){return[null,new lb.HorizontalLayout({autoResize:!1}),new lb.VerticalLayout({autoResize:!1}),new lb.TilingLayout,new lb.ProportionalLayout,new lb.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){Ia._get(Object.getPrototypeOf(Nb.prototype),"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:lb.Color.transparent,layout:new lb.VerticalLayout({spacing:5,
layoutOrder:function(wa){return this.container.submorphs.indexOf(wa)}}),submorphs:[this.layoutPicker(),this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),duration:300}:{isLayoutable:!1,extent:lb.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function(wa){this.clearLayoutHalo();wa&&wa.layout&&(this.layoutHalo=
(wa.world()||wa.env.world).showLayoutHaloFor(wa))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function(wa){return wa?wa.name()+" Layout":"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function(wa){this.container.animate({layout:wa});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());
lb.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var wa=this,Ba=this.getLayoutObjects().map(function(Mb){var P={};return P[wa.getLayoutName(Mb)]=Mb,P});Ba=this.get("Layout Type")||new lb.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return wa.getCurrentLayoutName()},selectedValue:this.container.layout,values:lb.obj.merge(Ba)});lb.connect(Ba,"selectedValue",this,"applyLayout");return Ba}},{key:"layoutControls",value:function(){return{name:"controlContainer",
fill:lb.Color.transparent,layout:new lb.VerticalLayout,isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:lb.Color.gray.lighter()}}}}],Ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:8333,end:11030})}(lb.StylePopover);lb.LayoutPopover=rb;lb.LayoutPopover=rb;lb.LayoutPopover=rb;var vb=function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Nb=Ed.hasOwnProperty("FillPopover")&&"function"===typeof Ed.FillPopover?Ed.FillPopover:Ed.FillPopover=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,
re,[{key:"openHandle",value:function(wa){wa.openInWorld();this.openHandles.push(wa)}},{key:"close",value:function(){Ia._get(Object.getPrototypeOf(Nb.prototype),"close",this).call(this);this.openHandles.forEach(function(wa){return wa.remove()})}},{key:"setupConnections",value:function(){var wa=this.ui,Ba=wa.fillSelector,Mb=wa.colorField;wa=wa.gradientEditor;Ba&&lb.connect(this,"fillValue",Ba,"value");wa&&(lb.connect(wa,"gradientValue",this,"fillValue"),lb.connect(wa,"openHandle",this,"openHandle"));
Mb&&(lb.connect(this,"close",Mb,"remove"),lb.connect(Mb,"update",this,"fillValue"),lb.connect(this,"onMouseDown",Mb,"removeWidgets"))}},{key:"commands",get:function(){var wa=this;return Ia._get(Object.getPrototypeOf(Nb.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var Ba=new lb.colorWidgets.ColorPickerField({name:"colorField",colorValue:wa.fillValue.isGradient?lb.Color.blue:wa.fillValue});Ba.whenRendered().then(function(){wa.setupConnections()});return Ba}},{name:"switch to gradient",
exec:function(){var Ba=new lb.colorWidgets.GradientEditor({name:"gradient editor",gradientValue:wa.fillValue});Ba.whenRendered().then(function(){wa.setupConnections();wa.handleMorph&&Ba.showGradientHandlesOn(wa.handleMorph);Ba.update()});return Ba}}])}},{key:"controls",value:function(){return this.gradientEnabled?[new lb.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]:
[{fill:lb.Color.transparent,layout:new lb.VerticalLayout({spacing:0}),submorphs:[new lb.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue})]}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},fillValue:{defaultValue:lb.Color.blue},popoverColor:{defaultValue:lb.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),
fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],Ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:11039,end:13883})}(lb.StylePopover);lb.FillPopover=vb;lb.FillPopover=vb;lb.FillPopover=vb;var vd=Da("S",function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
Nb=Ed.hasOwnProperty("ShadowPopover")&&"function"===typeof Ed.ShadowPopover?Ed.ShadowPopover:Ed.ShadowPopover=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"controls",value:function(){var wa=this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",Ba=[{layout:new lb.VerticalLayout({resizeContainer:!0,spacing:5}),fill:lb.Color.transparent,name:"control container",submorphs:[wa=
new lb.DropDownSelector({name:"shadow type",borderRadius:2,padding:3,selectedValue:wa,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?this.shadowControls():[])}];lb.connect(wa,"selectedValue",this,"changeShadowType");return Ba}},{key:"shadowControls",value:function(){var wa=this.shadowValue,Ba=new lb.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:wa.distance,unit:"px"}),Mb=new lb.NumberWidget({name:"angleSlider",min:0,max:360,number:wa.rotation,autofit:!1}),
P=new lb.NumberWidget({name:"spreadSlider",min:0,number:wa.spread,autofit:!1}),ya=new lb.NumberWidget({name:"blurSlider",min:0,number:wa.blur,autofit:!1});wa=new lb.colorWidgets.ColorPickerField({name:"colorPicker",colorValue:wa.color});lb.connect(wa,"colorValue",this,"updateShadow",{converter:function(Ua){return{color:Ua}}});lb.connect(this,"onMouseDown",wa,"removeWidgets");lb.connect(this,"close",wa,"remove");lb.connect(P,"update",this,"updateShadow",{converter:function(Ua){return{spread:Ua}}});
lb.connect(Ba,"update",this,"updateShadow",{converter:function(Ua){return{distance:Ua}}});lb.connect(ya,"update",this,"updateShadow",{converter:function(Ua){return{blur:Ua}}});lb.connect(Mb,"update",this,"updateShadow",{converter:function(Ua){return{rotation:Ua}}});return new lb.Morph({layout:new lb.GridLayout({autoAssign:!1,fitToCell:!1,columns:[0,{paddingLeft:1}],rows:lb.arr.flatten(lb.arr.range(0,3).map(function(Ua){return[Ua,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",
null,"distanceSlider"],["blurLabel",null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:lb.Color.transparent,submorphs:lb.arr.flatten([["distance",Ba],["spread",P],["blur",ya],["angle",Mb],["color",wa]].map(function(Ua){var Eb=$jscomp.makeIterator(Ua);Ua=Eb.next().value;Eb=Eb.next().value;return[{type:"label",styleClasses:["controlName"],value:lb.string.capitalize(Ua)+":",name:Ua+"Label"},Eb]}))})}},{key:"changeShadowType",value:function(wa){"No Shadow"==
wa?this.toggleShadow(!1):"Inset Shadow"==wa?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?this.shadowControls():[]),duration:300})}},{key:"updateShadow",value:function(wa){var Ba=this.shadowValue;wa=Object.assign({fast:Ba.fast,color:Ba.color,spread:Ba.spread,blur:Ba.blur,distance:Ba.distance,rotation:Ba.rotation,inset:Ba.inset},wa);this.shadowValue=
new lb.ShadowObject(wa)}},{key:"toggleShadow",value:function(wa){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=wa&&this.cachedShadow}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowPopover"}},{key:"properties",get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new lb.ShadowObject({fast:!0})},popoverColor:{defaultValue:lb.Color.gray.lighter()}}}}],Ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:13892,end:18423})}(lb.StylePopover));lb.ShadowPopover=vd;lb.ShadowPopover=vd;lb.ShadowPopover=vd;lb.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";var me=function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Nb=Ed.hasOwnProperty("PointPopover")&&"function"===typeof Ed.PointPopover?
Ed.PointPopover:Ed.PointPopover=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"refineResolution",value:function(wa){this.resolution=.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function(wa){this.pointValue=this.pointValue.addPt(wa.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){Ia._get(Object.getPrototypeOf(Nb.prototype),
"relayout",this).call(this);var wa=this.getSubmorphNamed("mesh"),Ba=this.getSubmorphNamed("point value view");wa.origin=wa.innerBounds().center().addXY(4,1);wa.position=this.get("body").innerBounds().center();wa.scale=this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";Ba.value=lb.obj.safeToString(this.pointValue);Ba.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function(wa){var Ba=
this;Ia._get(Object.getPrototypeOf(Nb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,wa);this.whenRendered().then(function(){return Ba.relayout()})}},{key:"calibrate",value:function(){var wa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ba){if(1==Ba.nextAddress)return wa.get("knob").animate({center:wa.innerBounds().center(),duration:200}),Ba.yield(wa.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);wa.relayout();Ba.jumpToEnd()})}},{key:"showPointValue",
value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},{key:"controls",value:function(){this.extent=lb.pt(200,200);var wa,Ba,Mb=[lb.morph({extent:lb.pt(200,200),clipMode:"hidden",fill:lb.Color.transparent,submorphs:[{type:"image",name:"mesh",fill:lb.Color.transparent,opacity:.5,imageUrl:lb.milimeter,autoResize:!0},{extent:lb.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:lb.Color.gray},fill:lb.Color.transparent},wa=lb.morph({name:"scroller",extent:lb.pt(200,
200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),Ba=lb.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:lb.Color.red,borderColor:lb.Color.black,borderWidth:1,center:lb.pt(100,100)}),{type:"label",name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:lb.pt(10,10),type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];wa.scroll=lb.pt(0,120);lb.connect(Ba,"onDragStart",this,"showPointValue");lb.connect(Ba,
"onDrag",this,"adjustPoint");lb.connect(Ba,"onDragEnd",this,"calibrate");lb.connect(this,"extent",this,"relayout");lb.connect(wa,"onScroll",this,"refineResolution");return Mb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"PointPopover"}},{key:"properties",get:function(){return{pointValue:{defaultValue:lb.pt(0,0)},resolution:{defaultValue:1}}}}],Ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:18538,end:21666})}(lb.StylePopover);lb.PointPopover=me;lb.PointPopover=me;lb.PointPopover=me;var ye=function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Nb=Ed.hasOwnProperty("RectanglePopover")&&"function"===typeof Ed.RectanglePopover?Ed.RectanglePopover:Ed.RectanglePopover=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"controls",value:function(){var wa=this;return[{fill:lb.Color.transparent,extent:lb.pt(120,120),layout:new lb.GridLayout({grid:[["top","top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],columns:[0,{paddingLeft:4},1,{paddingRight:4,fixed:!0,width:60}],rows:lb.arr.flatten(lb.arr.range(0,3).map(function(Ba){return[Ba,{paddingTop:0==Ba?4:2,paddingBottom:3==Ba?4:2}]}))}),
submorphs:lb.arr.flatten(["top","right","bottom","left"].map(function(Ba){var Mb=new lb.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},name:Ba+" scrubber",autofit:!1,number:wa.rectangle.partNamed(Ba)});lb.connect(Mb,"update",wa,"rectangle",{updater:function(P,ya){var Ua={},Eb=this.targetObj.rectangle;ya=(Ua.left=Eb.left(),Ua.top=Eb.top(),Ua.right=Eb.right(),Ua.bottom=Eb.bottom(),Ua[Ba]=ya,Ua);P(lb.Rectangle.inset(ya.left,ya.top,ya.right,ya.bottom))},varMapping:{side:Ba,
Rectangle:Q}});return[{type:"label",styleClasses:["controlName"],name:Ba,value:Ba,padding:3},Mb]}))}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RectanglePopover"}},{key:"properties",get:function(){return{popoverColor:{defaultValue:lb.Color.gray.lighter()},rectangle:{defaultValue:lb.rect(0)}}}}],Ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:21675,end:23653})}(lb.StylePopover);lb.RectanglePopover=ye;lb.RectanglePopover=ye;lb.RectanglePopover=ye;var Pe=function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Nb=Ed.hasOwnProperty("TextPopover")&&"function"===typeof Ed.TextPopover?Ed.TextPopover:Ed.TextPopover=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return Ia(Nb,re,[{key:"controls",value:function(){var wa=new lb.Text(Object.assign({name:"editor",extent:lb.pt(300,200),textString:this.text,lineWrapping:"by-chars"},lb.config.codeEditor.defaultStyle));return[{layout:new lb.HorizontalLayout,fill:lb.Color.transparent,borderColor:lb.Color.gray,borderWidth:1,borderRadius:4,clipMode:"hidden",submorphs:[wa]}]}},{key:"commands",get:function(){return Ia._get(Object.getPrototypeOf(Nb.prototype),"commands",this).concat([{name:"save string",exec:function(wa){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ba){wa.text=
wa.get("editor").textString;lb.signal(wa,"save",wa.text);wa.setStatusMessage("String saved!",lb.Color.green);Ba.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return Ia._get(Object.getPrototypeOf(Nb.prototype),"keybindings",this).concat([{keys:{mac:"Command-S",win:"Ctrl-S"},command:"save string"}])}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],Ed,{pathInPackage:function(){return"styling/style-popover.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:23662,end:24776})}(lb.StylePopover);lb.TextPopover=Pe;lb.TextPopover=Pe;lb.TextPopover=Pe;Object.assign(lb.popovers,{FillPopover:vb,IconPopover:db,RectanglePopover:ye,ShadowPopover:vd,PointPopover:me,LayoutPopover:rb});var Tc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");
Tc.Morph=jd;Tc.morph=jb;Tc.StyleSheet=oc;Tc.Text=gc;Tc.Icon=Va;Tc.VerticalLayout=Ab;Tc.GridLayout=ib;Tc.HorizontalLayout=Yb;Tc.pt=Mc;Tc.Rectangle=Q;Tc.Color=Bb;Tc.LinearGradient=bc;Tc.rect=Qb;Tc.signal=Xb;Tc.once=ic;Tc.connect=Yc;Tc.obj=Pc;Tc.Window=Ra;Tc.ColorPalette=fd;Tc.FillPopover=vb;Tc.colorWidgets=Hd;Tc.Slider=Sc;Tc.Popover=Qd;Tc.WHEEL_URL="/lively.ide/assets/color-wheel.png";fd=function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Nb=Ed.hasOwnProperty("ColorPickerField")&&
"function"===typeof Ed.ColorPickerField?Ed.ColorPickerField:Ed.ColorPickerField=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"testAttr",get:function(){return[42]}},{key:"spec",value:function(){return Tc.obj.dissoc(Ia._get(Object.getPrototypeOf(Nb.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function(wa){"Escape"==wa.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?
this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,duration:300})}},{key:"onHoverOut",value:function(){this.get("dropDownIndicator").animate({opacity:0,duration:300})}},{key:"update",value:function(wa){this._updating=!0;var Ba=this.submorphs[1];this.colorValue=wa;this.get("topLeft").fill=wa;this.get("bottomRight").fill=wa.isGradient?Tc.Color.transparent:wa.withA(1);Ba.visible=Ba.isLayoutable=!this.gradientEnabled;this.gradientEnabled?
this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=this.get("topLeft").width=this.width-Ba.width;this.get("bottomRight").left=0;this.get("dropDownIndicator").right=this.get("paletteButton").width-5;this._updating=!1}},{key:"openPicker",value:function(wa){var Ba=this,Mb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(P){Mb=Ba.picker||new Tc.ColorPicker({color:Ba.colorValue});Mb.position=Tc.pt(0,-Mb.height/2);Tc.connect(Mb,
"color",Ba,"update");Ba.picker=Mb.openInWorld();Ba.picker.topLeft=Ba.globalBounds().bottomCenter();Ba.picker.topLeft=Ba.world().visibleBounds().translateForInclusion(Ba.picker.globalBounds()).topLeft();Ba.removePalette();P.jumpToEnd()})}},{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function(wa){var Ba=this,Mb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(P){if(1==P.nextAddress)return Mb=Ba.gradientEnabled?Ba.fillWidget:Ba.palette,
Ba.gradientEnabled?Tc.connect(Mb,"fillValue",Ba,"update"):Tc.connect(Mb.targetMorph,"color",Ba,"update"),Mb.isLayoutable=!1,P.yield(Mb.openInWorld(),2);Mb.topCenter=Ba.get("paletteButton").globalBounds().center();Mb.topCenter=Ba.world().visibleBounds().translateForInclusion(Mb.globalBounds()).topCenter();Ba.removePicker();Tc.once(Mb,"remove",Mb,"topLeft",{converter:function(){return Tc.pt(0,0)},varMapping:{pt:Mc}});P.jumpToEnd()})}},{key:"removePalette",value:function(){this.colorValue.isGradient?
this.fillWidget.remove():this.palette.remove()}},{key:"removeWidgets",value:function(){this.removePalette();this.removePicker()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,after:["colorValue"],set:function(wa){this.setProperty("gradientEnabled",wa);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new Tc.FillPopover({fillValue:this.colorValue})}},
testProp:{get:function(){return[42]}},palette:{serialize:!1,get:function(){return this._palette||(this._palette=new Tc.Popover({position:Tc.pt(0,0),name:"Color Palette",targetMorph:new Tc.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function(wa){wa&&(wa.isColor||wa.isGradient)||(wa=Tc.Color.blue);if(!this._updating)return this.update(wa);this.setProperty("colorValue",wa)},get:function(){return this.getProperty("colorValue")||Tc.Color.white}},master:{initialize:function(){this.master=
{auto:"styleguide://SystemWidgets/color field"}}},submorphs:{initialize:function(){this.innerBounds().topRight();this.innerBounds().bottomLeft();var wa=Tc.pt(40,25);this.submorphs=[{extent:wa,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:wa},{name:"bottomRight",type:"polygon",extent:wa,origin:Tc.pt(0,0),vertices:[Tc.pt(0,0),wa.withX(0),wa]},Tc.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:Tc.pt(30,12.5)})]},{fill:Tc.Color.transparent,extent:Tc.pt(25,
25),onHoverIn:function(){this.fill=Tc.Color.black.withA(.2)},onHoverOut:function(){this.fill=Tc.Color.transparent},submorphs:[{name:"pickerButton",type:"image",autoResize:!1,imageUrl:Tc.WHEEL_URL}]}];Tc.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",this,"openPicker");Tc.connect(this.getSubmorphNamed("paletteButton"),"onMouseDown",this,"openPalette");Tc.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],Ed,{pathInPackage:function(){return"styling/color-picker.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:627,end:6335})}(Tc.Morph);Tc.ColorPickerField=fd;Tc.ColorPickerField=fd;Tc.ColorPickerField=fd;Tc.colorWidgets.ColorPickerField=Tc.ColorPickerField;(function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Nb=Ed.hasOwnProperty("FieldPicker")&&"function"===
typeof Ed.FieldPicker?Ed.FieldPicker:Ed.FieldPicker=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"update",value:function(wa){this.getSubmorphNamed("hue").fill=Tc.Color.hsb(wa.hue,1,1);this.brightness=wa.brightness;this.saturation=wa.saturation;this.get("picker").center=this.pickerPosition}},{key:"onMouseDown",value:function(wa){this.pickerPosition=wa.positionIn(this);Tc.signal(this,"pickerPosition",
this.pickerPosition)}},{key:"onDrag",value:function(wa){this.pickerPosition=wa.positionIn(this)}},{key:"relayout",value:function(){var wa=this.innerBounds();this.getSubmorphNamed("hue").setBounds(wa);this.getSubmorphNamed("shade").setBounds(wa);this.getSubmorphNamed("light").setBounds(wa)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:Tc.Color.transparent},saturation:{defaultValue:0},brightness:{defaultValue:0},
draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var wa=this.saturation,Ba=this.brightness;return void 0===wa||void 0===Ba?Tc.pt(0,0):Tc.pt(this.getSubmorphNamed("hue").width*wa,this.getSubmorphNamed("hue").height*(1-Ba))},set:function(wa){var Ba=wa.x;wa=wa.y;var Mb=this.getSubmorphNamed("hue"),P=Mb.height;this.saturation=Math.max(0,Math.min(Ba/Mb.width,1));this.brightness=Math.max(0,Math.min(1-wa/P,1));Tc.signal(this,"saturation",
this.saturation);Tc.signal(this,"brightness",this.brightness)}},submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new Tc.LinearGradient({stops:[{color:Tc.Color.white,offset:0},{color:Tc.Color.transparent,offset:1}],vector:"eastwest"})},{borderRadius:3,name:"light",reactsToPointer:!1,fill:new Tc.LinearGradient({stops:[{color:Tc.Color.black,offset:0},{color:Tc.Color.transparent,offset:1}],vector:"southnorth"})},
{name:"picker",type:"ellipse",reactsToPointer:!1,fill:Tc.Color.transparent,borderColor:Tc.Color.black,borderWidth:3,extent:Tc.pt(16,16),submorphs:[{type:"ellipse",fill:Tc.Color.transparent,borderColor:Tc.Color.white,reactsToPointer:!1,borderWidth:3,center:Tc.pt(8,8),extent:Tc.pt(12,12)}]}];Tc.connect(this,"extent",this,"relayout")}}}}}],Ed,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:6388,end:9719})})(Tc.Morph);(function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Nb=Ed.hasOwnProperty("ColorPropertyView")&&"function"===typeof Ed.ColorPropertyView?Ed.ColorPropertyView:Ed.ColorPropertyView=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=
["key"].concat($jscomp.arrayFromIterable(this.readOnly?[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=[!this.readOnly&&"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function(wa){"Enter"!=wa.keyCombo||this.readOnly?Ia._get(Object.getPrototypeOf(Nb.prototype),
"onKeyDown",this).call(this,wa):(this.owner.focus(),wa.stop(),Tc.signal(this,"updateValue",this.value))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},value:{derived:[!0],set:function(wa){this.textString=Tc.obj.safeToString(wa)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:Tc.Color.gray.darker()}}}}],
Ed,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:9721,end:10903})})(Tc.Text);(function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Nb=Ed.hasOwnProperty("HuePicker")&&"function"===typeof Ed.HuePicker?Ed.HuePicker:Ed.HuePicker=function(wa){wa&&
wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"onMouseDown",value:function(wa){this.sliderPosition=Tc.pt(0,wa.positionIn(this).y)}},{key:"onDrag",value:function(wa){this.sliderPosition=Tc.pt(0,wa.positionIn(this).y)}},{key:"update",value:function(wa){this.hue=wa.hue;this.get("slider").center=this.sliderPosition}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new Tc.LinearGradient({stops:[{color:Tc.Color.rgb(255,
0,0),offset:0},{color:Tc.Color.rgb(255,255,0),offset:.17},{color:Tc.Color.limeGreen,offset:.33},{color:Tc.Color.cyan,offset:.5},{color:Tc.Color.blue,offset:.66},{color:Tc.Color.magenta,offset:.83},{color:Tc.Color.rgb(255,0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return Tc.pt(this.width/2,this.hue/360*this.height)},set:function(wa){this.hue=Math.max(0,Math.min(wa.y/this.height*360,359));Tc.signal(this,
"hue",this.hue)}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:Tc.Color.black,fill:Tc.Color.transparent,borderWidth:2}]}}}}}],Ed,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},
{start:10905,end:12586})})(Tc.Morph);(function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Nb=Ed.hasOwnProperty("ColorDetails")&&"function"===typeof Ed.ColorDetails?Ed.ColorDetails:Ed.ColorDetails=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"update",value:function(wa){wa=wa.color;var Ba=$jscomp.makeIterator(wa.toTuple8Bit()),Mb=Ba.next().value,P=Ba.next().value;
Ba=Ba.next().value;var ya=$jscomp.makeIterator(wa.toHSB()),Ua=ya.next().value,Eb=ya.next().value;ya=ya.next().value;var Cc=this.get("hashViewer");this.get("colorViewer").fill=wa;Cc.replace(Cc.documentRange,wa.toHexString(),!1,!1);this.get("R").value="R "+Mb.toFixed(0)+"\n\nG "+P.toFixed(0)+"\n\nB "+Ba.toFixed(0)+"\n\nH "+Ua.toFixed(0)+"\n\nS "+Eb.toFixed(2)+"\n\nV "+ya.toFixed(2)}},{key:"onHashViewerChanged",value:function(wa){wa=Tc.Color.rgbHex(wa);this.owner.owner.color=wa}},{key:"keyValue",value:function(wa){var Ba=
wa.name,Mb=wa.key,P=wa.value,ya=wa.update;wa=wa.editable;return new Tc.Morph({fill:Tc.Color.transparent,layout:new Tc.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",styleClasses:[wa&&"large","key"],value:Mb},new Tc.ColorPropertyView({name:Ba||Mb,readOnly:!wa,value:P,update:ya})]})}},{key:"hashViewer",value:function(){var wa=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});Tc.connect(wa.get("hashViewer"),"updateValue",this,"onHashViewerChanged");
return wa}},{key:"rgbViewer",value:function(){var wa=$jscomp.makeIterator(this.color.toTuple8Bit()),Ba=wa.next().value,Mb=wa.next().value;wa=wa.next().value;return new Tc.Morph({name:"rgbViewer",fill:Tc.Color.transparent,submorphs:[this.keyValue({key:"R",value:Ba.toFixed()}),this.keyValue({key:"G",value:Mb.toFixed()}),this.keyValue({key:"B",value:wa.toFixed()})]})}},{key:"hsbViewer",value:function(){var wa=$jscomp.makeIterator(this.color.toHSB()),Ba=wa.next().value,Mb=wa.next().value;wa=wa.next().value;
return new Tc.Morph({name:"hsbViewer",fill:Tc.Color.transparent,submorphs:[this.keyValue({key:"H",value:Ba.toFixed()}),this.keyValue({key:"S",value:Mb.toFixed(2)}),this.keyValue({key:"V",value:wa.toFixed(2)})]})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorDetails"}},{key:"properties",get:function(){return{color:{defaultValue:Tc.Color.blue},width:{defaultValue:80},fill:{defaultValue:Tc.Color.transparent},layout:{initialize:function(){this.layout=new Tc.VerticalLayout({spacing:9,
layoutOrder:function(wa){return this.container.submorphs.indexOf(wa)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:Tc.pt(50,50),name:"colorViewer",fill:this.color},this.hashViewer(),{type:"label",name:"R",autofit:!0,padding:Tc.rect(10,0,0,0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],Ed,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12588,end:15311})})(Tc.Morph);fd=Da("a",function(re){var Ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Nb=Ed.hasOwnProperty("ColorPicker")&&"function"===typeof Ed.ColorPicker?Ed.ColorPicker:Ed.ColorPicker=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ia(Nb,re,[{key:"onKeyDown",value:function(wa){"Escape"==wa.key&&
this.close()}},{key:"close",value:function(){Ia._get(Object.getPrototypeOf(Nb.prototype),"close",this).call(this);Tc.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&(this.get("header").fill=Tc.Color.transparent,this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),Tc.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var wa=this.colorDetails(),Ba=this.fieldPicker(),
Mb=this.huePicker(),P=this.alphaSlider();wa=new Tc.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[Ba,Mb,wa,P]});Tc.connect(Ba,"brightness",this,"brightness");Tc.connect(Ba,"saturation",this,"saturation");Tc.connect(Mb,"hue",this,"hue");return wa}},{key:"alphaSlider",value:function(){var wa,Ba=Tc.morph({name:"alphaSlider",fill:Tc.Color.transparent,layout:new Tc.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:Tc.Rectangle.inset(3),
value:"Alpha",fontColor:Tc.Color.gray,fontWeight:"bold"},wa=new Tc.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});Tc.connect(wa,"value",this,"alpha");return Ba}},{key:"fieldPicker",value:function(){return new Tc.FieldPicker({name:"field picker",saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new Tc.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new Tc.ColorDetails({name:"details",
color:this.color})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:Tc.pt(400,320)},fill:{defaultValue:Tc.Color.black.withA(.7)},isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},hasFixedPosition:{defaultValue:!0},color:{defaultValue:Tc.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return Tc.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function(wa){var Ba=
$jscomp.makeIterator(wa.toHSB()),Mb=Ba.next().value,P=Ba.next().value;Ba=Ba.next().value;this.hue=Mb;this.saturation=P;this.brightness=Ba;this.alpha=wa.a}},alpha:{set:function(wa){this.setProperty("alpha",wa);this.update()}},saturation:{},brightness:{set:function(wa){this.setProperty("brightness",wa);this.update()}},hue:{set:function(wa){this.setProperty("hue",wa);this.update()}},targetMorph:{initialize:function(){var wa=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=Tc.Color.gray;
this.ui.header.fill=Tc.Color.transparent;this.whenRendered().then(function(){wa.fill=Tc.Color.black.withA(.7);wa.update()})}}}}}],Ed,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15320,end:19178})}(Tc.Window));Tc.ColorPicker=fd;Tc.ColorPicker=fd;Tc.ColorPicker=fd}}});
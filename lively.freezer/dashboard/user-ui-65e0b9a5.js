System.register(["./__root_module__-073d42f8.js","kld-intersections","./object-classes-9843baee.js"],function($a,Vb){var jc,Wc,wc,Ud,Kd,he,xd,gd,Ld,Pd,af,bf,Ve,Ad,xe,qc,td,be,Bd,pe,Se,nc,$c,ge,ad,ie,Yb,zb,Rc;return{setters:[function(Mc){jc=Mc.a;Wc=Mc.f;wc=Mc.b;Ud=Mc.c;Kd=Mc.r;he=Mc.p;xd=Mc.R;gd=Mc.C;Ld=Mc.d;Pd=Mc.o;af=Mc.g;bf=Mc.m;Ve=Mc.e;Ad=Mc.t;xe=Mc.I;qc=Mc.h;td=Mc.M;be=Mc.j;Bd=Mc.l;pe=Mc.k;Se=Mc.U;nc=Mc.q;$c=Mc.u;ge=Mc.v;ad=Mc.w;ie=Mc.i},function(){},function(Mc){Yb=Mc.default;zb=Mc.interactivelyForkPackage;
Rc=Mc.addScript}],execute:function(){var Mc=window.gapi=window.gapi||{};Mc._bs=(new Date).getTime();(function(){function Tc(Aa){if(Error.captureStackTrace)Error.captureStackTrace(this,Tc);else{var Ta=Error().stack;Ta&&(this.stack=Ta)}Aa&&(this.message=String(Aa))}function fb(Aa){var Ta=Aa.length;if(0<Ta){for(var xb=Array(Ta),ic=0;ic<Ta;ic++)xb[ic]=Aa[ic];return xb}return[]}function uc(Aa,Ta){for(var xb in Aa)Ta.call(void 0,Aa[xb],xb,Aa)}function Rb(Aa,Ta){for(var xb,ic,Sc=1;Sc<arguments.length;Sc++){ic=
arguments[Sc];for(xb in ic)Aa[xb]=ic[xb];for(var jd=0;jd<Ya.length;jd++)xb=Ya[jd],Object.prototype.hasOwnProperty.call(ic,xb)&&(Aa[xb]=ic[xb])}}function Fc(Aa){if(0!==Aa.indexOf("GCSC"))return null;var Ta={X:!1};Aa=Aa.substr(4);if(!Aa)return Ta;var xb=Aa.charAt(0);Aa=Aa.substr(1);var ic=Aa.lastIndexOf("_");if(-1==ic)return Ta;var Sc=wy(Aa.substr(ic+1));if(null==Sc)return Ta;Aa=Aa.substring(0,ic);if("_"!==Aa.charAt(0))return Ta;ic="E"===xb&&Sc.l;return!ic&&("U"!==xb||Sc.l)||ic&&!EB?Ta:{X:!0,l:ic,la:Aa.substr(1),
domain:Sc.domain,o:Sc.o}}var Uc=function(Aa){var Ta=0;return function(){return Ta<Aa.length?{done:!1,value:Aa[Ta++]}:{done:!0}}},vd="function"==typeof Object.defineProperties?Object.defineProperty:function(Aa,Ta,xb){if(Aa==Array.prototype||Aa==Object.prototype)return Aa;Aa[Ta]=xb.value;return Aa},Xd=function(Aa){Aa=["object"==typeof globalThis&&globalThis,Aa,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var Ta=0;Ta<Aa.length;++Ta){var xb=Aa[Ta];if(xb&&
xb.Math==Math)return xb}throw Error("Cannot find global object");}(this),vc=function(Aa,Ta){if(Ta)a:{var xb=Xd;Aa=Aa.split(".");for(var ic=0;ic<Aa.length-1;ic++){var Sc=Aa[ic];if(!(Sc in xb))break a;xb=xb[Sc]}Aa=Aa[Aa.length-1];ic=xb[Aa];Ta=Ta(ic);Ta!=ic&&null!=Ta&&vd(xb,Aa,{configurable:!0,writable:!0,value:Ta})}};vc("Symbol",function(Aa){if(Aa)return Aa;var Ta=function(jd,ke){this.ca=jd;vd(this,"description",{configurable:!0,writable:!0,value:ke})};Ta.prototype.toString=function(){return this.ca};
var xb="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",ic=0,Sc=function(jd){if(this instanceof Sc)throw new TypeError("Symbol is not a constructor");return new Ta(xb+(jd||"")+"_"+ic++,jd)};return Sc});vc("Symbol.iterator",function(Aa){if(Aa)return Aa;Aa=Symbol("Symbol.iterator");for(var Ta="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),xb=0;xb<Ta.length;xb++){var ic=Xd[Ta[xb]];"function"===typeof ic&&"function"!=typeof ic.prototype[Aa]&&
vd(ic.prototype,Aa,{configurable:!0,writable:!0,value:function(){return Oc(Uc(this))}})}return Aa});var Oc=function(Aa){Aa={next:Aa};Aa[Symbol.iterator]=function(){return this};return Aa},pc=function(Aa,Ta){Aa instanceof String&&(Aa+="");var xb=0,ic=!1,Sc={next:function(){if(!ic&&xb<Aa.length){var jd=xb++;return{value:Ta(jd,Aa[jd]),done:!1}}ic=!0;return{done:!0,value:void 0}}};Sc[Symbol.iterator]=function(){return Sc};return Sc};vc("Array.prototype.keys",function(Aa){return Aa?Aa:function(){return pc(this,
function(Ta){return Ta})}});var bb=this||self,Ma=function(Aa){var Ta=typeof Aa;return"object"!=Ta?Ta:Aa?Array.isArray(Aa)?"array":Ta:"null"},oa=function(Aa){var Ta=Ma(Aa);return"array"==Ta||"object"==Ta&&"number"==typeof Aa.length},La=function(Aa){var Ta=typeof Aa;return"object"==Ta&&null!=Aa||"function"==Ta},Ua="closure_uid_"+(1E9*Math.random()>>>0),Sb=0,Ca=function(Aa,Ta,xb){return Aa.call.apply(Aa.bind,arguments)},Va=function(Aa,Ta,xb){if(!Aa)throw Error();if(2<arguments.length){var ic=Array.prototype.slice.call(arguments,
2);return function(){var Sc=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(Sc,ic);return Aa.apply(Ta,Sc)}}return function(){return Aa.apply(Ta,arguments)}},dc=function(Aa,Ta,xb){dc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ca:Va;return dc.apply(null,arguments)},sb=function(Aa,Ta){function xb(){}xb.prototype=Ta.prototype;Aa.pa=Ta.prototype;Aa.prototype=new xb;Aa.prototype.constructor=Aa;Aa.B=function(ic,Sc,jd){for(var ke=Array(arguments.length-
2),Hf=2;Hf<arguments.length;Hf++)ke[Hf-2]=arguments[Hf];return Ta.prototype[Sc].apply(ic,ke)}},od=function(Aa){return Aa},bc=function(Aa){var Ta=null,xb=bb.trustedTypes;if(!xb||!xb.createPolicy)return Ta;try{Ta=xb.createPolicy(Aa,{createHTML:od,createScript:od,createScriptURL:od})}catch(ic){bb.console&&bb.console.error(ic.message)}return Ta};sb(Tc,Error);Tc.prototype.name="CustomError";var Td,rd=function(Aa,Ta){Aa=Aa.split("%s");for(var xb="",ic=Aa.length-1,Sc=0;Sc<ic;Sc++)xb+=Aa[Sc]+(Sc<Ta.length?
Ta[Sc]:"%s");Tc.call(this,xb+Aa[ic])};sb(rd,Tc);rd.prototype.name="AssertionError";var dd=function(Aa,Ta,xb,ic){var Sc="Assertion failed";if(xb){Sc+=": "+xb;var jd=ic}else Aa&&(Sc+=": "+Aa,jd=Ta);throw new rd(""+Sc,jd||[]);},Ub=function(Aa,Ta,xb){Aa||dd("",null,Ta,Array.prototype.slice.call(arguments,2));return Aa},Ne=function(Aa,Ta){throw new rd("Failure"+(Aa?": "+Aa:""),Array.prototype.slice.call(arguments,1));},gc=function(Aa,Ta,xb){"string"!==typeof Aa&&dd("Expected string but got %s: %s.",[Ma(Aa),
Aa],Ta,Array.prototype.slice.call(arguments,2))},Tb=Array.prototype.forEach?function(Aa,Ta){Ub(null!=Aa.length);Array.prototype.forEach.call(Aa,Ta,void 0)}:function(Aa,Ta){for(var xb=Aa.length,ic="string"===typeof Aa?Aa.split(""):Aa,Sc=0;Sc<xb;Sc++)Sc in ic&&Ta.call(void 0,ic[Sc],Sc,Aa)},Ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ha,Pa=function(Aa,Ta){this.S=Aa===Lc&&Ta||"";this.da=cc};Pa.prototype.F=!0;Pa.prototype.D=function(){return this.S};
Pa.prototype.toString=function(){return"Const{"+this.S+"}"};var nb=function(Aa){if(Aa instanceof Pa&&Aa.constructor===Pa&&Aa.da===cc)return Aa.S;Ne("expected object of type Const, got '"+Aa+"'");return"type_error:Const"},cc={},Lc={},pd=/&/g,ce=/</g,Ie=/>/g,Gd=/"/g,Af=/'/g,Ce=/\x00/g,zf=/[\x00&<>"']/,C=function(Aa,Ta){return-1!=Aa.indexOf(Ta)},uf=function(Aa,Ta){this.P=Ta===we?Aa:""};uf.prototype.F=!0;uf.prototype.D=function(){return this.P.toString()};uf.prototype.toString=function(){return this.P.toString()};
var Cf=function(Aa){if(Aa instanceof uf&&Aa.constructor===uf)return Aa.P;Ne("expected object of type SafeUrl, got '"+Aa+"' of type "+Ma(Aa));return"type_error:SafeUrl"},fh=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,mg=function(Aa){if(Aa instanceof uf)return Aa;Aa="object"==typeof Aa&&Aa.F?Aa.D():String(Aa);Ub(fh.test(Aa),"%s does not match the safe URL pattern",Aa)||(Aa="about:invalid#zClosurez");return new uf(Aa,we)},we={},$f=function(){var Aa=bb.navigator;return Aa?Aa.userAgentData||null:
null};a:{var dg=bb.navigator;if(dg){var tg=dg.userAgent;if(tg){var Ah=tg;break a}}Ah=""}var Ze={},ld=function(Aa,Ta,xb){this.O=xb===Ze?Aa:"";this.F=!0};ld.prototype.D=function(){return this.O.toString()};ld.prototype.toString=function(){return this.O.toString()};var fi=function(Aa){if(Aa instanceof ld&&Aa.constructor===ld)return Aa.O;Ne("expected object of type SafeHtml, got '"+Aa+"' of type "+Ma(Aa));return"type_error:SafeHtml"},Vd=new ld(bb.trustedTypes&&bb.trustedTypes.emptyHTML||"",0,Ze),si=function(Aa,
Ta){a:{try{var xb=Aa&&Aa.ownerDocument,ic=xb&&(xb.defaultView||xb.parentWindow);ic=ic||bb;if(ic.Element&&ic.Location){xb=ic;break a}}catch(jd){}xb=null}if(xb&&"undefined"!=typeof xb[Ta]&&(!Aa||!(Aa instanceof xb[Ta])&&(Aa instanceof xb.Location||Aa instanceof xb.Element))){if(La(Aa))try{var Sc=Aa.constructor.displayName||Aa.constructor.name||Object.prototype.toString.call(Aa)}catch(jd){Sc="<object could not be stringified>"}else Sc=void 0===Aa?"undefined":null===Aa?"null":typeof Aa;Ne("Argument is not a %s (or a non-Element, non-Location mock); got: %s",
Ta,Sc)}return Aa},wd={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},hb=function(Aa){var Ta=!1,xb;return function(){Ta||(xb=Aa(),Ta=!0);return xb}}(function(){if("undefined"===typeof document)return!1;var Aa=document.createElement("div"),Ta=document.createElement("div");Ta.appendChild(document.createElement("div"));Aa.appendChild(Ta);if(!Aa.firstChild)return!1;Ta=Aa.firstChild.firstChild;Aa.innerHTML=fi(Vd);return!Ta.parentElement}),yb=function(Aa){zf.test(Aa)&&(-1!=Aa.indexOf("&")&&(Aa=Aa.replace(pd,
"&amp;")),-1!=Aa.indexOf("<")&&(Aa=Aa.replace(ce,"&lt;")),-1!=Aa.indexOf(">")&&(Aa=Aa.replace(Ie,"&gt;")),-1!=Aa.indexOf('"')&&(Aa=Aa.replace(Gd,"&quot;")),-1!=Aa.indexOf("'")&&(Aa=Aa.replace(Af,"&#39;")),-1!=Aa.indexOf("\x00")&&(Aa=Aa.replace(Ce,"&#0;")));return Aa},lb=$f()?!1:C(Ah,"Opera"),qa=$f()?!1:C(Ah,"Trident")||C(Ah,"MSIE"),ba=C(Ah,"Edge"),cb=C(Ah,"Gecko")&&!(C(Ah.toLowerCase(),"webkit")&&!C(Ah,"Edge"))&&!(C(Ah,"Trident")||C(Ah,"MSIE"))&&!C(Ah,"Edge"),za=C(Ah.toLowerCase(),"webkit")&&!C(Ah,
"Edge"),Wa=function(){var Aa=bb.document;return Aa?Aa.documentMode:void 0};a:{var gb="",ac=function(){var Aa=Ah;if(cb)return/rv:([^\);]+)(\)|;)/.exec(Aa);if(ba)return/Edge\/([\d\.]+)/.exec(Aa);if(qa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Aa);if(za)return/WebKit\/(\S+)/.exec(Aa);if(lb)return/(?:Version)[ \/]?(\S+)/.exec(Aa)}();ac&&(gb=ac?ac[1]:"");if(qa){var fc=Wa();if(null!=fc&&fc>parseFloat(gb)){var xc=String(fc);break a}}xc=gb}var ed=xc;if(bb.document&&qa){var kd=Wa();var Qd=kd?kd:parseInt(ed,
10)||void 0}else Qd=void 0;var Ge=Qd,cf;(cf=!qa)||(cf=9<=Number(Ge));var ne=cf,qf=function(Aa,Ta){uc(Ta,function(xb,ic){xb&&"object"==typeof xb&&xb.F&&(xb=xb.D());"style"==ic?Aa.style.cssText=xb:"class"==ic?Aa.className=xb:"for"==ic?Aa.htmlFor=xb:pf.hasOwnProperty(ic)?Aa.setAttribute(pf[ic],xb):0==ic.lastIndexOf("aria-",0)||0==ic.lastIndexOf("data-",0)?Aa.setAttribute(ic,xb):Aa[ic]=xb})},pf={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",
maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},ff=function(Aa,Ta,xb,ic){function Sc(Hf){Hf&&Ta.appendChild("string"===typeof Hf?Aa.createTextNode(Hf):Hf)}for(;ic<xb.length;ic++){var jd=xb[ic];if(!oa(jd)||La(jd)&&0<jd.nodeType)Sc(jd);else{a:{if(jd&&"number"==typeof jd.length){if(La(jd)){var ke="function"==typeof jd.item||"string"==typeof jd.item;break a}if("function"===typeof jd){ke="function"==typeof jd.item;break a}}ke=
!1}Tb(ke?fb(jd):jd,Sc)}}},vf=function(Aa,Ta){Ta=String(Ta);"application/xhtml+xml"===Aa.contentType&&(Ta=Ta.toLowerCase());return Aa.createElement(Ta)},xg=function(Aa){Ub(Aa,"Node cannot be null or undefined.");return 9==Aa.nodeType?Aa:Aa.ownerDocument||Aa.document},dh=function(Aa){this.C=Aa||bb.document||document};var nh=dh.prototype;nh.getElementsByTagName=function(Aa,Ta){return(Ta||this.C).getElementsByTagName(String(Aa))};nh.ga=function(Aa,Ta,xb){var ic=this.C,Sc=arguments,jd=String(Sc[0]),ke=
Sc[1];if(!ne&&ke&&(ke.name||ke.type)){jd=["<",jd];ke.name&&jd.push(' name="',yb(ke.name),'"');if(ke.type){jd.push(' type="',yb(ke.type),'"');var Hf={};Rb(Hf,ke);delete Hf.type;ke=Hf}jd.push(">");jd=jd.join("")}jd=vf(ic,jd);ke&&("string"===typeof ke?jd.className=ke:Array.isArray(ke)?jd.className=ke.join(" "):qf(jd,ke));2<Sc.length&&ff(ic,jd,Sc,2);return jd};nh.createElement=function(Aa){return vf(this.C,Aa)};nh.createTextNode=function(Aa){return this.C.createTextNode(String(Aa))};nh.appendChild=function(Aa,
Ta){Ub(null!=Aa&&null!=Ta,"goog.dom.appendChild expects non-null arguments");Aa.appendChild(Ta)};nh.append=function(Aa,Ta){ff(xg(Aa),Aa,arguments,1)};nh.canHaveChildren=function(Aa){if(1!=Aa.nodeType)return!1;switch(Aa.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
nh.removeNode=function(Aa){return Aa&&Aa.parentNode?Aa.parentNode.removeChild(Aa):null};nh.contains=function(Aa,Ta){if(!Aa||!Ta)return!1;if(Aa.contains&&1==Ta.nodeType)return Aa==Ta||Aa.contains(Ta);if("undefined"!=typeof Aa.compareDocumentPosition)return Aa==Ta||!!(Aa.compareDocumentPosition(Ta)&16);for(;Ta&&Aa!=Ta;)Ta=Ta.parentNode;return Ta==Aa};var Vg=window,qg=document,Hi=Vg.location,xj=function(){},Th=/\[native code\]/,sg=function(Aa,Ta,xb){return Aa[Ta]=Aa[Ta]||xb},eh=function(Aa){for(var Ta=
0;Ta<this.length;Ta++)if(this[Ta]===Aa)return Ta;return-1},vh=function(Aa){Aa=Aa.sort();for(var Ta=[],xb=void 0,ic=0;ic<Aa.length;ic++){var Sc=Aa[ic];Sc!=xb&&Ta.push(Sc);xb=Sc}return Ta},wi=/&/g,Ff=/</g,yj=/>/g,Jc=/"/g,Rd=/'/g,Re=function(Aa){return String(Aa).replace(wi,"&amp;").replace(Ff,"&lt;").replace(yj,"&gt;").replace(Jc,"&quot;").replace(Rd,"&#39;")},re=function(){var Aa;if((Aa=Object.create)&&Th.test(Aa))Aa=Aa(null);else{Aa={};for(var Ta in Aa)Aa[Ta]=void 0}return Aa},jg=function(Aa,Ta){return Object.prototype.hasOwnProperty.call(Aa,
Ta)},$g=function(Aa){if(Th.test(Object.keys))return Object.keys(Aa);var Ta=[],xb;for(xb in Aa)jg(Aa,xb)&&Ta.push(xb);return Ta},ih=function(Aa,Ta){Aa=Aa||{};for(var xb in Aa)jg(Aa,xb)&&(Ta[xb]=Aa[xb])},bn=function(Aa){return function(){Vg.setTimeout(Aa,0)}},zm=function(Aa,Ta){if(!Aa)throw Error(Ta||"");},zl=sg(Vg,"gapi",{}),pl=function(Aa,Ta,xb){var ic=new RegExp("([#].*&|[#])"+Ta+"=([^&#]*)","g");Ta=new RegExp("([?#].*&|[?#])"+Ta+"=([^&#]*)","g");if(Aa=Aa&&(ic.exec(Aa)||Ta.exec(Aa)))try{xb=decodeURIComponent(Aa[2])}catch(Sc){}return xb},
dm=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),go=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,Fn=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),ho=/%([a-f]|[0-9a-fA-F][a-f])/g,En=/^(https?|ftp|file|chrome-extension):$/i,zj=function(Aa){Aa=String(Aa);Aa=Aa.replace(go,function(Sc){try{return encodeURIComponent(Sc)}catch(jd){return encodeURIComponent(Sc.replace(/^[^%]+$/g,
"\ufffd"))}}).replace(Fn,function(Sc){return Sc.replace(/%/g,"%25")}).replace(ho,function(Sc){return Sc.toUpperCase()});Aa=Aa.match(dm)||[];var Ta=re(),xb=function(Sc){return Sc.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},ic=!!(Aa[1]||"").match(En);Ta.B=xb((Aa[1]||"")+(Aa[2]||"")+(Aa[3]||(Aa[2]&&ic?"/":"")));ic=function(Sc){return xb(Sc.replace(/\?/g,"%3F").replace(/#/g,"%23"))};Ta.query=Aa[5]?[ic(Aa[5])]:[];Ta.j=Aa[7]?
[ic(Aa[7])]:[];return Ta},Hm=function(Aa){return Aa.B+(0<Aa.query.length?"?"+Aa.query.join("&"):"")+(0<Aa.j.length?"#"+Aa.j.join("&"):"")},Lg=function(Aa,Ta){var xb=[];if(Aa)for(var ic in Aa)if(jg(Aa,ic)&&null!=Aa[ic]){var Sc=Ta?Ta(Aa[ic]):Aa[ic];xb.push(encodeURIComponent(ic)+"="+encodeURIComponent(Sc))}return xb},ok=function(Aa,Ta,xb,ic){Aa=zj(Aa);Aa.query.push.apply(Aa.query,Lg(Ta,ic));Aa.j.push.apply(Aa.j,Lg(xb,ic));return Hm(Aa)},em=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+
"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),Gn=function(Aa,Ta){var xb=zj(Ta);Ta=xb.B;xb.query.length&&(Ta+="?"+xb.query.join(""));xb.j.length&&(Ta+="#"+xb.j.join(""));var ic="";2E3<Ta.length&&(ic=Ta,Ta=Ta.substr(0,2E3),Ta=Ta.replace(em,""),ic=ic.substr(Ta.length));var Sc=Aa.createElement("div");Aa=Aa.createElement("a");xb=zj(Ta);Ta=xb.B;xb.query.length&&(Ta+="?"+xb.query.join(""));xb.j.length&&(Ta+="#"+xb.j.join(""));Ta=new uf(Ta,we);si(Aa,"HTMLAnchorElement");
Ta=Ta instanceof uf?Ta:mg(Ta);Aa.href=Cf(Ta);Sc.appendChild(Aa);Ta=Sc.innerHTML;xb=new Pa(Lc,"Assignment to self.");gc(nb(xb),"must provide justification");Ub(!/^[\s\xa0]*$/.test(nb(xb)),"must provide non-empty justification");void 0===ha&&(ha=bc("gapi#html"));Ta=(xb=ha)?xb.createHTML(Ta):Ta;Ta=new ld(Ta,null,Ze);if(Sc.tagName&&wd[Sc.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+Sc.tagName+".");if(hb())for(;Sc.lastChild;)Sc.removeChild(Sc.lastChild);
Sc.innerHTML=fi(Ta);Ta=String(Sc.firstChild.href);Sc.parentNode&&Sc.parentNode.removeChild(Sc);xb=zj(Ta+ic);ic=xb.B;xb.query.length&&(ic+="?"+xb.query.join(""));xb.j.length&&(ic+="#"+xb.j.join(""));return ic},io=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,Am=function(Aa,Ta,xb,ic){if(Vg[xb+"EventListener"])Vg[xb+"EventListener"](Aa,Ta,!1);else if(Vg[ic+"tachEvent"])Vg[ic+"tachEvent"]("on"+Aa,Ta)},fm=function(){var Aa=qg.readyState;return"complete"===Aa||"interactive"===Aa&&-1==navigator.userAgent.indexOf("MSIE")},
Or=function(Aa){var Ta=$v;if(!fm())try{Ta()}catch(xb){}To(Aa)},To=function(Aa){if(fm())Aa();else{var Ta=!1,xb=function(){if(!Ta)return Ta=!0,Aa.apply(this,arguments)};Vg.addEventListener?(Vg.addEventListener("load",xb,!1),Vg.addEventListener("DOMContentLoaded",xb,!1)):Vg.attachEvent&&(Vg.attachEvent("onreadystatechange",function(){fm()&&xb.apply(this,arguments)}),Vg.attachEvent("onload",xb))}},pp=function(Aa){for(;Aa.firstChild;)Aa.removeChild(Aa.firstChild)},Rp={button:!0,div:!0,span:!0};var Qg=
sg(Vg,"___jsl",re());sg(Qg,"I",0);sg(Qg,"hel",10);var cn=function(Aa){return Qg.dpo?Qg.h:pl(Aa,"jsh",Qg.h)},Sp=function(Aa){var Ta=sg(Qg,"sws",[]);Ta.push.apply(Ta,Aa)},Tp=function(Aa){return sg(Qg,"watt",re())[Aa]},rp=function(Aa){var Ta=sg(Qg,"PQ",[]);Qg.PQ=[];var xb=Ta.length;if(0===xb)Aa();else for(var ic=0,Sc=function(){++ic===xb&&Aa()},jd=0;jd<xb;jd++)Ta[jd](Sc)},qp=function(Aa){return sg(sg(Qg,"H",re()),Aa,re())},zo=sg(Qg,"perf",re()),Gq=sg(zo,"g",re()),$s=sg(zo,"i",re());sg(zo,"r",[]);re();
re();var Xc=function(Aa,Ta,xb){var ic=zo.r;"function"===typeof ic?ic(Aa,Ta,xb):ic.push([Aa,Ta,xb])},kj=function(Aa,Ta,xb){Gq[Aa]=!Ta&&Gq[Aa]||xb||(new Date).getTime();Xc(Aa)},Ja=function(Aa,Ta,xb){Ta&&0<Ta.length&&(Ta=D(Ta),xb&&0<xb.length&&(Ta+="___"+D(xb)),28<Ta.length&&(Ta=Ta.substr(0,28)+(Ta.length-28)),xb=Ta,Ta=sg($s,"_p",re()),sg(Ta,xb,re())[Aa]=(new Date).getTime(),Xc(Aa,"_p",xb))},D=function(Aa){return Aa.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},K=re(),Q=[],G=function(Aa){throw Error("Bad hint"+
(Aa?": "+Aa:""));};Q.push(["jsl",function(Aa){for(var Ta in Aa)if(jg(Aa,Ta)){var xb=Aa[Ta];"object"==typeof xb?Qg[Ta]=sg(Qg,Ta,[]).concat(xb):sg(Qg,Ta,xb)}if(Ta=Aa.u)Aa=sg(Qg,"us",[]),Aa.push(Ta),(Ta=/^https:(.*)$/.exec(Ta))&&Aa.push("http:"+Ta[1])}]);var R=/^(\/[a-zA-Z0-9_\-]+)+$/,W=[/\/amp\//,/\/amp$/,/^\/amp$/],ea=/^[a-zA-Z0-9\-_\.,!]+$/,ya=/^gapi\.loaded_[0-9]+$/,Ka=/^[a-zA-Z0-9,._-]+$/,ia=function(Aa,Ta,xb,ic,Sc){var jd=Aa.split(";"),ke=jd.shift(),Hf=K[ke],Nf=null;Hf?Nf=Hf(jd,Ta,xb,ic):G("no hint processor for: "+
ke);Nf||G("failed to generate load url");Ta=Nf;xb=Ta.match(ub);(ic=Ta.match(vb))&&1===ic.length&&kb.test(Ta)&&xb&&1===xb.length||G("failed sanity: "+Aa);try{if(Sc&&0<Sc.length){Ta=Aa=0;for(xb={};Ta<Sc.length;){var ug=Sc[Ta++];ic=void 0;ic=La(ug)?"o"+(Object.prototype.hasOwnProperty.call(ug,Ua)&&ug[Ua]||(ug[Ua]=++Sb)):(typeof ug).charAt(0)+ug;Object.prototype.hasOwnProperty.call(xb,ic)||(xb[ic]=!0,Sc[Aa++]=ug)}Sc.length=Aa;Nf=Nf+"?le="+Sc.join(",")}}catch(hg){}return Nf},ua=function(Aa,Ta,xb,ic){Aa=
Ha(Aa);ya.test(xb)||G("invalid_callback");Ta=Fa(Ta);ic=ic&&ic.length?Fa(ic):null;var Sc=function(jd){return encodeURIComponent(jd).replace(/%2C/g,",")};return[encodeURIComponent(Aa.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",Sc(Aa.version),"/m=",Sc(Ta),ic?"/exm="+Sc(ic):"","/rt=j/sv=1/d=1/ed=1",Aa.U?"/am="+Sc(Aa.U):"",Aa.$?"/rs="+Sc(Aa.$):"",Aa.ba?"/t="+Sc(Aa.ba):"","/cb=",Sc(xb)].join("")},Ha=function(Aa){"/"!==Aa.charAt(0)&&G("relative path");for(var Ta=Aa.substring(1).split("/"),
xb=[];Ta.length;){Aa=Ta.shift();if(!Aa.length||0==Aa.indexOf("."))G("empty/relative directory");else if(0<Aa.indexOf("=")){Ta.unshift(Aa);break}xb.push(Aa)}Aa={};for(var ic=0,Sc=Ta.length;ic<Sc;++ic){var jd=Ta[ic].split("="),ke=decodeURIComponent(jd[0]),Hf=decodeURIComponent(jd[1]);2==jd.length&&ke&&Hf&&(Aa[ke]=Aa[ke]||Hf)}Ta="/"+xb.join("/");R.test(Ta)||G("invalid_prefix");xb=0;for(ic=W.length;xb<ic;++xb)W[xb].test(Ta)&&G("invalid_prefix");xb=ab(Aa,"k",!0);ic=ab(Aa,"am");Sc=ab(Aa,"rs");Aa=ab(Aa,
"t");return{pathPrefix:Ta,version:xb,U:ic,$:Sc,ba:Aa}},Fa=function(Aa){for(var Ta=[],xb=0,ic=Aa.length;xb<ic;++xb){var Sc=Aa[xb].replace(/\./g,"_").replace(/-/g,"_");Ka.test(Sc)&&Ta.push(Sc)}return Ta.join(",")},ab=function(Aa,Ta,xb){Aa=Aa[Ta];!Aa&&xb&&G("missing: "+Ta);if(Aa){if(ea.test(Aa))return Aa;G("invalid: "+Ta)}return null},kb=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,vb=/\/cb=/g,ub=/\/\//g,Dc=function(){var Aa=cn(Hi.href);if(!Aa)throw Error("Bad hint");return Aa};
K.m=function(Aa,Ta,xb,ic){(Aa=Aa[0])||G("missing_hint");return"https://apis.google.com"+ua(Aa,Ta,xb,ic)};var md=decodeURI("%73cript"),Id=/^[-+_0-9\/A-Za-z]+={0,2}$/,yd=function(Aa,Ta){for(var xb=[],ic=0;ic<Aa.length;++ic){var Sc=Aa[ic];Sc&&0>eh.call(Ta,Sc)&&xb.push(Sc)}return xb},Nd=function(){var Aa=Qg.nonce;return void 0!==Aa?Aa&&Aa===String(Aa)&&Aa.match(Id)?Aa:Qg.nonce=null:qg.querySelector?(Aa=qg.querySelector("script[nonce]"))?(Aa=Aa.nonce||Aa.getAttribute("nonce")||"",Aa&&Aa===String(Aa)&&
Aa.match(Id)?Qg.nonce=Aa:Qg.nonce=null):null:null},ue=function(Aa){if("loading"!=qg.readyState)Pe(Aa);else{var Ta=Nd(),xb="";null!==Ta&&(xb=' nonce="'+Ta+'"');Aa="<"+md+' src="'+encodeURI(Aa)+'"'+xb+"></"+md+">";qg.write(Sg?Sg.createHTML(Aa):Aa)}},Pe=function(Aa){var Ta=qg.createElement(md);Ta.setAttribute("src",Sg?Sg.createScriptURL(Aa):Aa);Aa=Nd();null!==Aa&&Ta.setAttribute("nonce",Aa);Ta.async="true";(Aa=qg.getElementsByTagName(md)[0])?Aa.parentNode.insertBefore(Ta,Aa):(qg.head||qg.body||qg.documentElement).appendChild(Ta)},
Gc=function(Aa,Ta){var xb=Ta&&Ta._c;if(xb)for(var ic=0;ic<Q.length;ic++){var Sc=Q[ic][0],jd=Q[ic][1];jd&&jg(xb,Sc)&&jd(xb[Sc],Aa,Ta)}},of=function(Aa,Ta,xb){gi(function(){var ic=Ta===cn(Hi.href)?sg(zl,"_",re()):re();ic=sg(qp(Ta),"_",ic);Aa(ic)},xb)},kg=function(Aa,Ta){var xb=Ta||{};"function"==typeof Ta&&(xb={},xb.callback=Ta);Gc(Aa,xb);Ta=[];Aa?Ta=Aa.split(":"):xb.features&&(Ta=xb.features);var ic=xb.h||Dc(),Sc=sg(Qg,"ah",re());if(Sc["::"]&&Ta.length){Aa=[];for(var jd=null;jd=Ta.shift();){var ke=
jd.split(".");ke=Sc[jd]||Sc[ke[1]&&"ns:"+ke[0]||""]||ic;var Hf=Aa.length&&Aa[Aa.length-1]||null,Nf=Hf;Hf&&Hf.hint==ke||(Nf={hint:ke,features:[]},Aa.push(Nf));Nf.features.push(jd)}var ug=Aa.length;if(1<ug){var hg=xb.callback;hg&&(xb.callback=function(){0==--ug&&hg()})}for(;Ta=Aa.shift();)Sd(Ta.features,xb,Ta.hint)}else Sd(Ta||[],xb,ic)},Sd=function(Aa,Ta,xb){Aa=vh(Aa)||[];var ic=Ta.callback,Sc=Ta.config,jd=Ta.timeout,ke=Ta.ontimeout,Hf=Ta.onerror,Nf=void 0;"function"==typeof Hf&&(Nf=Hf);var ug=null,
hg=!1;if(jd&&!ke||!jd&&ke)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";Hf=sg(qp(xb),"r",[]).sort();var hi=sg(qp(xb),"L",[]).sort(),Vk=Qg.le,$h=[].concat(Hf),Tl=function(Jm,ej){if(hg)return 0;Vg.clearTimeout(ug);hi.push.apply(hi,Aj);var Lq=((zl||{}).config||{}).update;Lq?Lq(Sc):Sc&&sg(Qg,"cu",[]).push(Sc);if(ej){Ja("me0",Jm,$h);try{of(ej,xb,Nf)}finally{Ja("me1",Jm,$h)}}return 1};0<jd&&(ug=Vg.setTimeout(function(){hg=!0;ke()},jd));var Aj=yd(Aa,hi);if(Aj.length){Aj=
yd(Aa,Hf);var Wk=sg(Qg,"CP",[]),fn=Wk.length;Wk[fn]=function(Jm){if(!Jm)return 0;Ja("ml1",Aj,$h);var ej=function(Mq){Wk[fn]=null;Tl(Aj,Jm)&&rp(function(){ic&&ic();Mq()})},Lq=function(){var Mq=Wk[fn+1];Mq&&Mq()};0<fn&&Wk[fn-1]?Wk[fn]=function(){ej(Lq)}:ej(Lq)};if(Aj.length){var Sr="loaded_"+Qg.I++;zl[Sr]=function(Jm){Wk[fn](Jm);zl[Sr]=null};Aa=ia(xb,Aj,"gapi."+Sr,Hf,Vk);Hf.push.apply(Hf,Aj);Ja("ml0",Aj,$h);Ta.sync||Vg.___gapisync?ue(Aa):Pe(Aa)}else Wk[fn](xj)}else Tl(Aj)&&ic&&ic()},Sg=bc("gapi#gapi"),
gi=function(Aa,Ta){if(Qg.hee&&0<Qg.hel)try{return Aa()}catch(xb){Ta&&Ta(xb),Qg.hel--,kg("debug_error",function(){try{window.___jsl.hefn(xb)}catch(ic){throw xb;}})}else try{return Aa()}catch(xb){throw Ta&&Ta(xb),xb;}};zl.load=function(Aa,Ta){return gi(function(){return kg(Aa,Ta)})};var Hg=function(Aa){var Ta=window.___jsl=window.___jsl||{};Ta[Aa]=Ta[Aa]||[];return Ta[Aa]},Yf=function(Aa){var Ta=window.___jsl=window.___jsl||{};Ta.cfg=!Aa&&Ta.cfg||{};return Ta.cfg},jf=function(Aa){return"object"===typeof Aa&&
/\[native code\]/.test(Aa.push)},oh=function(Aa,Ta,xb){if(Ta&&"object"===typeof Ta)for(var ic in Ta)!Object.prototype.hasOwnProperty.call(Ta,ic)||xb&&"___goc"===ic&&"undefined"===typeof Ta[ic]||(Aa[ic]&&Ta[ic]&&"object"===typeof Aa[ic]&&"object"===typeof Ta[ic]&&!jf(Aa[ic])&&!jf(Ta[ic])?oh(Aa[ic],Ta[ic]):Ta[ic]&&"object"===typeof Ta[ic]?(Aa[ic]=jf(Ta[ic])?[]:{},oh(Aa[ic],Ta[ic])):Aa[ic]=Ta[ic])},Ij=function(Aa){if(Aa&&!/^\s+$/.test(Aa)){for(;0==Aa.charCodeAt(Aa.length-1);)Aa=Aa.substring(0,Aa.length-
1);try{var Ta=window.JSON.parse(Aa)}catch(xb){}if("object"===typeof Ta)return Ta;try{Ta=(new Function("return ("+Aa+"\n)"))()}catch(xb){}if("object"===typeof Ta)return Ta;try{Ta=(new Function("return ({"+Aa+"\n})"))()}catch(xb){}return"object"===typeof Ta?Ta:{}}},gh=function(Aa,Ta){var xb={___goc:void 0};Aa.length&&Aa[Aa.length-1]&&Object.hasOwnProperty.call(Aa[Aa.length-1],"___goc")&&"undefined"===typeof Aa[Aa.length-1].___goc&&(xb=Aa.pop());oh(xb,Ta);Aa.push(xb)},dn=function(Aa){Yf(!0);var Ta=window.___gcfg,
xb=Hg("cu"),ic=window.___gu;Ta&&Ta!==ic&&(gh(xb,Ta),window.___gu=Ta);Ta=Hg("cu");var Sc=document.scripts||document.getElementsByTagName("script")||[];ic=[];var jd=[];jd.push.apply(jd,Hg("us"));for(var ke=0;ke<Sc.length;++ke)for(var Hf=Sc[ke],Nf=0;Nf<jd.length;++Nf)Hf.src&&0==Hf.src.indexOf(jd[Nf])&&ic.push(Hf);0==ic.length&&0<Sc.length&&Sc[Sc.length-1].src&&ic.push(Sc[Sc.length-1]);for(Sc=0;Sc<ic.length;++Sc)ic[Sc].getAttribute("gapi_processed")||(ic[Sc].setAttribute("gapi_processed",!0),(jd=ic[Sc])?
(ke=jd.nodeType,jd=3==ke||4==ke?jd.nodeValue:jd.textContent||""):jd=void 0,(jd=Ij(jd))&&Ta.push(jd));Aa&&gh(xb,Aa);ic=Hg("cd");Aa=0;for(Ta=ic.length;Aa<Ta;++Aa)oh(Yf(),ic[Aa],!0);ic=Hg("ci");Aa=0;for(Ta=ic.length;Aa<Ta;++Aa)oh(Yf(),ic[Aa],!0);Aa=0;for(Ta=xb.length;Aa<Ta;++Aa)oh(Yf(),xb[Aa],!0)},zk=function(Aa){var Ta=Yf();if(!Aa)return Ta;Aa=Aa.split("/");for(var xb=0,ic=Aa.length;Ta&&"object"===typeof Ta&&xb<ic;++xb)Ta=Ta[Aa[xb]];return xb===Aa.length&&void 0!==Ta?Ta:void 0},Ak=function(Aa,Ta){var xb;
if("string"===typeof Aa){var ic=xb={};Aa=Aa.split("/");for(var Sc=0,jd=Aa.length;Sc<jd-1;++Sc)ic=ic[Aa[Sc]]={};ic[Aa[Sc]]=Ta}else xb=Aa;dn(xb)},nf=function(){var Aa=window.__GOOGLEAPIS;Aa&&(Aa.googleapis&&!Aa["googleapis.config"]&&(Aa["googleapis.config"]=Aa.googleapis),sg(Qg,"ci",[]).push(Aa),window.__GOOGLEAPIS=void 0)},Sh={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},pk=!1,Al=re(),Up=function(){if(!pk){for(var Aa=document.getElementsByTagName("meta"),
Ta=0;Ta<Aa.length;++Ta){var xb=Aa[Ta].name.toLowerCase();if(0==xb.lastIndexOf("google-signin-",0)){xb=xb.substring(14);var ic=Aa[Ta].content;Sh[xb]&&ic&&(Al[xb]=ic)}}if(window.self!==window.top){Aa=document.location.toString();for(var Sc in Sh)0<Sh[Sc]&&(Ta=pl(Aa,Sc,""))&&(Al[Sc]=Ta)}pk=!0}Sc=re();ih(Al,Sc);return Sc},Hq=function(Aa){return!!(Aa.clientid&&Aa.scope&&Aa.callback)},yg=function(){this.i=window.console};yg.prototype.log=function(Aa){this.i&&this.i.log&&this.i.log(Aa)};yg.prototype.error=
function(Aa){this.i&&(this.i.error?this.i.error(Aa):this.i.log&&this.i.log(Aa))};yg.prototype.warn=function(Aa){this.i&&(this.i.warn?this.i.warn(Aa):this.i.log&&this.i.log(Aa))};yg.prototype.debug=function(){};var Uk=new yg,Tg=function(){return!!Qg.oa},Ii=function(){},Ji=sg(Qg,"rw",re()),jo=function(Aa){for(var Ta in Ji)Aa(Ji[Ta])},Ov=function(Aa,Ta){(Aa=Ji[Aa])&&Aa.state<Ta&&(Aa.state=Ta)},Vp=function(Aa){var Ta=window.___jsl=window.___jsl||{};Ta.cfg=Ta.cfg||{};Ta=Ta.cfg;if(!Aa)return Ta;Aa=Aa.split("/");
for(var xb=0,ic=Aa.length;Ta&&"object"===typeof Ta&&xb<ic;++xb)Ta=Ta[Aa[xb]];return xb===Aa.length&&void 0!==Ta?Ta:void 0},NA=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,OA=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,Xx=function(Aa){var Ta=Vp("googleapis.config/sessionIndex");"string"===typeof Ta&&254<Ta.length&&(Ta=null);null==Ta&&(Ta=window.__X_GOOG_AUTHUSER);"string"===typeof Ta&&254<Ta.length&&(Ta=null);if(null==Ta){var xb=
window.google;xb&&(Ta=xb.authuser)}"string"===typeof Ta&&254<Ta.length&&(Ta=null);null==Ta&&(Aa=Aa||window.location.href,Ta=pl(Aa,"authuser")||null,null==Ta&&(Ta=(Ta=Aa.match(NA))?Ta[1]:null));if(null==Ta)return null;Ta=String(Ta);254<Ta.length&&(Ta=null);return Ta},Yx=function(Aa){var Ta=Vp("googleapis.config/sessionDelegate");"string"===typeof Ta&&21<Ta.length&&(Ta=null);null==Ta&&(Ta=(Aa=(Aa||window.location.href).match(OA))?Aa[1]:null);if(null==Ta)return null;Ta=String(Ta);21<Ta.length&&(Ta=null);
return Ta},nu,Pr,Qr=void 0,Wp=function(Aa){try{return bb.JSON.parse.call(bb.JSON,Aa)}catch(Ta){return!1}},sp=function(Aa){return Object.prototype.toString.call(Aa)},ou=sp(0),Zx=sp(new Date(0)),$x=sp(!0),ay=sp(""),PA=sp({}),by=sp([]),Rr=function(Aa,Ta){if(Ta)for(var xb=0,ic=Ta.length;xb<ic;++xb)if(Aa===Ta[xb])throw new TypeError("Converting circular structure to JSON");ic=typeof Aa;if("undefined"!==ic){xb=Array.prototype.slice.call(Ta||[],0);xb[xb.length]=Aa;Ta=[];var Sc=sp(Aa);if(null!=Aa&&"function"===
typeof Aa.toJSON&&(Object.prototype.hasOwnProperty.call(Aa,"toJSON")||(Sc!==by||Aa.constructor!==Array&&Aa.constructor!==Object)&&(Sc!==PA||Aa.constructor!==Array&&Aa.constructor!==Object)&&Sc!==ay&&Sc!==ou&&Sc!==$x&&Sc!==Zx))return Rr(Aa.toJSON.call(Aa),xb);if(null==Aa)Ta[Ta.length]="null";else if(Sc===ou)Aa=Number(Aa),isNaN(Aa)||isNaN(Aa-Aa)?Aa="null":-0===Aa&&0>1/Aa&&(Aa="-0"),Ta[Ta.length]=String(Aa);else if(Sc===$x)Ta[Ta.length]=String(!!Number(Aa));else{if(Sc===Zx)return Rr(Aa.toISOString.call(Aa),
xb);if(Sc===by&&sp(Aa.length)===ou){Ta[Ta.length]="[";var jd=0;for(ic=Number(Aa.length)>>0;jd<ic;++jd)jd&&(Ta[Ta.length]=","),Ta[Ta.length]=Rr(Aa[jd],xb)||"null";Ta[Ta.length]="]"}else if(Sc==ay&&sp(Aa.length)===ou){Ta[Ta.length]='"';jd=0;for(xb=Number(Aa.length)>>0;jd<xb;++jd)ic=String.prototype.charAt.call(Aa,jd),Sc=String.prototype.charCodeAt.call(Aa,jd),Ta[Ta.length]="\b"===ic?"\\b":"\f"===ic?"\\f":"\n"===ic?"\\n":"\r"===ic?"\\r":"\t"===ic?"\\t":"\\"===ic||'"'===ic?"\\"+ic:31>=Sc?"\\u"+(Sc+65536).toString(16).substr(1):
32<=Sc&&65535>=Sc?ic:"\ufffd";Ta[Ta.length]='"'}else if("object"===ic){Ta[Ta.length]="{";ic=0;for(jd in Aa)Object.prototype.hasOwnProperty.call(Aa,jd)&&(Sc=Rr(Aa[jd],xb),void 0!==Sc&&(ic++&&(Ta[Ta.length]=","),Ta[Ta.length]=Rr(jd),Ta[Ta.length]=":",Ta[Ta.length]=Sc));Ta[Ta.length]="}"}else return}return Ta.join("")}},QA=/[\0-\x07\x0b\x0e-\x1f]/,RA=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,SA=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,TA=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,
UA=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,VA=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,WA=/[ \t\n\r]+/g,XA=/[^"]:/,YA=/""/g,ZA=/true|false|null/g,$A=/00/,aB=/[\{]([^0\}]|0[^:])/,bB=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,cB=/[^\[,:][\[\{]/,dB=/^(\{|\}|\[|\]|,|:|0)+/,eB=/\u2028/g,fB=/\u2029/g,gB=function(Aa){Aa=String(Aa);if(QA.test(Aa)||RA.test(Aa)||SA.test(Aa)||TA.test(Aa))return!1;var Ta=Aa.replace(UA,'""');Ta=Ta.replace(VA,"0");Ta=Ta.replace(WA,"");if(XA.test(Ta))return!1;Ta=Ta.replace(YA,
"0");Ta=Ta.replace(ZA,"0");if($A.test(Ta)||aB.test(Ta)||bB.test(Ta)||cB.test(Ta)||!Ta||Ta.replace(dB,""))return!1;Aa=Aa.replace(eB,"\\u2028").replace(fB,"\\u2029");Ta=void 0;try{Ta=Qr?[Wp(Aa)]:eval("(function (var_args) {\n  return Array.prototype.slice.call(arguments, 0);\n})(\n"+Aa+"\n)")}catch(xb){return!1}return Ta&&1===Ta.length?Ta[0]:!1},cy=function(){var Aa=((bb.document||{}).scripts||[]).length;if((void 0===nu||void 0===Qr||Pr!==Aa)&&-1!==Pr){nu=Qr=!1;Pr=-1;try{try{Qr=!!bb.JSON&&'{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'===
bb.JSON.stringify.call(bb.JSON,{a:[3,!0,new Date(0)],c:function(){}})&&!0===Wp("true")&&3===Wp('[{"a":3}]')[0].a}catch(Ta){}nu=Qr&&!Wp("[00]")&&!Wp('"\u0007"')&&!Wp('"\\0"')&&!Wp('"\\v"')}finally{Pr=Aa}}},dy=function(Aa){if(-1===Pr)return!1;cy();return(nu?Wp:gB)(Aa)},ey=function(Aa){if(-1!==Pr)return cy(),Qr?bb.JSON.stringify.call(bb.JSON,Aa):Rr(Aa)},hB=!Date.prototype.toISOString||"function"!==typeof Date.prototype.toISOString||"1970-01-01T00:00:00.000Z"!==(new Date(0)).toISOString(),iB=function(){var Aa=
Date.prototype.getUTCFullYear.call(this);return[0>Aa?"-"+String(1E6-Aa).substr(1):9999>=Aa?String(1E4+Aa).substr(1):"+"+String(1E6+Aa).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1E3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),
"Z"].join("")};Date.prototype.toISOString=hB?iB:Date.prototype.toISOString;var at=function(){this.blockSize=64;this.g=[];this.L=[];this.ea=[];this.H=[];this.H[0]=128;for(var Aa=1;Aa<this.blockSize;++Aa)this.H[Aa]=0;this.J=this.v=0;this.reset()};sb(at,function(){this.blockSize=-1});at.prototype.reset=function(){this.g[0]=1732584193;this.g[1]=4023233417;this.g[2]=2562383102;this.g[3]=271733878;this.g[4]=3285377520;this.J=this.v=0};var pu=function(Aa,Ta,xb){xb||(xb=0);var ic=Aa.ea;if("string"===typeof Ta)for(var Sc=
0;16>Sc;Sc++)ic[Sc]=Ta.charCodeAt(xb)<<24|Ta.charCodeAt(xb+1)<<16|Ta.charCodeAt(xb+2)<<8|Ta.charCodeAt(xb+3),xb+=4;else for(Sc=0;16>Sc;Sc++)ic[Sc]=Ta[xb]<<24|Ta[xb+1]<<16|Ta[xb+2]<<8|Ta[xb+3],xb+=4;for(Sc=16;80>Sc;Sc++){var jd=ic[Sc-3]^ic[Sc-8]^ic[Sc-14]^ic[Sc-16];ic[Sc]=(jd<<1|jd>>>31)&4294967295}Ta=Aa.g[0];xb=Aa.g[1];var ke=Aa.g[2],Hf=Aa.g[3],Nf=Aa.g[4];for(Sc=0;80>Sc;Sc++){if(40>Sc)if(20>Sc){jd=Hf^xb&(ke^Hf);var ug=1518500249}else jd=xb^ke^Hf,ug=1859775393;else 60>Sc?(jd=xb&ke|Hf&(xb|ke),ug=2400959708):
(jd=xb^ke^Hf,ug=3395469782);jd=(Ta<<5|Ta>>>27)+jd+Nf+ug+ic[Sc]&4294967295;Nf=Hf;Hf=ke;ke=(xb<<30|xb>>>2)&4294967295;xb=Ta;Ta=jd}Aa.g[0]=Aa.g[0]+Ta&4294967295;Aa.g[1]=Aa.g[1]+xb&4294967295;Aa.g[2]=Aa.g[2]+ke&4294967295;Aa.g[3]=Aa.g[3]+Hf&4294967295;Aa.g[4]=Aa.g[4]+Nf&4294967295};at.prototype.update=function(Aa,Ta){if(null!=Aa){void 0===Ta&&(Ta=Aa.length);for(var xb=Ta-this.blockSize,ic=0,Sc=this.L,jd=this.v;ic<Ta;){if(0==jd)for(;ic<=xb;)pu(this,Aa,ic),ic+=this.blockSize;if("string"===typeof Aa)for(;ic<
Ta;){if(Sc[jd]=Aa.charCodeAt(ic),++jd,++ic,jd==this.blockSize){pu(this,Sc);jd=0;break}}else for(;ic<Ta;)if(Sc[jd]=Aa[ic],++jd,++ic,jd==this.blockSize){pu(this,Sc);jd=0;break}}this.v=jd;this.J+=Ta}};at.prototype.digest=function(){var Aa=[],Ta=8*this.J;56>this.v?this.update(this.H,56-this.v):this.update(this.H,this.blockSize-(this.v-56));for(var xb=this.blockSize-1;56<=xb;xb--)this.L[xb]=Ta&255,Ta/=256;pu(this,this.L);for(xb=Ta=0;5>xb;xb++)for(var ic=24;0<=ic;ic-=8)Aa[Ta]=this.g[xb]>>ic&255,++Ta;return Aa};
var fy=function(){this.R=new at};fy.prototype.reset=function(){this.R.reset()};var Pv=Vg.crypto,gy=!1,qu=0,jB=0,Qv=1,Rv=0,yh="",kB=function(Aa){Aa=Aa||Vg.event;var Ta=Aa.screenX+Aa.clientX<<16;Ta+=Aa.screenY+Aa.clientY;Ta*=(new Date).getTime()%1E6;Qv=Qv*Ta%Rv;0<qu&&++jB==qu&&Am("mousemove",kB,"remove","de")},lB=function(Aa){var Ta=new fy;Aa=unescape(encodeURIComponent(Aa));for(var xb=[],ic=0,Sc=Aa.length;ic<Sc;++ic)xb.push(Aa.charCodeAt(ic));Ta.R.update(xb);Ta=Ta.R.digest();Aa="";for(xb=0;xb<Ta.length;xb++)Aa+=
"0123456789ABCDEF".charAt(Math.floor(Ta[xb]/16))+"0123456789ABCDEF".charAt(Ta[xb]%16);return Aa};(gy=!!Pv&&"function"==typeof Pv.getRandomValues)||(Rv=1E6*(screen.width*screen.width+screen.height),yh=lB(qg.cookie+"|"+qg.location+"|"+(new Date).getTime()+"|"+Math.random()),qu=Vp("random/maxObserveMousemove")||0,0!=qu&&Am("mousemove",kB,"add","at"));var mB=function(){var Aa=Qg.onl;if(!Aa){Aa=re();Qg.onl=Aa;var Ta=re();Aa.e=function(xb){var ic=Ta[xb];ic&&(delete Ta[xb],ic())};Aa.a=function(xb,ic){Ta[xb]=
ic};Aa.r=function(xb){delete Ta[xb]}}return Aa},QE=function(Aa,Ta){Ta=Ta.onload;return"function"===typeof Ta?(mB().a(Aa,Ta),Ta):null},hy=function(Aa){zm(/^\w+$/.test(Aa),"Unsupported id - "+Aa);return'onload="window.___jsl.onl.e(&#34;'+Aa+'&#34;)"'},RE=function(Aa){mB().r(Aa)},SE={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},TE={allowtransparency:!0,onload:!0},CJ=0,UE=function(Aa){zm(!Aa||io.test(Aa),
"Illegal url for new iframe - "+Aa)},iy=function(Aa,Ta,xb,ic,Sc){UE(xb.src);var jd,ke=QE(ic,xb),Hf=ke?hy(ic):"";try{document.all&&(jd=Aa.createElement('<iframe frameborder="'+Re(String(xb.frameborder))+'" scrolling="'+Re(String(xb.scrolling))+'" '+Hf+' name="'+Re(String(xb.name))+'"/>'))}catch(ug){}finally{jd||(jd=(Aa?new dh(xg(Aa)):Td||(Td=new dh)).ga("IFRAME"),ke&&(jd.onload=function(){jd.onload=null;ke.call(this)},RE(ic)))}jd.setAttribute("ng-non-bindable","");for(var Nf in xb)Aa=xb[Nf],"style"===
Nf&&"object"===typeof Aa?ih(Aa,jd.style):TE[Nf]||jd.setAttribute(Nf,String(Aa));(Nf=Sc&&Sc.beforeNode||null)||Sc&&Sc.dontclear||pp(Ta);Ta.insertBefore(jd,Nf);jd=Nf?Nf.previousSibling:Ta.lastChild;xb.allowtransparency&&(jd.allowTransparency=!0);return jd},VE=/^:[\w]+$/,ti=/:([a-zA-Z_]+):/g,Sv=function(){var Aa=Xx()||"0",Ta=Yx(),xb=Xx(void 0)||Aa,ic=Yx(void 0),Sc="";xb&&(Sc+="u/"+encodeURIComponent(String(xb))+"/");ic&&(Sc+="b/"+encodeURIComponent(String(ic))+"/");xb=Sc||null;(Sc=(ic=!1===Vp("isLoggedIn"))?
"_/im/":"")&&(xb="");var jd=Vp("iframes/:socialhost:"),ke=Vp("iframes/:im_socialhost:");return{socialhost:jd,ctx_socialhost:ic?ke:jd,session_index:Aa,session_delegate:Ta,session_prefix:xb,im_prefix:Sc}},nB=function(Aa,Ta){return Sv()[Ta]||""},oB=function(Aa){return function(Ta,xb){return Aa?Sv()[xb]||Aa[xb]||"":Sv()[xb]||""}},Tv=function(Aa){var Ta;Aa.match(/^https?%3A/i)&&(Ta=decodeURIComponent(Aa));return Gn(document,Ta?Ta:Aa)},Uv=function(Aa){Aa=Aa||"canonical";for(var Ta=document.getElementsByTagName("link"),
xb=0,ic=Ta.length;xb<ic;xb++){var Sc=Ta[xb],jd=Sc.getAttribute("rel");if(jd&&jd.toLowerCase()==Aa&&(Sc=Sc.getAttribute("href"))&&(Sc=Tv(Sc))&&null!=Sc.match(/^https?:\/\/[\w\-_\.]+/i))return Sc}return window.location.href},Vv={se:"0"},pB={post:!0},qB={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},rB="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),jy=sg(Qg,"WI",re()),Wv=function(Aa,Ta,xb){var ic,Sc={},jd=ic=Aa;"plus"==
Aa&&Ta.action&&(ic=Aa+"_"+Ta.action,jd=Aa+"/"+Ta.action);(ic=zk("iframes/"+ic+"/url"))||(ic=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+jd+"?usegapi=1");for(var ke in Vv)Sc[ke]=ke+"/"+(Ta[ke]||Vv[ke])+"/";Sc=Gn(qg,ic.replace(ti,oB(Sc)));ke="iframes/"+Aa+"/params/";jd={};ih(Ta,jd);(ic=zk("lang")||zk("gwidget/lang"))&&(jd.hl=ic);pB[Aa]||(jd.origin=window.location.origin||window.location.protocol+"//"+window.location.host);jd.exp=zk(ke+"exp");if(ke=zk(ke+"location"))for(ic=0;ic<ke.length;ic++){var Hf=
ke[ic];jd[Hf]=Vg.location[Hf]}switch(Aa){case "plus":case "follow":ke=jd.href;ic=Ta.action?void 0:"publisher";ke=(ke="string"==typeof ke?ke:void 0)?Tv(ke):Uv(ic);jd.url=ke;delete jd.href;break;case "plusone":ke=(ke=Ta.href)?Tv(ke):Uv();jd.url=ke;ke=Ta.db;ic=zk();null==ke&&ic&&(ke=ic.db,null==ke&&(ke=ic.gwidget&&ic.gwidget.db));jd.db=ke||void 0;ke=Ta.ecp;ic=zk();null==ke&&ic&&(ke=ic.ecp,null==ke&&(ke=ic.gwidget&&ic.gwidget.ecp));jd.ecp=ke||void 0;delete jd.href;break;case "signin":jd.url=Uv()}Qg.ILI&&
(jd.iloader="1");delete jd["data-onload"];delete jd.rd;for(var Nf in Vv)jd[Nf]&&delete jd[Nf];jd.gsrc=zk("iframes/:source:");Nf=zk("inline/css");"undefined"!==typeof Nf&&0<xb&&Nf>=xb&&(jd.ic="1");Nf=/^#|^fr-/;xb={};for(var ug in jd)jg(jd,ug)&&Nf.test(ug)&&(xb[ug.replace(Nf,"")]=jd[ug],delete jd[ug]);ug="q"==zk("iframes/"+Aa+"/params/si")?jd:xb;Nf=Up();for(var hg in Nf)!jg(Nf,hg)||jg(jd,hg)||jg(xb,hg)||(ug[hg]=Nf[hg]);hg=[].concat(rB);(ug=zk("iframes/"+Aa+"/methods"))&&"object"===typeof ug&&Th.test(ug.push)&&
(hg=hg.concat(ug));for(var hi in Ta)jg(Ta,hi)&&/^on/.test(hi)&&("plus"!=Aa||"onconnect"!=hi)&&(hg.push(hi),delete jd[hi]);delete jd.callback;xb._methods=hg.join(",");return ok(Sc,jd,xb)},sB=["style","data-gapiscan"],ky=function(Aa){for(var Ta=re(),xb=0!=Aa.nodeName.toLowerCase().indexOf("g:"),ic=0,Sc=Aa.attributes.length;ic<Sc;ic++){var jd=Aa.attributes[ic],ke=jd.name,Hf=jd.value;0<=eh.call(sB,ke)||xb&&0!=ke.indexOf("data-")||"null"===Hf||"specified"in jd&&!jd.specified||(xb&&(ke=ke.substr(5)),Ta[ke.toLowerCase()]=
Hf)}Aa=Aa.style;(xb=ly(Aa&&Aa.height))&&(Ta.height=String(xb));(Aa=ly(Aa&&Aa.width))&&(Ta.width=String(Aa));return Ta},ly=function(Aa){var Ta=void 0;"number"===typeof Aa?Ta=Aa:"string"===typeof Aa&&(Ta=parseInt(Aa,10));return Ta},tB=function(){var Aa=Qg.drw;jo(function(Ta){if(Aa!==Ta.id&&4!=Ta.state&&"share"!=Ta.type){var xb=Ta.id,ic=Ta.type,Sc=Ta.url;Ta=Ta.userParams;var jd=qg.getElementById(xb);if(jd){var ke=Wv(ic,Ta,0);ke?(jd=jd.parentNode,Sc.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==ke.replace(/#.*/,
"").replace(/(\?|&)ic=1/,"")&&(Ta.dontclear=!0,Ta.rd=!0,Ta.ri=!0,Ta.type=ic,ry(jd,Ta),(ic=Ji[jd.lastChild.id])&&(ic.oid=xb),Ov(xb,4))):delete Ji[xb]}else delete Ji[xb]}})},uB=/(?:^|\s)g-((\S)*)(?:$|\s)/,vB={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};var ru=sg(Qg,"SW",re());var su=sg(Qg,"SA",re());var bt=sg(Qg,"SM",re());var Xv=sg(Qg,"FW",[]);var my=null;var ny=function(Aa,Ta){oy(void 0,!1,Aa,Ta)},oy=function(Aa,Ta,xb,ic){kj("ps0",!0);xb=("string"===typeof xb?document.getElementById(xb):
xb)||qg;var Sc=qg.documentMode;if(xb.querySelectorAll&&(!Sc||8<Sc)){Sc=ic?[ic]:$g(ru).concat($g(su)).concat($g(bt));for(var jd=[],ke=0;ke<Sc.length;ke++){var Hf=Sc[ke];jd.push(".g-"+Hf,"g\\:"+Hf)}Sc=xb.querySelectorAll(jd.join(","))}else Sc=xb.getElementsByTagName("*");xb=re();for(jd=0;jd<Sc.length;jd++){var Nf=ke=Sc[jd];Hf=ic;var ug=Nf.nodeName.toLowerCase(),hg=void 0;if(Nf.getAttribute("data-gapiscan"))Hf=null;else{var hi=ug.indexOf("g:");0==hi?hg=ug.substr(2):(hi=(hi=String(Nf.className||Nf.getAttribute("class")))&&
uB.exec(hi))&&(hg=hi[1]);Hf=!hg||!(ru[hg]||su[hg]||bt[hg])||Hf&&hg!==Hf?null:hg}Hf&&(vB[Hf]||0==ke.nodeName.toLowerCase().indexOf("g:")||0!=$g(ky(ke)).length)&&(ke.setAttribute("data-gapiscan",!0),sg(xb,Hf,[]).push(ke))}if(Ta)for(var Vk in xb)for(Ta=xb[Vk],ic=0;ic<Ta.length;ic++)Ta[ic].setAttribute("data-onload",!0);for(var $h in xb)Xv.push($h);kj("ps1",!0);if((Vk=Xv.join(":"))||Aa)try{zl.load(Vk,Aa)}catch(Aj){Uk.log(Aj);return}if(py(my||{}))for(var Tl in xb){Aa=xb[Tl];$h=0;for(Ta=Aa.length;$h<Ta;$h++)Aa[$h].removeAttribute("data-gapiscan");
Yv(Tl)}else{ic=[];for(Tl in xb)for(Aa=xb[Tl],$h=0,Ta=Aa.length;$h<Ta;$h++)Sc=Aa[$h],qy(Tl,Sc,ky(Sc),ic,Ta);Zv(Vk,ic)}},wB=function(Aa){var Ta=sg(zl,Aa,{});Ta.go||(Ta.go=function(xb){return ny(xb,Aa)},Ta.render=function(xb,ic){ic=ic||{};ic.type=Aa;return ry(xb,ic)})},xB=function(Aa){ru[Aa]=!0},yB=function(Aa){su[Aa]=!0},zB=function(Aa){bt[Aa]=!0},Yv=function(Aa,Ta){var xb=Tp(Aa);Ta&&xb?(xb(Ta),(xb=Ta.iframeNode)&&xb.setAttribute("data-gapiattached",!0)):zl.load(Aa,function(){var ic=Tp(Aa),Sc=Ta&&Ta.iframeNode,
jd=Ta&&Ta.userParams;Sc&&ic?(ic(Ta),Sc.setAttribute("data-gapiattached",!0)):(ic=zl[Aa].go,"signin2"==Aa?ic(Sc,jd):ic(Sc&&Sc.parentNode,jd))})},py=function(){return!1},Zv=function(){},qy=function(Aa,Ta,xb,ic,Sc,jd,ke){switch(AB(Ta,Aa,jd)){case 0:Aa=bt[Aa]?Aa+"_annotation":Aa;ic={};ic.iframeNode=Ta;ic.userParams=xb;Yv(Aa,ic);break;case 1:if(Ta.parentNode){for(var Hf in xb){if(jd=jg(xb,Hf))jd=xb[Hf],jd=!!jd&&"object"===typeof jd&&(!jd.toString||jd.toString===Object.prototype.toString||jd.toString===
Array.prototype.toString);if(jd)try{xb[Hf]=ey(xb[Hf])}catch(fn){delete xb[Hf]}}jd=!0;xb.dontclear&&(jd=!1);delete xb.dontclear;Ii();Hf=Wv(Aa,xb,Sc);Sc=ke||{};Sc.allowPost=1;Sc.attributes=qB;Sc.dontclear=!jd;ke={};ke.userParams=xb;ke.url=Hf;ke.type=Aa;if(xb.rd)var Nf=Ta;else Nf=document.createElement("div"),Ta.setAttribute("data-gapistub",!0),Nf.style.cssText="position:absolute;width:450px;left:-10000px;",Ta.parentNode.insertBefore(Nf,Ta);ke.siteElement=Nf;Nf.id||(Ta=Nf,sg(jy,Aa,0),jd="___"+Aa+"_"+
jy[Aa]++,Ta.id=jd);Ta=re();Ta[">type"]=Aa;ih(xb,Ta);jd=Hf;xb=Nf;Hf=Sc||{};Ta=Hf.attributes||{};zm(!(Hf.allowPost||Hf.forcePost)||!Ta.onload,"onload is not supported by post iframe (allowPost or forcePost)");Sc=Ta=jd;VE.test(Ta)&&(Sc=Vp("iframes/"+Sc.substring(1)+"/url"),zm(!!Sc,"Unknown iframe url config for - "+Ta));jd=Gn(qg,Sc.replace(ti,nB));Ta=xb.ownerDocument||qg;Sc=Hf;var ug=0;do Nf=Sc.id||["I",CJ++,"_",(new Date).getTime()].join("");while(Ta.getElementById(Nf)&&5>++ug);zm(5>ug,"Error creating iframe id");
Sc=Nf;Nf=Hf;ug={};var hg={};Ta.documentMode&&9>Ta.documentMode&&(ug.hostiemode=Ta.documentMode);ih(Nf.queryParams||{},ug);ih(Nf.fragmentParams||{},hg);var hi=Nf.pfname,Vk=re();Vp("iframes/dropLegacyIdParam")||(Vk.id=Sc);Vk._gfid=Sc;Vk.parent=Ta.location.protocol+"//"+Ta.location.host;var $h=pl(Ta.location.href,"parent");hi=hi||"";!hi&&$h&&($h=pl(Ta.location.href,"_gfid","")||pl(Ta.location.href,"id",""),hi=pl(Ta.location.href,"pfname",""),hi=$h?hi+"/"+$h:"");hi||($h=dy(pl(Ta.location.href,"jcp","")))&&
"object"==typeof $h&&(hi=(hi=$h.id)?$h.pfname+"/"+hi:"");Vk.pfname=hi;Nf.connectWithJsonParam&&($h={},$h.jcp=ey(Vk),Vk=$h);$h=pl(jd,"rpctoken")||ug.rpctoken||hg.rpctoken;if(!$h){if(!($h=Nf.rpctoken)){$h=String;hi=Math;var Tl=hi.round;if(gy){var Aj=new Vg.Uint32Array(1);Pv.getRandomValues(Aj);Aj=Number("0."+Aj[0])}else Aj=Qv,Aj+=parseInt(yh.substr(0,20),16),yh=lB(yh),Aj/=Rv+Math.pow(16,20);$h=$h(Tl.call(hi,1E8*Aj))}Vk.rpctoken=$h}Nf.rpctoken=$h;ih(Vk,Nf.connectWithQueryParams?ug:hg);$h=Ta.location.href;
Vk=re();(hi=pl($h,"_bsh",Qg.bsh))&&(Vk._bsh=hi);($h=cn($h))&&(Vk.jsh=$h);Nf.hintInFragment?ih(Vk,hg):ih(Vk,ug);ug=ok(jd,ug,hg,Nf.paramsSerializer);jd=Hf;hg=re();ih(SE,hg);ih(jd.attributes,hg);hg.name=hg.id=Sc;hg.src=ug;Hf.eurl=ug;Hf=(Nf=Hf)||{};jd=!!Hf.allowPost;if(Hf.forcePost||jd&&2E3<ug.length){jd=zj(ug);hg.src="";Nf.dropDataPostorigin||(hg["data-postorigin"]=ug);Hf=iy(Ta,xb,hg,Sc);if(-1!=navigator.userAgent.indexOf("WebKit")){var Wk=Hf.contentWindow.document;Wk.open();ug=Wk.createElement("div");
hg={};Vk=Sc+"_inner";hg.name=Vk;hg.src="";hg.style="display:none";iy(Ta,ug,hg,Vk,Nf)}ug=(Nf=jd.query[0])?Nf.split("&"):[];Nf=[];for(hg=0;hg<ug.length;hg++)Vk=ug[hg].split("=",2),Nf.push([decodeURIComponent(Vk[0]),decodeURIComponent(Vk[1])]);jd.query=[];ug=Hm(jd);zm(io.test(ug),"Invalid URL: "+ug);jd=Ta.createElement("form");jd.method="POST";jd.target=Sc;jd.style.display="none";Sc=ug instanceof uf?ug:mg(ug);si(jd,"HTMLFormElement").action=Cf(Sc);for(Sc=0;Sc<Nf.length;Sc++)ug=Ta.createElement("input"),
ug.type="hidden",ug.name=Nf[Sc][0],ug.value=Nf[Sc][1],jd.appendChild(ug);xb.appendChild(jd);jd.submit();jd.parentNode.removeChild(jd);Wk&&Wk.close();Wk=Hf}else Wk=iy(Ta,xb,hg,Sc,Nf);ke.iframeNode=Wk;ke.id=Wk.getAttribute("id");Wk=ke.id;xb=re();xb.id=Wk;xb.userParams=ke.userParams;xb.url=ke.url;xb.type=ke.type;xb.state=1;Ji[Wk]=xb;Wk=ke}else Wk=null;Wk&&((ke=Wk.id)&&ic.push(ke),Yv(Aa,Wk))}},AB=function(Aa,Ta,xb){if(Aa&&1===Aa.nodeType&&Ta){if(xb)return 1;if(bt[Ta]){if(Rp[Aa.nodeName.toLowerCase()])return(Aa=
Aa.innerHTML)&&Aa.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(su[Ta])return 0;if(ru[Ta])return 1}}return null},ry=function(Aa,Ta){var xb=Ta.type;delete Ta.type;var ic=("string"===typeof Aa?document.getElementById(Aa):Aa)||void 0;if(ic){Aa={};for(var Sc in Ta)jg(Ta,Sc)&&(Aa[Sc.toLowerCase()]=Ta[Sc]);Aa.rd=1;(Ta=!!Aa.ri)&&delete Aa.ri;Sc=[];qy(xb,ic,Aa,Sc,0,Ta,void 0);Zv(xb,Sc)}else Uk.log("string"==="gapi."+xb+".render: missing element "+typeof Aa?Aa:"")};sg(zl,"platform",{}).go=ny;py=function(Aa){for(var Ta=
["_c","jsl","h"],xb=0;xb<Ta.length&&Aa;xb++)Aa=Aa[Ta[xb]];Ta=cn(Hi.href);return!Aa||0!=Aa.indexOf("n;")&&0!=Ta.indexOf("n;")&&Aa!==Ta};Zv=function(Aa,Ta){uy(Aa,Ta)};var $v=function(Aa){oy(Aa,!0)},tu=function(Aa,Ta){Ta=Ta||[];for(var xb=0;xb<Ta.length;++xb)Aa(Ta[xb]);for(Aa=0;Aa<Ta.length;Aa++)wB(Ta[Aa])};Q.push(["platform",function(Aa,Ta,xb){my=xb;Ta&&Xv.push(Ta);tu(xB,Aa);tu(yB,xb._c.annotation);tu(zB,xb._c.bimodal);nf();dn();if("explicit"!=zk("parsetags")){Sp(Aa);Hq(Up())&&!zk("disableRealtimeCallback")&&
Ii();if(xb&&(Aa=xb.callback)){var ic=bn(Aa);delete xb.callback}Or(function(){$v(ic)})}}]);zl._pl=!0;var aw=function(Aa){if(Aa=(Aa=Ji[Aa])?Aa.oid:void 0){var Ta=qg.getElementById(Aa);Ta&&Ta.parentNode.removeChild(Ta);delete Ji[Aa];aw(Aa)}},sy=/^\{h:'/,ty=/^!_/,bw="",uy=function(Aa,Ta){function xb(){Am("message",ic,"remove","de")}function ic(jd){var ke=jd.data,Hf=jd.origin;if(BB(ke,Ta)){var Nf=Sc;Sc=!1;Nf&&kj("rqe");CB(Aa,function(){Nf&&kj("rqd");xb();for(var ug=sg(Qg,"RPMQ",[]),hg=0;hg<ug.length;hg++)ug[hg]({data:ke,
origin:Hf})})}}if(0!==Ta.length){bw=pl(Hi.href,"pfname","");var Sc=!0;Am("message",ic,"add","at");kg(Aa,xb)}},BB=function(Aa,Ta){Aa=String(Aa);if(sy.test(Aa))return!0;var xb=!1;ty.test(Aa)&&(xb=!0,Aa=Aa.substr(2));if(!/^\{/.test(Aa))return!1;var ic=dy(Aa);if(!ic)return!1;Aa=ic.f;if(ic.s&&Aa&&-1!=eh.call(Ta,Aa)){if("_renderstart"===ic.s||ic.s===bw+"/"+Aa+"::_renderstart")if(ic=ic.a&&ic.a[xb?0:1],Ta=qg.getElementById(Aa),Ov(Aa,2),ic&&Ta&&ic.width&&ic.height){a:{xb=Ta.parentNode;Aa=ic||{};if(Tg()){var Sc=
Ta.id;if(Sc){ic=(ic=Ji[Sc])?ic.state:void 0;if(1===ic||4===ic)break a;aw(Sc)}}(ic=xb.nextSibling)&&ic.getAttribute&&ic.getAttribute("data-gapistub")&&(xb.parentNode.removeChild(ic),xb.style.cssText="");ic=Aa.width;var jd=Aa.height,ke=xb.style;ke.textIndent="0";ke.margin="0";ke.padding="0";ke.background="transparent";ke.borderStyle="none";ke.cssFloat="none";ke.styleFloat="none";ke.lineHeight="normal";ke.fontSize="1px";ke.verticalAlign="baseline";xb=xb.style;xb.display="inline-block";ke=Ta.style;ke.position=
"static";ke.left="0";ke.top="0";ke.visibility="visible";ic&&(xb.width=ke.width=ic+"px");jd&&(xb.height=ke.height=jd+"px");Aa.verticalAlign&&(xb.verticalAlign=Aa.verticalAlign);Sc&&Ov(Sc,3)}Ta["data-csi-wdt"]=(new Date).getTime()}return!0}return!1},CB=function(Aa,Ta){kg(Aa,Ta)},ct=function(Aa,Ta){this.N=Aa;Aa=Ta||{};this.ha=Number(Aa.maxAge)||0;this.W=Aa.domain;this.Y=Aa.path;this.ia=!!Aa.secure};ct.prototype.read=function(){for(var Aa=this.N+"=",Ta=document.cookie.split(/;\s*/),xb=0;xb<Ta.length;++xb){var ic=
Ta[xb];if(0==ic.indexOf(Aa))return ic.substr(Aa.length)}};ct.prototype.write=function(Aa,Ta){if(!DB.test(this.N))throw"Invalid cookie name";if(!Iq.test(Aa))throw"Invalid cookie value";Aa=this.N+"="+Aa;this.W&&(Aa+=";domain="+this.W);this.Y&&(Aa+=";path="+this.Y);Ta="number"===typeof Ta?Ta:this.ha;if(0<=Ta){var xb=new Date;xb.setSeconds(xb.getSeconds()+Ta);Aa+=";expires="+xb.toUTCString()}this.ia&&(Aa+=";secure");document.cookie=Aa;return!0};ct.prototype.clear=function(){this.write("",0)};var Iq=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,
DB=/^[A-Z_][A-Z0-9_]{0,63}$/;ct.iterate=function(Aa){for(var Ta=document.cookie.split(/;\s*/),xb=0;xb<Ta.length;++xb){var ic=Ta[xb].split("="),Sc=ic.shift();Aa(Sc,ic.join("="))}};var dt=function(Aa){this.G=Aa};dt.prototype.read=function(){if(Jq.hasOwnProperty(this.G))return Jq[this.G]};dt.prototype.write=function(Aa){Jq[this.G]=Aa;return!0};dt.prototype.clear=function(){delete Jq[this.G]};var Jq={};dt.iterate=function(Aa){for(var Ta in Jq)Jq.hasOwnProperty(Ta)&&Aa(Ta,Jq[Ta])};var EB="https:"===window.location.protocol,
vy=EB||"http:"===window.location.protocol?ct:dt,wy=function(Aa){var Ta=Aa.substr(1),xb="",ic=window.location.hostname;if(""!==Ta){xb=parseInt(Ta,10);if(isNaN(xb))return null;Ta=ic.split(".");if(Ta.length<xb-1)return null;Ta.length==xb-1&&(ic="."+ic)}else ic="";return{l:"S"==Aa.charAt(0),domain:ic,o:xb}},cw=function(){var Aa,Ta=null;vy.iterate(function(xb,ic){0===xb.indexOf("G_AUTHUSER_")&&(xb=wy(xb.substring(11)),!Aa||xb.l&&!Aa.l||xb.l==Aa.l&&xb.o>Aa.o)&&(Aa=xb,Ta=ic)});return{fa:Aa,K:Ta}},dw=function(Aa){if(!Aa)return[];
Aa=Aa.split("=");return Aa[1]?Aa[1].split("|"):[]},xy=function(Aa){Aa=Aa.split(":");return{clientId:Aa[0].split("=")[1],ka:dw(Aa[1]),na:dw(Aa[2]),ma:dw(Aa[3])}},uu=function(){var Aa=cw(),Ta=Aa.fa;Aa=Aa.K;if(null!==Aa){var xb;vy.iterate(function(jd,ke){(jd=Fc(jd))&&jd.X&&jd.l==Ta.l&&jd.o==Ta.o&&(xb=ke)});if(xb){var ic=xy(xb),Sc=ic&&ic.ka[Number(Aa)];ic=ic&&ic.clientId;if(Sc)return{K:Aa,ja:Sc,clientId:ic}}}return null},FB=function(){this.V=DJ};nh=FB.prototype;nh.aa=function(){this.M||(this.A=0,this.M=
!0,this.Z())};nh.Z=function(){this.M&&(this.V()?this.A=this.T:this.A=Math.min(2*(this.A||this.T),120),window.setTimeout(dc(this.Z,this),1E3*this.A))};nh.A=0;nh.T=2;nh.V=null;nh.M=!1;var GB=null;Tg=function(){return Qg.oa=!0};Ii=function(){Qg.oa=!0;var Aa=uu();(Aa=Aa&&Aa.K)&&Ak("googleapis.config/sessionIndex",Aa);GB||(GB=sg(Qg,"ss",new FB));Aa=GB;Aa.aa&&Aa.aa()};var DJ=function(){var Aa=uu(),Ta=Aa&&Aa.ja||null,xb=Aa&&Aa.clientId;kg("auth",{callback:function(){var ic=Vg.gapi.auth,Sc={client_id:xb,
session_state:Ta};ic.checkSessionState(Sc,function(jd){var ke=Sc.session_state,Hf=!!zk("isLoggedIn");jd=zk("debug/forceIm")?!1:ke&&jd||!ke&&!jd;if(Hf=Hf!==jd)Ak("isLoggedIn",jd),Ii(),tB(),jd||((jd=ic.signOut)?jd():(jd=ic.setToken)&&jd(null));jd=Up();var Nf=zk("savedUserState");ke=ic._guss(jd.cookiepolicy);Nf=Nf!=ke&&"undefined"!=typeof Nf;Ak("savedUserState",ke);(Hf||Nf)&&Hq(jd)&&!zk("disableRealtimeCallback")&&ic._pimf(jd,!0)})}});return!0};kj("bs0",!0,window.gapi._bs);kj("bs1",!0);delete window.gapi._bs}).call(void 0);
Mc.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!1}},inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},
csi:{rate:.01},client:{cors:!1},signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"en",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},
rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},
dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},
":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",
methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",
ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},
plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},
savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.en_US.UYHeVG_mX5s.O/am=AQ/d=1/rs=AGLTcCPDcESMLF74mIvk5CKxuCjzYIf5XA/m=__features__",u:"https://apis.google.com/js/platform.js",
hee:!0,dpo:!1,le:[]},platform:"additnow backdrop blogger comments commentcount community donation family_creation follow hangout health page partnersbadge person playemm playreview plus plusone post ratingbadge savetoandroidpay savetodrive savetowallet sharetoclassroom shortlists signin2 surveyoptin visibility youtube ytsubscribe zoomableimage".split(" "),annotation:["interactivepost","recobar","signin2","autocomplete","profile"]}});var tc=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js");
tc.notify=function(Tc,fb){var uc,Rb,Fc,Uc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vd){switch(vd.nextAddress){case 1:return uc=tc.morph({type:"text",textAlign:"center",textString:fb,fill:null,padding:tc.Rectangle.inset(10),fontSize:30,fontColor:"white",fontWeight:"bold",readOnly:!0,grabbable:!1}),Rb=Math.max(Tc.width+40,uc.width),Fc=Math.max(120,uc.height),Uc=Tc.addMorph({extent:tc.pt(Rb,Fc),border:{radius:8},name:"notification",center:Tc.innerBounds().center(),origin:tc.pt(Rb/
2,Fc/2),fill:tc.Color.gray,scale:.1,grabbable:!1,submorphs:[uc]}),Uc.submorphs[0].center=Uc.innerBounds().center().subPt(tc.pt(Rb/2,Fc/2)),vd.yield(Uc.animate({scale:1,duration:400}),2);case 2:return vd.yield(tc.promise.delay(800),3);case 3:return vd.yield(Uc.animate({opacity:0,duration:400}),4);case 4:Uc.remove(),vd.jumpToEnd()}})};tc.promise=jc;tc.fun=Wc;tc.arr=wc;tc.string=Ud;tc.resource=Kd;tc.pt=he;tc.Rectangle=xd;tc.Color=gd;tc.connect=Ld;tc.once=Pd;tc.signal=af;tc.morph=bf;tc.easings=Ve;tc.touchInputDevice=
Ad;tc.Icon=xe;tc.config=qc;tc.Morph=td;tc.Menu=be;tc.loadMorphFromSnapshot=Bd;tc.createMorphSnapshot=pe;tc.UserRegistry=Se;tc.ClientUser=nc;tc.loadPart=$c;tc.LoadingIndicator=ge;tc.gapi=_missingExportShim;tc.pathForBrowserHistory=ad;tc.ObjectPackage=Yb;tc.interactivelyForkPackage=zb;tc.addScript=Rc;Mc=$a("UserUI",{getCurrentUser:function(){return tc.UserRegistry.current.loadUserFromLocalStorage(tc.config.users.authServerURL)},showUserFlap:function(Tc){Tc=void 0===Tc?$world:Tc;var fb,uc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rb){if(1==
Rb.nextAddress)return Rb.yield(tc.resource("part://SystemIDE/lively top bar master").read(),2);fb=Rb.yieldResult;fb.name="lively top bar";fb.hasFixedPosition=!0;fb.respondsToVisibleWindow=!0;fb.openInWorld();fb.relayout();fb.top=-fb.height;uc=fb.dropShadow;fb.dropShadow=null;fb.attachToTarget(Tc);$world.onTopBarLoaded();Vb.import("./__root_module__-073d42f8.js").then(function(Fc){return Fc.bT}).then(function(Fc){var Uc,vd,Xd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vc){switch(vc.nextAddress){case 1:return vc.yield(fb.whenRendered(),
2);case 2:return vc.yield(fb.animate({position:tc.pt(0,0),dropShadow:uc,duration:500}),3);case 3:if(Tc.metadata){vc.jumpTo(4);break}Tc.animate({customTween:function(Oc){fb.blur=Tc.blur=3*Oc},duration:500});return vc.yield(Tc.askForName(),5);case 5:return Uc=vc.yieldResult,Tc.name=Uc,Tc.changeMetaData("commit",{name:Uc}),window.history&&window.history.pushState({},"lively.next",tc.pathForBrowserHistory(Uc)),vd=tc.ObjectPackage.withId(tc.string.camelCaseString(Uc)),vc.yield(vd.adoptObject(Tc),6);case 6:Tc.animate({customTween:function(Oc){fb.blur=
Tc.blur=3*(1-Oc)},duration:500});case 4:return vc.yield(tc.resource("part://SystemUserUI/version checker").read(),7);case 7:Xd=vc.yieldResult,Xd.name="lively version checker",Xd.openInWorld(),Xd.relayout(),Xd.checkVersion(),vc.jumpToEnd()}})});return Rb.return(fb)})},hideUserFlap:function(Tc){Tc=void 0===Tc?$world:Tc;Tc.submorphs.filter(function(fb){return"user flap"===fb.name&&fb.owner==Tc}).forEach(function(fb){return fb.remove()})},showWidget:function(Tc,fb){fb=void 0===fb?{}:fb;var uc=this,Rb,
Fc,Uc,vd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Xd){if(1==Xd.nextAddress)return Rb=fb,Fc=void 0===Rb.modal?!0:Rb.modal,Uc=void 0===Rb.user?uc.getCurrentUser():Rb.user,Xd.yield(uc.loadMorph(Tc),2);vd=Xd.yieldResult;return Xd.return(vd.run(Fc,fb.world,Uc))})},showUserInfo:function(Tc){Tc=void 0===Tc?{}:Tc;var fb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(uc){return 1==uc.nextAddress?uc.yield(fb.showWidget("user info",Tc),2):uc.return(uc.yieldResult)})},showLogin:function(Tc){Tc=
void 0===Tc?{}:Tc;var fb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(uc){return uc.return(fb.showWidget("login widget",Tc))})},showRegister:function(Tc){Tc=void 0===Tc?{}:Tc;var fb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(uc){return uc.return(fb.showWidget("register widget",Tc))})},loadMorph:function(Tc,fb){var uc,Rb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Fc){switch(Fc.nextAddress){case 1:switch(Tc){case "login widget":return Fc.jumpTo(2);
case "user info":return Fc.jumpTo(3);case "register widget":return Fc.jumpTo(4)}Fc.jumpTo(5);break;case 2:return Fc.yield(tc.resource("part://SystemUserUI/login widget").read(),6);case 6:return Fc.return(Fc.yieldResult);case 3:return Fc.yield(tc.resource("part://SystemUserUI/user info").read(),7);case 7:return Fc.return(Fc.yieldResult);case 4:return Fc.yield(tc.resource("part://SystemUserUI/register widget").read(),8);case 8:return Fc.return(Fc.yieldResult);case 5:return uc=System.decanonicalize("lively.user/morphic/"+
Tc+".json"),Fc.yield(tc.resource(uc).readJson(),9);case 9:return Rb=Fc.yieldResult,Fc.return(tc.loadMorphFromSnapshot(Rb,fb))}})}});tc.UserUI=Mc;tc.UserUI=Mc;tc.UserUI=Mc;(function(Tc){var fb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),uc=fb.hasOwnProperty("UserWidget")&&"function"===typeof fb.UserWidget?fb.UserWidget:fb.UserWidget=function(Rb){Rb&&Rb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ie(uc,
Tc,[{key:"run",value:function(Rb,Fc,Uc){var vd=this;Fc=void 0===Fc?$world:Fc;if(void 0===Rb||Rb)var Xd=Fc.addMorph({name:this.name+" overlay",hasFixedPosition:!0,grabbable:!1,draggable:!1,extent:Fc.extent,fill:tc.Color.black.withA(.4)});this.epiMorph=this.hasFixedPosition=!0;this.activate(Uc);return(new Promise(function(vc,Oc){tc.once(vd,"resolved",vc)})).then(function(vc){vd.remove();Xd&&Xd.remove();return vc})}},{key:"activate",value:function(Rb){Rb=$world;Rb.addMorph(this);this.align(this.worldPoint(this.innerBounds().center()),
Rb.visibleBounds().center());this.focus()}},{key:"onKeyDown",value:function(Rb){"Enter"===Rb.keyCombo&&(this.onEnterPressed(),Rb.stop());"Escape"===Rb.keyCombo&&(this.onEscapePressed(),Rb.stop());"Tab"===Rb.keyCombo&&(this.focusNext(),Rb.stop());"Shift-Tab"===Rb.keyCombo&&(this.focusPrev(),Rb.stop())}},{key:"focusOrder",value:function(){return[]}},{key:"focusNext",value:function(){var Rb=this.focusOrder(),Fc=this.world().focusedMorph;Fc=Rb.indexOf(Fc)+1;Fc>Rb.length-1&&(Fc=0);Rb[Fc].focus()}},{key:"focusPrev",
value:function(){var Rb=this.focusOrder(),Fc=this.world().focusedMorph;Fc=Rb.indexOf(Fc)-1;0>Fc&&(Fc=Rb.length-1);Rb[Fc].focus()}},{key:"onEscapePressed",value:function(){this.close()}},{key:"onEnterPressed",value:function(){}},{key:"close",value:function(){}},{key:"_save",value:function(){var Rb=this,Fc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Uc){if(1==Uc.nextAddress)return Uc.yield(tc.createMorphSnapshot(Rb),2);Fc=Uc.yieldResult;return Uc.yield(lively.modules.module("lively.user/morphic/"+
Rb.name+".json").changeSource(JSON.stringify(Fc,null,2),{doEval:!1}),0)})}},{key:"_htmlExport",value:function(){var Rb=this,Fc,Uc,vd,Xd,vc,Oc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pc){if(1==pc.nextAddress)return Fc=lively.modules.module,Uc=Fc("lively.user/html/"+Rb.name+".html").id,vd=tc.resource(Uc),pc.yield(Fc("lively.morphic/rendering/html-generator.js").load(),2);if(3!=pc.nextAddress)return Xd=pc.yieldResult,vc=Xd.generateHTML,pc.yield(vc(Rb,vd,{isFragment:!0,addStyles:!1}),
3);Oc=pc.yieldResult;return pc.return({resource:vd,html:Oc})})}},{key:"htmlExport_transformNode",value:function(Rb){this.focusOrder().forEach(function(Fc,Uc){return Rb.querySelector("#"+Fc.id).tabIndex=Uc+1});return Rb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserWidget"}},{key:"properties",get:function(){return{user:{}}}}],fb,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:5359,end:8091})})(tc.Morph);Mc=$a("UserInfoWidget",function(Tc){var fb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),uc=fb.hasOwnProperty("UserInfoWidget")&&"function"===typeof fb.UserInfoWidget?fb.UserInfoWidget:fb.UserInfoWidget=function(Rb){Rb&&Rb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ie(uc,Tc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),emailInput:this.getSubmorphNamed("email input"),saveButton:this.getSubmorphNamed("save button"),logoutButton:this.getSubmorphNamed("logout button"),closeButton:this.getSubmorphNamed("close button"),userAvatar:this.getSubmorphNamed("user avatar")}}},{key:"activate",value:function(Rb){ie._get(Object.getPrototypeOf(uc.prototype),"activate",this).call(this,Rb);this.displayUser(Rb)}},{key:"focus",
value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){var Rb=this.ui;return[Rb.userNameInput,Rb.emailInput,Rb.passwordInput,Rb.passwordInput2]}},{key:"onEnterPressed",value:function(){this.trySave()}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(Rb){Rb.draggable=!1;Rb.grabbable=!1});tc.connect(this.ui.saveButton,"fire",this,"trySave");tc.connect(this.ui.logoutButton,"fire",this,"logout");tc.connect(this.ui.closeButton,"onMouseDown",this,"close");this.ui.userNameInput.readOnly=
!0;this.ui.userNameInput.selectable=!0;tc.notify(this,"OK")}},{key:"displayUser",value:function(Rb){Rb=(this.user=Rb)||{};var Fc=Rb.email,Uc=this.ui,vd=Uc.emailInput,Xd=Uc.passwordInput,vc=Uc.passwordInput2,Oc=Uc.userAvatar;Uc.userNameInput.input=Rb.name||"";vd.input=Fc||"";Xd.input="";vc.input="";Oc.imageUrl=tc.resource("https://s.gravatar.com/avatar").join(tc.string.md5(Fc||"")).withQuery({s:320}).url}},{key:"trySave",value:function(){var Rb=this,Fc,Uc,vd,Xd,vc,Oc,pc,bb,Ma,oa,La,Ua,Sb,Ca,Va;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dc){switch(dc.nextAddress){case 1:Fc=
Rb;Uc=Fc.user;vd=Fc.ui;Xd=vd.emailInput;vc=vd.passwordInput;Oc=vd.passwordInput2;if(!Uc)return dc.return(Rb.showError("no user object"));pc=Xd.input;bb=vc.input;Ma=Oc.input;if(Uc.email==pc&&!bb&&!Ma)return dc.return(tc.signal(Rb,"resolved",Uc));if(!bb&&!Ma){dc.jumpTo(2);break}return bb!==Ma?dc.return(Rb.world().inform("Passwords do not match!",{requester:Rb})):dc.yield(Rb.world().passwordPrompt("To set a new password, please enter your old one",{requester:Rb}),3);case 3:return(oa=dc.yieldResult)?
dc.yield(Uc.checkPassword(oa),4):dc.return(Rb.world().inform("Old password needed to change password, aborting!",{requester:Rb}));case 4:if(La=dc.yieldResult,!La)return dc.return(Rb.world().inform("Old password is not correct, aborting!",{requester:Rb}));case 2:return Ua={},bb&&(Ua.password=bb),pc&&(Ua.email=pc),dc.yield(Uc.modify(Ua),5);case 5:return Sb=dc.yieldResult,Ca=Sb.status,(Va=Sb.error)?dc.return(Rb.world().inform("Failed to modify: "+Va,{requester:Rb})):dc.yield(tc.UserRegistry.current.saveUserToLocalStorage(Uc),
6);case 6:return dc.yield(tc.notify(Rb,Ca),7);case 7:Rb.displayUser(Uc),tc.signal(Rb,"resolved",Uc),dc.jumpToEnd()}})}},{key:"logout",value:function(){var Rb=this,Fc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Uc){if(1==Uc.nextAddress)return Uc.yield(tc.UserRegistry.current.logout(Rb.user),2);if(3!=Uc.nextAddress)return Rb.displayUser(Rb.user),Rb.remove(),Uc.yield(tc.UserUI.showLogin({modal:!1}),3);Fc=Uc.yieldResult;tc.signal(Rb,"resolved",Fc);Uc.jumpToEnd()})}},{key:"close",value:function(){tc.signal(this,
"resolved",this.user)}},{key:"onMouseUp",value:function(Rb){var Fc=this.ui,Uc=Fc.closeButton;Fc=Fc.saveButton;switch(Rb.targetMorph){case Uc:this.close();break;case Fc:this.trySave()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserInfoWidget"}}],fb,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",
version:"0.2.0"}}},{start:8100,end:12116})}(tc.UserWidget));tc.UserInfoWidget=Mc;tc.UserInfoWidget=Mc;tc.UserInfoWidget=Mc;Mc=$a("LoginWidget",function(Tc){var fb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),uc=fb.hasOwnProperty("LoginWidget")&&"function"===typeof fb.LoginWidget?fb.LoginWidget:fb.LoginWidget=function(Rb){Rb&&Rb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ie(uc,Tc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
passwordInput:this.getSubmorphNamed("password input"),loginButton:this.getSubmorphNamed("login button"),registerButton:this.getSubmorphNamed("register button"),guestButton:this.getSubmorphNamed("guest button"),emailLoginForm:this.getSubmorphNamed("email login form"),googleLogin:this.getSubmorphNamed("google login"),emailLogin:this.getSubmorphNamed("email login"),appleLogin:this.getSubmorphNamed("apple login")}}},{key:"signInWithGoogle",value:function(){tc.gapi.load("auth2",function(){var Rb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Fc){if(1==
Fc.nextAddress)return tc.gapi.auth2.init({client_id:"CLIENT_ID.apps.googleusercontent.com"}),Rb=tc.gapi.auth2.getAuthInstance(),Fc.yield(Rb.signIn(),2);Fc.jumpToEnd()})})}},{key:"signInWithEmail",value:function(){var Rb=this,Fc,Uc,vd,Xd,vc,Oc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pc){Fc=Rb.ui;Uc=Fc.emailLoginForm;vd=Fc.googleLogin;Xd=Fc.emailLogin;vc=Fc.appleLogin;Oc=tc.easings.inOutExpo;[vd,Xd,vc].map(function(bb){return bb.animate({visible:!1,isLayoutable:!1,easing:Oc,duration:300})});
Uc.animate({visible:!0,isLayoutable:!0,easing:Oc,duration:300});pc.jumpToEnd()})}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.passwordInput]}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(bb){bb.draggable=!1;bb.grabbable=!1});var Rb=this.ui,Fc=Rb.registerButton,Uc=Rb.userNameInput,vd=Rb.appleLogin,Xd=Rb.passwordInput,vc=Rb.emailLoginForm,Oc=Rb.googleLogin,pc=Rb.emailLogin;tc.connect(Rb.loginButton,
"fire",this,"tryLogin");tc.connect(Fc,"fire",this,"switchToRegisterWidget");tc.connect(pc,"fire",this,"signInWithEmail");tc.connect(Oc,"fire",this,"loginWithGoogle");Uc.input="";Xd.input="";vc.isLayoutable=vc.visible=!1;[pc,vd,Oc].map(function(bb){return bb.visible=bb.isLayoutable=!0})}},{key:"onEnterPressed",value:function(){this.tryLogin()}},{key:"tryLogin",value:function(){var Rb=this,Fc,Uc,vd,Xd,vc,Oc,pc,bb,Ma;return $jscomp.asyncExecutePromiseGeneratorProgram(function(oa){switch(oa.nextAddress){case 1:Fc=
Rb;Uc=Fc.ui;vd=Uc.userNameInput;Xd=Uc.passwordInput;vc=vd.input;Oc=Xd.input;if(!vc)return oa.return();pc=tc.ClientUser.named(vc,tc.config.users.authServerURL);oa.setCatchFinallyBlocks(2);return oa.yield(tc.UserRegistry.current.login(pc,Oc),4);case 4:oa.leaveTryBlock(3);break;case 2:Ma=oa.enterCatchBlock(),bb=Ma.message;case 3:if(bb)return tc.signal(Rb,"loginFailed",bb),bb.includes("No user")&&Rb.indicateError(Rb.ui.userNameInput,bb),bb.includes("does not match")&&Rb.indicateError(Rb.ui.passwordInput,
"Password incorrect"),oa.return();tc.notify(Rb,"logged in");tc.signal(Rb,"loginSucceeded",pc);tc.signal(Rb,"resolved",pc);oa.jumpToEnd()}})}},{key:"switchToRegisterWidget",value:function(){var Rb=this,Fc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Uc){if(1==Uc.nextAddress)return Uc.yield(tc.UserUI.showRegister({modal:!1}),2);(Fc=Uc.yieldResult)&&tc.signal(Rb,"resolved",Fc);Uc.jumpToEnd()})}},{key:"continueAsGuest",value:function(){var Rb=this,Fc,Uc,vd,Xd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vc){if(1==
vc.nextAddress)return Fc=tc.UserRegistry.current,Uc=Fc.loadUserFromLocalStorage(tc.config.users.authServerURL),Uc.isGuestUser?(vd=Uc,vc.jumpTo(2)):vc.yield(Fc.login(tc.ClientUser.guest),3);2!=vc.nextAddress&&(vd=vc.yieldResult);Xd=vd;tc.signal(Rb,"resolved",Xd);vc.jumpToEnd()})}},{key:"indicateError",value:function(Rb,Fc){Rb.indicateError(Fc)}},{key:"clearErrors",value:function(){this.ui.userNameInput.clearError();this.ui.passwordInput.clearError()}},{key:"onMouseUp",value:function(Rb){var Fc=this.ui,
Uc=Fc.loginButton;Fc=Fc.registerButton;switch(Rb.targetMorph){case Uc:this.tryLogin();break;case Fc:this.switchToRegisterWidget()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LoginWidget"}}],fb,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:12125,end:16036})}(tc.UserWidget));
tc.LoginWidget=Mc;tc.LoginWidget=Mc;tc.LoginWidget=Mc;Mc=$a("RegisterWidget",function(Tc){var fb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),uc=fb.hasOwnProperty("RegisterWidget")&&"function"===typeof fb.RegisterWidget?fb.RegisterWidget:fb.RegisterWidget=function(Rb){Rb&&Rb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ie(uc,Tc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
emailInput:this.getSubmorphNamed("email input"),passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),registerButton:this.getSubmorphNamed("register button"),cancelButton:this.getSubmorphNamed("cancel button")}}},{key:"onEnterPressed",value:function(){this.tryRegister()}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.emailInput,this.ui.passwordInput,this.ui.passwordInput2]}},
{key:"reset",value:function(){this.withAllSubmorphsDo(function(Rb){Rb.draggable=!1;Rb.grabbable=!1});tc.connect(this.ui.registerButton,"fire",this,"tryRegister");tc.connect(this.ui.cancelButton,"fire",this,"close");this.ui.userNameInput.readOnly=!0;this.ui.userNameInput.selectable=!0;tc.notify(this,"OK")}},{key:"displayUser",value:function(Rb){this.user=Rb}},{key:"tryRegister",value:function(){var Rb=this,Fc,Uc,vd,Xd,vc,Oc,pc,bb,Ma,oa,La,Ua,Sb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ca){switch(Ca.nextAddress){case 1:Fc=
Rb;Uc=Fc.ui;vd=Uc.userNameInput;Xd=Uc.emailInput;vc=Uc.passwordInput;Oc=Uc.passwordInput2;pc=vd.input;bb=Xd.input;Ma=vc.input;oa=Oc.input;if(!(pc&&Ma&&oa&&bb))return pc||vd.indicateError("Please enter a user name!"),bb||Xd.indicateError("Please enter E-Mail address!"),Ma||vc.indicateError("Please enter a password!"),oa||Oc.indicateError("Please repeat your password!"),Ca.return();if(Ma!==oa)return Oc.indicateError("Passwords do not match!"),Ca.return();La=tc.ClientUser.named(pc,tc.config.users.authServerURL);
bb&&(La.email=bb);Ca.setCatchFinallyBlocks(2);return Ca.yield(tc.UserRegistry.current.register(La,Ma),4);case 4:Ca.leaveTryBlock(3);break;case 2:Ua=Sb=Ca.enterCatchBlock();case 3:return Ua?Ca.return(Rb.world().inform("Failed to register: "+Ua,{requester:Rb})):Ca.yield(tc.notify(Rb,"registered"),5);case 5:Rb.displayUser(La),tc.signal(Rb,"resolved",La),Ca.jumpToEnd()}})}},{key:"close",value:function(){tc.signal(this,"resolved",this.user)}},{key:"onMouseUp",value:function(Rb){var Fc=this.ui,Uc=Fc.registerButton;
Fc=Fc.cancelButton;switch(Rb.targetMorph){case Uc:this.tryRegister();break;case Fc:this.close()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RegisterWidget"}}],fb,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:16045,end:18939})}(tc.UserWidget));tc.RegisterWidget=
Mc;tc.RegisterWidget=Mc;tc.RegisterWidget=Mc;Mc=$a("UserFlap",function(Tc){var fb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),uc=fb.hasOwnProperty("UserFlap")&&"function"===typeof fb.UserFlap?fb.UserFlap:fb.UserFlap=function(Rb){Rb&&Rb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ie(uc,Tc,[{key:"isUserFlap",get:function(){return!0}},{key:"isMaximized",get:function(){return 3<this.submorphs.length}},{key:"onLoad",
value:function(){var Rb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Fc){if(1==Fc.nextAddress)return Fc.yield(Rb.whenRendered(),2);if([Rb].concat($jscomp.arrayFromIterable(Rb.ownerChain())).find(function(Uc){return Uc.isComponent}))return Fc.return();Rb.showUser(Rb.currentUser());Fc.jumpToEnd()})}},{key:"open",value:function(){var Rb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Fc){Rb.openInWorld();Rb.showUser(Rb.currentUser(),!1);Rb.alignInWorld(!1);Rb.hasFixedPosition=
!0;return Fc.return(Rb)})}},{key:"onMouseDown",value:function(Rb){var Fc=this,Uc,vd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Xd){switch(Xd.nextAddress){case 1:Uc=Rb.targetMorph.name;vd=Fc.currentUser();switch(Uc){case "profile item":return Xd.return(Fc.showUserInfo(vd));case "logout item":return Xd.jumpTo(2);case "login item":return Xd.jumpTo(3);case "register item":Fc.showRegister();break;case "user flap":Fc.maximize();break;case "keyboard input":Fc.toggleKeyboardInput()}Xd.jumpTo(0);
break;case 2:return Xd.yield(Fc.minimize(),5);case 5:return Xd.yield(Fc.logout(vd),6);case 6:return Xd.return();case 3:return Xd.yield(Fc.showLogin(vd),7);case 7:return Xd.return()}})}},{key:"toggleKeyboardInput",value:function(Rb){Rb=void 0===Rb?!tc.touchInputDevice:Rb;tc.touchInputDevice=Rb;var Fc=this.get("keyboard input");Rb?(Fc.fontColor=tc.Color.rgb(0,176,255),Fc.dropShadow=this.haloShadow):(Fc.fontColor=this.fontColor,Fc.dropShadow=!1)}},{key:"currentUser",value:function(){return tc.UserRegistry.current.loadUserFromLocalStorage(tc.config.users.authServerURL)}},
{key:"onUserChanged",value:function(Rb){this.showUser(Rb.user||{name:"???"},!1)}},{key:"onWorldResize",value:function(Rb){!this.isComponent&&this.alignInWorld()}},{key:"relayout",value:function(){this.alignInWorld()}},{key:"alignInWorld",value:function(Rb){var Fc=this,Uc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vd){if(1==vd.nextAddress)return vd.yield(Fc.whenRendered(),2);Fc.hasFixedPosition&&Fc.owner.isWorld?Fc.topRight=tc.pt(Fc.world().visibleBounds().width,0):Fc.owner.isWorld&&
(Uc=$world.visibleBounds().topRight().withY(0).subXY(10,0),Rb?Fc.animate({topRight:Uc,duration:200}):Fc.topRight=Uc);vd.jumpToEnd()})}},{key:"minimize",value:function(){var Rb=this,Fc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Uc){if(1==Uc.nextAddress)return(Fc=Rb.getSubmorphNamed("user menu"))?Uc.yield(Fc.animate({opacity:0,scale:.8,duration:200}),2):Uc.return();Fc.visible=!1;Uc.jumpToEnd()})}},{key:"ensureMenu",value:function(){var Rb=this,Fc,Uc,vd,Xd,vc,Oc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pc){switch(pc.nextAddress){case 1:if(!Rb._menuFetch){pc.jumpTo(2);
break}return pc.yield(Rb._menuFetch,3);case 3:return pc.return(pc.yieldResult);case 2:Fc=tc.promise.deferred();Rb._menuFetch=Fc.promise;if(Uc=Rb.getSubmorphNamed("user menu")){pc.jumpTo(4);break}vd=Rb;Xd=vd.addMorph;vc=vd;return pc.yield(tc.resource("part://SystemIDE/user menu master").read(),5);case 5:Uc=Xd.call(vc,pc.yieldResult);case 4:Oc=Uc,Oc.name="user menu",Oc.visible=!1,Oc.opacity=0,Oc.scale=.8,Oc.position=Rb.getSubmorphNamed("avatar").bottomCenter.addXY(0,10),Fc.resolve(Oc),pc.jumpToEnd()}})}},
{key:"maximize",value:function(){var Rb=this,Fc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Uc){if(1==Uc.nextAddress)return(Fc=Rb.getSubmorphNamed("user menu"))?Uc.jumpTo(2):Uc.yield(Rb.ensureMenu(),3);2!=Uc.nextAddress&&(Fc=Uc.yieldResult);Fc.right=Rb.width-5;Fc.visible=!0;return Uc.yield(Fc.animate({opacity:1,scale:1,duration:200}),0)})}},{key:"changeWidthAndHeight",value:function(Rb,Fc,Uc){var vd=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Xd){return Uc?Xd.yield(vd.animate({position:vd.position.addXY(vd.width-
Rb,0),extent:tc.pt(Rb,Fc),duration:200}),0):(vd.extent=tc.pt(Rb,Fc),vd.position=vd.position.addXY(vd.width-Rb,0),Xd.jumpTo(0))})}},{key:"showMenuItems",value:function(Rb){var Fc=this;tc.arr.withoutAll(["login item","logout item","profile item","register item"],Rb).map(function(Uc){return Fc.getSubmorphNamed(Uc)}).forEach(function(Uc){Uc.visible=!1;Uc.bringToFront()});Rb.map(function(Uc){return Fc.getSubmorphNamed(Uc)}).forEach(function(Uc){Uc.visible=!0})}},{key:"showUser",value:function(Rb,Fc){var Uc=
this,vd,Xd,vc,Oc,pc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(bb){switch(bb.nextAddress){case 1:return vd=Uc.getSubmorphNamed("label"),Xd=Uc.getSubmorphNamed("user menu"),vc=Uc.getSubmorphNamed("avatar"),Uc.getSubmorphNamed("login item"),Uc.getSubmorphNamed("logout item"),Uc.getSubmorphNamed("profile item"),Oc=String(Rb.name),pc=tc.resource("https://s.gravatar.com/avatar").join(tc.string.md5(Rb.email||"")).withQuery({s:160}).url,bb.yield(Uc.ensureMenu(),2);case 2:Oc.startsWith("guest-")?
(Uc.showMenuItems(["login item","register item"]),Oc="guest"):Uc.showMenuItems(["logout item","profile item"]);vd.value=Oc;vc.imageUrl=pc;if(!Xd){bb.jumpTo(3);break}return bb.yield(Xd.master.whenApplied(),4);case 4:Xd.position=vc.bottomCenter.addXY(0,10);case 3:return bb.yield(Uc.whenRendered(),5);case 5:Uc.alignInWorld(),bb.jumpToEnd()}})}},{key:"showRegister",value:function(){return tc.UserUI.showRegister()}},{key:"showUserInfo",value:function(Rb){return tc.UserUI.showUserInfo({user:Rb})}},{key:"showLogin",
value:function(Rb){return tc.UserUI.showLogin({user:Rb})}},{key:"logout",value:function(Rb){return tc.UserRegistry.current.logout(Rb)}},{key:"onBlur",value:function(Rb){var Fc=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Uc){if(1==Uc.nextAddress)return Fc.minimize(),Uc.yield(Fc.whenRendered(),2);Fc.world().focusedMorph.ownerChain().includes(Fc)&&Fc.focus();Uc.jumpToEnd()})}},{key:"showMenu",value:function(Rb,Fc){Fc=void 0===Fc?!1:Fc;var Uc=this,vd,Xd,vc,Oc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pc){vd=
Uc.getSubmorphNamed("label");Xd=Uc.getSubmorphNamed("avatar");vc=["open chat",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(bb){bb.jumpToEnd()})}];Oc=Object.assign(tc.Menu.forItems(Rb.isGuestUser?[vc,["login",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(bb){Uc.minimize();Uc.showLogin(Rb);bb.jumpToEnd()})}]]:[["show user info",function(){Uc.minimize();Uc.showUserInfo(Rb)}],vc,["logout",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(bb){if(1==
bb.nextAddress)return bb.yield(Uc.minimize(),2);Uc.logout(Rb);bb.jumpToEnd()})}]]),{name:"menu",position:tc.pt(10,5),dropShadow:!1,opacity:Fc?0:1,borderWidth:0,fontSize:12,fontFamily:"Helvetica Neue, Verdana, Sans Serif"});Xd.visible=!1;vd.visible=!1;Uc.addMorph(Oc);Fc&&Oc.animate({opacity:1,duration:200});return pc.yield(Uc.changeWidthAndHeight(Oc.width+20,Oc.height+10,Fc),0)})}},{key:"updateNetworkIndicator",value:function(Rb){var Fc="red";Rb&&(Rb.isOnline()&&(Fc="yellow"),Rb.isRegistered()&&(Fc=
"green"));this.get("network-indicator").animate({fill:tc.Color[Fc],duration:300})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserFlap"}},{key:"properties",get:function(){return{submorphs:{initialize:function(){this.submorphs=[{type:"label",name:"label",fontSize:12,fontFamliy:"Helvetica Neue, Verdana, Sans Serif",fontWeight:"bold",padding:tc.Rectangle.inset(4),reactsToPointer:!1},tc.Icon.makeLabel("user",{name:"avatar",fontColor:tc.Color.black.withA(.3),fontSize:12,clipMode:"hidden",
padding:tc.Rectangle.inset(2,2,4,0),borderWidth:1,borderColor:tc.Color.black.withA(.3),extent:tc.pt(20,20),borderRadius:10}),{name:"network-indicator",fill:tc.Color.red,borderRadius:5,extent:tc.pt(5,5),position:tc.pt(5,8),reactsToPointer:!1}]}},fontColor:{after:["submorphs"],set:function(Rb){this.setProperty("fontColor",Rb)}},name:{initialize:function(){this.name="user flap"}},epiMorph:{defaultValue:!0},clipMode:{defaultValue:"hidden"},draggable:{defaultValue:!1},grabbable:{defaultValue:!1},acceptsDrops:{defaultValue:!1},
fill:{defaultValue:tc.Color.white},borderRadiusBottom:{defaultValue:10},borderRadiusLeft:{defaultValue:10},borderRadiusRight:{defaultValue:10},nativeCursor:{defaultValue:"pointer"},respondsToVisibleWindow:{defaultValue:!0},haloColor:{readOnly:!0,get:function(){return tc.Color.rgb(0,176,255)}},haloShadow:{readOnly:!0,get:function(){return{distance:2,rotation:45,color:tc.Color.rgba(64,196,255,.4),inset:!1,blur:6,spread:0,fast:!1}}}}}}],fb,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:18948,end:28078})}(tc.Morph));tc.UserFlap=Mc;tc.UserFlap=Mc;tc.UserFlap=Mc}}});
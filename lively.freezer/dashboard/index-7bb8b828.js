System.register(["./__root_module__-f418f9fd.js","./world-edf3c374.js","./index-96ee3fea.js"],function(){var Ha,tb,Ab,kc,ac,Ld,Tc,$d,Uc,Pc,Jd,pe,Ze,Ff,te,Bc,sd,le,jc,je,Ae,Dc,Mc,bc,Gc,Zc,Rd,Kd,rb;return{setters:[function(ob){Ha=ob.aO;tb=ob.a7;Ab=ob.a8;kc=ob.bj;ac=ob.a6;Ld=ob.ac;Tc=ob.ad;$d=ob.ay;Uc=ob.ax;Pc=ob.ab;Jd=ob.av;pe=ob.aK;Ze=ob.a3;Ff=ob.a1;te=ob.C;Bc=ob.aF;sd=ob.ak;le=ob.bS;jc=ob.bA;je=ob.af;Ae=ob.aJ;Dc=ob.aP;Mc=ob.bz;bc=ob.bx;Gc=ob.bq;Zc=ob.bU},function(ob){Rd=ob.C},function(ob){Kd=
ob.N;rb=ob.I}],execute:function(){var ob=lively.FreezerRuntime.recorderFor("lively.ide/text/ui.js");ob.fun=Ha;ob.string=tb;ob.obj=Ab;ob.properties=kc;ob.arr=ac;ob.Text=Ld;ob.config=Tc;ob.HorizontalLayout=$d;ob.VerticalLayout=Uc;ob.morph=Pc;ob.Morph=Jd;ob.Icon=pe;ob.pt=Ze;ob.Rectangle=Ff;ob.Color=te;ob.connect=Bc;ob.once=sd;ob.noUpdate=le;ob.ColorPicker=Rd;ob.DropDownList=jc;ob.loadObjectFromPartsbinFolder=je;ob.cachedControls=new WeakMap;var Bb=function(Qa){var Eb=lively.FreezerRuntime.recorderFor("lively.ide/text/ui.js"),
rc=Eb.hasOwnProperty("RichTextControl")&&"function"===typeof Eb.RichTextControl?Eb.RichTextControl:Eb.RichTextControl=function(qb){qb&&qb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ae(rc,Qa,[{key:"toggleButton",value:function(qb,sb){qb.master=sb?{auto:"styleguide://SystemIDE/selected button"}:{auto:"styleguide://System/dark button"}}},{key:"reset",value:function(){var qb=this.ui.fontSelection;qb.items=ob.RichTextControl.basicFontItems();
qb.selection=qb.items[0].value;ob.connect(this.target,"selectionChange",this,"update")}},{key:"alignAtTarget",value:function(qb){qb=void 0===qb?!!this.world():qb;var sb=this.target,kb=sb.world()||$world,ha=this.globalBounds();sb=(sb.selection.isEmpty()?sb.globalBounds():sb.getGlobalTransform().transformRectToRect(sb.selectionBounds().translatedBy(sb.scroll.negated()))).bottomCenter().subPt(ha.topCenter());kb=kb.visibleBounds().translateForInclusion(ha.translatedBy(sb)).topLeft().subPt(ha.topLeft());
kb=this.position.addPt(kb);qb?this.animate({duration:300,position:kb}):this.position=kb}},{key:"removeFocus",value:function(){this.autoRemove&&this.target&&(this.remove(),this.target=null)}},{key:"focusOn",value:function(qb,sb){sb=void 0===sb?!0:sb;var kb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){if(1==ha.nextAddress)return kb.target=qb,kb.update(),ha.yield(kb.whenRendered(),2);kb.ui.fontSizeField.relayout();sb&&kb.alignAtTarget();ha.jumpToEnd()})}},{key:"setupConnections",
value:function(){ob.connect(this.ui.paddingField,"number",this,"setPadding");ob.connect(this.ui.paddingFieldTop,"number",this,"setPaddingTop");ob.connect(this.ui.paddingFieldBottom,"number",this,"setPaddingBottom");ob.connect(this.ui.paddingFieldLeft,"number",this,"setPaddingLeft");ob.connect(this.ui.paddingFieldRight,"number",this,"setPaddingRight")}},{key:"update",value:function(){var qb=this,sb=this.target,kb=this.updateSpec,ha=sb.selection;ha=ha?ha.isEmpty()?sb.textAttributeAt(ha.start):sb.getStyleInRange(ha):
{};var Pa=this.managedProps,T=ob.obj.select(sb,Pa);sb=$jscomp.makeIterator(Object.entries(ob.obj.select(ha||{},Pa)));for(ha=sb.next();!ha.done;ha=sb.next())Pa=$jscomp.makeIterator(ha.value),ha=Pa.next().value,Pa=Pa.next().value,"undefined"!==typeof Pa&&(T[ha]=Pa);ob.noUpdate(function(){for(var ia=$jscomp.makeIterator(Object.entries(qb.ui)),Fa=ia.next();!Fa.done;Fa=ia.next()){var $a=$jscomp.makeIterator(Fa.value);Fa=$a.next().value;$a=$a.next().value;if(kb[Fa])kb[Fa](T,$a)}})}},{key:"relayout",value:function(){}},
{key:"changeAttributeInSelectionOrMorph",value:function(qb,sb){var kb=this.target,ha=kb.selection;kb.isLabel||ha.isEmpty()?kb[qb]="function"===typeof sb?sb(kb[qb]):sb:(kb.undoManager.group(),kb.changeStyleProperty(qb,function(Pa){return"function"===typeof sb?sb(Pa):sb}),kb.undoManager.group())}},{key:"changeFont",value:function(qb){var sb=this,kb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){if(1==ha.nextAddress)return sb._last=qb,(kb="custom..."===qb)?ha.yield($world.prompt("Enter font family name",
{requester:sb.target,historyId:"lively.morphic-rich-text-font-names",useLastInput:!0}),3):ha.jumpTo(2);if(2!=ha.nextAddress&&(qb=ha.yieldResult,!qb))return ha.return();sb.changeAttributeInSelectionOrMorph("fontFamily",qb);ha.jumpToEnd()})}},{key:"setPadding",value:function(qb){this.target.padding=ob.Rectangle.inset(qb)}},{key:"setPaddingTop",value:function(qb){var sb=this.target.padding;this.target.padding=ob.Rectangle.inset(sb.left(),qb,sb.right(),sb.bottom())}},{key:"setPaddingLeft",value:function(qb){var sb=
this.target.padding;this.target.padding=ob.Rectangle.inset(qb,sb.top(),sb.right(),sb.bottom())}},{key:"setPaddingRight",value:function(qb){var sb=this.target.padding;this.target.padding=ob.Rectangle.inset(sb.left(),sb.top(),qb,sb.bottom())}},{key:"setPaddingBottom",value:function(qb){var sb=this.target.padding;this.target.padding=ob.Rectangle.inset(sb.left(),sb.top(),sb.right(),qb)}},{key:"setLineWrapping",value:function(qb){this.target.lineWrapping=qb}},{key:"changeFontWeight",value:function(qb){this.changeAttributeInSelectionOrMorph("fontWeight",
qb)}},{key:"changeTextAlign",value:function(qb){this.changeAttributeInSelectionOrMorph("textAlign",qb)}},{key:"changeFontColor",value:function(qb){this.changeAttributeInSelectionOrMorph("fontColor",qb)}},{key:"changeFontSize",value:function(qb){this.changeAttributeInSelectionOrMorph("fontSize",qb)}},{key:"changeFixedWidth",value:function(qb){this.target.fixedWidth=qb}},{key:"changeFixedHeight",value:function(qb){this.target.fixedHeight=qb}},{key:"changeLink",value:function(){var qb=this,sb,kb,ha,
Pa,T;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ia){if(1==ia.nextAddress)return sb=qb.target,kb=sb.selection,ha=sb.getStyleInRange(kb),Pa=ha.link,ia.yield(qb.world().prompt("Set link",{input:Pa||"https://"}),2);T=ia.yieldResult;sb.undoManager.group();sb.setStyleInRange({link:T||void 0},kb);sb.undoManager.group();qb.autoRemove&&qb.remove();ia.jumpToEnd()})}},{key:"toggleUnderline",value:function(){this.changeAttributeInSelectionOrMorph("textDecoration",function(qb){return"underline"===
qb?"none":"underline"})}},{key:"toggleItalic",value:function(){this.changeAttributeInSelectionOrMorph("fontStyle",function(qb){return"italic"===qb?"normal":"italic"})}},{key:"toggleBold",value:function(){this.changeAttributeInSelectionOrMorph("fontWeight",function(qb){return"bold"===qb||"700"===qb?"normal":"bold"})}},{key:"copyStyle",value:function(){var qb=this,sb=this.target,kb=this.ui.applyStyleButton;sb=sb.selection.isEmpty()?sb.defaultTextStyle:sb.getStyleInRange(sb.selection);var ha=JSON.stringify(sb,
null,2);this.constructor.copiedStyle=sb;kb.tooltip="paste style\n"+ha;this.env.eventDispatcher.doCopyWithMimeTypes([{type:"text/plain",data:ha},{type:"application/morphic-text-style",styleString:ha}]).then(function(){return qb.setStatusMessage("Copied style\n"+ha)}).catch(function(Pa){return qb.showError(Pa)})}},{key:"pasteStyle",value:function(){var qb=this,sb=this.target,kb=this.constructor.copiedStyle;sb.selection.isEmpty()?Object.assign(sb,kb):sb.selections.forEach(function(ha){return sb.addTextAttribute(qb.constructor.copiedStyle,
ha)});this.update()}},{key:"clearStyle",value:function(){var qb=this.target;qb.selections.forEach(function(sb){return qb.resetStyleInRange(sb)});this.update()}},{key:"configureRichTextOptions",value:function(){this.getSubmorphNamed("config panel")&&this.getSubmorphNamed("config panel").remove();var qb=this.defaultSpec,sb=this.uiSpec;qb=this.addMorph({name:"config panel",layout:new ob.VerticalLayout({spacing:5}),epiMorph:!0,submorphs:[].concat($jscomp.arrayFromIterable(Object.keys(qb).map(function(kb){var ha=
sb.rows.some(function(Pa){return Pa.some(function(T){return T===kb})});return{type:"labeledcheckbox",label:kb,name:kb,checked:ha}})),[{layout:new ob.HorizontalLayout({spacing:3}),submorphs:[{type:"button",name:"OK button",label:"OK"},{type:"button",name:"cancel button",label:"Cancel"}]}])});qb.center=this.innerBounds().center();ob.connect(qb.getSubmorphNamed("OK button"),"fire",this,"configureAccepted");ob.connect(qb.getSubmorphNamed("cancel button"),"fire",this,"configureCanceled")}},{key:"configureAccepted",
value:function(){var qb=this.getSubmorphNamed("config panel");qb&&(qb.remove(),qb.submorphs.filter(function(sb){return"LabeledCheckBox"===sb.constructor.name}))}},{key:"configureCanceled",value:function(){var qb=this.getSubmorphNamed("config panel");qb&&qb.remove()}},{key:"close",value:function(){var qb=this;this.target&&this.target.attributeConnections&&this.target.attributeConnections.forEach(function(sb){return sb.targetObj===qb&&sb.disconnect()});this.remove()}},{key:"alwaysTargetFocusedMorph",
value:function(){this.startStepping(1500,"updateTarget")}},{key:"updateTarget",value:function(){var qb=this.world();qb&&(qb=qb.focusedMorph)&&(qb.isLabel||qb.isText)&&!this.isAncestorOf(qb)&&this.target!==qb&&this.focusOn(qb,!1)}},{key:"onMouseUp",value:function(qb){var sb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(kb){if(1==kb.nextAddress)return kb.yield(sb.whenRendered(),2);sb.update();kb.jumpToEnd()})}},{key:"attachToWorld",value:function(){ob.connect($world,"onMouseDown",
this,"updateTarget",{garbageCollect:!0})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RichTextControl"}},{key:"properties",get:function(){return{autoRemove:{defaultValue:!1},target:{},toggleColor:{},managedProps:{readOnly:!0,get:function(){return"fontFamily fontWeight fontSize fontStyle isText fontColor textAlign link textDecoration fixedWidth fixedHeight lineWrapping padding".split(" ")}},updateSpec:{get:function(){var qb=this;return Object.assign({fontSelection:function(sb,kb){var ha=
sb.fontFamily;(sb=ha&&kb.items.find(function(Pa){return Pa.value.toLowerCase()===ha.toLowerCase()}))?kb.selection=sb.value:ha&&(kb.items=kb.items.concat({isListItem:!0,label:[ha,{fontFamily:ha}],value:ha}),kb.selection=ob.arr.last(kb.items));kb.fit();kb.width=Math.max(kb.width,170)},fontWeightSelection:function(sb,kb){kb.selection="normal"==sb.fontWeight?"Medium":sb.fontWeight?ob.string.capitalize(sb.fontWeight):"Medium"},boldButton:function(sb,kb){qb.toggleButton(kb,"bold"===sb.fontWeight)},italicButton:function(sb,
kb){qb.toggleButton(kb,"italic"===sb.fontStyle)},underlineButton:function(sb,kb){qb.toggleButton(kb,"underline"===sb.textDecoration)},linkButton:function(sb,kb){qb.toggleButton(kb,!!sb.link)},colorPicker:function(sb,kb){kb.colorValue=sb.fontColor},fontSizeField:function(sb,kb){kb.number=sb.fontSize},fixedWidthControl:function(sb,kb){sb.isText?kb.enable():kb.disable();kb.checked=sb.fixedWidth},fixedHeightControl:function(sb,kb){sb.isText?kb.enable():kb.disable();kb.checked=sb.fixedHeight},lineWrappingControl:function(sb,
kb){var ha=$jscomp.makeIterator(kb.submorphs);kb=ha.next().value;ha=ha.next().value;kb.checked=!!sb.lineWrapping;sb.isText?kb.enable():kb.disable();ha.deactivated=!sb.lineWrapping;ha.deactivated?ha.opacity=.5:(ha.opacity=1,ha.selection=sb.lineWrapping)},paddingControl:function(sb,kb){var ha=sb.padding,Pa=ha.left();sb=ha.top();var T=ha.right();ha=ha.bottom();var ia=!ob.arr.every([Pa,sb,T,ha],function(Fa){return Fa==Pa});kb.get("multi value indicator").visible=ia;ob.connect(kb.get("multi value indicator"),
"onMouseDown",kb.get("padding field"),"number",{converter:"() => left",varMapping:{left:Pa}});kb.get("padding field").number=Pa;kb.get("padding field").visible=!ia;kb.get("padding field top").number=sb;kb.get("padding field left").number=Pa;kb.get("padding field right").number=T;kb.get("padding field bottom").number=ha}},["left","center","right","block"].reduce(function(sb,kb){sb[kb+"Align"]=function(ha,Pa){Pa.deactivated=!ha.isText;qb.toggleButton(Pa,ha.textAlign==kb)};return sb},{}))}},ui:{get:function(){var qb=
this,sb={fontSelection:"font selection",fontWeightSelection:"font weight selection",boldButton:"bold button",italicButton:"italic button",underlineButton:"underline button",linkButton:"link button",leftAlign:"left align",centerAlign:"center align",rightAlign:"right align",blockAlign:"block align",fontSizeField:"font size field",colorPicker:"color picker",copyStyleButton:"copy style",applyStyleButton:"apply style",removeStyleButton:"remove style",fixedHeightControl:"fixed height control",fixedWidthControl:"fixed width control",
lineWrappingControl:"line wrapping control",paddingControl:"padding control",paddingField:"padding field",paddingFieldTop:"padding field top",paddingFieldLeft:"padding field left",paddingFieldRight:"padding field right",paddingFieldBottom:"padding field bottom"};return ob.obj.extract(sb,ob.obj.keys(sb),function(kb,ha){return qb.getSubmorphNamed(ha)})}}}}},{key:"openDebouncedFor",value:function(qb){var sb=qb.selection;if(sb.isEmpty()){var kb=ob.cachedControls.get(qb);kb&&(kb.update(),kb.alignAtTarget(),
kb.world()||qb.world().addMorph(kb))}else ob.fun.debounceNamed(qb.id+"openRichTextControl",600,function(){var ha=ob.cachedControls.get(qb);sb.isEmpty()?ha&&ha.removeFocus():(ha&&ha.world()||(ha=new ob.RichTextControl,ob.cachedControls.set(qb,ha)),qb.world().addMorph(ha),ha.focusOn(qb,!0),ha.alwaysTargetFocusedMorph())})()}},{key:"openFor",value:function(qb){var sb=ob.cachedControls.get(qb);sb?sb.update():(sb=new ob.RichTextControl,ob.cachedControls.set(qb,sb),sb.focusOn(qb,!0),sb.alwaysTargetFocusedMorph());
sb.alignAtTarget();sb.world()||qb.world().addMorph(sb);return sb}}],Eb,{pathInPackage:function(){return"text/ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:624,end:17067})}(ob.Morph);ob.RichTextControl=Bb;ob.RichTextControl=Bb;ob.RichTextControl=Bb;Bb=lively.FreezerRuntime.recorderFor("ProtoSearchField/index.js");Bb.SearchField=
Dc;var Va=function(Qa){var Eb=lively.FreezerRuntime.recorderFor("ProtoSearchField/index.js"),rc=Eb.hasOwnProperty("ProtoSearchField")&&"function"===typeof Eb.ProtoSearchField?Eb.ProtoSearchField:Eb.ProtoSearchField=function(qb){qb&&qb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ae(rc,Qa,void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ProtoSearchField"}},{key:"properties",get:function(){return{master:{initialize:function(){}}}}}],
Eb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ProtoSearchField",version:"0.1.1-0"}}},{start:76,end:221})}(Bb.SearchField);Va=Bb.ProtoSearchField;Bb.default=Va;var Ta=lively.FreezerRuntime.recorderFor("ProtoTree/index.js");Ta.Tree=Mc;Ta.TreeData=bc;Bb=function(Qa){var Eb=lively.FreezerRuntime.recorderFor("ProtoTree/index.js"),
rc=Eb.hasOwnProperty("TestTreeData")&&"function"===typeof Eb.TestTreeData?Eb.TestTreeData:Eb.TestTreeData=function(qb){qb&&qb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ae(rc,Qa,[{key:"display",value:function(qb){return qb.name}},{key:"isCollapsed",value:function(qb){return qb.isCollapsed}},{key:"collapse",value:function(qb,sb){qb.isCollapsed=sb}},{key:"getChildren",value:function(qb){return qb.isLeaf?null:qb.isCollapsed?[]:
qb.children}},{key:"isLeaf",value:function(qb){return qb.isLeaf}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TestTreeData"}}],Eb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ProtoTree",version:"0.1.1-2"}}},{start:113,end:417})}(Ta.TreeData);Ta.TestTreeData=Bb;Ta.TestTreeData=Bb;Ta.TestTreeData=Bb;Bb=function(Qa){var Eb=
lively.FreezerRuntime.recorderFor("ProtoTree/index.js"),rc=Eb.hasOwnProperty("ProtoTree")&&"function"===typeof Eb.ProtoTree?Eb.ProtoTree:Eb.ProtoTree=function(qb){qb&&qb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ae(rc,Qa,void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ProtoTree"}},{key:"properties",get:function(){return{treeData:{initialize:function(){this.treeData=new Ta.TestTreeData({name:"root",isCollapsed:!1,
isLeaf:!1,children:[{name:"child 1",isLeaf:!0},{name:"child 2",isLeaf:!1,isCollapsed:!0,children:[{name:"child 2 - 1",isLeaf:!0}]},{name:"child 3",isLeaf:!1,isCollapsed:!1,children:[{name:"child 3 - 1",isLeaf:!0},{name:"child 3 - 2",isLeaf:!0}]},{name:"child 4",isLeaf:!0}]})}},master:{initialize:function(){}}}}}],Eb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"ProtoTree",version:"0.1.1-2"}}},{start:434,end:1297})}(Ta.Tree);Bb=Ta.ProtoTree;Ta.default=Bb;var xa=lively.FreezerRuntime.recorderFor("RadioButton/index.js");xa.Morph=Jd;xa.Color=te;xa.pt=Ze;xa.connect=Bc;xa.Closure=Gc;Bb=function(Qa){var Eb=lively.FreezerRuntime.recorderFor("RadioButton/index.js"),rc=Eb.hasOwnProperty("RadioButton")&&"function"===typeof Eb.RadioButton?Eb.RadioButton:Eb.RadioButton=function(qb){qb&&qb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Ae(rc,Qa,[{key:"reset",value:function(){var qb=this.indicator;qb.borderWidth=1;qb.borderColor=xa.Color.gray;this.selected=!1;xa.connect(qb,"onMouseUp",this,"select")}},{key:"morph",get:function(){var qb=this.indicator;return this.submorphs.find(function(sb){return sb!==qb})}},{key:"morph",set:function(qb){var sb=this.indicator;this.submorphs.forEach(function(kb){kb!==sb&&kb.remove()});qb.position=xa.pt(50,0);this.addMorph(qb)}},{key:"value",get:function(){if(!this.valueFn){try{var qb=
JSON.parse(this.valueFunctionString)}catch(sb){qb=this.valueFunctionString}this.valueFn=xa.Closure.fromSource(qb).recreateFunc()}return this.morph?this.valueFn(this.morph):void 0}},{key:"onMouseDown",value:function(qb){this.select()}},{key:"select",value:function(){this.selected=!0;this.owner.setSelection(this)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RadioButton"}},{key:"properties",get:function(){return{indicator:{get:function(){return this.getSubmorphNamed("indicator")}},
selectionColor:{},selectionStyle:{},selected:{after:["indicator"],defaultValue:!1,set:function(qb){var sb=this;this.whenRendered().then(function(kb){qb?(sb.indicator.fill=sb.selectionColor,sb.animate({opacity:1,duration:200})):(sb.indicator.fill=xa.Color.transparant,sb.animate({opacity:.5,duration:200}))});this.setProperty("selected",!!qb)}},valueFunctionString:{defaultValue:'"function (morph) { return morph.value; }"',set:function(qb){this.setProperty("valueFunctionString",qb.toString());this.valueFn=
void 0}}}}}],Eb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"RadioButton",version:"0.1.1-48"}}},{start:210,end:2235})}(xa.Morph);Bb=xa.RadioButton;xa.default=Bb;Bb=lively.FreezerRuntime.recorderFor("ProtoNumberWidget/index.js");Bb.NumberWidget=Kd;Va=function(Qa){var Eb=lively.FreezerRuntime.recorderFor("ProtoNumberWidget/index.js"),
rc=Eb.hasOwnProperty("ProtoNumberWidget")&&"function"===typeof Eb.ProtoNumberWidget?Eb.ProtoNumberWidget:Eb.ProtoNumberWidget=function(qb){qb&&qb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ae(rc,Qa,void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ProtoNumberWidget"}},{key:"properties",get:function(){return{master:{initialize:function(){}}}}}],Eb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ProtoNumberWidget",version:"0.1.1-0"}}},{start:76,end:224})}(Bb.NumberWidget);Va=Bb.ProtoNumberWidget;Bb.default=Va;Bb=lively.FreezerRuntime.recorderFor("FrameResizer/index.js");Bb.Morph=Jd;Va=function(Qa){var Eb=lively.FreezerRuntime.recorderFor("FrameResizer/index.js"),rc=Eb.hasOwnProperty("FrameResizer")&&"function"===typeof Eb.FrameResizer?Eb.FrameResizer:Eb.FrameResizer=function(qb){qb&&qb[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ae(rc,Qa,[{key:"onDrag",value:function(qb){var sb=this.owner.left;qb=qb.positionIn(this).x;qb*="left"==this.direction?-1:1;this.owner.width+=qb;350>this.owner.width&&(qb+=350-this.owner.width,this.owner.width=350);this.owner.left="left"==this.direction?sb-qb:sb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FrameResizer"}},{key:"properties",get:function(){return{direction:{type:"Enum",values:["left","right"]}}}}],
Eb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"FrameResizer",version:"0.1.1-24"}}},{start:56,end:840})}(Bb.Morph);Va=Bb.FrameResizer;Bb.default=Va;var wa=lively.FreezerRuntime.recorderFor("ShapeLayoutControl/index.js");wa.Morph=Jd;wa.morph=Pc;wa.layouts=Zc;wa.string=tb;wa.connect=Bc;wa.noUpdate=le;wa.InteractiveMorphSelector=
rb;wa.Color=te;wa.pt=Ze;Bb=function(Qa){var Eb=lively.FreezerRuntime.recorderFor("ShapeLayoutControl/index.js"),rc=Eb.hasOwnProperty("ShapeLayoutControl")&&"function"===typeof Eb.ShapeLayoutControl?Eb.ShapeLayoutControl:Eb.ShapeLayoutControl=function(qb){qb&&qb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ae(rc,Qa,[{key:"focusOn",value:function(qb){this.target=qb;this.update(!1)}},{key:"setupConnections",value:function(){var qb=
this.ui;wa.connect(qb.submorphSettingsControl,"fire",this,"chooseSubmorphToChangeLayoutSettings");wa.connect(qb.dragmeControl,"onDragStart",this,"onSubmorphSettingsDragStart");wa.connect(qb.xAxisPolicyControl,"selection",this,"updateSubmorphProportionalLayoutSettings",{converter:'policy => ({\n        policy,\n        axis: "x",\n        submorph: self.selectedSubmorph,\n      })',varMapping:{self:this}});wa.connect(qb.yAxisPolicyControl,"selection",this,"updateSubmorphProportionalLayoutSettings",
{converter:'policy => ({\n        policy,\n        axis: "y",\n        submorph: self.selectedSubmorph,\n      })',varMapping:{self:this}});for(var sb={},kb=$jscomp.makeIterator(this.managedProps),ha=kb.next();!ha.done;sb={$jscomp$loop$prop$prop$2714:sb.$jscomp$loop$prop$prop$2714},ha=kb.next()){var Pa=$jscomp.makeIterator(ha.value),T=Pa.next().value;ha=Pa.next().value;Pa.next().value||(sb.$jscomp$loop$prop$prop$2714=this.join(T),Pa=qb[this.join(T,"control")],wa.connect(Pa,ha,this,"updateLayout",
{updater:function(ia){return function(Fa,$a){Fa(ia.$jscomp$loop$prop$prop$2714,$a)}}(sb),varMapping:{prop:sb.$jscomp$loop$prop$prop$2714}}))}}},{key:"lower",value:function(qb){return qb.charAt(0).toLowerCase()+qb.slice(1)}},{key:"join",value:function(qb,sb){return this.lower(wa.string.camelCaseString(qb+(sb?" "+sb:"")))}},{key:"updateLayoutOfTarget",value:function(qb){qb=wa.layouts[wa.string.camelCaseString(qb)];this.target.layout=qb?new qb({autoResize:!1}):null;this.update()}},{key:"updateLayout",
value:function(qb,sb){this.target.layout[qb]=sb}},{key:"update",value:function(qb){var sb=this;this.target&&wa.noUpdate(function(){for(var kb=sb.ui,ha=sb.target.layout||{name:function(){return"No"}},Pa=$jscomp.makeIterator(sb.managedProps),T=Pa.next();!T.done;T=Pa.next()){var ia=$jscomp.makeIterator(T.value);T=ia.next().value;var Fa=ia.next().value;ia.next();ia=kb[sb.join(T,"control")];var $a=kb[sb.join(T,"label")];if(Fa)if("type"===T)ia.selection=ha.name()+" Layout";else{var zb=ha[sb.join(T)],Cc=
"undefined"!==typeof zb;if(Cc){switch(T){case "align":ia.items=ha.possibleAlignValues;break;case "direction":ia.items=ha.possibleDirectionValues;break;case "axis":ia.items=ha.possibleAxisValues}ia[Fa]=zb}$a.isLayoutable=$a.visible=Cc}}sb.showGridLayoutControl("Grid"===ha.name());sb.showProportionalControl("Proportional"===ha.name())})}},{key:"updateSubmorphProportionalLayoutSettings",value:function(qb){var sb={};this.target.layout.changeSettingsFor(qb.submorph,(sb[qb.axis]=qb.policy,sb),!0)}},{key:"onSubmorphSettingsDragStart",
value:function(qb){var sb=this;qb.stop();var kb=this.target.layout,ha=kb.settingsFor(this.selectedSubmorph),Pa=[],T;for(T in ha)Pa=[].concat($jscomp.arrayFromIterable(Pa),[T+": ",{fontWeight:"bold"},ha[T]+" ",{}]);var ia=wa.morph({type:"label",fontColor:wa.Color.white,value:Pa,fill:wa.Color.black.withA(.7),padding:5,borderRadius:10,isLayoutable:!1});ia.wantsToBeDroppedOn=function(Fa){return kb.layoutableSubmorphs.includes(Fa)};ia.onBeingDroppedOn=function(Fa,$a){ia.remove();if(Fa=kb.layoutableSubmorphs.includes($a)?
$a:qb.world.morphsContainingPoint(qb.hand.position).find(function(zb){return kb.layoutableSubmorphs.includes(zb)}))sb.updateSubmorphProportionalLayoutSettings({policy:ha.x,axis:"x",submorph:Fa}),sb.updateSubmorphProportionalLayoutSettings({policy:ha.y,axis:"y",submorph:Fa}),Fa.show(),$world.setStatusMessage("layout settings applied")};qb.hand.grab(ia);ia.moveBy(wa.pt(10,10))}},{key:"chooseSubmorphToChangeLayoutSettings",value:function(){var qb=this,sb,kb,ha,Pa,T,ia,Fa,$a,zb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cc){switch(Cc.nextAddress){case 1:return sb=
qb.target.layout.layoutableSubmorphs,qb.manageFocus=!0,qb.env.eventDispatcher.isKeyPressed("Shift")?(ha=sb.map(function(Ba){return{isListItem:!0,string:String(Ba),value:Ba}}),Cc.yield($world.listPrompt("Select morph",ha,{onSelection:function(Ba){return Ba.show()}}),5)):Cc.yield(wa.InteractiveMorphSelector.selectMorph(qb.world(),qb,function(Ba){return sb.includes(Ba)}),4);case 4:kb=Cc.yieldResult;Cc.jumpTo(3);break;case 5:Pa=Cc.yieldResult,T=$jscomp.makeIterator(Pa.selected),kb=T.next().value;case 3:qb.manageFocus=
!1;qb.selectedSubmorph=kb;if(!kb)return Cc.return();ia=qb.ui;Fa=ia.xAxisPolicyControl;$a=ia.yAxisPolicyControl;zb=qb.target.layout.settingsFor(kb);wa.noUpdate(function(){Fa.selection=zb.x;$a.selection=zb.y});Cc.jumpToEnd()}})}},{key:"showProportionalControl",value:function(qb){var sb=this.ui;[sb.submorphSettingsControl,sb.dragmeControl,sb.xAxisPolicyControl,sb.xAxisPolicyLabel,sb.yAxisPolicyControl,sb.yAxisPolicyLabel].forEach(function(kb){kb.isLayoutable=qb;kb.visible=qb})}},{key:"showGridLayoutHalo",
value:function(){$world.showLayoutHaloFor(this.target)}},{key:"showGridLayoutControl",value:function(qb){var sb=this.ui.configureGridLayoutControl;sb.visible=sb.isLayoutable=qb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShapeLayoutControl"}},{key:"properties",get:function(){return{managedProps:{get:function(){return[["type","selection",!0],["align","selection"],["direction","selection"],["axis","selection"],["spacing","number"],["auto resize","checked"],["resize submorphs","checked"],
["x axis policy","selection",!0],["y axis policy","selection",!0],["react to submorph animations","checked"],["submorph settings",!1,!0],["order by index","checked"],["dragme",!1,!0],["configure grid layout",!1,!0]]}},ui:{readOnly:!0,get:function(){for(var qb={labelContainer:this.getSubmorphNamed("label container"),controlContainer:this.getSubmorphNamed("control container")},sb=$jscomp.makeIterator(this.managedProps),kb=sb.next();!kb.done;kb=sb.next()){var ha=$jscomp.makeIterator(kb.value).next().value;
kb=ha+" label";ha+=" control";qb[this.join(kb)]=this.getSubmorphNamed(kb);qb[this.join(ha)]=this.getSubmorphNamed(ha)}return qb}}}}}],Eb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeLayoutControl",version:"0.1.1-166"}}},{start:345,end:7771})}(wa.Morph);Bb=wa.ShapeLayoutControl;wa.default=Bb}}});
System.register(["./__root_module__-aa47e4cd.js","kld-intersections","./user-ui-a3f53bac.js","./index-67dc020a.js","./index-751356d3.js"],function(Ca,ub){var Tb,lc,mc,Zd,id,ce,kd,$c,Cd,Fd,pe,Xd,nd,eb,Hb,Cc,qc,ld,wd,Xc,gd,bc,ad,ed,Id,hc,Qb,xb,Nb,kb,Db,Rb,vc,jc,qb,rb,cc,Vc,Bc;return{setters:[function(xc){Tb=xc.ag;lc=xc.au;mc=xc.ay;Zd=xc.al;id=xc.P;ce=xc._;kd=xc.s;$c=xc.a4;Cd=xc.aM;Fd=xc.bO;pe=xc.bP;Xd=xc.$;nd=xc.C;eb=xc.a1;Hb=xc.ap;Cc=xc.as;qc=xc.bQ;ld=xc.aq;wd=xc.az;Xc=xc.ai;gd=xc.Y;bc=xc.ar;
ad=xc.r;ed=xc.aZ;Id=xc.a_;hc=xc.ao;Qb=xc.aW;xb=xc.aV;Nb=xc.aB;kb=xc.bR;Db=xc.a3;Rb=xc.L;vc=xc.a5;jc=xc.at;qb=xc.bS;rb=xc.ab;cc=xc.T;Vc=xc.bK},function(){},function(xc){Bc=xc.UserUI},function(){},function(){}],execute:function(){function xc(Pc){var Vb=Pc.worldName,Oa=Pc.commit,Qa=Pc.loadingIndicator,Aa=Pc.progress,za=void 0===Pc.logError?function(Sc){return console.log(Sc)}:Pc.logError,Ka,tb,yb,zc,pd,Yd,Ge;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sc){switch(Sc.nextAddress){case 1:return Sc.setCatchFinallyBlocks(2),
Ka=JSON.parse(localStorage.getItem("lively.load-config")||"{}"),Aa.opacity=0,Aa.hasFixedPosition=!0,Aa.openInWorld(),Aa.bottomCenter=Qa.topCenter,Sc.yield(Ab.polyfills(),4);case 4:return tb=$world.env,Ab.doBootstrap?Sc.yield(Ab.bootstrapLivelySystem(Qa,Aa,Ka),8):Sc.yield(Ab.fastPrepLivelySystem(Qa),7);case 7:Sc.jumpTo(6);break;case 8:case 6:return Qa.label="Loading lively.2lively...",Sc.yield(lively.modules.registerPackage("lively.2lively"),9);case 9:Ab.askBeforeQuit&&window.addEventListener("beforeunload",
function(ye){return ye.returnValue="Really?"},!0);if("dynamic"!=Ka["lively.morphic"]){yb=lively.morphic;Sc.jumpTo(10);break}Qa.label="Loading lively.morphic...";return Sc.yield(lively.modules.importPackage("lively.morphic"),11);case 11:yb=Sc.yieldResult,Aa.finishPackage({packageName:"lively.morphic",loaded:!0});case 10:Qa.label="Loading world...";window.onresize=null;window.loadCompiledFrozenPart=lively.modules.module("lively.morphic/partsbin.js")._recorder.loadPart;lively.FreezerRuntime=!1;zc=document.location;
Sc.setCatchFinallyBlocks(12);pd={verbose:!0,localconfig:!0,l2l:!0,shell:!0};if(Oa)return Sc.yield(yb.World.loadFromCommit(Oa,void 0,Object.assign({},pd,{browserURL:"/worlds/load?name="+Oa.name})),15);if(!Vb){Sc.jumpTo(15);break}return Sc.yield(yb.World.loadFromDB(Vb,void 0,void 0,Object.assign({},pd,{browserURL:"/worlds/load?name="+Vb.replace(/\.json($|\?)/,"")})),15);case 15:Sc.leaveTryBlock(13,2);break;case 12:Sc.enterCatchBlock(2);case 13:return window.addEventListener("popstate",function(ye){document.location==
zc&&document.location.reload()}),Qa.remove(),Ab.worldLoaded=!0,lively.modules.removeHook("fetch","logFetch"),Sc.yield(tb.renderer.worldMorph.whenRendered(),19);case 19:"dynamic"==Ka["lively.morphic"]&&(tb.renderer.clear(),tb.fontMetric.uninstall(),tb.eventDispatcher.uninstall());Sc.leaveTryBlock(0);break;case 2:throw Yd=Sc.enterCatchBlock(),Yd.originalErr&&(Yd=Yd.originalErr),Ge=Yd.message,Yd.stack!==Yd.message&&(Ge+=Yd.stack.includes(Yd.message)?Yd.stack.replace(Yd.message,"\n"):Yd.stack),za(Ge),
Yd;}})}var kc=lively.FreezerRuntime.recorderFor("typeshift.components/interactive.js");kc.Morph=Tb;kc.HTMLMorph=lc;kc.touchInputDevice=mc;kc.morph=Zd;kc.Path=id;kc.promise=ce;kc.string=kd;kc.arr=$c;kc.List=Cd;kc.asItem=Fd;kc.ListItemMorph=pe;kc.Rectangle=Xd;kc.Color=nd;kc.pt=eb;kc.signal=Hb;kc.once=Cc;kc.ObjectRef=qc;var Q=function(Pc){var Vb=lively.FreezerRuntime.recorderFor("typeshift.components/interactive.js"),Oa=Vb.hasOwnProperty("MorphSerializationStopper")&&"function"===typeof Vb.MorphSerializationStopper?
Vb.MorphSerializationStopper:Vb.MorphSerializationStopper=function(Qa){Qa&&Qa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ld(Oa,Pc,[{key:"__deserialize__",value:function(Qa,Aa,za,Ka,tb){var yb=Qa.props.wrappedMorph;this._wrappedMorph=yb;delete Qa.props.wrappedMorph;ld._get(Object.getPrototypeOf(Oa.prototype),"__deserialize__",this).call(this,Qa,Aa,za,Ka,tb);this._serializer={delayedWrappedMorph:yb,serializedObjMap:za,pool:Ka,
path:tb}}},{key:"__after_deserialize__",value:function(Qa,Aa){var za=this;ld._get(Object.getPrototypeOf(Oa.prototype),"__after_deserialize__",this).call(this,Qa,Aa);Aa=this._serializer;var Ka=Aa.delayedWrappedMorph,tb=Aa.serializedObjMap,yb=Aa.pool,zc=Aa.path;this._getWrappedMorph=function(){var pd=Ka.value.id;delete za._getWrappedMorph;return za.wrappedMorph=kc.ObjectRef.fromSnapshot(pd,tb,yb,zc).realObj};Qa.props.wrappedMorph=this._wrappedMorph;delete this._wrappedMorph;delete this._serializer}},
{key:"__serialize__",value:function(){this._getWrappedMorph&&this._getWrappedMorph();return null}}],[{key:"className",get:function(){return"MorphSerializationStopper"}},{key:"properties",get:function(){return{wrappedMorphName:{},wrappedMorph:{set:function(Qa){this.setProperty("wrappedMorph",Qa);Qa&&Qa.isMorph&&(this.setBounds(Qa.bounds()),this.wrappedMorphName=Qa.name)},get:function(){var Qa=this.getProperty("wrappedMorph");return Qa?Qa:this._getWrappedMorph()}}}}}],Vb,{pathInPackage:function(){return"interactive.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"typeshift.components",version:"0.1.0"}}},{start:367,end:2355})}(kc.Morph);kc.MorphSerializationStopper=Q;kc.MorphSerializationStopper=Q;kc.MorphSerializationStopper=Q;Q=function(Pc){var Vb=lively.FreezerRuntime.recorderFor("typeshift.components/interactive.js"),Oa=Vb.hasOwnProperty("InteractiveItem")&&"function"===typeof Vb.InteractiveItem?
Vb.InteractiveItem:Vb.InteractiveItem=function(Qa){Qa&&Qa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ld(Oa,Pc,[{key:"fit",value:function(){}},{key:"onHaloGrabover",value:function(Qa){this.list.showDropPreviewFor(this,Qa)}},{key:"onDrop",value:function(Qa){var Aa=this,za;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ka){if(1==Ka.nextAddress){if(!Aa.item.isPreview)return Ka.jumpTo(0);za=Qa.hand.grabbedMorphs[0];
ld._get(Object.getPrototypeOf(Oa.prototype),"onDrop",Aa).call(Aa,Qa);return Ka.yield(Aa.list.whenRendered(),3)}Aa.list.addItemAt({morph:za,isListItem:!0},Aa.itemIndex);Aa.list.clearPreviews();Ka.jumpToEnd()})}},{key:"select",value:function(){this.list.selectedIndex=this.itemIndex;this.item.morph.focus()}},{key:"onMouseDown",value:function(Qa){kc.touchInputDevice?this._touchDown=Date.now():this.select()}},{key:"onMouseUp",value:function(Qa){kc.touchInputDevice&&500>Date.now()-this._touchDown&&this.select()}},
{key:"displayItem",value:function(Qa,Aa,za,Ka,tb,yb,zc){yb=void 0===yb?!1:yb;ld._get(Object.getPrototypeOf(Oa.prototype),"displayItem",this).call(this,Qa,Aa,za,Ka,tb,yb,zc);Qa.morph&&(Qa.morph.selected=yb)}},{key:"onGrab",value:function(Qa){var Aa=this.list,za=Qa.halo&&Qa.halo.target===this;za&&Qa.halo.detachFromTarget();var Ka=this.submorphs.length?this.submorphs[0]:kc.morph({type:"label",value:this.value});Qa.hand.grab(Ka);Ka.position=Qa.hand.localize(this.globalPosition);za&&Qa.halo.refocus(Ka);
Aa.removeItem(this.list.items[this.itemIndex]);Aa.itemMorphs.forEach(function(tb){return tb.remove()});Aa.update()}}],[{key:"className",get:function(){return"InteractiveItem"}},{key:"properties",get:function(){return{draggable:{defaultValue:kc.touchInputDevice?!1:!0},item:{derived:!0,get:function(){return this.list.items[this.itemIndex]}},list:{drived:!0,get:function(){return this.owner.owner}},isListItem:{get:function(){return!0}}}}}],Vb,{pathInPackage:function(){return"interactive.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"typeshift.components",version:"0.1.0"}}},{start:2364,end:4638})}(kc.ListItemMorph);kc.InteractiveItem=Q;kc.InteractiveItem=Q;kc.InteractiveItem=Q;Q=function(Pc){var Vb=lively.FreezerRuntime.recorderFor("typeshift.components/interactive.js"),Oa=Vb.hasOwnProperty("MorphList")&&"function"===typeof Vb.MorphList?Vb.MorphList:Vb.MorphList=function(Qa){Qa&&Qa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return ld(Oa,Pc,[{key:"onLoad",value:function(){ld._get(Object.getPrototypeOf(Oa.prototype),"onLoad",this).call(this);this.clipMode=this.touchInput?"auto":"hidden"}},{key:"showDropPreviewFor",value:function(Qa,Aa){Qa=Qa.itemIndex;this.items[Qa].isPreview&&Aa||(this.clearPreviews(),Aa&&this.addItemAt({isListItem:!0,isPreview:!0,morph:kc.morph({reactsToPointer:!1,acceptsDrops:!1,width:this.width-5,height:this.itemHeight,fill:kc.Color.orange.withA(.5)})},Qa))}},{key:"clearPreviews",value:function(){var Qa=
this;this.items.filter(function(Aa){return Aa.morph&&Aa.morph.owner&&!kc.Path("morph.owner.isListItem").get(Aa)}).map(function(Aa){return $jscomp.asyncExecutePromiseGeneratorProgram(function(za){return za.return(Qa.removeItem(Aa))})});this.items.filter(function(Aa){return Aa.isPreview}).map(function(Aa){return Qa.removeItem(Aa)})}},{key:"update",value:function(){var Qa=this,Aa=this.items;Aa&&this.listItemContainer&&(this.scroller&&(this.scroller.visible=!1),this.dontRecordChangesWhile(function(){var za=
Qa.itemHeight,Ka=Qa.itemMorphs,tb=Qa.listItemContainer,yb=Qa.selectedIndexes,zc=Qa.extent.y,pd=Qa.fontSize,Yd=Qa.fontFamily,Ge=Qa.fontColor,Sc=Qa.padding,ye=Qa.itemPadding,Gd=Qa.selectionColor,Sb=Qa.selectionFontColor,oa=Qa.nonSelectionFontColor,Ha=Qa.itemBorderRadius,Kb=Qa.scrollBar,P=Qa.scroll.y;Sc=Sc||kc.Rectangle.inset(0);var sa=Sc.top(),Ta=Sc.left(),Ib=Sc.bottom();Sc=Sc.right();var Lc=Math.max(0,Math.floor(P/za)),Wc=Math.min(Aa.length,Math.ceil((P+zc)/za));zc=0;P=Qa.width-(Ta+Sc);Ka=kc.arr.sortBy(Ka,
function(kf){return kf.itemIndex});var he=$jscomp.makeIterator(kc.arr.partition(Ka,function(kf){return kf.itemIndex<Lc}));Ka=he.next().value;var ie=he.next().value;ie=$jscomp.makeIterator(kc.arr.partition(ie,function(kf){return kf.itemIndex>Wc}));he=ie.next().value;ie=ie.next().value;Ka=[].concat($jscomp.arrayFromIterable(he),$jscomp.arrayFromIterable(ie),$jscomp.arrayFromIterable(Ka));pd={fontSize:pd,fontFamily:Yd,fontColor:oa||Ge,padding:ye,borderRadius:Ha||0,selectionFontColor:Sb,nonSelectionFontColor:oa,
selectionColor:Gd};Ka.length&&Wc-Lc>Ka.length&&(Lc!=Ka[0].itemIndex?kc.arr.pushAt(Ka,tb.addMorph(new kc.InteractiveItem(pd)),0):Wc!=kc.arr.last(Ka).itemIndex&&Ka.push(tb.addMorph(new kc.InteractiveItem(pd))));for(Yd=0;Yd<Wc-Lc;Yd++){Ge=Lc+Yd;ye=Aa[Ge];if(!ye){Ka.slice(Yd).forEach(function(kf){return kf.remove()});break}Gd=Ka[Yd];Gd||(Gd=Ka[Yd]=tb.addMorph(new kc.InteractiveItem(pd)),Gd.clipMode="visible");Gd.displayItem(ye,Ge,P,za,kc.pt(0,za*Ge),yb.includes(Ge),pd);zc=Math.max(zc,Gd.width)}za=Math.max(sa+
Ib+za*Aa.length,Qa.height);yb=kc.pt(Qa.width,za).subPt(kc.pt(Ta+Sc,0));tb.setBounds(kc.pt(Ta,sa).extent(yb));Kb.left=zc-10;Kb.fill=null;Kb.top=0;Kb.extent=kc.pt(1,za)}))}},{key:"onHoverIn",value:function(Qa){this.clipMode="auto"}},{key:"onHoverOut",value:function(Qa){this.touchInput||(this.clipMode="hidden")}},{key:"onScroll",value:function(Qa){this.update()}}],[{key:"className",get:function(){return"MorphList"}},{key:"properties",get:function(){return{touchInput:{get:function(){return kc.touchInputDevice}},
items:{group:"list",defaultValue:[],after:["submorphs"],set:function(Qa){this.setProperty("items",Qa.map(kc.asItem));this.itemMorphs.forEach(function(Aa){return Aa.remove()});this.update();this.attributeConnections&&kc.signal(this,"values",this.values)}}}}}],Vb,{pathInPackage:function(){return"interactive.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"typeshift.components",
version:"0.1.0"}}},{start:4647,end:9874})}(kc.List);kc.MorphList=Q;kc.MorphList=Q;kc.MorphList=Q;Q=function(Pc){var Vb=lively.FreezerRuntime.recorderFor("typeshift.components/interactive.js"),Oa=Vb.hasOwnProperty("InteractiveMorph")&&"function"===typeof Vb.InteractiveMorph?Vb.InteractiveMorph:Vb.InteractiveMorph=function(Qa){Qa&&Qa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ld(Oa,Pc,[{key:"commands",get:function(){var Qa=this;
return[{name:"resize on client",exec:function(){Qa.extent=kc.pt(window.innerWidth,window.innerHeight);Qa.position=kc.pt(0,0);Qa.adjustScale()}}]}},{key:"adjustScale",value:function(){var Qa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){if(1==Aa.nextAddress)return Aa.yield(Qa.whenRendered(),2);if(3!=Aa.nextAddress)return Aa.yield(kc.promise.delay(Qa.checkDelay),3);$world.scale=window.innerWidth/window.outerWidth;Aa.jumpToEnd()})}},{key:"menuItems",value:function(){var Qa=this,
Aa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(za){if(1==za.nextAddress)return za.yield(ld._get(Object.getPrototypeOf(Oa.prototype),"menuItems",Qa).call(Qa),2);Aa=za.yieldResult;Aa[kc.arr.findIndex(Aa,function(Ka){return"Open in..."==Ka[0]})]=["Open in...",[["Window",function(){Qa.openInWindow()}],["Prototype Box",function(){Qa.world().execCommand("open in prototype box",{target:Qa})}]]];return za.return(Aa)})}},{key:"cleanAnchors",value:function(){this.ui.texts.map(function(Qa){return Qa.anchors.filter(function(Aa){return!Aa.id}).forEach(function(Aa){return Qa.removeAnchor(Aa)})})}},
{key:"resizeToMobile",value:function(){this.extent=kc.pt(375,667)}},{key:"resizeToDesktop",value:function(){this.extent=kc.pt(1024,720)}}],[{key:"className",get:function(){return"InteractiveMorph"}},{key:"properties",get:function(){return{loadingScreen:{},crawlerScreen:{},title:{initialize:function(){this.title=this.name}},checkDelay:{readOnly:!0,get:function(){return 300}},__crawler_html__:{derived:!0,get:function(){return this.crawlerScreen&&this.crawlerScreen.html}},__loading_html__:{derived:!0,
get:function(){if(!this.loadingScreen)return null;var Qa=this.loadingScreen,Aa=Qa.html,za=Qa.id;Qa=Qa.document.getElementById("css-for-"+za);return"\n            "+(Qa?Qa.outerHTML:"")+'\n            <div id="'+za+'" style="position: absolute; z-index: 1; height: 100%; width: 100%;">\n            '+Aa+"\n            </div>\n          "}},ui:{derived:!0,get:function(){var Qa={},Aa={};if(lively.FreezerRuntime&&this._ui)return this._ui;this.withAllSubmorphsDoExcluding(function(za){Qa[kc.string.camelize(za.name.split(" ").join("-"))]=
za;var Ka=za.constructor.className;Ka=Ka.charAt(0).toLowerCase()+Ka.slice(1)+"s";var tb=Aa[Ka]||[];tb.push(za);Aa[Ka]=tb},function(za){return za.ignoreScope});return this._ui=Object.assign({},Qa,{},Aa)}}}}}],Vb,{pathInPackage:function(){return"interactive.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"typeshift.components",version:"0.1.0"}}},{start:9883,end:13100})}(kc.Morph);
kc.InteractiveMorph=Q;kc.InteractiveMorph=Q;kc.InteractiveMorph=Q;var ea=lively.FreezerRuntime.recorderFor("WorldDashboard/index.js");ea.Morph=Tb;ea.HorizontalLayout=wd;ea.VerticalLayout=Xc;ea.morph=Zd;ea.MorphicDB=gd;ea.arr=$c;ea.fun=bc;ea.string=kd;ea.Color=nd;ea.pt=eb;ea.UserUI=Bc;ea.resource=ad;Q=function(Pc){var Vb=lively.FreezerRuntime.recorderFor("WorldDashboard/index.js"),Oa=Vb.hasOwnProperty("WorldDashboard")&&"function"===typeof Vb.WorldDashboard?Vb.WorldDashboard:Vb.WorldDashboard=function(Qa){Qa&&
Qa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ld(Oa,Pc,[{key:"focus",value:function(){this.ui.searchField.focus()}},{key:"update",value:function(){this.displayWorlds()}},{key:"beforePublish",value:function(){this.reset()}},{key:"reset",value:function(){this.ui.worldList.items=[]}},{key:"relayout",value:function(){this.alignInWorld()}},{key:"alignInWorld",value:function(Qa){Qa=void 0===Qa?$world:Qa;this.owner!=Qa&&Qa.addMorph(this);
this.center=Qa.visibleBounds().center()}},{key:"sortAndFilterPreviews",value:function(Qa){var Aa=ea.UserUI.getCurrentUser();Qa=this.ui.searchField.fuzzyFilter(Qa,function(za){return za._commit.name+za._commit.description});switch(this.ui.sortSelector.selection){case "RECENT":return ea.arr.sortBy(Qa,function(za){return-za._commit.timestamp});case "TEMPLATES":return Qa;case "MY PROJECTS":return ea.arr.filter(Qa,function(za){return za._commit.author.name===Aa.name});case "PUBLISHED":return Qa}}},{key:"updateList",
value:function(){var Qa=this;this.previews&&ea.fun.debounceNamed("update world list",150,function(){Qa.ui.worldList.items=Qa.sortAndFilterPreviews(Qa.previews)})()}},{key:"displayWorlds",value:function(){var Qa=this,Aa,za,Ka,tb,yb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(zc){switch(zc.nextAddress){case 1:return Qa.reset(),Aa=Qa.ui,za=Aa.loadingLabel,za.visible=!0,za.animate({opacity:1,duration:300}),zc.yield(Qa.db.latestCommits("world"),2);case 2:return Ka=zc.yieldResult,zc.yield(ub.import("./world preview-71ebfb10.js"),
4);case 4:if(!(tb=zc.yieldResult)){zc.jumpTo(5);break}return zc.yield(ea.resource("part://partial freezing/world preview"),6);case 6:tb=zc.yieldResult;case 5:return zc.yield(tb.read(),3);case 3:return yb=zc.yieldResult,Qa.previews=Ka.map(function(pd){var Yd=ea.morph({reactsToPointer:!1,fill:ea.Color.transparent,extent:Qa.previewProto.extent});Yd._commit=pd;Yd.displayPreview=function(){var Ge;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sc){if(1==Sc.nextAddress)return Ge=yb.copy(),Ge._commit=
pd,Ge.opacity=0,Yd.addMorph(Ge),Ge.displayPreview(),Ge.position=ea.pt(0,0),Sc.yield(Yd.whenRendered(),2);Yd.layout=new ea.HorizontalLayout({autoResize:!0,reactToSubmorphAnimations:!0});Sc.jumpToEnd()})};return Yd}),zc.yield(za.animate({opacity:0,duration:300}),7);case 7:za.visible=!1,Qa.updateList(),zc.jumpToEnd()}})}},{key:"createNewProject",value:function(){document.location="/worlds/load?name=__newWorld__"}}],[{key:"className",get:function(){return"WorldDashboard"}},{key:"properties",get:function(){return{previewProto:{},
showCloseButton:{derived:!0,get:function(){return this.ui.closeButton.visible},set:function(Qa){this.ui.closeButton.visible=Qa}},db:{get:function(){return ea.MorphicDB.default}},ui:{derived:!0,get:function(){return{worldList:this.getSubmorphNamed("world list"),sortSelector:this.getSubmorphNamed("search selector"),searchField:this.getSubmorphNamed("search field"),closeButton:this.getSubmorphNamed("close button"),loadingLabel:this.getSubmorphNamed("loading label")}}}}}}],Vb,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"WorldDashboard",version:"0.1.1-119"}}},{start:330,end:3712})}(ea.Morph);Q=ea.WorldDashboard;ea.default=Q;var Ga=lively.FreezerRuntime.recorderFor("GrowingWorldList/index.js");Ga.Morph=Tb;Ga.touchInputDevice=mc;Ga.TilingLayout=ed;Ga.arr=$c;Ga.pt=eb;Q=function(Pc){var Vb=lively.FreezerRuntime.recorderFor("GrowingWorldList/index.js"),
Oa=Vb.hasOwnProperty("GrowingWorldList")&&"function"===typeof Vb.GrowingWorldList?Vb.GrowingWorldList:Vb.GrowingWorldList=function(Qa){Qa&&Qa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ld(Oa,Pc,[{key:"onLoad",value:function(){this.clipMode="auto"}},{key:"onScroll",value:function(Qa){ld._get(Object.getPrototypeOf(Oa.prototype),"onScroll",this).call(this,Qa);this.update()}},{key:"onChange",value:function(Qa){ld._get(Object.getPrototypeOf(Oa.prototype),
"onChange",this).call(this,Qa);"extent"==Qa.prop&&this.update(!0)}},{key:"onHoverIn",value:function(Qa){this.clipMode="auto"}},{key:"onHoverOut",value:function(Qa){Ga.touchInputDevice||(this.clipMode="hidden")}},{key:"update",value:function(Qa){var Aa=this.items;if(Aa&&0!=Aa.length){var za=this.scrollContainer,Ka=za.layout.spacing;za.extent=this.extent;var tb=this.ui,yb=tb.bufferTop;tb=tb.bufferBottom;yb=yb||za.addMorph({fill:null,name:"buffer top",height:10});tb=tb||za.addMorph({fill:null,name:"buffer bottom",
height:10});yb.width=tb.width=this.width-100;za.layout.disable();var zc=Aa[0];Ka=Aa.slice(0,Math.floor(this.width/(zc.width+Ka))*(Math.ceil((this.scroll.y+this.height)/(zc.height+Ka))+1)).filter(function(Sc){return Sc.owner!=za});zc=this.scroll.y+2*this.height;for(var pd={},Yd=$jscomp.makeIterator(Ka),Ge=Yd.next();!Ge.done;pd={$jscomp$loop$prop$item$2286:pd.$jscomp$loop$prop$item$2286},Ge=Yd.next())pd.$jscomp$loop$prop$item$2286=Ge.value,zc++,pd.$jscomp$loop$prop$item$2286.top=zc,za.addMorph(pd.$jscomp$loop$prop$item$2286),
pd.$jscomp$loop$prop$item$2286._initialized||pd.$jscomp$loop$prop$item$2286.whenRendered().then(function(Sc){return function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(ye){Sc.$jscomp$loop$prop$item$2286._initialized=!0;return ye.yield(Sc.$jscomp$loop$prop$item$2286.displayPreview(),0)})}}(pd));Qa&&(yb.position=Ga.pt(0,0),Aa.forEach(function(Sc,ye){return Sc.position=Ga.pt(ye+1,ye+1)}),tb.position=Ga.pt(Aa.length+2,Aa.length+2));za.layout.enable();if(Qa||0<Ka.length)tb.top=this.submorphBounds().height,
za.layout.apply()}}}],[{key:"className",get:function(){return"GrowingWorldList"}},{key:"properties",get:function(){return{scrollContainer:{get:function(){return this.getSubmorphNamed("scroll container")||this.addMorph({name:"scroll container",fill:null,reactsToPointer:!1,renderOnGPU:!0,layout:new Ga.TilingLayout({spacing:25,align:"center",autoResize:!0})})}},ui:{get:function(){return{bufferTop:this.getSubmorphNamed("buffer top"),bufferBottom:this.getSubmorphNamed("buffer bottom")}}},items:{after:["layout",
"scrollContainer"],set:function(Qa){this.setProperty("items",Qa);var Aa=this.scrollContainer;Aa.layout&&Aa.layout.disable();var za=this.ui,Ka=za.bufferTop;za=za.bufferBottom;Ga.arr.withoutAll(Aa.submorphs,[].concat($jscomp.arrayFromIterable(Qa),[Ka,za])).forEach(function(tb){return tb.remove()});this.update(!0)}}}}}],Vb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"GrowingWorldList",version:"0.1.1-32"}}},{start:179,end:3777})}(Ga.Morph);Q=Ga.GrowingWorldList;Ga.default=Q;var Ua=lively.FreezerRuntime.recorderFor("SearchInputLine/index.js");Ua.InputLine=Id;Ua.Color=nd;Ua.connect=hc;Ua.disconnectAll=Qb;Ua.disconnect=xb;Ua.arr=$c;Ua.string=kd;Q=function(Pc){var Vb=lively.FreezerRuntime.recorderFor("SearchInputLine/index.js"),Oa=Vb.hasOwnProperty("SearchInputLine")&&"function"===typeof Vb.SearchInputLine?Vb.SearchInputLine:Vb.SearchInputLine=
function(Qa){Qa&&Qa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ld(Oa,Pc,[{key:"fuzzyMatch",value:function(Qa,Aa){Aa=void 0===Aa?this.parseInput():Aa;if(Aa.lowercasedTokens.every(function(Ka){return Qa.toLowerCase().includes(Ka)}))return!0;var za=Qa.toLowerCase();return 3>=Ua.arr.sum(Aa.lowercasedTokens.map(function(Ka){return Ua.string.levenshtein(za,Ka)}))}},{key:"fuzzyFilter",value:function(Qa,Aa){var za=this;Aa=void 0===
Aa?function(tb){return tb}:Aa;var Ka=this.parseInput();return Ua.arr.filter(Qa,function(tb){return za.fuzzyMatch(Aa(tb),Ka)})}},{key:"parseInput",value:function(){var Qa=Array.from(this.textString).reduce(function(za,Ka){if("\\"===Ka&&!za.escaped)return za.escaped=!0,za;" "!==Ka||za.escaped?(za.spaceSeen=!1,za.current+=Ka):(!za.spaceSeen&&za.current&&(za.tokens.push(za.current),za.current=""),za.spaceSeen=!0);za.escaped=!1;return za},{tokens:[],current:"",escaped:!1,spaceSeen:!1});Qa.current&&Qa.tokens.push(Qa.current);
var Aa=Qa.tokens.map(function(za){return za.toLowerCase()});return{tokens:Qa.tokens,lowercasedTokens:Aa}}}],[{key:"className",get:function(){return"SearchInputLine"}}],Vb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"SearchInputLine",version:"0.1.1-4"}}},{start:239,end:1834})}(Ua.InputLine);Q=Ua.SearchInputLine;Ua.default=Q;Q=lively.FreezerRuntime.recorderFor("StaticText/index.js");
Q.HTMLMorph=lc;var fc=function(Pc){var Vb=lively.FreezerRuntime.recorderFor("StaticText/index.js"),Oa=Vb.hasOwnProperty("StaticText")&&"function"===typeof Vb.StaticText?Vb.StaticText:Vb.StaticText=function(Qa){Qa&&Qa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ld(Oa,Pc,[{key:"refresh",value:function(){this.html='<span style="line-height: 1.3; font-size: '+this.fontSize+"px; color: "+this.fontColor+"; font-family: "+this.fontFamily+
'">'+this.value+"</span>"}}],[{key:"className",get:function(){return"StaticText"}},{key:"properties",get:function(){return{html:{isStyleProp:!1},fontSize:{type:"Number",set:function(Qa){this.setProperty("fontSize",Qa);this.refresh()}},fontColor:{type:"Color",set:function(Qa){this.setProperty("fontColor",Qa);this.refresh()}},fontFamily:{type:"Enum",set:function(Qa){this.setProperty("fontFamily",Qa);this.refresh()}},value:{set:function(Qa){this.setProperty("value",Qa);this.refresh()}}}}}],Vb,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StaticText",version:"0.1.1-10"}}},{start:74,end:953})}(Q.HTMLMorph);fc=Q.StaticText;Q.default=fc;var Fb=lively.FreezerRuntime.recorderFor("WorldVersionViewer/index.js");Fb.Morph=Tb;Fb.World=Nb;Fb.HorizontalLayout=wd;Fb.morph=Zd;Fb.MorphicDB=gd;Fb.graph=kb;Fb.promise=ce;Fb.date=Db;Fb.string=kd;Fb.arr=$c;Fb.Color=nd;Fb.pt=eb;Fb.LoadingIndicator=
Rb;(function(Pc){var Vb=lively.FreezerRuntime.recorderFor("WorldVersionViewer/index.js"),Oa=Vb.hasOwnProperty("WorldVersion")&&"function"===typeof Vb.WorldVersion?Vb.WorldVersion:Vb.WorldVersion=function(Qa){Qa&&Qa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ld(Oa,Pc,[{key:"update",value:function(){var Qa=$jscomp.makeIterator(this.submorphs),Aa=Qa.next().value;Qa=Qa.next().value;Aa.imageUrl=this.commit.preview;Qa.textAndAttributes=
this.info;Qa.fontColor=this.selected?Fb.Color.white:Fb.Color.darkGray}}],[{key:"className",get:function(){return"WorldVersion"}},{key:"properties",get:function(){return{commit:{},fill:{defaultValue:Fb.Color.transparent},info:{derived:!0,get:function(){var Qa=this.commit,Aa=Qa.message,za=Qa.name,Ka=Qa.timestamp;return[Qa._id.slice(0,6)+" ",{fontWeight:"bold"},Fb.string.truncate(Aa.split("\n")[0],40)+" ",{}," ("+za+" ",{},""+Fb.date.format(new Date(Ka),"yyyy-mm-dd HH:MM Z"),{}]}},selected:{set:function(Qa){this.setProperty("selected",
Qa);this.update()}},layout:{initialize:function(){this.layout=new Fb.HorizontalLayout({align:"center",spacing:5})}},submorphs:{initialize:function(){this.submorphs=[{type:"image",extent:Fb.pt(30,30),name:"preview",reactsToPointer:!1},{reactsToPointer:!1,type:"label",fill:null,name:"commit info",fontFamily:"Nunito",fontColor:Fb.Color.gray}]}}}}}],Vb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"WorldVersionViewer",version:"0.1.1-33"}}},{start:274,end:1824})})(Fb.Morph);Q=function(Pc){var Vb=lively.FreezerRuntime.recorderFor("WorldVersionViewer/index.js"),Oa=Vb.hasOwnProperty("WorldVersionViewer")&&"function"===typeof Vb.WorldVersionViewer?Vb.WorldVersionViewer:Vb.WorldVersionViewer=function(Qa){Qa&&Qa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ld(Oa,Pc,[{key:"reset",value:function(){this.getSubmorphNamed("version list").items=
[]}},{key:"onMouseDown",value:function(Qa){switch(Qa.targetMorph.name){case "visit button":this.visitSelectedCommit();break;case "revert button":this.revertToSelectedCommit()}}},{key:"visitSelectedCommit",value:function(){var Qa=this,Aa,za,Ka,tb,yb,zc,pd,Yd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ge){switch(Ge.nextAddress){case 1:return Aa=Qa.get("version list").selection,za=Fb.LoadingIndicator.open("Loading "+Aa.name+"..."),Ka=$world,tb=Qa.db||Fb.MorphicDB.default,yb=Aa._id,Ge.setCatchFinallyBlocks(2,
3),yb?Ge.yield(Fb.World.loadFromCommit(yb,void 0,{morphicDB:tb}),8):Ge.yield(Fb.World.loadFromDB(Aa.name,Aa.ref,void 0,{morphicDB:tb}),7);case 7:zc=Ge.yieldResult;Ge.jumpTo(6);break;case 8:zc=Ge.yieldResult;case 6:return pd=zc,Ge.return(pd);case 3:Ge.enterFinallyBlock();za.remove();Ge.leaveFinallyBlock(0);break;case 2:Yd=Ge.enterCatchBlock(),console.error(Yd),Ka.showError("Error loading world:"+Yd),Ge.jumpTo(3)}})}},{key:"revertToSelectedCommit",value:function(){var Qa=this,Aa,za,Ka,tb,yb,zc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pd){if(1==
pd.nextAddress){Aa=Qa.get("version list").selection;if(!Aa)return pd.return();za=Qa.db||Fb.MorphicDB.default;Ka=Aa;tb=Ka._id;yb=Ka.name;zc=Ka.type;return pd.yield(za.revert(zc,yb,tb,"HEAD"),2)}return pd.return(Qa.initializeFromStartCommit(Aa,za,{showRevertButton:!0}))})}},{key:"initializeFromStartCommit",value:function(Qa,Aa,za){Aa=void 0===Aa?Fb.MorphicDB.default:Aa;za=void 0===za?{}:za;var Ka=this,tb,yb,zc,pd,Yd,Ge,Sc,ye,Gd,Sb,oa,Ha,Kb,P,sa,Ta,Ib,Lc,Wc,he,ie,kf,Qd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qe){switch(qe.nextAddress){case 1:return tb=
za,yb=void 0===tb.showRefs?!0:tb.showRefs,zc=Ka.startCommit=Qa,pd=zc._id,Yd=zc.type,Ge=zc.name,Sc=Ka.getSubmorphNamed("version list spinner"),Sc.visible=!0,Sc.center=Ka.get("version list").center,Ka.db=Aa,qe.yield(Aa.history(Yd,Ge),2);case 2:ye=qe.yieldResult,Gd=ye.refs,Sb=ye.history,oa=pd,Ha=Fb.graph.invert(Sb),Kb=Fb.graph.hull(Ha,pd),P={_id:!0},sa=[Qa],Ta=$jscomp.makeIterator(Kb),Ib=Ta.next();case 3:if(Ib.done)return he=Fb.arr.max(sa,function(df){return df.timestamp}),oa=he._id,qe.yield(Aa.log(oa,
void 0,!0),7);Lc=Ib.value;return qe.yield(Aa.log(Lc,void 0,!0,P),6);case 6:Wc=qe.yieldResult;sa.push.apply(sa,$jscomp.arrayFromIterable(Wc));Wc.forEach(function(df){return P[df._id]=!0});Ib=Ta.next();qe.jumpTo(3);break;case 7:ie=qe.yieldResult;if(yb)for(kf in Gd);Qd=ie.map(function(df){var Af=new Fb.WorldVersion({reactsToPointer:!1,commit:df});Af.update();return{isListItem:!0,morph:Af,value:df}});Ka.get("version list").items=Qd;Sc.visible=!1;qe.jumpToEnd()}})}}],[{key:"className",get:function(){return"WorldVersionViewer"}}],
Vb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"WorldVersionViewer",version:"0.1.1-33"}}},{start:1841,end:5600})}(Fb.Morph);Q=Fb.WorldVersionViewer;Fb.default=Q;var Va=lively.FreezerRuntime.recorderFor("WorldPreview/index.js");Va.Morph=Tb;Va.date=Db;Va.string=kd;Va.promise=ce;Va.obj=vc;Va.morph=Zd;Va.MorphicDB=gd;Va.World=Nb;Va.easings=
jc;Va.Rectangle=Xd;Va.pt=eb;Va.LoadingIndicator=Rb;Va.loadViaScript=qb;Va.resource=ad;Va.loadPart=rb;Q=function(Pc){var Vb=lively.FreezerRuntime.recorderFor("WorldPreview/index.js"),Oa=Vb.hasOwnProperty("WorldPreview")&&"function"===typeof Vb.WorldPreview?Vb.WorldPreview:Vb.WorldPreview=function(Qa){Qa&&Qa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ld(Oa,Pc,[{key:"relayout",value:function(){this.setBounds(this.world().visibleBounds())}},
{key:"onLoad",value:function(){this.ui.spinner.visible=!1}},{key:"displayPreview",value:function(){var Qa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){return Aa.yield(Qa.initWithCommit(Qa._commit),0)})}},{key:"initWithCommit",value:function(Qa){var Aa=this,za,Ka,tb,yb,zc,pd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Yd){if(1==Yd.nextAddress)return za=Aa.ui,Ka=za.preview,tb=za.timestamp,yb=za.title,zc=za.description,pd=za.previewContainer,Aa.opacity=.5,pd.opacity=
0,Yd.yield(Aa.whenRendered(),2);if(3!=Yd.nextAddress)return Aa._commit=Qa,Ka.imageUrl=Qa.preview,tb.value=[Qa.author.name,{fontSize:13,fontWeight:"bold",paddingTop:"1px"},Va.date.format(Qa.timestamp," - d.m.yy HH:MM"),{fontWeight:"bold",fontSize:12,paddingTop:"2px"}],yb.value=Va.string.truncate(Qa.name,18,"..."),zc.value=Qa.description,Yd.yield(Aa.whenRendered(),3);pd.opacity=1;Aa.animate({opacity:1,duration:300});Yd.jumpToEnd()})}},{key:"openAnimated",value:function(Qa){Qa=void 0===Qa?$world.visibleBounds():
Qa;var Aa=this,za;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ka){switch(Ka.nextAddress){case 1:return za=Va.morph(Object.assign({},Aa.spec(),{reactsToPointer:!1,renderOnGPU:!0,submorphs:[Aa.ui.spinner.spec()]})).openInWorld(),za.hasFixedPosition=!0,za.globalPosition=Aa.globalPosition,za.opacity=0,Ka.yield(za.whenRendered(),2);case 2:return Ka.yield(za.animate({opacity:1,duration:300}),3);case 3:return za.dropShadow=!1,za.animate({bounds:Qa,borderRadius:0,duration:500,easing:Va.easings.inOutQuint}),
za.respondsToVisibleWindow=!0,Ka.yield(za.ui.spinner.animate({center:za.innerBounds().center(),duration:500,easing:Va.easings.inOutQuint}),4);case 4:return Ka.yield(Va.promise.delay(1E3),5);case 5:return Ka.return(za)}})}},{key:"openWorld",value:function(){var Qa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){if(1==Aa.nextAddress)return Aa.yield(Qa.openAnimated(),2);Qa.loadWorld();Aa.jumpToEnd()})}},{key:"loadWorld",value:function(){var Qa=this,Aa,za,Ka,tb,yb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(zc){if(1==
zc.nextAddress){Aa=Qa._commit;za=Aa._id;Ka=Aa.name;if(lively.FreezerRuntime)return tb=Va.LoadingIndicator.open("...starting bootstrap process...",{animated:!0,delay:1E3}),Qa.transitionToLivelyWorld(document.location.origin,Qa._commit,tb),zc.return();yb=Va.LoadingIndicator.open("loading "+Ka);return zc.yield(Va.World.loadFromCommit(za,void 0,{morphicDB:Va.MorphicDB.default}),3)}yb.remove();zc.jumpToEnd()})}},{key:"transitionToLivelyWorld",value:function(Qa,Aa,za){var Ka,tb,yb,zc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pd){switch(pd.nextAddress){case 1:return pd.yield(ub.import("./[PART_MODULE]package loading progress indicator-2a95d429.js"),
2);case 2:if(!(Ka=pd.yieldResult)){pd.jumpTo(3);break}return pd.yield(window.loadCompiledFrozenPart("package loading progress indicator"),4);case 4:Ka=pd.yieldResult;case 3:return tb=Ka,pd.yield(Promise.resolve().then(function(){return td}),5);case 5:return yb=pd.yieldResult,zc=yb.bootstrap,pd.yield(zc({commit:Aa,loadingIndicator:za,progress:tb}),0)}})}},{key:"showVersions",value:function(){var Qa=this,Aa,za,Ka,tb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(yb){if(1==yb.nextAddress)return Aa=
Va.easings.inOutExpo,za=Qa.ui,Ka=za.previewContainer,tb=Qa.versionContainer,Qa.addMorph(tb),tb.reactsToPointer=tb.visible=!0,tb.initializeFromStartCommit(Qa._commit),Qa.animate({width:515,duration:200,easing:Aa}),Ka.animate({opacity:0,duration:200}),yb.yield(tb.animate({opacity:1,duration:200}),2);Ka.reactsToPointer=Ka.visible=!1;yb.jumpToEnd()})}},{key:"hideVersions",value:function(){var Qa=this,Aa,za,Ka,tb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(yb){if(1==yb.nextAddress)return Aa=
Va.easings.inOutExpo,za=Qa.ui,Ka=za.previewContainer,tb=Qa.versionContainer,Ka.reactsToPointer=Ka.visible=!0,Qa.animate({width:245,duration:200,easing:Aa}),Ka.animate({opacity:1,duration:200}),yb.yield(tb.animate({opacity:0,duration:200}),2);tb.reset();tb.remove();yb.jumpToEnd()})}},{key:"toggleDeleteButton",value:function(Qa){this.ui.deleteButton.visible=Qa}},{key:"onHoverIn",value:function(Qa){this.toggleDeleteButton(!0)}},{key:"onHoverOut",value:function(Qa){this.toggleDeleteButton(!1)}},{key:"tryToDelete",
value:function(){var Qa=this.ui.previewContainer,Aa=this.deleteWorldPrompt;this.addMorph(Aa);Aa.visible=!0;Aa.animate({top:0,left:0,opacity:1,duration:100});Qa.animate({opacity:.3,duration:100})}},{key:"confirmDelete",value:function(){}},{key:"cancelDelete",value:function(){var Qa=this,Aa,za,Ka;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tb){if(1==tb.nextAddress)return Aa=Qa.ui,za=Aa.previewContainer,Ka=Qa.deleteWorldPrompt,za.animate({opacity:1,duration:300}),tb.yield(Ka.animate({opacity:0,
duration:300}),2);Ka.remove();tb.jumpToEnd()})}},{key:"onMouseUp",value:function(Qa){var Aa=this.ui,za=Aa.openButton,Ka=Aa.versionButton,tb=Aa.deleteButton,yb=Aa.closeVersionsButton,zc=Aa.cancelDeleteButton;Aa=Aa.confirmDeleteButton;switch(Qa.targetMorph){case za:this.openWorld();break;case Ka:this.showVersions();break;case tb:this.tryToDelete();break;case yb:this.hideVersions();break;case Aa:this.confirmDelete();break;case zc:this.cancelDelete()}}}],[{key:"className",get:function(){return"WorldPreview"}},
{key:"properties",get:function(){return{deleteWorldPrompt:{set:function(Qa){Qa.isMorph||(Qa=Va.morph(Qa));this.setProperty("deleteWorldPrompt",Qa)}},versionContainer:{set:function(Qa){Qa.isMorph||(Qa=Va.morph(Qa));this.setProperty("versionContainer",Qa)}},ui:{readOnly:!0,get:function(){return{previewContainer:this.getSubmorphNamed("preview container"),versionContainer:this.getSubmorphNamed("version container"),preview:this.getSubmorphNamed("preview"),timestamp:this.getSubmorphNamed("timestamp"),title:this.getSubmorphNamed("title"),
description:this.getSubmorphNamed("description"),openButton:this.getSubmorphNamed("open button"),versionButton:this.getSubmorphNamed("version button"),spinner:this.getSubmorphNamed("spinner"),deleteButton:this.getSubmorphNamed("delete button"),closeVersionsButton:this.getSubmorphNamed("close versions button"),versionList:this.getSubmorphNamed("version list"),deleteWorldPrompt:this.getSubmorphNamed("delete world prompt"),cancelDeleteButton:this.getSubmorphNamed("cancel delete button"),confirmDeleteButton:this.getSubmorphNamed("confirm delete button")}}}}}}],
Vb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"WorldPreview",version:"0.1.1-198"}}},{start:444,end:7718})}(Va.Morph);Q=Va.WorldPreview;Va.default=Q;var Ab=lively.FreezerRuntime.recorderFor("WorldPreview/bootstrap.js");Ab.bootstrap=xc;Ab.fastPrepLivelySystem=function(Pc){return Promise.resolve().then(function(){Pc.status="starting fast system preparation..."}).then(function(){return Ab.resource(document.location.origin).join("package-registry.json").readJson()}).then(function(Vb){System["__lively.modules__packageRegistry"]=
lively.modules.PackageRegistry.fromJSON(System,Vb);return System}).then(function(){return Ab.loadViaScript("/lively.user/dist/lively.user-client.js")})};Ab.installFetchHook=function(Pc){lively.modules.installHook("fetch",function(Vb,Oa){Ab.loads++;Pc.status="loading "+Ab.string.truncateLeft(Oa.name.replace(window.System.baseURL,""),25,"...");Pc.progress=Ab.loads/(800-4*Object.keys(Ab.extractedModules).length);Pc.center=$world.innerBounds().center();return Vb(Oa)})};Ab.extractModules=function(Pc){Object.keys(lively.FreezerRuntime.registry).filter(function(Vb){return Vb.startsWith(Pc)}).forEach(function(Vb){Ab.extractedModules[window.origin+
"/"+Vb]=Object.assign({},lively.FreezerRuntime.registry[Vb].exports)})};Ab.loadComponents=function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Pc){switch(Pc.nextAddress){case 1:return Pc.yield(ub.import("./world-f49c2114.js"),2);case 2:return Pc.yield(ub.import("./editor-plugin-0f37a49e.js").then(function(Vb){return Vb.e}),3);case 3:return Pc.yield(ub.import("./editor-plugin-e6d6c88a.js"),4);case 4:return Pc.yield(ub.import("./index-a98bf65c.js"),5);case 5:return Pc.yield(ub.import("./client-command-8f9bbcf2.js"),
6);case 6:return Pc.yield(ub.import("./client-resource-f57e168b.js"),7);case 7:return Pc.yield(ub.import("./__root_module__-aa47e4cd.js").then(function(Vb){return Vb.b_}),8);case 8:Ab.extractModules("lively.bindings"),Ab.extractModules("lively.shell"),Ab.extractModules("lively.ide"),Ab.extractModules("lively.components"),Pc.jumpToEnd()}})};Ab.bootstrapLivelySystem=function(Pc,Vb,Oa){return Promise.resolve().then(function(){Pc.status="starting bootstrap process..."}).then(function(){var Qa,Aa,za,Ka,
tb,yb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(zc){switch(zc.nextAddress){case 1:return zc.yield(Vb.whenRendered(),2);case 2:if("frozen"!=Oa["lively.lang"]){zc.jumpTo(3);break}return zc.yield(ub.import("./__root_module__-aa47e4cd.js").then(function(pd){return pd.bY}),4);case 4:Qa=zc.yieldResult,Ab.extractModules("lively.lang"),Vb.finishPackage({packageName:"lively.lang",frozen:!0}),delete Qa._prevLivelyGlobal;case 3:if("frozen"!=Oa["lively.ast"]){zc.jumpTo(5);break}Aa=lively;return zc.yield(ub.import("./__root_module__-aa47e4cd.js").then(function(pd){return pd.bt}),
6);case 6:Aa.ast=zc.yieldResult,Ab.extractModules("lively.ast"),Vb.finishPackage({packageName:"lively.ast",frozen:!0});case 5:if("frozen"!=Oa["lively.source-transform"]){zc.jumpTo(7);break}za=lively;return zc.yield(ub.import("./__root_module__-aa47e4cd.js").then(function(pd){return pd.bZ}),8);case 8:za.sourceTransform=zc.yieldResult,Ab.extractModules("lively.source-transform"),Vb.finishPackage({packageName:"lively.source-transform",frozen:!0});case 7:if("frozen"!=Oa["lively.classes"]){zc.jumpTo(9);
break}return zc.yield(ub.import("./object-classes-36801758.js"),10);case 10:return Ka=lively,zc.yield(ub.import("./__root_module__-aa47e4cd.js").then(function(pd){return pd.c2}),11);case 11:Ka.classes=zc.yieldResult,Ab.extractModules("lively.class"),Vb.finishPackage({packageName:"lively.classes",frozen:!0});case 9:if("frozen"!=Oa["lively.vm"]){zc.jumpTo(12);break}tb=lively;return zc.yield(ub.import("./__root_module__-aa47e4cd.js").then(function(pd){return pd.bx}),13);case 13:tb.vm=zc.yieldResult,
Ab.extractModules("lively.vm"),Vb.finishPackage({packageName:"lively.vm",frozen:!0});case 12:if("frozen"!=Oa["lively.modules"]){zc.jumpTo(14);break}return zc.yield(ub.import("./__root_module__-aa47e4cd.js").then(function(pd){return pd.T}),15);case 15:Ab.extractModules("lively.modules"),Vb.finishPackage({packageName:"lively.modules",frozen:!0});case 14:if("frozen"!=Oa["lively.user"]){zc.jumpTo(16);break}return zc.yield(ub.import("./__root_module__-aa47e4cd.js").then(function(pd){return pd.c4}),17);
case 17:return zc.yield(ub.import("./user-ui-a3f53bac.js"),18);case 18:Ab.extractModules("lively.user"),Vb.finishPackage({packageName:"lively.user",frozen:!0});case 16:if("frozen"!=Oa["lively.storage"]){zc.jumpTo(19);break}return zc.yield(ub.import("./__root_module__-aa47e4cd.js").then(function(pd){return pd.c3}),20);case 20:Ab.extractModules("lively.storage"),Vb.finishPackage({packageName:"lively.storage",frozen:!0});case 19:if("frozen"!=Oa["lively.morphic"]){zc.jumpTo(0);break}return zc.yield(ub.import("./__root_module__-aa47e4cd.js").then(function(pd){return pd.c1}),
22);case 22:return Ab.extractModules("lively.resources"),zc.yield(ub.import("./client-362756e5.js"),23);case 23:return zc.yield(ub.import("./index-792c91c7.js"),24);case 24:return Ab.extractModules("lively.2lively"),zc.yield(ub.import("./__root_module__-aa47e4cd.js").then(function(pd){return pd.c0}),25);case 25:return Ab.extractModules("lively.serializer2"),zc.yield(Ab.loadComponents(),26);case 26:return zc.yield(ub.import("./index-f9b193f7.js").then(function(pd){return pd.i}),27);case 27:return Ab.extractModules("lively.halos"),
zc.yield(ub.import("./index-b8a9cfe8.js"),28);case 28:return Ab.extractModules("lively-system-interface"),zc.yield(ub.import("./__root_module__-aa47e4cd.js").then(function(pd){return pd.b$}),29);case 29:return Ab.extractModules("lively.graphics"),yb=lively,zc.yield(ub.import("./__root_module__-aa47e4cd.js").then(function(pd){return pd.c5}),30);case 30:yb.morphic=zc.yieldResult,Ab.extractModules("lively.morphic"),Vb.finishPackage({packageName:"lively.morphic",frozen:!0}),zc.jumpToEnd()}})}).then(function(){var Qa,
Aa,za,Ka;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tb){switch(tb.nextAddress){case 1:return tb.yield(Ab.resource(document.location.origin).join("package-registry.json").readJson(),2);case 2:return Qa=tb.yieldResult,tb.yield(Ab.loadViaScript("/lively.next-node_modules/babel-standalone/babel.js"),3);case 3:return tb.yield(Ab.loadViaScript("/lively.next-node_modules/systemjs/dist/system.src.js"),4);case 4:return window.System.config({baseURL:document.location.origin}),tb.yield(Ab.loadViaScript("/lively.modules/systemjs-init.js"),
5);case 5:Aa=lively.modules.getSystem("bootstrapped",{baseURL:document.location.origin});lively.modules.changeSystem(Aa,!0);Aa["__lively.modules__packageRegistry"]=lively.modules.PackageRegistry.fromJSON(Aa,Qa);for(za in Ab.extractedModules)Aa.set(za,Aa.newModule(Ab.extractedModules[za])),Ka=lively.modules.module(za),Ka._recorder=Ab.extractedModules[za],Ka._frozenModule=!0;Ab.installFetchHook(Pc);tb.jumpToEnd()}})}).then(function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){if("dynamic"==
Oa["lively.lang"])return Qa.return(Ab.importPackageAndDo("lively.lang",function(Aa){Vb.finishPackage({packageName:"lively.lang",loaded:!0});delete Aa._prevLivelyGlobal},Pc));Qa.jumpToEnd()})}).then(function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){Vb.animate({opacity:1,easing:Ab.easings.outExpo,duration:300});if("dynamic"==Oa["lively.ast"])return Qa.return(Ab.importPackageAndDo("lively.ast",function(Aa){Vb.finishPackage({packageName:"lively.ast",loaded:!0});lively.ast=Aa},
Pc));Qa.jumpToEnd()})}).then(function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){if("dynamic"==Oa["lively.source-transform"])return Qa.return(Ab.importPackageAndDo("lively.source-transform",function(Aa){Vb.finishPackage({packageName:"lively.source-transform",loaded:!0});lively.sourceTransform=Aa},Pc));Qa.jumpToEnd()})}).then(function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){if("dynamic"==Oa["lively.classes"])return Qa.return(Ab.importPackageAndDo("lively.classes",
function(Aa){Vb.finishPackage({packageName:"lively.classes",loaded:!0});lively.classes=Aa},Pc));Qa.jumpToEnd()})}).then(function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){if("dynamic"==Oa["lively.vm"])return Qa.return(Ab.importPackageAndDo("lively.vm",function(Aa){Vb.finishPackage({packageName:"lively.vm",loaded:!0});lively.vm=Aa},Pc));Qa.jumpToEnd()})}).then(function(){function Qa(Aa){lively.modules=Aa;lively.modules.unwrapModuleLoad();lively.modules.unwrapModuleResolution();
lively.modules.wrapModuleLoad();lively.modules.wrapModuleResolution();Ab.installFetchHook(Pc);var za=System["__lively.modules__packageRegistry"];delete System["__lively.modules__packageRegistry"];Aa=System["__lively.modules__packageRegistry"]=Aa.PackageRegistry.ofSystem(System);Object.assign(Aa,Ab.obj.select(za,["packageMap","individualPackageDirs","devPackageDirs","packageBaseDirs"]));Aa.resetByURL();za=Aa.allPackages();var Ka=lively.modules.module("lively.modules/src/packages/package.js").recorder.Package;
za.filter(function(yb){return!yb.constructor[Symbol.for("lively-module-meta")]}).forEach(function(yb){Ab.adoptObject(yb,Ka)});za=Object.values(System["__lively.modules__loadedModules"]);var tb=lively.modules.module("lively.modules/src/module.js").recorder.ModuleInterface;za.filter(function(yb){return!yb.constructor[Symbol.for("lively-module-meta")]}).forEach(function(yb){Ab.adoptObject(yb,tb)})}return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){if(1==Aa.nextAddress)return"frozen"==Oa["lively.modules"]?
(System._scripting=lively.modules.scripting,Aa.jumpTo(2)):Aa.yield(Ab.importPackageAndDo("lively.modules",Qa,Pc),2);Vb.finishPackage({packageName:"lively.modules",loaded:!0});Aa.jumpToEnd()})}).then(function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){if("dynamic"==Oa["lively.user"])return Qa.return(Ab.importPackageAndDo("lively.user",function(Aa){Vb.finishPackage({packageName:"lively.user",loaded:!0});lively.user=Aa},Pc));Qa.jumpToEnd()})}).then(function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){if("dynamic"==
Oa["lively.storage"])return Qa.return(Ab.importPackageAndDo("lively.storage",function(Aa){Vb.finishPackage({packageName:"lively.storage",loaded:!0});lively.storage=Aa},Pc));Qa.jumpToEnd()})})};Ab.importPackageAndDo=function(Pc,Vb,Oa){var Qa=Pc.split("/").slice(-1)[0];Oa.label="loading "+Qa;return lively.modules.importPackage(Pc).then(Vb||function(){})};Ab.polyfills=function(){var Pc=[];"PointerEvent"in window||Pc.push(Ab.loadViaScript(document.location.origin+"/lively.next-node_modules/pepjs/dist/pep.js"));
"fetch"in window||Pc.push(Ab.loadViaScript("//cdnjs.cloudflare.com/ajax/libs/fetch/1.0.0/fetch.js"));return Promise.all(Pc)};Ab.resource=ad;Ab.loadViaScript=qb;Ab.promise=ce;Ab.string=kd;Ab.obj=vc;Ab.modulePackage=cc;Ab.easings=jc;Ab.adoptObject=Vc;Ab.Color=nd;lively.modules=Ab.modulePackage;Ab.loginDone=!0;Ab.doBootstrap=!0;Ab.askBeforeQuit=!0;Ab.worldLoaded=!1;Ab.bootstrap=xc;Ab.bootstrap=xc;Ab.loads=0;Ab.extractedModules={};var td=Object.freeze({__proto__:null,bootstrap:xc})}}});
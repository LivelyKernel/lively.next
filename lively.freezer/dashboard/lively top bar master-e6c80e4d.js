System.register("./__root_module__-6d2e743c.js ./index-e6e24a9a.js kld-intersections ./world-6c99886d.js ./index-ecae4ac2.js ./index-9d4f3df2.js ./color-picker-69961ddf.js ./object-classes-0f5a7a9a.js ./user-ui-1e8d4469.js ./index-0983e45a.js".split(" "),function(){var Ma,rb,Db,hc,Kb,id,Zc,yd,Kc,sc,bd,hd,se,xe,ne,Rc,Pd,Hb,Gc,ud,Vc,Id,ie,Fb,Ac,$c,Bc,vd,pb;return{setters:[function(lb){Ma=lb.M;rb=lb.I;Db=lb.T;hc=lb.m;Kb=lb.O;id=lb.Q;Zc=lb.S;yd=lb.V;Kc=lb.W;sc=lb.X;bd=lb.Y;hd=lb.p;se=lb.R;xe=lb.C;
ne=lb.b;Rc=lb.Z;Pd=lb._;Hb=lb.v;Gc=lb.r;ud=lb.$;Vc=lb.a0;Id=lb.d;ie=lb.g;Fb=lb.o;Ac=lb.a1;$c=lb.i},function(){},function(){},function(lb){Bc=lb.Selection;vd=lb.SelectionElement},function(lb){pb=lb._},function(){},function(){},function(){},function(){},function(){}],execute:function(){var lb=lively.FreezerRuntime.recorderFor("LivelyTopBar/index.js");lb.Morph=Ma;lb.Icon=rb;lb.Tooltip=Db;lb.morph=hc;lb.Text=Kb;lb.Polygon=id;lb.Label=Zc;lb.Path=yd;lb.Image=Kc;lb.HTMLMorph=sc;lb.Ellipse=bd;lb.pt=hd;lb.Rectangle=
se;lb.Color=xe;lb.arr=ne;lb.Closure=Rc;lb.obj=Pd;lb.LoadingIndicator=Hb;lb.resource=Gc;lb.Canvas=ud;lb.getClassName=Vc;lb.Selection=Bc;lb.SelectionElement=vd;lb.connect=Id;lb.signal=ie;lb.once=Fb;lb.disconnect=Ac;lb.CommentBrowser=pb;var Zb=function(Mb){var ub=lively.FreezerRuntime.recorderFor("LivelyTopBar/index.js"),rc=ub.hasOwnProperty("LivelyTopBar")&&"function"===typeof ub.LivelyTopBar?ub.LivelyTopBar:ub.LivelyTopBar=function(Ua){Ua&&Ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return $c(rc,Mb,[{key:"__additionally_serialize__",value:function(Ua,Lb,mb,Gb){$c._get(Object.getPrototypeOf(rc.prototype),"__additionally_serialize__",this).call(this,Ua,Lb,mb,Gb);Gb("haloFilterFn",this.getProperty("haloFilterFn"))}},{key:"registerCustomShape",value:function(Ua,Lb,mb,Gb){this.shapeToClass[Ua]=Lb;this.keyToShape[mb]=Ua;this.shapeToIcon[Ua]={shortcut:mb,args:Gb};this.shapesCreatedViaDrag.push(Lb)}},{key:"beforePublish",value:function(){this.activeSideBars=[];this.currentShapeMode=
"Rectangle";this.setEditMode("Halo")}},{key:"onLoad",value:function(){var Ua=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Lb){if(1==Lb.nextAddress)return Ua.isComponent?Lb.return():Lb.yield(Ua.whenRendered(),2);delete Ua.shapeToIcon._rev;document.body.style.background="black";Ua.setEditMode("Halo");Ua.userFlap.getSubmorphNamed("fast load toggler").refresh();Lb.jumpToEnd()})}},{key:"onUserChanged",value:function(Ua){this.userFlap.onUserChanged(Ua)}},{key:"relayout",value:function(){this.respondsToVisibleWindow&&
(this.width=this.world().visibleBounds().width,this.position=lb.pt(0,0))}},{key:"adjustElements",value:function(){var Ua=this.get("ipad status bar");Ua&&(Ua.width=this.width);this.userFlap.owner==this&&(this.userFlap.right=this.width-10)}},{key:"getShapeMenuItems",value:function(){var Ua=this;return Object.entries(this.shapeToIcon).map(function(Lb){Lb=$jscomp.makeIterator(Lb);var mb=Lb.next().value,Gb=Lb.next().value;Lb=Gb.shortcut;Gb=Gb.args;return[[].concat($jscomp.arrayFromIterable(Ua.currentShapeMode===
mb?[].concat($jscomp.arrayFromIterable(lb.Icon.textAttribute("check",{fontSize:11,paddingTop:"2px"})),["   ",{}]):["     ",{}]),$jscomp.arrayFromIterable(lb.Icon.textAttribute.apply(lb.Icon,$jscomp.arrayFromIterable(Gb))),["   "+mb+" ",{float:"none"},"      "+Lb,{float:"right",fontSize:11,opacity:.5,fontFamily:"IBM Plex Mono"}]),function(){Ua.currentShapeMode=mb;Ua.setEditMode("Shape")}]})}},{key:"getSideBarMenuItems",value:function(){var Ua=this;return Object.entries(this.sideBarToIcon).map(function(Lb){Lb=
$jscomp.makeIterator(Lb);var mb=Lb.next().value;Lb=Lb.next().value.args;return[[].concat($jscomp.arrayFromIterable(Ua.activeSideBars.includes(mb)?[].concat($jscomp.arrayFromIterable(lb.Icon.textAttribute("check",{fontSize:11,paddingTop:"2px"})),["   ",{}]):["     ",{}]),$jscomp.arrayFromIterable(lb.Icon.textAttribute.apply(lb.Icon,$jscomp.arrayFromIterable(Lb))),["   "+mb+" ",{float:"none"}]),function(){return Ua.openSideBar(mb)}]})}},{key:"reloadSidebar",value:function(){this.sideBar.remove();this.sideBar=
null;this.stylingPalette.remove();this.stylingPalette=null;this.openSideBar("Scene Graph");this.openSideBar("Styling Palette")}},{key:"onKeyUp",value:function(Ua){"Hand"==this._tmpEditMode&&this.setEditMode("Hand",!0)}},{key:"onKeyDown",value:function(Ua){$c._get(Object.getPrototypeOf(rc.prototype),"onKeyDown",this).call(this,Ua);if(Ua.isCommandKey()&&"Hand"==this._tmpEditMode)this.setEditMode("Halo",!0);else if(!Ua.isAltDown()){var Lb=this.keyToShape;if(Lb[Ua.key])this.currentShapeMode=Lb[Ua.key],
this.setEditMode("Shape");else switch(Ua.key){case "Escape":this.setEditMode("Halo");break;case "T":this.setEditMode("Text")}}}},{key:"openSideBar",value:function(Ua){var Lb=this,mb,Gb,vc,Lc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cc){switch(cc.nextAddress){case 1:Lb.activeSideBars.includes(Ua)?lb.arr.remove(Lb.activeSideBars,Ua):Lb.activeSideBars.push(Ua);if("Scene Graph"!=Ua){cc.jumpTo(2);break}if(Lb.sideBar){cc.jumpTo(3);break}mb=lb.LoadingIndicator.open("loading side bar");
return cc.yield(mb.whenRendered(),4);case 4:return Gb=Lb,cc.yield(lb.resource("part://SystemIDE/scene graph side bar master").read(),5);case 5:return Gb.sideBar=cc.yieldResult,Lb.sideBar.hasFixedPosition=!0,Lb.sideBar.respondsToVisibleWindow=!0,Lb.sideBar.openInWorld(),Lb.sideBar.right=0,cc.yield(Lb.sideBar.whenRendered(),6);case 6:mb.remove();case 3:Lb.sideBar.toggle(Lb.activeSideBars.includes("Scene Graph"));case 2:if("Styling Palette"!=Ua){cc.jumpTo(0);break}if(Lb.stylingPalette){cc.jumpTo(8);
break}vc=lb.LoadingIndicator.open("loading side bar");return cc.yield(vc.whenRendered(),9);case 9:return Lc=Lb,cc.yield(lb.resource("part://SystemIDE/styling side bar master").read(),10);case 10:return Lc.stylingPalette=cc.yieldResult,Lb.stylingPalette.collapseAll(),Lb.stylingPalette.hasFixedPosition=!0,Lb.stylingPalette.respondsToVisibleWindow=!0,Lb.stylingPalette.openInWorld(),Lb.stylingPalette.left=Lb.world().width,cc.yield(Lb.stylingPalette.whenRendered(),11);case 11:vc.remove();case 8:Lb.stylingPalette.toggle(Lb.activeSideBars.includes("Styling Palette")),
cc.jumpToEnd()}})}},{key:"onMouseDown",value:function(Ua){var Lb=this.get("select shape type"),mb=this.get("shape mode button"),Gb=this.get("side bar selector"),vc=this.primaryTarget||this.world();Ua.targetMorph==Lb&&(this.world().openWorldMenu(Ua,this.getShapeMenuItems()).position=mb.globalBounds().bottomLeft().subPt(this.world().scroll));"undo button"==Ua.targetMorph.name&&vc.execCommand("undo");"redo button"==Ua.targetMorph.name&&vc.execCommand("redo");"save button"==Ua.targetMorph.name&&$world.execCommand("save world");
Ua.targetMorph==mb&&this.setEditMode("Shape");"text mode button"==Ua.targetMorph.name&&this.setEditMode("Text");"hand mode button"==Ua.targetMorph.name&&this.setEditMode("Hand");"halo mode button"==Ua.targetMorph.name&&this.setEditMode("Halo");"open component browser"==Ua.targetMorph.name&&this.interactivelyLoadComponent();"load world button"==Ua.targetMorph.name&&this.world().execCommand("load world");"comment browser button"==Ua.targetMorph.name&&this.toggleCommentBrowser();Ua.targetMorph==Gb&&
(this.world().openWorldMenu(Ua,this.getSideBarMenuItems()).position=Gb.globalBounds().bottomLeft().subPt(this.world().scroll))}},{key:"colorCommentBrowserButton",value:function(){var Ua=this.get("user flap"),Lb=Ua.haloShadow;Ua=Ua.haloColor;var mb=this.get("comment browser button");mb.fontColor=Ua;mb.dropShadow=Lb}},{key:"uncolorCommentBrowserButton",value:function(){var Ua=this.get("comment browser button"),Lb=lb.Color.rgb(102,102,102);Ua.dropShadow=!1;Ua.fontColor=Lb}},{key:"toggleCommentBrowser",
value:function(){var Ua=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Lb){lb.CommentBrowser.isOpen()?Ua.uncolorCommentBrowserButton():Ua.colorCommentBrowserButton();return Lb.yield(Ua.world().execCommand("toggle comment browser"),0)})}},{key:"commentCountBadge",get:function(){return this.get("comment browser button").get("comment count badge")}},{key:"interactivelyLoadComponent",value:function(){var Ua=this,Lb,mb,Gb,vc,Lc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cc){if(1==
cc.nextAddress)return Lb=Ua.get("open component browser"),mb=Ua.userFlap,Gb=mb.haloShadow,vc=mb.haloColor,Lc=lb.Color.rgb(102,102,102),Lb.fontColor=vc,Lb.dropShadow=Gb,cc.yield(Ua.world().execCommand("browse and load component"),2);Lb.dropShadow=!1;Lb.fontColor=Lc;cc.jumpToEnd()})}},{key:"setEditMode",value:function(Ua,Lb){var mb=this;Lb=void 0===Lb?!1:Lb;this.editMode=Ua;var Gb=this.primaryTarget||this.world(),vc=this.userFlap,Lc=vc.haloShadow,cc=vc.haloColor,Vb=lb.Color.rgb(102,102,102);Lb||(this._tmpEditMode=
Ua);vc=this.get("shape mode button");var Ub=this.get("text mode button"),Ga=this.get("hand mode button"),jb=this.get("halo mode button");[["Shape",vc.submorphs],["Text",[Ub]],["Hand",[Ga]],["Halo",[jb]]].forEach(function(X){var ha=$jscomp.makeIterator(X);X=ha.next().value;ha=ha.next().value;"Shape"==Ua?mb.toggleShapeMode(Gb,!0,mb.currentShapeMode):"Text"==Ua?mb.toggleShapeMode(Gb,!0,"Text"):mb.toggleShapeMode(Gb,!1);mb.showHaloPreviews("Halo"==Ua);Lb||"Halo"==Ua||mb.world().halos().forEach(function(Fa){return Fa.remove()});
X==Ua?ha.forEach(function(Fa){Fa.dropShadow=Lc;Fa.fontColor=cc}):ha.forEach(function(Fa){Fa.dropShadow=null;Fa.fontColor=Vb})})}},{key:"canBeCreatedViaDrag",value:function(Ua){return this.shapesCreatedViaDrag.includes(Ua)}},{key:"toggleShapeMode",value:function(Ua,Lb,mb){var Gb=this.shapeToClass;Lb?(Ua.nativeCursor="crosshair",Ua._yieldShapeOnClick=Gb[mb]):(Ua._yieldShapeOnClick=!1,Ua.nativeCursor="auto")}},{key:"handleShapeCreation",value:function(Ua){var Lb=this.primaryTarget||this.world(),mb=Lb._yieldShapeOnClick;
if(!mb)return!1;Lb._sizeTooltip&&Lb._sizeTooltip.remove();if(Ua.targetMorph!=Lb)return!1;if(Lb._shapeRequest&&mb&&!Lb._yieldedShape){var Gb=Lb.localize(this.world().firstHand.position);switch(mb){case lb.Image:Lb.addMorph(lb.morph({type:mb,position:Gb,extent:lb.pt(150,150),fill:lb.Color.transparent,imageUrl:"https://i.imgur.com/uGRFZEs.jpg"}));break;case lb.Label:Lb.addMorph(lb.morph({type:mb,position:Gb,value:"I am a label!",fill:lb.Color.transparent}));break;case lb.Text:if(Ua.targetMorph.isText)return;
Lb.addMorph(lb.morph({type:mb,position:Gb,readOnly:!0,textString:"I am a text field!",fill:lb.Color.transparent}))}}mb==lb.Text&&Lb._yieldedShape?Lb._yieldedShape.focus():Lb._yieldedShape&&Lb._yieldedShape.owner&&this.showHaloFor(Lb._yieldedShape);Lb._yieldedShape=null;Lb._shapeRequest=!1}},{key:"prepareShapeCreation",value:function(Ua){var Lb=this.primaryTarget||this.world(),mb=Lb._yieldShapeOnClick;if(!mb||!this.canBeCreatedViaDrag(mb))return!1;Lb._yieldedShape=lb.morph(Object.assign({type:mb,position:Ua.positionIn(Lb),
extent:lb.pt(1,1),fill:lb.Color.transparent,borderWidth:1,borderColor:lb.Color.rgb(23,160,251),fixedHeight:!0,fixedWidth:!0,lineWrapping:!0},mb==lb.Text?this.getDefaultTextAttrs():{},{},mb==lb.Image?this.getImageDefaultAttrs():{},{},mb==lb.Polygon?this.getPolyDefaultAttrs():{},{},mb==lb.Path?this.getPathDefaultAttrs():{}));Lb._sizeTooltip=lb.morph({type:lb.Tooltip,padding:lb.Rectangle.inset(5,5,5,5),styleClasses:["Tooltip"]}).openInWorld();return!0}},{key:"getPolyDefaultAttrs",value:function(){return{vertices:[lb.pt(131.4,
86.3),lb.pt(171,139.6),lb.pt(105.9,119.9),lb.pt(65.3,172.5),lb.pt(64.7,107),lb.pt(0,86.3),lb.pt(64.7,65.5),lb.pt(65.3,0),lb.pt(105.9,52.6),lb.pt(171,32.9),lb.pt(131.4,86.3)],borderWidth:1}}},{key:"getPathDefaultAttrs",value:function(){return{vertices:[lb.pt(0,0),lb.pt(1,1)],borderWidth:1}}},{key:"getImageDefaultAttrs",value:function(){return{imageUrl:"https://i.imgur.com/uGRFZEs.jpg"}}},{key:"getDefaultTextAttrs",value:function(){return{readOnly:!0}}},{key:"yieldShapeIfNeeded",value:function(Ua){var Lb=
this.primaryTarget||this.world();return Lb._yieldedShape?(!Lb._yieldedShape.owner&&10<Ua.state.absDragDelta.r()&&Lb.addMorph(Lb._yieldedShape),Lb._yieldedShape.extent=Ua.positionIn(Lb.world()).subPt(Ua.state.dragStartPosition).subPt(lb.pt(1,1)).maxPt(lb.pt(1,1)),Lb._sizeTooltip.description=Lb._yieldShapeOnClick[Symbol.for("__LivelyClassName__")]+": "+Lb._yieldedShape.width.toFixed(0)+"x"+Lb._yieldedShape.height.toFixed(0),Lb._sizeTooltip.topLeft=Ua.positionIn(Lb.world()).addXY(15,15),!0):!1}},{key:"handleHaloSelection",
value:function(Ua){var Lb=this.world(),mb=this.primaryTarget||Lb;this._showHaloPreview&&this._currentlyHighlighted&&0==Lb.halos().length&&(Ua.stop(),Lb.getSubmorphsByStyleClassName("HaloPreview").forEach(function(Gb){return Gb.remove()}),this.showHaloFor(this._currentlyHighlighted));Ua.targetMorph==mb&&(mb._shapeRequest=!0)}},{key:"showHaloFor",value:function(Ua){var Lb=this;if(Ua){if(lb.obj.isArray(Ua)){if(0==Ua.length)return;var mb=this.world().showHaloForSelection(Ua)}else mb=this.world().showHaloFor(Ua);
lb.once(mb,"remove",function(){mb.target!=Lb.world().focusedMorph&&lb.signal(Lb.primaryTarget,"onHaloRemoved",Ua)});this.activeHaloItems.includes("*")||(mb.activeItems=this.activeHaloItems);mb.topBar=this;lb.signal(this.primaryTarget,"onHaloOpened",Ua)}}},{key:"handleHaloPreview",value:function(Ua){if(this._showHaloPreview){var Lb=this.haloFilterFn,mb=this.primaryTarget||this.world(),Gb=mb.morphsContainingPoint(Ua.positionIn(mb.world()));"hoverout"==Ua.type&&(Gb=[mb]);Ua=Gb.filter(function(vc){return Lb(vc)&&
vc.halosEnabled&&[vc].concat($jscomp.arrayFromIterable(vc.ownerChain())).every(function(Lc){return Lc.visible&&0<Lc.opacity&&!Lc.styleClasses.includes("HaloPreview")})})[0];Gb.find(function(vc){return vc.isMenuItem})||this.showHaloPreviewFor(Ua)}}},{key:"showHaloPreviewFor",value:function(Ua){var Lb=this.primaryTarget||this.world();if(Ua&&(![Ua].concat($jscomp.arrayFromIterable(Ua.ownerChain())).find(function(mb){return mb.isComponent})&&Ua.getWindow()?Ua=null:[Ua].concat($jscomp.arrayFromIterable(Ua.ownerChain())).find(function(mb){return mb.isEpiMorph})?
Ua=null:Ua==Lb&&(Ua=null),this._currentlyHighlighted!=Ua&&(this.clearHaloPreviews(),this._currentlyHighlighted=Ua),!(0<this.world().halos().length)&&Ua)){this._previewCache||(this._previewCache=new WeakMap);Lb=lb.Morph;switch(lb.getClassName(Ua)){case "Ellipse":Lb=lb.Ellipse}Lb=this._previewCache.get(Ua)||lb.morph({type:Lb,styleClasses:["HaloPreview"],epiMorph:!0,fill:lb.Color.transparent,reactsToPointer:!1,halosEnabled:!1,acceptsDrops:!1,border:{color:lb.Color.rgb(23,160,251),width:1}});Lb.owner||
this.world().addMorph(Lb);Lb.setBounds(Ua.globalBounds());Lb.borderColor=lb.Color.rgb(23,160,251);Lb.borderStyle="solid";Ua.master&&(Lb.borderColor=lb.Color.purple);Ua.ownerChain().find(function(mb){return mb.master&&mb.master.managesMorph(Ua)})&&(Lb.borderColor=lb.Color.purple,Lb.borderStyle="dotted");Ua.isComponent&&(Lb.borderColor=lb.Color.magenta);this._previewCache.set(Ua,Lb)}}},{key:"showHaloPreviews",value:function(Ua){Ua||this.clearHaloPreviews();this._showHaloPreview=Ua}},{key:"clearHaloPreviews",
value:function(){this.world().getSubmorphsByStyleClassName("HaloPreview").forEach(function(Ua){return Ua.remove()})}},{key:"prepareDragSelection",value:function(Ua){var Lb=(this.primaryTarget||this.world()).world();this._selectionStartPos=Ua.positionIn(Lb);this._morphSelection=Lb.addMorph({type:lb.Selection,epiMorph:!0,reactsToPointer:!1,position:this._selectionStartPos,extent:Ua.state.dragDelta});this._selectedMorphs={}}},{key:"adjustDragSelection",value:function(Ua){var Lb=this,mb=this.primaryTarget||
this.world(),Gb=mb.world(),vc=lb.Rectangle.fromAny(Ua.position,this._selectionStartPos);this._morphSelection.setBounds(vc);mb.submorphs.forEach(function(Lc){if(!Lc.isSelectionElement&&!Lc.isHand){var cc=Lc.globalBounds(),Vb=vc.containsRect(cc);!Lb._selectedMorphs[Lc.id]&&Vb&&(Lb._selectedMorphs[Lc.id]=Gb.addMorph({type:lb.SelectionElement,bounds:cc},Lb._morphSelection));Lb._selectedMorphs[Lc.id]&&!Vb&&(Lb._selectedMorphs[Lc.id].remove(),delete Lb._selectedMorphs[Lc.id])}})}},{key:"finishDragSelectionIfNeeded",
value:function(Ua){if(this._morphSelection){var Lb=this.world();this._morphSelection.fadeOut(200);lb.obj.values(this._selectedMorphs).map(function(mb){return mb.remove()});this.showHaloFor(Object.keys(this._selectedMorphs).map(function(mb){return Lb.getMorphWithId(mb)}));this._selectedMorphs={};this._morphSelection=null}}},{key:"onTargetDragStart",value:function(Ua){!this.prepareShapeCreation(Ua)&&Ua.leftMouseButtonPressed()&&this.prepareDragSelection(Ua)}},{key:"onTargetDrag",value:function(Ua){!this.yieldShapeIfNeeded(Ua)&&
this._morphSelection&&this.adjustDragSelection(Ua)}},{key:"detachFromTarget",value:function(Ua){lb.disconnect(Ua,"onMouseMove",this,"handleHaloPreview");lb.disconnect(Ua,"onMouseDown",this,"handleHaloSelection");lb.disconnect(Ua,"onMouseUp",this,"handleShapeCreation");lb.disconnect(Ua,"onDragStart",this,"onTargetDragStart");lb.disconnect(Ua,"onDrag",this,"onTargetDrag");lb.disconnect(Ua,"onDragEnd",this,"finishDragSelectionIfNeeded")}},{key:"attachToTarget",value:function(Ua){this.primaryTarget&&
this.detachFromTarget(this.primaryTarget);this.primaryTarget=Ua;this.setEditMode("Halo");lb.connect(Ua,"onMouseMove",this,"handleHaloPreview",{garbageCollect:!0});lb.connect(Ua,"onHoverOut",this,"handleHaloPreview",{garbageCollect:!0});lb.connect(Ua,"onMouseDown",this,"handleHaloSelection",{garbageCollect:!0});lb.connect(Ua,"onMouseUp",this,"handleShapeCreation",{garbageCollect:!0});lb.connect(Ua,"onDragStart",this,"onTargetDragStart",{garbageCollect:!0});lb.connect(Ua,"onDrag",this,"onTargetDrag",
{garbageCollect:!0});lb.connect(Ua,"onDragEnd",this,"finishDragSelectionIfNeeded",{garbageCollect:!0})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LivelyTopBar"}},{key:"properties",get:function(){return{isTopBar:{readOnly:!0,get:function(){return!0}},activeHaloItems:{initialize:function(Ua){Ua||(this.activeHaloItems=["*"])}},primaryTarget:{doc:"A reference to the morph that the top bar considers its primary target",defaultValue:null},haloFilterFn:{defaultValue:"() => true",derived:!0,
set:function(Ua){this.setProperty("haloFilterFn",Ua)},get:function(){return lb.Closure.fromSource(this.getProperty("haloFilterFn"),{target:this.primaryTarget}).asFunction()}},userFlap:{},activeSideBars:{},currentShapeMode:{after:["submorphs"],set:function(Ua){this.setProperty("currentShapeMode",Ua);this.get("shape status icon").textAndAttributes=lb.Icon.textAttribute(this.shapeToIcon[Ua].args[0])}},sideBarToIcon:{readOnly:!0,get:function(){return{"Scene Graph":{args:["sitemap",{textStyleClasses:["fas"]}]},
"Styling Palette":{args:["palette",{textStyleClasses:["fas"]}]}}}},shapeToIcon:{initialize:function(Ua){this.shapeToIcon=Ua||{Rectangle:{shortcut:"R",args:["square",{textStyleClasses:["fas"]}]},Ellipse:{shortcut:"E",args:["circle",{textStyleClasses:["fas"]}]},Image:{shortcut:"I",args:["image",{textStyleClasses:["fas"],paddingTop:"1px"}]},Path:{shortcut:"P",args:["bezier-curve",{fontSize:13,paddingTop:"3px"}]},Polygon:{shortcut:"Q",args:["draw-polygon",{fontSize:17}]},Label:{shortcut:"L",args:["tag",
{paddingTop:"1px"}]},Canvas:{shortcut:"C",args:["chess-board",{paddingTop:"1px"}]},HTML:{shortcut:"H",args:["code",{paddingTop:"1px"}]}}}},keyToShape:{initialize:function(Ua){this.keyToShape=Ua||{R:"Rectangle",E:"Ellipse",I:"Image",P:"Path",Q:"Polygon",L:"Label",C:"Canvas",H:"HTML"}}},shapeToClass:{serialize:!1,defaultValue:{Rectangle:lb.Morph,Ellipse:lb.Ellipse,HTML:lb.HTMLMorph,Canvas:lb.Canvas,Image:lb.Image,Path:lb.Path,Label:lb.Label,Polygon:lb.Polygon,Text:lb.Text}},shapesCreatedViaDrag:{serialize:!1,
initialize:function(){this.shapesCreatedViaDrag=[lb.Morph,lb.Ellipse,lb.HTMLMorph,lb.Canvas,lb.Text,lb.Polygon,lb.Path,lb.Image]}}}}}],ub,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"LivelyTopBar",version:"0.1.1-269"}}},{start:740,end:24410})}(lb.Morph);Zb=lb.LivelyTopBar;lb.default=Zb}}});
System.register(["./__root_module__-64e296ea.js","kld-intersections"],function(Ba,Ab){var Qb,dc,Xb,Xd,ad,Nd,dd,Lc,rd,Gd,ke,Kd,Hc,fb,Db,mc,hc,Tc,Ld,oc,pc,Nb,Dc,Vc,Hd,Id;return{setters:[function(rb){Qb=rb.$;dc=rb.au;Xb=rb.a6;Xd=rb.s;ad=rb.r;Nd=rb.a3;dd=rb.a1;Lc=rb.C;rd=rb.ar;Gd=rb.av;ke=rb.as;Kd=rb.ao;Hc=rb.aw;fb=rb.aB;Db=rb.ap;mc=rb.aa;hc=rb.aj;Tc=rb.aR;Ld=rb.aF;oc=rb.h;pc=rb.bO;Nb=rb.bP;Dc=rb.ad;Vc=rb.L;Hd=rb.bQ;Id=rb.at},function(){}],execute:function(){var rb=window.gapi=window.gapi||{};rb._bs=
(new Date).getTime();(function(){function Mc(da){if(Error.captureStackTrace)Error.captureStackTrace(this,Mc);else{var wa=Error().stack;wa&&(this.stack=wa)}da&&(this.message=String(da))}var qb="function"==typeof Object.defineProperties?Object.defineProperty:function(da,wa,kb){if(da==Array.prototype||da==Object.prototype)return da;da[wa]=kb.value;return da},tb=function(da){da=["object"==typeof globalThis&&globalThis,da,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&
global];for(var wa=0;wa<da.length;++wa){var kb=da[wa];if(kb&&kb.Math==Math)return kb}throw Error("Cannot find global object");}(this),eb=function(da,wa){if(wa)a:{var kb=tb;da=da.split(".");for(var Ib=0;Ib<da.length-1;Ib++){var tc=da[Ib];if(!(tc in kb))break a;kb=kb[tc]}da=da[da.length-1];Ib=kb[da];wa=wa(Ib);wa!=Ib&&null!=wa&&qb(kb,da,{configurable:!0,writable:!0,value:wa})}},ob=function(da){var wa=0;return function(){return wa<da.length?{done:!1,value:da[wa++]}:{done:!0}}};eb("Symbol",function(da){if(da)return da;
var wa=function(tc,Xc){this.ba=tc;qb(this,"description",{configurable:!0,writable:!0,value:Xc})};wa.prototype.toString=function(){return this.ba};var kb=0,Ib=function(tc){if(this instanceof Ib)throw new TypeError("Symbol is not a constructor");return new wa("jscomp_symbol_"+(tc||"")+"_"+kb++,tc)};return Ib});eb("Symbol.iterator",function(da){if(da)return da;da=Symbol("Symbol.iterator");for(var wa="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),
kb=0;kb<wa.length;kb++){var Ib=tb[wa[kb]];"function"===typeof Ib&&"function"!=typeof Ib.prototype[da]&&qb(Ib.prototype,da,{configurable:!0,writable:!0,value:function(){return wb(ob(this))}})}return da});var wb=function(da){da={next:da};da[Symbol.iterator]=function(){return this};return da},cb=function(da,wa){da instanceof String&&(da+="");var kb=0,Ib=!1,tc={next:function(){if(!Ib&&kb<da.length){var Xc=kb++;return{value:wa(Xc,da[Xc]),done:!1}}Ib=!0;return{done:!0,value:void 0}}};tc[Symbol.iterator]=
function(){return tc};return tc};eb("Array.prototype.keys",function(da){return da?da:function(){return cb(this,function(wa){return wa})}});var Oa=this||self,Gb=function(da){var wa=typeof da;return"object"!=wa?wa:da?Array.isArray(da)?"array":wa:"null"},sc=function(da,wa,kb){return da.call.apply(da.bind,arguments)},vc=function(da,wa,kb){if(!da)throw Error();if(2<arguments.length){var Ib=Array.prototype.slice.call(arguments,2);return function(){var tc=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(tc,
Ib);return da.apply(wa,tc)}}return function(){return da.apply(wa,arguments)}},fc=function(da,wa,kb){fc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sc:vc;return fc.apply(null,arguments)},rc=function(da,wa){function kb(){}kb.prototype=wa.prototype;da.ma=wa.prototype;da.prototype=new kb;da.prototype.constructor=da;da.A=function(Ib,tc,Xc){for(var ne=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ne[Ze-2]=arguments[Ze];return wa.prototype[tc].apply(Ib,
ne)}},Q=function(da){return da},ha=function(da){var wa=null,kb=Oa.trustedTypes;if(!kb||!kb.createPolicy)return wa;try{wa=kb.createPolicy(da,{createHTML:Q,createScript:Q,createScriptURL:Q})}catch(Ib){Oa.console&&Oa.console.error(Ib.message)}return wa};rc(Mc,Error);Mc.prototype.name="CustomError";var Ga=function(da,wa){da=da.split("%s");for(var kb="",Ib=da.length-1,tc=0;tc<Ib;tc++)kb+=da[tc]+(tc<wa.length?wa[tc]:"%s");Mc.call(this,kb+da[Ib])};rc(Ga,Mc);Ga.prototype.name="AssertionError";var La=function(da,
wa,kb,Ib){var tc="Assertion failed";if(kb){tc+=": "+kb;var Xc=Ib}else da&&(tc+=": "+da,Xc=wa);throw new Ga(""+tc,Xc||[]);},Yb=function(da,wa,kb){da||La("",null,wa,Array.prototype.slice.call(arguments,2));return da},kc=function(da,wa){throw new Ga("Failure"+(da?": "+da:""),Array.prototype.slice.call(arguments,1));},Ua=function(da,wa,kb){"string"!==typeof da&&La("Expected string but got %s: %s.",[Gb(da),da],wa,Array.prototype.slice.call(arguments,2))},ec=function(da,wa){a:{try{var kb=da&&da.ownerDocument,
Ib=kb&&(kb.defaultView||kb.parentWindow);Ib=Ib||Oa;if(Ib.Element&&Ib.Location){kb=Ib;break a}}catch(Xc){}kb=null}if(kb&&"undefined"!=typeof kb[wa]&&(!da||!(da instanceof kb[wa])&&(da instanceof kb.Location||da instanceof kb.Element))){kb=typeof da;if("object"==kb&&null!=da||"function"==kb)try{var tc=da.constructor.displayName||da.constructor.name||Object.prototype.toString.call(da)}catch(Xc){tc="<object could not be stringified>"}else tc=void 0===da?"undefined":null===da?"null":typeof da;kc("Argument is not a %s (or a non-Element, non-Location mock); got: %s",
wa,tc)}return da},ge,ee=function(da,wa){this.P=da===Rc&&wa||"";this.ca=ab};ee.prototype.J=!0;ee.prototype.H=function(){return this.P};ee.prototype.toString=function(){return"Const{"+this.P+"}"};var ed=function(da){if(da instanceof ee&&da.constructor===ee&&da.ca===ab)return da.P;kc("expected object of type Const, got '"+da+"'");return"type_error:Const"},ab={},Rc={},pb=function(da,wa){this.N=wa===Sa?da:""};pb.prototype.J=!0;pb.prototype.H=function(){return this.N.toString()};pb.prototype.toString=function(){return"SafeUrl{"+
this.N+"}"};var bd=function(da){if(da instanceof pb&&da.constructor===pb)return da.N;kc("expected object of type SafeUrl, got '"+da+"' of type "+Gb(da));return"type_error:SafeUrl"},od=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,lb=function(da){if(da instanceof pb)return da;da="object"==typeof da&&da.J?da.H():String(da);Yb(od.test(da),"%s does not match the safe URL pattern",da)||(da="about:invalid#zClosurez");return new pb(da,Sa)},Sa={},qc=function(da,wa,kb){this.M=kb===Zd?da:""};qc.prototype.J=
!0;qc.prototype.H=function(){return this.M.toString()};qc.prototype.toString=function(){return"SafeHtml{"+this.M+"}"};var le=function(da){if(da instanceof qc&&da.constructor===qc)return da.M;kc("expected object of type SafeHtml, got '"+da+"' of type "+Gb(da));return"type_error:SafeHtml"},Zd={},Fe=new qc(Oa.trustedTypes&&Oa.trustedTypes.emptyHTML||"",0,Zd),Oc={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},te=function(da){var wa=!1,kb;return function(){wa||(kb=da(),wa=!0);return kb}}(function(){if("undefined"===
typeof document)return!1;var da=document.createElement("div"),wa=document.createElement("div");wa.appendChild(document.createElement("div"));da.appendChild(wa);if(!da.firstChild)return!1;wa=da.firstChild.firstChild;da.innerHTML=le(Fe);return!wa.parentElement}),md=window,Eb=document,xa=md.location,Ca=function(){},Mb=/\[native code\]/,P=function(da,wa,kb){return da[wa]=da[wa]||kb},za=function(da){for(var wa=0;wa<this.length;wa++)if(this[wa]===da)return wa;return-1},Ta=function(da){da=da.sort();for(var wa=
[],kb=void 0,Ib=0;Ib<da.length;Ib++){var tc=da[Ib];tc!=kb&&wa.push(tc);kb=tc}return wa},Fb=/&/g,Cc=/</g,Uc=/>/g,he=/"/g,we=/'/g,nf=function(da){return String(da).replace(Fb,"&amp;").replace(Cc,"&lt;").replace(Uc,"&gt;").replace(he,"&quot;").replace(we,"&#39;")},yd=function(){var da;if((da=Object.create)&&Mb.test(da))da=da(null);else{da={};for(var wa in da)da[wa]=void 0}return da},Ce=function(da,wa){return Object.prototype.hasOwnProperty.call(da,wa)},wf=function(da){if(Mb.test(Object.keys))return Object.keys(da);
var wa=[],kb;for(kb in da)Ce(da,kb)&&wa.push(kb);return wa},Ie=function(da,wa){da=da||{};for(var kb in da)Ce(da,kb)&&(wa[kb]=da[kb])},Fg=function(da){return function(){md.setTimeout(da,0)}},Rf=function(da,wa){if(!da)throw Error(wa||"");},Jc=P(md,"gapi",{}),of=function(da,wa,kb){var Ib=new RegExp("([#].*&|[#])"+wa+"=([^&#]*)","g");wa=new RegExp("([?#].*&|[?#])"+wa+"=([^&#]*)","g");if(da=da&&(Ib.exec(da)||wa.exec(da)))try{kb=decodeURIComponent(da[2])}catch(tc){}return kb},pg=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+
/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),qg=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,ff=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),Ja=/%([a-f]|[0-9a-fA-F][a-f])/g,$a=/^(https?|ftp|file|chrome-extension):$/i,Bb=function(da){da=String(da);da=da.replace(qg,function(tc){try{return encodeURIComponent(tc)}catch(Xc){return encodeURIComponent(tc.replace(/^[^%]+$/g,
"\ufffd"))}}).replace(ff,function(tc){return tc.replace(/%/g,"%25")}).replace(Ja,function(tc){return tc.toUpperCase()});da=da.match(pg)||[];var wa=yd(),kb=function(tc){return tc.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},Ib=!!(da[1]||"").match($a);wa.A=kb((da[1]||"")+(da[2]||"")+(da[3]||(da[2]&&Ib?"/":"")));Ib=function(tc){return kb(tc.replace(/\?/g,"%3F").replace(/#/g,"%23"))};wa.query=da[5]?[Ib(da[5])]:[];wa.g=da[7]?
[Ib(da[7])]:[];return wa},ba=function(da){return da.A+(0<da.query.length?"?"+da.query.join("&"):"")+(0<da.g.length?"#"+da.g.join("&"):"")},Ia=function(da,wa){var kb=[];if(da)for(var Ib in da)if(Ce(da,Ib)&&null!=da[Ib]){var tc=wa?wa(da[Ib]):da[Ib];kb.push(encodeURIComponent(Ib)+"="+encodeURIComponent(tc))}return kb},nb=function(da,wa,kb,Ib){da=Bb(da);da.query.push.apply(da.query,Ia(wa,Ib));da.g.push.apply(da.g,Ia(kb,Ib));return ba(da)},zb=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+
"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),Ec=function(da,wa){var kb=Bb(wa);wa=kb.A;kb.query.length&&(wa+="?"+kb.query.join(""));kb.g.length&&(wa+="#"+kb.g.join(""));var Ib="";2E3<wa.length&&(Ib=wa,wa=wa.substr(0,2E3),wa=wa.replace(zb,""),Ib=Ib.substr(wa.length));var tc=da.createElement("div");da=da.createElement("a");kb=Bb(wa);wa=kb.A;kb.query.length&&(wa+="?"+kb.query.join(""));kb.g.length&&(wa+="#"+kb.g.join(""));wa=new pb(wa,Sa);ec(da,"HTMLAnchorElement");
wa=wa instanceof pb?wa:lb(wa);da.href=bd(wa);tc.appendChild(da);wa=tc.innerHTML;kb=new ee(Rc,"Assignment to self.");Ua(ed(kb),"must provide justification");Yb(!/^[\s\xa0]*$/.test(ed(kb)),"must provide non-empty justification");void 0===ge&&(ge=ha("gapi#html"));wa=(kb=ge)?kb.createHTML(wa):wa;wa=new qc(wa,null,Zd);if(tc.tagName&&Oc[tc.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+tc.tagName+".");if(te())for(;tc.lastChild;)tc.removeChild(tc.lastChild);
tc.innerHTML=le(wa);wa=String(tc.firstChild.href);tc.parentNode&&tc.parentNode.removeChild(tc);kb=Bb(wa+Ib);Ib=kb.A;kb.query.length&&(Ib+="?"+kb.query.join(""));kb.g.length&&(Ib+="#"+kb.g.join(""));return Ib},Gc=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,qd=function(da,wa,kb,Ib){if(md[kb+"EventListener"])md[kb+"EventListener"](da,wa,!1);else if(md[Ib+"tachEvent"])md[Ib+"tachEvent"]("on"+da,wa)},sd=function(){var da=Eb.readyState;return"complete"===da||"interactive"===da&&-1==navigator.userAgent.indexOf("MSIE")},
vd=function(da){var wa=cq;if(!sd())try{wa()}catch(kb){}Cf(da)},Cf=function(da){if(sd())da();else{var wa=!1,kb=function(){if(!wa)return wa=!0,da.apply(this,arguments)};md.addEventListener?(md.addEventListener("load",kb,!1),md.addEventListener("DOMContentLoaded",kb,!1)):md.attachEvent&&(md.attachEvent("onreadystatechange",function(){sd()&&kb.apply(this,arguments)}),md.attachEvent("onload",kb))}},yg=function(da){for(;da.firstChild;)da.removeChild(da.firstChild)},fg={button:!0,div:!0,span:!0};var xf=
P(md,"___jsl",yd());P(xf,"I",0);P(xf,"hel",10);var ri=function(da){return xf.dpo?xf.h:of(da,"jsh",xf.h)},Lh=function(da){var wa=P(xf,"sws",[]);wa.push.apply(wa,da)},Aj=function(da){return P(xf,"watt",yd())[da]},Zh=function(da){var wa=P(xf,"PQ",[]);xf.PQ=[];var kb=wa.length;if(0===kb)da();else for(var Ib=0,tc=function(){++Ib===kb&&da()},Xc=0;Xc<kb;Xc++)wa[Xc](tc)},qk=function(da){return P(P(xf,"H",yd()),da,yd())},Gg=P(xf,"perf",yd()),fk=P(Gg,"g",yd()),Hi=P(Gg,"i",yd());P(Gg,"r",[]);yd();yd();var dk=
function(da,wa,kb){var Ib=Gg.r;"function"===typeof Ib?Ib(da,wa,kb):Ib.push([da,wa,kb])},rj=function(da,wa,kb){fk[da]=!wa&&fk[da]||kb||(new Date).getTime();dk(da)},rl=function(da,wa,kb){wa&&0<wa.length&&(wa=Al(wa),kb&&0<kb.length&&(wa+="___"+Al(kb)),28<wa.length&&(wa=wa.substr(0,28)+(wa.length-28)),kb=wa,wa=P(Hi,"_p",yd()),P(wa,kb,yd())[da]=(new Date).getTime(),dk(da,"_p",kb))},Al=function(da){return da.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},mm=yd(),Uk=[],qi=function(da){throw Error("Bad hint"+
(da?": "+da:""));};Uk.push(["jsl",function(da){for(var wa in da)if(Ce(da,wa)){var kb=da[wa];"object"==typeof kb?xf[wa]=P(xf,wa,[]).concat(kb):P(xf,wa,kb)}if(wa=da.u)da=P(xf,"us",[]),da.push(wa),(wa=/^https:(.*)$/.exec(wa))&&da.push("http:"+wa[1])}]);var ek=/^(\/[a-zA-Z0-9_\-]+)+$/,gn=[/\/amp\//,/\/amp$/,/^\/amp$/],Nf=/^[a-zA-Z0-9\-_\.,!]+$/,Wk=/^gapi\.loaded_[0-9]+$/,Ub=/^[a-zA-Z0-9,._-]+$/,td=function(da,wa,kb,Ib){var tc=da.split(";"),Xc=tc.shift(),ne=mm[Xc],Ze=null;ne?Ze=ne(tc,wa,kb,Ib):qi("no hint processor for: "+
Xc);Ze||qi("failed to generate load url");wa=Ze;kb=wa.match(Lq);(Ib=wa.match($l))&&1===Ib.length&&Ij.test(wa)&&kb&&1===kb.length||qi("failed sanity: "+da);return Ze},ue=function(da,wa,kb,Ib){da=Ud(da);Wk.test(kb)||qi("invalid_callback");wa=pd(wa);Ib=Ib&&Ib.length?pd(Ib):null;var tc=function(Xc){return encodeURIComponent(Xc).replace(/%2C/g,",")};return[encodeURIComponent(da.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",tc(da.version),"/m=",tc(wa),Ib?"/exm="+tc(Ib):"","/rt=j/sv=1/d=1/ed=1",
da.S?"/am="+tc(da.S):"",da.Z?"/rs="+tc(da.Z):"",da.aa?"/t="+tc(da.aa):"","/cb=",tc(kb)].join("")},Ud=function(da){"/"!==da.charAt(0)&&qi("relative path");for(var wa=da.substring(1).split("/"),kb=[];wa.length;){da=wa.shift();if(!da.length||0==da.indexOf("."))qi("empty/relative directory");else if(0<da.indexOf("=")){wa.unshift(da);break}kb.push(da)}da={};for(var Ib=0,tc=wa.length;Ib<tc;++Ib){var Xc=wa[Ib].split("="),ne=decodeURIComponent(Xc[0]),Ze=decodeURIComponent(Xc[1]);2==Xc.length&&ne&&Ze&&(da[ne]=
da[ne]||Ze)}wa="/"+kb.join("/");ek.test(wa)||qi("invalid_prefix");kb=0;for(Ib=gn.length;kb<Ib;++kb)gn[kb].test(wa)&&qi("invalid_prefix");kb=Ig(da,"k",!0);Ib=Ig(da,"am");tc=Ig(da,"rs");da=Ig(da,"t");return{pathPrefix:wa,version:kb,S:Ib,Z:tc,aa:da}},pd=function(da){for(var wa=[],kb=0,Ib=da.length;kb<Ib;++kb){var tc=da[kb].replace(/\./g,"_").replace(/-/g,"_");Ub.test(tc)&&wa.push(tc)}return wa.join(",")},Ig=function(da,wa,kb){da=da[wa];!da&&kb&&qi("missing: "+wa);if(da){if(Nf.test(da))return da;qi("invalid: "+
wa)}return null},Ij=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,$l=/\/cb=/g,Lq=/\/\//g,Yp=function(){var da=ri(xa.href);if(!da)throw Error("Bad hint");return da};mm.m=function(da,wa,kb,Ib){(da=da[0])||qi("missing_hint");return"https://apis.google.com"+ue(da,wa,kb,Ib)};var nm=decodeURI("%73cript"),Gn=/^[-+_0-9\/A-Za-z]+={0,2}$/,Ok=function(da,wa){for(var kb=[],Ib=0;Ib<da.length;++Ib){var tc=da[Ib];tc&&0>za.call(wa,tc)&&kb.push(tc)}return kb},om=function(){var da=xf.nonce;
return void 0!==da?da&&da===String(da)&&da.match(Gn)?da:xf.nonce=null:Eb.querySelector?(da=Eb.querySelector("script[nonce]"))?(da=da.nonce||da.getAttribute("nonce")||"",da&&da===String(da)&&da.match(Gn)?xf.nonce=da:xf.nonce=null):null:null},pk=function(da){if("loading"!=Eb.readyState)dn(da);else{var wa=om(),kb="";null!==wa&&(kb=' nonce="'+wa+'"');da="<"+nm+' src="'+encodeURI(da)+'"'+kb+"></"+nm+">";Eb.write(Pk?Pk.createHTML(da):da)}},dn=function(da){var wa=Eb.createElement(nm);wa.setAttribute("src",
Pk?Pk.createScriptURL(da):da);da=om();null!==da&&wa.setAttribute("nonce",da);wa.async="true";(da=Eb.getElementsByTagName(nm)[0])?da.parentNode.insertBefore(wa,da):(Eb.head||Eb.body||Eb.documentElement).appendChild(wa)},po=function(da,wa){var kb=wa&&wa._c;if(kb)for(var Ib=0;Ib<Uk.length;Ib++){var tc=Uk[Ib][0],Xc=Uk[Ib][1];Xc&&Ce(kb,tc)&&Xc(kb[tc],da,wa)}},oo=function(da,wa,kb){Hn(function(){var Ib=wa===ri(xa.href)?P(Jc,"_",yd()):yd();Ib=P(qk(wa),"_",Ib);da(Ib)},kb)},cn=function(da,wa){var kb=wa||{};
"function"==typeof wa&&(kb={},kb.callback=wa);po(da,kb);wa=da?da.split(":"):[];var Ib=kb.h||Yp(),tc=P(xf,"ah",yd());if(tc["::"]&&wa.length){da=[];for(var Xc=null;Xc=wa.shift();){var ne=Xc.split(".");ne=tc[Xc]||tc[ne[1]&&"ns:"+ne[0]||""]||Ib;var Ze=da.length&&da[da.length-1]||null,yf=Ze;Ze&&Ze.hint==ne||(yf={hint:ne,V:[]},da.push(yf));yf.V.push(Xc)}var $e=da.length;if(1<$e){var jh=kb.callback;jh&&(kb.callback=function(){0==--$e&&jh()})}for(;wa=da.shift();)Cm(wa.V,kb,wa.hint)}else Cm(wa||[],kb,Ib)},
Cm=function(da,wa,kb){da=Ta(da)||[];var Ib=wa.callback,tc=wa.config,Xc=wa.timeout,ne=wa.ontimeout,Ze=wa.onerror,yf=void 0;"function"==typeof Ze&&(yf=Ze);var $e=null,jh=!1;if(Xc&&!ne||!Xc&&ne)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";Ze=P(qk(kb),"r",[]).sort();var zg=P(qk(kb),"L",[]).sort(),zh=[].concat(Ze),jj=function(Bj,Ql){if(jh)return 0;md.clearTimeout($e);zg.push.apply(zg,Ak);var Yo=((Jc||{}).config||{}).update;Yo?Yo(tc):tc&&P(xf,"cu",[]).push(tc);if(Ql){rl("me0",
Bj,zh);try{oo(Ql,kb,yf)}finally{rl("me1",Bj,zh)}}return 1};0<Xc&&($e=md.setTimeout(function(){jh=!0;ne()},Xc));var Ak=Ok(da,zg);if(Ak.length){Ak=Ok(da,Ze);var Im=P(xf,"CP",[]),Yk=Im.length;Im[Yk]=function(Bj){if(!Bj)return 0;rl("ml1",Ak,zh);var Ql=function(Jm){Im[Yk]=null;jj(Ak,Bj)&&Zh(function(){Ib&&Ib();Jm()})},Yo=function(){var Jm=Im[Yk+1];Jm&&Jm()};0<Yk&&Im[Yk-1]?Im[Yk]=function(){Ql(Yo)}:Ql(Yo)};if(Ak.length){var Mh="loaded_"+xf.I++;Jc[Mh]=function(Bj){Im[Yk](Bj);Jc[Mh]=null};da=td(kb,Ak,"gapi."+
Mh,Ze);Ze.push.apply(Ze,Ak);rl("ml0",Ak,zh);wa.sync||md.___gapisync?pk(da):dn(da)}else Im[Yk](Ca)}else jj(Ak)&&Ib&&Ib()},Pk=ha("gapi#gapi"),Hn=function(da,wa){if(xf.hee&&0<xf.hel)try{return da()}catch(kb){wa&&wa(kb),xf.hel--,cn("debug_error",function(){try{window.___jsl.hefn(kb)}catch(Ib){throw kb;}})}else try{return da()}catch(kb){throw wa&&wa(kb),kb;}};Jc.load=function(da,wa){return Hn(function(){return cn(da,wa)})};var Dm=function(da){var wa=window.___jsl=window.___jsl||{};wa[da]=wa[da]||[];return wa[da]},
ug=function(da){var wa=window.___jsl=window.___jsl||{};wa.cfg=!da&&wa.cfg||{};return wa.cfg},sl=function(da){return"object"===typeof da&&/\[native code\]/.test(da.push)},pm=function(da,wa,kb){if(wa&&"object"===typeof wa)for(var Ib in wa)!Object.prototype.hasOwnProperty.call(wa,Ib)||kb&&"___goc"===Ib&&"undefined"===typeof wa[Ib]||(da[Ib]&&wa[Ib]&&"object"===typeof da[Ib]&&"object"===typeof wa[Ib]&&!sl(da[Ib])&&!sl(wa[Ib])?pm(da[Ib],wa[Ib]):wa[Ib]&&"object"===typeof wa[Ib]?(da[Ib]=sl(wa[Ib])?[]:{},
pm(da[Ib],wa[Ib])):da[Ib]=wa[Ib])},Em=function(da){if(da&&!/^\s+$/.test(da)){for(;0==da.charCodeAt(da.length-1);)da=da.substring(0,da.length-1);try{var wa=window.JSON.parse(da)}catch(kb){}if("object"===typeof wa)return wa;try{wa=(new Function("return ("+da+"\n)"))()}catch(kb){}if("object"===typeof wa)return wa;try{wa=(new Function("return ({"+da+"\n})"))()}catch(kb){}return"object"===typeof wa?wa:{}}},ih=function(da,wa){var kb={___goc:void 0};da.length&&da[da.length-1]&&Object.hasOwnProperty.call(da[da.length-
1],"___goc")&&"undefined"===typeof da[da.length-1].___goc&&(kb=da.pop());pm(kb,wa);da.push(kb)},qo=function(da){ug(!0);var wa=window.___gcfg,kb=Dm("cu"),Ib=window.___gu;wa&&wa!==Ib&&(ih(kb,wa),window.___gu=wa);wa=Dm("cu");var tc=document.scripts||document.getElementsByTagName("script")||[];Ib=[];var Xc=[];Xc.push.apply(Xc,Dm("us"));for(var ne=0;ne<tc.length;++ne)for(var Ze=tc[ne],yf=0;yf<Xc.length;++yf)Ze.src&&0==Ze.src.indexOf(Xc[yf])&&Ib.push(Ze);0==Ib.length&&0<tc.length&&tc[tc.length-1].src&&
Ib.push(tc[tc.length-1]);for(tc=0;tc<Ib.length;++tc)Ib[tc].getAttribute("gapi_processed")||(Ib[tc].setAttribute("gapi_processed",!0),(Xc=Ib[tc])?(ne=Xc.nodeType,Xc=3==ne||4==ne?Xc.nodeValue:Xc.textContent||Xc.innerText||Xc.innerHTML||""):Xc=void 0,(Xc=Em(Xc))&&wa.push(Xc));da&&ih(kb,da);Ib=Dm("cd");da=0;for(wa=Ib.length;da<wa;++da)pm(ug(),Ib[da],!0);Ib=Dm("ci");da=0;for(wa=Ib.length;da<wa;++da)pm(ug(),Ib[da],!0);da=0;for(wa=kb.length;da<wa;++da)pm(ug(),kb[da],!0)},ji=function(da){var wa=ug();if(!da)return wa;
da=da.split("/");for(var kb=0,Ib=da.length;wa&&"object"===typeof wa&&kb<Ib;++kb)wa=wa[da[kb]];return kb===da.length&&void 0!==wa?wa:void 0},Zj=function(da,wa){var kb;if("string"===typeof da){var Ib=kb={};da=da.split("/");for(var tc=0,Xc=da.length;tc<Xc-1;++tc)Ib=Ib[da[tc]]={};Ib[da[tc]]=wa}else kb=da;qo(kb)},Bi=function(){var da=window.__GOOGLEAPIS;da&&(da.googleapis&&!da["googleapis.config"]&&(da["googleapis.config"]=da.googleapis),P(xf,"ci",[]).push(da),window.__GOOGLEAPIS=void 0)},Bl={callback:1,
clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},Fm=!1,Qe=yd(),fn=function(){if(!Fm){for(var da=document.getElementsByTagName("meta"),wa=0;wa<da.length;++wa){var kb=da[wa].name.toLowerCase();if(0==kb.lastIndexOf("google-signin-",0)){kb=kb.substring(14);var Ib=da[wa].content;Bl[kb]&&Ib&&(Qe[kb]=Ib)}}if(window.self!==window.top){da=document.location.toString();for(var tc in Bl)0<Bl[tc]&&(wa=of(da,tc,""))&&(Qe[tc]=wa)}Fm=!0}tc=yd();Ie(Qe,tc);return tc},
Qo=function(da){return!!(da.clientid&&da.scope&&da.callback)},qm=window.console,qp=function(){return!!xf.oa},ro=function(){},Nl=P(xf,"rw",yd()),so=function(da){for(var wa in Nl)da(Nl[wa])},yh=function(da,wa){(da=Nl[da])&&da.state<wa&&(da.state=wa)},rp=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,In=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,Ro=function(da){var wa=ji("googleapis.config/sessionIndex");"string"===typeof wa&&
254<wa.length&&(wa=null);null==wa&&(wa=window.__X_GOOG_AUTHUSER);"string"===typeof wa&&254<wa.length&&(wa=null);if(null==wa){var kb=window.google;kb&&(wa=kb.authuser)}"string"===typeof wa&&254<wa.length&&(wa=null);null==wa&&(da=da||window.location.href,wa=of(da,"authuser")||null,null==wa&&(wa=(wa=da.match(rp))?wa[1]:null));if(null==wa)return null;wa=String(wa);254<wa.length&&(wa=null);return wa},bn=function(da){var wa=ji("googleapis.config/sessionDelegate");"string"===typeof wa&&21<wa.length&&(wa=
null);null==wa&&(wa=(da=(da||window.location.href).match(In))?da[1]:null);if(null==wa)return null;wa=String(wa);21<wa.length&&(wa=null);return wa},am,Ol,rm=void 0,bm=function(da){try{return Oa.JSON.parse.call(Oa.JSON,da)}catch(wa){return!1}},ra=function(da){return Object.prototype.toString.call(da)},Ra=ra(0),ib=ra(new Date(0)),Za=ra(!0),Pb=ra(""),gc=ra({}),xc=ra([]),Ic=function(da,wa){if(wa)for(var kb=0,Ib=wa.length;kb<Ib;++kb)if(da===wa[kb])throw new TypeError("Converting circular structure to JSON");
Ib=typeof da;if("undefined"!==Ib){kb=Array.prototype.slice.call(wa||[],0);kb[kb.length]=da;wa=[];var tc=ra(da);if(null!=da&&"function"===typeof da.toJSON&&(Object.prototype.hasOwnProperty.call(da,"toJSON")||(tc!==xc||da.constructor!==Array&&da.constructor!==Object)&&(tc!==gc||da.constructor!==Array&&da.constructor!==Object)&&tc!==Pb&&tc!==Ra&&tc!==Za&&tc!==ib))return Ic(da.toJSON.call(da),kb);if(null==da)wa[wa.length]="null";else if(tc===Ra)da=Number(da),isNaN(da)||isNaN(da-da)?da="null":-0===da&&
0>1/da&&(da="-0"),wa[wa.length]=String(da);else if(tc===Za)wa[wa.length]=String(!!Number(da));else{if(tc===ib)return Ic(da.toISOString.call(da),kb);if(tc===xc&&ra(da.length)===Ra){wa[wa.length]="[";var Xc=0;for(Ib=Number(da.length)>>0;Xc<Ib;++Xc)Xc&&(wa[wa.length]=","),wa[wa.length]=Ic(da[Xc],kb)||"null";wa[wa.length]="]"}else if(tc==Pb&&ra(da.length)===Ra){wa[wa.length]='"';Xc=0;for(kb=Number(da.length)>>0;Xc<kb;++Xc)Ib=String.prototype.charAt.call(da,Xc),tc=String.prototype.charCodeAt.call(da,Xc),
wa[wa.length]="\b"===Ib?"\\b":"\f"===Ib?"\\f":"\n"===Ib?"\\n":"\r"===Ib?"\\r":"\t"===Ib?"\\t":"\\"===Ib||'"'===Ib?"\\"+Ib:31>=tc?"\\u"+(tc+65536).toString(16).substr(1):32<=tc&&65535>=tc?Ib:"\ufffd";wa[wa.length]='"'}else if("object"===Ib){wa[wa.length]="{";Ib=0;for(Xc in da)Object.prototype.hasOwnProperty.call(da,Xc)&&(tc=Ic(da[Xc],kb),void 0!==tc&&(Ib++&&(wa[wa.length]=","),wa[wa.length]=Ic(Xc),wa[wa.length]=":",wa[wa.length]=tc));wa[wa.length]="}"}else return}return wa.join("")}},Sd=/[\0-\x07\x0b\x0e-\x1f]/,
Vf=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,Mf=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,id=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,tg=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,og=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,Jj=/[ \t\n\r]+/g,Vk=/[^"]:/,Po=/""/g,en=/true|false|null/g,Kr=/00/,Lr=/[\{]([^0\}]|0[^:])/,Mq=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,at=/[^\[,:][\[\{]/,So=/^(\{|\}|\[|\]|,|:|0)+/,Gm=/\u2028/g,
To=/\u2029/g,sm=function(da){da=String(da);if(Sd.test(da)||Vf.test(da)||Mf.test(da)||id.test(da))return!1;var wa=da.replace(tg,'""');wa=wa.replace(og,"0");wa=wa.replace(Jj,"");if(Vk.test(wa))return!1;wa=wa.replace(Po,"0");wa=wa.replace(en,"0");if(Kr.test(wa)||Lr.test(wa)||Mq.test(wa)||at.test(wa)||!wa||wa.replace(So,""))return!1;da=da.replace(Gm,"\\u2028").replace(To,"\\u2029");wa=void 0;try{wa=rm?[bm(da)]:eval("(function (var_args) {\n  return Array.prototype.slice.call(arguments, 0);\n})(\n"+da+
"\n)")}catch(kb){return!1}return wa&&1===wa.length?wa[0]:!1},qf=function(){var da=((Oa.document||{}).scripts||[]).length;if((void 0===am||void 0===rm||Ol!==da)&&-1!==Ol){am=rm=!1;Ol=-1;try{try{rm=!!Oa.JSON&&'{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'===Oa.JSON.stringify.call(Oa.JSON,{a:[3,!0,new Date(0)],c:function(){}})&&!0===bm("true")&&3===bm('[{"a":3}]')[0].a}catch(wa){}am=rm&&!bm("[00]")&&!bm('"\u0007"')&&!bm('"\\0"')&&!bm('"\\v"')}finally{Ol=da}}},Nq=function(da){if(-1===Ol)return!1;qf();return(am?
bm:sm)(da)},tl=function(da){if(-1!==Ol)return qf(),rm?Oa.JSON.stringify.call(Oa.JSON,da):Ic(da)},Hm=!Date.prototype.toISOString||"function"!==typeof Date.prototype.toISOString||"1970-01-01T00:00:00.000Z"!==(new Date(0)).toISOString(),lu=function(){var da=Date.prototype.getUTCFullYear.call(this);return[0>da?"-"+String(1E6-da).substr(1):9999>=da?String(1E4+da).substr(1):"+"+String(1E6+da).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),
"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1E3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=Hm?lu:Date.prototype.toISOString;var Uo=function(){this.j=64;this.b=[];this.G=[];this.da=[];this.C=[];this.C[0]=128;for(var da=1;da<this.j;++da)this.C[da]=0;this.D=this.o=0;this.reset()};rc(Uo,
function(){this.j=-1});Uo.prototype.reset=function(){this.b[0]=1732584193;this.b[1]=4023233417;this.b[2]=2562383102;this.b[3]=271733878;this.b[4]=3285377520;this.D=this.o=0};var sp=function(da,wa,kb){kb||(kb=0);var Ib=da.da;if("string"===typeof wa)for(var tc=0;16>tc;tc++)Ib[tc]=wa.charCodeAt(kb)<<24|wa.charCodeAt(kb+1)<<16|wa.charCodeAt(kb+2)<<8|wa.charCodeAt(kb+3),kb+=4;else for(tc=0;16>tc;tc++)Ib[tc]=wa[kb]<<24|wa[kb+1]<<16|wa[kb+2]<<8|wa[kb+3],kb+=4;for(tc=16;80>tc;tc++){var Xc=Ib[tc-3]^Ib[tc-
8]^Ib[tc-14]^Ib[tc-16];Ib[tc]=(Xc<<1|Xc>>>31)&4294967295}wa=da.b[0];kb=da.b[1];var ne=da.b[2],Ze=da.b[3],yf=da.b[4];for(tc=0;80>tc;tc++){if(40>tc)if(20>tc){Xc=Ze^kb&(ne^Ze);var $e=1518500249}else Xc=kb^ne^Ze,$e=1859775393;else 60>tc?(Xc=kb&ne|Ze&(kb|ne),$e=2400959708):(Xc=kb^ne^Ze,$e=3395469782);Xc=(wa<<5|wa>>>27)+Xc+yf+$e+Ib[tc]&4294967295;yf=Ze;Ze=ne;ne=(kb<<30|kb>>>2)&4294967295;kb=wa;wa=Xc}da.b[0]=da.b[0]+wa&4294967295;da.b[1]=da.b[1]+kb&4294967295;da.b[2]=da.b[2]+ne&4294967295;da.b[3]=da.b[3]+
Ze&4294967295;da.b[4]=da.b[4]+yf&4294967295};Uo.prototype.update=function(da,wa){if(null!=da){void 0===wa&&(wa=da.length);for(var kb=wa-this.j,Ib=0,tc=this.G,Xc=this.o;Ib<wa;){if(0==Xc)for(;Ib<=kb;)sp(this,da,Ib),Ib+=this.j;if("string"===typeof da)for(;Ib<wa;){if(tc[Xc]=da.charCodeAt(Ib),++Xc,++Ib,Xc==this.j){sp(this,tc);Xc=0;break}}else for(;Ib<wa;)if(tc[Xc]=da[Ib],++Xc,++Ib,Xc==this.j){sp(this,tc);Xc=0;break}}this.o=Xc;this.D+=wa}};Uo.prototype.digest=function(){var da=[],wa=8*this.D;56>this.o?
this.update(this.C,56-this.o):this.update(this.C,this.j-(this.o-56));for(var kb=this.j-1;56<=kb;kb--)this.G[kb]=wa&255,wa/=256;sp(this,this.G);for(kb=wa=0;5>kb;kb++)for(var Ib=24;0<=Ib;Ib-=8)da[wa]=this.b[kb]>>Ib&255,++wa;return da};var gl=function(){this.O=new Uo};gl.prototype.reset=function(){this.O.reset()};var Zp=md.crypto,Mr=!1,Vo=0,Oq=0,Pq=1,oe=0,to="",Pl=function(da){da=da||md.event;var wa=da.screenX+da.clientX<<16;wa+=da.screenY+da.clientY;wa*=(new Date).getTime()%1E6;Pq=Pq*wa%oe;0<Vo&&++Oq==
Vo&&qd("mousemove",Pl,"remove","de")},Xk=function(da){var wa=new gl;da=unescape(encodeURIComponent(da));for(var kb=[],Ib=0,tc=da.length;Ib<tc;++Ib)kb.push(da.charCodeAt(Ib));wa.O.update(kb);wa=wa.O.digest();da="";for(kb=0;kb<wa.length;kb++)da+="0123456789ABCDEF".charAt(Math.floor(wa[kb]/16))+"0123456789ABCDEF".charAt(wa[kb]%16);return da};(Mr=!!Zp&&"function"==typeof Zp.getRandomValues)||(oe=1E6*(screen.width*screen.width+screen.height),to=Xk(Eb.cookie+"|"+Eb.location+"|"+(new Date).getTime()+"|"+
Math.random()),Vo=ji("random/maxObserveMousemove")||0,0!=Vo&&qd("mousemove",Pl,"add","at"));var Qq=function(){var da=Pq;da+=parseInt(to.substr(0,20),16);to=Xk(to);return da/(oe+Math.pow(16,20))},Nr=function(){var da=new md.Uint32Array(1);Zp.getRandomValues(da);return Number("0."+da[0])},Rq=function(){var da=xf.onl;if(!da){da=yd();xf.onl=da;var wa=yd();da.e=function(kb){var Ib=wa[kb];Ib&&(delete wa[kb],Ib())};da.a=function(kb,Ib){wa[kb]=Ib};da.r=function(kb){delete wa[kb]}}return da},uo=function(da,
wa){wa=wa.onload;return"function"===typeof wa?(Rq().a(da,wa),wa):null},mu=function(da){Rf(/^\w+$/.test(da),"Unsupported id - "+da);Rq();return'onload="window.___jsl.onl.e(&#34;'+da+'&#34;)"'},Or=function(da){Rq().r(da)},Sq={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},Tq={allowtransparency:!0,onload:!0},$p=0,nu=function(da){Rf(!da||Gc.test(da),"Illegal url for new iframe - "+da)},Mg=function(da,wa,
kb,Ib,tc){nu(kb.src);var Xc,ne=uo(Ib,kb),Ze=ne?mu(Ib):"";try{document.all&&(Xc=da.createElement('<iframe frameborder="'+nf(String(kb.frameborder))+'" scrolling="'+nf(String(kb.scrolling))+'" '+Ze+' name="'+nf(String(kb.name))+'"/>'))}catch($e){}finally{Xc||(Xc=da.createElement("iframe"),ne&&(Xc.onload=function(){Xc.onload=null;ne.call(this)},Or(Ib)))}Xc.setAttribute("ng-non-bindable","");for(var yf in kb)da=kb[yf],"style"===yf&&"object"===typeof da?Ie(da,Xc.style):Tq[yf]||Xc.setAttribute(yf,String(da));
(yf=tc&&tc.beforeNode||null)||tc&&tc.dontclear||yg(wa);wa.insertBefore(Xc,yf);Xc=yf?yf.previousSibling:wa.lastChild;kb.allowtransparency&&(Xc.allowTransparency=!0);return Xc},Zi=/^:[\w]+$/,R=/:([a-zA-Z_]+):/g,ia=function(){var da=Ro()||"0",wa=bn(),kb=Ro(void 0)||da,Ib=bn(void 0),tc="";kb&&(tc+="u/"+encodeURIComponent(String(kb))+"/");Ib&&(tc+="b/"+encodeURIComponent(String(Ib))+"/");kb=tc||null;(tc=(Ib=!1===ji("isLoggedIn"))?"_/im/":"")&&(kb="");var Xc=ji("iframes/:socialhost:"),ne=ji("iframes/:im_socialhost:");
return{socialhost:Xc,ctx_socialhost:Ib?ne:Xc,session_index:da,session_delegate:wa,session_prefix:kb,im_prefix:tc}},Fa=function(da,wa){return ia()[wa]||""},ub=function(da){return function(wa,kb){return da?ia()[kb]||da[kb]||"":ia()[kb]||""}},bc=function(da){var wa;da.match(/^https?%3A/i)&&(wa=decodeURIComponent(da));return Ec(document,wa?wa:da)},Sc=function(da){da=da||"canonical";for(var wa=document.getElementsByTagName("link"),kb=0,Ib=wa.length;kb<Ib;kb++){var tc=wa[kb],Xc=tc.getAttribute("rel");if(Xc&&
Xc.toLowerCase()==da&&(tc=tc.getAttribute("href"))&&(tc=bc(tc))&&null!=tc.match(/^https?:\/\/[\w\-_\.]+/i))return tc}return window.location.href},be={se:"0"},xe={post:!0},Yd={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Bf="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),dg=P(xf,"WI",yd()),ki=function(da,wa,kb){var Ib,tc={},Xc=Ib=da;"plus"==da&&wa.action&&(Ib=da+"_"+wa.action,Xc=da+"/"+wa.action);(Ib=ji("iframes/"+Ib+
"/url"))||(Ib=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+Xc+"?usegapi=1");for(var ne in be)tc[ne]=ne+"/"+(wa[ne]||be[ne])+"/";tc=Ec(Eb,Ib.replace(R,ub(tc)));ne="iframes/"+da+"/params/";Xc={};Ie(wa,Xc);(Ib=ji("lang")||ji("gwidget/lang"))&&(Xc.hl=Ib);xe[da]||(Xc.origin=window.location.origin||window.location.protocol+"//"+window.location.host);Xc.exp=ji(ne+"exp");if(ne=ji(ne+"location"))for(Ib=0;Ib<ne.length;Ib++){var Ze=ne[Ib];Xc[Ze]=md.location[Ze]}switch(da){case "plus":case "follow":ne=
Xc.href;Ib=wa.action?void 0:"publisher";ne=(ne="string"==typeof ne?ne:void 0)?bc(ne):Sc(Ib);Xc.url=ne;delete Xc.href;break;case "plusone":ne=(ne=wa.href)?bc(ne):Sc();Xc.url=ne;ne=wa.db;Ib=ji();null==ne&&Ib&&(ne=Ib.db,null==ne&&(ne=Ib.gwidget&&Ib.gwidget.db));Xc.db=ne||void 0;ne=wa.ecp;Ib=ji();null==ne&&Ib&&(ne=Ib.ecp,null==ne&&(ne=Ib.gwidget&&Ib.gwidget.ecp));Xc.ecp=ne||void 0;delete Xc.href;break;case "signin":Xc.url=Sc()}xf.ILI&&(Xc.iloader="1");delete Xc["data-onload"];delete Xc.rd;for(var yf in be)Xc[yf]&&
delete Xc[yf];Xc.gsrc=ji("iframes/:source:");yf=ji("inline/css");"undefined"!==typeof yf&&0<kb&&yf>=kb&&(Xc.ic="1");yf=/^#|^fr-/;kb={};for(var $e in Xc)Ce(Xc,$e)&&yf.test($e)&&(kb[$e.replace(yf,"")]=Xc[$e],delete Xc[$e]);$e="q"==ji("iframes/"+da+"/params/si")?Xc:kb;yf=fn();for(var jh in yf)!Ce(yf,jh)||Ce(Xc,jh)||Ce(kb,jh)||($e[jh]=yf[jh]);jh=[].concat(Bf);($e=ji("iframes/"+da+"/methods"))&&"object"===typeof $e&&Mb.test($e.push)&&(jh=jh.concat($e));for(var zg in wa)Ce(wa,zg)&&/^on/.test(zg)&&("plus"!=
da||"onconnect"!=zg)&&(jh.push(zg),delete Xc[zg]);delete Xc.callback;kb._methods=jh.join(",");return nb(tc,Xc,kb)},ij=["style","data-gapiscan"],gk=function(da){for(var wa=yd(),kb=0!=da.nodeName.toLowerCase().indexOf("g:"),Ib=0,tc=da.attributes.length;Ib<tc;Ib++){var Xc=da.attributes[Ib],ne=Xc.name,Ze=Xc.value;0<=za.call(ij,ne)||kb&&0!=ne.indexOf("data-")||"null"===Ze||"specified"in Xc&&!Xc.specified||(kb&&(ne=ne.substr(5)),wa[ne.toLowerCase()]=Ze)}da=da.style;(kb=tp(da&&da.height))&&(wa.height=String(kb));
(da=tp(da&&da.width))&&(wa.width=String(da));return wa},tp=function(da){var wa=void 0;"number"===typeof da?wa=da:"string"===typeof da&&(wa=parseInt(da,10));return wa},Wo=function(){var da=xf.drw;so(function(wa){if(da!==wa.id&&4!=wa.state&&"share"!=wa.type){var kb=wa.id,Ib=wa.type,tc=wa.url;wa=wa.userParams;var Xc=Eb.getElementById(kb);if(Xc){var ne=ki(Ib,wa,0);ne?(Xc=Xc.parentNode,tc.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==ne.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(wa.dontclear=!0,wa.rd=
!0,wa.ri=!0,wa.type=Ib,$h(Xc,wa),(Ib=Nl[Xc.lastChild.id])&&(Ib.oid=kb),yh(kb,4))):delete Nl[kb]}else delete Nl[kb]}})},vo=/(?:^|\s)g-((\S)*)(?:$|\s)/,up={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};var aq=P(xf,"SW",yd());var wo=P(xf,"SA",yd());var vp=P(xf,"SM",yd());var ph=P(xf,"FW",[]);var ou=null;var pu=function(da,wa){bt(void 0,!1,da,wa)},bt=function(da,wa,kb,Ib){rj("ps0",!0);kb=("string"===typeof kb?document.getElementById(kb):kb)||Eb;var tc=Eb.documentMode;if(kb.querySelectorAll&&
(!tc||8<tc)){tc=Ib?[Ib]:wf(aq).concat(wf(wo)).concat(wf(vp));for(var Xc=[],ne=0;ne<tc.length;ne++){var Ze=tc[ne];Xc.push(".g-"+Ze,"g\\:"+Ze)}tc=kb.querySelectorAll(Xc.join(","))}else tc=kb.getElementsByTagName("*");kb=yd();for(Xc=0;Xc<tc.length;Xc++){var yf=ne=tc[Xc];Ze=Ib;var $e=yf.nodeName.toLowerCase(),jh=void 0;if(yf.getAttribute("data-gapiscan"))Ze=null;else{var zg=$e.indexOf("g:");0==zg?jh=$e.substr(2):(zg=(zg=String(yf.className||yf.getAttribute("class")))&&vo.exec(zg))&&(jh=zg[1]);Ze=!jh||
!(aq[jh]||wo[jh]||vp[jh])||Ze&&jh!==Ze?null:jh}Ze&&(up[Ze]||0==ne.nodeName.toLowerCase().indexOf("g:")||0!=wf(gk(ne)).length)&&(ne.setAttribute("data-gapiscan",!0),P(kb,Ze,[]).push(ne))}if(wa)for(var zh in kb)for(wa=kb[zh],Ib=0;Ib<wa.length;Ib++)wa[Ib].setAttribute("data-onload",!0);for(var jj in kb)ph.push(jj);rj("ps1",!0);if((zh=ph.join(":"))||da)try{Jc.load(zh,da)}catch(Im){qm&&qm.log&&qm.log(Im);return}if(rx(ou||{}))for(var Ak in kb){da=kb[Ak];jj=0;for(wa=da.length;jj<wa;jj++)da[jj].removeAttribute("data-gapiscan");
qu(Ak)}else{Ib=[];for(Ak in kb)for(da=kb[Ak],jj=0,wa=da.length;jj<wa;jj++)tc=da[jj],Uq(Ak,tc,gk(tc),Ib,wa);et(zh,Ib)}},qx=function(da){var wa=P(Jc,da,{});wa.go||(wa.go=function(kb){return pu(kb,da)},wa.render=function(kb,Ib){Ib=Ib||{};Ib.type=da;return $h(kb,Ib)})},Pr=function(da){aq[da]=!0},ct=function(da){wo[da]=!0},dt=function(da){vp[da]=!0},qu=function(da,wa){var kb=Aj(da);wa&&kb?(kb(wa),(kb=wa.iframeNode)&&kb.setAttribute("data-gapiattached",!0)):Jc.load(da,function(){var Ib=Aj(da),tc=wa&&wa.iframeNode,
Xc=wa&&wa.userParams;tc&&Ib?(Ib(wa),tc.setAttribute("data-gapiattached",!0)):(Ib=Jc[da].go,"signin2"==da?Ib(tc,Xc):Ib(tc&&tc.parentNode,Xc))})},rx=function(){return!1},et=function(){},Uq=function(da,wa,kb,Ib,tc,Xc,ne){switch(sx(wa,da,Xc)){case 0:da=vp[da]?da+"_annotation":da;Ib={};Ib.iframeNode=wa;Ib.userParams=kb;qu(da,Ib);break;case 1:if(wa.parentNode){for(var Ze in kb){if(Xc=Ce(kb,Ze))Xc=kb[Ze],Xc=!!Xc&&"object"===typeof Xc&&(!Xc.toString||Xc.toString===Object.prototype.toString||Xc.toString===
Array.prototype.toString);if(Xc)try{kb[Ze]=tl(kb[Ze])}catch(Ak){delete kb[Ze]}}Xc=!0;kb.dontclear&&(Xc=!1);delete kb.dontclear;ro();Ze=ki(da,kb,tc);tc=ne||{};tc.allowPost=1;tc.attributes=Yd;tc.dontclear=!Xc;ne={};ne.userParams=kb;ne.url=Ze;ne.type=da;if(kb.rd)var yf=wa;else yf=document.createElement("div"),wa.setAttribute("data-gapistub",!0),yf.style.cssText="position:absolute;width:450px;left:-10000px;",wa.parentNode.insertBefore(yf,wa);ne.siteElement=yf;yf.id||(wa=yf,P(dg,da,0),Xc="___"+da+"_"+
dg[da]++,wa.id=Xc);wa=yd();wa[">type"]=da;Ie(kb,wa);Xc=Ze;kb=yf;Ze=tc||{};wa=Ze.attributes||{};Rf(!(Ze.allowPost||Ze.forcePost)||!wa.onload,"onload is not supported by post iframe (allowPost or forcePost)");tc=wa=Xc;Zi.test(wa)&&(tc=ji("iframes/"+tc.substring(1)+"/url"),Rf(!!tc,"Unknown iframe url config for - "+wa));Xc=Ec(Eb,tc.replace(R,Fa));wa=kb.ownerDocument||Eb;yf=0;do tc=Ze.id||["I",$p++,"_",(new Date).getTime()].join("");while(wa.getElementById(tc)&&5>++yf);Rf(5>yf,"Error creating iframe id");
yf={};var $e={};wa.documentMode&&9>wa.documentMode&&(yf.hostiemode=wa.documentMode);Ie(Ze.queryParams||{},yf);Ie(Ze.fragmentParams||{},$e);var jh=Ze.pfname,zg=yd();ji("iframes/dropLegacyIdParam")||(zg.id=tc);zg._gfid=tc;zg.parent=wa.location.protocol+"//"+wa.location.host;var zh=of(wa.location.href,"parent");jh=jh||"";!jh&&zh&&(zh=of(wa.location.href,"_gfid","")||of(wa.location.href,"id",""),jh=of(wa.location.href,"pfname",""),jh=zh?jh+"/"+zh:"");jh||(zh=Nq(of(wa.location.href,"jcp","")))&&"object"==
typeof zh&&(jh=(jh=zh.id)?zh.pfname+"/"+jh:"");zg.pfname=jh;Ze.connectWithJsonParam&&(zh={},zh.jcp=tl(zg),zg=zh);(zh=of(Xc,"rpctoken")||yf.rpctoken||$e.rpctoken)||(zh=Ze.rpctoken||String(Math.round(1E8*(Mr?Nr():Qq()))),zg.rpctoken=zh);Ze.rpctoken=zh;Ie(zg,Ze.connectWithQueryParams?yf:$e);zh=wa.location.href;zg=yd();(jh=of(zh,"_bsh",xf.bsh))&&(zg._bsh=jh);(zh=ri(zh))&&(zg.jsh=zh);Ze.hintInFragment?Ie(zg,$e):Ie(zg,yf);Xc=nb(Xc,yf,$e,Ze.paramsSerializer);$e=yd();Ie(Sq,$e);Ie(Ze.attributes,$e);$e.name=
$e.id=tc;$e.src=Xc;Ze.eurl=Xc;yf=Ze||{};zg=!!yf.allowPost;if(yf.forcePost||zg&&2E3<Xc.length){yf=Bb(Xc);$e.src="";Ze.dropDataPostorigin||($e["data-postorigin"]=Xc);Xc=Mg(wa,kb,$e,tc);if(-1!=navigator.userAgent.indexOf("WebKit")){var jj=Xc.contentWindow.document;jj.open();$e=jj.createElement("div");zg={};zh=tc+"_inner";zg.name=zh;zg.src="";zg.style="display:none";Mg(wa,$e,zg,zh,Ze)}$e=(Ze=yf.query[0])?Ze.split("&"):[];Ze=[];for(zg=0;zg<$e.length;zg++)zh=$e[zg].split("=",2),Ze.push([decodeURIComponent(zh[0]),
decodeURIComponent(zh[1])]);yf.query=[];$e=ba(yf);Rf(Gc.test($e),"Invalid URL: "+$e);yf=wa.createElement("form");yf.method="POST";yf.target=tc;yf.style.display="none";tc=$e instanceof pb?$e:lb($e);ec(yf,"HTMLFormElement").action=bd(tc);for(tc=0;tc<Ze.length;tc++)$e=wa.createElement("input"),$e.type="hidden",$e.name=Ze[tc][0],$e.value=Ze[tc][1],yf.appendChild($e);kb.appendChild(yf);yf.submit();yf.parentNode.removeChild(yf);jj&&jj.close();jj=Xc}else jj=Mg(wa,kb,$e,tc,Ze);ne.iframeNode=jj;ne.id=jj.getAttribute("id");
jj=ne.id;kb=yd();kb.id=jj;kb.userParams=ne.userParams;kb.url=ne.url;kb.type=ne.type;kb.state=1;Nl[jj]=kb;jj=ne}else jj=null;jj&&((ne=jj.id)&&Ib.push(ne),qu(da,jj))}},sx=function(da,wa,kb){if(da&&1===da.nodeType&&wa){if(kb)return 1;if(vp[wa]){if(fg[da.nodeName.toLowerCase()])return(da=da.innerHTML)&&da.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(wo[wa])return 0;if(aq[wa])return 1}}return null},$h=function(da,wa){var kb=wa.type;delete wa.type;var Ib=("string"===typeof da?document.getElementById(da):
da)||void 0;if(Ib){da={};for(var tc in wa)Ce(wa,tc)&&(da[tc.toLowerCase()]=wa[tc]);da.rd=1;(wa=!!da.ri)&&delete da.ri;tc=[];Uq(kb,Ib,da,tc,0,wa,void 0);et(kb,tc)}else qm&&qm.log&&qm.log("string"==="gapi."+kb+".render: missing element "+typeof da?da:"")};P(Jc,"platform",{}).go=pu;rx=function(da){for(var wa=["_c","jsl","h"],kb=0;kb<wa.length&&da;kb++)da=da[wa[kb]];wa=ri(xa.href);return!da||0!=da.indexOf("n;")&&0!=wa.indexOf("n;")&&da!==wa};et=function(da,wa){Zv(da,wa)};var cq=function(da){bt(da,!0)},
ft=function(da,wa){wa=wa||[];for(var kb=0;kb<wa.length;++kb)da(wa[kb]);for(da=0;da<wa.length;da++)qx(wa[da])};Uk.push(["platform",function(da,wa,kb){ou=kb;wa&&ph.push(wa);ft(Pr,da);ft(ct,kb._c.annotation);ft(dt,kb._c.bimodal);Bi();qo();if("explicit"!=ji("parsetags")){Lh(da);Qo(fn())&&!ji("disableRealtimeCallback")&&ro();if(kb&&(da=kb.callback)){var Ib=Fg(da);delete kb.callback}vd(function(){cq(Ib)})}}]);Jc._pl=!0;var Vv=function(da){if(da=(da=Nl[da])?da.oid:void 0){var wa=Eb.getElementById(da);wa&&
wa.parentNode.removeChild(wa);delete Nl[da];Vv(da)}},Wv=/^\{h:'/,Xv=/^!_/,Yv="",Zv=function(da,wa){function kb(){qd("message",Ib,"remove","de")}function Ib(Xc){var ne=Xc.data,Ze=Xc.origin;if(gt(ne,wa)){var yf=tc;tc=!1;yf&&rj("rqe");ru(da,function(){yf&&rj("rqd");kb();for(var $e=P(xf,"RPMQ",[]),jh=0;jh<$e.length;jh++)$e[jh]({data:ne,origin:Ze})})}}if(0!==wa.length){Yv=of(xa.href,"pfname","");var tc=!0;qd("message",Ib,"add","at");cn(da,kb)}},gt=function(da,wa){da=String(da);if(Wv.test(da))return!0;
var kb=!1;Xv.test(da)&&(kb=!0,da=da.substr(2));if(!/^\{/.test(da))return!1;var Ib=Nq(da);if(!Ib)return!1;da=Ib.f;if(Ib.s&&da&&-1!=za.call(wa,da)){if("_renderstart"===Ib.s||Ib.s===Yv+"/"+da+"::_renderstart")if(Ib=Ib.a&&Ib.a[kb?0:1],wa=Eb.getElementById(da),yh(da,2),Ib&&wa&&Ib.width&&Ib.height){a:{kb=wa.parentNode;da=Ib||{};if(qp()){var tc=wa.id;if(tc){Ib=(Ib=Nl[tc])?Ib.state:void 0;if(1===Ib||4===Ib)break a;Vv(tc)}}(Ib=kb.nextSibling)&&Ib.getAttribute&&Ib.getAttribute("data-gapistub")&&(kb.parentNode.removeChild(Ib),
kb.style.cssText="");Ib=da.width;var Xc=da.height,ne=kb.style;ne.textIndent="0";ne.margin="0";ne.padding="0";ne.background="transparent";ne.borderStyle="none";ne.cssFloat="none";ne.styleFloat="none";ne.lineHeight="normal";ne.fontSize="1px";ne.verticalAlign="baseline";kb=kb.style;kb.display="inline-block";ne=wa.style;ne.position="static";ne.left="0";ne.top="0";ne.visibility="visible";Ib&&(kb.width=ne.width=Ib+"px");Xc&&(kb.height=ne.height=Xc+"px");da.verticalAlign&&(kb.verticalAlign=da.verticalAlign);
tc&&yh(tc,3)}wa["data-csi-wdt"]=(new Date).getTime()}return!0}return!1},ru=function(da,wa){cn(da,wa)},dq=function(da,wa){this.L=da;da=wa||{};this.fa=Number(da.maxAge)||0;this.U=da.domain;this.X=da.path;this.ga=!!da.secure};dq.prototype.read=function(){for(var da=this.L+"=",wa=document.cookie.split(/;\s*/),kb=0;kb<wa.length;++kb){var Ib=wa[kb];if(0==Ib.indexOf(da))return Ib.substr(da.length)}};dq.prototype.write=function(da,wa){if(!su.test(this.L))throw"Invalid cookie name";if(!ht.test(da))throw"Invalid cookie value";
da=this.L+"="+da;this.U&&(da+=";domain="+this.U);this.X&&(da+=";path="+this.X);wa="number"===typeof wa?wa:this.fa;if(0<=wa){var kb=new Date;kb.setSeconds(kb.getSeconds()+wa);da+=";expires="+kb.toUTCString()}this.ga&&(da+=";secure");document.cookie=da;return!0};dq.prototype.clear=function(){this.write("",0)};var ht=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,su=/^[A-Z_][A-Z0-9_]{0,63}$/;dq.iterate=function(da){for(var wa=document.cookie.split(/;\s*/),kb=0;kb<wa.length;++kb){var Ib=wa[kb].split("="),tc=Ib.shift();
da(tc,Ib.join("="))}};var Qr=function(da){this.B=da};Qr.prototype.read=function(){if(xo.hasOwnProperty(this.B))return xo[this.B]};Qr.prototype.write=function(da){xo[this.B]=da;return!0};Qr.prototype.clear=function(){delete xo[this.B]};var xo={};Qr.iterate=function(da){for(var wa in xo)xo.hasOwnProperty(wa)&&da(wa,xo[wa])};var tu="https:"===window.location.protocol,uu=tu||"http:"===window.location.protocol?dq:Qr,$v=function(da){var wa=da.substr(1),kb="",Ib=window.location.hostname;if(""!==wa){kb=parseInt(wa,
10);if(isNaN(kb))return null;wa=Ib.split(".");if(wa.length<kb-1)return null;wa.length==kb-1&&(Ib="."+Ib)}else Ib="";return{i:"S"==da.charAt(0),domain:Ib,l:kb}},Vq=function(){var da,wa=null;uu.iterate(function(kb,Ib){0===kb.indexOf("G_AUTHUSER_")&&(kb=$v(kb.substring(11)),!da||kb.i&&!da.i||kb.i==da.i&&kb.l>da.l)&&(da=kb,wa=Ib)});return{ea:da,F:wa}},tx=function(da){if(0!==da.indexOf("GCSC"))return null;var wa={W:!1};da=da.substr(4);if(!da)return wa;var kb=da.charAt(0);da=da.substr(1);var Ib=da.lastIndexOf("_");
if(-1==Ib)return wa;var tc=$v(da.substr(Ib+1));if(null==tc)return wa;da=da.substring(0,Ib);if("_"!==da.charAt(0))return wa;Ib="E"===kb&&tc.i;return!Ib&&("U"!==kb||tc.i)||Ib&&!tu?wa:{W:!0,i:Ib,ja:da.substr(1),domain:tc.domain,l:tc.l}},Rr=function(da){if(!da)return[];da=da.split("=");return da[1]?da[1].split("|"):[]},ux=function(da){da=da.split(":");return{clientId:da[0].split("=")[1],ia:Rr(da[1]),la:Rr(da[2]),ka:Rr(da[3])}},hn=function(){var da=Vq(),wa=da.ea;da=da.F;if(null!==da){var kb;uu.iterate(function(Xc,
ne){(Xc=tx(Xc))&&Xc.W&&Xc.i==wa.i&&Xc.l==wa.l&&(kb=ne)});if(kb){var Ib=ux(kb),tc=Ib&&Ib.ia[Number(da)];Ib=Ib&&Ib.clientId;if(tc)return{F:da,ha:tc,clientId:Ib}}}return null},wp=function(){this.T=it};wp.prototype.$=function(){this.K||(this.v=0,this.K=!0,this.Y())};wp.prototype.Y=function(){this.K&&(this.T()?this.v=this.R:this.v=Math.min(2*(this.v||this.R),120),window.setTimeout(fc(this.Y,this),1E3*this.v))};wp.prototype.v=0;wp.prototype.R=2;wp.prototype.T=null;wp.prototype.K=!1;var Sr=null;qp=function(){return xf.oa=
!0};ro=function(){xf.oa=!0;var da=hn();(da=da&&da.F)&&Zj("googleapis.config/sessionIndex",da);Sr||(Sr=P(xf,"ss",new wp));da=Sr;da.$&&da.$()};var it=function(){var da=hn(),wa=da&&da.ha||null,kb=da&&da.clientId;cn("auth",{callback:function(){var Ib=md.gapi.auth,tc={client_id:kb,session_state:wa};Ib.checkSessionState(tc,function(Xc){var ne=tc.session_state,Ze=ji("isLoggedIn");Xc=ji("debug/forceIm")?!1:ne&&Xc||!ne&&!Xc;if(Ze=Ze!=Xc)Zj("isLoggedIn",Xc),ro(),Wo(),Xc||((Xc=Ib.signOut)?Xc():(Xc=Ib.setToken)&&
Xc(null));Xc=fn();var yf=ji("savedUserState");ne=Ib._guss(Xc.cookiepolicy);yf=yf!=ne&&"undefined"!=typeof yf;Zj("savedUserState",ne);(Ze||yf)&&Qo(Xc)&&!ji("disableRealtimeCallback")&&Ib._pimf(Xc,!0)})}});return!0};rj("bs0",!0,window.gapi._bs);rj("bs1",!0);delete window.gapi._bs}).call(void 0);rb.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,
idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!1}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!1,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"en",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",
methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},
savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},
":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},
url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},
visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},
community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://www.gstatic.com/classroom/sharewidget/widget_stable.html?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},
configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},
card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.en_US.Lga9YaS3b5Y.O/am=wQE/d=1/ct=zgms/rs=AGLTcCNihKBOKWqiz_i_tTS0nDlpW_Lf9g/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",dpo:!1},platform:"additnow backdrop blogger comments commentcount community donation family_creation follow hangout health page partnersbadge person playemm playreview plus plusone post ratingbadge savetoandroidpay savetodrive savetowallet sharetoclassroom shortlists signin2 surveyoptin visibility youtube ytsubscribe zoomableimage".split(" "),
fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});var Hb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js");Hb.notify=function(Mc,qb){var tb,eb,ob,wb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cb){switch(cb.nextAddress){case 1:return tb=Hb.morph({type:"text",textAlign:"center",textString:qb,fill:null,padding:Hb.Rectangle.inset(10),fontSize:30,fontColor:"white",fontWeight:"bold",
readOnly:!0,grabbable:!1}),eb=Math.max(Mc.width+40,tb.width),ob=Math.max(120,tb.height),wb=Mc.addMorph({extent:Hb.pt(eb,ob),border:{radius:8},name:"notification",center:Mc.innerBounds().center(),origin:Hb.pt(eb/2,ob/2),fill:Hb.Color.gray,scale:.1,grabbable:!1,submorphs:[tb]}),wb.submorphs[0].center=wb.innerBounds().center().subPt(Hb.pt(eb/2,ob/2)),cb.yield(wb.animate({scale:1,duration:400}),2);case 2:return cb.yield(Hb.promise.delay(800),3);case 3:return cb.yield(wb.animate({opacity:0,duration:400}),
4);case 4:wb.remove(),cb.jumpToEnd()}})};Hb.promise=Qb;Hb.fun=dc;Hb.arr=Xb;Hb.string=Xd;Hb.resource=ad;Hb.pt=Nd;Hb.Rectangle=dd;Hb.Color=Lc;Hb.connect=rd;Hb.once=Gd;Hb.signal=ke;Hb.morph=Kd;Hb.easings=Hc;Hb.touchInputDevice=fb;Hb.Icon=Db;Hb.config=mc;Hb.Morph=hc;Hb.Menu=Tc;Hb.loadMorphFromSnapshot=Ld;Hb.createMorphSnapshot=oc;Hb.UserRegistry=pc;Hb.ClientUser=Nb;Hb.loadPart=Dc;Hb.LoadingIndicator=Vc;Hb.gapi=_missingExportShim;Hb.pathForBrowserHistory=Hd;rb=Ba("UserUI",{getCurrentUser:function(){return Hb.UserRegistry.current.loadUserFromLocalStorage(Hb.config.users.authServerURL)},
showUserFlap:function(Mc){Mc=void 0===Mc?$world:Mc;var qb,tb,eb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ob){switch(ob.nextAddress){case 1:return ob.yield(Ab.import("./lively top bar master-1af14b42.js"),3);case 3:if(!(qb=ob.yieldResult)){ob.jumpTo(4);break}return ob.yield(Hb.resource("part://SystemIDE/lively top bar master"),5);case 5:qb=ob.yieldResult;case 4:return ob.yield(qb.read(),2);case 2:return tb=ob.yieldResult,tb.name="lively top bar",tb.hasFixedPosition=!0,tb.respondsToVisibleWindow=
!0,tb.openInWorld(),tb.relayout(),tb.top=-tb.height,eb=tb.dropShadow,tb.dropShadow=null,Ab.import("./client-55fd121b.js").then(function(wb){var cb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Oa){switch(Oa.nextAddress){case 1:return Oa.yield(tb.whenRendered(),2);case 2:return Oa.yield(tb.animate({position:Hb.pt(0,0),dropShadow:eb,duration:500}),3);case 3:if(Mc.metadata){Oa.jumpTo(0);break}Mc.animate({customTween:function(Gb){tb.blur=Mc.blur=3*Gb},duration:500});return Oa.yield(Mc.askForName(),
5);case 5:cb=Oa.yieldResult,Mc.changeMetaData("commit",{name:cb}),window.history&&window.history.pushState({},"lively.next",Hb.pathForBrowserHistory(cb)),Mc.animate({customTween:function(Gb){tb.blur=Mc.blur=3*(1-Gb)},duration:500}),Oa.jumpToEnd()}})}),ob.return(tb)}})},hideUserFlap:function(Mc){Mc=void 0===Mc?$world:Mc;Mc.submorphs.filter(function(qb){return"user flap"===qb.name&&qb.owner==Mc}).forEach(function(qb){return qb.remove()})},showWidget:function(Mc,qb){qb=void 0===qb?{}:qb;var tb=this,
eb,ob,wb,cb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Oa){if(1==Oa.nextAddress)return eb=qb,ob=void 0===eb.modal?!0:eb.modal,wb=void 0===eb.user?tb.getCurrentUser():eb.user,Oa.yield(tb.loadMorph(Mc),2);cb=Oa.yieldResult;return Oa.return(cb.run(ob,qb.world,wb))})},showUserInfo:function(Mc){Mc=void 0===Mc?{}:Mc;var qb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tb){return 1==tb.nextAddress?tb.yield(qb.showWidget("user info",Mc),2):tb.return(tb.yieldResult)})},
showLogin:function(Mc){Mc=void 0===Mc?{}:Mc;var qb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tb){return tb.return(qb.showWidget("login widget",Mc))})},showRegister:function(Mc){Mc=void 0===Mc?{}:Mc;var qb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tb){return tb.return(qb.showWidget("register widget",Mc))})},loadMorph:function(Mc,qb){var tb,eb,ob,wb,cb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Oa){switch(Oa.nextAddress){case 1:switch(Mc){case "login widget":return Oa.jumpTo(2);
case "user info":return Oa.jumpTo(3);case "register widget":return Oa.jumpTo(4)}Oa.jumpTo(5);break;case 2:return Oa.yield(Ab.import("./login widget-20dd52e9.js"),7);case 7:if(!(tb=Oa.yieldResult)){Oa.jumpTo(8);break}return Oa.yield(Hb.resource("part://SystemUserUI/login widget"),9);case 9:tb=Oa.yieldResult;case 8:return Oa.yield(tb.read(),6);case 6:return Oa.return(Oa.yieldResult);case 3:return Oa.yield(Ab.import("./user info-423cefa1.js"),11);case 11:if(!(eb=Oa.yieldResult)){Oa.jumpTo(12);break}return Oa.yield(Hb.resource("part://SystemUserUI/user info"),
13);case 13:eb=Oa.yieldResult;case 12:return Oa.yield(eb.read(),10);case 10:return Oa.return(Oa.yieldResult);case 4:return Oa.yield(Ab.import("./register widget-dd78a64a.js"),15);case 15:if(!(ob=Oa.yieldResult)){Oa.jumpTo(16);break}return Oa.yield(Hb.resource("part://SystemUserUI/register widget"),17);case 17:ob=Oa.yieldResult;case 16:return Oa.yield(ob.read(),14);case 14:return Oa.return(Oa.yieldResult);case 5:return wb=System.decanonicalize("lively.user/morphic/"+Mc+".json"),Oa.yield(Hb.resource(wb).readJson(),
18);case 18:return cb=Oa.yieldResult,Oa.return(Hb.loadMorphFromSnapshot(cb,qb))}})}});Hb.UserUI=rb;Hb.UserUI=rb;Hb.UserUI=rb;(function(Mc){var qb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),tb=qb.hasOwnProperty("UserWidget")&&"function"===typeof qb.UserWidget?qb.UserWidget:qb.UserWidget=function(eb){eb&&eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Id(tb,Mc,[{key:"run",value:function(eb,ob,wb){var cb=
this;ob=void 0===ob?$world:ob;if(void 0===eb||eb)var Oa=ob.addMorph({name:this.name+" overlay",hasFixedPosition:!0,grabbable:!1,draggable:!1,extent:ob.extent,fill:Hb.Color.black.withA(.4)});this.epiMorph=this.hasFixedPosition=!0;this.activate(wb);return(new Promise(function(Gb,sc){Hb.once(cb,"resolved",Gb)})).then(function(Gb){cb.remove();Oa&&Oa.remove();return Gb})}},{key:"activate",value:function(eb){eb=$world;eb.addMorph(this);this.align(this.worldPoint(this.innerBounds().center()),eb.visibleBounds().center());
this.focus()}},{key:"onKeyDown",value:function(eb){"Enter"===eb.keyCombo&&(this.onEnterPressed(),eb.stop());"Escape"===eb.keyCombo&&(this.onEscapePressed(),eb.stop());"Tab"===eb.keyCombo&&(this.focusNext(),eb.stop());"Shift-Tab"===eb.keyCombo&&(this.focusPrev(),eb.stop())}},{key:"focusOrder",value:function(){return[]}},{key:"focusNext",value:function(){var eb=this.focusOrder(),ob=this.world().focusedMorph;ob=eb.indexOf(ob)+1;ob>eb.length-1&&(ob=0);eb[ob].focus()}},{key:"focusPrev",value:function(){var eb=
this.focusOrder(),ob=this.world().focusedMorph;ob=eb.indexOf(ob)-1;0>ob&&(ob=eb.length-1);eb[ob].focus()}},{key:"onEscapePressed",value:function(){this.close()}},{key:"onEnterPressed",value:function(){}},{key:"close",value:function(){}},{key:"_save",value:function(){var eb=this,ob;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wb){if(1==wb.nextAddress)return wb.yield(Hb.createMorphSnapshot(eb),2);ob=wb.yieldResult;return wb.yield(lively.modules.module("lively.user/morphic/"+eb.name+".json").changeSource(JSON.stringify(ob,
null,2),{doEval:!1}),0)})}},{key:"_htmlExport",value:function(){var eb=this,ob,wb,cb,Oa,Gb,sc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vc){if(1==vc.nextAddress)return ob=lively.modules.module,wb=ob("lively.user/html/"+eb.name+".html").id,cb=Hb.resource(wb),vc.yield(ob("lively.morphic/rendering/html-generator.js").load(),2);if(3!=vc.nextAddress)return Oa=vc.yieldResult,Gb=Oa.generateHTML,vc.yield(Gb(eb,cb,{isFragment:!0,addStyles:!1}),3);sc=vc.yieldResult;return vc.return({resource:cb,
html:sc})})}},{key:"htmlExport_transformNode",value:function(eb){this.focusOrder().forEach(function(ob,wb){return eb.querySelector("#"+ob.id).tabIndex=wb+1});return eb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserWidget"}},{key:"properties",get:function(){return{user:{}}}}],qb,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",
version:"0.2.0"}}},{start:4917,end:7649})})(Hb.Morph);rb=Ba("UserInfoWidget",function(Mc){var qb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),tb=qb.hasOwnProperty("UserInfoWidget")&&"function"===typeof qb.UserInfoWidget?qb.UserInfoWidget:qb.UserInfoWidget=function(eb){eb&&eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Id(tb,Mc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),emailInput:this.getSubmorphNamed("email input"),saveButton:this.getSubmorphNamed("save button"),logoutButton:this.getSubmorphNamed("logout button"),closeButton:this.getSubmorphNamed("close button"),userAvatar:this.getSubmorphNamed("user avatar")}}},{key:"activate",value:function(eb){Id._get(Object.getPrototypeOf(tb.prototype),"activate",this).call(this,eb);this.displayUser(eb)}},{key:"focus",
value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){var eb=this.ui;return[eb.userNameInput,eb.emailInput,eb.passwordInput,eb.passwordInput2]}},{key:"onEnterPressed",value:function(){this.trySave()}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(eb){eb.draggable=!1;eb.grabbable=!1});Hb.connect(this.ui.saveButton,"fire",this,"trySave");Hb.connect(this.ui.logoutButton,"fire",this,"logout");Hb.connect(this.ui.closeButton,"onMouseDown",this,"close");this.ui.userNameInput.readOnly=
!0;this.ui.userNameInput.selectable=!0;Hb.notify(this,"OK")}},{key:"displayUser",value:function(eb){eb=(this.user=eb)||{};var ob=eb.email,wb=this.ui,cb=wb.emailInput,Oa=wb.passwordInput,Gb=wb.passwordInput2,sc=wb.userAvatar;wb.userNameInput.input=eb.name||"";cb.input=ob||"";Oa.input="";Gb.input="";sc.imageUrl=Hb.resource("https://s.gravatar.com/avatar").join(Hb.string.md5(ob||"")).withQuery({s:320}).url}},{key:"trySave",value:function(){var eb=this,ob,wb,cb,Oa,Gb,sc,vc,fc,rc,Q,ha,Ga,La,Yb,kc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ua){switch(Ua.nextAddress){case 1:ob=
eb;wb=ob.user;cb=ob.ui;Oa=cb.emailInput;Gb=cb.passwordInput;sc=cb.passwordInput2;if(!wb)return Ua.return(eb.showError("no user object"));vc=Oa.input;fc=Gb.input;rc=sc.input;if(wb.email==vc&&!fc&&!rc)return Ua.return(Hb.signal(eb,"resolved",wb));if(!fc&&!rc){Ua.jumpTo(2);break}return fc!==rc?Ua.return(eb.world().inform("Passwords do not match!",{requester:eb})):Ua.yield(eb.world().passwordPrompt("To set a new password, please enter your old one",{requester:eb}),3);case 3:return(Q=Ua.yieldResult)?Ua.yield(wb.checkPassword(Q),
4):Ua.return(eb.world().inform("Old password needed to change password, aborting!",{requester:eb}));case 4:if(ha=Ua.yieldResult,!ha)return Ua.return(eb.world().inform("Old password is not correct, aborting!",{requester:eb}));case 2:return Ga={},fc&&(Ga.password=fc),vc&&(Ga.email=vc),Ua.yield(wb.modify(Ga),5);case 5:return La=Ua.yieldResult,Yb=La.status,(kc=La.error)?Ua.return(eb.world().inform("Failed to modify: "+kc,{requester:eb})):Ua.yield(Hb.UserRegistry.current.saveUserToLocalStorage(wb),6);
case 6:return Ua.yield(Hb.notify(eb,Yb),7);case 7:eb.displayUser(wb),Hb.signal(eb,"resolved",wb),Ua.jumpToEnd()}})}},{key:"logout",value:function(){var eb=this,ob;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wb){if(1==wb.nextAddress)return wb.yield(Hb.UserRegistry.current.logout(eb.user),2);if(3!=wb.nextAddress)return eb.displayUser(eb.user),eb.remove(),wb.yield(Hb.UserUI.showLogin({modal:!1}),3);ob=wb.yieldResult;Hb.signal(eb,"resolved",ob);wb.jumpToEnd()})}},{key:"close",value:function(){Hb.signal(this,
"resolved",this.user)}},{key:"onMouseUp",value:function(eb){var ob=this.ui,wb=ob.closeButton;ob=ob.saveButton;switch(eb.targetMorph){case wb:this.close();break;case ob:this.trySave()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserInfoWidget"}}],qb,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",
version:"0.2.0"}}},{start:7658,end:11674})}(Hb.UserWidget));Hb.UserInfoWidget=rb;Hb.UserInfoWidget=rb;Hb.UserInfoWidget=rb;rb=Ba("LoginWidget",function(Mc){var qb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),tb=qb.hasOwnProperty("LoginWidget")&&"function"===typeof qb.LoginWidget?qb.LoginWidget:qb.LoginWidget=function(eb){eb&&eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Id(tb,Mc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
passwordInput:this.getSubmorphNamed("password input"),loginButton:this.getSubmorphNamed("login button"),registerButton:this.getSubmorphNamed("register button"),guestButton:this.getSubmorphNamed("guest button"),emailLoginForm:this.getSubmorphNamed("email login form"),googleLogin:this.getSubmorphNamed("google login"),emailLogin:this.getSubmorphNamed("email login"),appleLogin:this.getSubmorphNamed("apple login")}}},{key:"signInWithGoogle",value:function(){Hb.gapi.load("auth2",function(){var eb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ob){if(1==
ob.nextAddress)return Hb.gapi.auth2.init({client_id:"CLIENT_ID.apps.googleusercontent.com"}),eb=Hb.gapi.auth2.getAuthInstance(),ob.yield(eb.signIn(),2);ob.jumpToEnd()})})}},{key:"signInWithEmail",value:function(){var eb=this,ob,wb,cb,Oa,Gb,sc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vc){ob=eb.ui;wb=ob.emailLoginForm;cb=ob.googleLogin;Oa=ob.emailLogin;Gb=ob.appleLogin;sc=Hb.easings.inOutExpo;[cb,Oa,Gb].map(function(fc){return fc.animate({visible:!1,isLayoutable:!1,easing:sc,duration:300})});
wb.animate({visible:!0,isLayoutable:!0,easing:sc,duration:300});vc.jumpToEnd()})}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.passwordInput]}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(fc){fc.draggable=!1;fc.grabbable=!1});var eb=this.ui,ob=eb.registerButton,wb=eb.userNameInput,cb=eb.appleLogin,Oa=eb.passwordInput,Gb=eb.emailLoginForm,sc=eb.googleLogin,vc=eb.emailLogin;Hb.connect(eb.loginButton,
"fire",this,"tryLogin");Hb.connect(ob,"fire",this,"switchToRegisterWidget");Hb.connect(vc,"fire",this,"signInWithEmail");Hb.connect(sc,"fire",this,"loginWithGoogle");wb.input="";Oa.input="";Gb.isLayoutable=Gb.visible=!1;[vc,cb,sc].map(function(fc){return fc.visible=fc.isLayoutable=!0})}},{key:"onEnterPressed",value:function(){this.tryLogin()}},{key:"tryLogin",value:function(){var eb=this,ob,wb,cb,Oa,Gb,sc,vc,fc,rc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Q){switch(Q.nextAddress){case 1:ob=
eb;wb=ob.ui;cb=wb.userNameInput;Oa=wb.passwordInput;Gb=cb.input;sc=Oa.input;if(!Gb)return Q.return();vc=Hb.ClientUser.named(Gb,Hb.config.users.authServerURL);Q.setCatchFinallyBlocks(2);return Q.yield(Hb.UserRegistry.current.login(vc,sc),4);case 4:Q.leaveTryBlock(3);break;case 2:rc=Q.enterCatchBlock(),fc=rc.message;case 3:if(fc)return Hb.signal(eb,"loginFailed",fc),fc.includes("No user")&&eb.indicateError(eb.ui.userNameInput,fc),fc.includes("does not match")&&eb.indicateError(eb.ui.passwordInput,"Password incorrect"),
Q.return();Hb.notify(eb,"logged in");Hb.signal(eb,"loginSucceeded",vc);Hb.signal(eb,"resolved",vc);Q.jumpToEnd()}})}},{key:"switchToRegisterWidget",value:function(){var eb=this,ob;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wb){if(1==wb.nextAddress)return wb.yield(Hb.UserUI.showRegister({modal:!1}),2);(ob=wb.yieldResult)&&Hb.signal(eb,"resolved",ob);wb.jumpToEnd()})}},{key:"continueAsGuest",value:function(){var eb=this,ob,wb,cb,Oa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Gb){if(1==
Gb.nextAddress)return ob=Hb.UserRegistry.current,wb=ob.loadUserFromLocalStorage(Hb.config.users.authServerURL),wb.isGuestUser?(cb=wb,Gb.jumpTo(2)):Gb.yield(ob.login(Hb.ClientUser.guest),3);2!=Gb.nextAddress&&(cb=Gb.yieldResult);Oa=cb;Hb.signal(eb,"resolved",Oa);Gb.jumpToEnd()})}},{key:"indicateError",value:function(eb,ob){eb.indicateError(ob)}},{key:"clearErrors",value:function(){this.ui.userNameInput.clearError();this.ui.passwordInput.clearError()}},{key:"onMouseUp",value:function(eb){var ob=this.ui,
wb=ob.loginButton;ob=ob.registerButton;switch(eb.targetMorph){case wb:this.tryLogin();break;case ob:this.switchToRegisterWidget()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LoginWidget"}}],qb,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:11683,end:15594})}(Hb.UserWidget));
Hb.LoginWidget=rb;Hb.LoginWidget=rb;Hb.LoginWidget=rb;rb=Ba("RegisterWidget",function(Mc){var qb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),tb=qb.hasOwnProperty("RegisterWidget")&&"function"===typeof qb.RegisterWidget?qb.RegisterWidget:qb.RegisterWidget=function(eb){eb&&eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Id(tb,Mc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
emailInput:this.getSubmorphNamed("email input"),passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),registerButton:this.getSubmorphNamed("register button"),cancelButton:this.getSubmorphNamed("cancel button")}}},{key:"onEnterPressed",value:function(){this.tryRegister()}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.emailInput,this.ui.passwordInput,this.ui.passwordInput2]}},
{key:"reset",value:function(){this.withAllSubmorphsDo(function(eb){eb.draggable=!1;eb.grabbable=!1});Hb.connect(this.ui.registerButton,"fire",this,"tryRegister");Hb.connect(this.ui.cancelButton,"fire",this,"close");this.ui.userNameInput.readOnly=!0;this.ui.userNameInput.selectable=!0;Hb.notify(this,"OK")}},{key:"displayUser",value:function(eb){this.user=eb}},{key:"tryRegister",value:function(){var eb=this,ob,wb,cb,Oa,Gb,sc,vc,fc,rc,Q,ha,Ga,La;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Yb){switch(Yb.nextAddress){case 1:ob=
eb;wb=ob.ui;cb=wb.userNameInput;Oa=wb.emailInput;Gb=wb.passwordInput;sc=wb.passwordInput2;vc=cb.input;fc=Oa.input;rc=Gb.input;Q=sc.input;if(!(vc&&rc&&Q&&fc))return vc||cb.indicateError("Please enter a user name!"),fc||Oa.indicateError("Please enter E-Mail address!"),rc||Gb.indicateError("Please enter a password!"),Q||sc.indicateError("Please repeat your password!"),Yb.return();if(rc!==Q)return sc.indicateError("Passwords do not match!"),Yb.return();ha=Hb.ClientUser.named(vc,Hb.config.users.authServerURL);
fc&&(ha.email=fc);Yb.setCatchFinallyBlocks(2);return Yb.yield(Hb.UserRegistry.current.register(ha,rc),4);case 4:Yb.leaveTryBlock(3);break;case 2:Ga=La=Yb.enterCatchBlock();case 3:return Ga?Yb.return(eb.world().inform("Failed to register: "+Ga,{requester:eb})):Yb.yield(Hb.notify(eb,"registered"),5);case 5:eb.displayUser(ha),Hb.signal(eb,"resolved",ha),Yb.jumpToEnd()}})}},{key:"close",value:function(){Hb.signal(this,"resolved",this.user)}},{key:"onMouseUp",value:function(eb){var ob=this.ui,wb=ob.registerButton;
ob=ob.cancelButton;switch(eb.targetMorph){case wb:this.tryRegister();break;case ob:this.close()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RegisterWidget"}}],qb,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:15603,end:18497})}(Hb.UserWidget));Hb.RegisterWidget=
rb;Hb.RegisterWidget=rb;Hb.RegisterWidget=rb;rb=Ba("UserFlap",function(Mc){var qb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),tb=qb.hasOwnProperty("UserFlap")&&"function"===typeof qb.UserFlap?qb.UserFlap:qb.UserFlap=function(eb){eb&&eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Id(tb,Mc,[{key:"isUserFlap",get:function(){return!0}},{key:"isMaximized",get:function(){return 3<this.submorphs.length}},{key:"onLoad",
value:function(){this.isComponent||this.showUser(this.currentUser())}},{key:"open",value:function(){var eb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ob){eb.openInWorld();eb.showUser(eb.currentUser(),!1);eb.alignInWorld(!1);eb.hasFixedPosition=!0;return ob.return(eb)})}},{key:"onMouseDown",value:function(eb){var ob=this,wb,cb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Oa){switch(Oa.nextAddress){case 1:wb=eb.targetMorph.name;cb=ob.currentUser();switch(wb){case "profile item":return Oa.return(ob.showUserInfo(cb));
case "logout item":return Oa.jumpTo(2);case "login item":return Oa.jumpTo(3);case "register item":ob.showRegister();break;case "user flap":ob.maximize();break;case "keyboard input":ob.toggleKeyboardInput()}Oa.jumpTo(0);break;case 2:return Oa.yield(ob.minimize(),5);case 5:return Oa.yield(ob.logout(cb),6);case 6:return Oa.return();case 3:return Oa.yield(ob.showLogin(cb),7);case 7:return Oa.return()}})}},{key:"toggleKeyboardInput",value:function(eb){eb=void 0===eb?!Hb.touchInputDevice:eb;Hb.touchInputDevice=
eb;var ob=this.get("keyboard input");eb?(ob.fontColor=Hb.Color.rgb(0,176,255),ob.dropShadow=this.haloShadow):(ob.fontColor=this.fontColor,ob.dropShadow=!1)}},{key:"currentUser",value:function(){return Hb.UserRegistry.current.loadUserFromLocalStorage(Hb.config.users.authServerURL)}},{key:"onUserChanged",value:function(eb){this.showUser(eb.user||{name:"???"},!1)}},{key:"onWorldResize",value:function(eb){!this.isComponent&&this.alignInWorld()}},{key:"relayout",value:function(){this.alignInWorld()}},
{key:"alignInWorld",value:function(eb){var ob=this,wb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cb){if(1==cb.nextAddress)return cb.yield(ob.whenRendered(),2);if(ob.hasFixedPosition&&ob.owner.isWorld)return ob.topRight=Hb.pt(ob.world().visibleBounds().width,0),cb.return();wb=$world.visibleBounds().topRight().withY(0).subXY(10,0);eb?ob.animate({topRight:wb,duration:200}):ob.topRight=wb;cb.jumpToEnd()})}},{key:"minimize",value:function(){var eb=this,ob;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wb){if(1==
wb.nextAddress)return(ob=eb.getSubmorphNamed("user menu"))?wb.yield(ob.animate({opacity:0,scale:.8,duration:200}),2):wb.return();ob.visible=!1;wb.jumpToEnd()})}},{key:"ensureMenu",value:function(){var eb=this,ob,wb,cb,Oa,Gb,sc,vc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(fc){switch(fc.nextAddress){case 1:if(!eb._menuFetch){fc.jumpTo(2);break}return fc.yield(eb._menuFetch,3);case 3:return fc.return(fc.yieldResult);case 2:ob=Hb.promise.deferred();eb._menuFetch=ob.promise;if(wb=eb.getSubmorphNamed("user menu")){fc.jumpTo(4);
break}cb=eb;Oa=cb.addMorph;Gb=cb;return fc.yield(Ab.import("./user menu master-ba365d4c.js"),6);case 6:if(!(sc=fc.yieldResult)){fc.jumpTo(7);break}return fc.yield(Hb.resource("part://SystemIDE/user menu master"),8);case 8:sc=fc.yieldResult;case 7:return fc.yield(sc.read(),5);case 5:wb=Oa.call(Gb,fc.yieldResult);case 4:vc=wb,vc.name="user menu",vc.opacity=0,vc.scale=.8,vc.position=eb.getSubmorphNamed("avatar").bottomCenter.addXY(0,10),ob.resolve(vc),fc.jumpToEnd()}})}},{key:"maximize",value:function(){var eb=
this,ob;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wb){if(1==wb.nextAddress)return(ob=eb.getSubmorphNamed("user menu"))?wb.jumpTo(2):wb.yield(eb.ensureMenu(),3);2!=wb.nextAddress&&(ob=wb.yieldResult);ob.right=eb.width-5;ob.visible=!0;return wb.yield(ob.animate({opacity:1,scale:1,duration:200}),0)})}},{key:"changeWidthAndHeight",value:function(eb,ob,wb){var cb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Oa){return wb?Oa.yield(cb.animate({position:cb.position.addXY(cb.width-
eb,0),extent:Hb.pt(eb,ob),duration:200}),0):(cb.extent=Hb.pt(eb,ob),cb.position=cb.position.addXY(cb.width-eb,0),Oa.jumpTo(0))})}},{key:"showMenuItems",value:function(eb){var ob=this;Hb.arr.withoutAll(["login item","logout item","profile item","register item"],eb).map(function(wb){return ob.getSubmorphNamed(wb)}).forEach(function(wb){wb.visible=!1;wb.bringToFront()});eb.map(function(wb){return ob.getSubmorphNamed(wb)}).forEach(function(wb){wb.visible=!0})}},{key:"showUser",value:function(eb,ob){var wb=
this,cb,Oa,Gb,sc,vc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(fc){switch(fc.nextAddress){case 1:return cb=wb.getSubmorphNamed("label"),Oa=wb.getSubmorphNamed("user menu"),Gb=wb.getSubmorphNamed("avatar"),wb.getSubmorphNamed("login item"),wb.getSubmorphNamed("logout item"),wb.getSubmorphNamed("profile item"),sc=String(eb.name),vc=Hb.resource("https://s.gravatar.com/avatar").join(Hb.string.md5(eb.email||"")).withQuery({s:160}).url,fc.yield(wb.ensureMenu(),2);case 2:sc.startsWith("guest-")?
(wb.showMenuItems(["login item","register item"]),sc="guest"):wb.showMenuItems(["logout item","profile item"]);cb.value=sc;Gb.imageUrl=vc;if(!Oa){fc.jumpTo(3);break}return fc.yield(Oa.master.whenApplied(),4);case 4:Oa.position=Gb.bottomCenter.addXY(0,10);case 3:return fc.yield(wb.whenRendered(),5);case 5:wb.alignInWorld(),fc.jumpToEnd()}})}},{key:"showRegister",value:function(){return Hb.UserUI.showRegister()}},{key:"showUserInfo",value:function(eb){return Hb.UserUI.showUserInfo({user:eb})}},{key:"showLogin",
value:function(eb){return Hb.UserUI.showLogin({user:eb})}},{key:"logout",value:function(eb){return Hb.UserRegistry.current.logout(eb)}},{key:"onBlur",value:function(eb){var ob=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wb){if(1==wb.nextAddress)return ob.minimize(),wb.yield(ob.whenRendered(),2);ob.world().focusedMorph.ownerChain().includes(ob)&&ob.focus();wb.jumpToEnd()})}},{key:"showMenu",value:function(eb,ob){ob=void 0===ob?!1:ob;var wb=this,cb,Oa,Gb,sc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vc){cb=
wb.getSubmorphNamed("label");Oa=wb.getSubmorphNamed("avatar");Gb=["open chat",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(fc){fc.jumpToEnd()})}];sc=Object.assign(Hb.Menu.forItems(eb.isGuestUser?[Gb,["login",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(fc){wb.minimize();wb.showLogin(eb);fc.jumpToEnd()})}]]:[["show user info",function(){wb.minimize();wb.showUserInfo(eb)}],Gb,["logout",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(fc){if(1==
fc.nextAddress)return fc.yield(wb.minimize(),2);wb.logout(eb);fc.jumpToEnd()})}]]),{name:"menu",position:Hb.pt(10,5),dropShadow:!1,opacity:ob?0:1,borderWidth:0,fontSize:12,fontFamily:"Helvetica Neue, Verdana, Sans Serif"});Oa.visible=!1;cb.visible=!1;wb.addMorph(sc);ob&&sc.animate({opacity:1,duration:200});return vc.yield(wb.changeWidthAndHeight(sc.width+20,sc.height+10,ob),0)})}},{key:"updateNetworkIndicator",value:function(eb){var ob="red";eb&&(eb.isOnline()&&(ob="yellow"),eb.isRegistered()&&(ob=
"green"));this.get("network-indicator").animate({fill:Hb.Color[ob],duration:300})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserFlap"}},{key:"properties",get:function(){return{submorphs:{initialize:function(){this.submorphs=[{type:"label",name:"label",fontSize:12,fontFamliy:"Helvetica Neue, Verdana, Sans Serif",fontWeight:"bold",padding:Hb.Rectangle.inset(4),reactsToPointer:!1},Hb.Icon.makeLabel("user",{name:"avatar",fontColor:Hb.Color.black.withA(.3),fontSize:12,clipMode:"hidden",
padding:Hb.Rectangle.inset(2,2,4,0),borderWidth:1,borderColor:Hb.Color.black.withA(.3),extent:Hb.pt(20,20),borderRadius:10}),{name:"network-indicator",fill:Hb.Color.red,borderRadius:5,extent:Hb.pt(5,5),position:Hb.pt(5,8),reactsToPointer:!1}]}},fontColor:{after:["submorphs"],set:function(eb){this.setProperty("fontColor",eb)}},name:{initialize:function(){this.name="user flap"}},epiMorph:{defaultValue:!0},clipMode:{defaultValue:"hidden"},draggable:{defaultValue:!1},grabbable:{defaultValue:!1},acceptsDrops:{defaultValue:!1},
fill:{defaultValue:Hb.Color.white},borderRadiusBottom:{defaultValue:10},borderRadiusLeft:{defaultValue:10},borderRadiusRight:{defaultValue:10},nativeCursor:{defaultValue:"pointer"},respondsToVisibleWindow:{defaultValue:!0},haloColor:{readOnly:!0,get:function(){return Hb.Color.rgb(0,176,255)}},haloShadow:{readOnly:!0,get:function(){return{distance:2,rotation:45,color:Hb.Color.rgba(64,196,255,.4),inset:!1,blur:6,spread:0,fast:!1}}}}}}],qb,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:18506,end:27549})}(Hb.Morph));Hb.UserFlap=rb;Hb.UserFlap=rb;Hb.UserFlap=rb}}});System.register("14",[],function(){return{execute:function(){lively.FreezerRuntime.recorderFor("lively.2lively/index.js")}}});
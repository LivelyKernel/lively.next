System.register(["./__root_module__-dce2a509.js","./index-133ff6c6.js"],function(Ba){var zb,Ib,nc,bc,Sd,Vc,Ud,Yc,Oc,qd,ie,Ye,sf,ne,cc,Hc,Md,fc,$d,pe,Cc,Ic,Sb,Jc,dd,Jd,Kd,Hb,Bb,Mb,Na,Ua,Oa,Ia,eb,cb,ob,Zb,mc,Tb,pa,Ja,X,ua,ab,rb,vc,Bd,sc,Nb,Yd,Cd,kb;return{setters:[function(Cb){zb=Cb.C;Ib=Cb.a2;nc=Cb.b8;bc=Cb.b9;Sd=Cb.ba;Vc=Cb.bb;Ud=Cb.bc;Yc=Cb.bd;Oc=Cb.a3;qd=Cb.al;ie=Cb.be;Ye=Cb.bf;sf=Cb.bg;ne=Cb.an;cc=Cb.b1;Hc=Cb.ap;Md=Cb.aD;fc=Cb.ac;$d=Cb.b2;pe=Cb.ar;Cc=Cb.I;Ic=Cb.a_;Sb=Cb.b6;Jc=Cb.bh;dd=Cb.bi;
Jd=Cb.au;Kd=Cb.av;Hb=Cb.at;Bb=Cb.a6;Mb=Cb.bj;Na=Cb.aw;Ua=Cb.as;Oa=Cb.aE;Ia=Cb.ad;eb=Cb.bk;cb=Cb.aq;ob=Cb.ab;Zb=Cb.ae;mc=Cb.$;Tb=Cb.ax;pa=Cb.a7;Ja=Cb.a8;X=Cb.a1;ua=Cb.bl;ab=Cb.bm;rb=Cb.bn;vc=Cb.am;Bd=Cb.aj;sc=Cb.aP},function(Cb){Nb=Cb.p;Yd=Cb.P;Cd=Cb._;kb=Cb.N}],execute:function(){var Cb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");Cb.Color=zb;Cb.rect=Ib;Cb.Complementary=nc;Cb.Triadic=bc;Cb.Tetradic=Sd;Cb.Quadratic=Vc;Cb.Analogous=Ud;Cb.Neutral=Yc;Cb.pt=Oc;Cb.Point=qd;Cb.flatDesignColors=
ie;Cb.materialDesignColors=Ye;Cb.webSafeColors=sf;Cb.Morph=ne;Cb.CustomLayout=cc;Cb.VerticalLayout=Hc;Cb.HorizontalLayout=Md;Cb.Text=fc;Cb.TilingLayout=$d;Cb.Ellipse=pe;Cb.Image=Cc;Cb.StyleSheet=Ic;Cb.DropDownSelector=Sb;Cb.ModeSelector=Jc;Cb.Slider=dd;Cb.connect=Jd;Cb.signal=Kd;Cb.num=Hb;Cb.arr=Bb;Cb.SnapLayout=Mb;Cb.WHEEL_URL="/lively.ide/assets/color-wheel.png";Cb.duration=200;(function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),we=cd.hasOwnProperty("ColorPaletteField")&&
"function"===typeof cd.ColorPaletteField?cd.ColorPaletteField:cd.ColorPaletteField=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"onHoverIn",value:function(){if(this.color){var xa=$jscomp.makeIterator(this.color.isGradient?Cb.Color.blue.toHSB():this.color.toHSB()),hb=xa.next().value,Xa=xa.next().value;xa=xa.next().value;this.borderColor=Cb.Color.hsb(hb,1<Xa+.5?Xa-.5:Xa+.5,1<xa+.5?xa-.5:xa+.5)}}},
{key:"onHoverOut",value:function(){this.borderColor=Cb.Color.transparent}},{key:"onMouseDown",value:function(){Cb.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:Cb.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||Cb.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||
Cb.Color.transparent}},styleClasses:{after:["color"],initialize:function(){this.styleClasses=this.color?["colorField"]:["vacantColorField"]}}}}}],cd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:638,end:1652})})(Cb.Morph);(function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
we=cd.hasOwnProperty("ColorHarmonyField")&&"function"===typeof cd.ColorHarmonyField?cd.ColorHarmonyField:cd.ColorHarmonyField=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"onMouseDown",value:function(){Cb.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:Cb.pt(80,
60)},fill:{defaultValue:Cb.Color.transparent},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color harmony field"}}},color:{set:function(xa){var hb=$jscomp.makeIterator(this.submorphs),Xa=hb.next().value;hb=hb.next().value;var qb=$jscomp.makeIterator(xa?xa.toHSB():[]),P=qb.next().value,qa=qb.next().value;qb=qb.next().value;this.setProperty("color",xa);xa&&Xa&&hb&&(Xa.fill=xa,hb.textString=xa.toHexString(),hb.fontColor=Cb.Color.hsb(P,1<qa+.5?qa-.5:qa+.5,1<qb+.5?qb-.5:qb+
.5))}},submorphs:{after:["color"],initialize:function(){var xa=$jscomp.makeIterator((this.color||Cb.Color.transparent).toHSB()),hb=xa.next().value,Xa=xa.next().value;xa=xa.next().value;this.submorphs=[new Cb.Morph({fill:this.color,extent:Cb.pt(80,50)}),new Cb.Text({textString:hb.toFixed()+", "+Xa.toFixed(2)+", "+xa.toFixed(2),fill:Cb.Color.transparent,fontColor:Cb.Color.gray.darker(),bottomLeft:Cb.pt(0,50)})]}}}}}],cd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:1654,end:3046})})(Cb.Morph);(function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),we=cd.hasOwnProperty("HarmonyDisplay")&&"function"===typeof cd.HarmonyDisplay?cd.HarmonyDisplay:cd.HarmonyDisplay=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return Na(we,re,[{key:"update",value:function(xa){var hb=$jscomp.makeIterator(xa.pivotColor.toHSB()),Xa=hb.next().value,qb=hb.next().value;hb=hb.next().value;Xa=xa.harmony.chord({hue:Xa,saturation:qb,brightness:hb});Xa.length!=this.submorphs.length?this.submorphs=Xa.map(function(P){P=new Cb.ColorHarmonyField({color:P});Cb.connect(P,"updateColor",xa,"color");return P}):Cb.arr.zip(this.submorphs,Xa).forEach(function(P){var qa=$jscomp.makeIterator(P);P=qa.next().value;qa=qa.next().value;P.color=qa})}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyDisplay"}}],cd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3048,end:3626})})(Cb.Morph);(function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),we=cd.hasOwnProperty("PivotColorControl")&&
"function"===typeof cd.PivotColorControl?cd.PivotColorControl:cd.PivotColorControl=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"update",value:function(xa){this.pivotColor=xa.pivotColor}},{key:"onDrag",value:function(xa){var hb=$jscomp.makeIterator(this.pivotColor.toHSB()),Xa=hb.next().value,qb=hb.next().value;hb=hb.next().value;Xa=Cb.num.toRadians(Xa);xa=Cb.Point.polar(50*qb,Xa).addPt(xa.state.dragDelta);
Xa=Cb.num.toDegrees(xa.theta());Xa=0>Xa?Xa+360:Xa;qb=Math.min(xa.r()/50,1);this.pivotColor=Cb.Color.hsb(Xa,qb,hb)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:Cb.Color.blue},draggable:{defaultValue:!0}}}}],cd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3628,end:4262})})(Cb.Ellipse);(function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),we=cd.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof cd.HarmonyVisualizer?cd.HarmonyVisualizer:cd.HarmonyVisualizer=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"update",value:function(xa){var hb=
$jscomp.makeIterator(this.submorphs).next().value,Xa=this.get("pivot control"),qb=$jscomp.makeIterator(xa.pivotColor.toHSB()),P=qb.next().value,qa=qb.next().value;qb=qb.next().value;var fb=Cb.num.toRadians(P);P=xa.harmony.chord({hue:P,saturation:qa,brightness:qb}).map(function(Lb){var gc=$jscomp.makeIterator(Lb.toHSB()),Zc=gc.next().value;Lb=gc.next().value;gc.next();gc=Cb.num.toRadians(Zc);return Cb.Point.polar(50*Lb,gc)});hb.fill=Cb.Color.black.withA(1-qb);Xa.update(xa);hb.submorphs.length-1!=P.length?
hb.submorphs=[].concat($jscomp.arrayFromIterable(P.map(function(Lb){return new Cb.Ellipse({center:Lb,fill:Cb.Color.transparent,draggable:!1,borderWidth:1,borderColor:Cb.Color.black})})),[Xa]):(Cb.arr.zip(hb.submorphs,P).forEach(function(Lb){var gc=$jscomp.makeIterator(Lb);Lb=gc.next().value;if(gc=gc.next().value)Lb.center=gc}),Xa.center=Cb.Point.polar(50*qa,fb))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},
submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new Cb.PivotColorControl({name:"pivot control"})]}]}}}}}],cd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4264,end:5726})})(Cb.Image);(function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
we=cd.hasOwnProperty("HarmonyPalette")&&"function"===typeof cd.HarmonyPalette?cd.HarmonyPalette:cd.HarmonyPalette=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"update",value:function(xa){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=xa.pivotBrightness,this.harmony=xa.harmony,this.get("harmonies").update(xa),this.get("harmony visualizer").update(xa),this.updateInProgress=
!1)}},{key:"harmonyControl",value:function(){var xa,hb,Xa=new Cb.Morph({name:"harmonyControl",submorphs:[new Cb.HarmonyVisualizer({name:"harmony visualizer"}),hb=new Cb.Slider({min:0,max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),xa=new Cb.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new Cb.Complementary,Triadic:new Cb.Triadic,Tetradic:new Cb.Tetradic,
Quadratic:new Cb.Quadratic,Analogous:new Cb.Analogous,Neutral:new Cb.Neutral}})]});Cb.connect(hb,"value",this,"pivotBrightness");Cb.connect(xa,"selectedValue",this,"harmony");return Xa}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new Cb.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],
initialize:function(){this.submorphs=[new Cb.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],cd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5728,end:7655})})(Cb.Morph);var $c=Ba("C",function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
we=cd.hasOwnProperty("ColorPalette")&&"function"===typeof cd.ColorPalette?cd.ColorPalette:cd.ColorPalette=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"fadeIntoWorld",value:function(xa){Na._get(Object.getPrototypeOf(we.prototype),"fadeIntoWorld",this).call(this,xa);this.initPosition=xa;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function(xa){"Escape"==
xa.key&&this.close()}},{key:"close",value:function(xa){xa?this.fadeOut(xa):this.remove();Cb.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",extent:Cb.pt(400,253),submorphs:[this.solidColorPalette(),new Cb.HarmonyPalette({name:"harmony palette",isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var xa=this.get("solidColorPalette"),hb=this.get("paletteView");xa.visible||(hb.submorphs.forEach(function(Xa){return Xa.animate({isLayoutable:!1,
visible:!1,duration:200})}),xa.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var xa=this.get("paletteView");this.get("harmony palette").visible||(xa.submorphs.forEach(function(hb){return hb.animate({isLayoutable:!1,visible:!1,duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var xa=new Cb.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette",
"Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});Cb.connect(xa,"Color Palette",this,"selectSolidMode");Cb.connect(xa,"Color Harmonies",this,"selectHarmonyMode");return xa}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var xa=this.getColorsFor(this.colorPalette),hb=xa.colors,
Xa=xa.mod;return this.cachedPalette[xa.name]||this.getPalette(hb,Xa)}},{key:"getPalette",value:function(xa,hb){var Xa=this,qb=Math.max(Math.ceil(xa.length/hb),15),P=qb*this.colorFieldWidth,qa=hb*this.colorFieldWidth;xa=[].concat($jscomp.arrayFromIterable(xa),$jscomp.arrayFromIterable(Cb.arr.withN(qb*hb-xa.length,null)));return{extent:Cb.pt(P,qa),name:"paletteContainer",submorphs:xa.map(function(fb){fb=new Cb.ColorPaletteField({color:fb&&Cb.Color.rgbHex(fb),extent:Cb.pt(Xa.colorFieldWidth,Xa.colorFieldWidth)});
Cb.connect(fb,"updateColor",Xa,"color");return fb})}}},{key:"switchPalette",value:function(xa){var hb=xa.name,Xa=xa.colors;xa=xa.mod;var qb=this.get("solidColorPalette"),P=$jscomp.makeIterator(qb.submorphs);P.next();P=P.next().value;this.cachedPalette[hb]=this.cachedPalette[hb]||this.getPalette(Xa,xa,hb);qb.submorphs=[this.cachedPalette[hb],P]}},{key:"getPaletteDescription",value:function(xa){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",
custom:"Your personal set of customly defined colors.",materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[xa]}},
{key:"updatePaletteDescription",value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function(xa){return Object.assign({name:xa},{flatDesign:{colors:Cb.flatDesignColors,mod:11},materialDesign:{colors:Cb.materialDesignColors,mod:15},webSafe:{colors:Cb.webSafeColors,mod:12}}[xa])}},{key:"paletteConfig",value:function(){var xa,hb={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[xa=new Cb.DropDownSelector({isHaloItem:!0,
name:"paletteSelector",selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};Cb.connect(xa,"selectedValue",this,"colorPalette");return hb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:Cb.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function(xa){this.setProperty("colorPalette",
xa);this.switchPalette(this.getColorsFor(xa));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function(xa){this.setProperty("pivotColor",xa);this.get("harmony palette").update(this)}},color:{set:function(xa){this.setProperty("color",xa);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var xa=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());xa.next();xa.next();return xa.next().value},
set:function(xa){var hb=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),Xa=hb.next().value;hb=hb.next().value;this.pivotColor=Cb.Color.hsb(Xa,hb,xa)}},harmony:{after:["submorphs","pivotColor"],defaultValue:new Cb.Complementary,set:function(xa){this.setProperty("harmony",xa);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var xa=
$jscomp.makeIterator((this.color.isGradient?Cb.Color.blue:this.color).toHSB()),hb=xa.next().value,Xa=xa.next().value;xa.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=Cb.Color.hsb(hb,Xa,1);Cb.connect(this.get("harmony palette"),"harmony",this,"harmony");Cb.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");Cb.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],
cd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:7721,end:15551})}(Cb.Morph));Cb.ColorPalette=$c;Cb.ColorPalette=$c;Cb.ColorPalette=$c;var sb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");sb.Morph=ne;sb.Icon=Ua;sb.ProportionalLayout=Oa;sb.config=Ia;
sb.Text=fc;sb.ShadowObject=eb;sb.GridLayout=cb;sb.TilingLayout=$d;sb.StyleSheet=Ic;sb.morph=ob;sb.HorizontalLayout=Md;sb.VerticalLayout=Hc;sb.KeyHandler=Zb;sb.connect=Jd;sb.signal=Kd;sb.arr=Bb;sb.promise=mc;sb.fun=Tb;sb.string=pa;sb.obj=Ja;sb.Color=zb;sb.rect=Ib;sb.Rectangle=X;sb.pt=Oc;sb.popovers=Nb;sb.ModeSelector=Jc;sb.DropDownSelector=Sb;sb.SearchField=ua;sb.CheckBox=ab;sb.Popover=Yd;sb.SvgStyleHalo=Cd;sb.NumberWidget=kb;sb.Icons=rb;sb.duration=200;var hd=Ba("c",sb.colorWidgets||{});sb.colorWidgets=
hd;sb.colorWidgets=hd;sb.colorWidgets=hd;(function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),we=cd.hasOwnProperty("SelectableControl")&&"function"===typeof cd.SelectableControl?cd.SelectableControl:cd.SelectableControl=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"select",value:function(xa){var hb=this,Xa,qb,P;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qa){if(1==
qa.nextAddress)return hb.target?qa.yield(hb.target.execCommand(xa),2):qa.return();Xa=qa.yieldResult;qb=hb.get("modeSelector");Xa.opacity=0;hb.lastLabel&&(P=qb.submorphs.indexOf(hb.lastLabel)<qb.submorphs.indexOf(qb.currentLabel),Xa.topLeft=qb.bottomLeft.addXY(P?20:-20,10));hb.lastLabel=qb.currentLabel;hb.animate({submorphs:[qb,Xa],duration:sb.duration});Xa.animate({opacity:1,duration:sb.duration});qa.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SelectableControl"}},
{key:"properties",get:function(){return{target:{type:"Morph"},selectableControls:{},selectedControl:{},fill:{defaultValue:sb.Color.transparent},layout:{initialize:function(){this.layout=new sb.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function(xa){return this.container.submorphs.indexOf(xa)}})}},submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var xa=new sb.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});
this.submorphs=[xa];xa.width=100;sb.connect(xa,"switchLabel",this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],cd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:948,end:2579})})(sb.Morph);(function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
we=cd.hasOwnProperty("ToggledControl")&&"function"===typeof cd.ToggledControl?cd.ToggledControl:cd.ToggledControl=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"toggle",value:function(xa){var hb=$jscomp.makeIterator(this.submorphs).next().value,Xa=this.toggledControl(xa);hb=[hb].concat($jscomp.arrayFromIterable(Xa?[Xa]:[]));sb.signal(this,"update",xa&&Xa.value);Xa&&(Xa.opacity=0);this.animate({submorphs:hb,
duration:sb.duration});Xa&&Xa.animate({opacity:1,duration:sb.duration})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:sb.Color.transparent},layout:{initialize:function(){this.layout=new sb.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var xa=new sb.CheckBox({checked:this.checked});this.submorphs=
[{fill:sb.Color.transparent,layout:new sb.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:sb.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},xa]}];this.toggle(this.checked);sb.connect(xa,"toggle",this,"toggle")}}}}}],cd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2581,end:4273})})(sb.Morph);(function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),we=cd.hasOwnProperty("StylePopover")&&"function"===typeof cd.StylePopover?cd.StylePopover:cd.StylePopover=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"setupConnections",value:function(){}},{key:"controls",
value:function(){return[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=sb.morph({layout:new sb.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:sb.Color.transparent,submorphs:this.controls()});this.setupConnections()}}}}}],cd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4275,end:4825})})(sb.Popover);var md=function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),we=cd.hasOwnProperty("IconPopover")&&"function"===typeof cd.IconPopover?cd.IconPopover:cd.IconPopover=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"onDrop",value:function(xa){var hb=this;xa.hand.grabbedMorphs.find(function(Xa){return Xa===
hb.iconLabel})&&(xa.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new sb.VerticalLayout({spacing:4}),fill:sb.Color.transparent,submorphs:[new sb.SearchField({name:"searchInput",width:200,placeHolder:"Search Icons"}),sb.morph({textAndAttributes:this.iconAsTextAttributes(),name:"iconList",draggable:!0,type:"text",extent:sb.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var xa=
this.ui,hb=xa.iconList;sb.connect(xa.searchInput,"searchInput",this,"filterIcons");sb.connect(hb,"onMouseUp",this,"iconSelectClick");sb.connect(hb,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",value:function(xa){xa=this.ui.iconList.textPositionFromPoint(xa.positionIn(this.ui.iconList));xa=this.iconAtTextPos(xa);this.iconLabel=sb.Icon.makeLabel(xa,{fontSize:this.ui.iconList.fontSize,name:xa});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",
value:function(xa){var hb=Object.keys(sb.Icons);xa&&(hb=hb.filter(xa));return sb.arr.flatmap(hb,function(Xa,qb){return[sb.Icons[Xa].code,{iconCode:sb.Icons[Xa].code,iconName:Xa}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",value:function(){var xa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(hb){if(1==hb.nextAddress)return hb.yield(sb.promise.delay(250),2);sb.fun.debounceNamed("filterIcons",200,function(){xa.ui.iconList.textAndAttributes=xa.iconAsTextAttributes(function(Xa){return xa.ui.searchInput.matches(Xa.toLowerCase())})})();
hb.jumpToEnd()})}},{key:"iconSelectClick",value:function(xa){xa=this.ui.iconList.textPositionFromPoint(xa.positionIn(this.ui.iconList));xa=this.iconAtTextPos(xa);this.setStatusMessage(xa);sb.signal(this,"select",xa)}},{key:"iconAtTextPos",value:function(xa){var hb=xa.row;xa=xa.column;--xa;for(var Xa=this.ui.iconList,qb=Xa.textAndAttributesInRange({start:{row:hb,column:Math.max(0,xa)},end:{row:hb,column:xa+2}});qb.length&&!qb[1].iconName;)xa++,qb=qb.slice(2);var P={start:{row:hb,column:xa},end:{row:hb,
column:xa+1}};Xa.addTextAttribute({backgroundColor:Xa.selectionColor.darker().withA(.5)},P);sb.promise.delay(1E3).then(function(){return Xa.addTextAttribute({backgroundColor:sb.Color.transparent},P)});return qb.length?qb[1].iconName:null}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"IconPopover"}},{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:sb.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),
iconList:this.get("iconList")}}}}}}],cd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4834,end:8444})}(sb.StylePopover);sb.IconPopover=md;sb.IconPopover=md;sb.IconPopover=md;var pb=function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),we=
cd.hasOwnProperty("LayoutPopover")&&"function"===typeof cd.LayoutPopover?cd.LayoutPopover:cd.LayoutPopover=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"getLayoutObjects",value:function(){return[null,new sb.HorizontalLayout({autoResize:!1}),new sb.VerticalLayout({autoResize:!1}),new sb.TilingLayout,new sb.ProportionalLayout,new sb.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){Na._get(Object.getPrototypeOf(we.prototype),
"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:sb.Color.transparent,layout:new sb.VerticalLayout({spacing:5,layoutOrder:function(xa){return this.container.submorphs.indexOf(xa)}}),submorphs:[this.layoutPicker(),this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),
duration:300}:{isLayoutable:!1,extent:sb.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function(xa){this.clearLayoutHalo();xa&&xa.layout&&(this.layoutHalo=(xa.world()||xa.env.world).showLayoutHaloFor(xa))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function(xa){return xa?xa.name()+" Layout":
"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function(xa){this.container.animate({layout:xa});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());sb.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var xa=this,hb=this.getLayoutObjects().map(function(Xa){var qb={};return qb[xa.getLayoutName(Xa)]=Xa,qb});hb=this.get("Layout Type")||new sb.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return xa.getCurrentLayoutName()},
selectedValue:this.container.layout,values:sb.obj.merge(hb)});sb.connect(hb,"selectedValue",this,"applyLayout");return hb}},{key:"layoutControls",value:function(){return{name:"controlContainer",fill:sb.Color.transparent,layout:new sb.VerticalLayout,isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:sb.Color.gray.lighter()}}}}],
cd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:8453,end:11192})}(sb.StylePopover);sb.LayoutPopover=pb;sb.LayoutPopover=pb;sb.LayoutPopover=pb;var ub=function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),we=cd.hasOwnProperty("FillPopover")&&
"function"===typeof cd.FillPopover?cd.FillPopover:cd.FillPopover=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"openHandle",value:function(xa){xa.openInWorld();this.openHandles.push(xa)}},{key:"close",value:function(){Na._get(Object.getPrototypeOf(we.prototype),"close",this).call(this);this.openHandles.forEach(function(xa){return xa.remove()})}},{key:"setupConnections",value:function(){var xa=
this.ui,hb=xa.fillSelector,Xa=xa.colorField;xa=xa.gradientEditor;hb&&sb.connect(this,"fillValue",hb,"value");xa&&(sb.connect(xa,"gradientValue",this,"fillValue"),sb.connect(xa,"openHandle",this,"openHandle"));Xa&&(sb.connect(this,"close",Xa,"remove"),sb.connect(Xa,"update",this,"fillValue"),sb.connect(this,"onMouseDown",Xa,"removeWidgets"))}},{key:"commands",get:function(){var xa=this;return Na._get(Object.getPrototypeOf(we.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var hb=
new sb.colorWidgets.ColorPickerField({name:"colorField",colorValue:xa.fillValue.isGradient?sb.Color.blue:xa.fillValue});hb.whenRendered().then(function(){xa.setupConnections()});return hb}},{name:"switch to gradient",exec:function(){var hb=new sb.colorWidgets.GradientEditor({name:"gradient editor",gradientValue:xa.fillValue});hb.whenRendered().then(function(){xa.setupConnections();xa.handleMorph&&hb.showGradientHandlesOn(xa.handleMorph);hb.update()});return hb}}])}},{key:"controls",value:function(){return this.gradientEnabled?
[new sb.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]:[{fill:sb.Color.transparent,layout:new sb.VerticalLayout({spacing:0}),submorphs:[new sb.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue})]}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},
fillValue:{defaultValue:sb.Color.blue},popoverColor:{defaultValue:sb.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],cd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:11201,end:14064})}(sb.StylePopover);sb.FillPopover=ub;sb.FillPopover=ub;sb.FillPopover=ub;var wb=Ba("S",function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),we=cd.hasOwnProperty("ShadowPopover")&&"function"===typeof cd.ShadowPopover?cd.ShadowPopover:cd.ShadowPopover=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"controls",value:function(){var xa=
this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",hb=[{layout:new sb.VerticalLayout({resizeContainer:!0,spacing:5}),fill:sb.Color.transparent,name:"control container",submorphs:[xa=new sb.DropDownSelector({name:"shadow type",borderRadius:2,padding:3,selectedValue:xa,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?this.shadowControls():[])}];sb.connect(xa,"selectedValue",this,"changeShadowType");return hb}},{key:"shadowControls",value:function(){var xa=
this.shadowValue,hb=new sb.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:xa.distance,unit:"px"}),Xa=new sb.NumberWidget({name:"angleSlider",min:0,max:360,number:xa.rotation,autofit:!1}),qb=new sb.NumberWidget({name:"spreadSlider",min:0,number:xa.spread,autofit:!1}),P=new sb.NumberWidget({name:"blurSlider",min:0,number:xa.blur,autofit:!1});xa=new sb.colorWidgets.ColorPickerField({name:"colorPicker",colorValue:xa.color});sb.connect(xa,"colorValue",this,"updateShadow",{converter:function(qa){return{color:qa}}});
sb.connect(this,"onMouseDown",xa,"removeWidgets");sb.connect(this,"close",xa,"remove");sb.connect(qb,"update",this,"updateShadow",{converter:function(qa){return{spread:qa}}});sb.connect(hb,"update",this,"updateShadow",{converter:function(qa){return{distance:qa}}});sb.connect(P,"update",this,"updateShadow",{converter:function(qa){return{blur:qa}}});sb.connect(Xa,"update",this,"updateShadow",{converter:function(qa){return{rotation:qa}}});return new sb.Morph({layout:new sb.GridLayout({autoAssign:!1,
fitToCell:!1,columns:[0,{paddingLeft:1}],rows:sb.arr.flatten(sb.arr.range(0,3).map(function(qa){return[qa,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",null,"distanceSlider"],["blurLabel",null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:sb.Color.transparent,submorphs:sb.arr.flatten([["distance",hb],["spread",qb],["blur",P],["angle",Xa],["color",xa]].map(function(qa){var fb=$jscomp.makeIterator(qa);
qa=fb.next().value;fb=fb.next().value;return[{type:"label",styleClasses:["controlName"],value:sb.string.capitalize(qa)+":",name:qa+"Label"},fb]}))})}},{key:"changeShadowType",value:function(xa){"No Shadow"==xa?this.toggleShadow(!1):"Inset Shadow"==xa?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?this.shadowControls():[]),duration:300})}},{key:"updateShadow",
value:function(xa){var hb=this.shadowValue;xa=Object.assign({fast:hb.fast,color:hb.color,spread:hb.spread,blur:hb.blur,distance:hb.distance,rotation:hb.rotation,inset:hb.inset},xa);this.shadowValue=new sb.ShadowObject(xa)}},{key:"toggleShadow",value:function(xa){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=xa&&this.cachedShadow}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowPopover"}},{key:"properties",get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new sb.ShadowObject({fast:!0})},
popoverColor:{defaultValue:sb.Color.gray.lighter()}}}}],cd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:14073,end:18507})}(sb.StylePopover));sb.ShadowPopover=wb;sb.ShadowPopover=wb;sb.ShadowPopover=wb;sb.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";
var yd=function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),we=cd.hasOwnProperty("PointPopover")&&"function"===typeof cd.PointPopover?cd.PointPopover:cd.PointPopover=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"refineResolution",value:function(xa){this.resolution=.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function(xa){this.pointValue=
this.pointValue.addPt(xa.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){Na._get(Object.getPrototypeOf(we.prototype),"relayout",this).call(this);var xa=this.getSubmorphNamed("mesh"),hb=this.getSubmorphNamed("point value view");xa.origin=xa.innerBounds().center().addXY(4,1);xa.position=this.get("body").innerBounds().center();xa.scale=this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";
hb.value=sb.obj.safeToString(this.pointValue);hb.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function(xa){var hb=this;Na._get(Object.getPrototypeOf(we.prototype),Symbol.for("lively-instance-initialize"),this).call(this,xa);this.whenRendered().then(function(){return hb.relayout()})}},{key:"calibrate",value:function(){var xa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(hb){if(1==hb.nextAddress)return xa.get("knob").animate({center:xa.innerBounds().center(),
duration:200}),hb.yield(xa.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);xa.relayout();hb.jumpToEnd()})}},{key:"showPointValue",value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},{key:"controls",value:function(){this.extent=sb.pt(200,200);var xa,hb,Xa=[sb.morph({extent:sb.pt(200,200),clipMode:"hidden",fill:sb.Color.transparent,submorphs:[{type:"image",name:"mesh",fill:sb.Color.transparent,opacity:.5,imageUrl:sb.milimeter,autoResize:!0},
{extent:sb.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:sb.Color.gray},fill:sb.Color.transparent},xa=sb.morph({name:"scroller",extent:sb.pt(200,200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),hb=sb.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:sb.Color.red,borderColor:sb.Color.black,borderWidth:1,center:sb.pt(100,100)}),{type:"label",name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:sb.pt(10,10),
type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];xa.scroll=sb.pt(0,120);sb.connect(hb,"onDragStart",this,"showPointValue");sb.connect(hb,"onDrag",this,"adjustPoint");sb.connect(hb,"onDragEnd",this,"calibrate");sb.connect(this,"extent",this,"relayout");sb.connect(xa,"onScroll",this,"refineResolution");return Xa}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"PointPopover"}},{key:"properties",get:function(){return{pointValue:{defaultValue:sb.pt(0,0)},resolution:{defaultValue:1}}}}],
cd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:18622,end:21799})}(sb.StylePopover);sb.PointPopover=yd;sb.PointPopover=yd;sb.PointPopover=yd;var Zd=function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),we=cd.hasOwnProperty("RectanglePopover")&&
"function"===typeof cd.RectanglePopover?cd.RectanglePopover:cd.RectanglePopover=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"controls",value:function(){var xa=this;return[{fill:sb.Color.transparent,extent:sb.pt(120,120),layout:new sb.GridLayout({grid:[["top","top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],columns:[0,{paddingLeft:4},1,{paddingRight:4,
fixed:!0,width:60}],rows:sb.arr.flatten(sb.arr.range(0,3).map(function(hb){return[hb,{paddingTop:0==hb?4:2,paddingBottom:3==hb?4:2}]}))}),submorphs:sb.arr.flatten(["top","right","bottom","left"].map(function(hb){var Xa=new sb.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},name:hb+" scrubber",autofit:!1,number:xa.rectangle.partNamed(hb)});sb.connect(Xa,"update",xa,"rectangle",{updater:function(qb,P){var qa=this.targetObj.rectangle,fb={};P=(fb.left=qa.left(),fb.top=qa.top(),
fb.right=qa.right(),fb.bottom=qa.bottom(),fb[hb]=P,fb);qb(sb.Rectangle.inset(P.left,P.top,P.right,P.bottom))},varMapping:{side:hb,Rectangle:X}});return[{type:"label",styleClasses:["controlName"],name:hb,value:hb,padding:3},Xa]}))}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RectanglePopover"}},{key:"properties",get:function(){return{popoverColor:{defaultValue:sb.Color.gray.lighter()},rectangle:{defaultValue:sb.rect(0)}}}}],cd,{pathInPackage:function(){return"styling/style-popover.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:21808,end:23792})}(sb.StylePopover);sb.RectanglePopover=Zd;sb.RectanglePopover=Zd;sb.RectanglePopover=Zd;var Je=function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),we=cd.hasOwnProperty("TextPopover")&&"function"===typeof cd.TextPopover?cd.TextPopover:
cd.TextPopover=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"controls",value:function(){var xa=new sb.Text(Object.assign({name:"editor",extent:sb.pt(300,200),textString:this.text,lineWrapping:"by-chars"},sb.config.codeEditor.defaultStyle));return[{layout:new sb.HorizontalLayout,fill:sb.Color.transparent,borderColor:sb.Color.gray,borderWidth:1,borderRadius:4,clipMode:"hidden",submorphs:[xa]}]}},
{key:"commands",get:function(){return Na._get(Object.getPrototypeOf(we.prototype),"commands",this).concat([{name:"save string",exec:function(xa){return $jscomp.asyncExecutePromiseGeneratorProgram(function(hb){xa.text=xa.get("editor").textString;sb.signal(xa,"save",xa.text);xa.setStatusMessage("String saved!",sb.Color.green);hb.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return Na._get(Object.getPrototypeOf(we.prototype),"keybindings",this).concat([{keys:{mac:"Command-S",win:"Ctrl-S"},command:"save string"}])}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],cd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:23801,end:24876})}(sb.StylePopover);sb.TextPopover=Je;sb.TextPopover=
Je;sb.TextPopover=Je;Object.assign(sb.popovers,{FillPopover:ub,IconPopover:md,RectanglePopover:Zd,ShadowPopover:wb,PointPopover:yd,LayoutPopover:pb});var Dc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");Dc.Morph=ne;Dc.morph=ob;Dc.StyleSheet=Ic;Dc.Text=fc;Dc.Icon=Ua;Dc.VerticalLayout=Hc;Dc.GridLayout=cb;Dc.HorizontalLayout=Md;Dc.pt=Oc;Dc.Rectangle=X;Dc.Color=zb;Dc.LinearGradient=vc;Dc.rect=Ib;Dc.signal=Kd;Dc.once=Bd;Dc.connect=Jd;Dc.obj=Ja;Dc.Window=sc;Dc.ColorPalette=$c;
Dc.FillPopover=ub;Dc.colorWidgets=hd;Dc.Slider=dd;Dc.Popover=Yd;Dc.WHEEL_URL="/lively.ide/assets/color-wheel.png";$c=function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),we=cd.hasOwnProperty("ColorPickerField")&&"function"===typeof cd.ColorPickerField?cd.ColorPickerField:cd.ColorPickerField=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"testAttr",get:function(){return[42]}},
{key:"spec",value:function(){return Dc.obj.dissoc(Na._get(Object.getPrototypeOf(we.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function(xa){"Escape"==xa.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,duration:300})}},{key:"onHoverOut",value:function(){this.get("dropDownIndicator").animate({opacity:0,duration:300})}},
{key:"update",value:function(xa){this._updating=!0;var hb=this.submorphs[1];this.colorValue=xa;this.get("topLeft").fill=xa;this.get("bottomRight").fill=xa.isGradient?Dc.Color.transparent:xa.withA(1);hb.visible=hb.isLayoutable=!this.gradientEnabled;this.gradientEnabled?this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=this.get("topLeft").width=this.width-hb.width;this.get("bottomRight").left=0;this.get("dropDownIndicator").right=
this.get("paletteButton").width-5;this._updating=!1}},{key:"openPicker",value:function(xa){var hb=this,Xa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qb){Xa=hb.picker||new Dc.ColorPicker({color:hb.colorValue});Xa.position=Dc.pt(0,-Xa.height/2);Dc.connect(Xa,"color",hb,"update");hb.picker=Xa.openInWorld();hb.picker.topLeft=hb.globalBounds().bottomCenter();hb.picker.topLeft=hb.world().visibleBounds().translateForInclusion(hb.picker.globalBounds()).topLeft();hb.removePalette();qb.jumpToEnd()})}},
{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function(xa){var hb=this,Xa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qb){if(1==qb.nextAddress)return Xa=hb.gradientEnabled?hb.fillWidget:hb.palette,hb.gradientEnabled?Dc.connect(Xa,"fillValue",hb,"update"):Dc.connect(Xa.targetMorph,"color",hb,"update"),Xa.isLayoutable=!1,qb.yield(Xa.openInWorld(),2);Xa.topCenter=hb.get("paletteButton").globalBounds().center();Xa.topCenter=hb.world().visibleBounds().translateForInclusion(Xa.globalBounds()).topCenter();
hb.removePicker();Dc.once(Xa,"remove",Xa,"topLeft",{converter:function(){return Dc.pt(0,0)},varMapping:{pt:Oc}});qb.jumpToEnd()})}},{key:"removePalette",value:function(){this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove()}},{key:"removeWidgets",value:function(){this.removePalette();this.removePicker()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,after:["colorValue"],
set:function(xa){this.setProperty("gradientEnabled",xa);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new Dc.FillPopover({fillValue:this.colorValue})}},testProp:{get:function(){return[42]}},palette:{serialize:!1,get:function(){return this._palette||(this._palette=new Dc.Popover({position:Dc.pt(0,0),name:"Color Palette",targetMorph:new Dc.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function(xa){xa&&(xa.isColor||xa.isGradient)||
(xa=Dc.Color.blue);if(!this._updating)return this.update(xa);this.setProperty("colorValue",xa)},get:function(){return this.getProperty("colorValue")||Dc.Color.white}},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color field"}}},submorphs:{initialize:function(){this.innerBounds().topRight();this.innerBounds().bottomLeft();var xa=Dc.pt(40,25);this.submorphs=[{extent:xa,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:xa},{name:"bottomRight",type:"polygon",
extent:xa,origin:Dc.pt(0,0),vertices:[Dc.pt(0,0),xa.withX(0),xa]},Dc.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:Dc.pt(30,12.5)})]},{fill:Dc.Color.transparent,extent:Dc.pt(25,25),onHoverIn:function(){this.fill=Dc.Color.black.withA(.2)},onHoverOut:function(){this.fill=Dc.Color.transparent},submorphs:[{name:"pickerButton",type:"image",autoResize:!1,imageUrl:Dc.WHEEL_URL}]}];Dc.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",this,"openPicker");Dc.connect(this.getSubmorphNamed("paletteButton"),
"onMouseDown",this,"openPalette");Dc.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],cd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:630,end:6351})}(Dc.Morph);Dc.ColorPickerField=$c;Dc.ColorPickerField=$c;Dc.ColorPickerField=$c;
Dc.colorWidgets.ColorPickerField=Dc.ColorPickerField;(function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),we=cd.hasOwnProperty("FieldPicker")&&"function"===typeof cd.FieldPicker?cd.FieldPicker:cd.FieldPicker=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"update",value:function(xa){this.getSubmorphNamed("hue").fill=Dc.Color.hsb(xa.hue,1,1);this.brightness=
xa.brightness;this.saturation=xa.saturation;this.get("picker").center=this.pickerPosition}},{key:"onMouseDown",value:function(xa){this.pickerPosition=xa.positionIn(this);Dc.signal(this,"pickerPosition",this.pickerPosition)}},{key:"onDrag",value:function(xa){this.pickerPosition=xa.positionIn(this)}},{key:"relayout",value:function(){var xa=this.innerBounds();this.getSubmorphNamed("hue").setBounds(xa);this.getSubmorphNamed("shade").setBounds(xa);this.getSubmorphNamed("light").setBounds(xa)}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:Dc.Color.transparent},saturation:{defaultValue:0},brightness:{defaultValue:0},draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var xa=this.saturation,hb=this.brightness;return void 0===xa||void 0===hb?Dc.pt(0,0):Dc.pt(this.getSubmorphNamed("hue").width*xa,this.getSubmorphNamed("hue").height*(1-hb))},set:function(xa){var hb=xa.x;xa=xa.y;
var Xa=this.getSubmorphNamed("hue"),qb=Xa.height;this.saturation=Math.max(0,Math.min(hb/Xa.width,1));this.brightness=Math.max(0,Math.min(1-xa/qb,1));Dc.signal(this,"saturation",this.saturation);Dc.signal(this,"brightness",this.brightness)}},submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new Dc.LinearGradient({stops:[{color:Dc.Color.white,offset:0},{color:Dc.Color.transparent,offset:1}],vector:"eastwest"})},
{borderRadius:3,name:"light",reactsToPointer:!1,fill:new Dc.LinearGradient({stops:[{color:Dc.Color.black,offset:0},{color:Dc.Color.transparent,offset:1}],vector:"southnorth"})},{name:"picker",type:"ellipse",reactsToPointer:!1,fill:Dc.Color.transparent,borderColor:Dc.Color.black,borderWidth:3,extent:Dc.pt(16,16),submorphs:[{type:"ellipse",fill:Dc.Color.transparent,borderColor:Dc.Color.white,reactsToPointer:!1,borderWidth:3,center:Dc.pt(8,8),extent:Dc.pt(12,12)}]}];Dc.connect(this,"extent",this,"relayout")}}}}}],
cd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:6404,end:9755})})(Dc.Morph);(function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),we=cd.hasOwnProperty("ColorPropertyView")&&"function"===typeof cd.ColorPropertyView?cd.ColorPropertyView:cd.ColorPropertyView=
function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=["key"].concat($jscomp.arrayFromIterable(this.readOnly?[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=[!this.readOnly&&
"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function(xa){"Enter"!=xa.keyCombo||this.readOnly?Na._get(Object.getPrototypeOf(we.prototype),"onKeyDown",this).call(this,xa):(this.owner.focus(),xa.stop(),Dc.signal(this,"updateValue",this.value))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},value:{derived:[!0],set:function(xa){this.textString=
Dc.obj.safeToString(xa)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:Dc.Color.gray.darker()}}}}],cd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},
{start:9757,end:10927})})(Dc.Text);(function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),we=cd.hasOwnProperty("HuePicker")&&"function"===typeof cd.HuePicker?cd.HuePicker:cd.HuePicker=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"onMouseDown",value:function(xa){this.sliderPosition=Dc.pt(0,xa.positionIn(this).y)}},{key:"onDrag",value:function(xa){this.sliderPosition=
Dc.pt(0,xa.positionIn(this).y)}},{key:"update",value:function(xa){this.hue=xa.hue;this.get("slider").center=this.sliderPosition}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new Dc.LinearGradient({stops:[{color:Dc.Color.rgb(255,0,0),offset:0},{color:Dc.Color.rgb(255,255,0),offset:.17},{color:Dc.Color.limeGreen,offset:.33},{color:Dc.Color.cyan,offset:.5},{color:Dc.Color.blue,offset:.66},{color:Dc.Color.magenta,
offset:.83},{color:Dc.Color.rgb(255,0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return Dc.pt(this.width/2,this.hue/360*this.height)},set:function(xa){this.hue=Math.max(0,Math.min(xa.y/this.height*360,359));Dc.signal(this,"hue",this.hue)}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:Dc.Color.black,
fill:Dc.Color.transparent,borderWidth:2}]}}}}}],cd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:10929,end:12576})})(Dc.Morph);(function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),we=cd.hasOwnProperty("ColorDetails")&&"function"===typeof cd.ColorDetails?
cd.ColorDetails:cd.ColorDetails=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"update",value:function(xa){xa=xa.color;var hb=$jscomp.makeIterator(xa.toTuple8Bit()),Xa=hb.next().value,qb=hb.next().value;hb=hb.next().value;var P=$jscomp.makeIterator(xa.toHSB()),qa=P.next().value,fb=P.next().value;P=P.next().value;var Lb=this.get("hashViewer");this.get("colorViewer").fill=xa;Lb.replace(Lb.documentRange,
xa.toHexString(),!1,!1);this.get("R").value="R "+Xa.toFixed(0)+"\n\nG "+qb.toFixed(0)+"\n\nB "+hb.toFixed(0)+"\n\nH "+qa.toFixed(0)+"\n\nS "+fb.toFixed(2)+"\n\nV "+P.toFixed(2)}},{key:"onHashViewerChanged",value:function(xa){xa=Dc.Color.rgbHex(xa);this.owner.owner.color=xa}},{key:"keyValue",value:function(xa){var hb=xa.name,Xa=xa.key,qb=xa.value,P=xa.update;xa=xa.editable;return new Dc.Morph({fill:Dc.Color.transparent,layout:new Dc.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",
styleClasses:[xa&&"large","key"],value:Xa},new Dc.ColorPropertyView({name:hb||Xa,readOnly:!xa,value:qb,update:P})]})}},{key:"hashViewer",value:function(){var xa=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});Dc.connect(xa.get("hashViewer"),"updateValue",this,"onHashViewerChanged");return xa}},{key:"rgbViewer",value:function(){var xa=$jscomp.makeIterator(this.color.toTuple8Bit()),hb=xa.next().value,Xa=xa.next().value;xa=xa.next().value;return new Dc.Morph({name:"rgbViewer",
fill:Dc.Color.transparent,submorphs:[this.keyValue({key:"R",value:hb.toFixed()}),this.keyValue({key:"G",value:Xa.toFixed()}),this.keyValue({key:"B",value:xa.toFixed()})]})}},{key:"hsbViewer",value:function(){var xa=$jscomp.makeIterator(this.color.toHSB()),hb=xa.next().value,Xa=xa.next().value;xa=xa.next().value;return new Dc.Morph({name:"hsbViewer",fill:Dc.Color.transparent,submorphs:[this.keyValue({key:"H",value:hb.toFixed()}),this.keyValue({key:"S",value:Xa.toFixed(2)}),this.keyValue({key:"V",value:xa.toFixed(2)})]})}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorDetails"}},{key:"properties",get:function(){return{color:{defaultValue:Dc.Color.blue},width:{defaultValue:80},fill:{defaultValue:Dc.Color.transparent},layout:{initialize:function(){this.layout=new Dc.VerticalLayout({spacing:9,layoutOrder:function(xa){return this.container.submorphs.indexOf(xa)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:Dc.pt(50,50),name:"colorViewer",fill:this.color},
this.hashViewer(),{type:"label",name:"R",autofit:!0,padding:Dc.rect(10,0,0,0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],cd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12578,end:15353})})(Dc.Morph);$c=Ba("a",function(re){var cd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),
we=cd.hasOwnProperty("ColorPicker")&&"function"===typeof cd.ColorPicker?cd.ColorPicker:cd.ColorPicker=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Na(we,re,[{key:"onKeyDown",value:function(xa){"Escape"==xa.key&&this.close()}},{key:"close",value:function(){Na._get(Object.getPrototypeOf(we.prototype),"close",this).call(this);Dc.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&
(this.get("header").fill=Dc.Color.transparent,this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),Dc.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var xa=this.colorDetails(),hb=this.fieldPicker(),Xa=this.huePicker(),qb=this.alphaSlider();xa=new Dc.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[hb,Xa,xa,qb]});Dc.connect(hb,
"brightness",this,"brightness");Dc.connect(hb,"saturation",this,"saturation");Dc.connect(Xa,"hue",this,"hue");return xa}},{key:"alphaSlider",value:function(){var xa,hb=Dc.morph({name:"alphaSlider",fill:Dc.Color.transparent,layout:new Dc.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:Dc.Rectangle.inset(3),value:"Alpha",fontColor:Dc.Color.gray,fontWeight:"bold"},xa=new Dc.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});Dc.connect(xa,"value",this,"alpha");return hb}},
{key:"fieldPicker",value:function(){return new Dc.FieldPicker({name:"field picker",saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new Dc.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new Dc.ColorDetails({name:"details",color:this.color})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:Dc.pt(400,320)},fill:{defaultValue:Dc.Color.black.withA(.7)},
isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},hasFixedPosition:{defaultValue:!0},color:{defaultValue:Dc.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return Dc.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function(xa){var hb=$jscomp.makeIterator(xa.toHSB()),Xa=hb.next().value,qb=hb.next().value;hb=hb.next().value;this.hue=Xa;this.saturation=qb;this.brightness=hb;this.alpha=xa.a}},alpha:{set:function(xa){this.setProperty("alpha",xa);
this.update()}},saturation:{},brightness:{set:function(xa){this.setProperty("brightness",xa);this.update()}},hue:{set:function(xa){this.setProperty("hue",xa);this.update()}},targetMorph:{initialize:function(){var xa=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=Dc.Color.gray;this.ui.header.fill=Dc.Color.transparent;this.whenRendered().then(function(){xa.fill=Dc.Color.black.withA(.7);xa.update()})}}}}}],cd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15362,end:19200})}(Dc.Window));Dc.ColorPicker=$c;Dc.ColorPicker=$c;Dc.ColorPicker=$c}}});
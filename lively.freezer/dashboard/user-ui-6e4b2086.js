System.register(["./__root_module__-cddb8267.js","kld-intersections"],function(Ea,Cb){var Kb,lc,$b,Qd,Zc,Rd,ad,Nc,nd,he,af,Af,rd,cc,Ic,Kd,Kc,Bd,be,yc,Cc,Pb,Dc,Xc,Cd,Od;return{setters:[function(Gb){Kb=Gb.$;lc=Gb.ax;$b=Gb.a6;Qd=Gb.a7;Zc=Gb.r;Rd=Gb.a3;ad=Gb.a1;Nc=Gb.C;nd=Gb.au;he=Gb.aj;af=Gb.av;Af=Gb.ab;rd=Gb.aa;cc=Gb.aC;Ic=Gb.as;Kd=Gb.ad;Kc=Gb.an;Bd=Gb.aS;be=Gb.aG;yc=Gb.g;Cc=Gb.bL;Pb=Gb.bM;Dc=Gb.ag;Xc=Gb.L;Cd=Gb.bN;Od=Gb.aw},function(){}],execute:function(){var Gb=window.gapi=window.gapi||{};Gb._bs=
(new Date).getTime();(function(){function Bc(ca){if(Error.captureStackTrace)Error.captureStackTrace(this,Bc);else{var qa=Error().stack;qa&&(this.stack=qa)}ca&&(this.message=String(ca))}var gb="function"==typeof Object.defineProperties?Object.defineProperty:function(ca,qa,db){if(ca==Array.prototype||ca==Object.prototype)return ca;ca[qa]=db.value;return ca},rb=function(ca){ca=["object"==typeof globalThis&&globalThis,ca,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&
global];for(var qa=0;qa<ca.length;++qa){var db=ca[qa];if(db&&db.Math==Math)return db}throw Error("Cannot find global object");}(this),Sa=function(ca,qa){if(qa)a:{var db=rb;ca=ca.split(".");for(var Bb=0;Bb<ca.length-1;Bb++){var hc=ca[Bb];if(!(hc in db))break a;db=db[hc]}ca=ca[ca.length-1];Bb=db[ca];qa=qa(Bb);qa!=Bb&&null!=qa&&gb(db,ca,{configurable:!0,writable:!0,value:qa})}},Ua=function(ca){var qa=0;return function(){return qa<ca.length?{done:!1,value:ca[qa++]}:{done:!0}}};Sa("Symbol",function(ca){if(ca)return ca;
var qa=function(hc,Oc){this.ba=hc;gb(this,"description",{configurable:!0,writable:!0,value:Oc})};qa.prototype.toString=function(){return this.ba};var db=0,Bb=function(hc){if(this instanceof Bb)throw new TypeError("Symbol is not a constructor");return new qa("jscomp_symbol_"+(hc||"")+"_"+db++,hc)};return Bb});Sa("Symbol.iterator",function(ca){if(ca)return ca;ca=Symbol("Symbol.iterator");for(var qa="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),
db=0;db<qa.length;db++){var Bb=rb[qa[db]];"function"===typeof Bb&&"function"!=typeof Bb.prototype[ca]&&gb(Bb.prototype,ca,{configurable:!0,writable:!0,value:function(){return cb(Ua(this))}})}return ca});var cb=function(ca){ca={next:ca};ca[Symbol.iterator]=function(){return this};return ca},ab=function(ca,qa){ca instanceof String&&(ca+="");var db=0,Bb=!1,hc={next:function(){if(!Bb&&db<ca.length){var Oc=db++;return{value:qa(Oc,ca[Oc]),done:!1}}Bb=!0;return{done:!0,value:void 0}}};hc[Symbol.iterator]=
function(){return hc};return hc};Sa("Array.prototype.keys",function(ca){return ca?ca:function(){return ab(this,function(qa){return qa})}});var qb=this||self,Zb=function(ca){var qa=typeof ca;return"object"!=qa?qa:ca?Array.isArray(ca)?"array":qa:"null"},kc=function(ca,qa,db){return ca.call.apply(ca.bind,arguments)},Rb=function(ca,qa,db){if(!ca)throw Error();if(2<arguments.length){var Bb=Array.prototype.slice.call(arguments,2);return function(){var hc=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(hc,
Bb);return ca.apply(qa,hc)}}return function(){return ca.apply(qa,arguments)}},ma=function(ca,qa,db){ma=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kc:Rb;return ma.apply(null,arguments)},Ia=function(ca,qa){function db(){}db.prototype=qa.prototype;ca.ma=qa.prototype;ca.prototype=new db;ca.prototype.constructor=ca;ca.A=function(Bb,hc,Oc){for(var Yd=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)Yd[Le-2]=arguments[Le];return qa.prototype[hc].apply(Bb,
Yd)}},W=function(ca){return ca},sa=function(ca){var qa=null,db=qb.trustedTypes;if(!db||!db.createPolicy)return qa;try{qa=db.createPolicy(ca,{createHTML:W,createScript:W,createScriptURL:W})}catch(Bb){qb.console&&qb.console.error(Bb.message)}return qa};Ia(Bc,Error);Bc.prototype.name="CustomError";var Za=function(ca,qa){ca=ca.split("%s");for(var db="",Bb=ca.length-1,hc=0;hc<Bb;hc++)db+=ca[hc]+(hc<qa.length?qa[hc]:"%s");Bc.call(this,db+ca[Bb])};Ia(Za,Bc);Za.prototype.name="AssertionError";var mb=function(ca,
qa,db,Bb){var hc="Assertion failed";if(db){hc+=": "+db;var Oc=Bb}else ca&&(hc+=": "+ca,Oc=qa);throw new Za(""+hc,Oc||[]);},rc=function(ca,qa,db){ca||mb("",null,qa,Array.prototype.slice.call(arguments,2));return ca},xd=function(ca,qa){throw new Za("Failure"+(ca?": "+ca:""),Array.prototype.slice.call(arguments,1));},sc=function(ca,qa,db){"string"!==typeof ca&&mb("Expected string but got %s: %s.",[Zb(ca),ca],qa,Array.prototype.slice.call(arguments,2))},Na=function(ca,qa){a:{try{var db=ca&&ca.ownerDocument,
Bb=db&&(db.defaultView||db.parentWindow);Bb=Bb||qb;if(Bb.Element&&Bb.Location){db=Bb;break a}}catch(Oc){}db=null}if(db&&"undefined"!=typeof db[qa]&&(!ca||!(ca instanceof db[qa])&&(ca instanceof db.Location||ca instanceof db.Element))){db=typeof ca;if("object"==db&&null!=ca||"function"==db)try{var hc=ca.constructor.displayName||ca.constructor.name||Object.prototype.toString.call(ca)}catch(Oc){hc="<object could not be stringified>"}else hc=void 0===ca?"undefined":null===ca?"null":typeof ca;xd("Argument is not a %s (or a non-Element, non-Location mock); got: %s",
qa,hc)}return ca},Xd,Gd=function(ca,qa){this.P=ca===jc&&qa||"";this.ca=Ib};Gd.prototype.J=!0;Gd.prototype.H=function(){return this.P};Gd.prototype.toString=function(){return"Const{"+this.P+"}"};var td=function(ca){if(ca instanceof Gd&&ca.constructor===Gd&&ca.ca===Ib)return ca.P;xd("expected object of type Const, got '"+ca+"'");return"type_error:Const"},Ib={},jc={},tb=function(ca,qa){this.N=qa===vb?ca:""};tb.prototype.J=!0;tb.prototype.H=function(){return this.N.toString()};tb.prototype.toString=function(){return"SafeUrl{"+
this.N+"}"};var Sc=function(ca){if(ca instanceof tb&&ca.constructor===tb)return ca.N;xd("expected object of type SafeUrl, got '"+ca+"' of type "+Zb(ca));return"type_error:SafeUrl"},vd=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,nb=function(ca){if(ca instanceof tb)return ca;ca="object"==typeof ca&&ca.J?ca.H():String(ca);rc(vd.test(ca),"%s does not match the safe URL pattern",ca)||(ca="about:invalid#zClosurez");return new tb(ca,vb)},vb={},yb=function(ca,qa,db){this.M=db===ae?ca:""};yb.prototype.J=
!0;yb.prototype.H=function(){return this.M.toString()};yb.prototype.toString=function(){return"SafeHtml{"+this.M+"}"};var yd=function(ca){if(ca instanceof yb&&ca.constructor===yb)return ca.M;xd("expected object of type SafeHtml, got '"+ca+"' of type "+Zb(ca));return"type_error:SafeHtml"},ae={},He=new yb(qb.trustedTypes&&qb.trustedTypes.emptyHTML||"",0,ae),Fc={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},oe=function(ca){var qa=!1,db;return function(){qa||(db=ca(),qa=!0);return db}}(function(){if("undefined"===
typeof document)return!1;var ca=document.createElement("div"),qa=document.createElement("div");qa.appendChild(document.createElement("div"));ca.appendChild(qa);if(!ca.firstChild)return!1;qa=ca.firstChild.firstChild;ca.innerHTML=yd(He);return!qa.parentElement}),ed=window,te=document,wa=ed.location,fb=function(){},Va=/\[native code\]/,ob=function(ca,qa,db){return ca[qa]=ca[qa]||db},P=function(ca){for(var qa=0;qa<this.length;qa++)if(this[qa]===ca)return qa;return-1},ua=function(ca){ca=ca.sort();for(var qa=
[],db=void 0,Bb=0;Bb<ca.length;Bb++){var hc=ca[Bb];hc!=db&&qa.push(hc);db=hc}return qa},bb=/&/g,Nb=/</g,ic=/>/g,fd=/"/g,Td=/'/g,qe=function(ca){return String(ca).replace(bb,"&amp;").replace(Nb,"&lt;").replace(ic,"&gt;").replace(fd,"&quot;").replace(Td,"&#39;")},$c=function(){var ca;if((ca=Object.create)&&Va.test(ca))ca=ca(null);else{ca={};for(var qa in ca)ca[qa]=void 0}return ca},Re=function(ca,qa){return Object.prototype.hasOwnProperty.call(ca,qa)},jf=function(ca){if(Va.test(Object.keys))return Object.keys(ca);
var qa=[],db;for(db in ca)Re(ca,db)&&qa.push(db);return qa},We=function(ca,qa){ca=ca||{};for(var db in ca)Re(ca,db)&&(qa[db]=ca[db])},Rf=function(ca){return function(){ed.setTimeout(ca,0)}},gg=function(ca,qa){if(!ca)throw Error(qa||"");},ac=ob(ed,"gapi",{}),Ng=function(ca,qa,db){var Bb=new RegExp("([#].*&|[#])"+qa+"=([^&#]*)","g");qa=new RegExp("([?#].*&|[?#])"+qa+"=([^&#]*)","g");if(ca=ca&&(Bb.exec(ca)||qa.exec(ca)))try{db=decodeURIComponent(ca[2])}catch(hc){}return db},qf=new RegExp(/^/.source+
/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),rg=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,Ve=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),Ha=/%([a-f]|[0-9a-fA-F][a-f])/g,Ta=/^(https?|ftp|file|chrome-extension):$/i,Db=function(ca){ca=String(ca);ca=ca.replace(rg,function(hc){try{return encodeURIComponent(hc)}catch(Oc){return encodeURIComponent(hc.replace(/^[^%]+$/g,
"\ufffd"))}}).replace(Ve,function(hc){return hc.replace(/%/g,"%25")}).replace(Ha,function(hc){return hc.toUpperCase()});ca=ca.match(qf)||[];var qa=$c(),db=function(hc){return hc.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},Bb=!!(ca[1]||"").match(Ta);qa.A=db((ca[1]||"")+(ca[2]||"")+(ca[3]||(ca[2]&&Bb?"/":"")));Bb=function(hc){return db(hc.replace(/\?/g,"%3F").replace(/#/g,"%23"))};qa.query=ca[5]?[Bb(ca[5])]:[];qa.g=ca[7]?
[Bb(ca[7])]:[];return qa},da=function(ca){return ca.A+(0<ca.query.length?"?"+ca.query.join("&"):"")+(0<ca.g.length?"#"+ca.g.join("&"):"")},Fa=function(ca,qa){var db=[];if(ca)for(var Bb in ca)if(Re(ca,Bb)&&null!=ca[Bb]){var hc=qa?qa(ca[Bb]):ca[Bb];db.push(encodeURIComponent(Bb)+"="+encodeURIComponent(hc))}return db},jb=function(ca,qa,db,Bb){ca=Db(ca);ca.query.push.apply(ca.query,Fa(qa,Bb));ca.g.push.apply(ca.g,Fa(db,Bb));return da(ca)},zb=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+
"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),zc=function(ca,qa){var db=Db(qa);qa=db.A;db.query.length&&(qa+="?"+db.query.join(""));db.g.length&&(qa+="#"+db.g.join(""));var Bb="";2E3<qa.length&&(Bb=qa,qa=qa.substr(0,2E3),qa=qa.replace(zb,""),Bb=Bb.substr(qa.length));var hc=ca.createElement("div");ca=ca.createElement("a");db=Db(qa);qa=db.A;db.query.length&&(qa+="?"+db.query.join(""));db.g.length&&(qa+="#"+db.g.join(""));qa=new tb(qa,vb);Na(ca,"HTMLAnchorElement");
qa=qa instanceof tb?qa:nb(qa);ca.href=Sc(qa);hc.appendChild(ca);qa=hc.innerHTML;db=new Gd(jc,"Assignment to self.");sc(td(db),"must provide justification");rc(!/^[\s\xa0]*$/.test(td(db)),"must provide non-empty justification");void 0===Xd&&(Xd=sa("gapi#html"));qa=(db=Xd)?db.createHTML(qa):qa;qa=new yb(qa,null,ae);if(hc.tagName&&Fc[hc.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+hc.tagName+".");if(oe())for(;hc.lastChild;)hc.removeChild(hc.lastChild);
hc.innerHTML=yd(qa);qa=String(hc.firstChild.href);hc.parentNode&&hc.parentNode.removeChild(hc);db=Db(qa+Bb);Bb=db.A;db.query.length&&(Bb+="?"+db.query.join(""));db.g.length&&(Bb+="#"+db.g.join(""));return Bb},wc=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,id=function(ca,qa,db,Bb){if(ed[db+"EventListener"])ed[db+"EventListener"](ca,qa,!1);else if(ed[Bb+"tachEvent"])ed[Bb+"tachEvent"]("on"+ca,qa)},qd=function(){var ca=te.readyState;return"complete"===ca||"interactive"===ca&&-1==navigator.userAgent.indexOf("MSIE")},
cd=function(ca){var qa=Ku;if(!qd())try{qa()}catch(db){}of(ca)},of=function(ca){if(qd())ca();else{var qa=!1,db=function(){if(!qa)return qa=!0,ca.apply(this,arguments)};ed.addEventListener?(ed.addEventListener("load",db,!1),ed.addEventListener("DOMContentLoaded",db,!1)):ed.attachEvent&&(ed.attachEvent("onreadystatechange",function(){qd()&&db.apply(this,arguments)}),ed.attachEvent("onload",db))}},mg=function(ca){for(;ca.firstChild;)ca.removeChild(ca.firstChild)},Yf={button:!0,div:!0,span:!0};var pf=
ob(ed,"___jsl",$c());ob(pf,"I",0);ob(pf,"hel",10);var wi=function(ca){return pf.dpo?pf.h:Ng(ca,"jsh",pf.h)},Rh=function(ca){var qa=ob(pf,"sws",[]);qa.push.apply(qa,ca)},Oj=function(ca){return ob(pf,"watt",$c())[ca]},ii=function(ca){var qa=ob(pf,"PQ",[]);pf.PQ=[];var db=qa.length;if(0===db)ca();else for(var Bb=0,hc=function(){++Bb===db&&ca()},Oc=0;Oc<db;Oc++)qa[Oc](hc)},bl=function(ca){return ob(ob(pf,"H",$c()),ca,$c())},wg=ob(pf,"perf",$c()),nk=ob(wg,"g",$c()),Ui=ob(wg,"i",$c());ob(wg,"r",[]);$c();
$c();var Bk=function(ca,qa,db){var Bb=wg.r;"function"===typeof Bb?Bb(ca,qa,db):Bb.push([ca,qa,db])},jk=function(ca,qa,db){nk[ca]=!qa&&nk[ca]||db||(new Date).getTime();Bk(ca)},$l=function(ca,qa,db){qa&&0<qa.length&&(qa=Hm(qa),db&&0<db.length&&(qa+="___"+Hm(db)),28<qa.length&&(qa=qa.substr(0,28)+(qa.length-28)),db=qa,qa=ob(Ui,"_p",$c()),ob(qa,db,$c())[ca]=(new Date).getTime(),Bk(ca,"_p",db))},Hm=function(ca){return ca.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},Im=$c(),al=[],
mk=function(ca){throw Error("Bad hint"+(ca?": "+ca:""));};al.push(["jsl",function(ca){for(var qa in ca)if(Re(ca,qa)){var db=ca[qa];"object"==typeof db?pf[qa]=ob(pf,qa,[]).concat(db):ob(pf,qa,db)}if(qa=ca.u)ca=ob(pf,"us",[]),ca.push(qa),(qa=/^https:(.*)$/.exec(qa))&&ca.push("http:"+qa[1])}]);var lk=/^(\/[a-zA-Z0-9_\-]+)+$/,Un=[/\/amp\//,/\/amp$/,/^\/amp$/],Hf=/^[a-zA-Z0-9\-_\.,!]+$/,to=/^gapi\.loaded_[0-9]+$/,Qb=/^[a-zA-Z0-9,._-]+$/,Tb=function(ca,qa,db,Bb){var hc=ca.split(";"),Oc=hc.shift(),Yd=Im[Oc],
Le=null;Yd?Le=Yd(hc,qa,db,Bb):mk("no hint processor for: "+Oc);Le||mk("failed to generate load url");qa=Le;db=qa.match(vr);(Bb=qa.match(nn))&&1===Bb.length&&kk.test(qa)&&db&&1===db.length||mk("failed sanity: "+ca);return Le},me=function(ca,qa,db,Bb){ca=ie(ca);to.test(db)||mk("invalid_callback");qa=jg(qa);Bb=Bb&&Bb.length?jg(Bb):null;var hc=function(Oc){return encodeURIComponent(Oc).replace(/%2C/g,",")};return[encodeURIComponent(ca.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",hc(ca.version),
"/m=",hc(qa),Bb?"/exm="+hc(Bb):"","/rt=j/sv=1/d=1/ed=1",ca.S?"/am="+hc(ca.S):"",ca.Z?"/rs="+hc(ca.Z):"",ca.aa?"/t="+hc(ca.aa):"","/cb=",hc(db)].join("")},ie=function(ca){"/"!==ca.charAt(0)&&mk("relative path");for(var qa=ca.substring(1).split("/"),db=[];qa.length;){ca=qa.shift();if(!ca.length||0==ca.indexOf("."))mk("empty/relative directory");else if(0<ca.indexOf("=")){qa.unshift(ca);break}db.push(ca)}ca={};for(var Bb=0,hc=qa.length;Bb<hc;++Bb){var Oc=qa[Bb].split("="),Yd=decodeURIComponent(Oc[0]),
Le=decodeURIComponent(Oc[1]);2==Oc.length&&Yd&&Le&&(ca[Yd]=ca[Yd]||Le)}qa="/"+db.join("/");lk.test(qa)||mk("invalid_prefix");db=0;for(Bb=Un.length;db<Bb;++db)Un[db].test(qa)&&mk("invalid_prefix");db=Mg(ca,"k",!0);Bb=Mg(ca,"am");hc=Mg(ca,"rs");ca=Mg(ca,"t");return{pathPrefix:qa,version:db,S:Bb,Z:hc,aa:ca}},jg=function(ca){for(var qa=[],db=0,Bb=ca.length;db<Bb;++db){var hc=ca[db].replace(/\./g,"_").replace(/-/g,"_");Qb.test(hc)&&qa.push(hc)}return qa.join(",")},Mg=function(ca,qa,db){ca=ca[qa];!ca&&
db&&mk("missing: "+qa);if(ca){if(Hf.test(ca))return ca;mk("invalid: "+qa)}return null},kk=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,nn=/\/cb=/g,vr=/\/\//g,wr=function(){var ca=wi(wa.href);if(!ca)throw Error("Bad hint");return ca};Im.m=function(ca,qa,db,Bb){(ca=ca[0])||mk("missing_hint");return"https://apis.google.com"+me(ca,qa,db,Bb)};var no=decodeURI("%73cript"),Tk=/^[-+_0-9\/A-Za-z]+={0,2}$/,po=function(ca,qa){for(var db=[],Bb=0;Bb<ca.length;++Bb){var hc=ca[Bb];
hc&&0>P.call(qa,hc)&&db.push(hc)}return db},Qn=function(){var ca=pf.nonce;return void 0!==ca?ca&&ca===String(ca)&&ca.match(Tk)?ca:pf.nonce=null:te.querySelector?(ca=te.querySelector("script[nonce]"))?(ca=ca.nonce||ca.getAttribute("nonce")||"",ca&&ca===String(ca)&&ca.match(Tk)?pf.nonce=ca:pf.nonce=null):null:null},qo=function(ca){if("loading"!=te.readyState)sq(ca);else{var qa=Qn(),db="";null!==qa&&(db=' nonce="'+qa+'"');ca="<"+no+' src="'+encodeURI(ca)+'"'+db+"></"+no+">";te.write(ll?ll.createHTML(ca):
ca)}},sq=function(ca){var qa=te.createElement(no);qa.setAttribute("src",ll?ll.createScriptURL(ca):ca);ca=Qn();null!==ca&&qa.setAttribute("nonce",ca);qa.async="true";(ca=te.getElementsByTagName(no)[0])?ca.parentNode.insertBefore(qa,ca):(te.head||te.body||te.documentElement).appendChild(qa)},Dp=function(ca,qa){var db=qa&&qa._c;if(db)for(var Bb=0;Bb<al.length;Bb++){var hc=al[Bb][0],Oc=al[Bb][1];Oc&&Re(db,hc)&&Oc(db[hc],ca,qa)}},Uo=function(ca,qa,db){km(function(){var Bb=qa===wi(wa.href)?ob(ac,"_",$c()):
$c();Bb=ob(bl(qa),"_",Bb);ca(Bb)},db)},ln=function(ca,qa){var db=qa||{};"function"==typeof qa&&(db={},db.callback=qa);Dp(ca,db);qa=ca?ca.split(":"):[];var Bb=db.h||wr(),hc=ob(pf,"ah",$c());if(hc["::"]&&qa.length){ca=[];for(var Oc=null;Oc=qa.shift();){var Yd=Oc.split(".");Yd=hc[Oc]||hc[Yd[1]&&"ns:"+Yd[0]||""]||Bb;var Le=ca.length&&ca[ca.length-1]||null,Ue=Le;Le&&Le.hint==Yd||(Ue={hint:Yd,V:[]},ca.push(Ue));Ue.V.push(Oc)}var Oe=ca.length;if(1<Oe){var Tf=db.callback;Tf&&(db.callback=function(){0==--Oe&&
Tf()})}for(;qa=ca.shift();)Rn(qa.V,db,qa.hint)}else Rn(qa||[],db,Bb)},Rn=function(ca,qa,db){ca=ua(ca)||[];var Bb=qa.callback,hc=qa.config,Oc=qa.timeout,Yd=qa.ontimeout,Le=qa.onerror,Ue=void 0;"function"==typeof Le&&(Ue=Le);var Oe=null,Tf=!1;if(Oc&&!Yd||!Oc&&Yd)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";Le=ob(bl(db),"r",[]).sort();var Vg=ob(bl(db),"L",[]).sort(),uh=[].concat(Le),Fh=function(Lp,Km){if(Tf)return 0;ed.clearTimeout(Oe);Vg.push.apply(Vg,Kk);var cp=
((ac||{}).config||{}).update;cp?cp(hc):hc&&ob(pf,"cu",[]).push(hc);if(Km){$l("me0",Lp,uh);try{Uo(Km,db,Ue)}finally{$l("me1",Lp,uh)}}return 1};0<Oc&&(Oe=ed.setTimeout(function(){Tf=!0;Yd()},Oc));var Kk=po(ca,Vg);if(Kk.length){Kk=po(ca,Le);var Cg=ob(pf,"CP",[]),yg=Cg.length;Cg[yg]=function(Lp){if(!Lp)return 0;$l("ml1",Kk,uh);var Km=function(Dl){Cg[yg]=null;Fh(Kk,Lp)&&ii(function(){Bb&&Bb();Dl()})},cp=function(){var Dl=Cg[yg+1];Dl&&Dl()};0<yg&&Cg[yg-1]?Cg[yg]=function(){Km(cp)}:Km(cp)};if(Kk.length){var zq=
"loaded_"+pf.I++;ac[zq]=function(Lp){Cg[yg](Lp);ac[zq]=null};ca=Tb(db,Kk,"gapi."+zq,Le);Le.push.apply(Le,Kk);$l("ml0",Kk,uh);qa.sync||ed.___gapisync?qo(ca):sq(ca)}else Cg[yg](fb)}else Fh(Kk)&&Bb&&Bb()},ll=sa("gapi#gapi"),km=function(ca,qa){if(pf.hee&&0<pf.hel)try{return ca()}catch(db){qa&&qa(db),pf.hel--,ln("debug_error",function(){try{window.___jsl.hefn(db)}catch(Bb){throw db;}})}else try{return ca()}catch(db){throw qa&&qa(db),db;}};ac.load=function(ca,qa){return km(function(){return ln(ca,qa)})};
var Jm=function(ca){var qa=window.___jsl=window.___jsl||{};qa[ca]=qa[ca]||[];return qa[ca]},ml=function(ca){var qa=window.___jsl=window.___jsl||{};qa.cfg=!ca&&qa.cfg||{};return qa.cfg},am=function(ca){return"object"===typeof ca&&/\[native code\]/.test(ca.push)},Sn=function(ca,qa,db){if(qa&&"object"===typeof qa)for(var Bb in qa)!Object.prototype.hasOwnProperty.call(qa,Bb)||db&&"___goc"===Bb&&"undefined"===typeof qa[Bb]||(ca[Bb]&&qa[Bb]&&"object"===typeof ca[Bb]&&"object"===typeof qa[Bb]&&!am(ca[Bb])&&
!am(qa[Bb])?Sn(ca[Bb],qa[Bb]):qa[Bb]&&"object"===typeof qa[Bb]?(ca[Bb]=am(qa[Bb])?[]:{},Sn(ca[Bb],qa[Bb])):ca[Bb]=qa[Bb])},Wo=function(ca){if(ca&&!/^\s+$/.test(ca)){for(;0==ca.charCodeAt(ca.length-1);)ca=ca.substring(0,ca.length-1);try{var qa=window.JSON.parse(ca)}catch(db){}if("object"===typeof qa)return qa;try{qa=(new Function("return ("+ca+"\n)"))()}catch(db){}if("object"===typeof qa)return qa;try{qa=(new Function("return ({"+ca+"\n})"))()}catch(db){}return"object"===typeof qa?qa:{}}},lm=function(ca,
qa){var db={___goc:void 0};ca.length&&ca[ca.length-1]&&Object.hasOwnProperty.call(ca[ca.length-1],"___goc")&&"undefined"===typeof ca[ca.length-1].___goc&&(db=ca.pop());Sn(db,qa);ca.push(db)},mm=function(ca){ml(!0);var qa=window.___gcfg,db=Jm("cu"),Bb=window.___gu;qa&&qa!==Bb&&(lm(db,qa),window.___gu=qa);qa=Jm("cu");var hc=document.scripts||document.getElementsByTagName("script")||[];Bb=[];var Oc=[];Oc.push.apply(Oc,Jm("us"));for(var Yd=0;Yd<hc.length;++Yd)for(var Le=hc[Yd],Ue=0;Ue<Oc.length;++Ue)Le.src&&
0==Le.src.indexOf(Oc[Ue])&&Bb.push(Le);0==Bb.length&&0<hc.length&&hc[hc.length-1].src&&Bb.push(hc[hc.length-1]);for(hc=0;hc<Bb.length;++hc)Bb[hc].getAttribute("gapi_processed")||(Bb[hc].setAttribute("gapi_processed",!0),(Oc=Bb[hc])?(Yd=Oc.nodeType,Oc=3==Yd||4==Yd?Oc.nodeValue:Oc.textContent||Oc.innerText||Oc.innerHTML||""):Oc=void 0,(Oc=Wo(Oc))&&qa.push(Oc));ca&&lm(db,ca);Bb=Jm("cd");ca=0;for(qa=Bb.length;ca<qa;++ca)Sn(ml(),Bb[ca],!0);Bb=Jm("ci");ca=0;for(qa=Bb.length;ca<qa;++ca)Sn(ml(),Bb[ca],!0);
ca=0;for(qa=db.length;ca<qa;++ca)Sn(ml(),db[ca],!0)},hi=function(ca){var qa=ml();if(!ca)return qa;ca=ca.split("/");for(var db=0,Bb=ca.length;qa&&"object"===typeof qa&&db<Bb;++db)qa=qa[ca[db]];return db===ca.length&&void 0!==qa?qa:void 0},Cl=function(ca,qa){var db;if("string"===typeof ca){var Bb=db={};ca=ca.split("/");for(var hc=0,Oc=ca.length;hc<Oc-1;++hc)Bb=Bb[ca[hc]]={};Bb[ca[hc]]=qa}else db=ca;mm(db)},Hj=function(){var ca=window.__GOOGLEAPIS;ca&&(ca.googleapis&&!ca["googleapis.config"]&&(ca["googleapis.config"]=
ca.googleapis),ob(pf,"ci",[]).push(ca),window.__GOOGLEAPIS=void 0)},mn={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},uo=!1,Zo=$c(),Ep=function(){if(!uo){for(var ca=document.getElementsByTagName("meta"),qa=0;qa<ca.length;++qa){var db=ca[qa].name.toLowerCase();if(0==db.lastIndexOf("google-signin-",0)){db=db.substring(14);var Bb=ca[qa].content;mn[db]&&Bb&&(Zo[db]=Bb)}}if(window.self!==window.top){ca=document.location.toString();for(var hc in mn)0<
mn[hc]&&(qa=Ng(ca,hc,""))&&(Zo[hc]=qa)}uo=!0}hc=$c();We(Zo,hc);return hc},xr=function(ca){return!!(ca.clientid&&ca.scope&&ca.callback)},Tn=window.console,Xo=function(){return!!pf.oa},Yo=function(){},nm=ob(pf,"rw",$c()),xu=function(ca){for(var qa in nm)ca(nm[qa])},tq=function(ca,qa){(ca=nm[ca])&&ca.state<qa&&(ca.state=qa)},Fp=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,$o=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,so=function(ca){var qa=
hi("googleapis.config/sessionIndex");"string"===typeof qa&&254<qa.length&&(qa=null);null==qa&&(qa=window.__X_GOOG_AUTHUSER);"string"===typeof qa&&254<qa.length&&(qa=null);if(null==qa){var db=window.google;db&&(qa=db.authuser)}"string"===typeof qa&&254<qa.length&&(qa=null);null==qa&&(ca=ca||window.location.href,qa=Ng(ca,"authuser")||null,null==qa&&(qa=(qa=ca.match(Fp))?qa[1]:null));if(null==qa)return null;qa=String(qa);254<qa.length&&(qa=null);return qa},oo=function(ca){var qa=hi("googleapis.config/sessionDelegate");
"string"===typeof qa&&21<qa.length&&(qa=null);null==qa&&(qa=(ca=(ca||window.location.href).match($o))?ca[1]:null);if(null==qa)return null;qa=String(qa);21<qa.length&&(qa=null);return qa},bm,on,om=void 0,Jg=function(ca){try{return qb.JSON.parse.call(qb.JSON,ca)}catch(qa){return!1}},xa=function(ca){return Object.prototype.toString.call(ca)},Ga=xa(0),pb=xa(new Date(0)),Wa=xa(!0),gc=xa(""),bc=xa({}),tc=xa([]),xc=function(ca,qa){if(qa)for(var db=0,Bb=qa.length;db<Bb;++db)if(ca===qa[db])throw new TypeError("Converting circular structure to JSON");
Bb=typeof ca;if("undefined"!==Bb){db=Array.prototype.slice.call(qa||[],0);db[db.length]=ca;qa=[];var hc=xa(ca);if(null!=ca&&"function"===typeof ca.toJSON&&(Object.prototype.hasOwnProperty.call(ca,"toJSON")||(hc!==tc||ca.constructor!==Array&&ca.constructor!==Object)&&(hc!==bc||ca.constructor!==Array&&ca.constructor!==Object)&&hc!==gc&&hc!==Ga&&hc!==Wa&&hc!==pb))return xc(ca.toJSON.call(ca),db);if(null==ca)qa[qa.length]="null";else if(hc===Ga)ca=Number(ca),isNaN(ca)||isNaN(ca-ca)?ca="null":-0===ca&&
0>1/ca&&(ca="-0"),qa[qa.length]=String(ca);else if(hc===Wa)qa[qa.length]=String(!!Number(ca));else{if(hc===pb)return xc(ca.toISOString.call(ca),db);if(hc===tc&&xa(ca.length)===Ga){qa[qa.length]="[";var Oc=0;for(Bb=Number(ca.length)>>0;Oc<Bb;++Oc)Oc&&(qa[qa.length]=","),qa[qa.length]=xc(ca[Oc],db)||"null";qa[qa.length]="]"}else if(hc==gc&&xa(ca.length)===Ga){qa[qa.length]='"';Oc=0;for(db=Number(ca.length)>>0;Oc<db;++Oc)Bb=String.prototype.charAt.call(ca,Oc),hc=String.prototype.charCodeAt.call(ca,Oc),
qa[qa.length]="\b"===Bb?"\\b":"\f"===Bb?"\\f":"\n"===Bb?"\\n":"\r"===Bb?"\\r":"\t"===Bb?"\\t":"\\"===Bb||'"'===Bb?"\\"+Bb:31>=hc?"\\u"+(hc+65536).toString(16).substr(1):32<=hc&&65535>=hc?Bb:"\ufffd";qa[qa.length]='"'}else if("object"===Bb){qa[qa.length]="{";Bb=0;for(Oc in ca)Object.prototype.hasOwnProperty.call(ca,Oc)&&(hc=xc(ca[Oc],db),void 0!==hc&&(Bb++&&(qa[qa.length]=","),qa[qa.length]=xc(Oc),qa[qa.length]=":",qa[qa.length]=hc));qa[qa.length]="}"}else return}return qa.join("")}},Dd=/[\0-\x07\x0b\x0e-\x1f]/,
Lf=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,Pf=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,zh=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,vg=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,Zh=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,Ck=/[ \t\n\r]+/g,kl=/[^"]:/,Vo=/""/g,ro=/true|false|null/g,mw=/00/,uq=/[\{]([^0\}]|0[^:])/,yu=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,Gp=/[^\[,:][\[\{]/,nw=/^(\{|\}|\[|\]|,|:|0)+/,ow=/\u2028/g,
Vx=/\u2029/g,Wx=function(ca){ca=String(ca);if(Dd.test(ca)||Lf.test(ca)||Pf.test(ca)||zh.test(ca))return!1;var qa=ca.replace(vg,'""');qa=qa.replace(Zh,"0");qa=qa.replace(Ck,"");if(kl.test(qa))return!1;qa=qa.replace(Vo,"0");qa=qa.replace(ro,"0");if(mw.test(qa)||uq.test(qa)||yu.test(qa)||Gp.test(qa)||!qa||qa.replace(nw,""))return!1;ca=ca.replace(ow,"\\u2028").replace(Vx,"\\u2029");qa=void 0;try{qa=om?[Jg(ca)]:eval("(function (var_args) {\n  return Array.prototype.slice.call(arguments, 0);\n})(\n"+ca+
"\n)")}catch(db){return!1}return qa&&1===qa.length?qa[0]:!1},pw=function(){var ca=((qb.document||{}).scripts||[]).length;if((void 0===bm||void 0===om||on!==ca)&&-1!==on){bm=om=!1;on=-1;try{try{om=!!qb.JSON&&'{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'===qb.JSON.stringify.call(qb.JSON,{a:[3,!0,new Date(0)],c:function(){}})&&!0===Jg("true")&&3===Jg('[{"a":3}]')[0].a}catch(qa){}bm=om&&!Jg("[00]")&&!Jg('"\u0007"')&&!Jg('"\\0"')&&!Jg('"\\v"')}finally{on=ca}}},qw=function(ca){if(-1===on)return!1;pw();return(bm?
Jg:Wx)(ca)},rw=function(ca){if(-1!==on)return pw(),om?qb.JSON.stringify.call(qb.JSON,ca):xc(ca)},sw=!Date.prototype.toISOString||"function"!==typeof Date.prototype.toISOString||"1970-01-01T00:00:00.000Z"!==(new Date(0)).toISOString(),tw=function(){var ca=Date.prototype.getUTCFullYear.call(this);return[0>ca?"-"+String(1E6-ca).substr(1):9999>=ca?String(1E4+ca).substr(1):"+"+String(1E6+ca).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),
"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1E3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=sw?tw:Date.prototype.toISOString;var vq=function(){this.j=64;this.b=[];this.G=[];this.da=[];this.C=[];this.C[0]=128;for(var ca=1;ca<this.j;++ca)this.C[ca]=0;this.D=this.o=0;this.reset()};Ia(vq,
function(){this.j=-1});vq.prototype.reset=function(){this.b[0]=1732584193;this.b[1]=4023233417;this.b[2]=2562383102;this.b[3]=271733878;this.b[4]=3285377520;this.D=this.o=0};var yr=function(ca,qa,db){db||(db=0);var Bb=ca.da;if("string"===typeof qa)for(var hc=0;16>hc;hc++)Bb[hc]=qa.charCodeAt(db)<<24|qa.charCodeAt(db+1)<<16|qa.charCodeAt(db+2)<<8|qa.charCodeAt(db+3),db+=4;else for(hc=0;16>hc;hc++)Bb[hc]=qa[db]<<24|qa[db+1]<<16|qa[db+2]<<8|qa[db+3],db+=4;for(hc=16;80>hc;hc++){var Oc=Bb[hc-3]^Bb[hc-
8]^Bb[hc-14]^Bb[hc-16];Bb[hc]=(Oc<<1|Oc>>>31)&4294967295}qa=ca.b[0];db=ca.b[1];var Yd=ca.b[2],Le=ca.b[3],Ue=ca.b[4];for(hc=0;80>hc;hc++){if(40>hc)if(20>hc){Oc=Le^db&(Yd^Le);var Oe=1518500249}else Oc=db^Yd^Le,Oe=1859775393;else 60>hc?(Oc=db&Yd|Le&(db|Yd),Oe=2400959708):(Oc=db^Yd^Le,Oe=3395469782);Oc=(qa<<5|qa>>>27)+Oc+Ue+Oe+Bb[hc]&4294967295;Ue=Le;Le=Yd;Yd=(db<<30|db>>>2)&4294967295;db=qa;qa=Oc}ca.b[0]=ca.b[0]+qa&4294967295;ca.b[1]=ca.b[1]+db&4294967295;ca.b[2]=ca.b[2]+Yd&4294967295;ca.b[3]=ca.b[3]+
Le&4294967295;ca.b[4]=ca.b[4]+Ue&4294967295};vq.prototype.update=function(ca,qa){if(null!=ca){void 0===qa&&(qa=ca.length);for(var db=qa-this.j,Bb=0,hc=this.G,Oc=this.o;Bb<qa;){if(0==Oc)for(;Bb<=db;)yr(this,ca,Bb),Bb+=this.j;if("string"===typeof ca)for(;Bb<qa;){if(hc[Oc]=ca.charCodeAt(Bb),++Oc,++Bb,Oc==this.j){yr(this,hc);Oc=0;break}}else for(;Bb<qa;)if(hc[Oc]=ca[Bb],++Oc,++Bb,Oc==this.j){yr(this,hc);Oc=0;break}}this.o=Oc;this.D+=qa}};vq.prototype.digest=function(){var ca=[],qa=8*this.D;56>this.o?
this.update(this.C,56-this.o):this.update(this.C,this.j-(this.o-56));for(var db=this.j-1;56<=db;db--)this.G[db]=qa&255,qa/=256;yr(this,this.G);for(db=qa=0;5>db;db++)for(var Bb=24;0<=Bb;Bb-=8)ca[qa]=this.b[db]>>Bb&255,++qa;return ca};var zr=function(){this.O=new vq};zr.prototype.reset=function(){this.O.reset()};var Ps=ed.crypto,zu=!1,Ar=0,Br=0,Kl=1,Qs=0,Hp="",Au=function(ca){ca=ca||ed.event;var qa=ca.screenX+ca.clientX<<16;qa+=ca.screenY+ca.clientY;qa*=(new Date).getTime()%1E6;Kl=Kl*qa%Qs;0<Ar&&++Br==
Ar&&id("mousemove",Au,"remove","de")},uw=function(ca){var qa=new zr;ca=unescape(encodeURIComponent(ca));for(var db=[],Bb=0,hc=ca.length;Bb<hc;++Bb)db.push(ca.charCodeAt(Bb));qa.O.update(db);qa=qa.O.digest();ca="";for(db=0;db<qa.length;db++)ca+="0123456789ABCDEF".charAt(Math.floor(qa[db]/16))+"0123456789ABCDEF".charAt(qa[db]%16);return ca};(zu=!!Ps&&"function"==typeof Ps.getRandomValues)||(Qs=1E6*(screen.width*screen.width+screen.height),Hp=uw(te.cookie+"|"+te.location+"|"+(new Date).getTime()+"|"+
Math.random()),Ar=hi("random/maxObserveMousemove")||0,0!=Ar&&id("mousemove",Au,"add","at"));var Xx=function(){var ca=Kl;ca+=parseInt(Hp.substr(0,20),16);Hp=uw(Hp);return ca/(Qs+Math.pow(16,20))},Yx=function(){var ca=new ed.Uint32Array(1);Ps.getRandomValues(ca);return Number("0."+ca[0])},Cr=function(){var ca=pf.onl;if(!ca){ca=$c();pf.onl=ca;var qa=$c();ca.e=function(db){var Bb=qa[db];Bb&&(delete qa[db],Bb())};ca.a=function(db,Bb){qa[db]=Bb};ca.r=function(db){delete qa[db]}}return ca},Bu=function(ca,
qa){qa=qa.onload;return"function"===typeof qa?(Cr().a(ca,qa),qa):null},Cu=function(ca){gg(/^\w+$/.test(ca),"Unsupported id - "+ca);Cr();return'onload="window.___jsl.onl.e(&#34;'+ca+'&#34;)"'},Zx=function(ca){Cr().r(ca)},$x={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},ay={allowtransparency:!0,onload:!0},vw=0,ww=function(ca){gg(!ca||wc.test(ca),"Illegal url for new iframe - "+ca)},Du=function(ca,qa,
db,Bb,hc){ww(db.src);var Oc,Yd=Bu(Bb,db),Le=Yd?Cu(Bb):"";try{document.all&&(Oc=ca.createElement('<iframe frameborder="'+qe(String(db.frameborder))+'" scrolling="'+qe(String(db.scrolling))+'" '+Le+' name="'+qe(String(db.name))+'"/>'))}catch(Oe){}finally{Oc||(Oc=ca.createElement("iframe"),Yd&&(Oc.onload=function(){Oc.onload=null;Yd.call(this)},Zx(Bb)))}Oc.setAttribute("ng-non-bindable","");for(var Ue in db)ca=db[Ue],"style"===Ue&&"object"===typeof ca?We(ca,Oc.style):ay[Ue]||Oc.setAttribute(Ue,String(ca));
(Ue=hc&&hc.beforeNode||null)||hc&&hc.dontclear||mg(qa);qa.insertBefore(Oc,Ue);Oc=Ue?Ue.previousSibling:qa.lastChild;db.allowtransparency&&(Oc.allowTransparency=!0);return Oc},xw=/^:[\w]+$/,Eu=/:([a-zA-Z_]+):/g,Dr=function(){var ca=so()||"0",qa=oo(),db=so(void 0)||ca,Bb=oo(void 0),hc="";db&&(hc+="u/"+encodeURIComponent(String(db))+"/");Bb&&(hc+="b/"+encodeURIComponent(String(Bb))+"/");db=hc||null;(hc=(Bb=!1===hi("isLoggedIn"))?"_/im/":"")&&(db="");var Oc=hi("iframes/:socialhost:"),Yd=hi("iframes/:im_socialhost:");
return{socialhost:Oc,ctx_socialhost:Bb?Yd:Oc,session_index:ca,session_delegate:qa,session_prefix:db,im_prefix:hc}},vo=function(ca,qa){return Dr()[qa]||""},Ip=function(ca){return function(qa,db){return ca?Dr()[db]||ca[db]||"":Dr()[db]||""}},cm=function(ca){var qa;ca.match(/^https?%3A/i)&&(qa=decodeURIComponent(ca));return zc(document,qa?qa:ca)},$h=function(ca){ca=ca||"canonical";for(var qa=document.getElementsByTagName("link"),db=0,Bb=qa.length;db<Bb;db++){var hc=qa[db],Oc=hc.getAttribute("rel");if(Oc&&
Oc.toLowerCase()==ca&&(hc=hc.getAttribute("href"))&&(hc=cm(hc))&&null!=hc.match(/^https?:\/\/[\w\-_\.]+/i))return hc}return window.location.href},ap={se:"0"},Jp={post:!0},Fu={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},by="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Er=ob(pf,"WI",$c()),Gu=function(ca,qa,db){var Bb,hc={},Oc=Bb=ca;"plus"==ca&&qa.action&&(Bb=ca+"_"+qa.action,Oc=ca+"/"+qa.action);(Bb=hi("iframes/"+Bb+
"/url"))||(Bb=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+Oc+"?usegapi=1");for(var Yd in ap)hc[Yd]=Yd+"/"+(qa[Yd]||ap[Yd])+"/";hc=zc(te,Bb.replace(Eu,Ip(hc)));Yd="iframes/"+ca+"/params/";Oc={};We(qa,Oc);(Bb=hi("lang")||hi("gwidget/lang"))&&(Oc.hl=Bb);Jp[ca]||(Oc.origin=window.location.origin||window.location.protocol+"//"+window.location.host);Oc.exp=hi(Yd+"exp");if(Yd=hi(Yd+"location"))for(Bb=0;Bb<Yd.length;Bb++){var Le=Yd[Bb];Oc[Le]=ed.location[Le]}switch(ca){case "plus":case "follow":Yd=
Oc.href;Bb=qa.action?void 0:"publisher";Yd=(Yd="string"==typeof Yd?Yd:void 0)?cm(Yd):$h(Bb);Oc.url=Yd;delete Oc.href;break;case "plusone":Yd=(Yd=qa.href)?cm(Yd):$h();Oc.url=Yd;Yd=qa.db;Bb=hi();null==Yd&&Bb&&(Yd=Bb.db,null==Yd&&(Yd=Bb.gwidget&&Bb.gwidget.db));Oc.db=Yd||void 0;Yd=qa.ecp;Bb=hi();null==Yd&&Bb&&(Yd=Bb.ecp,null==Yd&&(Yd=Bb.gwidget&&Bb.gwidget.ecp));Oc.ecp=Yd||void 0;delete Oc.href;break;case "signin":Oc.url=$h()}pf.ILI&&(Oc.iloader="1");delete Oc["data-onload"];delete Oc.rd;for(var Ue in ap)Oc[Ue]&&
delete Oc[Ue];Oc.gsrc=hi("iframes/:source:");Ue=hi("inline/css");"undefined"!==typeof Ue&&0<db&&Ue>=db&&(Oc.ic="1");Ue=/^#|^fr-/;db={};for(var Oe in Oc)Re(Oc,Oe)&&Ue.test(Oe)&&(db[Oe.replace(Ue,"")]=Oc[Oe],delete Oc[Oe]);Oe="q"==hi("iframes/"+ca+"/params/si")?Oc:db;Ue=Ep();for(var Tf in Ue)!Re(Ue,Tf)||Re(Oc,Tf)||Re(db,Tf)||(Oe[Tf]=Ue[Tf]);Tf=[].concat(by);(Oe=hi("iframes/"+ca+"/methods"))&&"object"===typeof Oe&&Va.test(Oe.push)&&(Tf=Tf.concat(Oe));for(var Vg in qa)Re(qa,Vg)&&/^on/.test(Vg)&&("plus"!=
ca||"onconnect"!=Vg)&&(Tf.push(Vg),delete Oc[Vg]);delete Oc.callback;db._methods=Tf.join(",");return jb(hc,Oc,db)},Rs=["style","data-gapiscan"],Fr=function(ca){for(var qa=$c(),db=0!=ca.nodeName.toLowerCase().indexOf("g:"),Bb=0,hc=ca.attributes.length;Bb<hc;Bb++){var Oc=ca.attributes[Bb],Yd=Oc.name,Le=Oc.value;0<=P.call(Rs,Yd)||db&&0!=Yd.indexOf("data-")||"null"===Le||"specified"in Oc&&!Oc.specified||(db&&(Yd=Yd.substr(5)),qa[Yd.toLowerCase()]=Le)}ca=ca.style;(db=Hu(ca&&ca.height))&&(qa.height=String(db));
(ca=Hu(ca&&ca.width))&&(qa.width=String(ca));return qa},Hu=function(ca){var qa=void 0;"number"===typeof ca?qa=ca:"string"===typeof ca&&(qa=parseInt(ca,10));return qa},yw=function(){var ca=pf.drw;xu(function(qa){if(ca!==qa.id&&4!=qa.state&&"share"!=qa.type){var db=qa.id,Bb=qa.type,hc=qa.url;qa=qa.userParams;var Oc=te.getElementById(db);if(Oc){var Yd=Gu(Bb,qa,0);Yd?(Oc=Oc.parentNode,hc.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==Yd.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(qa.dontclear=!0,qa.rd=
!0,qa.ri=!0,qa.type=Bb,ai(Oc,qa),(Bb=nm[Oc.lastChild.id])&&(Bb.oid=db),tq(db,4))):delete nm[db]}else delete nm[db]}})},cy=/(?:^|\s)g-((\S)*)(?:$|\s)/,Ss={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};var Gr=ob(pf,"SW",$c());var Hr=ob(pf,"SA",$c());var wq=ob(pf,"SM",$c());var Bg=ob(pf,"FW",[]);var Iu=null;var Ir=function(ca,qa){Jr(void 0,!1,ca,qa)},Jr=function(ca,qa,db,Bb){jk("ps0",!0);db=("string"===typeof db?document.getElementById(db):db)||te;var hc=te.documentMode;if(db.querySelectorAll&&
(!hc||8<hc)){hc=Bb?[Bb]:jf(Gr).concat(jf(Hr)).concat(jf(wq));for(var Oc=[],Yd=0;Yd<hc.length;Yd++){var Le=hc[Yd];Oc.push(".g-"+Le,"g\\:"+Le)}hc=db.querySelectorAll(Oc.join(","))}else hc=db.getElementsByTagName("*");db=$c();for(Oc=0;Oc<hc.length;Oc++){var Ue=Yd=hc[Oc];Le=Bb;var Oe=Ue.nodeName.toLowerCase(),Tf=void 0;if(Ue.getAttribute("data-gapiscan"))Le=null;else{var Vg=Oe.indexOf("g:");0==Vg?Tf=Oe.substr(2):(Vg=(Vg=String(Ue.className||Ue.getAttribute("class")))&&cy.exec(Vg))&&(Tf=Vg[1]);Le=!Tf||
!(Gr[Tf]||Hr[Tf]||wq[Tf])||Le&&Tf!==Le?null:Tf}Le&&(Ss[Le]||0==Yd.nodeName.toLowerCase().indexOf("g:")||0!=jf(Fr(Yd)).length)&&(Yd.setAttribute("data-gapiscan",!0),ob(db,Le,[]).push(Yd))}if(qa)for(var uh in db)for(qa=db[uh],Bb=0;Bb<qa.length;Bb++)qa[Bb].setAttribute("data-onload",!0);for(var Fh in db)Bg.push(Fh);jk("ps1",!0);if((uh=Bg.join(":"))||ca)try{ac.load(uh,ca)}catch(Cg){Tn&&Tn.log&&Tn.log(Cg);return}if(xA(Iu||{}))for(var Kk in db){ca=db[Kk];Fh=0;for(qa=ca.length;Fh<qa;Fh++)ca[Fh].removeAttribute("data-gapiscan");
bp(Kk)}else{Bb=[];for(Kk in db)for(ca=db[Kk],Fh=0,qa=ca.length;Fh<qa;Fh++)hc=ca[Fh],xq(Kk,hc,Fr(hc),Bb,qa);Ts(uh,Bb)}},Ju=function(ca){var qa=ob(ac,ca,{});qa.go||(qa.go=function(db){return Ir(db,ca)},qa.render=function(db,Bb){Bb=Bb||{};Bb.type=ca;return ai(db,Bb)})},zw=function(ca){Gr[ca]=!0},Aw=function(ca){Hr[ca]=!0},Bw=function(ca){wq[ca]=!0},bp=function(ca,qa){var db=Oj(ca);qa&&db?(db(qa),(db=qa.iframeNode)&&db.setAttribute("data-gapiattached",!0)):ac.load(ca,function(){var Bb=Oj(ca),hc=qa&&qa.iframeNode,
Oc=qa&&qa.userParams;hc&&Bb?(Bb(qa),hc.setAttribute("data-gapiattached",!0)):(Bb=ac[ca].go,"signin2"==ca?Bb(hc,Oc):Bb(hc&&hc.parentNode,Oc))})},xA=function(){return!1},Ts=function(){},xq=function(ca,qa,db,Bb,hc,Oc,Yd){switch(Cw(qa,ca,Oc)){case 0:ca=wq[ca]?ca+"_annotation":ca;Bb={};Bb.iframeNode=qa;Bb.userParams=db;bp(ca,Bb);break;case 1:if(qa.parentNode){for(var Le in db){if(Oc=Re(db,Le))Oc=db[Le],Oc=!!Oc&&"object"===typeof Oc&&(!Oc.toString||Oc.toString===Object.prototype.toString||Oc.toString===
Array.prototype.toString);if(Oc)try{db[Le]=rw(db[Le])}catch(Kk){delete db[Le]}}Oc=!0;db.dontclear&&(Oc=!1);delete db.dontclear;Yo();Le=Gu(ca,db,hc);hc=Yd||{};hc.allowPost=1;hc.attributes=Fu;hc.dontclear=!Oc;Yd={};Yd.userParams=db;Yd.url=Le;Yd.type=ca;if(db.rd)var Ue=qa;else Ue=document.createElement("div"),qa.setAttribute("data-gapistub",!0),Ue.style.cssText="position:absolute;width:450px;left:-10000px;",qa.parentNode.insertBefore(Ue,qa);Yd.siteElement=Ue;Ue.id||(qa=Ue,ob(Er,ca,0),Oc="___"+ca+"_"+
Er[ca]++,qa.id=Oc);qa=$c();qa[">type"]=ca;We(db,qa);Oc=Le;db=Ue;Le=hc||{};qa=Le.attributes||{};gg(!(Le.allowPost||Le.forcePost)||!qa.onload,"onload is not supported by post iframe (allowPost or forcePost)");hc=qa=Oc;xw.test(qa)&&(hc=hi("iframes/"+hc.substring(1)+"/url"),gg(!!hc,"Unknown iframe url config for - "+qa));Oc=zc(te,hc.replace(Eu,vo));qa=db.ownerDocument||te;Ue=0;do hc=Le.id||["I",vw++,"_",(new Date).getTime()].join("");while(qa.getElementById(hc)&&5>++Ue);gg(5>Ue,"Error creating iframe id");
Ue={};var Oe={};qa.documentMode&&9>qa.documentMode&&(Ue.hostiemode=qa.documentMode);We(Le.queryParams||{},Ue);We(Le.fragmentParams||{},Oe);var Tf=Le.pfname,Vg=$c();hi("iframes/dropLegacyIdParam")||(Vg.id=hc);Vg._gfid=hc;Vg.parent=qa.location.protocol+"//"+qa.location.host;var uh=Ng(qa.location.href,"parent");Tf=Tf||"";!Tf&&uh&&(uh=Ng(qa.location.href,"_gfid","")||Ng(qa.location.href,"id",""),Tf=Ng(qa.location.href,"pfname",""),Tf=uh?Tf+"/"+uh:"");Tf||(uh=qw(Ng(qa.location.href,"jcp","")))&&"object"==
typeof uh&&(Tf=(Tf=uh.id)?uh.pfname+"/"+Tf:"");Vg.pfname=Tf;Le.connectWithJsonParam&&(uh={},uh.jcp=rw(Vg),Vg=uh);(uh=Ng(Oc,"rpctoken")||Ue.rpctoken||Oe.rpctoken)||(uh=Le.rpctoken||String(Math.round(1E8*(zu?Yx():Xx()))),Vg.rpctoken=uh);Le.rpctoken=uh;We(Vg,Le.connectWithQueryParams?Ue:Oe);uh=qa.location.href;Vg=$c();(Tf=Ng(uh,"_bsh",pf.bsh))&&(Vg._bsh=Tf);(uh=wi(uh))&&(Vg.jsh=uh);Le.hintInFragment?We(Vg,Oe):We(Vg,Ue);Oc=jb(Oc,Ue,Oe,Le.paramsSerializer);Oe=$c();We($x,Oe);We(Le.attributes,Oe);Oe.name=
Oe.id=hc;Oe.src=Oc;Le.eurl=Oc;Ue=Le||{};Vg=!!Ue.allowPost;if(Ue.forcePost||Vg&&2E3<Oc.length){Ue=Db(Oc);Oe.src="";Le.dropDataPostorigin||(Oe["data-postorigin"]=Oc);Oc=Du(qa,db,Oe,hc);if(-1!=navigator.userAgent.indexOf("WebKit")){var Fh=Oc.contentWindow.document;Fh.open();Oe=Fh.createElement("div");Vg={};uh=hc+"_inner";Vg.name=uh;Vg.src="";Vg.style="display:none";Du(qa,Oe,Vg,uh,Le)}Oe=(Le=Ue.query[0])?Le.split("&"):[];Le=[];for(Vg=0;Vg<Oe.length;Vg++)uh=Oe[Vg].split("=",2),Le.push([decodeURIComponent(uh[0]),
decodeURIComponent(uh[1])]);Ue.query=[];Oe=da(Ue);gg(wc.test(Oe),"Invalid URL: "+Oe);Ue=qa.createElement("form");Ue.method="POST";Ue.target=hc;Ue.style.display="none";hc=Oe instanceof tb?Oe:nb(Oe);Na(Ue,"HTMLFormElement").action=Sc(hc);for(hc=0;hc<Le.length;hc++)Oe=qa.createElement("input"),Oe.type="hidden",Oe.name=Le[hc][0],Oe.value=Le[hc][1],Ue.appendChild(Oe);db.appendChild(Ue);Ue.submit();Ue.parentNode.removeChild(Ue);Fh&&Fh.close();Fh=Oc}else Fh=Du(qa,db,Oe,hc,Le);Yd.iframeNode=Fh;Yd.id=Fh.getAttribute("id");
Fh=Yd.id;db=$c();db.id=Fh;db.userParams=Yd.userParams;db.url=Yd.url;db.type=Yd.type;db.state=1;nm[Fh]=db;Fh=Yd}else Fh=null;Fh&&((Yd=Fh.id)&&Bb.push(Yd),bp(ca,Fh))}},Cw=function(ca,qa,db){if(ca&&1===ca.nodeType&&qa){if(db)return 1;if(wq[qa]){if(Yf[ca.nodeName.toLowerCase()])return(ca=ca.innerHTML)&&ca.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(Hr[qa])return 0;if(Gr[qa])return 1}}return null},ai=function(ca,qa){var db=qa.type;delete qa.type;var Bb=("string"===typeof ca?document.getElementById(ca):
ca)||void 0;if(Bb){ca={};for(var hc in qa)Re(qa,hc)&&(ca[hc.toLowerCase()]=qa[hc]);ca.rd=1;(qa=!!ca.ri)&&delete ca.ri;hc=[];xq(db,Bb,ca,hc,0,qa,void 0);Ts(db,hc)}else Tn&&Tn.log&&Tn.log("string"==="gapi."+db+".render: missing element "+typeof ca?ca:"")};ob(ac,"platform",{}).go=Ir;xA=function(ca){for(var qa=["_c","jsl","h"],db=0;db<qa.length&&ca;db++)ca=ca[qa[db]];qa=wi(wa.href);return!ca||0!=ca.indexOf("n;")&&0!=qa.indexOf("n;")&&ca!==qa};Ts=function(ca,qa){Fw(ca,qa)};var Ku=function(ca){Jr(ca,!0)},
Us=function(ca,qa){qa=qa||[];for(var db=0;db<qa.length;++db)ca(qa[db]);for(ca=0;ca<qa.length;ca++)Ju(qa[ca])};al.push(["platform",function(ca,qa,db){Iu=db;qa&&Bg.push(qa);Us(zw,ca);Us(Aw,db._c.annotation);Us(Bw,db._c.bimodal);Hj();mm();if("explicit"!=hi("parsetags")){Rh(ca);xr(Ep())&&!hi("disableRealtimeCallback")&&Yo();if(db&&(ca=db.callback)){var Bb=Rf(ca);delete db.callback}cd(function(){Ku(Bb)})}}]);ac._pl=!0;var Dw=function(ca){if(ca=(ca=nm[ca])?ca.oid:void 0){var qa=te.getElementById(ca);qa&&
qa.parentNode.removeChild(qa);delete nm[ca];Dw(ca)}},Ew=/^\{h:'/,dy=/^!_/,Kr="",Fw=function(ca,qa){function db(){id("message",Bb,"remove","de")}function Bb(Oc){var Yd=Oc.data,Le=Oc.origin;if(Gw(Yd,qa)){var Ue=hc;hc=!1;Ue&&jk("rqe");ey(ca,function(){Ue&&jk("rqd");db();for(var Oe=ob(pf,"RPMQ",[]),Tf=0;Tf<Oe.length;Tf++)Oe[Tf]({data:Yd,origin:Le})})}}if(0!==qa.length){Kr=Ng(wa.href,"pfname","");var hc=!0;id("message",Bb,"add","at");ln(ca,db)}},Gw=function(ca,qa){ca=String(ca);if(Ew.test(ca))return!0;
var db=!1;dy.test(ca)&&(db=!0,ca=ca.substr(2));if(!/^\{/.test(ca))return!1;var Bb=qw(ca);if(!Bb)return!1;ca=Bb.f;if(Bb.s&&ca&&-1!=P.call(qa,ca)){if("_renderstart"===Bb.s||Bb.s===Kr+"/"+ca+"::_renderstart")if(Bb=Bb.a&&Bb.a[db?0:1],qa=te.getElementById(ca),tq(ca,2),Bb&&qa&&Bb.width&&Bb.height){a:{db=qa.parentNode;ca=Bb||{};if(Xo()){var hc=qa.id;if(hc){Bb=(Bb=nm[hc])?Bb.state:void 0;if(1===Bb||4===Bb)break a;Dw(hc)}}(Bb=db.nextSibling)&&Bb.getAttribute&&Bb.getAttribute("data-gapistub")&&(db.parentNode.removeChild(Bb),
db.style.cssText="");Bb=ca.width;var Oc=ca.height,Yd=db.style;Yd.textIndent="0";Yd.margin="0";Yd.padding="0";Yd.background="transparent";Yd.borderStyle="none";Yd.cssFloat="none";Yd.styleFloat="none";Yd.lineHeight="normal";Yd.fontSize="1px";Yd.verticalAlign="baseline";db=db.style;db.display="inline-block";Yd=qa.style;Yd.position="static";Yd.left="0";Yd.top="0";Yd.visibility="visible";Bb&&(db.width=Yd.width=Bb+"px");Oc&&(db.height=Yd.height=Oc+"px");ca.verticalAlign&&(db.verticalAlign=ca.verticalAlign);
hc&&tq(hc,3)}qa["data-csi-wdt"]=(new Date).getTime()}return!0}return!1},ey=function(ca,qa){ln(ca,qa)},Vn=function(ca,qa){this.L=ca;ca=qa||{};this.fa=Number(ca.maxAge)||0;this.U=ca.domain;this.X=ca.path;this.ga=!!ca.secure};Vn.prototype.read=function(){for(var ca=this.L+"=",qa=document.cookie.split(/;\s*/),db=0;db<qa.length;++db){var Bb=qa[db];if(0==Bb.indexOf(ca))return Bb.substr(ca.length)}};Vn.prototype.write=function(ca,qa){if(!Lu.test(this.L))throw"Invalid cookie name";if(!Hw.test(ca))throw"Invalid cookie value";
ca=this.L+"="+ca;this.U&&(ca+=";domain="+this.U);this.X&&(ca+=";path="+this.X);qa="number"===typeof qa?qa:this.fa;if(0<=qa){var db=new Date;db.setSeconds(db.getSeconds()+qa);ca+=";expires="+db.toUTCString()}this.ga&&(ca+=";secure");document.cookie=ca;return!0};Vn.prototype.clear=function(){this.write("",0)};var Hw=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,Lu=/^[A-Z_][A-Z0-9_]{0,63}$/;Vn.iterate=function(ca){for(var qa=document.cookie.split(/;\s*/),db=0;db<qa.length;++db){var Bb=qa[db].split("="),hc=Bb.shift();
ca(hc,Bb.join("="))}};var Lr=function(ca){this.B=ca};Lr.prototype.read=function(){if(nl.hasOwnProperty(this.B))return nl[this.B]};Lr.prototype.write=function(ca){nl[this.B]=ca;return!0};Lr.prototype.clear=function(){delete nl[this.B]};var nl={};Lr.iterate=function(ca){for(var qa in nl)nl.hasOwnProperty(qa)&&ca(qa,nl[qa])};var Mu="https:"===window.location.protocol,Vs=Mu||"http:"===window.location.protocol?Vn:Lr,Mr=function(ca){var qa=ca.substr(1),db="",Bb=window.location.hostname;if(""!==qa){db=parseInt(qa,
10);if(isNaN(db))return null;qa=Bb.split(".");if(qa.length<db-1)return null;qa.length==db-1&&(Bb="."+Bb)}else Bb="";return{i:"S"==ca.charAt(0),domain:Bb,l:db}},Ws=function(){var ca,qa=null;Vs.iterate(function(db,Bb){0===db.indexOf("G_AUTHUSER_")&&(db=Mr(db.substring(11)),!ca||db.i&&!ca.i||db.i==ca.i&&db.l>ca.l)&&(ca=db,qa=Bb)});return{ea:ca,F:qa}},ol=function(ca){if(0!==ca.indexOf("GCSC"))return null;var qa={W:!1};ca=ca.substr(4);if(!ca)return qa;var db=ca.charAt(0);ca=ca.substr(1);var Bb=ca.lastIndexOf("_");
if(-1==Bb)return qa;var hc=Mr(ca.substr(Bb+1));if(null==hc)return qa;ca=ca.substring(0,Bb);if("_"!==ca.charAt(0))return qa;Bb="E"===db&&hc.i;return!Bb&&("U"!==db||hc.i)||Bb&&!Mu?qa:{W:!0,i:Bb,ja:ca.substr(1),domain:hc.domain,l:hc.l}},Nr=function(ca){if(!ca)return[];ca=ca.split("=");return ca[1]?ca[1].split("|"):[]},yq=function(ca){ca=ca.split(":");return{clientId:ca[0].split("=")[1],ia:Nr(ca[1]),la:Nr(ca[2]),ka:Nr(ca[3])}},Nu=function(){var ca=Ws(),qa=ca.ea;ca=ca.F;if(null!==ca){var db;Vs.iterate(function(Oc,
Yd){(Oc=ol(Oc))&&Oc.W&&Oc.i==qa.i&&Oc.l==qa.l&&(db=Yd)});if(db){var Bb=yq(db),hc=Bb&&Bb.ia[Number(ca)];Bb=Bb&&Bb.clientId;if(hc)return{F:ca,ha:hc,clientId:Bb}}}return null},pn=function(){this.T=Iw};pn.prototype.$=function(){this.K||(this.v=0,this.K=!0,this.Y())};pn.prototype.Y=function(){this.K&&(this.T()?this.v=this.R:this.v=Math.min(2*(this.v||this.R),120),window.setTimeout(ma(this.Y,this),1E3*this.v))};pn.prototype.v=0;pn.prototype.R=2;pn.prototype.T=null;pn.prototype.K=!1;var Xs=null;Xo=function(){return pf.oa=
!0};Yo=function(){pf.oa=!0;var ca=Nu();(ca=ca&&ca.F)&&Cl("googleapis.config/sessionIndex",ca);Xs||(Xs=ob(pf,"ss",new pn));ca=Xs;ca.$&&ca.$()};var Iw=function(){var ca=Nu(),qa=ca&&ca.ha||null,db=ca&&ca.clientId;ln("auth",{callback:function(){var Bb=ed.gapi.auth,hc={client_id:db,session_state:qa};Bb.checkSessionState(hc,function(Oc){var Yd=hc.session_state,Le=hi("isLoggedIn");Oc=hi("debug/forceIm")?!1:Yd&&Oc||!Yd&&!Oc;if(Le=Le!=Oc)Cl("isLoggedIn",Oc),Yo(),yw(),Oc||((Oc=Bb.signOut)?Oc():(Oc=Bb.setToken)&&
Oc(null));Oc=Ep();var Ue=hi("savedUserState");Yd=Bb._guss(Oc.cookiepolicy);Ue=Ue!=Yd&&"undefined"!=typeof Ue;Cl("savedUserState",Yd);(Le||Ue)&&xr(Oc)&&!hi("disableRealtimeCallback")&&Bb._pimf(Oc,!0)})}});return!0};jk("bs0",!0,window.gapi._bs);jk("bs1",!0);delete window.gapi._bs}).call(void 0);Gb.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,
idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!1}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!1,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"en",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",
methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},
savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},
":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},
url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},
visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},
community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://www.gstatic.com/classroom/sharewidget/widget_stable.html?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},
configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},
card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.en_US.sazTpAB7NWc.O/am=wQE/d=1/ct=zgms/rs=AGLTcCMGRnMhese6OTxesnN0rDvhruAGIg/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",dpo:!1},platform:"additnow backdrop blogger comments commentcount community donation family_creation follow hangout health page partnersbadge person playemm playreview plus plusone post ratingbadge savetoandroidpay savetodrive savetowallet sharetoclassroom shortlists signin2 surveyoptin visibility youtube ytsubscribe zoomableimage".split(" "),
fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});var sb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js");sb.notify=function(Bc,gb){var rb,Sa,Ua,cb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ab){switch(ab.nextAddress){case 1:return rb=sb.morph({type:"text",textAlign:"center",textString:gb,fill:null,padding:sb.Rectangle.inset(10),fontSize:30,fontColor:"white",fontWeight:"bold",
readOnly:!0,grabbable:!1}),Sa=Math.max(Bc.width+40,rb.width),Ua=Math.max(120,rb.height),cb=Bc.addMorph({extent:sb.pt(Sa,Ua),border:{radius:8},name:"notification",center:Bc.innerBounds().center(),origin:sb.pt(Sa/2,Ua/2),fill:sb.Color.gray,scale:.1,grabbable:!1,submorphs:[rb]}),cb.submorphs[0].center=cb.innerBounds().center().subPt(sb.pt(Sa/2,Ua/2)),ab.yield(cb.animate({scale:1,duration:400}),2);case 2:return ab.yield(sb.promise.delay(800),3);case 3:return ab.yield(cb.animate({opacity:0,duration:400}),
4);case 4:cb.remove(),ab.jumpToEnd()}})};sb.promise=Kb;sb.fun=lc;sb.arr=$b;sb.string=Qd;sb.resource=Zc;sb.pt=Rd;sb.Rectangle=ad;sb.Color=Nc;sb.connect=nd;sb.once=he;sb.signal=af;sb.morph=Af;sb.easings=rd;sb.touchInputDevice=cc;sb.Icon=Ic;sb.config=Kd;sb.Morph=Kc;sb.Menu=Bd;sb.loadMorphFromSnapshot=be;sb.createMorphSnapshot=yc;sb.UserRegistry=Cc;sb.ClientUser=Pb;sb.loadPart=Dc;sb.LoadingIndicator=Xc;sb.gapi=_missingExportShim;sb.pathForBrowserHistory=Cd;Gb=Ea("UserUI",{getCurrentUser:function(){return sb.UserRegistry.current.loadUserFromLocalStorage(sb.config.users.authServerURL)},
showUserFlap:function(Bc){Bc=void 0===Bc?$world:Bc;var gb,rb,Sa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ua){switch(Ua.nextAddress){case 1:return Ua.yield(Cb.import("./lively top bar master-0a938ff8.js"),3);case 3:if(!(gb=Ua.yieldResult)){Ua.jumpTo(4);break}return Ua.yield(sb.resource("part://SystemIDE/lively top bar master"),5);case 5:gb=Ua.yieldResult;case 4:return Ua.yield(gb.read(),2);case 2:return rb=Ua.yieldResult,rb.name="lively top bar",rb.hasFixedPosition=!0,rb.respondsToVisibleWindow=
!0,rb.openInWorld(),rb.relayout(),rb.top=-rb.height,Sa=rb.dropShadow,rb.dropShadow=null,Cb.import("./__root_module__-cddb8267.js").then(function(cb){return cb.bX}).then(function(cb){var ab;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qb){switch(qb.nextAddress){case 1:return qb.yield(rb.whenRendered(),2);case 2:return qb.yield(rb.animate({position:sb.pt(0,0),dropShadow:Sa,duration:500}),3);case 3:if(Bc.metadata){qb.jumpTo(0);break}Bc.animate({customTween:function(Zb){rb.blur=Bc.blur=
3*Zb},duration:500});return qb.yield(Bc.askForName(),5);case 5:ab=qb.yieldResult,Bc.name=ab,Bc.changeMetaData("commit",{name:ab}),window.history&&window.history.pushState({},"lively.next",sb.pathForBrowserHistory(ab)),Bc.animate({customTween:function(Zb){rb.blur=Bc.blur=3*(1-Zb)},duration:500}),qb.jumpToEnd()}})}),Ua.return(rb)}})},hideUserFlap:function(Bc){Bc=void 0===Bc?$world:Bc;Bc.submorphs.filter(function(gb){return"user flap"===gb.name&&gb.owner==Bc}).forEach(function(gb){return gb.remove()})},
showWidget:function(Bc,gb){gb=void 0===gb?{}:gb;var rb=this,Sa,Ua,cb,ab;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qb){if(1==qb.nextAddress)return Sa=gb,Ua=void 0===Sa.modal?!0:Sa.modal,cb=void 0===Sa.user?rb.getCurrentUser():Sa.user,qb.yield(rb.loadMorph(Bc),2);ab=qb.yieldResult;return qb.return(ab.run(Ua,gb.world,cb))})},showUserInfo:function(Bc){Bc=void 0===Bc?{}:Bc;var gb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rb){return 1==rb.nextAddress?rb.yield(gb.showWidget("user info",
Bc),2):rb.return(rb.yieldResult)})},showLogin:function(Bc){Bc=void 0===Bc?{}:Bc;var gb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rb){return rb.return(gb.showWidget("login widget",Bc))})},showRegister:function(Bc){Bc=void 0===Bc?{}:Bc;var gb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rb){return rb.return(gb.showWidget("register widget",Bc))})},loadMorph:function(Bc,gb){var rb,Sa,Ua,cb,ab;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qb){switch(qb.nextAddress){case 1:switch(Bc){case "login widget":return qb.jumpTo(2);
case "user info":return qb.jumpTo(3);case "register widget":return qb.jumpTo(4)}qb.jumpTo(5);break;case 2:return qb.yield(Cb.import("./login widget-cd37db93.js"),7);case 7:if(!(rb=qb.yieldResult)){qb.jumpTo(8);break}return qb.yield(sb.resource("part://SystemUserUI/login widget"),9);case 9:rb=qb.yieldResult;case 8:return qb.yield(rb.read(),6);case 6:return qb.return(qb.yieldResult);case 3:return qb.yield(Cb.import("./user info-24931a64.js"),11);case 11:if(!(Sa=qb.yieldResult)){qb.jumpTo(12);break}return qb.yield(sb.resource("part://SystemUserUI/user info"),
13);case 13:Sa=qb.yieldResult;case 12:return qb.yield(Sa.read(),10);case 10:return qb.return(qb.yieldResult);case 4:return qb.yield(Cb.import("./register widget-e1c5fb14.js"),15);case 15:if(!(Ua=qb.yieldResult)){qb.jumpTo(16);break}return qb.yield(sb.resource("part://SystemUserUI/register widget"),17);case 17:Ua=qb.yieldResult;case 16:return qb.yield(Ua.read(),14);case 14:return qb.return(qb.yieldResult);case 5:return cb=System.decanonicalize("lively.user/morphic/"+Bc+".json"),qb.yield(sb.resource(cb).readJson(),
18);case 18:return ab=qb.yieldResult,qb.return(sb.loadMorphFromSnapshot(ab,gb))}})}});sb.UserUI=Gb;sb.UserUI=Gb;sb.UserUI=Gb;(function(Bc){var gb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),rb=gb.hasOwnProperty("UserWidget")&&"function"===typeof gb.UserWidget?gb.UserWidget:gb.UserWidget=function(Sa){Sa&&Sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Od(rb,Bc,[{key:"run",value:function(Sa,Ua,cb){var ab=
this;Ua=void 0===Ua?$world:Ua;if(void 0===Sa||Sa)var qb=Ua.addMorph({name:this.name+" overlay",hasFixedPosition:!0,grabbable:!1,draggable:!1,extent:Ua.extent,fill:sb.Color.black.withA(.4)});this.epiMorph=this.hasFixedPosition=!0;this.activate(cb);return(new Promise(function(Zb,kc){sb.once(ab,"resolved",Zb)})).then(function(Zb){ab.remove();qb&&qb.remove();return Zb})}},{key:"activate",value:function(Sa){Sa=$world;Sa.addMorph(this);this.align(this.worldPoint(this.innerBounds().center()),Sa.visibleBounds().center());
this.focus()}},{key:"onKeyDown",value:function(Sa){"Enter"===Sa.keyCombo&&(this.onEnterPressed(),Sa.stop());"Escape"===Sa.keyCombo&&(this.onEscapePressed(),Sa.stop());"Tab"===Sa.keyCombo&&(this.focusNext(),Sa.stop());"Shift-Tab"===Sa.keyCombo&&(this.focusPrev(),Sa.stop())}},{key:"focusOrder",value:function(){return[]}},{key:"focusNext",value:function(){var Sa=this.focusOrder(),Ua=this.world().focusedMorph;Ua=Sa.indexOf(Ua)+1;Ua>Sa.length-1&&(Ua=0);Sa[Ua].focus()}},{key:"focusPrev",value:function(){var Sa=
this.focusOrder(),Ua=this.world().focusedMorph;Ua=Sa.indexOf(Ua)-1;0>Ua&&(Ua=Sa.length-1);Sa[Ua].focus()}},{key:"onEscapePressed",value:function(){this.close()}},{key:"onEnterPressed",value:function(){}},{key:"close",value:function(){}},{key:"_save",value:function(){var Sa=this,Ua;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cb){if(1==cb.nextAddress)return cb.yield(sb.createMorphSnapshot(Sa),2);Ua=cb.yieldResult;return cb.yield(lively.modules.module("lively.user/morphic/"+Sa.name+".json").changeSource(JSON.stringify(Ua,
null,2),{doEval:!1}),0)})}},{key:"_htmlExport",value:function(){var Sa=this,Ua,cb,ab,qb,Zb,kc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rb){if(1==Rb.nextAddress)return Ua=lively.modules.module,cb=Ua("lively.user/html/"+Sa.name+".html").id,ab=sb.resource(cb),Rb.yield(Ua("lively.morphic/rendering/html-generator.js").load(),2);if(3!=Rb.nextAddress)return qb=Rb.yieldResult,Zb=qb.generateHTML,Rb.yield(Zb(Sa,ab,{isFragment:!0,addStyles:!1}),3);kc=Rb.yieldResult;return Rb.return({resource:ab,
html:kc})})}},{key:"htmlExport_transformNode",value:function(Sa){this.focusOrder().forEach(function(Ua,cb){return Sa.querySelector("#"+Ua.id).tabIndex=cb+1});return Sa}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserWidget"}},{key:"properties",get:function(){return{user:{}}}}],gb,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",
version:"0.2.0"}}},{start:4949,end:7681})})(sb.Morph);Gb=Ea("UserInfoWidget",function(Bc){var gb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),rb=gb.hasOwnProperty("UserInfoWidget")&&"function"===typeof gb.UserInfoWidget?gb.UserInfoWidget:gb.UserInfoWidget=function(Sa){Sa&&Sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Od(rb,Bc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),emailInput:this.getSubmorphNamed("email input"),saveButton:this.getSubmorphNamed("save button"),logoutButton:this.getSubmorphNamed("logout button"),closeButton:this.getSubmorphNamed("close button"),userAvatar:this.getSubmorphNamed("user avatar")}}},{key:"activate",value:function(Sa){Od._get(Object.getPrototypeOf(rb.prototype),"activate",this).call(this,Sa);this.displayUser(Sa)}},{key:"focus",
value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){var Sa=this.ui;return[Sa.userNameInput,Sa.emailInput,Sa.passwordInput,Sa.passwordInput2]}},{key:"onEnterPressed",value:function(){this.trySave()}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(Sa){Sa.draggable=!1;Sa.grabbable=!1});sb.connect(this.ui.saveButton,"fire",this,"trySave");sb.connect(this.ui.logoutButton,"fire",this,"logout");sb.connect(this.ui.closeButton,"onMouseDown",this,"close");this.ui.userNameInput.readOnly=
!0;this.ui.userNameInput.selectable=!0;sb.notify(this,"OK")}},{key:"displayUser",value:function(Sa){Sa=(this.user=Sa)||{};var Ua=Sa.email,cb=this.ui,ab=cb.emailInput,qb=cb.passwordInput,Zb=cb.passwordInput2,kc=cb.userAvatar;cb.userNameInput.input=Sa.name||"";ab.input=Ua||"";qb.input="";Zb.input="";kc.imageUrl=sb.resource("https://s.gravatar.com/avatar").join(sb.string.md5(Ua||"")).withQuery({s:320}).url}},{key:"trySave",value:function(){var Sa=this,Ua,cb,ab,qb,Zb,kc,Rb,ma,Ia,W,sa,Za,mb,rc,xd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(sc){switch(sc.nextAddress){case 1:Ua=
Sa;cb=Ua.user;ab=Ua.ui;qb=ab.emailInput;Zb=ab.passwordInput;kc=ab.passwordInput2;if(!cb)return sc.return(Sa.showError("no user object"));Rb=qb.input;ma=Zb.input;Ia=kc.input;if(cb.email==Rb&&!ma&&!Ia)return sc.return(sb.signal(Sa,"resolved",cb));if(!ma&&!Ia){sc.jumpTo(2);break}return ma!==Ia?sc.return(Sa.world().inform("Passwords do not match!",{requester:Sa})):sc.yield(Sa.world().passwordPrompt("To set a new password, please enter your old one",{requester:Sa}),3);case 3:return(W=sc.yieldResult)?sc.yield(cb.checkPassword(W),
4):sc.return(Sa.world().inform("Old password needed to change password, aborting!",{requester:Sa}));case 4:if(sa=sc.yieldResult,!sa)return sc.return(Sa.world().inform("Old password is not correct, aborting!",{requester:Sa}));case 2:return Za={},ma&&(Za.password=ma),Rb&&(Za.email=Rb),sc.yield(cb.modify(Za),5);case 5:return mb=sc.yieldResult,rc=mb.status,(xd=mb.error)?sc.return(Sa.world().inform("Failed to modify: "+xd,{requester:Sa})):sc.yield(sb.UserRegistry.current.saveUserToLocalStorage(cb),6);
case 6:return sc.yield(sb.notify(Sa,rc),7);case 7:Sa.displayUser(cb),sb.signal(Sa,"resolved",cb),sc.jumpToEnd()}})}},{key:"logout",value:function(){var Sa=this,Ua;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cb){if(1==cb.nextAddress)return cb.yield(sb.UserRegistry.current.logout(Sa.user),2);if(3!=cb.nextAddress)return Sa.displayUser(Sa.user),Sa.remove(),cb.yield(sb.UserUI.showLogin({modal:!1}),3);Ua=cb.yieldResult;sb.signal(Sa,"resolved",Ua);cb.jumpToEnd()})}},{key:"close",value:function(){sb.signal(this,
"resolved",this.user)}},{key:"onMouseUp",value:function(Sa){var Ua=this.ui,cb=Ua.closeButton;Ua=Ua.saveButton;switch(Sa.targetMorph){case cb:this.close();break;case Ua:this.trySave()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserInfoWidget"}}],gb,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",
version:"0.2.0"}}},{start:7690,end:11706})}(sb.UserWidget));sb.UserInfoWidget=Gb;sb.UserInfoWidget=Gb;sb.UserInfoWidget=Gb;Gb=Ea("LoginWidget",function(Bc){var gb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),rb=gb.hasOwnProperty("LoginWidget")&&"function"===typeof gb.LoginWidget?gb.LoginWidget:gb.LoginWidget=function(Sa){Sa&&Sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Od(rb,Bc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
passwordInput:this.getSubmorphNamed("password input"),loginButton:this.getSubmorphNamed("login button"),registerButton:this.getSubmorphNamed("register button"),guestButton:this.getSubmorphNamed("guest button"),emailLoginForm:this.getSubmorphNamed("email login form"),googleLogin:this.getSubmorphNamed("google login"),emailLogin:this.getSubmorphNamed("email login"),appleLogin:this.getSubmorphNamed("apple login")}}},{key:"signInWithGoogle",value:function(){sb.gapi.load("auth2",function(){var Sa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ua){if(1==
Ua.nextAddress)return sb.gapi.auth2.init({client_id:"CLIENT_ID.apps.googleusercontent.com"}),Sa=sb.gapi.auth2.getAuthInstance(),Ua.yield(Sa.signIn(),2);Ua.jumpToEnd()})})}},{key:"signInWithEmail",value:function(){var Sa=this,Ua,cb,ab,qb,Zb,kc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rb){Ua=Sa.ui;cb=Ua.emailLoginForm;ab=Ua.googleLogin;qb=Ua.emailLogin;Zb=Ua.appleLogin;kc=sb.easings.inOutExpo;[ab,qb,Zb].map(function(ma){return ma.animate({visible:!1,isLayoutable:!1,easing:kc,duration:300})});
cb.animate({visible:!0,isLayoutable:!0,easing:kc,duration:300});Rb.jumpToEnd()})}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.passwordInput]}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(ma){ma.draggable=!1;ma.grabbable=!1});var Sa=this.ui,Ua=Sa.registerButton,cb=Sa.userNameInput,ab=Sa.appleLogin,qb=Sa.passwordInput,Zb=Sa.emailLoginForm,kc=Sa.googleLogin,Rb=Sa.emailLogin;sb.connect(Sa.loginButton,
"fire",this,"tryLogin");sb.connect(Ua,"fire",this,"switchToRegisterWidget");sb.connect(Rb,"fire",this,"signInWithEmail");sb.connect(kc,"fire",this,"loginWithGoogle");cb.input="";qb.input="";Zb.isLayoutable=Zb.visible=!1;[Rb,ab,kc].map(function(ma){return ma.visible=ma.isLayoutable=!0})}},{key:"onEnterPressed",value:function(){this.tryLogin()}},{key:"tryLogin",value:function(){var Sa=this,Ua,cb,ab,qb,Zb,kc,Rb,ma,Ia;return $jscomp.asyncExecutePromiseGeneratorProgram(function(W){switch(W.nextAddress){case 1:Ua=
Sa;cb=Ua.ui;ab=cb.userNameInput;qb=cb.passwordInput;Zb=ab.input;kc=qb.input;if(!Zb)return W.return();Rb=sb.ClientUser.named(Zb,sb.config.users.authServerURL);W.setCatchFinallyBlocks(2);return W.yield(sb.UserRegistry.current.login(Rb,kc),4);case 4:W.leaveTryBlock(3);break;case 2:Ia=W.enterCatchBlock(),ma=Ia.message;case 3:if(ma)return sb.signal(Sa,"loginFailed",ma),ma.includes("No user")&&Sa.indicateError(Sa.ui.userNameInput,ma),ma.includes("does not match")&&Sa.indicateError(Sa.ui.passwordInput,"Password incorrect"),
W.return();sb.notify(Sa,"logged in");sb.signal(Sa,"loginSucceeded",Rb);sb.signal(Sa,"resolved",Rb);W.jumpToEnd()}})}},{key:"switchToRegisterWidget",value:function(){var Sa=this,Ua;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cb){if(1==cb.nextAddress)return cb.yield(sb.UserUI.showRegister({modal:!1}),2);(Ua=cb.yieldResult)&&sb.signal(Sa,"resolved",Ua);cb.jumpToEnd()})}},{key:"continueAsGuest",value:function(){var Sa=this,Ua,cb,ab,qb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Zb){if(1==
Zb.nextAddress)return Ua=sb.UserRegistry.current,cb=Ua.loadUserFromLocalStorage(sb.config.users.authServerURL),cb.isGuestUser?(ab=cb,Zb.jumpTo(2)):Zb.yield(Ua.login(sb.ClientUser.guest),3);2!=Zb.nextAddress&&(ab=Zb.yieldResult);qb=ab;sb.signal(Sa,"resolved",qb);Zb.jumpToEnd()})}},{key:"indicateError",value:function(Sa,Ua){Sa.indicateError(Ua)}},{key:"clearErrors",value:function(){this.ui.userNameInput.clearError();this.ui.passwordInput.clearError()}},{key:"onMouseUp",value:function(Sa){var Ua=this.ui,
cb=Ua.loginButton;Ua=Ua.registerButton;switch(Sa.targetMorph){case cb:this.tryLogin();break;case Ua:this.switchToRegisterWidget()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LoginWidget"}}],gb,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:11715,end:15626})}(sb.UserWidget));
sb.LoginWidget=Gb;sb.LoginWidget=Gb;sb.LoginWidget=Gb;Gb=Ea("RegisterWidget",function(Bc){var gb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),rb=gb.hasOwnProperty("RegisterWidget")&&"function"===typeof gb.RegisterWidget?gb.RegisterWidget:gb.RegisterWidget=function(Sa){Sa&&Sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Od(rb,Bc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
emailInput:this.getSubmorphNamed("email input"),passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),registerButton:this.getSubmorphNamed("register button"),cancelButton:this.getSubmorphNamed("cancel button")}}},{key:"onEnterPressed",value:function(){this.tryRegister()}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.emailInput,this.ui.passwordInput,this.ui.passwordInput2]}},
{key:"reset",value:function(){this.withAllSubmorphsDo(function(Sa){Sa.draggable=!1;Sa.grabbable=!1});sb.connect(this.ui.registerButton,"fire",this,"tryRegister");sb.connect(this.ui.cancelButton,"fire",this,"close");this.ui.userNameInput.readOnly=!0;this.ui.userNameInput.selectable=!0;sb.notify(this,"OK")}},{key:"displayUser",value:function(Sa){this.user=Sa}},{key:"tryRegister",value:function(){var Sa=this,Ua,cb,ab,qb,Zb,kc,Rb,ma,Ia,W,sa,Za,mb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rc){switch(rc.nextAddress){case 1:Ua=
Sa;cb=Ua.ui;ab=cb.userNameInput;qb=cb.emailInput;Zb=cb.passwordInput;kc=cb.passwordInput2;Rb=ab.input;ma=qb.input;Ia=Zb.input;W=kc.input;if(!(Rb&&Ia&&W&&ma))return Rb||ab.indicateError("Please enter a user name!"),ma||qb.indicateError("Please enter E-Mail address!"),Ia||Zb.indicateError("Please enter a password!"),W||kc.indicateError("Please repeat your password!"),rc.return();if(Ia!==W)return kc.indicateError("Passwords do not match!"),rc.return();sa=sb.ClientUser.named(Rb,sb.config.users.authServerURL);
ma&&(sa.email=ma);rc.setCatchFinallyBlocks(2);return rc.yield(sb.UserRegistry.current.register(sa,Ia),4);case 4:rc.leaveTryBlock(3);break;case 2:Za=mb=rc.enterCatchBlock();case 3:return Za?rc.return(Sa.world().inform("Failed to register: "+Za,{requester:Sa})):rc.yield(sb.notify(Sa,"registered"),5);case 5:Sa.displayUser(sa),sb.signal(Sa,"resolved",sa),rc.jumpToEnd()}})}},{key:"close",value:function(){sb.signal(this,"resolved",this.user)}},{key:"onMouseUp",value:function(Sa){var Ua=this.ui,cb=Ua.registerButton;
Ua=Ua.cancelButton;switch(Sa.targetMorph){case cb:this.tryRegister();break;case Ua:this.close()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RegisterWidget"}}],gb,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:15635,end:18529})}(sb.UserWidget));sb.RegisterWidget=
Gb;sb.RegisterWidget=Gb;sb.RegisterWidget=Gb;Gb=Ea("UserFlap",function(Bc){var gb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),rb=gb.hasOwnProperty("UserFlap")&&"function"===typeof gb.UserFlap?gb.UserFlap:gb.UserFlap=function(Sa){Sa&&Sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Od(rb,Bc,[{key:"isUserFlap",get:function(){return!0}},{key:"isMaximized",get:function(){return 3<this.submorphs.length}},{key:"onLoad",
value:function(){var Sa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ua){if(1==Ua.nextAddress)return Ua.yield(Sa.whenRendered(),2);if([Sa].concat($jscomp.arrayFromIterable(Sa.ownerChain())).find(function(cb){return cb.isComponent}))return Ua.return();Sa.showUser(Sa.currentUser());Ua.jumpToEnd()})}},{key:"open",value:function(){var Sa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ua){Sa.openInWorld();Sa.showUser(Sa.currentUser(),!1);Sa.alignInWorld(!1);Sa.hasFixedPosition=
!0;return Ua.return(Sa)})}},{key:"onMouseDown",value:function(Sa){var Ua=this,cb,ab;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qb){switch(qb.nextAddress){case 1:cb=Sa.targetMorph.name;ab=Ua.currentUser();switch(cb){case "profile item":return qb.return(Ua.showUserInfo(ab));case "logout item":return qb.jumpTo(2);case "login item":return qb.jumpTo(3);case "register item":Ua.showRegister();break;case "user flap":Ua.maximize();break;case "keyboard input":Ua.toggleKeyboardInput()}qb.jumpTo(0);
break;case 2:return qb.yield(Ua.minimize(),5);case 5:return qb.yield(Ua.logout(ab),6);case 6:return qb.return();case 3:return qb.yield(Ua.showLogin(ab),7);case 7:return qb.return()}})}},{key:"toggleKeyboardInput",value:function(Sa){Sa=void 0===Sa?!sb.touchInputDevice:Sa;sb.touchInputDevice=Sa;var Ua=this.get("keyboard input");Sa?(Ua.fontColor=sb.Color.rgb(0,176,255),Ua.dropShadow=this.haloShadow):(Ua.fontColor=this.fontColor,Ua.dropShadow=!1)}},{key:"currentUser",value:function(){return sb.UserRegistry.current.loadUserFromLocalStorage(sb.config.users.authServerURL)}},
{key:"onUserChanged",value:function(Sa){this.showUser(Sa.user||{name:"???"},!1)}},{key:"onWorldResize",value:function(Sa){!this.isComponent&&this.alignInWorld()}},{key:"relayout",value:function(){this.alignInWorld()}},{key:"alignInWorld",value:function(Sa){var Ua=this,cb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ab){if(1==ab.nextAddress)return ab.yield(Ua.whenRendered(),2);Ua.hasFixedPosition&&Ua.owner.isWorld?Ua.topRight=sb.pt(Ua.world().visibleBounds().width,0):Ua.owner.isWorld&&
(cb=$world.visibleBounds().topRight().withY(0).subXY(10,0),Sa?Ua.animate({topRight:cb,duration:200}):Ua.topRight=cb);ab.jumpToEnd()})}},{key:"minimize",value:function(){var Sa=this,Ua;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cb){if(1==cb.nextAddress)return(Ua=Sa.getSubmorphNamed("user menu"))?cb.yield(Ua.animate({opacity:0,scale:.8,duration:200}),2):cb.return();Ua.visible=!1;cb.jumpToEnd()})}},{key:"ensureMenu",value:function(){var Sa=this,Ua,cb,ab,qb,Zb,kc,Rb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ma){switch(ma.nextAddress){case 1:if(!Sa._menuFetch){ma.jumpTo(2);
break}return ma.yield(Sa._menuFetch,3);case 3:return ma.return(ma.yieldResult);case 2:Ua=sb.promise.deferred();Sa._menuFetch=Ua.promise;if(cb=Sa.getSubmorphNamed("user menu")){ma.jumpTo(4);break}ab=Sa;qb=ab.addMorph;Zb=ab;return ma.yield(Cb.import("./user menu master-01068d41.js"),6);case 6:if(!(kc=ma.yieldResult)){ma.jumpTo(7);break}return ma.yield(sb.resource("part://SystemIDE/user menu master"),8);case 8:kc=ma.yieldResult;case 7:return ma.yield(kc.read(),5);case 5:cb=qb.call(Zb,ma.yieldResult);
case 4:Rb=cb,Rb.name="user menu",Rb.visible=!1,Rb.opacity=0,Rb.scale=.8,Rb.position=Sa.getSubmorphNamed("avatar").bottomCenter.addXY(0,10),Ua.resolve(Rb),ma.jumpToEnd()}})}},{key:"maximize",value:function(){var Sa=this,Ua;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cb){if(1==cb.nextAddress)return(Ua=Sa.getSubmorphNamed("user menu"))?cb.jumpTo(2):cb.yield(Sa.ensureMenu(),3);2!=cb.nextAddress&&(Ua=cb.yieldResult);Ua.right=Sa.width-5;Ua.visible=!0;return cb.yield(Ua.animate({opacity:1,
scale:1,duration:200}),0)})}},{key:"changeWidthAndHeight",value:function(Sa,Ua,cb){var ab=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qb){return cb?qb.yield(ab.animate({position:ab.position.addXY(ab.width-Sa,0),extent:sb.pt(Sa,Ua),duration:200}),0):(ab.extent=sb.pt(Sa,Ua),ab.position=ab.position.addXY(ab.width-Sa,0),qb.jumpTo(0))})}},{key:"showMenuItems",value:function(Sa){var Ua=this;sb.arr.withoutAll(["login item","logout item","profile item","register item"],Sa).map(function(cb){return Ua.getSubmorphNamed(cb)}).forEach(function(cb){cb.visible=
!1;cb.bringToFront()});Sa.map(function(cb){return Ua.getSubmorphNamed(cb)}).forEach(function(cb){cb.visible=!0})}},{key:"showUser",value:function(Sa,Ua){var cb=this,ab,qb,Zb,kc,Rb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ma){switch(ma.nextAddress){case 1:return ab=cb.getSubmorphNamed("label"),qb=cb.getSubmorphNamed("user menu"),Zb=cb.getSubmorphNamed("avatar"),cb.getSubmorphNamed("login item"),cb.getSubmorphNamed("logout item"),cb.getSubmorphNamed("profile item"),kc=String(Sa.name),
Rb=sb.resource("https://s.gravatar.com/avatar").join(sb.string.md5(Sa.email||"")).withQuery({s:160}).url,ma.yield(cb.ensureMenu(),2);case 2:kc.startsWith("guest-")?(cb.showMenuItems(["login item","register item"]),kc="guest"):cb.showMenuItems(["logout item","profile item"]);ab.value=kc;Zb.imageUrl=Rb;if(!qb){ma.jumpTo(3);break}return ma.yield(qb.master.whenApplied(),4);case 4:qb.position=Zb.bottomCenter.addXY(0,10);case 3:return ma.yield(cb.whenRendered(),5);case 5:cb.alignInWorld(),ma.jumpToEnd()}})}},
{key:"showRegister",value:function(){return sb.UserUI.showRegister()}},{key:"showUserInfo",value:function(Sa){return sb.UserUI.showUserInfo({user:Sa})}},{key:"showLogin",value:function(Sa){return sb.UserUI.showLogin({user:Sa})}},{key:"logout",value:function(Sa){return sb.UserRegistry.current.logout(Sa)}},{key:"onBlur",value:function(Sa){var Ua=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cb){if(1==cb.nextAddress)return Ua.minimize(),cb.yield(Ua.whenRendered(),2);Ua.world().focusedMorph.ownerChain().includes(Ua)&&
Ua.focus();cb.jumpToEnd()})}},{key:"showMenu",value:function(Sa,Ua){Ua=void 0===Ua?!1:Ua;var cb=this,ab,qb,Zb,kc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rb){ab=cb.getSubmorphNamed("label");qb=cb.getSubmorphNamed("avatar");Zb=["open chat",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(ma){ma.jumpToEnd()})}];kc=Object.assign(sb.Menu.forItems(Sa.isGuestUser?[Zb,["login",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(ma){cb.minimize();
cb.showLogin(Sa);ma.jumpToEnd()})}]]:[["show user info",function(){cb.minimize();cb.showUserInfo(Sa)}],Zb,["logout",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(ma){if(1==ma.nextAddress)return ma.yield(cb.minimize(),2);cb.logout(Sa);ma.jumpToEnd()})}]]),{name:"menu",position:sb.pt(10,5),dropShadow:!1,opacity:Ua?0:1,borderWidth:0,fontSize:12,fontFamily:"Helvetica Neue, Verdana, Sans Serif"});qb.visible=!1;ab.visible=!1;cb.addMorph(kc);Ua&&kc.animate({opacity:1,duration:200});
return Rb.yield(cb.changeWidthAndHeight(kc.width+20,kc.height+10,Ua),0)})}},{key:"updateNetworkIndicator",value:function(Sa){var Ua="red";Sa&&(Sa.isOnline()&&(Ua="yellow"),Sa.isRegistered()&&(Ua="green"));this.get("network-indicator").animate({fill:sb.Color[Ua],duration:300})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserFlap"}},{key:"properties",get:function(){return{submorphs:{initialize:function(){this.submorphs=[{type:"label",name:"label",fontSize:12,fontFamliy:"Helvetica Neue, Verdana, Sans Serif",
fontWeight:"bold",padding:sb.Rectangle.inset(4),reactsToPointer:!1},sb.Icon.makeLabel("user",{name:"avatar",fontColor:sb.Color.black.withA(.3),fontSize:12,clipMode:"hidden",padding:sb.Rectangle.inset(2,2,4,0),borderWidth:1,borderColor:sb.Color.black.withA(.3),extent:sb.pt(20,20),borderRadius:10}),{name:"network-indicator",fill:sb.Color.red,borderRadius:5,extent:sb.pt(5,5),position:sb.pt(5,8),reactsToPointer:!1}]}},fontColor:{after:["submorphs"],set:function(Sa){this.setProperty("fontColor",Sa)}},
name:{initialize:function(){this.name="user flap"}},epiMorph:{defaultValue:!0},clipMode:{defaultValue:"hidden"},draggable:{defaultValue:!1},grabbable:{defaultValue:!1},acceptsDrops:{defaultValue:!1},fill:{defaultValue:sb.Color.white},borderRadiusBottom:{defaultValue:10},borderRadiusLeft:{defaultValue:10},borderRadiusRight:{defaultValue:10},nativeCursor:{defaultValue:"pointer"},respondsToVisibleWindow:{defaultValue:!0},haloColor:{readOnly:!0,get:function(){return sb.Color.rgb(0,176,255)}},haloShadow:{readOnly:!0,
get:function(){return{distance:2,rotation:45,color:sb.Color.rgba(64,196,255,.4),inset:!1,blur:6,spread:0,fast:!1}}}}}}],gb,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:18538,end:27710})}(sb.Morph));sb.UserFlap=Gb;sb.UserFlap=Gb;sb.UserFlap=Gb}}});System.register("11",[],function(){return{execute:function(){lively.FreezerRuntime.recorderFor("lively.2lively/index.js")}}});
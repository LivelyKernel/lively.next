System.register(["./__root_module__-aa47e4cd.js","./index-f9b193f7.js"],function(Ca){var ub,Tb,lc,mc,Zd,id,ce,kd,$c,Cd,Fd,pe,Xd,nd,eb,Hb,Cc,qc,ld,wd,Xc,gd,bc,ad,ed,Id,hc,Qb,xb,Nb,kb,Db,Rb,vc,jc,qb,rb,cc,Vc,Bc,xc,kc,Q,ea,Ga,Ua,fc,Fb,Va,Ab,td,Pc,Vb;return{setters:[function(Oa){ub=Oa.C;Tb=Oa.a0;lc=Oa.b3;mc=Oa.b4;Zd=Oa.b5;id=Oa.b6;ce=Oa.b7;kd=Oa.b8;$c=Oa.a1;Cd=Oa.ae;Fd=Oa.b9;pe=Oa.ba;Xd=Oa.bb;nd=Oa.ag;eb=Oa.aY;Hb=Oa.ai;Cc=Oa.az;qc=Oa.a7;ld=Oa.aZ;wd=Oa.ak;Xc=Oa.I;gd=Oa.aT;bc=Oa.b1;ad=Oa.bc;ed=Oa.bd;
Id=Oa.ao;hc=Oa.ap;Qb=Oa.an;xb=Oa.a4;Nb=Oa.be;kb=Oa.aq;Db=Oa.am;Rb=Oa.aA;vc=Oa.a8;jc=Oa.bf;qb=Oa.aj;rb=Oa.al;cc=Oa.a9;Vc=Oa._;Bc=Oa.ar;xc=Oa.s;kc=Oa.a5;Q=Oa.$;ea=Oa.bg;Ga=Oa.bh;Ua=Oa.bi;fc=Oa.af;Fb=Oa.as;Va=Oa.aL},function(Oa){Ab=Oa.p;td=Oa.P;Pc=Oa._;Vb=Oa.N}],execute:function(){var Oa=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");Oa.Color=ub;Oa.rect=Tb;Oa.Complementary=lc;Oa.Triadic=mc;Oa.Tetradic=Zd;Oa.Quadratic=id;Oa.Analogous=ce;Oa.Neutral=kd;Oa.pt=$c;Oa.Point=Cd;Oa.flatDesignColors=
Fd;Oa.materialDesignColors=pe;Oa.webSafeColors=Xd;Oa.Morph=nd;Oa.CustomLayout=eb;Oa.VerticalLayout=Hb;Oa.HorizontalLayout=Cc;Oa.Text=qc;Oa.TilingLayout=ld;Oa.Ellipse=wd;Oa.Image=Xc;Oa.StyleSheet=gd;Oa.DropDownSelector=bc;Oa.ModeSelector=ad;Oa.Slider=ed;Oa.connect=Id;Oa.signal=hc;Oa.num=Qb;Oa.arr=xb;Oa.SnapLayout=Nb;Oa.WHEEL_URL="/lively.ide/assets/color-wheel.png";Oa.duration=200;(function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Sb=Gd.hasOwnProperty("ColorPaletteField")&&
"function"===typeof Gd.ColorPaletteField?Gd.ColorPaletteField:Gd.ColorPaletteField=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"onHoverIn",value:function(){if(this.color){var oa=$jscomp.makeIterator(this.color.toHSB()),Ha=oa.next().value,Kb=oa.next().value;oa=oa.next().value;this.borderColor=Oa.Color.hsb(Ha,1<Kb+.5?Kb-.5:Kb+.5,1<oa+.5?oa-.5:oa+.5)}}},{key:"onHoverOut",value:function(){this.borderColor=
Oa.Color.transparent}},{key:"onMouseDown",value:function(){Oa.signal(this,"updateColor",this.color)}}],[{key:"className",get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:Oa.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||Oa.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||Oa.Color.transparent}},styleClasses:{after:["color"],initialize:function(){this.styleClasses=
this.color?["colorField"]:["vacantColorField"]}}}}}],Gd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:653,end:1603})})(Oa.Morph);(function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Sb=Gd.hasOwnProperty("ColorHarmonyField")&&"function"===
typeof Gd.ColorHarmonyField?Gd.ColorHarmonyField:Gd.ColorHarmonyField=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"onMouseDown",value:function(){Oa.signal(this,"updateColor",this.color)}}],[{key:"className",get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:Oa.pt(80,60)},fill:{defaultValue:Oa.Color.transparent},master:{initialize:function(){this.master=
{auto:"styleguide://SystemWidgets/color harmony field"}}},color:{set:function(oa){var Ha=$jscomp.makeIterator(this.submorphs),Kb=Ha.next().value;Ha=Ha.next().value;var P=$jscomp.makeIterator(oa?oa.toHSB():[]),sa=P.next().value,Ta=P.next().value;P=P.next().value;this.setProperty("color",oa);oa&&Kb&&Ha&&(Kb.fill=oa,Ha.textString=oa.toHexString(),Ha.fontColor=Oa.Color.hsb(sa,1<Ta+.5?Ta-.5:Ta+.5,1<P+.5?P-.5:P+.5))}},submorphs:{after:["color"],initialize:function(){var oa=$jscomp.makeIterator((this.color||
Oa.Color.transparent).toHSB()),Ha=oa.next().value,Kb=oa.next().value;oa=oa.next().value;this.submorphs=[new Oa.Morph({fill:this.color,extent:Oa.pt(80,50)}),new Oa.Text({textString:Ha.toFixed()+", "+Kb.toFixed(2)+", "+oa.toFixed(2),fill:Oa.Color.transparent,fontColor:Oa.Color.gray.darker(),bottomLeft:Oa.pt(0,50)})]}}}}}],Gd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:1605,end:3066})})(Oa.Morph);(function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Sb=Gd.hasOwnProperty("HarmonyDisplay")&&"function"===typeof Gd.HarmonyDisplay?Gd.HarmonyDisplay:Gd.HarmonyDisplay=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"update",value:function(oa){var Ha=$jscomp.makeIterator(oa.pivotColor.toHSB()),
Kb=Ha.next().value,P=Ha.next().value;Ha=Ha.next().value;Kb=oa.harmony.chord({hue:Kb,saturation:P,brightness:Ha});Kb.length!=this.submorphs.length?this.submorphs=Kb.map(function(sa){sa=new Oa.ColorHarmonyField({color:sa});Oa.connect(sa,"updateColor",oa,"color");return sa}):Oa.arr.zip(this.submorphs,Kb).forEach(function(sa){var Ta=$jscomp.makeIterator(sa);sa=Ta.next().value;Ta=Ta.next().value;sa.color=Ta})}}],[{key:"className",get:function(){return"HarmonyDisplay"}}],Gd,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3068,end:3642})})(Oa.Morph);(function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Sb=Gd.hasOwnProperty("PivotColorControl")&&"function"===typeof Gd.PivotColorControl?Gd.PivotColorControl:Gd.PivotColorControl=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"update",value:function(oa){this.pivotColor=oa.pivotColor}},{key:"onDrag",value:function(oa){var Ha=$jscomp.makeIterator(this.pivotColor.toHSB()),Kb=Ha.next().value,P=Ha.next().value;Ha=Ha.next().value;Kb=Oa.num.toRadians(Kb);oa=Oa.Point.polar(50*P,Kb).addPt(oa.state.dragDelta);Kb=Oa.num.toDegrees(oa.theta());Kb=0>Kb?Kb+360:Kb;P=Math.min(oa.r()/50,1);this.pivotColor=Oa.Color.hsb(Kb,P,Ha)}}],[{key:"className",
get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:Oa.Color.blue},draggable:{defaultValue:!0}}}}],Gd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3644,end:4288})})(Oa.Ellipse);(function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
Sb=Gd.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof Gd.HarmonyVisualizer?Gd.HarmonyVisualizer:Gd.HarmonyVisualizer=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"update",value:function(oa){var Ha=$jscomp.makeIterator(this.submorphs).next().value,Kb=this.get("pivot control"),P=$jscomp.makeIterator(oa.pivotColor.toHSB()),sa=P.next().value,Ta=P.next().value;P=P.next().value;var Ib=Oa.num.toRadians(sa);
sa=oa.harmony.chord({hue:sa,saturation:Ta,brightness:P}).map(function(Lc){var Wc=$jscomp.makeIterator(Lc.toHSB()),he=Wc.next().value;Lc=Wc.next().value;Wc.next();Wc=Oa.num.toRadians(he);return Oa.Point.polar(50*Lc,Wc)});Ha.fill=Oa.Color.black.withA(1-P);Kb.update(oa);Ha.submorphs.length-1!=sa.length?Ha.submorphs=[].concat($jscomp.arrayFromIterable(sa.map(function(Lc){return new Oa.Ellipse({center:Lc,fill:Oa.Color.transparent,draggable:!1,borderWidth:1,borderColor:Oa.Color.black})})),[Kb]):(Oa.arr.zip(Ha.submorphs,
sa).forEach(function(Lc){var Wc=$jscomp.makeIterator(Lc);Lc=Wc.next().value;if(Wc=Wc.next().value)Lc.center=Wc}),Kb.center=Oa.Point.polar(50*Ta,Ib))}}],[{key:"className",get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new Oa.PivotColorControl({name:"pivot control"})]}]}}}}}],Gd,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4290,end:5783})})(Oa.Image);(function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Sb=Gd.hasOwnProperty("HarmonyPalette")&&"function"===typeof Gd.HarmonyPalette?Gd.HarmonyPalette:Gd.HarmonyPalette=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"update",value:function(oa){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=oa.pivotBrightness,this.harmony=oa.harmony,this.get("harmonies").update(oa),this.get("harmony visualizer").update(oa),this.updateInProgress=!1)}},{key:"harmonyControl",value:function(){var oa,Ha,Kb=new Oa.Morph({name:"harmonyControl",submorphs:[new Oa.HarmonyVisualizer({name:"harmony visualizer"}),Ha=new Oa.Slider({min:0,
max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),oa=new Oa.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new Oa.Complementary,Triadic:new Oa.Triadic,Tetradic:new Oa.Tetradic,Quadratic:new Oa.Quadratic,Analogous:new Oa.Analogous,Neutral:new Oa.Neutral}})]});Oa.connect(Ha,"value",this,"pivotBrightness");Oa.connect(oa,"selectedValue",this,"harmony");return Kb}}],
[{key:"className",get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new Oa.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],initialize:function(){this.submorphs=[new Oa.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],Gd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5785,end:7880})})(Oa.Morph);var Qa=Ca("C",function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Sb=Gd.hasOwnProperty("ColorPalette")&&"function"===typeof Gd.ColorPalette?Gd.ColorPalette:Gd.ColorPalette=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return kb(Sb,ye,[{key:"fadeIntoWorld",value:function(oa){kb._get(Object.getPrototypeOf(Sb.prototype),"fadeIntoWorld",this).call(this,oa);this.initPosition=oa;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function(oa){"Escape"==oa.key&&this.close()}},{key:"close",value:function(oa){oa?this.fadeOut(oa):this.remove();Oa.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",extent:Oa.pt(400,253),submorphs:[this.solidColorPalette(),new Oa.HarmonyPalette({name:"harmony palette",
isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var oa=this.get("solidColorPalette"),Ha=this.get("paletteView");oa.visible||(Ha.submorphs.forEach(function(Kb){return Kb.animate({isLayoutable:!1,visible:!1,duration:200})}),oa.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var oa=this.get("paletteView");this.get("harmony palette").visible||(oa.submorphs.forEach(function(Ha){return Ha.animate({isLayoutable:!1,visible:!1,
duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var oa=new Oa.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette","Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});Oa.connect(oa,"Color Palette",this,"selectSolidMode");Oa.connect(oa,"Color Harmonies",this,"selectHarmonyMode");return oa}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",
master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var oa=this.getColorsFor(this.colorPalette),Ha=oa.colors,Kb=oa.mod;return this.cachedPalette[oa.name]||this.getPalette(Ha,Kb)}},{key:"getPalette",value:function(oa,Ha){var Kb=this,P=Math.max(Math.ceil(oa.length/Ha),15),sa=P*this.colorFieldWidth,Ta=Ha*this.colorFieldWidth;oa=[].concat($jscomp.arrayFromIterable(oa),$jscomp.arrayFromIterable(Oa.arr.withN(P*
Ha-oa.length,null)));return{extent:Oa.pt(sa,Ta),name:"paletteContainer",submorphs:oa.map(function(Ib){Ib=new Oa.ColorPaletteField({color:Ib&&Oa.Color.rgbHex(Ib),extent:Oa.pt(Kb.colorFieldWidth,Kb.colorFieldWidth)});Oa.connect(Ib,"updateColor",Kb,"color");return Ib})}}},{key:"switchPalette",value:function(oa){var Ha=oa.name,Kb=oa.colors;oa=oa.mod;var P=this.get("solidColorPalette"),sa=$jscomp.makeIterator(P.submorphs);sa.next();sa=sa.next().value;this.cachedPalette[Ha]=this.cachedPalette[Ha]||this.getPalette(Kb,
oa,Ha);P.submorphs=[this.cachedPalette[Ha],sa]}},{key:"getPaletteDescription",value:function(oa){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",custom:"Your personal set of customly defined colors.",materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",
flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[oa]}},{key:"updatePaletteDescription",value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function(oa){return Object.assign({name:oa},
{flatDesign:{colors:Oa.flatDesignColors,mod:11},materialDesign:{colors:Oa.materialDesignColors,mod:15},webSafe:{colors:Oa.webSafeColors,mod:12}}[oa])}},{key:"paletteConfig",value:function(){var oa,Ha={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[oa=new Oa.DropDownSelector({isHaloItem:!0,name:"paletteSelector",selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};
Oa.connect(oa,"selectedValue",this,"colorPalette");return Ha}}],[{key:"className",get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:Oa.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function(oa){this.setProperty("colorPalette",oa);this.switchPalette(this.getColorsFor(oa));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function(oa){this.setProperty("pivotColor",oa);this.get("harmony palette").update(this)}},
color:{set:function(oa){this.setProperty("color",oa);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var oa=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());oa.next();oa.next();return oa.next().value},set:function(oa){var Ha=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),Kb=Ha.next().value;Ha=Ha.next().value;this.pivotColor=Oa.Color.hsb(Kb,Ha,oa)}},harmony:{after:["submorphs","pivotColor"],
defaultValue:new Oa.Complementary,set:function(oa){this.setProperty("harmony",oa);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var oa=$jscomp.makeIterator(this.color.toHSB()),Ha=oa.next().value,Kb=oa.next().value;oa.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=Oa.Color.hsb(Ha,
Kb,1);Oa.connect(this.get("harmony palette"),"harmony",this,"harmony");Oa.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");Oa.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],Gd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:7946,end:15967})}(Oa.Morph));Oa.ColorPalette=Qa;Oa.ColorPalette=Qa;Oa.ColorPalette=Qa;var Aa=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");Aa.Morph=nd;Aa.Icon=Db;Aa.ProportionalLayout=Rb;Aa.config=vc;Aa.Text=qc;Aa.ShadowObject=jc;Aa.GridLayout=qb;Aa.TilingLayout=ld;Aa.StyleSheet=gd;Aa.morph=rb;Aa.HorizontalLayout=Cc;Aa.VerticalLayout=Hb;Aa.KeyHandler=cc;Aa.connect=Id;Aa.signal=hc;Aa.arr=xb;Aa.promise=Vc;Aa.fun=Bc;Aa.string=xc;Aa.obj=kc;Aa.Color=
ub;Aa.rect=Tb;Aa.Rectangle=Q;Aa.pt=$c;Aa.popovers=Ab;Aa.ModeSelector=ad;Aa.DropDownSelector=bc;Aa.SearchField=ea;Aa.CheckBox=Ga;Aa.Popover=td;Aa.SvgStyleHalo=Pc;Aa.NumberWidget=Vb;Aa.Icons=Ua;Aa.duration=200;var za=Ca("c",Aa.colorWidgets||{});Aa.colorWidgets=za;Aa.colorWidgets=za;Aa.colorWidgets=za;(function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Sb=Gd.hasOwnProperty("SelectableControl")&&"function"===typeof Gd.SelectableControl?Gd.SelectableControl:Gd.SelectableControl=
function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"select",value:function(oa){var Ha=this,Kb,P,sa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ta){if(1==Ta.nextAddress)return Ha.target?Ta.yield(Ha.target.execCommand(oa),2):Ta.return();Kb=Ta.yieldResult;P=Ha.get("modeSelector");Kb.opacity=0;Ha.lastLabel&&(sa=P.submorphs.indexOf(Ha.lastLabel)<P.submorphs.indexOf(P.currentLabel),Kb.topLeft=
P.bottomLeft.addXY(sa?20:-20,10));Ha.lastLabel=P.currentLabel;Ha.animate({submorphs:[P,Kb],duration:Aa.duration});Kb.animate({opacity:1,duration:Aa.duration});Ta.jumpToEnd()})}}],[{key:"className",get:function(){return"SelectableControl"}},{key:"properties",get:function(){return{target:{type:"Morph"},selectableControls:{},selectedControl:{},fill:{defaultValue:Aa.Color.transparent},layout:{initialize:function(){this.layout=new Aa.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function(oa){return this.container.submorphs.indexOf(oa)}})}},
submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var oa=new Aa.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});this.submorphs=[oa];oa.width=100;Aa.connect(oa,"switchLabel",this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],Gd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:946,end:2555})})(Aa.Morph);(function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Sb=Gd.hasOwnProperty("ToggledControl")&&"function"===typeof Gd.ToggledControl?Gd.ToggledControl:Gd.ToggledControl=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"toggle",value:function(oa){var Ha=$jscomp.makeIterator(this.submorphs).next().value,
Kb=this.toggledControl(oa);Ha=[Ha].concat($jscomp.arrayFromIterable(Kb?[Kb]:[]));Aa.signal(this,"update",oa&&Kb.value);Kb&&(Kb.opacity=0);this.animate({submorphs:Ha,duration:Aa.duration});Kb&&Kb.animate({opacity:1,duration:Aa.duration})}}],[{key:"className",get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:Aa.Color.transparent},layout:{initialize:function(){this.layout=
new Aa.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var oa=new Aa.CheckBox({checked:this.checked});this.submorphs=[{fill:Aa.Color.transparent,layout:new Aa.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:Aa.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},oa]}];this.toggle(this.checked);Aa.connect(oa,"toggle",this,"toggle")}}}}}],Gd,{pathInPackage:function(){return"styling/style-popover.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2557,end:4228})})(Aa.Morph);(function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Sb=Gd.hasOwnProperty("StylePopover")&&"function"===typeof Gd.StylePopover?Gd.StylePopover:Gd.StylePopover=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"setupConnections",value:function(){}},{key:"controls",value:function(){return[]}}],[{key:"className",get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=Aa.morph({layout:new Aa.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:Aa.Color.transparent,submorphs:this.controls()});this.setupConnections()}}}}}],Gd,{pathInPackage:function(){return"styling/style-popover.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4230,end:4772})})(Aa.Popover);var Ka=function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Sb=Gd.hasOwnProperty("IconPopover")&&"function"===typeof Gd.IconPopover?Gd.IconPopover:Gd.IconPopover=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"onDrop",value:function(oa){var Ha=this;oa.hand.grabbedMorphs.find(function(Kb){return Kb===Ha.iconLabel})&&(oa.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new Aa.VerticalLayout({spacing:4}),fill:Aa.Color.transparent,submorphs:[new Aa.SearchField({name:"searchInput",width:200,placeHolder:"Search Icons"}),Aa.morph({textAndAttributes:this.iconAsTextAttributes(),
name:"iconList",draggable:!0,type:"text",extent:Aa.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var oa=this.ui,Ha=oa.iconList;Aa.connect(oa.searchInput,"searchInput",this,"filterIcons");Aa.connect(Ha,"onMouseUp",this,"iconSelectClick");Aa.connect(Ha,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",value:function(oa){oa=this.ui.iconList.textPositionFromPoint(oa.positionIn(this.ui.iconList));
oa=this.iconAtTextPos(oa);this.iconLabel=Aa.Icon.makeLabel(oa,{fontSize:this.ui.iconList.fontSize,name:oa});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",value:function(oa){var Ha=Object.keys(Aa.Icons);oa&&(Ha=Ha.filter(oa));return Aa.arr.flatmap(Ha,function(Kb,P){return[Aa.Icons[Kb].code,{iconCode:Aa.Icons[Kb].code,iconName:Kb}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",value:function(){var oa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ha){if(1==
Ha.nextAddress)return Ha.yield(Aa.promise.delay(250),2);Aa.fun.debounceNamed("filterIcons",200,function(){oa.ui.iconList.textAndAttributes=oa.iconAsTextAttributes(function(Kb){return oa.ui.searchInput.matches(Kb.toLowerCase())})})();Ha.jumpToEnd()})}},{key:"iconSelectClick",value:function(oa){oa=this.ui.iconList.textPositionFromPoint(oa.positionIn(this.ui.iconList));oa=this.iconAtTextPos(oa);this.setStatusMessage(oa);Aa.signal(this,"select",oa)}},{key:"iconAtTextPos",value:function(oa){var Ha=oa.row;
oa=oa.column;--oa;for(var Kb=this.ui.iconList,P=Kb.textAndAttributesInRange({start:{row:Ha,column:Math.max(0,oa)},end:{row:Ha,column:oa+2}});P.length&&!P[1].iconName;)oa++,P=P.slice(2);var sa={start:{row:Ha,column:oa},end:{row:Ha,column:oa+1}};Kb.addTextAttribute({backgroundColor:Kb.selectionColor.darker().withA(.5)},sa);Aa.promise.delay(1E3).then(function(){return Kb.addTextAttribute({backgroundColor:Aa.Color.transparent},sa)});return P.length?P[1].iconName:null}}],[{key:"className",get:function(){return"IconPopover"}},
{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:Aa.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),iconList:this.get("iconList")}}}}}}],Gd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4781,
end:8324})}(Aa.StylePopover);Aa.IconPopover=Ka;Aa.IconPopover=Ka;Aa.IconPopover=Ka;var tb=function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Sb=Gd.hasOwnProperty("LayoutPopover")&&"function"===typeof Gd.LayoutPopover?Gd.LayoutPopover:Gd.LayoutPopover=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"getLayoutObjects",value:function(){return[null,new Aa.HorizontalLayout({autoResize:!1}),
new Aa.VerticalLayout({autoResize:!1}),new Aa.TilingLayout,new Aa.ProportionalLayout,new Aa.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){kb._get(Object.getPrototypeOf(Sb.prototype),"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:Aa.Color.transparent,layout:new Aa.VerticalLayout({spacing:5,layoutOrder:function(oa){return this.container.submorphs.indexOf(oa)}}),submorphs:[this.layoutPicker(),
this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),duration:300}:{isLayoutable:!1,extent:Aa.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function(oa){this.clearLayoutHalo();oa&&oa.layout&&(this.layoutHalo=(oa.world()||oa.env.world).showLayoutHaloFor(oa))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&
(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function(oa){return oa?oa.name()+" Layout":"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function(oa){this.container.animate({layout:oa});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());Aa.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var oa=
this,Ha=this.getLayoutObjects().map(function(Kb){var P={};return P[oa.getLayoutName(Kb)]=Kb,P});Ha=this.get("Layout Type")||new Aa.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return oa.getCurrentLayoutName()},selectedValue:this.container.layout,values:Aa.obj.merge(Ha)});Aa.connect(Ha,"selectedValue",this,"applyLayout");return Ha}},{key:"layoutControls",value:function(){return{name:"controlContainer",fill:Aa.Color.transparent,layout:new Aa.VerticalLayout,
isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:"className",get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:Aa.Color.gray.lighter()}}}}],Gd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:8333,end:11030})}(Aa.StylePopover);Aa.LayoutPopover=tb;Aa.LayoutPopover=tb;Aa.LayoutPopover=tb;var yb=function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Sb=Gd.hasOwnProperty("FillPopover")&&"function"===typeof Gd.FillPopover?Gd.FillPopover:Gd.FillPopover=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"openHandle",value:function(oa){oa.openInWorld();
this.openHandles.push(oa)}},{key:"close",value:function(){kb._get(Object.getPrototypeOf(Sb.prototype),"close",this).call(this);this.openHandles.forEach(function(oa){return oa.remove()})}},{key:"setupConnections",value:function(){var oa=this.ui,Ha=oa.fillSelector,Kb=oa.colorField;oa=oa.gradientEditor;Ha&&Aa.connect(this,"fillValue",Ha,"value");oa&&(Aa.connect(oa,"gradientValue",this,"fillValue"),Aa.connect(oa,"openHandle",this,"openHandle"));Kb&&(Aa.connect(this,"close",Kb,"remove"),Aa.connect(Kb,
"update",this,"fillValue"),Aa.connect(this,"onMouseDown",Kb,"removeWidgets"))}},{key:"commands",get:function(){var oa=this;return kb._get(Object.getPrototypeOf(Sb.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var Ha=new Aa.colorWidgets.ColorPickerField({name:"colorField",colorValue:oa.fillValue.isGradient?Aa.Color.blue:oa.fillValue});Ha.whenRendered().then(function(){oa.setupConnections()});return Ha}},{name:"switch to gradient",exec:function(){var Ha=new Aa.colorWidgets.GradientEditor({name:"gradient editor",
gradientValue:oa.fillValue});Ha.whenRendered().then(function(){oa.setupConnections();oa.handleMorph&&Ha.showGradientHandlesOn(oa.handleMorph);Ha.update()});return Ha}}])}},{key:"controls",value:function(){return this.gradientEnabled?[new Aa.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]:[{fill:Aa.Color.transparent,layout:new Aa.VerticalLayout({spacing:0}),
submorphs:[new Aa.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue})]}]}}],[{key:"className",get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},fillValue:{defaultValue:Aa.Color.blue},popoverColor:{defaultValue:Aa.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],
Gd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:11039,end:13883})}(Aa.StylePopover);Aa.FillPopover=yb;Aa.FillPopover=yb;Aa.FillPopover=yb;var zc=Ca("S",function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Sb=Gd.hasOwnProperty("ShadowPopover")&&
"function"===typeof Gd.ShadowPopover?Gd.ShadowPopover:Gd.ShadowPopover=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"controls",value:function(){var oa=this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",Ha=[{layout:new Aa.VerticalLayout({resizeContainer:!0,spacing:5}),fill:Aa.Color.transparent,name:"control container",submorphs:[oa=new Aa.DropDownSelector({name:"shadow type",
borderRadius:2,padding:3,selectedValue:oa,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?this.shadowControls():[])}];Aa.connect(oa,"selectedValue",this,"changeShadowType");return Ha}},{key:"shadowControls",value:function(){var oa=this.shadowValue,Ha=new Aa.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:oa.distance,unit:"px"}),Kb=new Aa.NumberWidget({name:"angleSlider",min:0,max:360,number:oa.rotation,autofit:!1}),P=new Aa.NumberWidget({name:"spreadSlider",
min:0,number:oa.spread,autofit:!1}),sa=new Aa.NumberWidget({name:"blurSlider",min:0,number:oa.blur,autofit:!1});oa=new Aa.colorWidgets.ColorPickerField({name:"colorPicker",colorValue:oa.color});Aa.connect(oa,"colorValue",this,"updateShadow",{converter:function(Ta){return{color:Ta}}});Aa.connect(this,"onMouseDown",oa,"removeWidgets");Aa.connect(this,"close",oa,"remove");Aa.connect(P,"update",this,"updateShadow",{converter:function(Ta){return{spread:Ta}}});Aa.connect(Ha,"update",this,"updateShadow",
{converter:function(Ta){return{distance:Ta}}});Aa.connect(sa,"update",this,"updateShadow",{converter:function(Ta){return{blur:Ta}}});Aa.connect(Kb,"update",this,"updateShadow",{converter:function(Ta){return{rotation:Ta}}});return new Aa.Morph({layout:new Aa.GridLayout({autoAssign:!1,fitToCell:!1,columns:[0,{paddingLeft:1}],rows:Aa.arr.flatten(Aa.arr.range(0,3).map(function(Ta){return[Ta,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",null,"distanceSlider"],["blurLabel",
null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:Aa.Color.transparent,submorphs:Aa.arr.flatten([["distance",Ha],["spread",P],["blur",sa],["angle",Kb],["color",oa]].map(function(Ta){var Ib=$jscomp.makeIterator(Ta);Ta=Ib.next().value;Ib=Ib.next().value;return[{type:"label",styleClasses:["controlName"],value:Aa.string.capitalize(Ta)+":",name:Ta+"Label"},Ib]}))})}},{key:"changeShadowType",value:function(oa){"No Shadow"==oa?this.toggleShadow(!1):
"Inset Shadow"==oa?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?this.shadowControls():[]),duration:300})}},{key:"updateShadow",value:function(oa){var Ha=this.shadowValue;oa=Object.assign({fast:Ha.fast,color:Ha.color,spread:Ha.spread,blur:Ha.blur,distance:Ha.distance,rotation:Ha.rotation,inset:Ha.inset},oa);this.shadowValue=new Aa.ShadowObject(oa)}},
{key:"toggleShadow",value:function(oa){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=oa&&this.cachedShadow}}],[{key:"className",get:function(){return"ShadowPopover"}},{key:"properties",get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new Aa.ShadowObject({fast:!0})},popoverColor:{defaultValue:Aa.Color.gray.lighter()}}}}],Gd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:13892,end:18423})}(Aa.StylePopover));Aa.ShadowPopover=zc;Aa.ShadowPopover=zc;Aa.ShadowPopover=zc;Aa.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";var pd=function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Sb=Gd.hasOwnProperty("PointPopover")&&"function"===typeof Gd.PointPopover?Gd.PointPopover:Gd.PointPopover=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"refineResolution",value:function(oa){this.resolution=.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function(oa){this.pointValue=this.pointValue.addPt(oa.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){kb._get(Object.getPrototypeOf(Sb.prototype),"relayout",this).call(this);var oa=this.getSubmorphNamed("mesh"),Ha=this.getSubmorphNamed("point value view");
oa.origin=oa.innerBounds().center().addXY(4,1);oa.position=this.get("body").innerBounds().center();oa.scale=this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";Ha.value=Aa.obj.safeToString(this.pointValue);Ha.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function(oa){var Ha=this;kb._get(Object.getPrototypeOf(Sb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,oa);
this.whenRendered().then(function(){return Ha.relayout()})}},{key:"calibrate",value:function(){var oa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ha){if(1==Ha.nextAddress)return oa.get("knob").animate({center:oa.innerBounds().center(),duration:200}),Ha.yield(oa.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);oa.relayout();Ha.jumpToEnd()})}},{key:"showPointValue",value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},
{key:"controls",value:function(){this.extent=Aa.pt(200,200);var oa,Ha,Kb=[Aa.morph({extent:Aa.pt(200,200),clipMode:"hidden",fill:Aa.Color.transparent,submorphs:[{type:"image",name:"mesh",fill:Aa.Color.transparent,opacity:.5,imageUrl:Aa.milimeter,autoResize:!0},{extent:Aa.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:Aa.Color.gray},fill:Aa.Color.transparent},oa=Aa.morph({name:"scroller",extent:Aa.pt(200,200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),
Ha=Aa.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:Aa.Color.red,borderColor:Aa.Color.black,borderWidth:1,center:Aa.pt(100,100)}),{type:"label",name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:Aa.pt(10,10),type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];oa.scroll=Aa.pt(0,120);Aa.connect(Ha,"onDragStart",this,"showPointValue");Aa.connect(Ha,"onDrag",this,"adjustPoint");Aa.connect(Ha,"onDragEnd",this,"calibrate");Aa.connect(this,
"extent",this,"relayout");Aa.connect(oa,"onScroll",this,"refineResolution");return Kb}}],[{key:"className",get:function(){return"PointPopover"}},{key:"properties",get:function(){return{pointValue:{defaultValue:Aa.pt(0,0)},resolution:{defaultValue:1}}}}],Gd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:18538,end:21666})}(Aa.StylePopover);Aa.PointPopover=pd;Aa.PointPopover=pd;Aa.PointPopover=pd;var Yd=function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Sb=Gd.hasOwnProperty("RectanglePopover")&&"function"===typeof Gd.RectanglePopover?Gd.RectanglePopover:Gd.RectanglePopover=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"controls",
value:function(){var oa=this;return[{fill:Aa.Color.transparent,extent:Aa.pt(120,120),layout:new Aa.GridLayout({grid:[["top","top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],columns:[0,{paddingLeft:4},1,{paddingRight:4,fixed:!0,width:60}],rows:Aa.arr.flatten(Aa.arr.range(0,3).map(function(Ha){return[Ha,{paddingTop:0==Ha?4:2,paddingBottom:3==Ha?4:2}]}))}),submorphs:Aa.arr.flatten(["top","right","bottom","left"].map(function(Ha){var Kb=new Aa.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},
name:Ha+" scrubber",autofit:!1,number:oa.rectangle.partNamed(Ha)});Aa.connect(Kb,"update",oa,"rectangle",{updater:function(P,sa){var Ta={},Ib=this.targetObj.rectangle;sa=(Ta.left=Ib.left(),Ta.top=Ib.top(),Ta.right=Ib.right(),Ta.bottom=Ib.bottom(),Ta[Ha]=sa,Ta);P(Aa.Rectangle.inset(sa.left,sa.top,sa.right,sa.bottom))},varMapping:{side:Ha,Rectangle:Q}});return[{type:"label",styleClasses:["controlName"],name:Ha,value:Ha,padding:3},Kb]}))}]}}],[{key:"className",get:function(){return"RectanglePopover"}},
{key:"properties",get:function(){return{popoverColor:{defaultValue:Aa.Color.gray.lighter()},rectangle:{defaultValue:Aa.rect(0)}}}}],Gd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:21675,end:23653})}(Aa.StylePopover);Aa.RectanglePopover=Yd;Aa.RectanglePopover=Yd;Aa.RectanglePopover=
Yd;var Ge=function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Sb=Gd.hasOwnProperty("TextPopover")&&"function"===typeof Gd.TextPopover?Gd.TextPopover:Gd.TextPopover=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"controls",value:function(){var oa=new Aa.Text(Object.assign({name:"editor",extent:Aa.pt(300,200),textString:this.text,lineWrapping:"by-chars"},
Aa.config.codeEditor.defaultStyle));return[{layout:new Aa.HorizontalLayout,fill:Aa.Color.transparent,borderColor:Aa.Color.gray,borderWidth:1,borderRadius:4,clipMode:"hidden",submorphs:[oa]}]}},{key:"commands",get:function(){return kb._get(Object.getPrototypeOf(Sb.prototype),"commands",this).concat([{name:"save string",exec:function(oa){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ha){oa.text=oa.get("editor").textString;Aa.signal(oa,"save",oa.text);oa.setStatusMessage("String saved!",
Aa.Color.green);Ha.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return kb._get(Object.getPrototypeOf(Sb.prototype),"keybindings",this).concat([{keys:{mac:"Command-S",win:"Ctrl-S"},command:"save string"}])}}],[{key:"className",get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],Gd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:23662,end:24776})}(Aa.StylePopover);Aa.TextPopover=Ge;Aa.TextPopover=Ge;Aa.TextPopover=Ge;Object.assign(Aa.popovers,{FillPopover:yb,IconPopover:Ka,RectanglePopover:Yd,ShadowPopover:zc,PointPopover:pd,LayoutPopover:tb});var Sc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");Sc.Morph=nd;Sc.morph=rb;Sc.StyleSheet=gd;Sc.Text=qc;Sc.Icon=Db;Sc.VerticalLayout=Hb;Sc.GridLayout=qb;Sc.HorizontalLayout=Cc;Sc.pt=$c;
Sc.Rectangle=Q;Sc.Color=ub;Sc.LinearGradient=fc;Sc.rect=Tb;Sc.signal=hc;Sc.once=Fb;Sc.connect=Id;Sc.obj=kc;Sc.Window=Va;Sc.ColorPalette=Qa;Sc.FillPopover=yb;Sc.colorWidgets=za;Sc.Slider=ed;Sc.Popover=td;Sc.WHEEL_URL="/lively.ide/assets/color-wheel.png";Qa=function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Sb=Gd.hasOwnProperty("ColorPickerField")&&"function"===typeof Gd.ColorPickerField?Gd.ColorPickerField:Gd.ColorPickerField=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"testAttr",get:function(){return[42]}},{key:"spec",value:function(){return Sc.obj.dissoc(kb._get(Object.getPrototypeOf(Sb.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function(oa){"Escape"==oa.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,
duration:300})}},{key:"onHoverOut",value:function(){this.get("dropDownIndicator").animate({opacity:0,duration:300})}},{key:"update",value:function(oa){this._updating=!0;var Ha=this.submorphs[1];this.colorValue=oa;this.get("topLeft").fill=oa;this.get("bottomRight").fill=oa.isGradient?Sc.Color.transparent:oa.withA(1);Ha.visible=Ha.isLayoutable=!this.gradientEnabled;this.gradientEnabled?this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=
this.get("topLeft").width=this.width-Ha.width;this.get("dropDownIndicator").right=this.width-10;this._updating=!1}},{key:"openPicker",value:function(oa){var Ha=this,Kb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(P){Kb=Ha.picker||new Sc.ColorPicker({color:Ha.colorValue});Kb.position=Sc.pt(0,-Kb.height/2);Sc.connect(Kb,"color",Ha,"update");Ha.picker=Kb.openInWorld();Ha.picker.topLeft=Ha.globalBounds().bottomCenter();Ha.picker.topLeft=Ha.world().visibleBounds().translateForInclusion(Ha.picker.globalBounds()).topLeft();
Ha.removePalette();P.jumpToEnd()})}},{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function(oa){var Ha=this,Kb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(P){if(1==P.nextAddress)return Kb=Ha.gradientEnabled?Ha.fillWidget:Ha.palette,Ha.gradientEnabled?Sc.connect(Kb,"fillValue",Ha,"update"):Sc.connect(Kb.targetMorph,"color",Ha,"update"),Kb.isLayoutable=!1,P.yield(Kb.openInWorld(),2);Kb.topCenter=Ha.get("paletteButton").globalBounds().center();
Kb.topCenter=Ha.world().visibleBounds().translateForInclusion(Kb.globalBounds()).topCenter();Ha.removePicker();Sc.once(Kb,"remove",Kb,"topLeft",{converter:function(){return Sc.pt(0,0)},varMapping:{pt:$c}});P.jumpToEnd()})}},{key:"removePalette",value:function(){this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove()}},{key:"removeWidgets",value:function(){this.removePalette();this.removePicker()}}],[{key:"className",get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,
after:["colorValue"],set:function(oa){this.setProperty("gradientEnabled",oa);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new Sc.FillPopover({fillValue:this.colorValue})}},testProp:{get:function(){return[42]}},palette:{serialize:!1,get:function(){return this._palette||(this._palette=new Sc.Popover({position:Sc.pt(0,0),name:"Color Palette",targetMorph:new Sc.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function(oa){oa&&
(oa.isColor||oa.isGradient)||(oa=Sc.Color.blue);if(!this._updating)return this.update(oa);this.setProperty("colorValue",oa)},get:function(){return this.getProperty("colorValue")||Sc.Color.white}},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color field"}}},submorphs:{initialize:function(){this.innerBounds().topRight();this.innerBounds().bottomLeft();var oa=Sc.pt(40,25);this.submorphs=[{extent:oa,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:oa},
{name:"bottomRight",type:"polygon",extent:oa,origin:Sc.pt(0,0),vertices:[Sc.pt(0,0),oa.withX(0),oa]},Sc.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:Sc.pt(30,12.5)})]},{fill:Sc.Color.transparent,extent:Sc.pt(25,25),onHoverIn:function(){this.fill=Sc.Color.black.withA(.2)},onHoverOut:function(){this.fill=Sc.Color.transparent},submorphs:[{name:"pickerButton",type:"image",autoResize:!1,imageUrl:Sc.WHEEL_URL}]}];Sc.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",
this,"openPicker");Sc.connect(this.getSubmorphNamed("paletteButton"),"onMouseDown",this,"openPalette");Sc.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],Gd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:627,end:6277})}(Sc.Morph);
Sc.ColorPickerField=Qa;Sc.ColorPickerField=Qa;Sc.ColorPickerField=Qa;Sc.colorWidgets.ColorPickerField=Sc.ColorPickerField;(function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Sb=Gd.hasOwnProperty("FieldPicker")&&"function"===typeof Gd.FieldPicker?Gd.FieldPicker:Gd.FieldPicker=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"update",value:function(oa){this.getSubmorphNamed("hue").fill=
Sc.Color.hsb(oa.hue,1,1);this.brightness=oa.brightness;this.saturation=oa.saturation;this.get("picker").center=this.pickerPosition}},{key:"onMouseDown",value:function(oa){this.pickerPosition=oa.positionIn(this);Sc.signal(this,"pickerPosition",this.pickerPosition)}},{key:"onDrag",value:function(oa){this.pickerPosition=oa.positionIn(this)}},{key:"relayout",value:function(){var oa=this.innerBounds();this.getSubmorphNamed("hue").setBounds(oa);this.getSubmorphNamed("shade").setBounds(oa);this.getSubmorphNamed("light").setBounds(oa)}}],
[{key:"className",get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:Sc.Color.transparent},saturation:{defaultValue:0},brightness:{defaultValue:0},draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var oa=this.saturation,Ha=this.brightness;return void 0===oa||void 0===Ha?Sc.pt(0,0):Sc.pt(this.getSubmorphNamed("hue").width*oa,this.getSubmorphNamed("hue").height*(1-Ha))},set:function(oa){var Ha=
oa.x;oa=oa.y;var Kb=this.getSubmorphNamed("hue"),P=Kb.height;this.saturation=Math.max(0,Math.min(Ha/Kb.width,1));this.brightness=Math.max(0,Math.min(1-oa/P,1));Sc.signal(this,"saturation",this.saturation);Sc.signal(this,"brightness",this.brightness)}},submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new Sc.LinearGradient({stops:[{color:Sc.Color.white,offset:0},{color:Sc.Color.transparent,offset:1}],
vector:"eastwest"})},{borderRadius:3,name:"light",reactsToPointer:!1,fill:new Sc.LinearGradient({stops:[{color:Sc.Color.black,offset:0},{color:Sc.Color.transparent,offset:1}],vector:"southnorth"})},{name:"picker",type:"ellipse",reactsToPointer:!1,fill:Sc.Color.transparent,borderColor:Sc.Color.black,borderWidth:3,extent:Sc.pt(16,16),submorphs:[{type:"ellipse",fill:Sc.Color.transparent,borderColor:Sc.Color.white,reactsToPointer:!1,borderWidth:3,center:Sc.pt(8,8),extent:Sc.pt(12,12)}]}];Sc.connect(this,
"extent",this,"relayout")}}}}}],Gd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:6330,end:9661})})(Sc.Morph);(function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Sb=Gd.hasOwnProperty("ColorPropertyView")&&"function"===typeof Gd.ColorPropertyView?
Gd.ColorPropertyView:Gd.ColorPropertyView=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=["key"].concat($jscomp.arrayFromIterable(this.readOnly?[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=
[!this.readOnly&&"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function(oa){"Enter"!=oa.keyCombo||this.readOnly?kb._get(Object.getPrototypeOf(Sb.prototype),"onKeyDown",this).call(this,oa):(this.owner.focus(),oa.stop(),Sc.signal(this,"updateValue",this.value))}}],[{key:"className",get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},value:{derived:[!0],set:function(oa){this.textString=
Sc.obj.safeToString(oa)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:Sc.Color.gray.darker()}}}}],Gd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},
{start:9663,end:10845})})(Sc.Text);(function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Sb=Gd.hasOwnProperty("HuePicker")&&"function"===typeof Gd.HuePicker?Gd.HuePicker:Gd.HuePicker=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"onMouseDown",value:function(oa){this.sliderPosition=Sc.pt(0,oa.positionIn(this).y)}},{key:"onDrag",value:function(oa){this.sliderPosition=
Sc.pt(0,oa.positionIn(this).y)}},{key:"update",value:function(oa){this.hue=oa.hue;this.get("slider").center=this.sliderPosition}}],[{key:"className",get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new Sc.LinearGradient({stops:[{color:Sc.Color.rgb(255,0,0),offset:0},{color:Sc.Color.rgb(255,255,0),offset:.17},{color:Sc.Color.limeGreen,offset:.33},{color:Sc.Color.cyan,offset:.5},{color:Sc.Color.blue,offset:.66},{color:Sc.Color.magenta,offset:.83},{color:Sc.Color.rgb(255,
0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return Sc.pt(this.width/2,this.hue/360*this.height)},set:function(oa){this.hue=Math.max(0,Math.min(oa.y/this.height*360,359));Sc.signal(this,"hue",this.hue)}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:Sc.Color.black,fill:Sc.Color.transparent,
borderWidth:2}]}}}}}],Gd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:10847,end:12528})})(Sc.Morph);(function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Sb=Gd.hasOwnProperty("ColorDetails")&&"function"===typeof Gd.ColorDetails?Gd.ColorDetails:
Gd.ColorDetails=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"update",value:function(oa){oa=oa.color;var Ha=$jscomp.makeIterator(oa.toTuple8Bit()),Kb=Ha.next().value,P=Ha.next().value;Ha=Ha.next().value;var sa=$jscomp.makeIterator(oa.toHSB()),Ta=sa.next().value,Ib=sa.next().value;sa=sa.next().value;var Lc=this.get("hashViewer");this.get("colorViewer").fill=oa;Lc.replace(Lc.documentRange,oa.toHexString(),
!1,!1);this.get("R").value="R "+Kb.toFixed(0)+"\n\nG "+P.toFixed(0)+"\n\nB "+Ha.toFixed(0)+"\n\nH "+Ta.toFixed(0)+"\n\nS "+Ib.toFixed(2)+"\n\nV "+sa.toFixed(2)}},{key:"onHashViewerChanged",value:function(oa){oa=Sc.Color.rgbHex(oa);this.owner.owner.color=oa}},{key:"keyValue",value:function(oa){var Ha=oa.name,Kb=oa.key,P=oa.value,sa=oa.update;oa=oa.editable;return new Sc.Morph({fill:Sc.Color.transparent,layout:new Sc.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",styleClasses:[oa&&
"large","key"],value:Kb},new Sc.ColorPropertyView({name:Ha||Kb,readOnly:!oa,value:P,update:sa})]})}},{key:"hashViewer",value:function(){var oa=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});Sc.connect(oa.get("hashViewer"),"updateValue",this,"onHashViewerChanged");return oa}},{key:"rgbViewer",value:function(){var oa=$jscomp.makeIterator(this.color.toTuple8Bit()),Ha=oa.next().value,Kb=oa.next().value;oa=oa.next().value;return new Sc.Morph({name:"rgbViewer",fill:Sc.Color.transparent,
submorphs:[this.keyValue({key:"R",value:Ha.toFixed()}),this.keyValue({key:"G",value:Kb.toFixed()}),this.keyValue({key:"B",value:oa.toFixed()})]})}},{key:"hsbViewer",value:function(){var oa=$jscomp.makeIterator(this.color.toHSB()),Ha=oa.next().value,Kb=oa.next().value;oa=oa.next().value;return new Sc.Morph({name:"hsbViewer",fill:Sc.Color.transparent,submorphs:[this.keyValue({key:"H",value:Ha.toFixed()}),this.keyValue({key:"S",value:Kb.toFixed(2)}),this.keyValue({key:"V",value:oa.toFixed(2)})]})}}],
[{key:"className",get:function(){return"ColorDetails"}},{key:"properties",get:function(){return{color:{defaultValue:Sc.Color.blue},width:{defaultValue:80},fill:{defaultValue:Sc.Color.transparent},layout:{initialize:function(){this.layout=new Sc.VerticalLayout({spacing:9,layoutOrder:function(oa){return this.container.submorphs.indexOf(oa)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:Sc.pt(50,50),name:"colorViewer",fill:this.color},this.hashViewer(),{type:"label",
name:"R",autofit:!0,padding:Sc.rect(10,0,0,0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],Gd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12530,end:15253})})(Sc.Morph);Qa=Ca("a",function(ye){var Gd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),
Sb=Gd.hasOwnProperty("ColorPicker")&&"function"===typeof Gd.ColorPicker?Gd.ColorPicker:Gd.ColorPicker=function(oa){oa&&oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kb(Sb,ye,[{key:"onKeyDown",value:function(oa){"Escape"==oa.key&&this.close()}},{key:"close",value:function(){kb._get(Object.getPrototypeOf(Sb.prototype),"close",this).call(this);Sc.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&
(this.get("header").fill=Sc.Color.transparent,this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),Sc.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var oa=this.colorDetails(),Ha=this.fieldPicker(),Kb=this.huePicker(),P=this.alphaSlider();oa=new Sc.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[Ha,Kb,oa,P]});Sc.connect(Ha,
"brightness",this,"brightness");Sc.connect(Ha,"saturation",this,"saturation");Sc.connect(Kb,"hue",this,"hue");return oa}},{key:"alphaSlider",value:function(){var oa,Ha=Sc.morph({name:"alphaSlider",fill:Sc.Color.transparent,layout:new Sc.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:Sc.Rectangle.inset(3),value:"Alpha",fontColor:Sc.Color.gray,fontWeight:"bold"},oa=new Sc.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});Sc.connect(oa,"value",this,"alpha");return Ha}},
{key:"fieldPicker",value:function(){return new Sc.FieldPicker({name:"field picker",saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new Sc.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new Sc.ColorDetails({name:"details",color:this.color})}}],[{key:"className",get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:Sc.pt(400,320)},fill:{defaultValue:Sc.Color.black.withA(.7)},
isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},hasFixedPosition:{defaultValue:!0},color:{defaultValue:Sc.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return Sc.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function(oa){var Ha=$jscomp.makeIterator(oa.toHSB()),Kb=Ha.next().value,P=Ha.next().value;Ha=Ha.next().value;this.hue=Kb;this.saturation=P;this.brightness=Ha;this.alpha=oa.a}},alpha:{set:function(oa){this.setProperty("alpha",oa);
this.update()}},saturation:{},brightness:{set:function(oa){this.setProperty("brightness",oa);this.update()}},hue:{set:function(oa){this.setProperty("hue",oa);this.update()}},targetMorph:{initialize:function(){var oa=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=Sc.Color.gray;this.ui.header.fill=Sc.Color.transparent;this.whenRendered().then(function(){oa.fill=Sc.Color.black.withA(.7);oa.update()})}}}}}],Gd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15262,end:19120})}(Sc.Window));Sc.ColorPicker=Qa;Sc.ColorPicker=Qa;Sc.ColorPicker=Qa}}});
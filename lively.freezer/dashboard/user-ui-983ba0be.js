System.register(["./__root_module__-f418f9fd.js","lively.collab","kld-intersections"],function(Ha,tb){var Ab,kc,ac,Ld,Tc,$d,Uc,Pc,Jd,pe,Ze,Ff,te,Bc,sd,le,jc,je,Ae,Dc,Mc,bc,Gc,Zc,Rd,Kd;return{setters:[function(rb){Ab=rb.$;kc=rb.aO;ac=rb.a6;Ld=rb.a7;Tc=rb.r;$d=rb.a3;Uc=rb.a1;Pc=rb.C;Jd=rb.aF;pe=rb.ak;Ze=rb.aG;Ff=rb.ab;te=rb.aa;Bc=rb.a_;sd=rb.aK;le=rb.ad;jc=rb.av;je=rb.bb;Ae=rb.b0;Dc=rb.g;Mc=rb.bN;bc=rb.bO;Gc=rb.ag;Zc=rb.L;Rd=rb.bP;Kd=rb.aJ},function(){},function(){}],execute:function(){var rb=window.gapi=
window.gapi||{};rb._bs=(new Date).getTime();(function(){function Bb(aa){if(Error.captureStackTrace)Error.captureStackTrace(this,Bb);else{var sa=Error().stack;sa&&(this.stack=sa)}aa&&(this.message=String(aa))}function Va(aa){var sa=aa.length;if(0<sa){for(var bb=Array(sa),pb=0;pb<sa;pb++)bb[pb]=aa[pb];return bb}return[]}function Ta(aa){if(0!==aa.indexOf("GCSC"))return null;var sa={X:!1};aa=aa.substr(4);if(!aa)return sa;var bb=aa.charAt(0);aa=aa.substr(1);var pb=aa.lastIndexOf("_");if(-1==pb)return sa;
var Sb=Wk(aa.substr(pb+1));if(null==Sb)return sa;aa=aa.substring(0,pb);if("_"!==aa.charAt(0))return sa;pb="E"===bb&&Sb.j;return!pb&&("U"!==bb||Sb.j)||pb&&!Am?sa:{X:!0,j:pb,la:aa.substr(1),domain:Sb.domain,o:Sb.o}}var xa="function"==typeof Object.defineProperties?Object.defineProperty:function(aa,sa,bb){if(aa==Array.prototype||aa==Object.prototype)return aa;aa[sa]=bb.value;return aa},wa=function(aa){aa=["object"==typeof globalThis&&globalThis,aa,"object"==typeof window&&window,"object"==typeof self&&
self,"object"==typeof global&&global];for(var sa=0;sa<aa.length;++sa){var bb=aa[sa];if(bb&&bb.Math==Math)return bb}throw Error("Cannot find global object");}(this),Qa=function(aa,sa){if(sa)a:{var bb=wa;aa=aa.split(".");for(var pb=0;pb<aa.length-1;pb++){var Sb=aa[pb];if(!(Sb in bb))break a;bb=bb[Sb]}aa=aa[aa.length-1];pb=bb[aa];sa=sa(pb);sa!=pb&&null!=sa&&xa(bb,aa,{configurable:!0,writable:!0,value:sa})}},Eb=function(aa){var sa=0;return function(){return sa<aa.length?{done:!1,value:aa[sa++]}:{done:!0}}};
Qa("Symbol",function(aa){if(aa)return aa;var sa=function(Sb,sc){this.ca=Sb;xa(this,"description",{configurable:!0,writable:!0,value:sc})};sa.prototype.toString=function(){return this.ca};var bb=0,pb=function(Sb){if(this instanceof pb)throw new TypeError("Symbol is not a constructor");return new sa("jscomp_symbol_"+(Sb||"")+"_"+bb++,Sb)};return pb});Qa("Symbol.iterator",function(aa){if(aa)return aa;aa=Symbol("Symbol.iterator");for(var sa="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),
bb=0;bb<sa.length;bb++){var pb=wa[sa[bb]];"function"===typeof pb&&"function"!=typeof pb.prototype[aa]&&xa(pb.prototype,aa,{configurable:!0,writable:!0,value:function(){return rc(Eb(this))}})}return aa});var rc=function(aa){aa={next:aa};aa[Symbol.iterator]=function(){return this};return aa},qb=function(aa,sa){aa instanceof String&&(aa+="");var bb=0,pb=!1,Sb={next:function(){if(!pb&&bb<aa.length){var sc=bb++;return{value:sa(sc,aa[sc]),done:!1}}pb=!0;return{done:!0,value:void 0}}};Sb[Symbol.iterator]=
function(){return Sb};return Sb};Qa("Array.prototype.keys",function(aa){return aa?aa:function(){return qb(this,function(sa){return sa})}});var sb=this||self,kb=function(aa){var sa=typeof aa;return"object"!=sa?sa:aa?Array.isArray(aa)?"array":sa:"null"},ha=function(aa){var sa=kb(aa);return"array"==sa||"object"==sa&&"number"==typeof aa.length},Pa=function(aa){var sa=typeof aa;return"object"==sa&&null!=aa||"function"==sa},T=function(aa,sa,bb){return aa.call.apply(aa.bind,arguments)},ia=function(aa,sa,
bb){if(!aa)throw Error();if(2<arguments.length){var pb=Array.prototype.slice.call(arguments,2);return function(){var Sb=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(Sb,pb);return aa.apply(sa,Sb)}}return function(){return aa.apply(sa,arguments)}},Fa=function(aa,sa,bb){Fa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?T:ia;return Fa.apply(null,arguments)},$a=function(aa,sa){function bb(){}bb.prototype=sa.prototype;aa.pa=sa.prototype;aa.prototype=
new bb;aa.prototype.constructor=aa;aa.B=function(pb,Sb,sc){for(var wd=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)wd[Ie-2]=arguments[Ie];return sa.prototype[Sb].apply(pb,wd)}},zb=function(aa){return aa},Cc=function(aa){var sa=null,bb=sb.trustedTypes;if(!bb||!bb.createPolicy)return sa;try{sa=bb.createPolicy(aa,{createHTML:zb,createScript:zb,createScriptURL:zb})}catch(pb){sb.console&&sb.console.error(pb.message)}return sa};$a(Bb,Error);Bb.prototype.name="CustomError";var Ba,Ca=function(aa,
sa){aa=aa.split("%s");for(var bb="",pb=aa.length-1,Sb=0;Sb<pb;Sb++)bb+=aa[Sb]+(Sb<sa.length?sa[Sb]:"%s");Bb.call(this,bb+aa[pb])};$a(Ca,Bb);Ca.prototype.name="AssertionError";var Nb=function(aa,sa,bb,pb){var Sb="Assertion failed";if(bb){Sb+=": "+bb;var sc=pb}else aa&&(Sb+=": "+aa,sc=sa);throw new Ca(""+Sb,sc||[]);},Ec=function(aa,sa,bb){aa||Nb("",null,sa,Array.prototype.slice.call(arguments,2));return aa},fb=function(aa,sa){throw new Ca("Failure"+(aa?": "+aa:""),Array.prototype.slice.call(arguments,
1));},td=function(aa,sa,bb){"string"!==typeof aa&&Nb("Expected string but got %s: %s.",[kb(aa),aa],sa,Array.prototype.slice.call(arguments,2))},Xd=Array.prototype.forEach?function(aa,sa){Ec(null!=aa.length);Array.prototype.forEach.call(aa,sa,void 0)}:function(aa,sa){for(var bb=aa.length,pb="string"===typeof aa?aa.split(""):aa,Sb=0;Sb<bb;Sb++)Sb in pb&&sa.call(void 0,pb[Sb],Sb,aa)},ae=function(aa,sa){a:{try{var bb=aa&&aa.ownerDocument,pb=bb&&(bb.defaultView||bb.parentWindow);pb=pb||sb;if(pb.Element&&
pb.Location){bb=pb;break a}}catch(sc){}bb=null}if(bb&&"undefined"!=typeof bb[sa]&&(!aa||!(aa instanceof bb[sa])&&(aa instanceof bb.Location||aa instanceof bb.Element))){if(Pa(aa))try{var Sb=aa.constructor.displayName||aa.constructor.name||Object.prototype.toString.call(aa)}catch(sc){Sb="<object could not be stringified>"}else Sb=void 0===aa?"undefined":null===aa?"null":typeof aa;fb("Argument is not a %s (or a non-Element, non-Location mock); got: %s",sa,Sb)}return aa},Bf=/&/g,ie=/</g,Zf=/>/g,Hg=/"/g,
Wc=/'/g,vc=/\x00/g,yf=/[\x00&<>"']/;a:{var tc=sb.navigator;if(tc){var wb=tc.userAgent;if(wb){var uc=wb;break a}}uc=""}var Q=function(aa,sa){for(var bb in aa)sa.call(void 0,aa[bb],bb,aa)},Da="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ib=function(aa,sa){for(var bb,pb,Sb=1;Sb<arguments.length;Sb++){pb=arguments[Sb];for(bb in pb)aa[bb]=pb[bb];for(var sc=0;sc<Da.length;sc++)bb=Da[sc],Object.prototype.hasOwnProperty.call(pb,bb)&&(aa[bb]=pb[bb])}},
Kb,pc=function(aa,sa){this.S=aa===id&&sa||"";this.da=rd};pc.prototype.F=!0;pc.prototype.D=function(){return this.S};pc.prototype.toString=function(){return"Const{"+this.S+"}"};var Wb=function(aa){if(aa instanceof pc&&aa.constructor===pc&&aa.da===rd)return aa.S;fb("expected object of type Const, got '"+aa+"'");return"type_error:Const"},rd={},id={},oe=function(aa,sa){this.P=sa===af?aa:""};oe.prototype.F=!0;oe.prototype.D=function(){return this.P.toString()};oe.prototype.toString=function(){return this.P.toString()};
var Tf=function(aa){if(aa instanceof oe&&aa.constructor===oe)return aa.P;fb("expected object of type SafeUrl, got '"+aa+"' of type "+kb(aa));return"type_error:SafeUrl"},Ce=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,$e=function(aa){if(aa instanceof oe)return aa;aa="object"==typeof aa&&aa.F?aa.D():String(aa);Ec(Ce.test(aa),"%s does not match the safe URL pattern",aa)||(aa="about:invalid#zClosurez");return new oe(aa,af)},af={},of=function(aa,sa,bb){this.O=bb===gg?aa:""};of.prototype.F=!0;of.prototype.D=
function(){return this.O.toString()};of.prototype.toString=function(){return this.O.toString()};var pd=function(aa){if(aa instanceof of&&aa.constructor===of)return aa.O;fb("expected object of type SafeHtml, got '"+aa+"' of type "+kb(aa));return"type_error:SafeHtml"},gg={},Sf=new of(sb.trustedTypes&&sb.trustedTypes.emptyHTML||"",0,gg),Nf={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Ag=function(aa){var sa=!1,bb;return function(){sa||(bb=aa(),sa=!0);return bb}}(function(){if("undefined"===typeof document)return!1;
var aa=document.createElement("div"),sa=document.createElement("div");sa.appendChild(document.createElement("div"));aa.appendChild(sa);if(!aa.firstChild)return!1;sa=aa.firstChild.firstChild;aa.innerHTML=pd(Sf);return!sa.parentElement}),Ig=function(aa){yf.test(aa)&&(-1!=aa.indexOf("&")&&(aa=aa.replace(Bf,"&amp;")),-1!=aa.indexOf("<")&&(aa=aa.replace(ie,"&lt;")),-1!=aa.indexOf(">")&&(aa=aa.replace(Zf,"&gt;")),-1!=aa.indexOf('"')&&(aa=aa.replace(Hg,"&quot;")),-1!=aa.indexOf("'")&&(aa=aa.replace(Wc,"&#39;")),
-1!=aa.indexOf("\x00")&&(aa=aa.replace(vc,"&#0;")));return aa},xc=-1!=uc.indexOf("Opera"),Wh=-1!=uc.indexOf("Trident")||-1!=uc.indexOf("MSIE"),Di=-1!=uc.indexOf("Edge"),Bh=-1!=uc.indexOf("Gecko")&&!(-1!=uc.toLowerCase().indexOf("webkit")&&-1==uc.indexOf("Edge"))&&!(-1!=uc.indexOf("Trident")||-1!=uc.indexOf("MSIE"))&&-1==uc.indexOf("Edge"),If=-1!=uc.toLowerCase().indexOf("webkit")&&-1==uc.indexOf("Edge"),Oa=function(){var aa=sb.document;return aa?aa.documentMode:void 0};a:{var db="",Fb=function(){var aa=
uc;if(Bh)return/rv:([^\);]+)(\)|;)/.exec(aa);if(Di)return/Edge\/([\d\.]+)/.exec(aa);if(Wh)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(aa);if(If)return/WebKit\/(\S+)/.exec(aa);if(xc)return/(?:Version)[ \/]?(\S+)/.exec(aa)}();Fb&&(db=Fb?Fb[1]:"");if(Wh){var ea=Oa();if(null!=ea&&ea>parseFloat(db)){var Ma=String(ea);break a}}Ma=db}var lb=Ma;if(sb.document&&Wh){var xb=Oa();var yc=xb?xb:parseInt(lb,10)||void 0}else yc=void 0;var Yb=yc,ad;(ad=!Wh)||(ad=9<=Number(Yb));var od=ad,ed=function(aa,sa){Q(sa,
function(bb,pb){bb&&"object"==typeof bb&&bb.F&&(bb=bb.D());"style"==pb?aa.style.cssText=bb:"class"==pb?aa.className=bb:"for"==pb?aa.htmlFor=bb:mf.hasOwnProperty(pb)?aa.setAttribute(mf[pb],bb):0==pb.lastIndexOf("aria-",0)||0==pb.lastIndexOf("data-",0)?aa.setAttribute(pb,bb):aa[pb]=bb})},mf={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",
width:"width"},qg=function(aa,sa,bb,pb){function Sb(Ie){Ie&&sa.appendChild("string"===typeof Ie?aa.createTextNode(Ie):Ie)}for(;pb<bb.length;pb++){var sc=bb[pb];if(!ha(sc)||Pa(sc)&&0<sc.nodeType)Sb(sc);else{a:{if(sc&&"number"==typeof sc.length){if(Pa(sc)){var wd="function"==typeof sc.item||"string"==typeof sc.item;break a}if("function"===typeof sc){wd="function"==typeof sc.item;break a}}wd=!1}Xd(wd?Va(sc):sc,Sb)}}},Yf=function(aa,sa){sa=String(sa);"application/xhtml+xml"===aa.contentType&&(sa=sa.toLowerCase());
return aa.createElement(sa)},Mh=function(aa){Ec(aa,"Node cannot be null or undefined.");return 9==aa.nodeType?aa:aa.ownerDocument||aa.document},Ui=function(aa){this.C=aa||sb.document||document};var Fg=Ui.prototype;Fg.getElementsByTagName=function(aa,sa){return(sa||this.C).getElementsByTagName(String(aa))};Fg.ga=function(aa,sa,bb){var pb=this.C,Sb=arguments,sc=String(Sb[0]),wd=Sb[1];if(!od&&wd&&(wd.name||wd.type)){sc=["<",sc];wd.name&&sc.push(' name="',Ig(wd.name),'"');if(wd.type){sc.push(' type="',
Ig(wd.type),'"');var Ie={};ib(Ie,wd);delete Ie.type;wd=Ie}sc.push(">");sc=sc.join("")}sc=Yf(pb,sc);wd&&("string"===typeof wd?sc.className=wd:Array.isArray(wd)?sc.className=wd.join(" "):ed(sc,wd));2<Sb.length&&qg(pb,sc,Sb,2);return sc};Fg.createElement=function(aa){return Yf(this.C,aa)};Fg.createTextNode=function(aa){return this.C.createTextNode(String(aa))};Fg.appendChild=function(aa,sa){Ec(null!=aa&&null!=sa,"goog.dom.appendChild expects non-null arguments");aa.appendChild(sa)};Fg.append=function(aa,
sa){qg(Mh(aa),aa,arguments,1)};Fg.canHaveChildren=function(aa){if(1!=aa.nodeType)return!1;switch(aa.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};Fg.removeNode=function(aa){return aa&&aa.parentNode?
aa.parentNode.removeChild(aa):null};Fg.contains=function(aa,sa){if(!aa||!sa)return!1;if(aa.contains&&1==sa.nodeType)return aa==sa||aa.contains(sa);if("undefined"!=typeof aa.compareDocumentPosition)return aa==sa||!!(aa.compareDocumentPosition(sa)&16);for(;sa&&aa!=sa;)sa=sa.parentNode;return sa==aa};var ph=window,Bg=document,cl=ph.location,Rg=function(){},sk=/\[native code\]/,Qf=function(aa,sa,bb){return aa[sa]=aa[sa]||bb},Dk=function(aa){for(var sa=0;sa<this.length;sa++)if(this[sa]===aa)return sa;
return-1},Al=function(aa){aa=aa.sort();for(var sa=[],bb=void 0,pb=0;pb<aa.length;pb++){var Sb=aa[pb];Sb!=bb&&sa.push(Sb);bb=Sb}return sa},Dn=/&/g,Oo=/</g,En=/>/g,lm=/"/g,um=/'/g,rk=function(aa){return String(aa).replace(Dn,"&amp;").replace(Oo,"&lt;").replace(En,"&gt;").replace(lm,"&quot;").replace(um,"&#39;")},Rh=function(){var aa;if((aa=Object.create)&&sk.test(aa))aa=aa(null);else{aa={};for(var sa in aa)aa[sa]=void 0}return aa},hf=function(aa,sa){return Object.prototype.hasOwnProperty.call(aa,sa)},
vm=function(aa){if(sk.test(Object.keys))return Object.keys(aa);var sa=[],bb;for(bb in aa)hf(aa,bb)&&sa.push(bb);return sa},Lb=function(aa,sa){aa=aa||{};for(var bb in aa)hf(aa,bb)&&(sa[bb]=aa[bb])},bd=function(aa){return function(){ph.setTimeout(aa,0)}},re=function(aa,sa){if(!aa)throw Error(sa||"");},he=Qf(ph,"gapi",{}),bg=function(aa,sa,bb){var pb=new RegExp("([#].*&|[#])"+sa+"=([^&#]*)","g");sa=new RegExp("([?#].*&|[?#])"+sa+"=([^&#]*)","g");if(aa=aa&&(pb.exec(aa)||sa.exec(aa)))try{bb=decodeURIComponent(aa[2])}catch(Sb){}return bb},
eh=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),Ek=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,po=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),bs=/%([a-f]|[0-9a-fA-F][a-f])/g,ut=/^(https?|ftp|file|chrome-extension):$/i,Po=function(aa){aa=String(aa);aa=aa.replace(Ek,function(Sb){try{return encodeURIComponent(Sb)}catch(sc){return encodeURIComponent(Sb.replace(/^[^%]+$/g,
"\ufffd"))}}).replace(po,function(Sb){return Sb.replace(/%/g,"%25")}).replace(bs,function(Sb){return Sb.toUpperCase()});aa=aa.match(eh)||[];var sa=Rh(),bb=function(Sb){return Sb.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},pb=!!(aa[1]||"").match(ut);sa.B=bb((aa[1]||"")+(aa[2]||"")+(aa[3]||(aa[2]&&pb?"/":"")));pb=function(Sb){return bb(Sb.replace(/\?/g,"%3F").replace(/#/g,"%23"))};sa.query=aa[5]?[pb(aa[5])]:[];sa.i=aa[7]?
[pb(aa[7])]:[];return sa},dq=function(aa){return aa.B+(0<aa.query.length?"?"+aa.query.join("&"):"")+(0<aa.i.length?"#"+aa.i.join("&"):"")},vp=function(aa,sa){var bb=[];if(aa)for(var pb in aa)if(hf(aa,pb)&&null!=aa[pb]){var Sb=sa?sa(aa[pb]):aa[pb];bb.push(encodeURIComponent(pb)+"="+encodeURIComponent(Sb))}return bb},oo=function(aa,sa,bb,pb){aa=Po(aa);aa.query.push.apply(aa.query,vp(sa,pb));aa.i.push.apply(aa.i,vp(bb,pb));return dq(aa)},cs=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+
"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),fq=function(aa,sa){var bb=Po(sa);sa=bb.B;bb.query.length&&(sa+="?"+bb.query.join(""));bb.i.length&&(sa+="#"+bb.i.join(""));var pb="";2E3<sa.length&&(pb=sa,sa=sa.substr(0,2E3),sa=sa.replace(cs,""),pb=pb.substr(sa.length));var Sb=aa.createElement("div");aa=aa.createElement("a");bb=Po(sa);sa=bb.B;bb.query.length&&(sa+="?"+bb.query.join(""));bb.i.length&&(sa+="#"+bb.i.join(""));sa=new oe(sa,af);ae(aa,"HTMLAnchorElement");
sa=sa instanceof oe?sa:$e(sa);aa.href=Tf(sa);Sb.appendChild(aa);sa=Sb.innerHTML;bb=new pc(id,"Assignment to self.");td(Wb(bb),"must provide justification");Ec(!/^[\s\xa0]*$/.test(Wb(bb)),"must provide non-empty justification");void 0===Kb&&(Kb=Cc("gapi#html"));sa=(bb=Kb)?bb.createHTML(sa):sa;sa=new of(sa,null,gg);if(Sb.tagName&&Nf[Sb.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+Sb.tagName+".");if(Ag())for(;Sb.lastChild;)Sb.removeChild(Sb.lastChild);
Sb.innerHTML=pd(sa);sa=String(Sb.firstChild.href);Sb.parentNode&&Sb.parentNode.removeChild(Sb);bb=Po(sa+pb);pb=bb.B;bb.query.length&&(pb+="?"+bb.query.join(""));bb.i.length&&(pb+="#"+bb.i.join(""));return pb},Vq=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,wp=function(aa,sa,bb,pb){if(ph[bb+"EventListener"])ph[bb+"EventListener"](aa,sa,!1);else if(ph[pb+"tachEvent"])ph[pb+"tachEvent"]("on"+aa,sa)},eq=function(){var aa=Bg.readyState;return"complete"===aa||"interactive"===aa&&-1==navigator.userAgent.indexOf("MSIE")},
So=function(aa){var sa=qs;if(!eq())try{sa()}catch(bb){}Wq(aa)},Wq=function(aa){if(eq())aa();else{var sa=!1,bb=function(){if(!sa)return sa=!0,aa.apply(this,arguments)};ph.addEventListener?(ph.addEventListener("load",bb,!1),ph.addEventListener("DOMContentLoaded",bb,!1)):ph.attachEvent&&(ph.attachEvent("onreadystatechange",function(){eq()&&bb.apply(this,arguments)}),ph.attachEvent("onload",bb))}},ds=function(aa){for(;aa.firstChild;)aa.removeChild(aa.firstChild)},es={button:!0,div:!0,span:!0};var Wg=
Qf(ph,"___jsl",Rh());Qf(Wg,"I",0);Qf(Wg,"hel",10);var yd=function(aa){return Wg.dpo?Wg.h:bg(aa,"jsh",Wg.h)},Yq=function(aa){var sa=Qf(Wg,"sws",[]);sa.push.apply(sa,aa)},To=function(aa){return Qf(Wg,"watt",Rh())[aa]},Uo=function(aa){var sa=Qf(Wg,"PQ",[]);Wg.PQ=[];var bb=sa.length;if(0===bb)aa();else for(var pb=0,Sb=function(){++pb===bb&&aa()},sc=0;sc<bb;sc++)sa[sc](Sb)},Xq=function(aa){return Qf(Qf(Wg,"H",Rh()),aa,Rh())},Hn=Qf(Wg,"perf",Rh()),mm=Qf(Hn,"g",Rh()),Ro=Qf(Hn,"i",Rh());Qf(Hn,"r",[]);Rh();
Rh();var xp=function(aa,sa,bb){var pb=Hn.r;"function"===typeof pb?pb(aa,sa,bb):pb.push([aa,sa,bb])},In=function(aa,sa,bb){mm[aa]=!sa&&mm[aa]||bb||(new Date).getTime();xp(aa)},Bj=function(aa,sa,bb){sa&&0<sa.length&&(sa=Wo(sa),bb&&0<bb.length&&(sa+="___"+Wo(bb)),28<sa.length&&(sa=sa.substr(0,28)+(sa.length-28)),bb=sa,sa=Qf(Ro,"_p",Rh()),Qf(sa,bb,Rh())[aa]=(new Date).getTime(),xp(aa,"_p",bb))},Wo=function(aa){return aa.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},Vo=Rh(),qo=[],
nm=function(aa){throw Error("Bad hint"+(aa?": "+aa:""));};qo.push(["jsl",function(aa){for(var sa in aa)if(hf(aa,sa)){var bb=aa[sa];"object"==typeof bb?Wg[sa]=Qf(Wg,sa,[]).concat(bb):Qf(Wg,sa,bb)}if(sa=aa.u)aa=Qf(Wg,"us",[]),aa.push(sa),(sa=/^https:(.*)$/.exec(sa))&&aa.push("http:"+sa[1])}]);var Zq=/^(\/[a-zA-Z0-9_\-]+)+$/,yp=[/\/amp\//,/\/amp$/,/^\/amp$/],gq=/^[a-zA-Z0-9\-_\.,!]+$/,fs=/^gapi\.loaded_[0-9]+$/,wm=/^[a-zA-Z0-9,._-]+$/,Ql=function(aa,sa,bb,pb){var Sb=aa.split(";"),sc=Sb.shift(),wd=Vo[sc],
Ie=null;wd?Ie=wd(Sb,sa,bb,pb):nm("no hint processor for: "+sc);Ie||nm("failed to generate load url");sa=Ie;bb=sa.match(ya);(pb=sa.match(xm))&&1===pb.length&&Xo.test(sa)&&bb&&1===bb.length||nm("failed sanity: "+aa);return Ie},ro=function(aa,sa,bb,pb){aa=Fn(aa);fs.test(bb)||nm("invalid_callback");sa=Bl(sa);pb=pb&&pb.length?Bl(pb):null;var Sb=function(sc){return encodeURIComponent(sc).replace(/%2C/g,",")};return[encodeURIComponent(aa.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",Sb(aa.version),
"/m=",Sb(sa),pb?"/exm="+Sb(pb):"","/rt=j/sv=1/d=1/ed=1",aa.U?"/am="+Sb(aa.U):"",aa.$?"/rs="+Sb(aa.$):"",aa.ba?"/t="+Sb(aa.ba):"","/cb=",Sb(bb)].join("")},Fn=function(aa){"/"!==aa.charAt(0)&&nm("relative path");for(var sa=aa.substring(1).split("/"),bb=[];sa.length;){aa=sa.shift();if(!aa.length||0==aa.indexOf("."))nm("empty/relative directory");else if(0<aa.indexOf("=")){sa.unshift(aa);break}bb.push(aa)}aa={};for(var pb=0,Sb=sa.length;pb<Sb;++pb){var sc=sa[pb].split("="),wd=decodeURIComponent(sc[0]),
Ie=decodeURIComponent(sc[1]);2==sc.length&&wd&&Ie&&(aa[wd]=aa[wd]||Ie)}sa="/"+bb.join("/");Zq.test(sa)||nm("invalid_prefix");bb=0;for(pb=yp.length;bb<pb;++bb)yp[bb].test(sa)&&nm("invalid_prefix");bb=zp(aa,"k",!0);pb=zp(aa,"am");Sb=zp(aa,"rs");aa=zp(aa,"t");return{pathPrefix:sa,version:bb,U:pb,$:Sb,ba:aa}},Bl=function(aa){for(var sa=[],bb=0,pb=aa.length;bb<pb;++bb){var Sb=aa[bb].replace(/\./g,"_").replace(/-/g,"_");wm.test(Sb)&&sa.push(Sb)}return sa.join(",")},zp=function(aa,sa,bb){aa=aa[sa];!aa&&
bb&&nm("missing: "+sa);if(aa){if(gq.test(aa))return aa;nm("invalid: "+sa)}return null},Xo=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,xm=/\/cb=/g,ya=/\/\//g,Sa=function(){var aa=yd(cl.href);if(!aa)throw Error("Bad hint");return aa};Vo.m=function(aa,sa,bb,pb){(aa=aa[0])||nm("missing_hint");return"https://apis.google.com"+ro(aa,sa,bb,pb)};var mb=decodeURI("%73cript"),Xa=/^[-+_0-9\/A-Za-z]+={0,2}$/,dc=function(aa,sa){for(var bb=[],pb=0;pb<aa.length;++pb){var Sb=aa[pb];
Sb&&0>Dk.call(sa,Sb)&&bb.push(Sb)}return bb},$b=function(){var aa=Wg.nonce;return void 0!==aa?aa&&aa===String(aa)&&aa.match(Xa)?aa:Wg.nonce=null:Bg.querySelector?(aa=Bg.querySelector("script[nonce]"))?(aa=aa.nonce||aa.getAttribute("nonce")||"",aa&&aa===String(aa)&&aa.match(Xa)?Wg.nonce=aa:Wg.nonce=null):null:null},oc=function(aa){if("loading"!=Bg.readyState)zc(aa);else{var sa=$b(),bb="";null!==sa&&(bb=' nonce="'+sa+'"');aa="<"+mb+' src="'+encodeURI(aa)+'"'+bb+"></"+mb+">";Bg.write(zg?zg.createHTML(aa):
aa)}},zc=function(aa){var sa=Bg.createElement(mb);sa.setAttribute("src",zg?zg.createScriptURL(aa):aa);aa=$b();null!==aa&&sa.setAttribute("nonce",aa);sa.async="true";(aa=Bg.getElementsByTagName(mb)[0])?aa.parentNode.insertBefore(sa,aa):(Bg.head||Bg.body||Bg.documentElement).appendChild(sa)},Md=function(aa,sa){var bb=sa&&sa._c;if(bb)for(var pb=0;pb<qo.length;pb++){var Sb=qo[pb][0],sc=qo[pb][1];sc&&hf(bb,Sb)&&sc(bb[Sb],aa,sa)}},Rf=function(aa,sa,bb){li(function(){var pb=sa===yd(cl.href)?Qf(he,"_",Rh()):
Rh();pb=Qf(Xq(sa),"_",pb);aa(pb)},bb)},Hf=function(aa,sa){var bb=sa||{};"function"==typeof sa&&(bb={},bb.callback=sa);Md(aa,bb);sa=aa?aa.split(":"):[];var pb=bb.h||Sa(),Sb=Qf(Wg,"ah",Rh());if(Sb["::"]&&sa.length){aa=[];for(var sc=null;sc=sa.shift();){var wd=sc.split(".");wd=Sb[sc]||Sb[wd[1]&&"ns:"+wd[0]||""]||pb;var Ie=aa.length&&aa[aa.length-1]||null,Ve=Ie;Ie&&Ie.hint==wd||(Ve={hint:wd,features:[]},aa.push(Ve));Ve.features.push(sc)}var Uf=aa.length;if(1<Uf){var lg=bb.callback;lg&&(bb.callback=function(){0==
--Uf&&lg()})}for(;sa=aa.shift();)Vh(sa.features,bb,sa.hint)}else Vh(sa||[],bb,pb)},Vh=function(aa,sa,bb){aa=Al(aa)||[];var pb=sa.callback,Sb=sa.config,sc=sa.timeout,wd=sa.ontimeout,Ie=sa.onerror,Ve=void 0;"function"==typeof Ie&&(Ve=Ie);var Uf=null,lg=!1;if(sc&&!wd||!sc&&wd)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";Ie=Qf(Xq(bb),"r",[]).sort();var ni=Qf(Xq(bb),"L",[]).sort(),qh=[].concat(Ie),Of=function(Tl,Dp){if(lg)return 0;ph.clearTimeout(Uf);ni.push.apply(ni,
dl);var ss=((he||{}).config||{}).update;ss?ss(Sb):Sb&&Qf(Wg,"cu",[]).push(Sb);if(Dp){Bj("me0",Tl,qh);try{Rf(Dp,bb,Ve)}finally{Bj("me1",Tl,qh)}}return 1};0<sc&&(Uf=ph.setTimeout(function(){lg=!0;wd()},sc));var dl=dc(aa,ni);if(dl.length){dl=dc(aa,Ie);var Gk=Qf(Wg,"CP",[]),rh=Gk.length;Gk[rh]=function(Tl){if(!Tl)return 0;Bj("ml1",dl,qh);var Dp=function(kr){Gk[rh]=null;Of(dl,Tl)&&Uo(function(){pb&&pb();kr()})},ss=function(){var kr=Gk[rh+1];kr&&kr()};0<rh&&Gk[rh-1]?Gk[rh]=function(){Dp(ss)}:Dp(ss)};if(dl.length){var xo=
"loaded_"+Wg.I++;he[xo]=function(Tl){Gk[rh](Tl);he[xo]=null};aa=Ql(bb,dl,"gapi."+xo,Ie);Ie.push.apply(Ie,dl);Bj("ml0",dl,qh);sa.sync||ph.___gapisync?oc(aa):zc(aa)}else Gk[rh](Rg)}else Of(dl)&&pb&&pb()},zg=Cc("gapi#gapi"),li=function(aa,sa){if(Wg.hee&&0<Wg.hel)try{return aa()}catch(bb){sa&&sa(bb),Wg.hel--,Hf("debug_error",function(){try{window.___jsl.hefn(bb)}catch(pb){throw bb;}})}else try{return aa()}catch(bb){throw sa&&sa(bb),bb;}};he.load=function(aa,sa){return li(function(){return Hf(aa,sa)})};
var Xj=function(aa){var sa=window.___jsl=window.___jsl||{};sa[aa]=sa[aa]||[];return sa[aa]},Fk=function(aa){var sa=window.___jsl=window.___jsl||{};sa.cfg=!aa&&sa.cfg||{};return sa.cfg},Qo=function(aa){return"object"===typeof aa&&/\[native code\]/.test(aa.push)},Gn=function(aa,sa,bb){if(sa&&"object"===typeof sa)for(var pb in sa)!Object.prototype.hasOwnProperty.call(sa,pb)||bb&&"___goc"===pb&&"undefined"===typeof sa[pb]||(aa[pb]&&sa[pb]&&"object"===typeof aa[pb]&&"object"===typeof sa[pb]&&!Qo(aa[pb])&&
!Qo(sa[pb])?Gn(aa[pb],sa[pb]):sa[pb]&&"object"===typeof sa[pb]?(aa[pb]=Qo(sa[pb])?[]:{},Gn(aa[pb],sa[pb])):aa[pb]=sa[pb])},qv=function(aa){if(aa&&!/^\s+$/.test(aa)){for(;0==aa.charCodeAt(aa.length-1);)aa=aa.substring(0,aa.length-1);try{var sa=window.JSON.parse(aa)}catch(bb){}if("object"===typeof sa)return sa;try{sa=(new Function("return ("+aa+"\n)"))()}catch(bb){}if("object"===typeof sa)return sa;try{sa=(new Function("return ({"+aa+"\n})"))()}catch(bb){}return"object"===typeof sa?sa:{}}},vt=function(aa,
sa){var bb={___goc:void 0};aa.length&&aa[aa.length-1]&&Object.hasOwnProperty.call(aa[aa.length-1],"___goc")&&"undefined"===typeof aa[aa.length-1].___goc&&(bb=aa.pop());Gn(bb,sa);aa.push(bb)},gs=function(aa){Fk(!0);var sa=window.___gcfg,bb=Xj("cu"),pb=window.___gu;sa&&sa!==pb&&(vt(bb,sa),window.___gu=sa);sa=Xj("cu");var Sb=document.scripts||document.getElementsByTagName("script")||[];pb=[];var sc=[];sc.push.apply(sc,Xj("us"));for(var wd=0;wd<Sb.length;++wd)for(var Ie=Sb[wd],Ve=0;Ve<sc.length;++Ve)Ie.src&&
0==Ie.src.indexOf(sc[Ve])&&pb.push(Ie);0==pb.length&&0<Sb.length&&Sb[Sb.length-1].src&&pb.push(Sb[Sb.length-1]);for(Sb=0;Sb<pb.length;++Sb)pb[Sb].getAttribute("gapi_processed")||(pb[Sb].setAttribute("gapi_processed",!0),(sc=pb[Sb])?(wd=sc.nodeType,sc=3==wd||4==wd?sc.nodeValue:sc.textContent||""):sc=void 0,(sc=qv(sc))&&sa.push(sc));aa&&vt(bb,aa);pb=Xj("cd");aa=0;for(sa=pb.length;aa<sa;++aa)Gn(Fk(),pb[aa],!0);pb=Xj("ci");aa=0;for(sa=pb.length;aa<sa;++aa)Gn(Fk(),pb[aa],!0);aa=0;for(sa=bb.length;aa<sa;++aa)Gn(Fk(),
bb[aa],!0)},Uk=function(aa){var sa=Fk();if(!aa)return sa;aa=aa.split("/");for(var bb=0,pb=aa.length;sa&&"object"===typeof sa&&bb<pb;++bb)sa=sa[aa[bb]];return bb===aa.length&&void 0!==sa?sa:void 0},fh=function(aa,sa){var bb;if("string"===typeof aa){var pb=bb={};aa=aa.split("/");for(var Sb=0,sc=aa.length;Sb<sc-1;++Sb)pb=pb[aa[Sb]]={};pb[aa[Sb]]=sa}else bb=aa;gs(bb)},rv=function(){var aa=window.__GOOGLEAPIS;aa&&(aa.googleapis&&!aa["googleapis.config"]&&(aa["googleapis.config"]=aa.googleapis),Qf(Wg,"ci",
[]).push(aa),window.__GOOGLEAPIS=void 0)},ug={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},wt=!1,xt=Rh(),sv=function(){if(!wt){for(var aa=document.getElementsByTagName("meta"),sa=0;sa<aa.length;++sa){var bb=aa[sa].name.toLowerCase();if(0==bb.lastIndexOf("google-signin-",0)){bb=bb.substring(14);var pb=aa[sa].content;ug[bb]&&pb&&(xt[bb]=pb)}}if(window.self!==window.top){aa=document.location.toString();for(var Sb in ug)0<ug[Sb]&&(sa=bg(aa,
Sb,""))&&(xt[Sb]=sa)}wt=!0}Sb=Rh();Lb(xt,Sb);return Sb},ex=function(aa){return!!(aa.clientid&&aa.scope&&aa.callback)},hq=window.console,so=function(){return!!Wg.oa},bn=function(){},om=Qf(Wg,"rw",Rh()),hs=function(aa){for(var sa in om)aa(om[sa])},$q=function(aa,sa){(aa=om[aa])&&aa.state<sa&&(aa.state=sa)},to=function(aa){var sa=window.___jsl=window.___jsl||{};sa.cfg=sa.cfg||{};sa=sa.cfg;if(!aa)return sa;aa=aa.split("/");for(var bb=0,pb=aa.length;sa&&"object"===typeof sa&&bb<pb;++bb)sa=sa[aa[bb]];return bb===
aa.length&&void 0!==sa?sa:void 0},fx=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,Yy=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,yt=function(aa){var sa=to("googleapis.config/sessionIndex");"string"===typeof sa&&254<sa.length&&(sa=null);null==sa&&(sa=window.__X_GOOG_AUTHUSER);"string"===typeof sa&&254<sa.length&&(sa=null);if(null==sa){var bb=window.google;bb&&(sa=bb.authuser)}"string"===typeof sa&&254<sa.length&&(sa=null);
null==sa&&(aa=aa||window.location.href,sa=bg(aa,"authuser")||null,null==sa&&(sa=(sa=aa.match(fx))?sa[1]:null));if(null==sa)return null;sa=String(sa);254<sa.length&&(sa=null);return sa},zt=function(aa){var sa=to("googleapis.config/sessionDelegate");"string"===typeof sa&&21<sa.length&&(sa=null);null==sa&&(sa=(aa=(aa||window.location.href).match(Yy))?aa[1]:null);if(null==sa)return null;sa=String(sa);21<sa.length&&(sa=null);return sa},is,iq,cn=void 0,uo=function(aa){try{return sb.JSON.parse.call(sb.JSON,
aa)}catch(sa){return!1}},Rl=function(aa){return Object.prototype.toString.call(aa)},js=Rl(0),tv=Rl(new Date(0)),gx=Rl(!0),hx=Rl(""),Zy=Rl({}),ix=Rl([]),ar=function(aa,sa){if(sa)for(var bb=0,pb=sa.length;bb<pb;++bb)if(aa===sa[bb])throw new TypeError("Converting circular structure to JSON");pb=typeof aa;if("undefined"!==pb){bb=Array.prototype.slice.call(sa||[],0);bb[bb.length]=aa;sa=[];var Sb=Rl(aa);if(null!=aa&&"function"===typeof aa.toJSON&&(Object.prototype.hasOwnProperty.call(aa,"toJSON")||(Sb!==
ix||aa.constructor!==Array&&aa.constructor!==Object)&&(Sb!==Zy||aa.constructor!==Array&&aa.constructor!==Object)&&Sb!==hx&&Sb!==js&&Sb!==gx&&Sb!==tv))return ar(aa.toJSON.call(aa),bb);if(null==aa)sa[sa.length]="null";else if(Sb===js)aa=Number(aa),isNaN(aa)||isNaN(aa-aa)?aa="null":-0===aa&&0>1/aa&&(aa="-0"),sa[sa.length]=String(aa);else if(Sb===gx)sa[sa.length]=String(!!Number(aa));else{if(Sb===tv)return ar(aa.toISOString.call(aa),bb);if(Sb===ix&&Rl(aa.length)===js){sa[sa.length]="[";var sc=0;for(pb=
Number(aa.length)>>0;sc<pb;++sc)sc&&(sa[sa.length]=","),sa[sa.length]=ar(aa[sc],bb)||"null";sa[sa.length]="]"}else if(Sb==hx&&Rl(aa.length)===js){sa[sa.length]='"';sc=0;for(bb=Number(aa.length)>>0;sc<bb;++sc)pb=String.prototype.charAt.call(aa,sc),Sb=String.prototype.charCodeAt.call(aa,sc),sa[sa.length]="\b"===pb?"\\b":"\f"===pb?"\\f":"\n"===pb?"\\n":"\r"===pb?"\\r":"\t"===pb?"\\t":"\\"===pb||'"'===pb?"\\"+pb:31>=Sb?"\\u"+(Sb+65536).toString(16).substr(1):32<=Sb&&65535>=Sb?pb:"\ufffd";sa[sa.length]=
'"'}else if("object"===pb){sa[sa.length]="{";pb=0;for(sc in aa)Object.prototype.hasOwnProperty.call(aa,sc)&&(Sb=ar(aa[sc],bb),void 0!==Sb&&(pb++&&(sa[sa.length]=","),sa[sa.length]=ar(sc),sa[sa.length]=":",sa[sa.length]=Sb));sa[sa.length]="}"}else return}return sa.join("")}},jx=/[\0-\x07\x0b\x0e-\x1f]/,kx=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,lx=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,mx=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,
At=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,nx=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,ox=/[ \t\n\r]+/g,px=/[^"]:/,Bt=/""/g,ym=/true|false|null/g,qx=/00/,Ct=/[\{]([^0\}]|0[^:])/,rx=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,$y=/[^\[,:][\[\{]/,az=/^(\{|\}|\[|\]|,|:|0)+/,bz=/\u2028/g,uv=/\u2029/g,vv=function(aa){aa=String(aa);if(jx.test(aa)||kx.test(aa)||lx.test(aa)||mx.test(aa))return!1;var sa=aa.replace(At,'""');sa=sa.replace(nx,"0");sa=sa.replace(ox,"");if(px.test(sa))return!1;sa=sa.replace(Bt,
"0");sa=sa.replace(ym,"0");if(qx.test(sa)||Ct.test(sa)||rx.test(sa)||$y.test(sa)||!sa||sa.replace(az,""))return!1;aa=aa.replace(bz,"\\u2028").replace(uv,"\\u2029");sa=void 0;try{sa=cn?[uo(aa)]:eval("(function (var_args) {\n  return Array.prototype.slice.call(arguments, 0);\n})(\n"+aa+"\n)")}catch(bb){return!1}return sa&&1===sa.length?sa[0]:!1},Dt=function(){var aa=((sb.document||{}).scripts||[]).length;if((void 0===is||void 0===cn||iq!==aa)&&-1!==iq){is=cn=!1;iq=-1;try{try{cn=!!sb.JSON&&'{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'===
sb.JSON.stringify.call(sb.JSON,{a:[3,!0,new Date(0)],c:function(){}})&&!0===uo("true")&&3===uo('[{"a":3}]')[0].a}catch(sa){}is=cn&&!uo("[00]")&&!uo('"\u0007"')&&!uo('"\\0"')&&!uo('"\\v"')}finally{iq=aa}}},sx=function(aa){if(-1===iq)return!1;Dt();return(is?uo:vv)(aa)},tx=function(aa){if(-1!==iq)return Dt(),cn?sb.JSON.stringify.call(sb.JSON,aa):ar(aa)},cz=!Date.prototype.toISOString||"function"!==typeof Date.prototype.toISOString||"1970-01-01T00:00:00.000Z"!==(new Date(0)).toISOString(),ux=function(){var aa=
Date.prototype.getUTCFullYear.call(this);return[0>aa?"-"+String(1E6-aa).substr(1):9999>=aa?String(1E4+aa).substr(1):"+"+String(1E6+aa).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1E3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),
"Z"].join("")};Date.prototype.toISOString=cz?ux:Date.prototype.toISOString;var br=function(){this.l=64;this.g=[];this.L=[];this.ea=[];this.H=[];this.H[0]=128;for(var aa=1;aa<this.l;++aa)this.H[aa]=0;this.J=this.v=0;this.reset()};$a(br,function(){this.l=-1});br.prototype.reset=function(){this.g[0]=1732584193;this.g[1]=4023233417;this.g[2]=2562383102;this.g[3]=271733878;this.g[4]=3285377520;this.J=this.v=0};var Et=function(aa,sa,bb){bb||(bb=0);var pb=aa.ea;if("string"===typeof sa)for(var Sb=0;16>Sb;Sb++)pb[Sb]=
sa.charCodeAt(bb)<<24|sa.charCodeAt(bb+1)<<16|sa.charCodeAt(bb+2)<<8|sa.charCodeAt(bb+3),bb+=4;else for(Sb=0;16>Sb;Sb++)pb[Sb]=sa[bb]<<24|sa[bb+1]<<16|sa[bb+2]<<8|sa[bb+3],bb+=4;for(Sb=16;80>Sb;Sb++){var sc=pb[Sb-3]^pb[Sb-8]^pb[Sb-14]^pb[Sb-16];pb[Sb]=(sc<<1|sc>>>31)&4294967295}sa=aa.g[0];bb=aa.g[1];var wd=aa.g[2],Ie=aa.g[3],Ve=aa.g[4];for(Sb=0;80>Sb;Sb++){if(40>Sb)if(20>Sb){sc=Ie^bb&(wd^Ie);var Uf=1518500249}else sc=bb^wd^Ie,Uf=1859775393;else 60>Sb?(sc=bb&wd|Ie&(bb|wd),Uf=2400959708):(sc=bb^wd^
Ie,Uf=3395469782);sc=(sa<<5|sa>>>27)+sc+Ve+Uf+pb[Sb]&4294967295;Ve=Ie;Ie=wd;wd=(bb<<30|bb>>>2)&4294967295;bb=sa;sa=sc}aa.g[0]=aa.g[0]+sa&4294967295;aa.g[1]=aa.g[1]+bb&4294967295;aa.g[2]=aa.g[2]+wd&4294967295;aa.g[3]=aa.g[3]+Ie&4294967295;aa.g[4]=aa.g[4]+Ve&4294967295};br.prototype.update=function(aa,sa){if(null!=aa){void 0===sa&&(sa=aa.length);for(var bb=sa-this.l,pb=0,Sb=this.L,sc=this.v;pb<sa;){if(0==sc)for(;pb<=bb;)Et(this,aa,pb),pb+=this.l;if("string"===typeof aa)for(;pb<sa;){if(Sb[sc]=aa.charCodeAt(pb),
++sc,++pb,sc==this.l){Et(this,Sb);sc=0;break}}else for(;pb<sa;)if(Sb[sc]=aa[pb],++sc,++pb,sc==this.l){Et(this,Sb);sc=0;break}}this.v=sc;this.J+=sa}};br.prototype.digest=function(){var aa=[],sa=8*this.J;56>this.v?this.update(this.H,56-this.v):this.update(this.H,this.l-(this.v-56));for(var bb=this.l-1;56<=bb;bb--)this.L[bb]=sa&255,sa/=256;Et(this,this.L);for(bb=sa=0;5>bb;bb++)for(var pb=24;0<=pb;pb-=8)aa[sa]=this.g[bb]>>pb&255,++sa;return aa};var wv=function(){this.R=new br};wv.prototype.reset=function(){this.R.reset()};
var Ft=ph.crypto,Gt=!1,dn=0,kq=0,hg=1,ti=0,Ap="",lq=function(aa){aa=aa||ph.event;var sa=aa.screenX+aa.clientX<<16;sa+=aa.screenY+aa.clientY;sa*=(new Date).getTime()%1E6;hg=hg*sa%ti;0<dn&&++kq==dn&&wp("mousemove",lq,"remove","de")},xv=function(aa){var sa=new wv;aa=unescape(encodeURIComponent(aa));for(var bb=[],pb=0,Sb=aa.length;pb<Sb;++pb)bb.push(aa.charCodeAt(pb));sa.R.update(bb);sa=sa.R.digest();aa="";for(bb=0;bb<sa.length;bb++)aa+="0123456789ABCDEF".charAt(Math.floor(sa[bb]/16))+"0123456789ABCDEF".charAt(sa[bb]%
16);return aa};(Gt=!!Ft&&"function"==typeof Ft.getRandomValues)||(ti=1E6*(screen.width*screen.width+screen.height),Ap=xv(Bg.cookie+"|"+Bg.location+"|"+(new Date).getTime()+"|"+Math.random()),dn=to("random/maxObserveMousemove")||0,0!=dn&&wp("mousemove",lq,"add","at"));var vx=function(){var aa=Wg.onl;if(!aa){aa=Rh();Wg.onl=aa;var sa=Rh();aa.e=function(bb){var pb=sa[bb];pb&&(delete sa[bb],pb())};aa.a=function(bb,pb){sa[bb]=pb};aa.r=function(bb){delete sa[bb]}}return aa},yv=function(aa,sa){sa=sa.onload;
return"function"===typeof sa?(vx().a(aa,sa),sa):null},dz=function(aa){re(/^\w+$/.test(aa),"Unsupported id - "+aa);return'onload="window.___jsl.onl.e(&#34;'+aa+'&#34;)"'},zv=function(aa){vx().r(aa)},wx={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},ez={allowtransparency:!0,onload:!0},fz=0,oB=function(aa){re(!aa||Vq.test(aa),"Illegal url for new iframe - "+aa)},Ih=function(aa,sa,bb,pb,Sb){oB(bb.src);
var sc,wd=yv(pb,bb),Ie=wd?dz(pb):"";try{document.all&&(sc=aa.createElement('<iframe frameborder="'+rk(String(bb.frameborder))+'" scrolling="'+rk(String(bb.scrolling))+'" '+Ie+' name="'+rk(String(bb.name))+'"/>'))}catch(Uf){}finally{sc||(sc=(aa?new Ui(Mh(aa)):Ba||(Ba=new Ui)).ga("IFRAME"),wd&&(sc.onload=function(){sc.onload=null;wd.call(this)},zv(pb)))}sc.setAttribute("ng-non-bindable","");for(var Ve in bb)aa=bb[Ve],"style"===Ve&&"object"===typeof aa?Lb(aa,sc.style):ez[Ve]||sc.setAttribute(Ve,String(aa));
(Ve=Sb&&Sb.beforeNode||null)||Sb&&Sb.dontclear||ds(sa);sa.insertBefore(sc,Ve);sc=Ve?Ve.previousSibling:sa.lastChild;bb.allowtransparency&&(sc.allowTransparency=!0);return sc},xx=/^:[\w]+$/,Av=/:([a-zA-Z_]+):/g,Ht=function(){var aa=yt()||"0",sa=zt(),bb=yt(void 0)||aa,pb=zt(void 0),Sb="";bb&&(Sb+="u/"+encodeURIComponent(String(bb))+"/");pb&&(Sb+="b/"+encodeURIComponent(String(pb))+"/");bb=Sb||null;(Sb=(pb=!1===to("isLoggedIn"))?"_/im/":"")&&(bb="");var sc=to("iframes/:socialhost:"),wd=to("iframes/:im_socialhost:");
return{socialhost:sc,ctx_socialhost:pb?wd:sc,session_index:aa,session_delegate:sa,session_prefix:bb,im_prefix:Sb}},Bv=function(aa,sa){return Ht()[sa]||""},yx=function(aa){return function(sa,bb){return aa?Ht()[bb]||aa[bb]||"":Ht()[bb]||""}},cr=function(aa){var sa;aa.match(/^https?%3A/i)&&(sa=decodeURIComponent(aa));return fq(document,sa?sa:aa)},dr=function(aa){aa=aa||"canonical";for(var sa=document.getElementsByTagName("link"),bb=0,pb=sa.length;bb<pb;bb++){var Sb=sa[bb],sc=Sb.getAttribute("rel");if(sc&&
sc.toLowerCase()==aa&&(Sb=Sb.getAttribute("href"))&&(Sb=cr(Sb))&&null!=Sb.match(/^https?:\/\/[\w\-_\.]+/i))return Sb}return window.location.href},er={se:"0"},gz={post:!0},zx={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Cv="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),mq=Qf(Wg,"WI",Rh()),Ax=function(aa,sa,bb){var pb,Sb={},sc=pb=aa;"plus"==aa&&sa.action&&(pb=aa+"_"+sa.action,sc=aa+"/"+sa.action);(pb=Uk("iframes/"+pb+
"/url"))||(pb=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+sc+"?usegapi=1");for(var wd in er)Sb[wd]=wd+"/"+(sa[wd]||er[wd])+"/";Sb=fq(Bg,pb.replace(Av,yx(Sb)));wd="iframes/"+aa+"/params/";sc={};Lb(sa,sc);(pb=Uk("lang")||Uk("gwidget/lang"))&&(sc.hl=pb);gz[aa]||(sc.origin=window.location.origin||window.location.protocol+"//"+window.location.host);sc.exp=Uk(wd+"exp");if(wd=Uk(wd+"location"))for(pb=0;pb<wd.length;pb++){var Ie=wd[pb];sc[Ie]=ph.location[Ie]}switch(aa){case "plus":case "follow":wd=
sc.href;pb=sa.action?void 0:"publisher";wd=(wd="string"==typeof wd?wd:void 0)?cr(wd):dr(pb);sc.url=wd;delete sc.href;break;case "plusone":wd=(wd=sa.href)?cr(wd):dr();sc.url=wd;wd=sa.db;pb=Uk();null==wd&&pb&&(wd=pb.db,null==wd&&(wd=pb.gwidget&&pb.gwidget.db));sc.db=wd||void 0;wd=sa.ecp;pb=Uk();null==wd&&pb&&(wd=pb.ecp,null==wd&&(wd=pb.gwidget&&pb.gwidget.ecp));sc.ecp=wd||void 0;delete sc.href;break;case "signin":sc.url=dr()}Wg.ILI&&(sc.iloader="1");delete sc["data-onload"];delete sc.rd;for(var Ve in er)sc[Ve]&&
delete sc[Ve];sc.gsrc=Uk("iframes/:source:");Ve=Uk("inline/css");"undefined"!==typeof Ve&&0<bb&&Ve>=bb&&(sc.ic="1");Ve=/^#|^fr-/;bb={};for(var Uf in sc)hf(sc,Uf)&&Ve.test(Uf)&&(bb[Uf.replace(Ve,"")]=sc[Uf],delete sc[Uf]);Uf="q"==Uk("iframes/"+aa+"/params/si")?sc:bb;Ve=sv();for(var lg in Ve)!hf(Ve,lg)||hf(sc,lg)||hf(bb,lg)||(Uf[lg]=Ve[lg]);lg=[].concat(Cv);(Uf=Uk("iframes/"+aa+"/methods"))&&"object"===typeof Uf&&sk.test(Uf.push)&&(lg=lg.concat(Uf));for(var ni in sa)hf(sa,ni)&&/^on/.test(ni)&&("plus"!=
aa||"onconnect"!=ni)&&(lg.push(ni),delete sc[ni]);delete sc.callback;bb._methods=lg.join(",");return oo(Sb,sc,bb)},Bx=["style","data-gapiscan"],nq=function(aa){for(var sa=Rh(),bb=0!=aa.nodeName.toLowerCase().indexOf("g:"),pb=0,Sb=aa.attributes.length;pb<Sb;pb++){var sc=aa.attributes[pb],wd=sc.name,Ie=sc.value;0<=Dk.call(Bx,wd)||bb&&0!=wd.indexOf("data-")||"null"===Ie||"specified"in sc&&!sc.specified||(bb&&(wd=wd.substr(5)),sa[wd.toLowerCase()]=Ie)}aa=aa.style;(bb=Dv(aa&&aa.height))&&(sa.height=String(bb));
(aa=Dv(aa&&aa.width))&&(sa.width=String(aa));return sa},Dv=function(aa){var sa=void 0;"number"===typeof aa?sa=aa:"string"===typeof aa&&(sa=parseInt(aa,10));return sa},hz=function(){var aa=Wg.drw;hs(function(sa){if(aa!==sa.id&&4!=sa.state&&"share"!=sa.type){var bb=sa.id,pb=sa.type,Sb=sa.url;sa=sa.userParams;var sc=Bg.getElementById(bb);if(sc){var wd=Ax(pb,sa,0);wd?(sc=sc.parentNode,Sb.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==wd.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(sa.dontclear=!0,sa.rd=
!0,sa.ri=!0,sa.type=pb,ml(sc,sa),(pb=om[sc.lastChild.id])&&(pb.oid=bb),$q(bb,4))):delete om[bb]}else delete om[bb]}})},Cx=/(?:^|\s)g-((\S)*)(?:$|\s)/,Dx={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};var It=Qf(Wg,"SW",Rh());var ks=Qf(Wg,"SA",Rh());var ls=Qf(Wg,"SM",Rh());var fr=Qf(Wg,"FW",[]);var Ev=null;var ms=function(aa,sa){Ex(void 0,!1,aa,sa)},Ex=function(aa,sa,bb,pb){In("ps0",!0);bb=("string"===typeof bb?document.getElementById(bb):bb)||Bg;var Sb=Bg.documentMode;if(bb.querySelectorAll&&
(!Sb||8<Sb)){Sb=pb?[pb]:vm(It).concat(vm(ks)).concat(vm(ls));for(var sc=[],wd=0;wd<Sb.length;wd++){var Ie=Sb[wd];sc.push(".g-"+Ie,"g\\:"+Ie)}Sb=bb.querySelectorAll(sc.join(","))}else Sb=bb.getElementsByTagName("*");bb=Rh();for(sc=0;sc<Sb.length;sc++){var Ve=wd=Sb[sc];Ie=pb;var Uf=Ve.nodeName.toLowerCase(),lg=void 0;if(Ve.getAttribute("data-gapiscan"))Ie=null;else{var ni=Uf.indexOf("g:");0==ni?lg=Uf.substr(2):(ni=(ni=String(Ve.className||Ve.getAttribute("class")))&&Cx.exec(ni))&&(lg=ni[1]);Ie=!lg||
!(It[lg]||ks[lg]||ls[lg])||Ie&&lg!==Ie?null:lg}Ie&&(Dx[Ie]||0==wd.nodeName.toLowerCase().indexOf("g:")||0!=vm(nq(wd)).length)&&(wd.setAttribute("data-gapiscan",!0),Qf(bb,Ie,[]).push(wd))}if(sa)for(var qh in bb)for(sa=bb[qh],pb=0;pb<sa.length;pb++)sa[pb].setAttribute("data-onload",!0);for(var Of in bb)fr.push(Of);In("ps1",!0);if((qh=fr.join(":"))||aa)try{he.load(qh,aa)}catch(Gk){hq&&hq.log&&hq.log(Gk);return}if(Gv(Ev||{}))for(var dl in bb){aa=bb[dl];Of=0;for(sa=aa.length;Of<sa;Of++)aa[Of].removeAttribute("data-gapiscan");
zm(dl)}else{pb=[];for(dl in bb)for(aa=bb[dl],Of=0,sa=aa.length;Of<sa;Of++)Sb=aa[Of],os(dl,Sb,nq(Sb),pb,sa);ns(qh,pb)}},gr=function(aa){var sa=Qf(he,aa,{});sa.go||(sa.go=function(bb){return ms(bb,aa)},sa.render=function(bb,pb){pb=pb||{};pb.type=aa;return ml(bb,pb)})},iz=function(aa){It[aa]=!0},Fv=function(aa){ks[aa]=!0},jz=function(aa){ls[aa]=!0},zm=function(aa,sa){var bb=To(aa);sa&&bb?(bb(sa),(bb=sa.iframeNode)&&bb.setAttribute("data-gapiattached",!0)):he.load(aa,function(){var pb=To(aa),Sb=sa&&sa.iframeNode,
sc=sa&&sa.userParams;Sb&&pb?(pb(sa),Sb.setAttribute("data-gapiattached",!0)):(pb=he[aa].go,"signin2"==aa?pb(Sb,sc):pb(Sb&&Sb.parentNode,sc))})},Gv=function(){return!1},ns=function(){},os=function(aa,sa,bb,pb,Sb,sc,wd){switch(ps(sa,aa,sc)){case 0:aa=ls[aa]?aa+"_annotation":aa;pb={};pb.iframeNode=sa;pb.userParams=bb;zm(aa,pb);break;case 1:if(sa.parentNode){for(var Ie in bb){if(sc=hf(bb,Ie))sc=bb[Ie],sc=!!sc&&"object"===typeof sc&&(!sc.toString||sc.toString===Object.prototype.toString||sc.toString===
Array.prototype.toString);if(sc)try{bb[Ie]=tx(bb[Ie])}catch(xo){delete bb[Ie]}}sc=!0;bb.dontclear&&(sc=!1);delete bb.dontclear;bn();Ie=Ax(aa,bb,Sb);Sb=wd||{};Sb.allowPost=1;Sb.attributes=zx;Sb.dontclear=!sc;wd={};wd.userParams=bb;wd.url=Ie;wd.type=aa;if(bb.rd)var Ve=sa;else Ve=document.createElement("div"),sa.setAttribute("data-gapistub",!0),Ve.style.cssText="position:absolute;width:450px;left:-10000px;",sa.parentNode.insertBefore(Ve,sa);wd.siteElement=Ve;Ve.id||(sa=Ve,Qf(mq,aa,0),sc="___"+aa+"_"+
mq[aa]++,sa.id=sc);sa=Rh();sa[">type"]=aa;Lb(bb,sa);sc=Ie;bb=Ve;Ie=Sb||{};sa=Ie.attributes||{};re(!(Ie.allowPost||Ie.forcePost)||!sa.onload,"onload is not supported by post iframe (allowPost or forcePost)");Sb=sa=sc;xx.test(sa)&&(Sb=to("iframes/"+Sb.substring(1)+"/url"),re(!!Sb,"Unknown iframe url config for - "+sa));sc=fq(Bg,Sb.replace(Av,Bv));sa=bb.ownerDocument||Bg;Sb=Ie;var Uf=0;do Ve=Sb.id||["I",fz++,"_",(new Date).getTime()].join("");while(sa.getElementById(Ve)&&5>++Uf);re(5>Uf,"Error creating iframe id");
Sb=Ve;Ve=Ie;Uf={};var lg={};sa.documentMode&&9>sa.documentMode&&(Uf.hostiemode=sa.documentMode);Lb(Ve.queryParams||{},Uf);Lb(Ve.fragmentParams||{},lg);var ni=Ve.pfname,qh=Rh();to("iframes/dropLegacyIdParam")||(qh.id=Sb);qh._gfid=Sb;qh.parent=sa.location.protocol+"//"+sa.location.host;var Of=bg(sa.location.href,"parent");ni=ni||"";!ni&&Of&&(Of=bg(sa.location.href,"_gfid","")||bg(sa.location.href,"id",""),ni=bg(sa.location.href,"pfname",""),ni=Of?ni+"/"+Of:"");ni||(Of=sx(bg(sa.location.href,"jcp","")))&&
"object"==typeof Of&&(ni=(ni=Of.id)?Of.pfname+"/"+ni:"");qh.pfname=ni;Ve.connectWithJsonParam&&(Of={},Of.jcp=tx(qh),qh=Of);Of=bg(sc,"rpctoken")||Uf.rpctoken||lg.rpctoken;if(!Of){if(!(Of=Ve.rpctoken)){Of=String;ni=Math;var dl=ni.round;if(Gt){var Gk=new ph.Uint32Array(1);Ft.getRandomValues(Gk);Gk=Number("0."+Gk[0])}else Gk=hg,Gk+=parseInt(Ap.substr(0,20),16),Ap=xv(Ap),Gk/=ti+Math.pow(16,20);Of=Of(dl.call(ni,1E8*Gk))}qh.rpctoken=Of}Ve.rpctoken=Of;Lb(qh,Ve.connectWithQueryParams?Uf:lg);Of=sa.location.href;
qh=Rh();(ni=bg(Of,"_bsh",Wg.bsh))&&(qh._bsh=ni);(Of=yd(Of))&&(qh.jsh=Of);Ve.hintInFragment?Lb(qh,lg):Lb(qh,Uf);Uf=oo(sc,Uf,lg,Ve.paramsSerializer);sc=Ie;lg=Rh();Lb(wx,lg);Lb(sc.attributes,lg);lg.name=lg.id=Sb;lg.src=Uf;Ie.eurl=Uf;Ie=(Ve=Ie)||{};sc=!!Ie.allowPost;if(Ie.forcePost||sc&&2E3<Uf.length){sc=Po(Uf);lg.src="";Ve.dropDataPostorigin||(lg["data-postorigin"]=Uf);Ie=Ih(sa,bb,lg,Sb);if(-1!=navigator.userAgent.indexOf("WebKit")){var rh=Ie.contentWindow.document;rh.open();Uf=rh.createElement("div");
lg={};qh=Sb+"_inner";lg.name=qh;lg.src="";lg.style="display:none";Ih(sa,Uf,lg,qh,Ve)}Uf=(Ve=sc.query[0])?Ve.split("&"):[];Ve=[];for(lg=0;lg<Uf.length;lg++)qh=Uf[lg].split("=",2),Ve.push([decodeURIComponent(qh[0]),decodeURIComponent(qh[1])]);sc.query=[];Uf=dq(sc);re(Vq.test(Uf),"Invalid URL: "+Uf);sc=sa.createElement("form");sc.method="POST";sc.target=Sb;sc.style.display="none";Sb=Uf instanceof oe?Uf:$e(Uf);ae(sc,"HTMLFormElement").action=Tf(Sb);for(Sb=0;Sb<Ve.length;Sb++)Uf=sa.createElement("input"),
Uf.type="hidden",Uf.name=Ve[Sb][0],Uf.value=Ve[Sb][1],sc.appendChild(Uf);bb.appendChild(sc);sc.submit();sc.parentNode.removeChild(sc);rh&&rh.close();rh=Ie}else rh=Ih(sa,bb,lg,Sb,Ve);wd.iframeNode=rh;wd.id=rh.getAttribute("id");rh=wd.id;bb=Rh();bb.id=rh;bb.userParams=wd.userParams;bb.url=wd.url;bb.type=wd.type;bb.state=1;om[rh]=bb;rh=wd}else rh=null;rh&&((wd=rh.id)&&pb.push(wd),zm(aa,rh))}},ps=function(aa,sa,bb){if(aa&&1===aa.nodeType&&sa){if(bb)return 1;if(ls[sa]){if(es[aa.nodeName.toLowerCase()])return(aa=
aa.innerHTML)&&aa.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(ks[sa])return 0;if(It[sa])return 1}}return null},ml=function(aa,sa){var bb=sa.type;delete sa.type;var pb=("string"===typeof aa?document.getElementById(aa):aa)||void 0;if(pb){aa={};for(var Sb in sa)hf(sa,Sb)&&(aa[Sb.toLowerCase()]=sa[Sb]);aa.rd=1;(sa=!!aa.ri)&&delete aa.ri;Sb=[];os(bb,pb,aa,Sb,0,sa,void 0);ns(bb,Sb)}else hq&&hq.log&&hq.log("string"==="gapi."+bb+".render: missing element "+typeof aa?aa:"")};Qf(he,"platform",{}).go=ms;
Gv=function(aa){for(var sa=["_c","jsl","h"],bb=0;bb<sa.length&&aa;bb++)aa=aa[sa[bb]];sa=yd(cl.href);return!aa||0!=aa.indexOf("n;")&&0!=sa.indexOf("n;")&&aa!==sa};ns=function(aa,sa){Fx(aa,sa)};var qs=function(aa){Ex(aa,!0)},Zo=function(aa,sa){sa=sa||[];for(var bb=0;bb<sa.length;++bb)aa(sa[bb]);for(aa=0;aa<sa.length;aa++)gr(sa[aa])};qo.push(["platform",function(aa,sa,bb){Ev=bb;sa&&fr.push(sa);Zo(iz,aa);Zo(Fv,bb._c.annotation);Zo(jz,bb._c.bimodal);rv();gs();if("explicit"!=Uk("parsetags")){Yq(aa);ex(sv())&&
!Uk("disableRealtimeCallback")&&bn();if(bb&&(aa=bb.callback)){var pb=bd(aa);delete bb.callback}So(function(){qs(pb)})}}]);he._pl=!0;var Jt=function(aa){if(aa=(aa=om[aa])?aa.oid:void 0){var sa=Bg.getElementById(aa);sa&&sa.parentNode.removeChild(sa);delete om[aa];Jt(aa)}},hr=/^\{h:'/,Hv=/^!_/,Iv="",Fx=function(aa,sa){function bb(){wp("message",pb,"remove","de")}function pb(sc){var wd=sc.data,Ie=sc.origin;if(Xh(wd,sa)){var Ve=Sb;Sb=!1;Ve&&In("rqe");Bp(aa,function(){Ve&&In("rqd");bb();for(var Uf=Qf(Wg,
"RPMQ",[]),lg=0;lg<Uf.length;lg++)Uf[lg]({data:wd,origin:Ie})})}}if(0!==sa.length){Iv=bg(cl.href,"pfname","");var Sb=!0;wp("message",pb,"add","at");Hf(aa,bb)}},Xh=function(aa,sa){aa=String(aa);if(hr.test(aa))return!0;var bb=!1;Hv.test(aa)&&(bb=!0,aa=aa.substr(2));if(!/^\{/.test(aa))return!1;var pb=sx(aa);if(!pb)return!1;aa=pb.f;if(pb.s&&aa&&-1!=Dk.call(sa,aa)){if("_renderstart"===pb.s||pb.s===Iv+"/"+aa+"::_renderstart")if(pb=pb.a&&pb.a[bb?0:1],sa=Bg.getElementById(aa),$q(aa,2),pb&&sa&&pb.width&&pb.height){a:{bb=
sa.parentNode;aa=pb||{};if(so()){var Sb=sa.id;if(Sb){pb=(pb=om[Sb])?pb.state:void 0;if(1===pb||4===pb)break a;Jt(Sb)}}(pb=bb.nextSibling)&&pb.getAttribute&&pb.getAttribute("data-gapistub")&&(bb.parentNode.removeChild(pb),bb.style.cssText="");pb=aa.width;var sc=aa.height,wd=bb.style;wd.textIndent="0";wd.margin="0";wd.padding="0";wd.background="transparent";wd.borderStyle="none";wd.cssFloat="none";wd.styleFloat="none";wd.lineHeight="normal";wd.fontSize="1px";wd.verticalAlign="baseline";bb=bb.style;
bb.display="inline-block";wd=sa.style;wd.position="static";wd.left="0";wd.top="0";wd.visibility="visible";pb&&(bb.width=wd.width=pb+"px");sc&&(bb.height=wd.height=sc+"px");aa.verticalAlign&&(bb.verticalAlign=aa.verticalAlign);Sb&&$q(Sb,3)}sa["data-csi-wdt"]=(new Date).getTime()}return!0}return!1},Bp=function(aa,sa){Hf(aa,sa)},Vk=function(aa,sa){this.N=aa;aa=sa||{};this.ha=Number(aa.maxAge)||0;this.W=aa.domain;this.Y=aa.path;this.ia=!!aa.secure};Vk.prototype.read=function(){for(var aa=this.N+"=",sa=
document.cookie.split(/;\s*/),bb=0;bb<sa.length;++bb){var pb=sa[bb];if(0==pb.indexOf(aa))return pb.substr(aa.length)}};Vk.prototype.write=function(aa,sa){if(!kz.test(this.N))throw"Invalid cookie name";if(!oq.test(aa))throw"Invalid cookie value";aa=this.N+"="+aa;this.W&&(aa+=";domain="+this.W);this.Y&&(aa+=";path="+this.Y);sa="number"===typeof sa?sa:this.ha;if(0<=sa){var bb=new Date;bb.setSeconds(bb.getSeconds()+sa);aa+=";expires="+bb.toUTCString()}this.ia&&(aa+=";secure");document.cookie=aa;return!0};
Vk.prototype.clear=function(){this.write("",0)};var oq=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,kz=/^[A-Z_][A-Z0-9_]{0,63}$/;Vk.iterate=function(aa){for(var sa=document.cookie.split(/;\s*/),bb=0;bb<sa.length;++bb){var pb=sa[bb].split("="),Sb=pb.shift();aa(Sb,pb.join("="))}};var vo=function(aa){this.G=aa};vo.prototype.read=function(){if(Jn.hasOwnProperty(this.G))return Jn[this.G]};vo.prototype.write=function(aa){Jn[this.G]=aa;return!0};vo.prototype.clear=function(){delete Jn[this.G]};var Jn={};vo.iterate=function(aa){for(var sa in Jn)Jn.hasOwnProperty(sa)&&
aa(sa,Jn[sa])};var Am="https:"===window.location.protocol,mi=Am||"http:"===window.location.protocol?Vk:vo,Wk=function(aa){var sa=aa.substr(1),bb="",pb=window.location.hostname;if(""!==sa){bb=parseInt(sa,10);if(isNaN(bb))return null;sa=pb.split(".");if(sa.length<bb-1)return null;sa.length==bb-1&&(pb="."+pb)}else pb="";return{j:"S"==aa.charAt(0),domain:pb,o:bb}},Jv=function(){var aa,sa=null;mi.iterate(function(bb,pb){0===bb.indexOf("G_AUTHUSER_")&&(bb=Wk(bb.substring(11)),!aa||bb.j&&!aa.j||bb.j==aa.j&&
bb.o>aa.o)&&(aa=bb,sa=pb)});return{fa:aa,K:sa}},Kt=function(aa){if(!aa)return[];aa=aa.split("=");return aa[1]?aa[1].split("|"):[]},Cp=function(aa){aa=aa.split(":");return{clientId:aa[0].split("=")[1],ka:Kt(aa[1]),na:Kt(aa[2]),ma:Kt(aa[3])}},ir=function(){var aa=Jv(),sa=aa.fa;aa=aa.K;if(null!==aa){var bb;mi.iterate(function(sc,wd){(sc=Ta(sc))&&sc.X&&sc.j==sa.j&&sc.o==sa.o&&(bb=wd)});if(bb){var pb=Cp(bb),Sb=pb&&pb.ka[Number(aa)];pb=pb&&pb.clientId;if(Sb)return{K:aa,ja:Sb,clientId:pb}}}return null},
Xg=function(){this.V=Bm};Fg=Xg.prototype;Fg.aa=function(){this.M||(this.A=0,this.M=!0,this.Z())};Fg.Z=function(){this.M&&(this.V()?this.A=this.T:this.A=Math.min(2*(this.A||this.T),120),window.setTimeout(Fa(this.Z,this),1E3*this.A))};Fg.A=0;Fg.T=2;Fg.V=null;Fg.M=!1;var ah=null;so=function(){return Wg.oa=!0};bn=function(){Wg.oa=!0;var aa=ir();(aa=aa&&aa.K)&&fh("googleapis.config/sessionIndex",aa);ah||(ah=Qf(Wg,"ss",new Xg));aa=ah;aa.aa&&aa.aa()};var Bm=function(){var aa=ir(),sa=aa&&aa.ja||null,bb=aa&&
aa.clientId;Hf("auth",{callback:function(){var pb=ph.gapi.auth,Sb={client_id:bb,session_state:sa};pb.checkSessionState(Sb,function(sc){var wd=Sb.session_state,Ie=Uk("isLoggedIn");sc=Uk("debug/forceIm")?!1:wd&&sc||!wd&&!sc;if(Ie=Ie!=sc)fh("isLoggedIn",sc),bn(),hz(),sc||((sc=pb.signOut)?sc():(sc=pb.setToken)&&sc(null));sc=sv();var Ve=Uk("savedUserState");wd=pb._guss(sc.cookiepolicy);Ve=Ve!=wd&&"undefined"!=typeof Ve;fh("savedUserState",wd);(Ie||Ve)&&ex(sc)&&!Uk("disableRealtimeCallback")&&pb._pimf(sc,
!0)})}});return!0};In("bs0",!0,window.gapi._bs);In("bs1",!0);delete window.gapi._bs}).call(void 0);rb.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,
"googleapis.config":{auth:{useFirstPartyAuthV2:!1}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!1,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"en",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},
url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",
methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},
plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},
plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},
url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},
sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},
zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},
h:"m;/_/scs/apps-static/_/js/k=oz.gapi.en_US.MWM3Xj_RD9s.O/am=AQ/d=1/ct=zgms/rs=AGLTcCOUmnuCcTtedasW7L1tq37fs4eoIg/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"4f1fdca05837fff2aeba6f468b1106b3cee46dcd",dpo:!1},platform:"additnow backdrop blogger comments commentcount community donation family_creation follow hangout health page partnersbadge person playemm playreview plus plusone post ratingbadge savetoandroidpay savetodrive savetowallet sharetoclassroom shortlists signin2 surveyoptin visibility youtube ytsubscribe zoomableimage".split(" "),
fp:"4f1fdca05837fff2aeba6f468b1106b3cee46dcd",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});var ob=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js");ob.notify=function(Bb,Va){var Ta,xa,wa,Qa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Eb){switch(Eb.nextAddress){case 1:return Ta=ob.morph({type:"text",textAlign:"center",textString:Va,fill:null,padding:ob.Rectangle.inset(10),fontSize:30,fontColor:"white",fontWeight:"bold",
readOnly:!0,grabbable:!1}),xa=Math.max(Bb.width+40,Ta.width),wa=Math.max(120,Ta.height),Qa=Bb.addMorph({extent:ob.pt(xa,wa),border:{radius:8},name:"notification",center:Bb.innerBounds().center(),origin:ob.pt(xa/2,wa/2),fill:ob.Color.gray,scale:.1,grabbable:!1,submorphs:[Ta]}),Qa.submorphs[0].center=Qa.innerBounds().center().subPt(ob.pt(xa/2,wa/2)),Eb.yield(Qa.animate({scale:1,duration:400}),2);case 2:return Eb.yield(ob.promise.delay(800),3);case 3:return Eb.yield(Qa.animate({opacity:0,duration:400}),
4);case 4:Qa.remove(),Eb.jumpToEnd()}})};ob.promise=Ab;ob.fun=kc;ob.arr=ac;ob.string=Ld;ob.resource=Tc;ob.pt=$d;ob.Rectangle=Uc;ob.Color=Pc;ob.connect=Jd;ob.once=pe;ob.signal=Ze;ob.morph=Ff;ob.easings=te;ob.touchInputDevice=Bc;ob.Icon=sd;ob.config=le;ob.Morph=jc;ob.Menu=je;ob.loadMorphFromSnapshot=Ae;ob.createMorphSnapshot=Dc;ob.UserRegistry=Mc;ob.ClientUser=bc;ob.loadPart=Gc;ob.LoadingIndicator=Zc;ob.gapi=_missingExportShim;ob.pathForBrowserHistory=Rd;rb=Ha("UserUI",{getCurrentUser:function(){return ob.UserRegistry.current.loadUserFromLocalStorage(ob.config.users.authServerURL)},
showUserFlap:function(Bb){Bb=void 0===Bb?$world:Bb;var Va,Ta,xa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wa){switch(wa.nextAddress){case 1:return wa.yield(tb.import("./lively top bar master-943d78fd.js"),3);case 3:if(!(Va=wa.yieldResult)){wa.jumpTo(4);break}return wa.yield(ob.resource("part://SystemIDE/lively top bar master"),5);case 5:Va=wa.yieldResult;case 4:return wa.yield(Va.read(),2);case 2:return Ta=wa.yieldResult,Ta.name="lively top bar",Ta.hasFixedPosition=!0,Ta.respondsToVisibleWindow=
!0,Ta.openInWorld(),Ta.relayout(),Ta.top=-Ta.height,xa=Ta.dropShadow,Ta.dropShadow=null,Ta.attachToTarget(Bb),tb.import("./__root_module__-f418f9fd.js").then(function(Qa){return Qa.bY}).then(function(Qa){var Eb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rc){switch(rc.nextAddress){case 1:return rc.yield(Ta.whenRendered(),2);case 2:return rc.yield(Ta.animate({position:ob.pt(0,0),dropShadow:xa,duration:500}),3);case 3:if(Bb.metadata){rc.jumpTo(0);break}Bb.animate({customTween:function(qb){Ta.blur=
Bb.blur=3*qb},duration:500});return rc.yield(Bb.askForName(),5);case 5:Eb=rc.yieldResult,Bb.name=Eb,Bb.changeMetaData("commit",{name:Eb}),window.history&&window.history.pushState({},"lively.next",ob.pathForBrowserHistory(Eb)),Bb.animate({customTween:function(qb){Ta.blur=Bb.blur=3*(1-qb)},duration:500}),rc.jumpToEnd()}})}),wa.return(Ta)}})},hideUserFlap:function(Bb){Bb=void 0===Bb?$world:Bb;Bb.submorphs.filter(function(Va){return"user flap"===Va.name&&Va.owner==Bb}).forEach(function(Va){return Va.remove()})},
showWidget:function(Bb,Va){Va=void 0===Va?{}:Va;var Ta=this,xa,wa,Qa,Eb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rc){if(1==rc.nextAddress)return xa=Va,wa=void 0===xa.modal?!0:xa.modal,Qa=void 0===xa.user?Ta.getCurrentUser():xa.user,rc.yield(Ta.loadMorph(Bb),2);Eb=rc.yieldResult;return rc.return(Eb.run(wa,Va.world,Qa))})},showUserInfo:function(Bb){Bb=void 0===Bb?{}:Bb;var Va=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ta){return 1==Ta.nextAddress?Ta.yield(Va.showWidget("user info",
Bb),2):Ta.return(Ta.yieldResult)})},showLogin:function(Bb){Bb=void 0===Bb?{}:Bb;var Va=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ta){return Ta.return(Va.showWidget("login widget",Bb))})},showRegister:function(Bb){Bb=void 0===Bb?{}:Bb;var Va=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ta){return Ta.return(Va.showWidget("register widget",Bb))})},loadMorph:function(Bb,Va){var Ta,xa,wa,Qa,Eb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rc){switch(rc.nextAddress){case 1:switch(Bb){case "login widget":return rc.jumpTo(2);
case "user info":return rc.jumpTo(3);case "register widget":return rc.jumpTo(4)}rc.jumpTo(5);break;case 2:return rc.yield(tb.import("./login widget-5def77bf.js"),7);case 7:if(!(Ta=rc.yieldResult)){rc.jumpTo(8);break}return rc.yield(ob.resource("part://SystemUserUI/login widget"),9);case 9:Ta=rc.yieldResult;case 8:return rc.yield(Ta.read(),6);case 6:return rc.return(rc.yieldResult);case 3:return rc.yield(tb.import("./user info-1b51d1c1.js"),11);case 11:if(!(xa=rc.yieldResult)){rc.jumpTo(12);break}return rc.yield(ob.resource("part://SystemUserUI/user info"),
13);case 13:xa=rc.yieldResult;case 12:return rc.yield(xa.read(),10);case 10:return rc.return(rc.yieldResult);case 4:return rc.yield(tb.import("./register widget-b86ae955.js"),15);case 15:if(!(wa=rc.yieldResult)){rc.jumpTo(16);break}return rc.yield(ob.resource("part://SystemUserUI/register widget"),17);case 17:wa=rc.yieldResult;case 16:return rc.yield(wa.read(),14);case 14:return rc.return(rc.yieldResult);case 5:return Qa=System.decanonicalize("lively.user/morphic/"+Bb+".json"),rc.yield(ob.resource(Qa).readJson(),
18);case 18:return Eb=rc.yieldResult,rc.return(ob.loadMorphFromSnapshot(Eb,Va))}})}});ob.UserUI=rb;ob.UserUI=rb;ob.UserUI=rb;(function(Bb){var Va=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Ta=Va.hasOwnProperty("UserWidget")&&"function"===typeof Va.UserWidget?Va.UserWidget:Va.UserWidget=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Kd(Ta,Bb,[{key:"run",value:function(xa,wa,Qa){var Eb=
this;wa=void 0===wa?$world:wa;if(void 0===xa||xa)var rc=wa.addMorph({name:this.name+" overlay",hasFixedPosition:!0,grabbable:!1,draggable:!1,extent:wa.extent,fill:ob.Color.black.withA(.4)});this.epiMorph=this.hasFixedPosition=!0;this.activate(Qa);return(new Promise(function(qb,sb){ob.once(Eb,"resolved",qb)})).then(function(qb){Eb.remove();rc&&rc.remove();return qb})}},{key:"activate",value:function(xa){xa=$world;xa.addMorph(this);this.align(this.worldPoint(this.innerBounds().center()),xa.visibleBounds().center());
this.focus()}},{key:"onKeyDown",value:function(xa){"Enter"===xa.keyCombo&&(this.onEnterPressed(),xa.stop());"Escape"===xa.keyCombo&&(this.onEscapePressed(),xa.stop());"Tab"===xa.keyCombo&&(this.focusNext(),xa.stop());"Shift-Tab"===xa.keyCombo&&(this.focusPrev(),xa.stop())}},{key:"focusOrder",value:function(){return[]}},{key:"focusNext",value:function(){var xa=this.focusOrder(),wa=this.world().focusedMorph;wa=xa.indexOf(wa)+1;wa>xa.length-1&&(wa=0);xa[wa].focus()}},{key:"focusPrev",value:function(){var xa=
this.focusOrder(),wa=this.world().focusedMorph;wa=xa.indexOf(wa)-1;0>wa&&(wa=xa.length-1);xa[wa].focus()}},{key:"onEscapePressed",value:function(){this.close()}},{key:"onEnterPressed",value:function(){}},{key:"close",value:function(){}},{key:"_save",value:function(){var xa=this,wa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){if(1==Qa.nextAddress)return Qa.yield(ob.createMorphSnapshot(xa),2);wa=Qa.yieldResult;return Qa.yield(lively.modules.module("lively.user/morphic/"+xa.name+".json").changeSource(JSON.stringify(wa,
null,2),{doEval:!1}),0)})}},{key:"_htmlExport",value:function(){var xa=this,wa,Qa,Eb,rc,qb,sb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(kb){if(1==kb.nextAddress)return wa=lively.modules.module,Qa=wa("lively.user/html/"+xa.name+".html").id,Eb=ob.resource(Qa),kb.yield(wa("lively.morphic/rendering/html-generator.js").load(),2);if(3!=kb.nextAddress)return rc=kb.yieldResult,qb=rc.generateHTML,kb.yield(qb(xa,Eb,{isFragment:!0,addStyles:!1}),3);sb=kb.yieldResult;return kb.return({resource:Eb,
html:sb})})}},{key:"htmlExport_transformNode",value:function(xa){this.focusOrder().forEach(function(wa,Qa){return xa.querySelector("#"+wa.id).tabIndex=Qa+1});return xa}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserWidget"}},{key:"properties",get:function(){return{user:{}}}}],Va,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",
version:"0.2.0"}}},{start:4983,end:7715})})(ob.Morph);rb=Ha("UserInfoWidget",function(Bb){var Va=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Ta=Va.hasOwnProperty("UserInfoWidget")&&"function"===typeof Va.UserInfoWidget?Va.UserInfoWidget:Va.UserInfoWidget=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Kd(Ta,Bb,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),emailInput:this.getSubmorphNamed("email input"),saveButton:this.getSubmorphNamed("save button"),logoutButton:this.getSubmorphNamed("logout button"),closeButton:this.getSubmorphNamed("close button"),userAvatar:this.getSubmorphNamed("user avatar")}}},{key:"activate",value:function(xa){Kd._get(Object.getPrototypeOf(Ta.prototype),"activate",this).call(this,xa);this.displayUser(xa)}},{key:"focus",
value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){var xa=this.ui;return[xa.userNameInput,xa.emailInput,xa.passwordInput,xa.passwordInput2]}},{key:"onEnterPressed",value:function(){this.trySave()}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(xa){xa.draggable=!1;xa.grabbable=!1});ob.connect(this.ui.saveButton,"fire",this,"trySave");ob.connect(this.ui.logoutButton,"fire",this,"logout");ob.connect(this.ui.closeButton,"onMouseDown",this,"close");this.ui.userNameInput.readOnly=
!0;this.ui.userNameInput.selectable=!0;ob.notify(this,"OK")}},{key:"displayUser",value:function(xa){xa=(this.user=xa)||{};var wa=xa.email,Qa=this.ui,Eb=Qa.emailInput,rc=Qa.passwordInput,qb=Qa.passwordInput2,sb=Qa.userAvatar;Qa.userNameInput.input=xa.name||"";Eb.input=wa||"";rc.input="";qb.input="";sb.imageUrl=ob.resource("https://s.gravatar.com/avatar").join(ob.string.md5(wa||"")).withQuery({s:320}).url}},{key:"trySave",value:function(){var xa=this,wa,Qa,Eb,rc,qb,sb,kb,ha,Pa,T,ia,Fa,$a,zb,Cc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ba){switch(Ba.nextAddress){case 1:wa=
xa;Qa=wa.user;Eb=wa.ui;rc=Eb.emailInput;qb=Eb.passwordInput;sb=Eb.passwordInput2;if(!Qa)return Ba.return(xa.showError("no user object"));kb=rc.input;ha=qb.input;Pa=sb.input;if(Qa.email==kb&&!ha&&!Pa)return Ba.return(ob.signal(xa,"resolved",Qa));if(!ha&&!Pa){Ba.jumpTo(2);break}return ha!==Pa?Ba.return(xa.world().inform("Passwords do not match!",{requester:xa})):Ba.yield(xa.world().passwordPrompt("To set a new password, please enter your old one",{requester:xa}),3);case 3:return(T=Ba.yieldResult)?Ba.yield(Qa.checkPassword(T),
4):Ba.return(xa.world().inform("Old password needed to change password, aborting!",{requester:xa}));case 4:if(ia=Ba.yieldResult,!ia)return Ba.return(xa.world().inform("Old password is not correct, aborting!",{requester:xa}));case 2:return Fa={},ha&&(Fa.password=ha),kb&&(Fa.email=kb),Ba.yield(Qa.modify(Fa),5);case 5:return $a=Ba.yieldResult,zb=$a.status,(Cc=$a.error)?Ba.return(xa.world().inform("Failed to modify: "+Cc,{requester:xa})):Ba.yield(ob.UserRegistry.current.saveUserToLocalStorage(Qa),6);
case 6:return Ba.yield(ob.notify(xa,zb),7);case 7:xa.displayUser(Qa),ob.signal(xa,"resolved",Qa),Ba.jumpToEnd()}})}},{key:"logout",value:function(){var xa=this,wa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){if(1==Qa.nextAddress)return Qa.yield(ob.UserRegistry.current.logout(xa.user),2);if(3!=Qa.nextAddress)return xa.displayUser(xa.user),xa.remove(),Qa.yield(ob.UserUI.showLogin({modal:!1}),3);wa=Qa.yieldResult;ob.signal(xa,"resolved",wa);Qa.jumpToEnd()})}},{key:"close",value:function(){ob.signal(this,
"resolved",this.user)}},{key:"onMouseUp",value:function(xa){var wa=this.ui,Qa=wa.closeButton;wa=wa.saveButton;switch(xa.targetMorph){case Qa:this.close();break;case wa:this.trySave()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserInfoWidget"}}],Va,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",
version:"0.2.0"}}},{start:7724,end:11740})}(ob.UserWidget));ob.UserInfoWidget=rb;ob.UserInfoWidget=rb;ob.UserInfoWidget=rb;rb=Ha("LoginWidget",function(Bb){var Va=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Ta=Va.hasOwnProperty("LoginWidget")&&"function"===typeof Va.LoginWidget?Va.LoginWidget:Va.LoginWidget=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Kd(Ta,Bb,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
passwordInput:this.getSubmorphNamed("password input"),loginButton:this.getSubmorphNamed("login button"),registerButton:this.getSubmorphNamed("register button"),guestButton:this.getSubmorphNamed("guest button"),emailLoginForm:this.getSubmorphNamed("email login form"),googleLogin:this.getSubmorphNamed("google login"),emailLogin:this.getSubmorphNamed("email login"),appleLogin:this.getSubmorphNamed("apple login")}}},{key:"signInWithGoogle",value:function(){ob.gapi.load("auth2",function(){var xa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wa){if(1==
wa.nextAddress)return ob.gapi.auth2.init({client_id:"CLIENT_ID.apps.googleusercontent.com"}),xa=ob.gapi.auth2.getAuthInstance(),wa.yield(xa.signIn(),2);wa.jumpToEnd()})})}},{key:"signInWithEmail",value:function(){var xa=this,wa,Qa,Eb,rc,qb,sb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(kb){wa=xa.ui;Qa=wa.emailLoginForm;Eb=wa.googleLogin;rc=wa.emailLogin;qb=wa.appleLogin;sb=ob.easings.inOutExpo;[Eb,rc,qb].map(function(ha){return ha.animate({visible:!1,isLayoutable:!1,easing:sb,duration:300})});
Qa.animate({visible:!0,isLayoutable:!0,easing:sb,duration:300});kb.jumpToEnd()})}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.passwordInput]}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(ha){ha.draggable=!1;ha.grabbable=!1});var xa=this.ui,wa=xa.registerButton,Qa=xa.userNameInput,Eb=xa.appleLogin,rc=xa.passwordInput,qb=xa.emailLoginForm,sb=xa.googleLogin,kb=xa.emailLogin;ob.connect(xa.loginButton,
"fire",this,"tryLogin");ob.connect(wa,"fire",this,"switchToRegisterWidget");ob.connect(kb,"fire",this,"signInWithEmail");ob.connect(sb,"fire",this,"loginWithGoogle");Qa.input="";rc.input="";qb.isLayoutable=qb.visible=!1;[kb,Eb,sb].map(function(ha){return ha.visible=ha.isLayoutable=!0})}},{key:"onEnterPressed",value:function(){this.tryLogin()}},{key:"tryLogin",value:function(){var xa=this,wa,Qa,Eb,rc,qb,sb,kb,ha,Pa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(T){switch(T.nextAddress){case 1:wa=
xa;Qa=wa.ui;Eb=Qa.userNameInput;rc=Qa.passwordInput;qb=Eb.input;sb=rc.input;if(!qb)return T.return();kb=ob.ClientUser.named(qb,ob.config.users.authServerURL);T.setCatchFinallyBlocks(2);return T.yield(ob.UserRegistry.current.login(kb,sb),4);case 4:T.leaveTryBlock(3);break;case 2:Pa=T.enterCatchBlock(),ha=Pa.message;case 3:if(ha)return ob.signal(xa,"loginFailed",ha),ha.includes("No user")&&xa.indicateError(xa.ui.userNameInput,ha),ha.includes("does not match")&&xa.indicateError(xa.ui.passwordInput,"Password incorrect"),
T.return();ob.notify(xa,"logged in");ob.signal(xa,"loginSucceeded",kb);ob.signal(xa,"resolved",kb);T.jumpToEnd()}})}},{key:"switchToRegisterWidget",value:function(){var xa=this,wa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){if(1==Qa.nextAddress)return Qa.yield(ob.UserUI.showRegister({modal:!1}),2);(wa=Qa.yieldResult)&&ob.signal(xa,"resolved",wa);Qa.jumpToEnd()})}},{key:"continueAsGuest",value:function(){var xa=this,wa,Qa,Eb,rc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qb){if(1==
qb.nextAddress)return wa=ob.UserRegistry.current,Qa=wa.loadUserFromLocalStorage(ob.config.users.authServerURL),Qa.isGuestUser?(Eb=Qa,qb.jumpTo(2)):qb.yield(wa.login(ob.ClientUser.guest),3);2!=qb.nextAddress&&(Eb=qb.yieldResult);rc=Eb;ob.signal(xa,"resolved",rc);qb.jumpToEnd()})}},{key:"indicateError",value:function(xa,wa){xa.indicateError(wa)}},{key:"clearErrors",value:function(){this.ui.userNameInput.clearError();this.ui.passwordInput.clearError()}},{key:"onMouseUp",value:function(xa){var wa=this.ui,
Qa=wa.loginButton;wa=wa.registerButton;switch(xa.targetMorph){case Qa:this.tryLogin();break;case wa:this.switchToRegisterWidget()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LoginWidget"}}],Va,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:11749,end:15660})}(ob.UserWidget));
ob.LoginWidget=rb;ob.LoginWidget=rb;ob.LoginWidget=rb;rb=Ha("RegisterWidget",function(Bb){var Va=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Ta=Va.hasOwnProperty("RegisterWidget")&&"function"===typeof Va.RegisterWidget?Va.RegisterWidget:Va.RegisterWidget=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Kd(Ta,Bb,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
emailInput:this.getSubmorphNamed("email input"),passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),registerButton:this.getSubmorphNamed("register button"),cancelButton:this.getSubmorphNamed("cancel button")}}},{key:"onEnterPressed",value:function(){this.tryRegister()}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.emailInput,this.ui.passwordInput,this.ui.passwordInput2]}},
{key:"reset",value:function(){this.withAllSubmorphsDo(function(xa){xa.draggable=!1;xa.grabbable=!1});ob.connect(this.ui.registerButton,"fire",this,"tryRegister");ob.connect(this.ui.cancelButton,"fire",this,"close");this.ui.userNameInput.readOnly=!0;this.ui.userNameInput.selectable=!0;ob.notify(this,"OK")}},{key:"displayUser",value:function(xa){this.user=xa}},{key:"tryRegister",value:function(){var xa=this,wa,Qa,Eb,rc,qb,sb,kb,ha,Pa,T,ia,Fa,$a;return $jscomp.asyncExecutePromiseGeneratorProgram(function(zb){switch(zb.nextAddress){case 1:wa=
xa;Qa=wa.ui;Eb=Qa.userNameInput;rc=Qa.emailInput;qb=Qa.passwordInput;sb=Qa.passwordInput2;kb=Eb.input;ha=rc.input;Pa=qb.input;T=sb.input;if(!(kb&&Pa&&T&&ha))return kb||Eb.indicateError("Please enter a user name!"),ha||rc.indicateError("Please enter E-Mail address!"),Pa||qb.indicateError("Please enter a password!"),T||sb.indicateError("Please repeat your password!"),zb.return();if(Pa!==T)return sb.indicateError("Passwords do not match!"),zb.return();ia=ob.ClientUser.named(kb,ob.config.users.authServerURL);
ha&&(ia.email=ha);zb.setCatchFinallyBlocks(2);return zb.yield(ob.UserRegistry.current.register(ia,Pa),4);case 4:zb.leaveTryBlock(3);break;case 2:Fa=$a=zb.enterCatchBlock();case 3:return Fa?zb.return(xa.world().inform("Failed to register: "+Fa,{requester:xa})):zb.yield(ob.notify(xa,"registered"),5);case 5:xa.displayUser(ia),ob.signal(xa,"resolved",ia),zb.jumpToEnd()}})}},{key:"close",value:function(){ob.signal(this,"resolved",this.user)}},{key:"onMouseUp",value:function(xa){var wa=this.ui,Qa=wa.registerButton;
wa=wa.cancelButton;switch(xa.targetMorph){case Qa:this.tryRegister();break;case wa:this.close()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RegisterWidget"}}],Va,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:15669,end:18563})}(ob.UserWidget));ob.RegisterWidget=
rb;ob.RegisterWidget=rb;ob.RegisterWidget=rb;rb=Ha("UserFlap",function(Bb){var Va=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Ta=Va.hasOwnProperty("UserFlap")&&"function"===typeof Va.UserFlap?Va.UserFlap:Va.UserFlap=function(xa){xa&&xa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Kd(Ta,Bb,[{key:"isUserFlap",get:function(){return!0}},{key:"isMaximized",get:function(){return 3<this.submorphs.length}},{key:"onLoad",
value:function(){var xa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wa){if(1==wa.nextAddress)return wa.yield(xa.whenRendered(),2);if([xa].concat($jscomp.arrayFromIterable(xa.ownerChain())).find(function(Qa){return Qa.isComponent}))return wa.return();xa.showUser(xa.currentUser());wa.jumpToEnd()})}},{key:"open",value:function(){var xa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wa){xa.openInWorld();xa.showUser(xa.currentUser(),!1);xa.alignInWorld(!1);xa.hasFixedPosition=
!0;return wa.return(xa)})}},{key:"onMouseDown",value:function(xa){var wa=this,Qa,Eb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rc){switch(rc.nextAddress){case 1:Qa=xa.targetMorph.name;Eb=wa.currentUser();switch(Qa){case "profile item":return rc.return(wa.showUserInfo(Eb));case "logout item":return rc.jumpTo(2);case "login item":return rc.jumpTo(3);case "register item":wa.showRegister();break;case "user flap":wa.maximize();break;case "keyboard input":wa.toggleKeyboardInput()}rc.jumpTo(0);
break;case 2:return rc.yield(wa.minimize(),5);case 5:return rc.yield(wa.logout(Eb),6);case 6:return rc.return();case 3:return rc.yield(wa.showLogin(Eb),7);case 7:return rc.return()}})}},{key:"toggleKeyboardInput",value:function(xa){xa=void 0===xa?!ob.touchInputDevice:xa;ob.touchInputDevice=xa;var wa=this.get("keyboard input");xa?(wa.fontColor=ob.Color.rgb(0,176,255),wa.dropShadow=this.haloShadow):(wa.fontColor=this.fontColor,wa.dropShadow=!1)}},{key:"currentUser",value:function(){return ob.UserRegistry.current.loadUserFromLocalStorage(ob.config.users.authServerURL)}},
{key:"onUserChanged",value:function(xa){this.showUser(xa.user||{name:"???"},!1)}},{key:"onWorldResize",value:function(xa){!this.isComponent&&this.alignInWorld()}},{key:"relayout",value:function(){this.alignInWorld()}},{key:"alignInWorld",value:function(xa){var wa=this,Qa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Eb){if(1==Eb.nextAddress)return Eb.yield(wa.whenRendered(),2);wa.hasFixedPosition&&wa.owner.isWorld?wa.topRight=ob.pt(wa.world().visibleBounds().width,0):wa.owner.isWorld&&
(Qa=$world.visibleBounds().topRight().withY(0).subXY(10,0),xa?wa.animate({topRight:Qa,duration:200}):wa.topRight=Qa);Eb.jumpToEnd()})}},{key:"minimize",value:function(){var xa=this,wa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){if(1==Qa.nextAddress)return(wa=xa.getSubmorphNamed("user menu"))?Qa.yield(wa.animate({opacity:0,scale:.8,duration:200}),2):Qa.return();wa.visible=!1;Qa.jumpToEnd()})}},{key:"ensureMenu",value:function(){var xa=this,wa,Qa,Eb,rc,qb,sb,kb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){switch(ha.nextAddress){case 1:if(!xa._menuFetch){ha.jumpTo(2);
break}return ha.yield(xa._menuFetch,3);case 3:return ha.return(ha.yieldResult);case 2:wa=ob.promise.deferred();xa._menuFetch=wa.promise;if(Qa=xa.getSubmorphNamed("user menu")){ha.jumpTo(4);break}Eb=xa;rc=Eb.addMorph;qb=Eb;return ha.yield(tb.import("./user menu master-2e207658.js"),6);case 6:if(!(sb=ha.yieldResult)){ha.jumpTo(7);break}return ha.yield(ob.resource("part://SystemIDE/user menu master"),8);case 8:sb=ha.yieldResult;case 7:return ha.yield(sb.read(),5);case 5:Qa=rc.call(qb,ha.yieldResult);
case 4:kb=Qa,kb.name="user menu",kb.visible=!1,kb.opacity=0,kb.scale=.8,kb.position=xa.getSubmorphNamed("avatar").bottomCenter.addXY(0,10),wa.resolve(kb),ha.jumpToEnd()}})}},{key:"maximize",value:function(){var xa=this,wa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){if(1==Qa.nextAddress)return(wa=xa.getSubmorphNamed("user menu"))?Qa.jumpTo(2):Qa.yield(xa.ensureMenu(),3);2!=Qa.nextAddress&&(wa=Qa.yieldResult);wa.right=xa.width-5;wa.visible=!0;return Qa.yield(wa.animate({opacity:1,
scale:1,duration:200}),0)})}},{key:"changeWidthAndHeight",value:function(xa,wa,Qa){var Eb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rc){return Qa?rc.yield(Eb.animate({position:Eb.position.addXY(Eb.width-xa,0),extent:ob.pt(xa,wa),duration:200}),0):(Eb.extent=ob.pt(xa,wa),Eb.position=Eb.position.addXY(Eb.width-xa,0),rc.jumpTo(0))})}},{key:"showMenuItems",value:function(xa){var wa=this;ob.arr.withoutAll(["login item","logout item","profile item","register item"],xa).map(function(Qa){return wa.getSubmorphNamed(Qa)}).forEach(function(Qa){Qa.visible=
!1;Qa.bringToFront()});xa.map(function(Qa){return wa.getSubmorphNamed(Qa)}).forEach(function(Qa){Qa.visible=!0})}},{key:"showUser",value:function(xa,wa){var Qa=this,Eb,rc,qb,sb,kb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){switch(ha.nextAddress){case 1:return Eb=Qa.getSubmorphNamed("label"),rc=Qa.getSubmorphNamed("user menu"),qb=Qa.getSubmorphNamed("avatar"),Qa.getSubmorphNamed("login item"),Qa.getSubmorphNamed("logout item"),Qa.getSubmorphNamed("profile item"),sb=String(xa.name),
kb=ob.resource("https://s.gravatar.com/avatar").join(ob.string.md5(xa.email||"")).withQuery({s:160}).url,ha.yield(Qa.ensureMenu(),2);case 2:sb.startsWith("guest-")?(Qa.showMenuItems(["login item","register item"]),sb="guest"):Qa.showMenuItems(["logout item","profile item"]);Eb.value=sb;qb.imageUrl=kb;if(!rc){ha.jumpTo(3);break}return ha.yield(rc.master.whenApplied(),4);case 4:rc.position=qb.bottomCenter.addXY(0,10);case 3:return ha.yield(Qa.whenRendered(),5);case 5:Qa.alignInWorld(),ha.jumpToEnd()}})}},
{key:"showRegister",value:function(){return ob.UserUI.showRegister()}},{key:"showUserInfo",value:function(xa){return ob.UserUI.showUserInfo({user:xa})}},{key:"showLogin",value:function(xa){return ob.UserUI.showLogin({user:xa})}},{key:"logout",value:function(xa){return ob.UserRegistry.current.logout(xa)}},{key:"onBlur",value:function(xa){var wa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){if(1==Qa.nextAddress)return wa.minimize(),Qa.yield(wa.whenRendered(),2);wa.world().focusedMorph.ownerChain().includes(wa)&&
wa.focus();Qa.jumpToEnd()})}},{key:"showMenu",value:function(xa,wa){wa=void 0===wa?!1:wa;var Qa=this,Eb,rc,qb,sb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(kb){Eb=Qa.getSubmorphNamed("label");rc=Qa.getSubmorphNamed("avatar");qb=["open chat",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){ha.jumpToEnd()})}];sb=Object.assign(ob.Menu.forItems(xa.isGuestUser?[qb,["login",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){Qa.minimize();
Qa.showLogin(xa);ha.jumpToEnd()})}]]:[["show user info",function(){Qa.minimize();Qa.showUserInfo(xa)}],qb,["logout",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){if(1==ha.nextAddress)return ha.yield(Qa.minimize(),2);Qa.logout(xa);ha.jumpToEnd()})}]]),{name:"menu",position:ob.pt(10,5),dropShadow:!1,opacity:wa?0:1,borderWidth:0,fontSize:12,fontFamily:"Helvetica Neue, Verdana, Sans Serif"});rc.visible=!1;Eb.visible=!1;Qa.addMorph(sb);wa&&sb.animate({opacity:1,duration:200});
return kb.yield(Qa.changeWidthAndHeight(sb.width+20,sb.height+10,wa),0)})}},{key:"updateNetworkIndicator",value:function(xa){var wa="red";xa&&(xa.isOnline()&&(wa="yellow"),xa.isRegistered()&&(wa="green"));this.get("network-indicator").animate({fill:ob.Color[wa],duration:300})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserFlap"}},{key:"properties",get:function(){return{submorphs:{initialize:function(){this.submorphs=[{type:"label",name:"label",fontSize:12,fontFamliy:"Helvetica Neue, Verdana, Sans Serif",
fontWeight:"bold",padding:ob.Rectangle.inset(4),reactsToPointer:!1},ob.Icon.makeLabel("user",{name:"avatar",fontColor:ob.Color.black.withA(.3),fontSize:12,clipMode:"hidden",padding:ob.Rectangle.inset(2,2,4,0),borderWidth:1,borderColor:ob.Color.black.withA(.3),extent:ob.pt(20,20),borderRadius:10}),{name:"network-indicator",fill:ob.Color.red,borderRadius:5,extent:ob.pt(5,5),position:ob.pt(5,8),reactsToPointer:!1}]}},fontColor:{after:["submorphs"],set:function(xa){this.setProperty("fontColor",xa)}},
name:{initialize:function(){this.name="user flap"}},epiMorph:{defaultValue:!0},clipMode:{defaultValue:"hidden"},draggable:{defaultValue:!1},grabbable:{defaultValue:!1},acceptsDrops:{defaultValue:!1},fill:{defaultValue:ob.Color.white},borderRadiusBottom:{defaultValue:10},borderRadiusLeft:{defaultValue:10},borderRadiusRight:{defaultValue:10},nativeCursor:{defaultValue:"pointer"},respondsToVisibleWindow:{defaultValue:!0},haloColor:{readOnly:!0,get:function(){return ob.Color.rgb(0,176,255)}},haloShadow:{readOnly:!0,
get:function(){return{distance:2,rotation:45,color:ob.Color.rgba(64,196,255,.4),inset:!1,blur:6,spread:0,fast:!1}}}}}}],Va,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:18572,end:27776})}(ob.Morph));ob.UserFlap=rb;ob.UserFlap=rb;ob.UserFlap=rb}}});System.register("10",[],function(){return{execute:function(){lively.FreezerRuntime.recorderFor("lively.2lively/index.js")}}});
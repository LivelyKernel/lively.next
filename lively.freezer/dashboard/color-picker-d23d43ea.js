System.register(["./__root_module__-896eff71.js","./index-344072cc.js"],function($a){var Vb,jc,Wc,wc,Ud,Kd,he,xd,gd,Ld,Pd,af,bf,Ve,Ad,xe,qc,td,be,Bd,pe,Se,nc,$c,ge,ad,ie,Yb,zb,Rc,Mc,tc,Tc,fb,uc,Rb,Fc,Uc,vd,Xd,vc,Oc,pc,bb,Ma,oa,La,Ua,Sb,Ca,Va,dc;return{setters:[function(sb){Vb=sb.C;jc=sb.bf;Wc=sb.bg;wc=sb.bh;Ud=sb.bi;Kd=sb.bj;he=sb.bk;xd=sb.p;gd=sb.ab;Ld=sb.bl;Pd=sb.bm;af=sb.bn;bf=sb.M;Ve=sb.O;Ad=sb.Y;xe=sb.W;qc=sb.aE;td=sb.bo;be=sb.bp;Bd=sb.d;pe=sb.g;Se=sb.n;nc=sb.b;$c=sb.i;ge=sb.I;ad=sb.ai;
ie=sb.h;Yb=sb.bq;zb=sb.ae;Rc=sb.aA;Mc=sb.br;tc=sb.m;Tc=sb.ah;fb=sb.ad;uc=sb.a6;Rb=sb.a;Fc=sb.f;Uc=sb.c;vd=sb._;Xd=sb.a2;vc=sb.R;Oc=sb.bs;pc=sb.bt;bb=sb.bu;Ma=sb.ac;oa=sb.o;La=sb.as;Ua=sb.r},function(sb){Sb=sb.p;Ca=sb.P;Va=sb.d;dc=sb.N}],execute:function(){var sb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");sb.Color=Vb;sb.Complementary=jc;sb.Triadic=Wc;sb.Tetradic=wc;sb.Quadratic=Ud;sb.Analogous=Kd;sb.Neutral=he;sb.pt=xd;sb.Point=gd;sb.flatDesignColors=Ld;sb.materialDesignColors=
Pd;sb.webSafeColors=af;sb.Morph=bf;sb.Text=Ve;sb.Ellipse=Ad;sb.Image=xe;sb.DropDownSelector=qc;sb.ModeSelector=td;sb.Slider=be;sb.connect=Bd;sb.signal=pe;sb.num=Se;sb.arr=nc;sb.WHEEL_URL="/lively.ide/assets/color-wheel.png";sb.duration=200;(function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Tb=gc.hasOwnProperty("ColorPaletteField")&&"function"===typeof gc.ColorPaletteField?gc.ColorPaletteField:gc.ColorPaletteField=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"onHoverIn",value:function(){if(this.color){var Ya=$jscomp.makeIterator(this.color.isGradient?sb.Color.blue.toHSB():this.color.toHSB()),ha=Ya.next().value,Pa=Ya.next().value;Ya=Ya.next().value;this.borderColor=sb.Color.hsb(ha,1<Pa+.5?Pa-.5:Pa+.5,1<Ya+.5?Ya-.5:Ya+.5)}}},{key:"onHoverOut",value:function(){this.borderColor=sb.Color.transparent}},{key:"onMouseDown",value:function(){sb.signal(this,"updateColor",
this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:sb.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||sb.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||sb.Color.transparent}},styleClasses:{after:["color"],initialize:function(){this.styleClasses=this.color?["colorField"]:["vacantColorField"]}}}}}],
gc,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:525,end:1539})})(sb.Morph);(function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Tb=gc.hasOwnProperty("ColorHarmonyField")&&"function"===typeof gc.ColorHarmonyField?gc.ColorHarmonyField:
gc.ColorHarmonyField=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"onMouseDown",value:function(){sb.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:sb.pt(80,60)},fill:{defaultValue:sb.Color.transparent},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color harmony field"}}},
color:{set:function(Ya){var ha=$jscomp.makeIterator(this.submorphs),Pa=ha.next().value;ha=ha.next().value;var nb=$jscomp.makeIterator(Ya?Ya.toHSB():[]),cc=nb.next().value,Lc=nb.next().value;nb=nb.next().value;this.setProperty("color",Ya);Ya&&Pa&&ha&&(Pa.fill=Ya,ha.textString=Ya.toHexString(),ha.fontColor=sb.Color.hsb(cc,1<Lc+.5?Lc-.5:Lc+.5,1<nb+.5?nb-.5:nb+.5))}},submorphs:{after:["color"],initialize:function(){var Ya=$jscomp.makeIterator((this.color||sb.Color.transparent).toHSB()),ha=Ya.next().value,
Pa=Ya.next().value;Ya=Ya.next().value;this.submorphs=[new sb.Morph({fill:this.color,extent:sb.pt(80,50)}),new sb.Text({textString:ha.toFixed()+", "+Pa.toFixed(2)+", "+Ya.toFixed(2),fill:sb.Color.transparent,fontColor:sb.Color.gray.darker(),bottomLeft:sb.pt(0,50)})]}}}}}],gc,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:1541,end:2933})})(sb.Morph);(function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Tb=gc.hasOwnProperty("HarmonyDisplay")&&"function"===typeof gc.HarmonyDisplay?gc.HarmonyDisplay:gc.HarmonyDisplay=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"update",value:function(Ya){var ha=$jscomp.makeIterator(Ya.pivotColor.toHSB()),Pa=ha.next().value,
nb=ha.next().value;ha=ha.next().value;Pa=Ya.harmony.chord({hue:Pa,saturation:nb,brightness:ha});Pa.length!=this.submorphs.length?this.submorphs=Pa.map(function(cc){cc=new sb.ColorHarmonyField({color:cc});sb.connect(cc,"updateColor",Ya,"color");return cc}):sb.arr.zip(this.submorphs,Pa).forEach(function(cc){var Lc=$jscomp.makeIterator(cc);cc=Lc.next().value;Lc=Lc.next().value;cc.color=Lc})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyDisplay"}}],gc,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2935,end:3513})})(sb.Morph);(function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Tb=gc.hasOwnProperty("PivotColorControl")&&"function"===typeof gc.PivotColorControl?gc.PivotColorControl:gc.PivotColorControl=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"update",value:function(Ya){this.pivotColor=Ya.pivotColor}},{key:"onDrag",value:function(Ya){var ha=$jscomp.makeIterator(this.pivotColor.toHSB()),Pa=ha.next().value,nb=ha.next().value;ha=ha.next().value;Pa=sb.num.toRadians(Pa);Ya=sb.Point.polar(50*nb,Pa).addPt(Ya.state.dragDelta);Pa=sb.num.toDegrees(Ya.theta());Pa=0>Pa?Pa+360:Pa;nb=Math.min(Ya.r()/50,1);this.pivotColor=sb.Color.hsb(Pa,nb,ha)}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:sb.Color.blue},draggable:{defaultValue:!0}}}}],gc,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3515,end:4149})})(sb.Ellipse);(function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
Tb=gc.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof gc.HarmonyVisualizer?gc.HarmonyVisualizer:gc.HarmonyVisualizer=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"update",value:function(Ya){var ha=$jscomp.makeIterator(this.submorphs).next().value,Pa=this.get("pivot control"),nb=$jscomp.makeIterator(Ya.pivotColor.toHSB()),cc=nb.next().value,Lc=nb.next().value;nb=nb.next().value;var pd=
sb.num.toRadians(cc);cc=Ya.harmony.chord({hue:cc,saturation:Lc,brightness:nb}).map(function(ce){var Ie=$jscomp.makeIterator(ce.toHSB()),Gd=Ie.next().value;ce=Ie.next().value;Ie.next();Ie=sb.num.toRadians(Gd);return sb.Point.polar(50*ce,Ie)});ha.fill=sb.Color.black.withA(1-nb);Pa.update(Ya);ha.submorphs.length-1!=cc.length?ha.submorphs=[].concat($jscomp.arrayFromIterable(cc.map(function(ce){return new sb.Ellipse({center:ce,fill:sb.Color.transparent,draggable:!1,borderWidth:1,borderColor:sb.Color.black})})),
[Pa]):(sb.arr.zip(ha.submorphs,cc).forEach(function(ce){var Ie=$jscomp.makeIterator(ce);ce=Ie.next().value;if(Ie=Ie.next().value)ce.center=Ie}),Pa.center=sb.Point.polar(50*Lc,pd))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new sb.PivotColorControl({name:"pivot control"})]}]}}}}}],
gc,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4151,end:5613})})(sb.Image);(function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Tb=gc.hasOwnProperty("HarmonyPalette")&&"function"===typeof gc.HarmonyPalette?gc.HarmonyPalette:gc.HarmonyPalette=
function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"update",value:function(Ya){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=Ya.pivotBrightness,this.harmony=Ya.harmony,this.get("harmonies").update(Ya),this.get("harmony visualizer").update(Ya),this.updateInProgress=!1)}},{key:"harmonyControl",value:function(){var Ya,ha,Pa=new sb.Morph({name:"harmonyControl",submorphs:[new sb.HarmonyVisualizer({name:"harmony visualizer"}),
ha=new sb.Slider({min:0,max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),Ya=new sb.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new sb.Complementary,Triadic:new sb.Triadic,Tetradic:new sb.Tetradic,Quadratic:new sb.Quadratic,Analogous:new sb.Analogous,Neutral:new sb.Neutral}})]});sb.connect(ha,"value",this,"pivotBrightness");sb.connect(Ya,"selectedValue",
this,"harmony");return Pa}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new sb.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],initialize:function(){this.submorphs=[new sb.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],gc,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5615,end:7542})})(sb.Morph);var od=$a("C",function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Tb=gc.hasOwnProperty("ColorPalette")&&"function"===typeof gc.ColorPalette?gc.ColorPalette:gc.ColorPalette=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"fadeIntoWorld",value:function(Ya){$c._get(Object.getPrototypeOf(Tb.prototype),"fadeIntoWorld",this).call(this,Ya);this.initPosition=Ya;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function(Ya){"Escape"==Ya.key&&this.close()}},{key:"close",value:function(Ya){Ya?this.fadeOut(Ya):this.remove();sb.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",
extent:sb.pt(400,253),submorphs:[this.solidColorPalette(),new sb.HarmonyPalette({name:"harmony palette",isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var Ya=this.get("solidColorPalette"),ha=this.get("paletteView");Ya.visible||(ha.submorphs.forEach(function(Pa){return Pa.animate({isLayoutable:!1,visible:!1,duration:200})}),Ya.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var Ya=this.get("paletteView");this.get("harmony palette").visible||
(Ya.submorphs.forEach(function(ha){return ha.animate({isLayoutable:!1,visible:!1,duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var Ya=new sb.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette","Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});sb.connect(Ya,"Color Palette",this,"selectSolidMode");sb.connect(Ya,"Color Harmonies",this,"selectHarmonyMode");
return Ya}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var Ya=this.getColorsFor(this.colorPalette),ha=Ya.colors,Pa=Ya.mod;return this.cachedPalette[Ya.name]||this.getPalette(ha,Pa)}},{key:"getPalette",value:function(Ya,ha){var Pa=this,nb=Math.max(Math.ceil(Ya.length/ha),15),cc=nb*this.colorFieldWidth,Lc=
ha*this.colorFieldWidth;Ya=[].concat($jscomp.arrayFromIterable(Ya),$jscomp.arrayFromIterable(sb.arr.withN(nb*ha-Ya.length,null)));return{extent:sb.pt(cc,Lc),name:"paletteContainer",submorphs:Ya.map(function(pd){pd=new sb.ColorPaletteField({color:pd&&sb.Color.rgbHex(pd),extent:sb.pt(Pa.colorFieldWidth,Pa.colorFieldWidth)});sb.connect(pd,"updateColor",Pa,"color");return pd})}}},{key:"switchPalette",value:function(Ya){var ha=Ya.name,Pa=Ya.colors;Ya=Ya.mod;var nb=this.get("solidColorPalette"),cc=$jscomp.makeIterator(nb.submorphs);
cc.next();cc=cc.next().value;this.cachedPalette[ha]=this.cachedPalette[ha]||this.getPalette(Pa,Ya,ha);nb.submorphs=[this.cachedPalette[ha],cc]}},{key:"getPaletteDescription",value:function(Ya){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",custom:"Your personal set of customly defined colors.",
materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[Ya]}},{key:"updatePaletteDescription",
value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function(Ya){return Object.assign({name:Ya},{flatDesign:{colors:sb.flatDesignColors,mod:11},materialDesign:{colors:sb.materialDesignColors,mod:15},webSafe:{colors:sb.webSafeColors,mod:12}}[Ya])}},{key:"paletteConfig",value:function(){var Ya,ha={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[Ya=new sb.DropDownSelector({isHaloItem:!0,name:"paletteSelector",
selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};sb.connect(Ya,"selectedValue",this,"colorPalette");return ha}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:sb.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function(Ya){this.setProperty("colorPalette",
Ya);this.switchPalette(this.getColorsFor(Ya));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function(Ya){this.setProperty("pivotColor",Ya);this.get("harmony palette").update(this)}},color:{set:function(Ya){this.setProperty("color",Ya);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var Ya=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());Ya.next();Ya.next();return Ya.next().value},
set:function(Ya){var ha=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),Pa=ha.next().value;ha=ha.next().value;this.pivotColor=sb.Color.hsb(Pa,ha,Ya)}},harmony:{after:["submorphs","pivotColor"],defaultValue:new sb.Complementary,set:function(Ya){this.setProperty("harmony",Ya);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var Ya=
$jscomp.makeIterator((this.color.isGradient?sb.Color.blue:this.color).toHSB()),ha=Ya.next().value,Pa=Ya.next().value;Ya.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=sb.Color.hsb(ha,Pa,1);sb.connect(this.get("harmony palette"),"harmony",this,"harmony");sb.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");sb.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],
gc,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:7608,end:15438})}(sb.Morph));sb.ColorPalette=od;sb.ColorPalette=od;sb.ColorPalette=od;var bc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");bc.Morph=bf;bc.Icon=ge;bc.ConstraintLayout=ad;bc.config=ie;
bc.Text=Ve;bc.ShadowObject=Yb;bc.GridLayout=zb;bc.TilingLayout=Rc;bc.StyleSheet=Mc;bc.morph=tc;bc.HorizontalLayout=Tc;bc.VerticalLayout=fb;bc.KeyHandler=uc;bc.connect=Bd;bc.signal=pe;bc.arr=nc;bc.promise=Rb;bc.fun=Fc;bc.string=Uc;bc.obj=vd;bc.Color=Vb;bc.rect=Xd;bc.Rectangle=vc;bc.pt=xd;bc.popovers=Sb;bc.ModeSelector=td;bc.DropDownSelector=qc;bc.SearchField=Oc;bc.CheckBox=pc;bc.Popover=Ca;bc.SvgStyleHalo=Va;bc.NumberWidget=dc;bc.Icons=bb;bc.duration=200;var Td=$a("c",bc.colorWidgets||{});bc.colorWidgets=
Td;bc.colorWidgets=Td;bc.colorWidgets=Td;(function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Tb=gc.hasOwnProperty("SelectableControl")&&"function"===typeof gc.SelectableControl?gc.SelectableControl:gc.SelectableControl=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"select",value:function(Ya){var ha=this,Pa,nb,cc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Lc){if(1==
Lc.nextAddress)return ha.target?Lc.yield(ha.target.execCommand(Ya),2):Lc.return();Pa=Lc.yieldResult;nb=ha.get("modeSelector");Pa.opacity=0;ha.lastLabel&&(cc=nb.submorphs.indexOf(ha.lastLabel)<nb.submorphs.indexOf(nb.currentLabel),Pa.topLeft=nb.bottomLeft.addXY(cc?20:-20,10));ha.lastLabel=nb.currentLabel;ha.animate({submorphs:[nb,Pa],duration:bc.duration});Pa.animate({opacity:1,duration:bc.duration});Lc.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SelectableControl"}},
{key:"properties",get:function(){return{target:{type:"Morph"},selectableControls:{},selectedControl:{},fill:{defaultValue:bc.Color.transparent},layout:{initialize:function(){this.layout=new bc.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function(Ya){return this.container.submorphs.indexOf(Ya)}})}},submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var Ya=new bc.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});
this.submorphs=[Ya];Ya.width=100;bc.connect(Ya,"switchLabel",this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],gc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:948,end:2579})})(bc.Morph);(function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
Tb=gc.hasOwnProperty("ToggledControl")&&"function"===typeof gc.ToggledControl?gc.ToggledControl:gc.ToggledControl=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"toggle",value:function(Ya){var ha=$jscomp.makeIterator(this.submorphs).next().value,Pa=this.toggledControl(Ya);ha=[ha].concat($jscomp.arrayFromIterable(Pa?[Pa]:[]));bc.signal(this,"update",Ya&&Pa.value);Pa&&(Pa.opacity=0);this.animate({submorphs:ha,
duration:bc.duration});Pa&&Pa.animate({opacity:1,duration:bc.duration})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:bc.Color.transparent},layout:{initialize:function(){this.layout=new bc.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var Ya=new bc.CheckBox({checked:this.checked});this.submorphs=
[{fill:bc.Color.transparent,layout:new bc.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:bc.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},Ya]}];this.toggle(this.checked);bc.connect(Ya,"toggle",this,"toggle")}}}}}],gc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2581,end:4273})})(bc.Morph);(function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Tb=gc.hasOwnProperty("StylePopover")&&"function"===typeof gc.StylePopover?gc.StylePopover:gc.StylePopover=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"setupConnections",value:function(){}},{key:"controls",
value:function(){return[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=bc.morph({layout:new bc.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:bc.Color.transparent,submorphs:this.controls()});this.setupConnections()}}}}}],gc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4275,end:4825})})(bc.Popover);var rd=function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Tb=gc.hasOwnProperty("IconPopover")&&"function"===typeof gc.IconPopover?gc.IconPopover:gc.IconPopover=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"onDrop",value:function(Ya){var ha=this;Ya.hand.grabbedMorphs.find(function(Pa){return Pa===
ha.iconLabel})&&(Ya.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new bc.VerticalLayout({spacing:4}),fill:bc.Color.transparent,submorphs:[new bc.SearchField({name:"searchInput",width:200,placeHolder:"Search Icons"}),bc.morph({textAndAttributes:this.iconAsTextAttributes(),name:"iconList",draggable:!0,type:"text",extent:bc.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var Ya=
this.ui,ha=Ya.iconList;bc.connect(Ya.searchInput,"searchInput",this,"filterIcons");bc.connect(ha,"onMouseUp",this,"iconSelectClick");bc.connect(ha,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",value:function(Ya){Ya=this.ui.iconList.textPositionFromPoint(Ya.positionIn(this.ui.iconList));Ya=this.iconAtTextPos(Ya);this.iconLabel=bc.Icon.makeLabel(Ya,{fontSize:this.ui.iconList.fontSize,name:Ya});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",
value:function(Ya){var ha=Object.keys(bc.Icons);Ya&&(ha=ha.filter(Ya));return bc.arr.flatmap(ha,function(Pa,nb){return[bc.Icons[Pa].code,{iconCode:bc.Icons[Pa].code,iconName:Pa}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",value:function(){var Ya=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){if(1==ha.nextAddress)return ha.yield(bc.promise.delay(250),2);bc.fun.debounceNamed("filterIcons",200,function(){Ya.ui.iconList.textAndAttributes=Ya.iconAsTextAttributes(function(Pa){return Ya.ui.searchInput.matches(Pa.toLowerCase())})})();
ha.jumpToEnd()})}},{key:"iconSelectClick",value:function(Ya){Ya=this.ui.iconList.textPositionFromPoint(Ya.positionIn(this.ui.iconList));Ya=this.iconAtTextPos(Ya);this.setStatusMessage(Ya);bc.signal(this,"select",Ya)}},{key:"iconAtTextPos",value:function(Ya){var ha=Ya.row;Ya=Ya.column;--Ya;for(var Pa=this.ui.iconList,nb=Pa.textAndAttributesInRange({start:{row:ha,column:Math.max(0,Ya)},end:{row:ha,column:Ya+2}});nb.length&&!nb[1].iconName;)Ya++,nb=nb.slice(2);var cc={start:{row:ha,column:Ya},end:{row:ha,
column:Ya+1}};Pa.addTextAttribute({backgroundColor:Pa.selectionColor.darker().withA(.5)},cc);bc.promise.delay(1E3).then(function(){return Pa.addTextAttribute({backgroundColor:bc.Color.transparent},cc)});return nb.length?nb[1].iconName:null}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"IconPopover"}},{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:bc.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),
iconList:this.get("iconList")}}}}}}],gc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4834,end:8444})}(bc.StylePopover);bc.IconPopover=rd;bc.IconPopover=rd;bc.IconPopover=rd;rd=function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Tb=gc.hasOwnProperty("LayoutPopover")&&
"function"===typeof gc.LayoutPopover?gc.LayoutPopover:gc.LayoutPopover=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"getLayoutObjects",value:function(){return[null,new bc.HorizontalLayout({autoResize:!1}),new bc.VerticalLayout({autoResize:!1}),new bc.TilingLayout,new bc.ConstraintLayout,new bc.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){$c._get(Object.getPrototypeOf(Tb.prototype),
"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:bc.Color.transparent,layout:new bc.VerticalLayout({spacing:5,layoutOrder:function(Ya){return this.container.submorphs.indexOf(Ya)}}),submorphs:[this.layoutPicker(),this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),
duration:300}:{isLayoutable:!1,extent:bc.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function(Ya){this.clearLayoutHalo();Ya&&Ya.layout&&(this.layoutHalo=(Ya.world()||Ya.env.world).showLayoutHaloFor(Ya))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function(Ya){return Ya?Ya.name()+" Layout":
"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function(Ya){this.container.animate({layout:Ya});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());bc.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var Ya=this,ha=this.getLayoutObjects().map(function(Pa){var nb={};return nb[Ya.getLayoutName(Pa)]=Pa,nb});ha=this.get("Layout Type")||new bc.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return Ya.getCurrentLayoutName()},
selectedValue:this.container.layout,values:bc.obj.merge(ha)});bc.connect(ha,"selectedValue",this,"applyLayout");return ha}},{key:"layoutControls",value:function(){return{name:"controlContainer",fill:bc.Color.transparent,layout:new bc.VerticalLayout,isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:bc.Color.gray.lighter()}}}}],
gc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:8453,end:11240})}(bc.StylePopover);bc.LayoutPopover=rd;bc.LayoutPopover=rd;bc.LayoutPopover=rd;rd=function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Tb=gc.hasOwnProperty("FillPopover")&&
"function"===typeof gc.FillPopover?gc.FillPopover:gc.FillPopover=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"openHandle",value:function(Ya){Ya.openInWorld();this.openHandles.push(Ya)}},{key:"close",value:function(){$c._get(Object.getPrototypeOf(Tb.prototype),"close",this).call(this);this.openHandles.forEach(function(Ya){return Ya.remove()})}},{key:"setupConnections",value:function(){var Ya=
this.ui,ha=Ya.fillSelector,Pa=Ya.colorField;Ya=Ya.gradientEditor;ha&&bc.connect(this,"fillValue",ha,"value");Ya&&(bc.connect(Ya,"gradientValue",this,"fillValue"),bc.connect(Ya,"openHandle",this,"openHandle"));Pa&&(bc.connect(this,"close",Pa,"remove"),bc.connect(Pa,"update",this,"fillValue"),bc.connect(this,"onMouseDown",Pa,"removeWidgets"))}},{key:"commands",get:function(){var Ya=this;return $c._get(Object.getPrototypeOf(Tb.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var ha=
new bc.colorWidgets.ColorPickerField({name:"colorField",colorValue:Ya.fillValue.isGradient?bc.Color.blue:Ya.fillValue});ha.whenRendered().then(function(){Ya.setupConnections()});return ha}},{name:"switch to gradient",exec:function(){var ha=new bc.colorWidgets.GradientEditor({name:"gradient editor",gradientValue:Ya.fillValue});ha.whenRendered().then(function(){Ya.setupConnections();Ya.handleMorph&&ha.showGradientHandlesOn(Ya.handleMorph);ha.update()});return ha}}])}},{key:"controls",value:function(){var Ya=
this;if(!this.gradientEnabled){var ha=new bc.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue});ha.whenRendered().then(function(){ha.update(Ya.fillValue)});return[{fill:bc.Color.transparent,layout:new bc.VerticalLayout({spacing:0}),submorphs:[ha]}]}return[new bc.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},fillValue:{defaultValue:bc.Color.blue},popoverColor:{defaultValue:bc.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],gc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:11249,end:14234})}(bc.StylePopover);bc.FillPopover=rd;bc.FillPopover=rd;bc.FillPopover=rd;var dd=$a("S",function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Tb=gc.hasOwnProperty("ShadowPopover")&&"function"===typeof gc.ShadowPopover?gc.ShadowPopover:gc.ShadowPopover=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"controls",value:function(){var Ya=this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",ha=[{layout:new bc.VerticalLayout({resizeContainer:!0,spacing:5}),fill:bc.Color.transparent,name:"control container",submorphs:[Ya=new bc.DropDownSelector({name:"shadow type",borderRadius:2,padding:3,selectedValue:Ya,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?
this.shadowControls():[])}];bc.connect(Ya,"selectedValue",this,"changeShadowType");return ha}},{key:"shadowControls",value:function(){var Ya=this.shadowValue,ha=new bc.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:Ya.distance,unit:"px"}),Pa=new bc.NumberWidget({name:"angleSlider",min:0,max:360,number:Ya.rotation,autofit:!1}),nb=new bc.NumberWidget({name:"spreadSlider",min:0,number:Ya.spread,autofit:!1}),cc=new bc.NumberWidget({name:"blurSlider",min:0,number:Ya.blur,autofit:!1});Ya=new bc.colorWidgets.ColorPickerField({name:"colorPicker",
colorValue:Ya.color});bc.connect(Ya,"colorValue",this,"updateShadow",{converter:function(Lc){return{color:Lc}}});bc.connect(this,"onMouseDown",Ya,"removeWidgets");bc.connect(this,"close",Ya,"remove");bc.connect(nb,"update",this,"updateShadow",{converter:function(Lc){return{spread:Lc}}});bc.connect(ha,"update",this,"updateShadow",{converter:function(Lc){return{distance:Lc}}});bc.connect(cc,"update",this,"updateShadow",{converter:function(Lc){return{blur:Lc}}});bc.connect(Pa,"update",this,"updateShadow",
{converter:function(Lc){return{rotation:Lc}}});return new bc.Morph({layout:new bc.GridLayout({autoAssign:!1,fitToCell:!1,columns:[0,{paddingLeft:1}],rows:bc.arr.flatten(bc.arr.range(0,3).map(function(Lc){return[Lc,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",null,"distanceSlider"],["blurLabel",null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:bc.Color.transparent,submorphs:bc.arr.flatten([["distance",
ha],["spread",nb],["blur",cc],["angle",Pa],["color",Ya]].map(function(Lc){var pd=$jscomp.makeIterator(Lc);Lc=pd.next().value;pd=pd.next().value;return[{type:"label",styleClasses:["controlName"],value:bc.string.capitalize(Lc)+":",name:Lc+"Label"},pd]}))})}},{key:"changeShadowType",value:function(Ya){"No Shadow"==Ya?this.toggleShadow(!1):"Inset Shadow"==Ya?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?
this.shadowControls():[]),duration:300})}},{key:"updateShadow",value:function(Ya){var ha=this.shadowValue;Ya=Object.assign({fast:ha.fast,color:ha.color,spread:ha.spread,blur:ha.blur,distance:ha.distance,rotation:ha.rotation,inset:ha.inset},Ya);this.shadowValue=new bc.ShadowObject(Ya)}},{key:"toggleShadow",value:function(Ya){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=Ya&&this.cachedShadow}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowPopover"}},
{key:"properties",get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new bc.ShadowObject({fast:!0})},popoverColor:{defaultValue:bc.Color.gray.lighter()}}}}],gc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:14243,end:18677})}(bc.StylePopover));bc.ShadowPopover=dd;
bc.ShadowPopover=dd;bc.ShadowPopover=dd;bc.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";dd=function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Tb=gc.hasOwnProperty("PointPopover")&&"function"===typeof gc.PointPopover?gc.PointPopover:gc.PointPopover=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"refineResolution",
value:function(Ya){this.resolution=.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function(Ya){this.pointValue=this.pointValue.addPt(Ya.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){$c._get(Object.getPrototypeOf(Tb.prototype),"relayout",this).call(this);var Ya=this.getSubmorphNamed("mesh"),ha=this.getSubmorphNamed("point value view");Ya.origin=Ya.innerBounds().center().addXY(4,1);Ya.position=this.get("body").innerBounds().center();
Ya.scale=this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";ha.value=bc.obj.safeToString(this.pointValue);ha.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function(Ya){var ha=this;$c._get(Object.getPrototypeOf(Tb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,Ya);this.whenRendered().then(function(){return ha.relayout()})}},{key:"calibrate",value:function(){var Ya=
this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){if(1==ha.nextAddress)return Ya.get("knob").animate({center:Ya.innerBounds().center(),duration:200}),ha.yield(Ya.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);Ya.relayout();ha.jumpToEnd()})}},{key:"showPointValue",value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},{key:"controls",value:function(){this.extent=bc.pt(200,200);var Ya,ha,Pa=[bc.morph({extent:bc.pt(200,
200),clipMode:"hidden",fill:bc.Color.transparent,submorphs:[{type:"image",name:"mesh",fill:bc.Color.transparent,opacity:.5,imageUrl:bc.milimeter,autoResize:!0},{extent:bc.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:bc.Color.gray},fill:bc.Color.transparent},Ya=bc.morph({name:"scroller",extent:bc.pt(200,200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),ha=bc.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:bc.Color.red,borderColor:bc.Color.black,
borderWidth:1,center:bc.pt(100,100),draggable:!0}),{type:"label",name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:bc.pt(10,10),type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];Ya.scroll=bc.pt(0,120);bc.connect(ha,"onDragStart",this,"showPointValue");bc.connect(ha,"onDrag",this,"adjustPoint");bc.connect(ha,"onDragEnd",this,"calibrate");bc.connect(this,"extent",this,"relayout");bc.connect(Ya,"onScroll",this,"refineResolution");return Pa}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"PointPopover"}},{key:"properties",get:function(){return{pointValue:{defaultValue:bc.pt(0,0)},resolution:{defaultValue:1}}}}],gc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:18792,end:21996})}(bc.StylePopover);bc.PointPopover=dd;bc.PointPopover=dd;bc.PointPopover=
dd;dd=function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Tb=gc.hasOwnProperty("RectanglePopover")&&"function"===typeof gc.RectanglePopover?gc.RectanglePopover:gc.RectanglePopover=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"controls",value:function(){var Ya=this;return[{fill:bc.Color.transparent,extent:bc.pt(120,120),layout:new bc.GridLayout({grid:[["top",
"top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],columns:[0,{paddingLeft:4},1,{paddingRight:4,fixed:!0,width:60}],rows:bc.arr.flatten(bc.arr.range(0,3).map(function(ha){return[ha,{paddingTop:0==ha?4:2,paddingBottom:3==ha?4:2}]}))}),submorphs:bc.arr.flatten(["top","right","bottom","left"].map(function(ha){var Pa=new bc.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},name:ha+" scrubber",autofit:!1,number:Ya.rectangle.partNamed(ha)});
bc.connect(Pa,"update",Ya,"rectangle",{updater:function(nb,cc){var Lc=this.targetObj.rectangle,pd={};cc=(pd.left=Lc.left(),pd.top=Lc.top(),pd.right=Lc.right(),pd.bottom=Lc.bottom(),pd[ha]=cc,pd);nb(bc.Rectangle.inset(cc.left,cc.top,cc.right,cc.bottom))},varMapping:{side:ha,Rectangle:bc.Rectangle}});return[{type:"label",styleClasses:["controlName"],name:ha,value:ha,padding:3},Pa]}))}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RectanglePopover"}},{key:"properties",get:function(){return{popoverColor:{defaultValue:bc.Color.gray.lighter()},
rectangle:{defaultValue:bc.rect(0)}}}}],gc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:22005,end:23989})}(bc.StylePopover);bc.RectanglePopover=dd;bc.RectanglePopover=dd;bc.RectanglePopover=dd;dd=function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
Tb=gc.hasOwnProperty("TextPopover")&&"function"===typeof gc.TextPopover?gc.TextPopover:gc.TextPopover=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"controls",value:function(){var Ya=new bc.Text(Object.assign({name:"editor",extent:bc.pt(300,200),textString:this.text,lineWrapping:"by-chars"},bc.config.codeEditor.defaultStyle));return[{layout:new bc.HorizontalLayout,fill:bc.Color.transparent,borderColor:bc.Color.gray,
borderWidth:1,borderRadius:4,clipMode:"hidden",submorphs:[Ya]}]}},{key:"commands",get:function(){return $c._get(Object.getPrototypeOf(Tb.prototype),"commands",this).concat([{name:"save string",exec:function(Ya){return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){Ya.text=Ya.get("editor").textString;bc.signal(Ya,"save",Ya.text);Ya.setStatusMessage("String saved!",bc.Color.green);ha.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return $c._get(Object.getPrototypeOf(Tb.prototype),"keybindings",
this).concat([{keys:{mac:"Command-S",win:"Ctrl-S"},command:"save string"}])}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],gc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},
{start:23998,end:25073})}(bc.StylePopover);bc.TextPopover=dd;bc.TextPopover=dd;bc.TextPopover=dd;Object.assign(bc.popovers,{FillPopover:bc.FillPopover,IconPopover:bc.IconPopover,RectanglePopover:bc.RectanglePopover,ShadowPopover:bc.ShadowPopover,PointPopover:bc.PointPopover,LayoutPopover:bc.LayoutPopover});var Ub=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");Ub.Morph=bf;Ub.morph=tc;Ub.StyleSheet=Mc;Ub.Text=Ve;Ub.Icon=ge;Ub.VerticalLayout=fb;Ub.GridLayout=zb;Ub.HorizontalLayout=
Tc;Ub.pt=xd;Ub.Rectangle=vc;Ub.Color=Vb;Ub.LinearGradient=Ma;Ub.rect=Xd;Ub.signal=pe;Ub.once=oa;Ub.connect=Bd;Ub.obj=vd;Ub.num=Se;Ub.Window=La;Ub.ColorPalette=od;Ub.FillPopover=rd;Ub.colorWidgets=Td;Ub.Slider=be;Ub.Popover=Ca;Ub.resource=Ua;Ub.WHEEL_URL="/lively.ide/assets/color-wheel.png";od=function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Tb=gc.hasOwnProperty("ColorPickerField")&&"function"===typeof gc.ColorPickerField?gc.ColorPickerField:gc.ColorPickerField=
function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"spec",value:function(){return Ub.obj.dissoc($c._get(Object.getPrototypeOf(Tb.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function(Ya){"Escape"==Ya.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,
duration:300})}},{key:"onHoverOut",value:function(){this.get("dropDownIndicator").animate({opacity:0,duration:300})}},{key:"update",value:function(Ya){this._updating=!0;var ha=this.submorphs[1];this.colorValue=Ya;this.get("topLeft").fill=Ya;this.get("bottomRight").fill=Ya.isGradient?Ub.Color.transparent:Ya.withA(1);ha.visible=ha.isLayoutable=!this.gradientEnabled;this.gradientEnabled?this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=
this.get("topLeft").width=Math.max(1,this.width-ha.width);this.get("bottomRight").left=0;this.get("dropDownIndicator").right=this.get("paletteButton").width-5;this._updating=!1}},{key:"openPicker",value:function(Ya){var ha=this,Pa,nb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cc){if(1==cc.nextAddress)return(Pa=ha.picker)?cc.jumpTo(2):cc.yield(Ub.resource("part://SystemWidgets/new color picker").read(),3);2!=cc.nextAddress&&(Pa=cc.yieldResult);nb=Pa;nb.solidOnly=!ha.gradientEnabled;
nb.hasFixedPosition=!0;nb.focusOnMorph(ha.context,ha.colorValue);nb.toggleHalos(!1);nb.position=Ub.pt(0,-nb.height/2);Ub.connect(nb,"value",ha,"update");ha.picker=nb.openInWorld();ha.picker.topLeft=ha.globalBounds().bottomCenter();ha.picker.topLeft=ha.world().visibleBounds().translateForInclusion(ha.picker.globalBounds()).topLeft();cc.jumpToEnd()})}},{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function(Ya){var ha=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Pa){ha.openPicker(Ya);
Pa.jumpToEnd()})}},{key:"removeWidgets",value:function(){this.removePicker()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,after:["colorValue"],set:function(Ya){this.setProperty("gradientEnabled",Ya);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new Ub.FillPopover({fillValue:this.colorValue})}},testProp:{get:function(){return[42]}},palette:{serialize:!1,
get:function(){return this._palette||(this._palette=new Ub.Popover({position:Ub.pt(0,0),name:"Color Palette",targetMorph:new Ub.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function(Ya){Ya&&(Ya.isColor||Ya.isGradient)||(Ya=Ub.Color.blue);if(!this._updating)return this.update(Ya);this.setProperty("colorValue",Ya)},get:function(){return this.getProperty("colorValue")||Ub.Color.white}},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color field"}}},
submorphs:{initialize:function(){this.innerBounds().topRight();this.innerBounds().bottomLeft();var Ya=Ub.pt(40,25);this.submorphs=[{extent:Ya,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:Ya},{name:"bottomRight",type:"polygon",extent:Ya,origin:Ub.pt(0,0),vertices:[Ub.pt(0,0),Ya.withX(0),Ya]},Ub.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:Ub.pt(30,12.5)})]},{fill:Ub.Color.transparent,extent:Ub.pt(25,25),onHoverIn:function(){this.fill=Ub.Color.black.withA(.2)},
onHoverOut:function(){this.fill=Ub.Color.transparent},submorphs:[{name:"pickerButton",type:"image",autoResize:!1,imageUrl:Ub.WHEEL_URL}]}];Ub.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",this,"openPicker");Ub.connect(this.getSubmorphNamed("paletteButton"),"onMouseDown",this,"openPalette");Ub.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],gc,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:689,end:5910})}(Ub.Morph);Ub.ColorPickerField=od;Ub.ColorPickerField=od;Ub.ColorPickerField=od;Ub.colorWidgets.ColorPickerField=Ub.ColorPickerField;(function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Tb=gc.hasOwnProperty("FieldPicker")&&"function"===typeof gc.FieldPicker?gc.FieldPicker:gc.FieldPicker=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"confirm",value:function(){Ub.signal(this,"shadeChanged",[this.brightness,this.saturation])}},{key:"update",value:function(Ya){var ha=$jscomp.makeIterator(Ya.color.toHSB());Ya=ha.next().value;var Pa=ha.next().value;ha=ha.next().value;this.getSubmorphNamed("hue").fill=Ub.Color.hsb(Ya,1,1);this.brightness=ha;this.saturation=Pa;this.refresh()}},{key:"refresh",value:function(){this.get("picker").center=this.pickerPosition}},
{key:"onMouseDown",value:function(Ya){this.pickerPosition=Ya.positionIn(this);this.confirm()}},{key:"onDrag",value:function(Ya){this.pickerPosition=Ya.positionIn(this);this.confirm()}},{key:"relayout",value:function(){var Ya=this.innerBounds();this.getSubmorphNamed("hue").setBounds(Ya);this.getSubmorphNamed("shade").setBounds(Ya);this.getSubmorphNamed("light").setBounds(Ya)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:Ub.Color.transparent},
saturation:{defaultValue:0},brightness:{defaultValue:0},draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var Ya=this.saturation,ha=this.brightness;return void 0===Ya||void 0===ha?Ub.pt(0,0):Ub.pt(this.getSubmorphNamed("hue").width*Ya,this.getSubmorphNamed("hue").height*(1-ha))},set:function(Ya){var ha=Ya.x;Ya=Ya.y;var Pa=this.getSubmorphNamed("hue"),nb=Pa.height;this.saturation=Ub.num.clamp(ha/Pa.width,0,1);this.brightness=Ub.num.clamp(1-
Ya/nb,0,1);this.refresh()}},submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new Ub.LinearGradient({stops:[{color:Ub.Color.white,offset:0},{color:Ub.Color.transparent,offset:1}],vector:"eastwest"})},{borderRadius:3,name:"light",reactsToPointer:!1,fill:new Ub.LinearGradient({stops:[{color:Ub.Color.black,offset:0},{color:Ub.Color.transparent,offset:1}],vector:"southnorth"})},{name:"picker",type:"ellipse",
reactsToPointer:!1,fill:Ub.Color.transparent,borderColor:Ub.Color.black,borderWidth:3,extent:Ub.pt(16,16),submorphs:[{type:"ellipse",fill:Ub.Color.transparent,borderColor:Ub.Color.white,reactsToPointer:!1,borderWidth:3,center:Ub.pt(8,8),extent:Ub.pt(12,12)}]}];Ub.connect(this,"extent",this,"relayout")}}}}}],gc,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5964,end:9331})})(Ub.Morph);(function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Tb=gc.hasOwnProperty("ColorPropertyView")&&"function"===typeof gc.ColorPropertyView?gc.ColorPropertyView:gc.ColorPropertyView=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=
["key"].concat($jscomp.arrayFromIterable(this.readOnly?[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=[!this.readOnly&&"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function(Ya){"Enter"!=Ya.keyCombo||this.readOnly?$c._get(Object.getPrototypeOf(Tb.prototype),
"onKeyDown",this).call(this,Ya):(this.owner.focus(),Ya.stop(),Ub.signal(this,"updateValue",this.value))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},value:{derived:[!0],set:function(Ya){this.textString=Ub.obj.safeToString(Ya)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:Ub.Color.gray.darker()}}}}],
gc,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:9340,end:10510})})(Ub.Text);(function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Tb=gc.hasOwnProperty("HuePicker")&&"function"===typeof gc.HuePicker?gc.HuePicker:gc.HuePicker=function(Ya){Ya&&
Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"confirm",value:function(){Ub.signal(this,"hueChanged",this.hue)}},{key:"onMouseDown",value:function(Ya){var ha=this.get("slider").width;this.sliderPosition=Ub.pt(0,Ya.positionIn(this).y-ha/2);this.confirm()}},{key:"onDrag",value:function(Ya){var ha=this.get("slider").width;this.sliderPosition=Ub.pt(0,Ya.positionIn(this).y-ha/2);this.confirm()}},{key:"update",value:function(Ya){this.hue=
Ya.hsb[0];this.refresh()}},{key:"refresh",value:function(){this.get("slider").center=this.sliderPosition}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new Ub.LinearGradient({stops:[{color:Ub.Color.rgb(255,0,0),offset:0},{color:Ub.Color.rgb(255,255,0),offset:.17},{color:Ub.Color.limeGreen,offset:.33},{color:Ub.Color.cyan,offset:.5},{color:Ub.Color.blue,offset:.66},{color:Ub.Color.magenta,offset:.83},{color:Ub.Color.rgb(255,
0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return Ub.pt(this.width/2,5+this.hue/360*(this.height-10))},set:function(Ya){this.hue=Math.max(0,Math.min(Ya.y/(this.height-10)*360,359));this.refresh()}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:Ub.Color.black,fill:Ub.Color.transparent,
borderWidth:2}]}}}}}],gc,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:10512,end:12485})})(Ub.Morph);(function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Tb=gc.hasOwnProperty("ColorDetails")&&"function"===typeof gc.ColorDetails?gc.ColorDetails:
gc.ColorDetails=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"update",value:function(Ya){Ya=Ya.color;var ha=$jscomp.makeIterator(Ya.toTuple8Bit()),Pa=ha.next().value,nb=ha.next().value;ha=ha.next().value;var cc=$jscomp.makeIterator(Ya.toHSB()),Lc=cc.next().value,pd=cc.next().value;cc=cc.next().value;var ce=this.get("hashViewer");this.get("colorViewer").fill=Ya;ce.replace(ce.documentRange,Ya.toHexString(),
!1,!1);this.get("R").value="R "+Pa.toFixed(0)+"\n\nG "+nb.toFixed(0)+"\n\nB "+ha.toFixed(0)+"\n\nH "+Lc.toFixed(0)+"\n\nS "+pd.toFixed(2)+"\n\nV "+cc.toFixed(2)}},{key:"onHashViewerChanged",value:function(Ya){Ya=Ub.Color.rgbHex(Ya);this.owner.owner.color=Ya}},{key:"keyValue",value:function(Ya){var ha=Ya.name,Pa=Ya.key,nb=Ya.value,cc=Ya.update;Ya=Ya.editable;return new Ub.Morph({fill:Ub.Color.transparent,layout:new Ub.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",styleClasses:[Ya&&
"large","key"],value:Pa},new Ub.ColorPropertyView({name:ha||Pa,readOnly:!Ya,value:nb,update:cc})]})}},{key:"hashViewer",value:function(){var Ya=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});Ub.connect(Ya.get("hashViewer"),"updateValue",this,"onHashViewerChanged");return Ya}},{key:"rgbViewer",value:function(){var Ya=$jscomp.makeIterator(this.color.toTuple8Bit()),ha=Ya.next().value,Pa=Ya.next().value;Ya=Ya.next().value;return new Ub.Morph({name:"rgbViewer",fill:Ub.Color.transparent,
submorphs:[this.keyValue({key:"R",value:ha.toFixed()}),this.keyValue({key:"G",value:Pa.toFixed()}),this.keyValue({key:"B",value:Ya.toFixed()})]})}},{key:"hsbViewer",value:function(){var Ya=$jscomp.makeIterator(this.color.toHSB()),ha=Ya.next().value,Pa=Ya.next().value;Ya=Ya.next().value;return new Ub.Morph({name:"hsbViewer",fill:Ub.Color.transparent,submorphs:[this.keyValue({key:"H",value:ha.toFixed()}),this.keyValue({key:"S",value:Pa.toFixed(2)}),this.keyValue({key:"V",value:Ya.toFixed(2)})]})}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorDetails"}},{key:"properties",get:function(){return{color:{defaultValue:Ub.Color.blue},width:{defaultValue:80},fill:{defaultValue:Ub.Color.transparent},layout:{initialize:function(){this.layout=new Ub.VerticalLayout({spacing:9,layoutOrder:function(Ya){return this.container.submorphs.indexOf(Ya)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:Ub.pt(50,50),name:"colorViewer",fill:this.color},
this.hashViewer(),{type:"label",name:"R",autofit:!0,padding:Ub.rect(10,0,0,0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],gc,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12494,end:15269})})(Ub.Morph);od=$a("a",function(Ne){var gc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),
Tb=gc.hasOwnProperty("ColorPicker")&&"function"===typeof gc.ColorPicker?gc.ColorPicker:gc.ColorPicker=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return $c(Tb,Ne,[{key:"onKeyDown",value:function(Ya){"Escape"==Ya.key&&this.close()}},{key:"close",value:function(){$c._get(Object.getPrototypeOf(Tb.prototype),"close",this).call(this);Ub.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&
(this.get("header").fill=Ub.Color.transparent,this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),Ub.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var Ya=this.colorDetails(),ha=this.fieldPicker(),Pa=this.huePicker(),nb=this.alphaSlider();Ya=new Ub.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[ha,Pa,Ya,nb]});Ub.connect(ha,
"brightness",this,"brightness");Ub.connect(ha,"saturation",this,"saturation");Ub.connect(Pa,"hue",this,"hue");return Ya}},{key:"alphaSlider",value:function(){var Ya,ha=Ub.morph({name:"alphaSlider",fill:Ub.Color.transparent,layout:new Ub.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:Ub.Rectangle.inset(3),value:"Alpha",fontColor:Ub.Color.gray,fontWeight:"bold"},Ya=new Ub.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});Ub.connect(Ya,"value",this,"alpha");return ha}},
{key:"fieldPicker",value:function(){return new Ub.FieldPicker({name:"field picker",saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new Ub.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new Ub.ColorDetails({name:"details",color:this.color})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:Ub.pt(400,320)},fill:{defaultValue:Ub.Color.black.withA(.7)},
isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},hasFixedPosition:{defaultValue:!0},color:{defaultValue:Ub.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return Ub.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function(Ya){var ha=$jscomp.makeIterator(Ya.toHSB()),Pa=ha.next().value,nb=ha.next().value;ha=ha.next().value;this.hue=Pa;this.saturation=nb;this.brightness=ha;this.alpha=Ya.a}},alpha:{set:function(Ya){this.setProperty("alpha",Ya);
this.update()}},saturation:{},brightness:{set:function(Ya){this.setProperty("brightness",Ya);this.update()}},hue:{set:function(Ya){this.setProperty("hue",Ya);this.update()}},targetMorph:{initialize:function(){var Ya=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=Ub.Color.gray;this.ui.header.fill=Ub.Color.transparent;this.whenRendered().then(function(){Ya.fill=Ub.Color.black.withA(.7);Ya.update()})}}}}}],gc,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15278,end:19116})}(Ub.Window));Ub.ColorPicker=od;Ub.ColorPicker=od;Ub.ColorPicker=od}}});
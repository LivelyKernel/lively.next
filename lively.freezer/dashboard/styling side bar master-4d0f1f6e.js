System.register("./__root_module__-fd8ea0c8.js kld-intersections ./index-0b494524.js ./index-b8f51b00.js ./index-f52d5423.js ./color-picker-a5cfd845.js ./index-96a3d730.js".split(" "),function(){var Ca,Bb,Kb,lc,bc,Td,Xc,Wd,$c,Pc,md,ge,Qe,kf,ke,cc,Hc,Nd,ec,$d,le,Dc;return{setters:[function(Ic){Ca=Ic.an;Bb=Ic.aC;Kb=Ic.ab;lc=Ic.as;bc=Ic.aa;Td=Ic.a3;Xc=Ic.C;Wd=Ic.ax;$c=Ic.au;Pc=Ic.bq;md=Ic.aw;ge=Ic.a8;Qe=Ic.a7;kf=Ic.bR;ke=Ic.aj;cc=Ic.av;Hc=Ic.r;Nd=Ic.a6;ec=Ic.P;$d=Ic.bU;le=Ic.bV},function(){},function(){},
function(){},function(){},function(Ic){Dc=Ic.S},function(){}],execute:function(){var Ic=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js");Ic.Morph=Ca;Ic.touchInputDevice=Bb;Ic.morph=Kb;Ic.Icon=lc;Ic.easings=bc;Ic.pt=Td;Ic.Color=Xc;Ic.fun=Wd;Ic.connect=$c;Ic.TreeData=Pc;var Vb=function(wc){var rb=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),Gb=rb.hasOwnProperty("SettingsTree")&&"function"===typeof rb.SettingsTree?rb.SettingsTree:rb.SettingsTree=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return md(Gb,wc,[{key:"display",value:function(Oa){return Oa.panel?[Oa.panel,{}]:Oa.name}},{key:"collapse",value:function(Oa,ab){Oa.isCollapsed=ab}},{key:"isCollapsed",value:function(Oa){return Oa.isCollapsed}},{key:"isLeaf",value:function(Oa){return!Oa.children}},{key:"getChildren",value:function(Oa){var ab=this;return Oa===this.root?Oa.children.filter(function(Qa){return ab.target&&Qa.applicabilityCheck?eval(Qa.applicabilityCheck)(ab.target):
!0}):Oa.children}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SettingsTree"}},{key:"default",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" ",{}].concat($jscomp.arrayFromIterable(Ic.Icon.textAttribute("font")),[" Rich Text",{fontWeight:"bold"}]),children:[{panel:Ic.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Ic.Icon.textAttribute("image")),[" Shape",{fontWeight:"bold"}]),children:[{panel:Ic.morph({})}]},{isCollapsed:!1,
name:[" ",{}].concat($jscomp.arrayFromIterable(Ic.Icon.textAttribute("border-style")),[" Border",{paddingLeft:"2px",fontWeight:"bold"}]),children:[{panel:Ic.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Ic.Icon.textAttribute("grip-vertical")),[" Layout",{paddingLeft:"4px",fontWeight:"bold"}]),children:[{panel:Ic.morph({})}]}]})}},{key:"border",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" Type    ",{},Ic.morph({height:20}),{}],children:[{panel:Ic.morph({})}]},
{isCollapsed:!1,name:[" Color   ",{},Ic.morph({height:20}),{}],children:[{panel:Ic.morph({})}]},{isCollapsed:!1,name:[" Width  ",{},Ic.morph({height:20}),{}],children:[{panel:Ic.morph({})}]},{isCollapsed:!1,name:[" Radius ",{},Ic.morph({height:20}),{}],children:[{panel:Ic.morph({})}]}]})}}],rb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",
version:"0.1.1-67"}}},{start:284,end:2663})}(Ic.TreeData);Ic.SettingsTree=Vb;Ic.SettingsTree=Vb;Ic.SettingsTree=Vb;Vb=function(wc){var rb=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),Gb=rb.hasOwnProperty("StylingSideBar")&&"function"===typeof rb.StylingSideBar?rb.StylingSideBar:rb.StylingSideBar=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return md(Gb,wc,[{key:"relayout",value:function(){this.onWorldResize()}},
{key:"collapseAll",value:function(){this.getSubmorphsByStyleClassName("Tree").forEach(function(Oa){Oa.nodes.forEach(function(ab){return Oa.treeData.root==ab?Oa.uncollapse(ab):Oa.collapse(ab)})})}},{key:"onWorldResize",value:function(Oa){Oa=void 0===Oa?!0:Oa;if(this.respondsToVisibleWindow){var ab=$world.visibleBounds(),Qa=navigator.standalone&&Ic.touchInputDevice?25:0,Ja=this.getSubmorphNamed("horizontal resizer");this.height=ab.height-Qa;this.top=Qa+ab.top();Ja.height=this.height;Ja.left=0;Ja.top=
0;Oa&&(this.visible?this.topRight=ab.topRight():this.topLeft=ab.topRight())}}},{key:"toggle",value:function(Oa){var ab=this,Qa,Ja;return $jscomp.asyncExecutePromiseGeneratorProgram(function(eb){switch(eb.nextAddress){case 1:Qa=$world.visibleBounds().withTopLeft(Ic.pt(0,0));Ja=navigator.standalone&&Ic.touchInputDevice?25:0;ab.height=Qa.height-Ja;ab.top=Ja+Qa.top();if(Oa)return $world.addMorph(ab,$world.get("lively top bar")),ab.topLeft=Qa.topRight(),ab.visible=!0,eb.yield(ab.whenRendered(),5);ab.detachFromWorld($world);
return eb.yield(ab.animate({opacity:0,topLeft:Qa.topRight(),duration:300}),4);case 4:ab.visible=!1;ab.remove();eb.jumpTo(0);break;case 5:return ab.onWorldResize(!1),eb.yield(ab.animate({opacity:1,easing:Ic.easings.outCirc,topRight:Qa.topRight(),duration:300}),6);case 6:ab.attachToWorld($world),eb.jumpToEnd()}})}},{key:"cleanupAnchors",value:function(){for(var Oa=this.withAllSubmorphsSelect(function(eb){return eb.anchors&&eb.anchors.filter(function(Rb){return!Rb.id}).length}),ab={},Qa=$jscomp.makeIterator(Oa),
Ja=Qa.next();!Ja.done;ab={$jscomp$loop$prop$m$2593:ab.$jscomp$loop$prop$m$2593},Ja=Qa.next())ab.$jscomp$loop$prop$m$2593=Ja.value,ab.$jscomp$loop$prop$m$2593.anchors.forEach(function(eb){return function(Rb){return!Rb.id&&eb.$jscomp$loop$prop$m$2593.removeAnchor(Rb)}}(ab));return Oa.length}},{key:"attachToWorld",value:function(Oa){Ic.connect(Oa,"showHaloFor",this,"focusMorph",{garbageCollect:!0})}},{key:"detachFromWorld",value:function(Oa){var ab=this;Oa.attributeConnections.forEach(function(Qa){Qa.targetObj===
ab&&Qa.disconnect()})}},{key:"focusMorph",value:function(Oa){if(!Oa.isMorph||!Oa.ownerChain().includes(this)){(Oa.isLabel||Oa.isText||Oa.isButton)&&this.richTextControl.focusOn(Oa,!1);var ab=this.getSubmorphNamed("style settings tree");ab.treeData.target=Oa;ab.update(!0);Object.values(this.controls).forEach(function(Qa){return Qa&&Qa.focusOn(Oa)})}}},{key:"onHierarchyChange",value:function(){Object.values(this.controls).forEach(function(Oa){return Oa&&Oa.update()})}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"StylingSideBar"}},{key:"properties",get:function(){return{controls:{},richTextControl:{},isHaloItem:{get:function(){return!0}}}}}],rb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-67"}}},{start:2682,end:5749})}(Ic.Morph);Vb=Ic.StylingSideBar;Ic.default=Vb;var Lc=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js");
Lc.Morph=Ca;Lc.obj=ge;Lc.string=Qe;Lc.connect=$c;Lc.noUpdate=kf;Lc.once=ke;Vb=function(wc){var rb=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js"),Gb=rb.hasOwnProperty("ShapeFormatStyler")&&"function"===typeof rb.ShapeFormatStyler?rb.ShapeFormatStyler:rb.ShapeFormatStyler=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return md(Gb,wc,[{key:Symbol.for("lively-instance-initialize"),value:function(Oa){md._get(Object.getPrototypeOf(Gb.prototype),
Symbol.for("lively-instance-initialize"),this).call(this,Oa);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var Oa=this.ui,ab={},Qa=$jscomp.makeIterator(Object.entries(this.uiSpec)),Ja=Qa.next();!Ja.done;ab={$jscomp$loop$prop$control$2595:ab.$jscomp$loop$prop$control$2595,$jscomp$loop$prop$prop$2596:ab.$jscomp$loop$prop$prop$2596},Ja=Qa.next()){var eb=$jscomp.makeIterator(Ja.value);Ja=eb.next().value;eb=$jscomp.makeIterator(eb.next().value);eb.next();
var Rb=eb.next().value;ab.$jscomp$loop$prop$prop$2596=eb.next().value;ab.$jscomp$loop$prop$control$2595=Oa[Ja];Lc.connect(ab.$jscomp$loop$prop$control$2595,Rb,this,"updateTarget",{updater:function(zc){return function(sb,Ab){zc.$jscomp$loop$prop$control$2595._updating=!0;sb(zc.$jscomp$loop$prop$prop$2596,Ab);zc.$jscomp$loop$prop$control$2595._updating=!1}}(ab),varMapping:{prop:ab.$jscomp$loop$prop$prop$2596,control:ab.$jscomp$loop$prop$control$2595}})}}},{key:"update",value:function(){var Oa=this,
ab=this.target,Qa=ab.top,Ja=ab.left,eb=ab.clipMode,Rb=ab.fill,zc=ab.dropShadow,sb=ab.opacity,Ab=ab.height,vb=ab.width;ab=this.ui;var ha=ab.clipModeSelector,Ha=ab.fillPicker,W=ab.opacityField,ra=ab.shadowPicker,Za=ab.heightField,qb=ab.widthField,sc=ab.posXField,wd=ab.posYField;Lc.noUpdate(function(){Oa.updateControl(ra,"shadowValue",zc);Oa.updateControl(ha,"selection",eb);Oa.updateControl(Ha,"colorValue",Rb);Oa.updateControl(W,"number",sb);Oa.updateControl(Za,"number",Ab);Oa.updateControl(qb,"number",
vb);Oa.updateControl(sc,"number",Ja);Oa.updateControl(wd,"number",Qa)})}},{key:"updateTarget",value:function(Oa,ab){this.target[Oa]=ab;this.update()}},{key:"updateControl",value:function(Oa,ab,Qa){Oa._updating||Lc.obj.equals(Oa[ab],Qa)||(Oa[ab]=Qa)}},{key:"updateMultiValue",value:function(Oa,ab,Qa){var Ja=this.ui,eb=Ja[this.join(Oa)],Rb=eb.get("multi value indicator"),zc=Lc.obj.values(ab).some(function(sb){return!Lc.obj.isFunction(sb)&&!Lc.obj.equals(sb,ab.valueOf())});Rb.left=0;eb.visible=eb.isLayoutable=
!zc;if(zc&&Rb.visible!=zc)Lc.once(Rb,"onMouseDown",eb,Qa,{converter:function(){return ab.valueOf()},varMapping:{value:ab}});Rb.visible=Rb.isLayoutable=zc;Rb.left=zc?200:0;this.updateControl(eb,Qa,ab.valueOf());eb=$jscomp.makeIterator(["top","left","bottom","right"]);for(Rb=eb.next();!Rb.done;Rb=eb.next())Rb=Rb.value,zc=Ja[this.join(Oa,Rb)],this.updateControl(zc,Qa,ab[Rb])}},{key:"lower",value:function(Oa){return Oa.charAt(0).toLowerCase()+Oa.slice(1)}},{key:"join",value:function(Oa,ab){return this.lower(Lc.string.camelCaseString(Oa+
(ab?" "+ab:"")))}},{key:"unwrap",value:function(Oa,ab,Qa){var Ja={};Ja=(Ja[this.lower(Lc.string.camelCaseString(Oa))]=[Oa,ab,Qa],Ja);for(var eb=$jscomp.makeIterator(["top","left","bottom","right"]),Rb=eb.next();!Rb.done;Rb=eb.next()){Rb=Rb.value;var zc=Oa+" "+Rb;Ja[this.lower(Lc.string.camelCaseString(zc))]=[zc,ab,this.join(Qa,Rb)]}return Ja}},{key:"focusOn",value:function(Oa){var ab=this,Qa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ja){if(1==Ja.nextAddress)return!Oa||ab.isAncestorOf(Oa)||
ab.target===Oa||Lc.obj.isArray(Oa)||(ab.target=Oa),Qa=ab.visible,ab.visible=!0,Ja.yield(ab.whenRendered(),2);if(3!=Ja.nextAddress)return ab.update(),Ja.yield(ab.whenRendered(),3);ab.getSubmorphsByStyleClassName("NumberWidget").map(function(eb){return eb.relayout()});ab.visible=Qa;Ja.jumpToEnd()})}},{key:"onHoverIn",value:function(Oa){this.watchForTarget=!1}},{key:"onHoverOut",value:function(Oa){this.watchForTarget=!0}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShapeFormatStyler"}},
{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||(this._uiSpec={clipModeSelector:["clip mode selector","selection","clipMode"],fillPicker:["fill picker","colorValue","fill"],shadowPicker:["shadow picker","shadowValue","dropShadow"],opacityField:["opacity field","number","opacity"],heightField:["height field","number","height"],widthField:["width field","number","width"],posXField:["pos x field","number","left"],posYField:["pos y field","number","top"]})}},ui:{readOnly:!0,
get:function(){var Oa=this,ab=this.uiSpec;return this._ui||(this._ui=Lc.obj.extract(ab,Lc.obj.keys(ab),function(Qa,Ja){Qa=$jscomp.makeIterator(Ja).next().value;return Oa.getSubmorphNamed(Qa)}))}}}}}],rb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeFormatStyler",version:"0.1.1-147"}}},{start:176,end:4919})}(Lc.Morph);Vb=Lc.ShapeFormatStyler;
Lc.default=Vb;var dd=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js");dd.Morph=Ca;dd.ShadowPopover=Dc;dd.connect=$c;dd.signal=cc;Vb=function(wc){var rb=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js"),Gb=rb.hasOwnProperty("ShadowWidget")&&"function"===typeof rb.ShadowWidget?rb.ShadowWidget:rb.ShadowWidget=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return md(Gb,wc,[{key:"onHoverIn",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:1,
duration:200})}},{key:"onHoverOut",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:0,duration:200})}},{key:"onMouseDown",value:function(Oa){this.openPopover()}},{key:"update",value:function(Oa){var ab=this.submorphs[0];ab&&(ab.dropShadow=Oa)}},{key:"openPopover",value:function(){var Oa=this,ab;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){if(1==Qa.nextAddress)return ab=new dd.ShadowPopover({hasFixedPosition:!!Oa.ownerChain().find(function(Ja){return Ja.hasFixedPosition}),
shadowValue:Oa.shadowValue}),Qa.yield(ab.fadeIntoWorld(Oa.globalBounds().center()),2);dd.connect(ab,"shadowValue",Oa,"shadowValue");dd.connect(Oa,"shadowValue",Oa,"update");dd.signal(Oa,"openWidget",ab);Qa.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowWidget"}},{key:"properties",get:function(){return{shadowValue:{set:function(Oa){this.setProperty("shadowValue",Oa);this.update(Oa)}}}}}],rb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShadowWidget",version:"0.1.1-7"}}},{start:194,end:1231})}(dd.Morph);Vb=dd.ShadowWidget;dd.default=Vb;var Hd=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js");Hd.Morph=Ca;Hd.obj=ge;Hd.string=Qe;Hd.connect=$c;Hd.noUpdate=kf;Hd.once=ke;Vb=function(wc){var rb=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js"),Gb=rb.hasOwnProperty("BorderFormatStyler")&&"function"===typeof rb.BorderFormatStyler?
rb.BorderFormatStyler:rb.BorderFormatStyler=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return md(Gb,wc,[{key:"setupUI",value:function(){var Oa=this;this.getSubmorphsByStyleClassName("NumberWidget").map(function(ab){var Qa=Hd.string.camelCaseString(ab.name);Qa=Qa[0].toLowerCase()+Qa.slice(1);Oa.ui[Qa]=ab})}},{key:"cleanupAnchors",value:function(){var Oa=this.withAllSubmorphsSelect(function(Ja){return Ja.anchors&&
Ja.anchors.filter(function(eb){return!eb.id})}),ab={};Oa=$jscomp.makeIterator(Oa);for(var Qa=Oa.next();!Qa.done;ab={$jscomp$loop$prop$m$2598:ab.$jscomp$loop$prop$m$2598},Qa=Oa.next())ab.$jscomp$loop$prop$m$2598=Qa.value,ab.$jscomp$loop$prop$m$2598.anchors.forEach(function(Ja){return function(eb){return!eb.id&&Ja.$jscomp$loop$prop$m$2598.removeAnchor(eb)}}(ab))}},{key:Symbol.for("lively-instance-initialize"),value:function(Oa){md._get(Object.getPrototypeOf(Gb.prototype),Symbol.for("lively-instance-initialize"),
this).call(this,Oa);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var Oa=this.ui,ab={},Qa=$jscomp.makeIterator(Object.entries(this.uiSpec)),Ja=Qa.next();!Ja.done;ab={$jscomp$loop$prop$control$2600:ab.$jscomp$loop$prop$control$2600,$jscomp$loop$prop$prop$2601:ab.$jscomp$loop$prop$prop$2601},Ja=Qa.next()){var eb=$jscomp.makeIterator(Ja.value);Ja=eb.next().value;eb=$jscomp.makeIterator(eb.next().value);eb.next();var Rb=eb.next().value;ab.$jscomp$loop$prop$prop$2601=
eb.next().value;ab.$jscomp$loop$prop$control$2600=Oa[Ja];Hd.connect(ab.$jscomp$loop$prop$control$2600,Rb,this,"updateTarget",{updater:function(zc){return function(sb,Ab){zc.$jscomp$loop$prop$control$2600._updating=!0;sb(zc.$jscomp$loop$prop$prop$2601,Ab);zc.$jscomp$loop$prop$control$2600._updating=!1}}(ab),varMapping:{prop:ab.$jscomp$loop$prop$prop$2601,control:ab.$jscomp$loop$prop$control$2600}})}}},{key:"update",value:function(){var Oa=this,ab=this.target,Qa=ab.borderStyle,Ja=ab.borderColor,eb=
ab.borderRadius,Rb=ab.borderWidth;Hd.noUpdate(function(){Oa.updateMultiValue("border style selector",Qa,"selection");Oa.updateMultiValue("border color picker",Ja,"colorValue");Oa.updateMultiValue("border radius field",eb,"number");Oa.updateMultiValue("border width field",Rb,"number")})}},{key:"updateTarget",value:function(Oa,ab){this.target[Oa]=ab;this.update()}},{key:"updateControl",value:function(Oa,ab,Qa){Oa._updating||Hd.obj.equals(Oa[ab],Qa)||(Oa[ab]=Qa)}},{key:"updateMultiValue",value:function(Oa,
ab,Qa){var Ja=this.ui,eb=Ja[this.join(Oa)],Rb=eb.get("multi value indicator"),zc=Hd.obj.values(ab).some(function(sb){return!Hd.obj.isFunction(sb)&&!Hd.obj.equals(sb,ab.valueOf())});eb.visible=eb.isLayoutable=!zc;if(zc&&Rb.visible!=zc)Hd.once(Rb,"onMouseDown",eb,Qa,{converter:function(){return ab.valueOf()},varMapping:{value:ab}});Rb.visible=Rb.isLayoutable=zc;this.updateControl(eb,Qa,ab.valueOf());eb=$jscomp.makeIterator(["top","left","bottom","right"]);for(Rb=eb.next();!Rb.done;Rb=eb.next())Rb=Rb.value,
zc=Ja[this.join(Oa,Rb)],this.updateControl(zc,Qa,ab[Rb])}},{key:"lower",value:function(Oa){return Oa.charAt(0).toLowerCase()+Oa.slice(1)}},{key:"join",value:function(Oa,ab){return this.lower(Hd.string.camelCaseString(Oa+(ab?" "+ab:"")))}},{key:"unwrap",value:function(Oa,ab,Qa){var Ja={};Ja=(Ja[this.lower(Hd.string.camelCaseString(Oa))]=[Oa,ab,Qa],Ja);for(var eb=$jscomp.makeIterator(["top","left","bottom","right"]),Rb=eb.next();!Rb.done;Rb=eb.next()){Rb=Rb.value;var zc=Oa+" "+Rb;Ja[this.lower(Hd.string.camelCaseString(zc))]=
[zc,ab,this.join(Qa,Rb)]}return Ja}},{key:"attachToWorld",value:function(){Hd.connect($world,"showHaloFor",this,"focusOn",{garbageCollect:!0})}},{key:"focusOn",value:function(Oa){var ab=this,Qa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ja){if(1==Ja.nextAddress)return!Oa||ab.isAncestorOf(Oa)||ab.target===Oa||Hd.obj.isArray(Oa)||(ab.target=Oa),Qa=ab.visible,ab.visible=!0,Ja.yield(ab.whenRendered(),2);if(3!=Ja.nextAddress)return ab.update(),Ja.yield(ab.whenRendered(),3);ab.getSubmorphsByStyleClassName("NumberWidget").map(function(eb){return eb.relayout()});
ab.visible=Qa;Ja.jumpToEnd()})}},{key:"onHoverIn",value:function(Oa){this.watchForTarget=!1}},{key:"onHoverOut",value:function(Oa){this.watchForTarget=!0}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"BorderFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{derived:!0,serialize:!1,get:function(){return this._uiSpec||(this._uiSpec=Object.assign({},this.unwrap("border style selector","selection","borderStyle"),{},this.unwrap("border color picker","colorValue","borderColor"),
{},this.unwrap("border radius field","number","borderRadius"),{},this.unwrap("border width field","number","borderWidth")))}},ui:{initialize:function(){this.setupUI()}}}}}],rb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"BorderFormatStyler",version:"0.1.1-16"}}},{start:185,end:5003})}(Hd.Morph);Vb=Hd.BorderFormatStyler;Hd.default=
Vb;var Ld=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js");Ld.Morph=Ca;Ld.resource=Hc;Ld.arr=Nd;Ld.obj=ge;Ld.string=Qe;Ld.Path=ec;Ld.connect=$c;Ld.getMastersMenu=$d;Ld.resolvedMasters=le;Vb=function(wc){var rb=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js"),Gb=rb.hasOwnProperty("MasterComponentControl")&&"function"===typeof rb.MasterComponentControl?rb.MasterComponentControl:rb.MasterComponentControl=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return md(Gb,wc,[{key:"focusOn",value:function(Oa){this.target=Oa;this.update()}},{key:"onMouseUp",value:function(Oa){var ab=this,Qa,Ja,eb,Rb,zc,sb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ab){if(1==Ab.nextAddress){"auto master selection"==Oa.targetMorph.name&&(Qa="auto");"hover master selection"==Oa.targetMorph.name&&(Qa="hover");"click master selection"==Oa.targetMorph.name&&(Qa="click");ab.refreshButtons();
if(!ab.target)return Ab.return();Ja=$jscomp.makeIterator(["auto","hover","click"]);for(eb=Ja.next();!eb.done;eb=Ja.next())Rb=eb.value,ab.target.master&&ab.target.master[Rb]&&!ab.get(Rb+" master checkbox").checked&&ab.adjustMasterComponent(Rb,null);if(!Qa)return Ab.jumpTo(0);zc=ab;sb=zc.openMenu;return Ab.yield(ab.getMastersMenu(Qa),3)}sb.call(zc,Ab.yieldResult,Oa);Ab.jumpToEnd()})}},{key:"getMastersMenu",value:function(Oa){var ab=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){return 1==
Qa.nextAddress?Qa.yield(Promise.all([].concat($jscomp.arrayFromIterable(Object.keys(Ld.resolvedMasters)),[ab.world().name]).map(function(Ja){var eb,Rb,zc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(sb){return 1==sb.nextAddress?(eb=Ja,Rb=ab,zc=Rb.componentsToMenu,sb.yield(Ld.resource("styleguide://"+Ja+"/").dirList(),2)):sb.return([eb,zc.call(Rb,sb.yieldResult,Oa)])})})),2):Qa.return(Qa.yieldResult)})}},{key:"componentsToMenu",value:function(Oa,ab,Qa,Ja){var eb=this;Qa=void 0===Qa?
null:Qa;Ja=void 0===Ja?1:Ja;Qa||(Qa=Oa.map(function(zc){return{name:Ld.arr.last(zc.name.split("/")),path:zc.name.split("/"),value:zc}}));if(0==Qa.length||100<Ja)return[];var Rb=this;return Ld.arr.flatten(Object.entries(Ld.arr.groupBy(Qa,function(zc){return zc.path[Ja-1]})).map(function(zc){var sb=$jscomp.makeIterator(zc);zc=sb.next().value;sb=sb.next().value;var Ab=$jscomp.makeIterator(Ld.arr.partition(sb,function(vb){return vb.path.length<=Ja}));sb=Ab.next().value;Ab=Ab.next().value;zc=[zc,eb.componentsToMenu(null,
ab,Ab,Ja+1)];return[].concat($jscomp.arrayFromIterable(sb.map(function(vb){return[vb.name,function(){Rb.adjustMasterComponent(ab,vb.value)}]})),$jscomp.arrayFromIterable(zc[1].length?[zc]:[]))}),1)}},{key:"getComponentSelectionMenu",value:function(Oa){var ab=this,Qa,Ja,eb,Rb,zc,sb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ab){if(1==Ab.nextAddress)return Qa=ab.world().metadata.commit.name,Ja=Ld.resource("styleguide://"+Qa+"/"),Ab.yield(Ja.dirList(),2);if(3!=Ab.nextAddress)return eb=
Ab.yieldResult,Ab.yield(Ld.resource("styleguide://System/").dirList(),3);Rb=Ab.yieldResult;zc=ab.componentsToMenu(eb,Oa);sb=ab.componentsToMenu(Rb,Oa);return Ab.return([].concat($jscomp.arrayFromIterable(0<zc.length?[].concat($jscomp.arrayFromIterable(zc),[{isDivider:!0}]):[]),$jscomp.arrayFromIterable(sb)))})}},{key:"adjustMasterComponent",value:function(Oa,ab){if(this.target.master)this.target.master[Oa]=ab;else if(ab){var Qa={};this.target.master=(Qa[Oa]=ab,Qa)}Oa=this.target.master;ab=Oa.hover;
Qa=Oa.click;Oa.auto||ab||Qa||(this.target.master=null);this.update();this.target.withAllSubmorphsDo(function(Ja){return delete Ja._parametrizedProps});this.target.requestMasterStyling()}},{key:"componentsToMenu",value:function(Oa,ab,Qa,Ja){var eb=this;Qa=void 0===Qa?null:Qa;Ja=void 0===Ja?1:Ja;Qa||(Qa=Oa.map(function(zc){return{name:Ld.arr.last(zc.name.split("/")),path:zc.name.split("/"),value:zc}}));if(0==Qa.length||100<Ja)return[];var Rb=this;return Ld.arr.flatten(Object.entries(Ld.arr.groupBy(Qa,
function(zc){return zc.path[Ja-1]})).map(function(zc){var sb=$jscomp.makeIterator(zc);zc=sb.next().value;sb=sb.next().value;var Ab=$jscomp.makeIterator(Ld.arr.partition(sb,function(vb){return vb.path.length<=Ja}));sb=Ab.next().value;Ab=Ab.next().value;zc=[zc,eb.componentsToMenu(null,ab,Ab,Ja+1)];return[].concat($jscomp.arrayFromIterable(sb.map(function(vb){return[vb.name,function(){Rb.adjustMasterComponent(ab,vb.value)}]})),$jscomp.arrayFromIterable(zc[1].length?[zc]:[]))}),1)}},{key:"update",value:function(){if(this.target){for(var Oa=
$jscomp.makeIterator(["auto","hover","click"]),ab=Oa.next();!ab.done;ab=Oa.next()){ab=ab.value;var Qa=this.getSubmorphNamed(ab+" master selection"),Ja=this.getSubmorphNamed(ab+" master checkbox");Ld.Path(["master",ab]).get(this.target)?Ja.checked=!0:Ja.checked=!1;Qa.label=Ld.string.truncateLeft(Ld.Path(["master",ab,"name"]).get(this.target)||"select master",15,"...")}this.refreshButtons()}}},{key:"refreshButtons",value:function(){for(var Oa=$jscomp.makeIterator(["auto","hover","click"]),ab=Oa.next();!ab.done;ab=
Oa.next()){ab=ab.value;var Qa=this.getSubmorphNamed(ab+" master selection"),Ja=this.getSubmorphNamed(ab+" master checkbox");Qa=Qa.deactivated=!Ja.checked;this.getSubmorphNamed(ab+" master selection").opacity=Qa?.5:1}Oa=this.getSubmorphNamed("overridden props list");Oa.items=this.getOverriddenProps();this.getSubmorphNamed("clear overridden prop button").deactivated=!Oa.selection}},{key:"getMasterForTarget",value:function(){if(this.target.isMorph)return[this.target].concat($jscomp.arrayFromIterable(this.target.ownerChain())).map(function(Oa){return Oa.master}).find(Boolean)}},
{key:"clearSelectedProperty",value:function(){var Oa=this.getSubmorphNamed("overridden props list").selection;this.getMasterForTarget().clearOverriddenPropertiesFor(this.target,[Oa]);this.refreshButtons()}},{key:"getOverriddenProps",value:function(){var Oa=this.getMasterForTarget();return Oa&&Oa._overriddenProps?(Oa=Oa._overriddenProps.get(this.target))?Object.keys(Oa):[]:[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"MasterComponentControl"}}],rb,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"MasterComponentControl",version:"0.1.1-108"}}},{start:315,end:6096})}(Ld.Morph);Vb=Ld.MasterComponentControl;Ld.default=Vb}}});

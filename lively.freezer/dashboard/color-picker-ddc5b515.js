System.register(["./__root_module__-37c88ebd.js","./index-d63033cc.js"],function(Wa){var Ib,Sb,xc,ac,Cd,nd,Ud,bd,Ic,pd,yd,Ne,Pe,Ie,fd,me,Yb,Yc,Nd,gd,ae,Fe,Wb,Cc,Td,Ec,Vd,Lb,ub,uc,dc,Zb,Mc,$a,$b,Eb,kc,tc,Sc,Pd,ec,Xb,Jb,Ra,Ga,ea,Da,ta,Pa,Ha,tb,Ac;return{setters:[function(wb){Ib=wb.C;Sb=wb.bf;xc=wb.bg;ac=wb.bh;Cd=wb.bi;nd=wb.bj;Ud=wb.bk;bd=wb.p;Ic=wb.ab;pd=wb.bl;yd=wb.bm;Ne=wb.bn;Pe=wb.M;Ie=wb.O;fd=wb.Y;me=wb.W;Yb=wb.aE;Yc=wb.bo;Nd=wb.bp;gd=wb.d;ae=wb.g;Fe=wb.n;Wb=wb.b;Cc=wb.i;Td=wb.I;Ec=wb.ai;
Vd=wb.h;Lb=wb.bq;ub=wb.ae;uc=wb.aA;dc=wb.br;Zb=wb.m;Mc=wb.ah;$a=wb.ad;$b=wb.a6;Eb=wb.a;kc=wb.f;tc=wb.c;Sc=wb._;Pd=wb.a2;ec=wb.R;Xb=wb.bs;Jb=wb.bt;Ra=wb.bu;Ga=wb.ac;ea=wb.o;Da=wb.as;ta=wb.r},function(wb){Pa=wb.p;Ha=wb.P;tb=wb.d;Ac=wb.N}],execute:function(){var wb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");wb.Color=Ib;wb.Complementary=Sb;wb.Triadic=xc;wb.Tetradic=ac;wb.Quadratic=Cd;wb.Analogous=nd;wb.Neutral=Ud;wb.pt=bd;wb.Point=Ic;wb.flatDesignColors=pd;wb.materialDesignColors=
yd;wb.webSafeColors=Ne;wb.Morph=Pe;wb.Text=Ie;wb.Ellipse=fd;wb.Image=me;wb.DropDownSelector=Yb;wb.ModeSelector=Yc;wb.Slider=Nd;wb.connect=gd;wb.signal=ae;wb.num=Fe;wb.arr=Wb;wb.WHEEL_URL="/lively.ide/assets/color-wheel.png";wb.duration=200;(function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Ob.hasOwnProperty("ColorPaletteField")&&"function"===typeof Ob.ColorPaletteField?Ob.ColorPaletteField:Ob.ColorPaletteField=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"onHoverIn",value:function(){if(this.color){var Ta=$jscomp.makeIterator(this.color.isGradient?wb.Color.blue.toHSB():this.color.toHSB()),Y=Ta.next().value,Ma=Ta.next().value;Ta=Ta.next().value;this.borderColor=wb.Color.hsb(Y,1<Ma+.5?Ma-.5:Ma+.5,1<Ta+.5?Ta-.5:Ta+.5)}}},{key:"onHoverOut",value:function(){this.borderColor=wb.Color.transparent}},{key:"onMouseDown",value:function(){wb.signal(this,"updateColor",this.color)}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:wb.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||wb.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||wb.Color.transparent}},styleClasses:{after:["color"],initialize:function(){this.styleClasses=this.color?["colorField"]:["vacantColorField"]}}}}}],
Ob,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:525,end:1539})})(wb.Morph);(function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Ob.hasOwnProperty("ColorHarmonyField")&&"function"===typeof Ob.ColorHarmonyField?Ob.ColorHarmonyField:
Ob.ColorHarmonyField=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"onMouseDown",value:function(){wb.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:wb.pt(80,60)},fill:{defaultValue:wb.Color.transparent},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color harmony field"}}},
color:{set:function(Ta){var Y=$jscomp.makeIterator(this.submorphs),Ma=Y.next().value;Y=Y.next().value;var gb=$jscomp.makeIterator(Ta?Ta.toHSB():[]),Nb=gb.next().value,oc=gb.next().value;gb=gb.next().value;this.setProperty("color",Ta);Ta&&Ma&&Y&&(Ma.fill=Ta,Y.textString=Ta.toHexString(),Y.fontColor=wb.Color.hsb(Nb,1<oc+.5?oc-.5:oc+.5,1<gb+.5?gb-.5:gb+.5))}},submorphs:{after:["color"],initialize:function(){var Ta=$jscomp.makeIterator((this.color||wb.Color.transparent).toHSB()),Y=Ta.next().value,Ma=
Ta.next().value;Ta=Ta.next().value;this.submorphs=[new wb.Morph({fill:this.color,extent:wb.pt(80,50)}),new wb.Text({textString:Y.toFixed()+", "+Ma.toFixed(2)+", "+Ta.toFixed(2),fill:wb.Color.transparent,fontColor:wb.Color.gray.darker(),bottomLeft:wb.pt(0,50)})]}}}}}],Ob,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:1541,end:2933})})(wb.Morph);(function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Ob.hasOwnProperty("HarmonyDisplay")&&"function"===typeof Ob.HarmonyDisplay?Ob.HarmonyDisplay:Ob.HarmonyDisplay=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"update",value:function(Ta){var Y=$jscomp.makeIterator(Ta.pivotColor.toHSB()),Ma=Y.next().value,
gb=Y.next().value;Y=Y.next().value;Ma=Ta.harmony.chord({hue:Ma,saturation:gb,brightness:Y});Ma.length!=this.submorphs.length?this.submorphs=Ma.map(function(Nb){Nb=new wb.ColorHarmonyField({color:Nb});wb.connect(Nb,"updateColor",Ta,"color");return Nb}):wb.arr.zip(this.submorphs,Ma).forEach(function(Nb){var oc=$jscomp.makeIterator(Nb);Nb=oc.next().value;oc=oc.next().value;Nb.color=oc})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyDisplay"}}],Ob,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2935,end:3513})})(wb.Morph);(function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Ob.hasOwnProperty("PivotColorControl")&&"function"===typeof Ob.PivotColorControl?Ob.PivotColorControl:Ob.PivotColorControl=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"update",value:function(Ta){this.pivotColor=Ta.pivotColor}},{key:"onDrag",value:function(Ta){var Y=$jscomp.makeIterator(this.pivotColor.toHSB()),Ma=Y.next().value,gb=Y.next().value;Y=Y.next().value;Ma=wb.num.toRadians(Ma);Ta=wb.Point.polar(50*gb,Ma).addPt(Ta.state.dragDelta);Ma=wb.num.toDegrees(Ta.theta());Ma=0>Ma?Ma+360:Ma;gb=Math.min(Ta.r()/50,1);this.pivotColor=wb.Color.hsb(Ma,gb,Y)}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:wb.Color.blue},draggable:{defaultValue:!0}}}}],Ob,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3515,end:4149})})(wb.Ellipse);(function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
Gb=Ob.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof Ob.HarmonyVisualizer?Ob.HarmonyVisualizer:Ob.HarmonyVisualizer=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"update",value:function(Ta){var Y=$jscomp.makeIterator(this.submorphs).next().value,Ma=this.get("pivot control"),gb=$jscomp.makeIterator(Ta.pivotColor.toHSB()),Nb=gb.next().value,oc=gb.next().value;gb=gb.next().value;var Wc=
wb.num.toRadians(Nb);Nb=Ta.harmony.chord({hue:Nb,saturation:oc,brightness:gb}).map(function(Gc){var Zd=$jscomp.makeIterator(Gc.toHSB()),je=Zd.next().value;Gc=Zd.next().value;Zd.next();Zd=wb.num.toRadians(je);return wb.Point.polar(50*Gc,Zd)});Y.fill=wb.Color.black.withA(1-gb);Ma.update(Ta);Y.submorphs.length-1!=Nb.length?Y.submorphs=[].concat($jscomp.arrayFromIterable(Nb.map(function(Gc){return new wb.Ellipse({center:Gc,fill:wb.Color.transparent,draggable:!1,borderWidth:1,borderColor:wb.Color.black})})),
[Ma]):(wb.arr.zip(Y.submorphs,Nb).forEach(function(Gc){var Zd=$jscomp.makeIterator(Gc);Gc=Zd.next().value;if(Zd=Zd.next().value)Gc.center=Zd}),Ma.center=wb.Point.polar(50*oc,Wc))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new wb.PivotColorControl({name:"pivot control"})]}]}}}}}],
Ob,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4151,end:5613})})(wb.Image);(function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Ob.hasOwnProperty("HarmonyPalette")&&"function"===typeof Ob.HarmonyPalette?Ob.HarmonyPalette:Ob.HarmonyPalette=
function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"update",value:function(Ta){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=Ta.pivotBrightness,this.harmony=Ta.harmony,this.get("harmonies").update(Ta),this.get("harmony visualizer").update(Ta),this.updateInProgress=!1)}},{key:"harmonyControl",value:function(){var Ta,Y,Ma=new wb.Morph({name:"harmonyControl",submorphs:[new wb.HarmonyVisualizer({name:"harmony visualizer"}),
Y=new wb.Slider({min:0,max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),Ta=new wb.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new wb.Complementary,Triadic:new wb.Triadic,Tetradic:new wb.Tetradic,Quadratic:new wb.Quadratic,Analogous:new wb.Analogous,Neutral:new wb.Neutral}})]});wb.connect(Y,"value",this,"pivotBrightness");wb.connect(Ta,"selectedValue",
this,"harmony");return Ma}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new wb.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],initialize:function(){this.submorphs=[new wb.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],Ob,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5615,end:7542})})(wb.Morph);var ud=Wa("C",function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Ob.hasOwnProperty("ColorPalette")&&"function"===typeof Ob.ColorPalette?Ob.ColorPalette:Ob.ColorPalette=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"fadeIntoWorld",value:function(Ta){Cc._get(Object.getPrototypeOf(Gb.prototype),"fadeIntoWorld",this).call(this,Ta);this.initPosition=Ta;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function(Ta){"Escape"==Ta.key&&this.close()}},{key:"close",value:function(Ta){Ta?this.fadeOut(Ta):this.remove();wb.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",
extent:wb.pt(400,253),submorphs:[this.solidColorPalette(),new wb.HarmonyPalette({name:"harmony palette",isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var Ta=this.get("solidColorPalette"),Y=this.get("paletteView");Ta.visible||(Y.submorphs.forEach(function(Ma){return Ma.animate({isLayoutable:!1,visible:!1,duration:200})}),Ta.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var Ta=this.get("paletteView");this.get("harmony palette").visible||
(Ta.submorphs.forEach(function(Y){return Y.animate({isLayoutable:!1,visible:!1,duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var Ta=new wb.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette","Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});wb.connect(Ta,"Color Palette",this,"selectSolidMode");wb.connect(Ta,"Color Harmonies",this,"selectHarmonyMode");
return Ta}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var Ta=this.getColorsFor(this.colorPalette),Y=Ta.colors,Ma=Ta.mod;return this.cachedPalette[Ta.name]||this.getPalette(Y,Ma)}},{key:"getPalette",value:function(Ta,Y){var Ma=this,gb=Math.max(Math.ceil(Ta.length/Y),15),Nb=gb*this.colorFieldWidth,oc=Y*this.colorFieldWidth;
Ta=[].concat($jscomp.arrayFromIterable(Ta),$jscomp.arrayFromIterable(wb.arr.withN(gb*Y-Ta.length,null)));return{extent:wb.pt(Nb,oc),name:"paletteContainer",submorphs:Ta.map(function(Wc){Wc=new wb.ColorPaletteField({color:Wc&&wb.Color.rgbHex(Wc),extent:wb.pt(Ma.colorFieldWidth,Ma.colorFieldWidth)});wb.connect(Wc,"updateColor",Ma,"color");return Wc})}}},{key:"switchPalette",value:function(Ta){var Y=Ta.name,Ma=Ta.colors;Ta=Ta.mod;var gb=this.get("solidColorPalette"),Nb=$jscomp.makeIterator(gb.submorphs);
Nb.next();Nb=Nb.next().value;this.cachedPalette[Y]=this.cachedPalette[Y]||this.getPalette(Ma,Ta,Y);gb.submorphs=[this.cachedPalette[Y],Nb]}},{key:"getPaletteDescription",value:function(Ta){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",custom:"Your personal set of customly defined colors.",
materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[Ta]}},{key:"updatePaletteDescription",
value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function(Ta){return Object.assign({name:Ta},{flatDesign:{colors:wb.flatDesignColors,mod:11},materialDesign:{colors:wb.materialDesignColors,mod:15},webSafe:{colors:wb.webSafeColors,mod:12}}[Ta])}},{key:"paletteConfig",value:function(){var Ta,Y={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[Ta=new wb.DropDownSelector({isHaloItem:!0,name:"paletteSelector",
selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};wb.connect(Ta,"selectedValue",this,"colorPalette");return Y}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:wb.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function(Ta){this.setProperty("colorPalette",
Ta);this.switchPalette(this.getColorsFor(Ta));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function(Ta){this.setProperty("pivotColor",Ta);this.get("harmony palette").update(this)}},color:{set:function(Ta){this.setProperty("color",Ta);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var Ta=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());Ta.next();Ta.next();return Ta.next().value},
set:function(Ta){var Y=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),Ma=Y.next().value;Y=Y.next().value;this.pivotColor=wb.Color.hsb(Ma,Y,Ta)}},harmony:{after:["submorphs","pivotColor"],defaultValue:new wb.Complementary,set:function(Ta){this.setProperty("harmony",Ta);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var Ta=
$jscomp.makeIterator((this.color.isGradient?wb.Color.blue:this.color).toHSB()),Y=Ta.next().value,Ma=Ta.next().value;Ta.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=wb.Color.hsb(Y,Ma,1);wb.connect(this.get("harmony palette"),"harmony",this,"harmony");wb.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");wb.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],
Ob,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:7608,end:15438})}(wb.Morph));wb.ColorPalette=ud;wb.ColorPalette=ud;wb.ColorPalette=ud;var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");Tb.Morph=Pe;Tb.Icon=Td;Tb.ProportionalLayout=Ec;Tb.config=Vd;
Tb.Text=Ie;Tb.ShadowObject=Lb;Tb.GridLayout=ub;Tb.TilingLayout=uc;Tb.StyleSheet=dc;Tb.morph=Zb;Tb.HorizontalLayout=Mc;Tb.VerticalLayout=$a;Tb.KeyHandler=$b;Tb.connect=gd;Tb.signal=ae;Tb.arr=Wb;Tb.promise=Eb;Tb.fun=kc;Tb.string=tc;Tb.obj=Sc;Tb.Color=Ib;Tb.rect=Pd;Tb.Rectangle=ec;Tb.pt=bd;Tb.popovers=Pa;Tb.ModeSelector=Yc;Tb.DropDownSelector=Yb;Tb.SearchField=Xb;Tb.CheckBox=Jb;Tb.Popover=Ha;Tb.SvgStyleHalo=tb;Tb.NumberWidget=Ac;Tb.Icons=Ra;Tb.duration=200;var te=Wa("c",Tb.colorWidgets||{});Tb.colorWidgets=
te;Tb.colorWidgets=te;Tb.colorWidgets=te;(function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Ob.hasOwnProperty("SelectableControl")&&"function"===typeof Ob.SelectableControl?Ob.SelectableControl:Ob.SelectableControl=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"select",value:function(Ta){var Y=this,Ma,gb,Nb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(oc){if(1==
oc.nextAddress)return Y.target?oc.yield(Y.target.execCommand(Ta),2):oc.return();Ma=oc.yieldResult;gb=Y.get("modeSelector");Ma.opacity=0;Y.lastLabel&&(Nb=gb.submorphs.indexOf(Y.lastLabel)<gb.submorphs.indexOf(gb.currentLabel),Ma.topLeft=gb.bottomLeft.addXY(Nb?20:-20,10));Y.lastLabel=gb.currentLabel;Y.animate({submorphs:[gb,Ma],duration:Tb.duration});Ma.animate({opacity:1,duration:Tb.duration});oc.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SelectableControl"}},{key:"properties",
get:function(){return{target:{type:"Morph"},selectableControls:{},selectedControl:{},fill:{defaultValue:Tb.Color.transparent},layout:{initialize:function(){this.layout=new Tb.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function(Ta){return this.container.submorphs.indexOf(Ta)}})}},submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var Ta=new Tb.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});this.submorphs=[Ta];
Ta.width=100;Tb.connect(Ta,"switchLabel",this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],Ob,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:948,end:2579})})(Tb.Morph);(function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
Gb=Ob.hasOwnProperty("ToggledControl")&&"function"===typeof Ob.ToggledControl?Ob.ToggledControl:Ob.ToggledControl=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"toggle",value:function(Ta){var Y=$jscomp.makeIterator(this.submorphs).next().value,Ma=this.toggledControl(Ta);Y=[Y].concat($jscomp.arrayFromIterable(Ma?[Ma]:[]));Tb.signal(this,"update",Ta&&Ma.value);Ma&&(Ma.opacity=0);this.animate({submorphs:Y,
duration:Tb.duration});Ma&&Ma.animate({opacity:1,duration:Tb.duration})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:Tb.Color.transparent},layout:{initialize:function(){this.layout=new Tb.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var Ta=new Tb.CheckBox({checked:this.checked});this.submorphs=
[{fill:Tb.Color.transparent,layout:new Tb.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:Tb.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},Ta]}];this.toggle(this.checked);Tb.connect(Ta,"toggle",this,"toggle")}}}}}],Ob,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2581,end:4273})})(Tb.Morph);(function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Ob.hasOwnProperty("StylePopover")&&"function"===typeof Ob.StylePopover?Ob.StylePopover:Ob.StylePopover=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"setupConnections",value:function(){}},{key:"controls",
value:function(){return[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=Tb.morph({layout:new Tb.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:Tb.Color.transparent,submorphs:this.controls()});this.setupConnections()}}}}}],Ob,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4275,end:4825})})(Tb.Popover);var cd=function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Ob.hasOwnProperty("IconPopover")&&"function"===typeof Ob.IconPopover?Ob.IconPopover:Ob.IconPopover=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"onDrop",value:function(Ta){var Y=this;Ta.hand.grabbedMorphs.find(function(Ma){return Ma===
Y.iconLabel})&&(Ta.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new Tb.VerticalLayout({spacing:4}),fill:Tb.Color.transparent,submorphs:[new Tb.SearchField({name:"searchInput",width:200,placeHolder:"Search Icons"}),Tb.morph({textAndAttributes:this.iconAsTextAttributes(),name:"iconList",draggable:!0,type:"text",extent:Tb.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var Ta=
this.ui,Y=Ta.iconList;Tb.connect(Ta.searchInput,"searchInput",this,"filterIcons");Tb.connect(Y,"onMouseUp",this,"iconSelectClick");Tb.connect(Y,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",value:function(Ta){Ta=this.ui.iconList.textPositionFromPoint(Ta.positionIn(this.ui.iconList));Ta=this.iconAtTextPos(Ta);this.iconLabel=Tb.Icon.makeLabel(Ta,{fontSize:this.ui.iconList.fontSize,name:Ta});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",
value:function(Ta){var Y=Object.keys(Tb.Icons);Ta&&(Y=Y.filter(Ta));return Tb.arr.flatmap(Y,function(Ma,gb){return[Tb.Icons[Ma].code,{iconCode:Tb.Icons[Ma].code,iconName:Ma}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",value:function(){var Ta=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Y){if(1==Y.nextAddress)return Y.yield(Tb.promise.delay(250),2);Tb.fun.debounceNamed("filterIcons",200,function(){Ta.ui.iconList.textAndAttributes=Ta.iconAsTextAttributes(function(Ma){return Ta.ui.searchInput.matches(Ma.toLowerCase())})})();
Y.jumpToEnd()})}},{key:"iconSelectClick",value:function(Ta){Ta=this.ui.iconList.textPositionFromPoint(Ta.positionIn(this.ui.iconList));Ta=this.iconAtTextPos(Ta);this.setStatusMessage(Ta);Tb.signal(this,"select",Ta)}},{key:"iconAtTextPos",value:function(Ta){var Y=Ta.row;Ta=Ta.column;--Ta;for(var Ma=this.ui.iconList,gb=Ma.textAndAttributesInRange({start:{row:Y,column:Math.max(0,Ta)},end:{row:Y,column:Ta+2}});gb.length&&!gb[1].iconName;)Ta++,gb=gb.slice(2);var Nb={start:{row:Y,column:Ta},end:{row:Y,
column:Ta+1}};Ma.addTextAttribute({backgroundColor:Ma.selectionColor.darker().withA(.5)},Nb);Tb.promise.delay(1E3).then(function(){return Ma.addTextAttribute({backgroundColor:Tb.Color.transparent},Nb)});return gb.length?gb[1].iconName:null}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"IconPopover"}},{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:Tb.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),
iconList:this.get("iconList")}}}}}}],Ob,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4834,end:8444})}(Tb.StylePopover);Tb.IconPopover=cd;Tb.IconPopover=cd;Tb.IconPopover=cd;cd=function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Ob.hasOwnProperty("LayoutPopover")&&
"function"===typeof Ob.LayoutPopover?Ob.LayoutPopover:Ob.LayoutPopover=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"getLayoutObjects",value:function(){return[null,new Tb.HorizontalLayout({autoResize:!1}),new Tb.VerticalLayout({autoResize:!1}),new Tb.TilingLayout,new Tb.ProportionalLayout,new Tb.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){Cc._get(Object.getPrototypeOf(Gb.prototype),
"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:Tb.Color.transparent,layout:new Tb.VerticalLayout({spacing:5,layoutOrder:function(Ta){return this.container.submorphs.indexOf(Ta)}}),submorphs:[this.layoutPicker(),this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),
duration:300}:{isLayoutable:!1,extent:Tb.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function(Ta){this.clearLayoutHalo();Ta&&Ta.layout&&(this.layoutHalo=(Ta.world()||Ta.env.world).showLayoutHaloFor(Ta))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function(Ta){return Ta?Ta.name()+" Layout":
"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function(Ta){this.container.animate({layout:Ta});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());Tb.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var Ta=this,Y=this.getLayoutObjects().map(function(Ma){var gb={};return gb[Ta.getLayoutName(Ma)]=Ma,gb});Y=this.get("Layout Type")||new Tb.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return Ta.getCurrentLayoutName()},
selectedValue:this.container.layout,values:Tb.obj.merge(Y)});Tb.connect(Y,"selectedValue",this,"applyLayout");return Y}},{key:"layoutControls",value:function(){return{name:"controlContainer",fill:Tb.Color.transparent,layout:new Tb.VerticalLayout,isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:Tb.Color.gray.lighter()}}}}],
Ob,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:8453,end:11240})}(Tb.StylePopover);Tb.LayoutPopover=cd;Tb.LayoutPopover=cd;Tb.LayoutPopover=cd;cd=function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Ob.hasOwnProperty("FillPopover")&&
"function"===typeof Ob.FillPopover?Ob.FillPopover:Ob.FillPopover=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"openHandle",value:function(Ta){Ta.openInWorld();this.openHandles.push(Ta)}},{key:"close",value:function(){Cc._get(Object.getPrototypeOf(Gb.prototype),"close",this).call(this);this.openHandles.forEach(function(Ta){return Ta.remove()})}},{key:"setupConnections",value:function(){var Ta=
this.ui,Y=Ta.fillSelector,Ma=Ta.colorField;Ta=Ta.gradientEditor;Y&&Tb.connect(this,"fillValue",Y,"value");Ta&&(Tb.connect(Ta,"gradientValue",this,"fillValue"),Tb.connect(Ta,"openHandle",this,"openHandle"));Ma&&(Tb.connect(this,"close",Ma,"remove"),Tb.connect(Ma,"update",this,"fillValue"),Tb.connect(this,"onMouseDown",Ma,"removeWidgets"))}},{key:"commands",get:function(){var Ta=this;return Cc._get(Object.getPrototypeOf(Gb.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var Y=
new Tb.colorWidgets.ColorPickerField({name:"colorField",colorValue:Ta.fillValue.isGradient?Tb.Color.blue:Ta.fillValue});Y.whenRendered().then(function(){Ta.setupConnections()});return Y}},{name:"switch to gradient",exec:function(){var Y=new Tb.colorWidgets.GradientEditor({name:"gradient editor",gradientValue:Ta.fillValue});Y.whenRendered().then(function(){Ta.setupConnections();Ta.handleMorph&&Y.showGradientHandlesOn(Ta.handleMorph);Y.update()});return Y}}])}},{key:"controls",value:function(){var Ta=
this;if(!this.gradientEnabled){var Y=new Tb.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue});Y.whenRendered().then(function(){Y.update(Ta.fillValue)});return[{fill:Tb.Color.transparent,layout:new Tb.VerticalLayout({spacing:0}),submorphs:[Y]}]}return[new Tb.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},fillValue:{defaultValue:Tb.Color.blue},popoverColor:{defaultValue:Tb.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],Ob,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:11249,end:14234})}(Tb.StylePopover);Tb.FillPopover=cd;Tb.FillPopover=cd;Tb.FillPopover=cd;var Lc=Wa("S",function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Ob.hasOwnProperty("ShadowPopover")&&"function"===typeof Ob.ShadowPopover?Ob.ShadowPopover:Ob.ShadowPopover=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"controls",value:function(){var Ta=this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",Y=[{layout:new Tb.VerticalLayout({resizeContainer:!0,spacing:5}),fill:Tb.Color.transparent,name:"control container",submorphs:[Ta=new Tb.DropDownSelector({name:"shadow type",borderRadius:2,padding:3,selectedValue:Ta,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?
this.shadowControls():[])}];Tb.connect(Ta,"selectedValue",this,"changeShadowType");return Y}},{key:"shadowControls",value:function(){var Ta=this.shadowValue,Y=new Tb.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:Ta.distance,unit:"px"}),Ma=new Tb.NumberWidget({name:"angleSlider",min:0,max:360,number:Ta.rotation,autofit:!1}),gb=new Tb.NumberWidget({name:"spreadSlider",min:0,number:Ta.spread,autofit:!1}),Nb=new Tb.NumberWidget({name:"blurSlider",min:0,number:Ta.blur,autofit:!1});Ta=new Tb.colorWidgets.ColorPickerField({name:"colorPicker",
colorValue:Ta.color});Tb.connect(Ta,"colorValue",this,"updateShadow",{converter:function(oc){return{color:oc}}});Tb.connect(this,"onMouseDown",Ta,"removeWidgets");Tb.connect(this,"close",Ta,"remove");Tb.connect(gb,"update",this,"updateShadow",{converter:function(oc){return{spread:oc}}});Tb.connect(Y,"update",this,"updateShadow",{converter:function(oc){return{distance:oc}}});Tb.connect(Nb,"update",this,"updateShadow",{converter:function(oc){return{blur:oc}}});Tb.connect(Ma,"update",this,"updateShadow",
{converter:function(oc){return{rotation:oc}}});return new Tb.Morph({layout:new Tb.GridLayout({autoAssign:!1,fitToCell:!1,columns:[0,{paddingLeft:1}],rows:Tb.arr.flatten(Tb.arr.range(0,3).map(function(oc){return[oc,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",null,"distanceSlider"],["blurLabel",null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:Tb.Color.transparent,submorphs:Tb.arr.flatten([["distance",
Y],["spread",gb],["blur",Nb],["angle",Ma],["color",Ta]].map(function(oc){var Wc=$jscomp.makeIterator(oc);oc=Wc.next().value;Wc=Wc.next().value;return[{type:"label",styleClasses:["controlName"],value:Tb.string.capitalize(oc)+":",name:oc+"Label"},Wc]}))})}},{key:"changeShadowType",value:function(Ta){"No Shadow"==Ta?this.toggleShadow(!1):"Inset Shadow"==Ta?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?
this.shadowControls():[]),duration:300})}},{key:"updateShadow",value:function(Ta){var Y=this.shadowValue;Ta=Object.assign({fast:Y.fast,color:Y.color,spread:Y.spread,blur:Y.blur,distance:Y.distance,rotation:Y.rotation,inset:Y.inset},Ta);this.shadowValue=new Tb.ShadowObject(Ta)}},{key:"toggleShadow",value:function(Ta){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=Ta&&this.cachedShadow}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowPopover"}},{key:"properties",
get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new Tb.ShadowObject({fast:!0})},popoverColor:{defaultValue:Tb.Color.gray.lighter()}}}}],Ob,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:14243,end:18677})}(Tb.StylePopover));Tb.ShadowPopover=Lc;Tb.ShadowPopover=
Lc;Tb.ShadowPopover=Lc;Tb.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";Lc=function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Ob.hasOwnProperty("PointPopover")&&"function"===typeof Ob.PointPopover?Ob.PointPopover:Ob.PointPopover=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"refineResolution",value:function(Ta){this.resolution=
.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function(Ta){this.pointValue=this.pointValue.addPt(Ta.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){Cc._get(Object.getPrototypeOf(Gb.prototype),"relayout",this).call(this);var Ta=this.getSubmorphNamed("mesh"),Y=this.getSubmorphNamed("point value view");Ta.origin=Ta.innerBounds().center().addXY(4,1);Ta.position=this.get("body").innerBounds().center();Ta.scale=
this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";Y.value=Tb.obj.safeToString(this.pointValue);Y.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function(Ta){var Y=this;Cc._get(Object.getPrototypeOf(Gb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,Ta);this.whenRendered().then(function(){return Y.relayout()})}},{key:"calibrate",value:function(){var Ta=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Y){if(1==
Y.nextAddress)return Ta.get("knob").animate({center:Ta.innerBounds().center(),duration:200}),Y.yield(Ta.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);Ta.relayout();Y.jumpToEnd()})}},{key:"showPointValue",value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},{key:"controls",value:function(){this.extent=Tb.pt(200,200);var Ta,Y,Ma=[Tb.morph({extent:Tb.pt(200,200),clipMode:"hidden",fill:Tb.Color.transparent,submorphs:[{type:"image",
name:"mesh",fill:Tb.Color.transparent,opacity:.5,imageUrl:Tb.milimeter,autoResize:!0},{extent:Tb.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:Tb.Color.gray},fill:Tb.Color.transparent},Ta=Tb.morph({name:"scroller",extent:Tb.pt(200,200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),Y=Tb.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:Tb.Color.red,borderColor:Tb.Color.black,borderWidth:1,center:Tb.pt(100,100),draggable:!0}),{type:"label",
name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:Tb.pt(10,10),type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];Ta.scroll=Tb.pt(0,120);Tb.connect(Y,"onDragStart",this,"showPointValue");Tb.connect(Y,"onDrag",this,"adjustPoint");Tb.connect(Y,"onDragEnd",this,"calibrate");Tb.connect(this,"extent",this,"relayout");Tb.connect(Ta,"onScroll",this,"refineResolution");return Ma}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"PointPopover"}},
{key:"properties",get:function(){return{pointValue:{defaultValue:Tb.pt(0,0)},resolution:{defaultValue:1}}}}],Ob,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:18792,end:21996})}(Tb.StylePopover);Tb.PointPopover=Lc;Tb.PointPopover=Lc;Tb.PointPopover=Lc;Lc=function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
Gb=Ob.hasOwnProperty("RectanglePopover")&&"function"===typeof Ob.RectanglePopover?Ob.RectanglePopover:Ob.RectanglePopover=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"controls",value:function(){var Ta=this;return[{fill:Tb.Color.transparent,extent:Tb.pt(120,120),layout:new Tb.GridLayout({grid:[["top","top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],
columns:[0,{paddingLeft:4},1,{paddingRight:4,fixed:!0,width:60}],rows:Tb.arr.flatten(Tb.arr.range(0,3).map(function(Y){return[Y,{paddingTop:0==Y?4:2,paddingBottom:3==Y?4:2}]}))}),submorphs:Tb.arr.flatten(["top","right","bottom","left"].map(function(Y){var Ma=new Tb.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},name:Y+" scrubber",autofit:!1,number:Ta.rectangle.partNamed(Y)});Tb.connect(Ma,"update",Ta,"rectangle",{updater:function(gb,Nb){var oc=this.targetObj.rectangle,
Wc={};Nb=(Wc.left=oc.left(),Wc.top=oc.top(),Wc.right=oc.right(),Wc.bottom=oc.bottom(),Wc[Y]=Nb,Wc);gb(Tb.Rectangle.inset(Nb.left,Nb.top,Nb.right,Nb.bottom))},varMapping:{side:Y,Rectangle:Tb.Rectangle}});return[{type:"label",styleClasses:["controlName"],name:Y,value:Y,padding:3},Ma]}))}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RectanglePopover"}},{key:"properties",get:function(){return{popoverColor:{defaultValue:Tb.Color.gray.lighter()},rectangle:{defaultValue:Tb.rect(0)}}}}],
Ob,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:22005,end:23989})}(Tb.StylePopover);Tb.RectanglePopover=Lc;Tb.RectanglePopover=Lc;Tb.RectanglePopover=Lc;Lc=function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Ob.hasOwnProperty("TextPopover")&&
"function"===typeof Ob.TextPopover?Ob.TextPopover:Ob.TextPopover=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"controls",value:function(){var Ta=new Tb.Text(Object.assign({name:"editor",extent:Tb.pt(300,200),textString:this.text,lineWrapping:"by-chars"},Tb.config.codeEditor.defaultStyle));return[{layout:new Tb.HorizontalLayout,fill:Tb.Color.transparent,borderColor:Tb.Color.gray,borderWidth:1,
borderRadius:4,clipMode:"hidden",submorphs:[Ta]}]}},{key:"commands",get:function(){return Cc._get(Object.getPrototypeOf(Gb.prototype),"commands",this).concat([{name:"save string",exec:function(Ta){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Y){Ta.text=Ta.get("editor").textString;Tb.signal(Ta,"save",Ta.text);Ta.setStatusMessage("String saved!",Tb.Color.green);Y.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return Cc._get(Object.getPrototypeOf(Gb.prototype),"keybindings",this).concat([{keys:{mac:"Command-S",
win:"Ctrl-S"},command:"save string"}])}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],Ob,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:23998,end:25073})}(Tb.StylePopover);
Tb.TextPopover=Lc;Tb.TextPopover=Lc;Tb.TextPopover=Lc;Object.assign(Tb.popovers,{FillPopover:Tb.FillPopover,IconPopover:Tb.IconPopover,RectanglePopover:Tb.RectanglePopover,ShadowPopover:Tb.ShadowPopover,PointPopover:Tb.PointPopover,LayoutPopover:Tb.LayoutPopover});var Hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");Hb.Morph=Pe;Hb.morph=Zb;Hb.StyleSheet=dc;Hb.Text=Ie;Hb.Icon=Td;Hb.VerticalLayout=$a;Hb.GridLayout=ub;Hb.HorizontalLayout=Mc;Hb.pt=bd;Hb.Rectangle=ec;Hb.Color=
Ib;Hb.LinearGradient=Ga;Hb.rect=Pd;Hb.signal=ae;Hb.once=ea;Hb.connect=gd;Hb.obj=Sc;Hb.num=Fe;Hb.Window=Da;Hb.ColorPalette=ud;Hb.FillPopover=cd;Hb.colorWidgets=te;Hb.Slider=Nd;Hb.Popover=Ha;Hb.resource=ta;Hb.WHEEL_URL="/lively.ide/assets/color-wheel.png";ud=function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Gb=Ob.hasOwnProperty("ColorPickerField")&&"function"===typeof Ob.ColorPickerField?Ob.ColorPickerField:Ob.ColorPickerField=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"spec",value:function(){return Hb.obj.dissoc(Cc._get(Object.getPrototypeOf(Gb.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function(Ta){"Escape"==Ta.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,duration:300})}},{key:"onHoverOut",
value:function(){this.get("dropDownIndicator").animate({opacity:0,duration:300})}},{key:"update",value:function(Ta){this._updating=!0;var Y=this.submorphs[1];this.colorValue=Ta;this.get("topLeft").fill=Ta;this.get("bottomRight").fill=Ta.isGradient?Hb.Color.transparent:Ta.withA(1);Y.visible=Y.isLayoutable=!this.gradientEnabled;this.gradientEnabled?this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=this.get("topLeft").width=Math.max(1,
this.width-Y.width);this.get("bottomRight").left=0;this.get("dropDownIndicator").right=this.get("paletteButton").width-5;this._updating=!1}},{key:"openPicker",value:function(Ta){var Y=this,Ma,gb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Nb){if(1==Nb.nextAddress)return(Ma=Y.picker)?Nb.jumpTo(2):Nb.yield(Hb.resource("part://SystemWidgets/new color picker").read(),3);2!=Nb.nextAddress&&(Ma=Nb.yieldResult);gb=Ma;gb.solidOnly=!Y.gradientEnabled;gb.hasFixedPosition=!0;gb.focusOnMorph(Y.context,
Y.colorValue);gb.toggleHalos(!1);gb.position=Hb.pt(0,-gb.height/2);Hb.connect(gb,"value",Y,"update");Y.picker=gb.openInWorld();Y.picker.topLeft=Y.globalBounds().bottomCenter();Y.picker.topLeft=Y.world().visibleBounds().translateForInclusion(Y.picker.globalBounds()).topLeft();Nb.jumpToEnd()})}},{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function(Ta){var Y=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ma){Y.openPicker(Ta);Ma.jumpToEnd()})}},
{key:"removeWidgets",value:function(){this.removePicker()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,after:["colorValue"],set:function(Ta){this.setProperty("gradientEnabled",Ta);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new Hb.FillPopover({fillValue:this.colorValue})}},testProp:{get:function(){return[42]}},palette:{serialize:!1,get:function(){return this._palette||
(this._palette=new Hb.Popover({position:Hb.pt(0,0),name:"Color Palette",targetMorph:new Hb.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function(Ta){Ta&&(Ta.isColor||Ta.isGradient)||(Ta=Hb.Color.blue);if(!this._updating)return this.update(Ta);this.setProperty("colorValue",Ta)},get:function(){return this.getProperty("colorValue")||Hb.Color.white}},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color field"}}},submorphs:{initialize:function(){this.innerBounds().topRight();
this.innerBounds().bottomLeft();var Ta=Hb.pt(40,25);this.submorphs=[{extent:Ta,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:Ta},{name:"bottomRight",type:"polygon",extent:Ta,origin:Hb.pt(0,0),vertices:[Hb.pt(0,0),Ta.withX(0),Ta]},Hb.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:Hb.pt(30,12.5)})]},{fill:Hb.Color.transparent,extent:Hb.pt(25,25),onHoverIn:function(){this.fill=Hb.Color.black.withA(.2)},onHoverOut:function(){this.fill=Hb.Color.transparent},
submorphs:[{name:"pickerButton",type:"image",autoResize:!1,imageUrl:Hb.WHEEL_URL}]}];Hb.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",this,"openPicker");Hb.connect(this.getSubmorphNamed("paletteButton"),"onMouseDown",this,"openPalette");Hb.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],Ob,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:689,end:5910})}(Hb.Morph);Hb.ColorPickerField=ud;Hb.ColorPickerField=ud;Hb.ColorPickerField=ud;Hb.colorWidgets.ColorPickerField=Hb.ColorPickerField;(function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Gb=Ob.hasOwnProperty("FieldPicker")&&"function"===typeof Ob.FieldPicker?Ob.FieldPicker:Ob.FieldPicker=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Cc(Gb,Be,[{key:"confirm",value:function(){Hb.signal(this,"shadeChanged",[this.brightness,this.saturation])}},{key:"update",value:function(Ta){var Y=$jscomp.makeIterator(Ta.color.toHSB());Ta=Y.next().value;var Ma=Y.next().value;Y=Y.next().value;this.getSubmorphNamed("hue").fill=Hb.Color.hsb(Ta,1,1);this.brightness=Y;this.saturation=Ma;this.refresh()}},{key:"refresh",value:function(){this.get("picker").center=this.pickerPosition}},{key:"onMouseDown",value:function(Ta){this.pickerPosition=
Ta.positionIn(this);this.confirm()}},{key:"onDrag",value:function(Ta){this.pickerPosition=Ta.positionIn(this);this.confirm()}},{key:"relayout",value:function(){var Ta=this.innerBounds();this.getSubmorphNamed("hue").setBounds(Ta);this.getSubmorphNamed("shade").setBounds(Ta);this.getSubmorphNamed("light").setBounds(Ta)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:Hb.Color.transparent},saturation:{defaultValue:0},
brightness:{defaultValue:0},draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var Ta=this.saturation,Y=this.brightness;return void 0===Ta||void 0===Y?Hb.pt(0,0):Hb.pt(this.getSubmorphNamed("hue").width*Ta,this.getSubmorphNamed("hue").height*(1-Y))},set:function(Ta){var Y=Ta.x;Ta=Ta.y;var Ma=this.getSubmorphNamed("hue"),gb=Ma.height;this.saturation=Hb.num.clamp(Y/Ma.width,0,1);this.brightness=Hb.num.clamp(1-Ta/gb,0,1);this.refresh()}},
submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new Hb.LinearGradient({stops:[{color:Hb.Color.white,offset:0},{color:Hb.Color.transparent,offset:1}],vector:"eastwest"})},{borderRadius:3,name:"light",reactsToPointer:!1,fill:new Hb.LinearGradient({stops:[{color:Hb.Color.black,offset:0},{color:Hb.Color.transparent,offset:1}],vector:"southnorth"})},{name:"picker",type:"ellipse",reactsToPointer:!1,fill:Hb.Color.transparent,
borderColor:Hb.Color.black,borderWidth:3,extent:Hb.pt(16,16),submorphs:[{type:"ellipse",fill:Hb.Color.transparent,borderColor:Hb.Color.white,reactsToPointer:!1,borderWidth:3,center:Hb.pt(8,8),extent:Hb.pt(12,12)}]}];Hb.connect(this,"extent",this,"relayout")}}}}}],Ob,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:5964,end:9331})})(Hb.Morph);(function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Gb=Ob.hasOwnProperty("ColorPropertyView")&&"function"===typeof Ob.ColorPropertyView?Ob.ColorPropertyView:Ob.ColorPropertyView=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=["key"].concat($jscomp.arrayFromIterable(this.readOnly?
[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=[!this.readOnly&&"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function(Ta){"Enter"!=Ta.keyCombo||this.readOnly?Cc._get(Object.getPrototypeOf(Gb.prototype),"onKeyDown",this).call(this,Ta):(this.owner.focus(),
Ta.stop(),Hb.signal(this,"updateValue",this.value))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},value:{derived:[!0],set:function(Ta){this.textString=Hb.obj.safeToString(Ta)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:Hb.Color.gray.darker()}}}}],Ob,{pathInPackage:function(){return"styling/color-picker.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:9340,end:10510})})(Hb.Text);(function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Gb=Ob.hasOwnProperty("HuePicker")&&"function"===typeof Ob.HuePicker?Ob.HuePicker:Ob.HuePicker=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Cc(Gb,Be,[{key:"confirm",value:function(){Hb.signal(this,"hueChanged",this.hue)}},{key:"onMouseDown",value:function(Ta){var Y=this.get("slider").width;this.sliderPosition=Hb.pt(0,Ta.positionIn(this).y-Y/2);this.confirm()}},{key:"onDrag",value:function(Ta){var Y=this.get("slider").width;this.sliderPosition=Hb.pt(0,Ta.positionIn(this).y-Y/2);this.confirm()}},{key:"update",value:function(Ta){this.hue=Ta.hsb[0];this.refresh()}},{key:"refresh",value:function(){this.get("slider").center=
this.sliderPosition}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new Hb.LinearGradient({stops:[{color:Hb.Color.rgb(255,0,0),offset:0},{color:Hb.Color.rgb(255,255,0),offset:.17},{color:Hb.Color.limeGreen,offset:.33},{color:Hb.Color.cyan,offset:.5},{color:Hb.Color.blue,offset:.66},{color:Hb.Color.magenta,offset:.83},{color:Hb.Color.rgb(255,0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},
hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return Hb.pt(this.width/2,5+this.hue/360*(this.height-10))},set:function(Ta){this.hue=Math.max(0,Math.min(Ta.y/(this.height-10)*360,359));this.refresh()}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:Hb.Color.black,fill:Hb.Color.transparent,borderWidth:2}]}}}}}],Ob,{pathInPackage:function(){return"styling/color-picker.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:10512,end:12485})})(Hb.Morph);(function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Gb=Ob.hasOwnProperty("ColorDetails")&&"function"===typeof Ob.ColorDetails?Ob.ColorDetails:Ob.ColorDetails=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"update",value:function(Ta){Ta=Ta.color;var Y=$jscomp.makeIterator(Ta.toTuple8Bit()),Ma=Y.next().value,gb=Y.next().value;Y=Y.next().value;var Nb=$jscomp.makeIterator(Ta.toHSB()),oc=Nb.next().value,Wc=Nb.next().value;Nb=Nb.next().value;var Gc=this.get("hashViewer");this.get("colorViewer").fill=Ta;Gc.replace(Gc.documentRange,Ta.toHexString(),!1,!1);this.get("R").value="R "+Ma.toFixed(0)+"\n\nG "+gb.toFixed(0)+
"\n\nB "+Y.toFixed(0)+"\n\nH "+oc.toFixed(0)+"\n\nS "+Wc.toFixed(2)+"\n\nV "+Nb.toFixed(2)}},{key:"onHashViewerChanged",value:function(Ta){Ta=Hb.Color.rgbHex(Ta);this.owner.owner.color=Ta}},{key:"keyValue",value:function(Ta){var Y=Ta.name,Ma=Ta.key,gb=Ta.value,Nb=Ta.update;Ta=Ta.editable;return new Hb.Morph({fill:Hb.Color.transparent,layout:new Hb.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",styleClasses:[Ta&&"large","key"],value:Ma},new Hb.ColorPropertyView({name:Y||Ma,
readOnly:!Ta,value:gb,update:Nb})]})}},{key:"hashViewer",value:function(){var Ta=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});Hb.connect(Ta.get("hashViewer"),"updateValue",this,"onHashViewerChanged");return Ta}},{key:"rgbViewer",value:function(){var Ta=$jscomp.makeIterator(this.color.toTuple8Bit()),Y=Ta.next().value,Ma=Ta.next().value;Ta=Ta.next().value;return new Hb.Morph({name:"rgbViewer",fill:Hb.Color.transparent,submorphs:[this.keyValue({key:"R",value:Y.toFixed()}),
this.keyValue({key:"G",value:Ma.toFixed()}),this.keyValue({key:"B",value:Ta.toFixed()})]})}},{key:"hsbViewer",value:function(){var Ta=$jscomp.makeIterator(this.color.toHSB()),Y=Ta.next().value,Ma=Ta.next().value;Ta=Ta.next().value;return new Hb.Morph({name:"hsbViewer",fill:Hb.Color.transparent,submorphs:[this.keyValue({key:"H",value:Y.toFixed()}),this.keyValue({key:"S",value:Ma.toFixed(2)}),this.keyValue({key:"V",value:Ta.toFixed(2)})]})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorDetails"}},
{key:"properties",get:function(){return{color:{defaultValue:Hb.Color.blue},width:{defaultValue:80},fill:{defaultValue:Hb.Color.transparent},layout:{initialize:function(){this.layout=new Hb.VerticalLayout({spacing:9,layoutOrder:function(Ta){return this.container.submorphs.indexOf(Ta)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:Hb.pt(50,50),name:"colorViewer",fill:this.color},this.hashViewer(),{type:"label",name:"R",autofit:!0,padding:Hb.rect(10,0,0,
0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],Ob,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12494,end:15269})})(Hb.Morph);ud=Wa("a",function(Be){var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Gb=Ob.hasOwnProperty("ColorPicker")&&
"function"===typeof Ob.ColorPicker?Ob.ColorPicker:Ob.ColorPicker=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cc(Gb,Be,[{key:"onKeyDown",value:function(Ta){"Escape"==Ta.key&&this.close()}},{key:"close",value:function(){Cc._get(Object.getPrototypeOf(Gb.prototype),"close",this).call(this);Hb.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&(this.get("header").fill=Hb.Color.transparent,
this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),Hb.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var Ta=this.colorDetails(),Y=this.fieldPicker(),Ma=this.huePicker(),gb=this.alphaSlider();Ta=new Hb.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[Y,Ma,Ta,gb]});Hb.connect(Y,"brightness",this,"brightness");Hb.connect(Y,
"saturation",this,"saturation");Hb.connect(Ma,"hue",this,"hue");return Ta}},{key:"alphaSlider",value:function(){var Ta,Y=Hb.morph({name:"alphaSlider",fill:Hb.Color.transparent,layout:new Hb.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:Hb.Rectangle.inset(3),value:"Alpha",fontColor:Hb.Color.gray,fontWeight:"bold"},Ta=new Hb.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});Hb.connect(Ta,"value",this,"alpha");return Y}},{key:"fieldPicker",value:function(){return new Hb.FieldPicker({name:"field picker",
saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new Hb.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new Hb.ColorDetails({name:"details",color:this.color})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:Hb.pt(400,320)},fill:{defaultValue:Hb.Color.black.withA(.7)},isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},
hasFixedPosition:{defaultValue:!0},color:{defaultValue:Hb.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return Hb.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function(Ta){var Y=$jscomp.makeIterator(Ta.toHSB()),Ma=Y.next().value,gb=Y.next().value;Y=Y.next().value;this.hue=Ma;this.saturation=gb;this.brightness=Y;this.alpha=Ta.a}},alpha:{set:function(Ta){this.setProperty("alpha",Ta);this.update()}},saturation:{},brightness:{set:function(Ta){this.setProperty("brightness",
Ta);this.update()}},hue:{set:function(Ta){this.setProperty("hue",Ta);this.update()}},targetMorph:{initialize:function(){var Ta=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=Hb.Color.gray;this.ui.header.fill=Hb.Color.transparent;this.whenRendered().then(function(){Ta.fill=Hb.Color.black.withA(.7);Ta.update()})}}}}}],Ob,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15278,end:19116})}(Hb.Window));Hb.ColorPicker=ud;Hb.ColorPicker=ud;Hb.ColorPicker=ud}}});
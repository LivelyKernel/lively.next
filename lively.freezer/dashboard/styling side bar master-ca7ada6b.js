System.register("./__root_module__-aa47e4cd.js kld-intersections ./index-f9b193f7.js ./index-67dc020a.js ./index-751356d3.js ./color-picker-698f55da.js ./index-153adde0.js".split(" "),function(){var Ca,ub,Tb,lc,mc,Zd,id,ce,kd,$c,Cd,Fd,pe,Xd,nd,eb,Hb,Cc,qc,ld;return{setters:[function(wd){Ca=wd.ag;ub=wd.ay;Tb=wd.al;lc=wd.am;mc=wd.at;Zd=wd.a1;id=wd.C;ce=wd.ar;kd=wd.ao;$c=wd.bo;Cd=wd.aq;Fd=wd.a5;pe=wd.s;Xd=wd.bV;nd=wd.as;eb=wd.ap;Hb=wd.r;Cc=wd.a4;qc=wd.P},function(){},function(){},function(){},function(){},
function(wd){ld=wd.S},function(){}],execute:function(){var wd=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js");wd.Morph=Ca;wd.touchInputDevice=ub;wd.morph=Tb;wd.Icon=lc;wd.easings=mc;wd.pt=Zd;wd.Color=id;wd.fun=ce;wd.connect=kd;wd.TreeData=$c;var Xc=function(Id){var hc=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),Qb=hc.hasOwnProperty("SettingsTree")&&"function"===typeof hc.SettingsTree?hc.SettingsTree:hc.SettingsTree=function(xb){xb&&xb[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cd(Qb,Id,[{key:"display",value:function(xb){return xb.panel?[xb.panel,{}]:xb.name}},{key:"collapse",value:function(xb,Nb){xb.isCollapsed=Nb}},{key:"isCollapsed",value:function(xb){return xb.isCollapsed}},{key:"isLeaf",value:function(xb){return!xb.children}},{key:"getChildren",value:function(xb){return xb.children}}],[{key:"className",get:function(){return"SettingsTree"}},{key:"default",value:function(){return new this({isCollapsed:!1,
children:[{isCollapsed:!0,name:[" ",{}].concat($jscomp.arrayFromIterable(wd.Icon.textAttribute("font")),[" Rich Text",{fontWeight:"bold"}]),children:[{panel:wd.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(wd.Icon.textAttribute("image")),[" Shape",{fontWeight:"bold"}]),children:[{panel:wd.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(wd.Icon.textAttribute("border-style")),[" Border",{paddingLeft:"2px",fontWeight:"bold"}]),children:[{panel:wd.morph({})}]},
{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(wd.Icon.textAttribute("grip-vertical")),[" Layout",{paddingLeft:"4px",fontWeight:"bold"}]),children:[{panel:wd.morph({})}]}]})}},{key:"border",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" Type    ",{},wd.morph({height:20}),{}],children:[{panel:wd.morph({})}]},{isCollapsed:!1,name:[" Color   ",{},wd.morph({height:20}),{}],children:[{panel:wd.morph({})}]},{isCollapsed:!1,name:[" Width  ",{},wd.morph({height:20}),
{}],children:[{panel:wd.morph({})}]},{isCollapsed:!1,name:[" Radius ",{},wd.morph({height:20}),{}],children:[{panel:wd.morph({})}]}]})}}],hc,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-55"}}},{start:284,end:2453})}(wd.TreeData);wd.SettingsTree=Xc;wd.SettingsTree=Xc;wd.SettingsTree=Xc;Xc=function(Id){var hc=
lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),Qb=hc.hasOwnProperty("StylingSideBar")&&"function"===typeof hc.StylingSideBar?hc.StylingSideBar:hc.StylingSideBar=function(xb){xb&&xb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cd(Qb,Id,[{key:"onWorldResize",value:function(xb){xb=void 0===xb?!0:xb;if(this.respondsToVisibleWindow){var Nb=$world.visibleBounds(),kb=navigator.standalone&&wd.touchInputDevice?25:0,Db=this.getSubmorphNamed("horizontal resizer");
this.height=Nb.height-kb;this.top=kb+Nb.top();Db.height=this.height;Db.left=0;Db.top=0;xb&&(this.visible?this.topRight=Nb.topRight():this.topLeft=Nb.topRight())}}},{key:"toggle",value:function(xb){var Nb=this,kb,Db;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rb){switch(Rb.nextAddress){case 1:kb=$world.visibleBounds();Db=navigator.standalone&&wd.touchInputDevice?25:0;Nb.height=kb.height-Db;Nb.top=Db+kb.top();if(xb)return $world.addMorph(Nb,$world.get("lively top bar")),Nb.left=kb.width,
Nb.visible=!0,Rb.yield(Nb.whenRendered(),5);Nb.detachFromWorld($world);return Rb.yield(Nb.animate({opacity:0,left:kb.width,duration:300}),4);case 4:Nb.visible=!1;Nb.remove();Rb.jumpTo(0);break;case 5:return Nb.onWorldResize(!1),Rb.yield(Nb.animate({opacity:1,easing:wd.easings.outCirc,right:kb.width,duration:300}),6);case 6:Nb.attachToWorld($world),Rb.jumpToEnd()}})}},{key:"attachToWorld",value:function(xb){wd.connect(xb,"showHaloFor",this,"focusMorph",{garbageCollect:!0})}},{key:"detachFromWorld",
value:function(xb){var Nb=this;xb.attributeConnections.forEach(function(kb){kb.targetObj===Nb&&kb.disconnect()})}},{key:"focusMorph",value:function(xb){xb.isMorph&&xb.ownerChain().includes(this)||((xb.isLabel||xb.isText||xb.isButton)&&this.richTextControl.focusOn(xb,!1),Object.values(this.controls).forEach(function(Nb){return Nb&&Nb.focusOn(xb)}))}},{key:"onHierarchyChange",value:function(){Object.values(this.controls).forEach(function(xb){return xb&&xb.update()})}}],[{key:"className",get:function(){return"StylingSideBar"}},
{key:"properties",get:function(){return{controls:{},richTextControl:{},isHaloItem:{get:function(){return!0}}}}}],hc,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-55"}}},{start:2470,end:4827})}(wd.Morph);Xc=wd.StylingSideBar;wd.default=Xc;var gd=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js");
gd.Morph=Ca;gd.obj=Fd;gd.string=pe;gd.connect=kd;gd.noUpdate=Xd;gd.once=nd;Xc=function(Id){var hc=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js"),Qb=hc.hasOwnProperty("ShapeFormatStyler")&&"function"===typeof hc.ShapeFormatStyler?hc.ShapeFormatStyler:hc.ShapeFormatStyler=function(xb){xb&&xb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cd(Qb,Id,[{key:Symbol.for("lively-instance-initialize"),value:function(xb){Cd._get(Object.getPrototypeOf(Qb.prototype),
Symbol.for("lively-instance-initialize"),this).call(this,xb);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var xb=this.ui,Nb={},kb=$jscomp.makeIterator(Object.entries(this.uiSpec)),Db=kb.next();!Db.done;Nb={$jscomp$loop$prop$control$2292:Nb.$jscomp$loop$prop$control$2292,$jscomp$loop$prop$prop$2293:Nb.$jscomp$loop$prop$prop$2293},Db=kb.next()){var Rb=$jscomp.makeIterator(Db.value);Db=Rb.next().value;Rb=$jscomp.makeIterator(Rb.next().value);Rb.next();
var vc=Rb.next().value;Nb.$jscomp$loop$prop$prop$2293=Rb.next().value;Nb.$jscomp$loop$prop$control$2292=xb[Db];gd.connect(Nb.$jscomp$loop$prop$control$2292,vc,this,"updateTarget",{updater:function(jc){return function(qb,rb){jc.$jscomp$loop$prop$control$2292._updating=!0;qb(jc.$jscomp$loop$prop$prop$2293,rb);jc.$jscomp$loop$prop$control$2292._updating=!1}}(Nb),varMapping:{prop:Nb.$jscomp$loop$prop$prop$2293,control:Nb.$jscomp$loop$prop$control$2292}})}}},{key:"update",value:function(){var xb=this,
Nb=this.target,kb=Nb.clipMode,Db=Nb.fill,Rb=Nb.dropShadow,vc=Nb.opacity,jc=Nb.height,qb=Nb.width;Nb=this.ui;var rb=Nb.clipModeSelector,cc=Nb.fillPicker,Vc=Nb.opacityField,Bc=Nb.shadowPicker,xc=Nb.heightField,kc=Nb.widthField;gd.noUpdate(function(){xb.updateControl(Bc,"shadowValue",Rb);xb.updateControl(rb,"selection",kb);xb.updateControl(cc,"colorValue",Db);xb.updateControl(Vc,"number",vc);xb.updateControl(xc,"number",jc);xb.updateControl(kc,"number",qb)})}},{key:"updateTarget",value:function(xb,Nb){this.target[xb]=
Nb;this.update()}},{key:"updateControl",value:function(xb,Nb,kb){xb._updating||gd.obj.equals(xb[Nb],kb)||(xb[Nb]=kb)}},{key:"updateMultiValue",value:function(xb,Nb,kb){var Db=this.ui,Rb=Db[this.join(xb)],vc=Rb.get("multi value indicator"),jc=gd.obj.values(Nb).some(function(qb){return!gd.obj.isFunction(qb)&&!gd.obj.equals(qb,Nb.valueOf())});vc.left=0;Rb.visible=Rb.isLayoutable=!jc;if(jc&&vc.visible!=jc)gd.once(vc,"onMouseDown",Rb,kb,{converter:function(){return Nb.valueOf()},varMapping:{value:Nb}});
vc.visible=vc.isLayoutable=jc;vc.left=jc?200:0;this.updateControl(Rb,kb,Nb.valueOf());Rb=$jscomp.makeIterator(["top","left","bottom","right"]);for(vc=Rb.next();!vc.done;vc=Rb.next())vc=vc.value,jc=Db[this.join(xb,vc)],this.updateControl(jc,kb,Nb[vc])}},{key:"lower",value:function(xb){return xb.charAt(0).toLowerCase()+xb.slice(1)}},{key:"join",value:function(xb,Nb){return this.lower(gd.string.camelCaseString(xb+(Nb?" "+Nb:"")))}},{key:"unwrap",value:function(xb,Nb,kb){var Db={};Db=(Db[this.lower(gd.string.camelCaseString(xb))]=
[xb,Nb,kb],Db);for(var Rb=$jscomp.makeIterator(["top","left","bottom","right"]),vc=Rb.next();!vc.done;vc=Rb.next()){vc=vc.value;var jc=xb+" "+vc;Db[this.lower(gd.string.camelCaseString(jc))]=[jc,Nb,this.join(kb,vc)]}return Db}},{key:"focusOn",value:function(xb){var Nb=this,kb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Db){if(1==Db.nextAddress)return!xb||Nb.isAncestorOf(xb)||Nb.target===xb||gd.obj.isArray(xb)||(Nb.target=xb),kb=Nb.visible,Nb.visible=!0,Db.yield(Nb.whenRendered(),2);
if(3!=Db.nextAddress)return Nb.update(),Db.yield(Nb.whenRendered(),3);Nb.getSubmorphsByStyleClassName("NumberWidget").map(function(Rb){return Rb.relayout()});Nb.visible=kb;Db.jumpToEnd()})}},{key:"onHoverIn",value:function(xb){this.watchForTarget=!1}},{key:"onHoverOut",value:function(xb){this.watchForTarget=!0}}],[{key:"className",get:function(){return"ShapeFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||(this._uiSpec={clipModeSelector:["clip mode selector",
"selection","clipMode"],fillPicker:["fill picker","colorValue","fill"],shadowPicker:["shadow picker","shadowValue","dropShadow"],opacityField:["opacity field","number","opacity"],heightField:["height field","number","height"],widthField:["width field","number","width"]})}},ui:{readOnly:!0,get:function(){var xb=this,Nb=this.uiSpec;return this._ui||(this._ui=gd.obj.extract(Nb,gd.obj.keys(Nb),function(kb,Db){kb=$jscomp.makeIterator(Db).next().value;return xb.getSubmorphNamed(kb)}))}}}}}],hc,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeFormatStyler",version:"0.1.1-144"}}},{start:176,end:4600})}(gd.Morph);Xc=gd.ShapeFormatStyler;gd.default=Xc;var bc=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js");bc.Morph=Ca;bc.ShadowPopover=ld;bc.connect=kd;bc.signal=eb;Xc=function(Id){var hc=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js"),Qb=hc.hasOwnProperty("ShadowWidget")&&
"function"===typeof hc.ShadowWidget?hc.ShadowWidget:hc.ShadowWidget=function(xb){xb&&xb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cd(Qb,Id,[{key:"onHoverIn",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:1,duration:200})}},{key:"onHoverOut",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:0,duration:200})}},{key:"onMouseDown",value:function(xb){this.openPopover()}},
{key:"update",value:function(xb){var Nb=this.submorphs[0];Nb&&(Nb.dropShadow=xb)}},{key:"openPopover",value:function(){var xb=this,Nb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(kb){if(1==kb.nextAddress)return Nb=new bc.ShadowPopover({hasFixedPosition:!!xb.ownerChain().find(function(Db){return Db.hasFixedPosition}),shadowValue:xb.shadowValue}),kb.yield(Nb.fadeIntoWorld(xb.globalBounds().center()),2);bc.connect(Nb,"shadowValue",xb,"shadowValue");bc.connect(xb,"shadowValue",xb,"update");
bc.signal(xb,"openWidget",Nb);kb.jumpToEnd()})}}],[{key:"className",get:function(){return"ShadowWidget"}},{key:"properties",get:function(){return{shadowValue:{set:function(xb){this.setProperty("shadowValue",xb);this.update(xb)}}}}}],hc,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShadowWidget",version:"0.1.1-7"}}},{start:194,end:1231})}(bc.Morph);
Xc=bc.ShadowWidget;bc.default=Xc;var ad=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js");ad.Morph=Ca;ad.obj=Fd;ad.string=pe;ad.connect=kd;ad.noUpdate=Xd;ad.once=nd;Xc=function(Id){var hc=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js"),Qb=hc.hasOwnProperty("BorderFormatStyler")&&"function"===typeof hc.BorderFormatStyler?hc.BorderFormatStyler:hc.BorderFormatStyler=function(xb){xb&&xb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Cd(Qb,Id,[{key:Symbol.for("lively-instance-initialize"),value:function(xb){Cd._get(Object.getPrototypeOf(Qb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,xb);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var xb=this.ui,Nb={},kb=$jscomp.makeIterator(Object.entries(this.uiSpec)),Db=kb.next();!Db.done;Nb={$jscomp$loop$prop$control$2295:Nb.$jscomp$loop$prop$control$2295,$jscomp$loop$prop$prop$2296:Nb.$jscomp$loop$prop$prop$2296},
Db=kb.next()){var Rb=$jscomp.makeIterator(Db.value);Db=Rb.next().value;Rb=$jscomp.makeIterator(Rb.next().value);Rb.next();var vc=Rb.next().value;Nb.$jscomp$loop$prop$prop$2296=Rb.next().value;Nb.$jscomp$loop$prop$control$2295=xb[Db];ad.connect(Nb.$jscomp$loop$prop$control$2295,vc,this,"updateTarget",{updater:function(jc){return function(qb,rb){jc.$jscomp$loop$prop$control$2295._updating=!0;qb(jc.$jscomp$loop$prop$prop$2296,rb);jc.$jscomp$loop$prop$control$2295._updating=!1}}(Nb),varMapping:{prop:Nb.$jscomp$loop$prop$prop$2296,
control:Nb.$jscomp$loop$prop$control$2295}})}}},{key:"update",value:function(){var xb=this,Nb=this.target,kb=Nb.borderStyle,Db=Nb.borderColor,Rb=Nb.borderRadius,vc=Nb.borderWidth;ad.noUpdate(function(){xb.updateMultiValue("border style selector",kb,"selection");xb.updateMultiValue("border color picker",Db,"colorValue");xb.updateMultiValue("border radius field",Rb,"number");xb.updateMultiValue("border width field",vc,"number")})}},{key:"updateTarget",value:function(xb,Nb){this.target[xb]=Nb;this.update()}},
{key:"updateControl",value:function(xb,Nb,kb){xb._updating||ad.obj.equals(xb[Nb],kb)||(xb[Nb]=kb)}},{key:"updateMultiValue",value:function(xb,Nb,kb){var Db=this.ui,Rb=Db[this.join(xb)],vc=Rb.get("multi value indicator"),jc=ad.obj.values(Nb).some(function(qb){return!ad.obj.isFunction(qb)&&!ad.obj.equals(qb,Nb.valueOf())});Rb.visible=Rb.isLayoutable=!jc;if(jc&&vc.visible!=jc)ad.once(vc,"onMouseDown",Rb,kb,{converter:function(){return Nb.valueOf()},varMapping:{value:Nb}});vc.visible=vc.isLayoutable=
jc;this.updateControl(Rb,kb,Nb.valueOf());Rb=$jscomp.makeIterator(["top","left","bottom","right"]);for(vc=Rb.next();!vc.done;vc=Rb.next())vc=vc.value,jc=Db[this.join(xb,vc)],this.updateControl(jc,kb,Nb[vc])}},{key:"lower",value:function(xb){return xb.charAt(0).toLowerCase()+xb.slice(1)}},{key:"join",value:function(xb,Nb){return this.lower(ad.string.camelCaseString(xb+(Nb?" "+Nb:"")))}},{key:"unwrap",value:function(xb,Nb,kb){var Db={};Db=(Db[this.lower(ad.string.camelCaseString(xb))]=[xb,Nb,kb],Db);
for(var Rb=$jscomp.makeIterator(["top","left","bottom","right"]),vc=Rb.next();!vc.done;vc=Rb.next()){vc=vc.value;var jc=xb+" "+vc;Db[this.lower(ad.string.camelCaseString(jc))]=[jc,Nb,this.join(kb,vc)]}return Db}},{key:"attachToWorld",value:function(){ad.connect($world,"showHaloFor",this,"focusOn",{garbageCollect:!0})}},{key:"focusOn",value:function(xb){var Nb=this,kb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Db){if(1==Db.nextAddress)return!xb||Nb.isAncestorOf(xb)||Nb.target===xb||
ad.obj.isArray(xb)||(Nb.target=xb),kb=Nb.visible,Nb.visible=!0,Db.yield(Nb.whenRendered(),2);if(3!=Db.nextAddress)return Nb.update(),Db.yield(Nb.whenRendered(),3);Nb.getSubmorphsByStyleClassName("NumberWidget").map(function(Rb){return Rb.relayout()});Nb.visible=kb;Db.jumpToEnd()})}},{key:"onHoverIn",value:function(xb){this.watchForTarget=!1}},{key:"onHoverOut",value:function(xb){this.watchForTarget=!0}}],[{key:"className",get:function(){return"BorderFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||
(this._uiSpec=Object.assign({},this.unwrap("border style selector","selection","borderStyle"),{},this.unwrap("border color picker","colorValue","borderColor"),{},this.unwrap("border radius field","number","borderRadius"),{},this.unwrap("border width field","number","borderWidth")))}},ui:{}}}}],hc,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"BorderFormatStyler",
version:"0.1.1-10"}}},{start:185,end:4385})}(ad.Morph);Xc=ad.BorderFormatStyler;ad.default=Xc;var ed=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js");ed.Morph=Ca;ed.resource=Hb;ed.arr=Cc;ed.obj=Fd;ed.string=pe;ed.Path=qc;ed.connect=kd;Xc=function(Id){var hc=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js"),Qb=hc.hasOwnProperty("MasterComponentControl")&&"function"===typeof hc.MasterComponentControl?hc.MasterComponentControl:hc.MasterComponentControl=function(xb){xb&&
xb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Cd(Qb,Id,[{key:"focusOn",value:function(xb){this.target=xb;this.update()}},{key:"onMouseUp",value:function(xb){var Nb=this,kb,Db,Rb,vc,jc,qb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rb){if(1==rb.nextAddress){"auto master selection"==xb.targetMorph.name&&(kb="auto");"hover master selection"==xb.targetMorph.name&&(kb="hover");"click master selection"==xb.targetMorph.name&&
(kb="click");Nb.refreshButtons();if(!Nb.target)return rb.return();Db=$jscomp.makeIterator(["auto","hover","click"]);for(Rb=Db.next();!Rb.done;Rb=Db.next())vc=Rb.value,Nb.target.master&&Nb.target.master[vc]&&!Nb.get(vc+" master checkbox").checked&&Nb.adjustMasterComponent(vc,null);if(!kb)return rb.jumpTo(0);jc=Nb;qb=jc.openMenu;return rb.yield(Nb.getComponentSelectionMenu(kb),3)}qb.call(jc,rb.yieldResult,xb);rb.jumpToEnd()})}},{key:"getComponentSelectionMenu",value:function(xb){var Nb=this,kb,Db,Rb,
vc,jc,qb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rb){if(1==rb.nextAddress)return kb=Nb.world().metadata.commit.name,Db=ed.resource("styleguide://"+kb+"/"),rb.yield(Db.dirList(),2);if(3!=rb.nextAddress)return Rb=rb.yieldResult,rb.yield(ed.resource("styleguide://style guide/").dirList(),3);vc=rb.yieldResult;jc=Nb.componentsToMenu(Rb,xb);qb=Nb.componentsToMenu(vc,xb);return rb.return([].concat($jscomp.arrayFromIterable(0<jc.length?[].concat($jscomp.arrayFromIterable(jc),[{isDivider:!0}]):
[]),$jscomp.arrayFromIterable(qb)))})}},{key:"adjustMasterComponent",value:function(xb,Nb){if(this.target.master)this.target.master[xb]=Nb;else if(Nb){var kb={};this.target.master=(kb[xb]=Nb,kb)}xb=this.target.master;Nb=xb.hover;kb=xb.click;xb.auto||Nb||kb||(this.target.master=null);this.update();this.target.requestMasterStyling()}},{key:"componentsToMenu",value:function(xb,Nb,kb,Db){var Rb=this;kb=void 0===kb?null:kb;Db=void 0===Db?1:Db;kb||(kb=xb.map(function(jc){return{name:ed.arr.last(jc.name.split("/")),
path:jc.name.split("/"),value:jc}}));if(0==kb.length||100<Db)return[];var vc=this;return ed.arr.flatten(Object.entries(ed.arr.groupBy(kb,function(jc){return jc.path[Db-1]})).map(function(jc){var qb=$jscomp.makeIterator(jc);jc=qb.next().value;qb=qb.next().value;var rb=$jscomp.makeIterator(ed.arr.partition(qb,function(cc){return cc.path.length<=Db}));qb=rb.next().value;rb=rb.next().value;jc=[jc,Rb.componentsToMenu(null,Nb,rb,Db+1)];return[].concat($jscomp.arrayFromIterable(qb.map(function(cc){return[cc.name,
function(){vc.adjustMasterComponent(Nb,cc.value)}]})),$jscomp.arrayFromIterable(jc[1].length?[jc]:[]))}),1)}},{key:"update",value:function(){if(this.target){for(var xb=$jscomp.makeIterator(["auto","hover","click"]),Nb=xb.next();!Nb.done;Nb=xb.next()){Nb=Nb.value;var kb=this.getSubmorphNamed(Nb+" master selection"),Db=this.getSubmorphNamed(Nb+" master checkbox");ed.Path(["master",Nb]).get(this.target)?Db.checked=!0:Db.checked=!1;kb.label=ed.string.truncateLeft(ed.Path(["master",Nb,"name"]).get(this.target)||
"select master",15,"...")}this.refreshButtons()}}},{key:"refreshButtons",value:function(){for(var xb=$jscomp.makeIterator(["auto","hover","click"]),Nb=xb.next();!Nb.done;Nb=xb.next()){Nb=Nb.value;var kb=this.getSubmorphNamed(Nb+" master selection"),Db=this.getSubmorphNamed(Nb+" master checkbox");kb=kb.deactivated=!Db.checked;this.getSubmorphNamed(Nb+" master selection").opacity=kb?.5:1}xb=this.getSubmorphNamed("overridden props list");xb.items=this.getOverriddenProps();this.getSubmorphNamed("clear overridden prop button").deactivated=
!xb.selection}},{key:"getMasterForTarget",value:function(){if(this.target.isMorph)return[this.target].concat($jscomp.arrayFromIterable(this.target.ownerChain())).map(function(xb){return xb.master}).find(Boolean)}},{key:"clearSelectedProperty",value:function(){var xb=this.getSubmorphNamed("overridden props list").selection;this.getMasterForTarget().clearOverriddenPropertiesFor(this.target,[xb]);this.refreshButtons()}},{key:"getOverriddenProps",value:function(){var xb=this.getMasterForTarget();return xb&&
xb._overriddenProps?(xb=xb._overriddenProps.get(this.target))?Object.keys(xb):[]:[]}}],[{key:"className",get:function(){return"MasterComponentControl"}}],hc,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"MasterComponentControl",version:"0.1.1-102"}}},{start:234,end:4764})}(ed.Morph);Xc=ed.MasterComponentControl;ed.default=Xc}}});

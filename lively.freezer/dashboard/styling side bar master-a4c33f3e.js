System.register("./__root_module__-7efb35ac.js kld-intersections ./index-48386cb3.js ./index-be7ef9ed.js ./index-43084285.js ./color-picker-0e73c3a3.js ./index-e0c5ef06.js".split(" "),function(){var Ba,Cb,Sb,jc,lc,Xd,ed,Yd,id,Wc,Ad,Cd,fe,Sd,jd,bb,Fb,vc,pc,sd;return{setters:[function(pd){Ba=pd.ag;Cb=pd.ay;Sb=pd.al;jc=pd.am;lc=pd.at;Xd=pd.a1;ed=pd.C;Yd=pd.ar;id=pd.ao;Wc=pd.bo;Ad=pd.aq;Cd=pd.a5;fe=pd.s;Sd=pd.bU;jd=pd.as;bb=pd.ap;Fb=pd.r;vc=pd.a4;pc=pd.P},function(){},function(){},function(){},function(){},
function(pd){sd=pd.S},function(){}],execute:function(){var pd=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js");pd.Morph=Ba;pd.touchInputDevice=Cb;pd.morph=Sb;pd.Icon=jc;pd.easings=lc;pd.pt=Xd;pd.Color=ed;pd.fun=Yd;pd.connect=id;pd.TreeData=Wc;var tc=function(td){var Pb=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),tb=Pb.hasOwnProperty("SettingsTree")&&"function"===typeof Pb.SettingsTree?Pb.SettingsTree:Pb.SettingsTree=function(hb){hb&&hb[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ad(tb,td,[{key:"display",value:function(hb){return hb.panel?[hb.panel,{}]:hb.name}},{key:"collapse",value:function(hb,qb){hb.isCollapsed=qb}},{key:"isCollapsed",value:function(hb){return hb.isCollapsed}},{key:"isLeaf",value:function(hb){return!hb.children}},{key:"getChildren",value:function(hb){return hb.children}}],[{key:"className",get:function(){return"SettingsTree"}},{key:"default",value:function(){return new this({isCollapsed:!1,
children:[{isCollapsed:!0,name:[" ",{}].concat($jscomp.arrayFromIterable(pd.Icon.textAttribute("font")),[" Rich Text",{fontWeight:"bold"}]),children:[{panel:pd.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(pd.Icon.textAttribute("image")),[" Shape",{fontWeight:"bold"}]),children:[{panel:pd.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(pd.Icon.textAttribute("border-style")),[" Border",{paddingLeft:"2px",fontWeight:"bold"}]),children:[{panel:pd.morph({})}]},
{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(pd.Icon.textAttribute("grip-vertical")),[" Layout",{paddingLeft:"4px",fontWeight:"bold"}]),children:[{panel:pd.morph({})}]}]})}},{key:"border",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" Type    ",{},pd.morph({height:20}),{}],children:[{panel:pd.morph({})}]},{isCollapsed:!1,name:[" Color   ",{},pd.morph({height:20}),{}],children:[{panel:pd.morph({})}]},{isCollapsed:!1,name:[" Width  ",{},pd.morph({height:20}),
{}],children:[{panel:pd.morph({})}]},{isCollapsed:!1,name:[" Radius ",{},pd.morph({height:20}),{}],children:[{panel:pd.morph({})}]}]})}}],Pb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-55"}}},{start:284,end:2453})}(pd.TreeData);pd.SettingsTree=tc;pd.SettingsTree=tc;pd.SettingsTree=tc;tc=function(td){var Pb=
lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),tb=Pb.hasOwnProperty("StylingSideBar")&&"function"===typeof Pb.StylingSideBar?Pb.StylingSideBar:Pb.StylingSideBar=function(hb){hb&&hb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ad(tb,td,[{key:"onWorldResize",value:function(hb){hb=void 0===hb?!0:hb;if(this.respondsToVisibleWindow){var qb=$world.visibleBounds(),za=navigator.standalone&&pd.touchInputDevice?25:0,cb=this.getSubmorphNamed("horizontal resizer");
this.height=qb.height-za;this.top=za+qb.top();cb.height=this.height;cb.left=0;cb.top=0;hb&&(this.visible?this.topRight=qb.topRight():this.topLeft=qb.topRight())}}},{key:"toggle",value:function(hb){var qb=this,za,cb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wb){switch(wb.nextAddress){case 1:za=$world.visibleBounds();cb=navigator.standalone&&pd.touchInputDevice?25:0;qb.height=za.height-cb;qb.top=cb+za.top();if(hb)return $world.addMorph(qb,$world.get("lively top bar")),qb.left=za.width,
qb.visible=!0,wb.yield(qb.whenRendered(),5);qb.detachFromWorld($world);return wb.yield(qb.animate({opacity:0,left:za.width,duration:300}),4);case 4:qb.visible=!1;qb.remove();wb.jumpTo(0);break;case 5:return qb.onWorldResize(!1),wb.yield(qb.animate({opacity:1,easing:pd.easings.outCirc,right:za.width,duration:300}),6);case 6:qb.attachToWorld($world),wb.jumpToEnd()}})}},{key:"attachToWorld",value:function(hb){pd.connect(hb,"showHaloFor",this,"focusMorph",{garbageCollect:!0})}},{key:"detachFromWorld",
value:function(hb){var qb=this;hb.attributeConnections.forEach(function(za){za.targetObj===qb&&za.disconnect()})}},{key:"focusMorph",value:function(hb){hb.isMorph&&hb.ownerChain().includes(this)||((hb.isLabel||hb.isText||hb.isButton)&&this.richTextControl.focusOn(hb,!1),Object.values(this.controls).forEach(function(qb){return qb&&qb.focusOn(hb)}))}},{key:"onHierarchyChange",value:function(){Object.values(this.controls).forEach(function(hb){return hb&&hb.update()})}}],[{key:"className",get:function(){return"StylingSideBar"}},
{key:"properties",get:function(){return{controls:{},richTextControl:{},isHaloItem:{get:function(){return!0}}}}}],Pb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-55"}}},{start:2470,end:4827})}(pd.Morph);tc=pd.StylingSideBar;pd.default=tc;var bd=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js");
bd.Morph=Ba;bd.obj=Cd;bd.string=fe;bd.connect=id;bd.noUpdate=Sd;bd.once=jd;tc=function(td){var Pb=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js"),tb=Pb.hasOwnProperty("ShapeFormatStyler")&&"function"===typeof Pb.ShapeFormatStyler?Pb.ShapeFormatStyler:Pb.ShapeFormatStyler=function(hb){hb&&hb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ad(tb,td,[{key:Symbol.for("lively-instance-initialize"),value:function(hb){Ad._get(Object.getPrototypeOf(tb.prototype),
Symbol.for("lively-instance-initialize"),this).call(this,hb);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var hb=this.ui,qb={},za=$jscomp.makeIterator(Object.entries(this.uiSpec)),cb=za.next();!cb.done;qb={$jscomp$loop$prop$control$2291:qb.$jscomp$loop$prop$control$2291,$jscomp$loop$prop$prop$2292:qb.$jscomp$loop$prop$prop$2292},cb=za.next()){var wb=$jscomp.makeIterator(cb.value);cb=wb.next().value;wb=$jscomp.makeIterator(wb.next().value);wb.next();
var Hb=wb.next().value;qb.$jscomp$loop$prop$prop$2292=wb.next().value;qb.$jscomp$loop$prop$control$2291=hb[cb];bd.connect(qb.$jscomp$loop$prop$control$2291,Hb,this,"updateTarget",{updater:function(Ub){return function(lb,mb){Ub.$jscomp$loop$prop$control$2291._updating=!0;lb(Ub.$jscomp$loop$prop$prop$2292,mb);Ub.$jscomp$loop$prop$control$2291._updating=!1}}(qb),varMapping:{prop:qb.$jscomp$loop$prop$prop$2292,control:qb.$jscomp$loop$prop$control$2291}})}}},{key:"update",value:function(){var hb=this,
qb=this.target,za=qb.clipMode,cb=qb.fill,wb=qb.dropShadow,Hb=qb.opacity,Ub=qb.height,lb=qb.width;qb=this.ui;var mb=qb.clipModeSelector,Qb=qb.fillPicker,Gc=qb.opacityField,mc=qb.shadowPicker,Pc=qb.heightField,Xc=qb.widthField;bd.noUpdate(function(){hb.updateControl(mc,"shadowValue",wb);hb.updateControl(mb,"selection",za);hb.updateControl(Qb,"colorValue",cb);hb.updateControl(Gc,"number",Hb);hb.updateControl(Pc,"number",Ub);hb.updateControl(Xc,"number",lb)})}},{key:"updateTarget",value:function(hb,qb){this.target[hb]=
qb;this.update()}},{key:"updateControl",value:function(hb,qb,za){hb._updating||bd.obj.equals(hb[qb],za)||(hb[qb]=za)}},{key:"updateMultiValue",value:function(hb,qb,za){var cb=this.ui,wb=cb[this.join(hb)],Hb=wb.get("multi value indicator"),Ub=bd.obj.values(qb).some(function(lb){return!bd.obj.isFunction(lb)&&!bd.obj.equals(lb,qb.valueOf())});Hb.left=0;wb.visible=wb.isLayoutable=!Ub;if(Ub&&Hb.visible!=Ub)bd.once(Hb,"onMouseDown",wb,za,{converter:function(){return qb.valueOf()},varMapping:{value:qb}});
Hb.visible=Hb.isLayoutable=Ub;Hb.left=Ub?200:0;this.updateControl(wb,za,qb.valueOf());wb=$jscomp.makeIterator(["top","left","bottom","right"]);for(Hb=wb.next();!Hb.done;Hb=wb.next())Hb=Hb.value,Ub=cb[this.join(hb,Hb)],this.updateControl(Ub,za,qb[Hb])}},{key:"lower",value:function(hb){return hb.charAt(0).toLowerCase()+hb.slice(1)}},{key:"join",value:function(hb,qb){return this.lower(bd.string.camelCaseString(hb+(qb?" "+qb:"")))}},{key:"unwrap",value:function(hb,qb,za){var cb={};cb=(cb[this.lower(bd.string.camelCaseString(hb))]=
[hb,qb,za],cb);for(var wb=$jscomp.makeIterator(["top","left","bottom","right"]),Hb=wb.next();!Hb.done;Hb=wb.next()){Hb=Hb.value;var Ub=hb+" "+Hb;cb[this.lower(bd.string.camelCaseString(Ub))]=[Ub,qb,this.join(za,Hb)]}return cb}},{key:"focusOn",value:function(hb){var qb=this,za;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cb){if(1==cb.nextAddress)return!hb||qb.isAncestorOf(hb)||qb.target===hb||bd.obj.isArray(hb)||(qb.target=hb),za=qb.visible,qb.visible=!0,cb.yield(qb.whenRendered(),2);
if(3!=cb.nextAddress)return qb.update(),cb.yield(qb.whenRendered(),3);qb.getSubmorphsByStyleClassName("NumberWidget").map(function(wb){return wb.relayout()});qb.visible=za;cb.jumpToEnd()})}},{key:"onHoverIn",value:function(hb){this.watchForTarget=!1}},{key:"onHoverOut",value:function(hb){this.watchForTarget=!0}}],[{key:"className",get:function(){return"ShapeFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||(this._uiSpec={clipModeSelector:["clip mode selector",
"selection","clipMode"],fillPicker:["fill picker","colorValue","fill"],shadowPicker:["shadow picker","shadowValue","dropShadow"],opacityField:["opacity field","number","opacity"],heightField:["height field","number","height"],widthField:["width field","number","width"]})}},ui:{readOnly:!0,get:function(){var hb=this,qb=this.uiSpec;return this._ui||(this._ui=bd.obj.extract(qb,bd.obj.keys(qb),function(za,cb){za=$jscomp.makeIterator(cb).next().value;return hb.getSubmorphNamed(za)}))}}}}}],Pb,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeFormatStyler",version:"0.1.1-144"}}},{start:176,end:4600})}(bd.Morph);tc=bd.ShapeFormatStyler;bd.default=tc;var Xb=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js");Xb.Morph=Ba;Xb.ShadowPopover=sd;Xb.connect=id;Xb.signal=bb;tc=function(td){var Pb=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js"),tb=Pb.hasOwnProperty("ShadowWidget")&&
"function"===typeof Pb.ShadowWidget?Pb.ShadowWidget:Pb.ShadowWidget=function(hb){hb&&hb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ad(tb,td,[{key:"onHoverIn",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:1,duration:200})}},{key:"onHoverOut",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:0,duration:200})}},{key:"onMouseDown",value:function(hb){this.openPopover()}},
{key:"update",value:function(hb){var qb=this.submorphs[0];qb&&(qb.dropShadow=hb)}},{key:"openPopover",value:function(){var hb=this,qb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(za){if(1==za.nextAddress)return qb=new Xb.ShadowPopover({hasFixedPosition:!!hb.ownerChain().find(function(cb){return cb.hasFixedPosition}),shadowValue:hb.shadowValue}),za.yield(qb.fadeIntoWorld(hb.globalBounds().center()),2);Xb.connect(qb,"shadowValue",hb,"shadowValue");Xb.connect(hb,"shadowValue",hb,"update");
Xb.signal(hb,"openWidget",qb);za.jumpToEnd()})}}],[{key:"className",get:function(){return"ShadowWidget"}},{key:"properties",get:function(){return{shadowValue:{set:function(hb){this.setProperty("shadowValue",hb);this.update(hb)}}}}}],Pb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShadowWidget",version:"0.1.1-7"}}},{start:194,end:1231})}(Xb.Morph);
tc=Xb.ShadowWidget;Xb.default=tc;var Tb=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js");Tb.Morph=Ba;Tb.obj=Cd;Tb.string=fe;Tb.connect=id;Tb.noUpdate=Sd;Tb.once=jd;tc=function(td){var Pb=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js"),tb=Pb.hasOwnProperty("BorderFormatStyler")&&"function"===typeof Pb.BorderFormatStyler?Pb.BorderFormatStyler:Pb.BorderFormatStyler=function(hb){hb&&hb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Ad(tb,td,[{key:Symbol.for("lively-instance-initialize"),value:function(hb){Ad._get(Object.getPrototypeOf(tb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,hb);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var hb=this.ui,qb={},za=$jscomp.makeIterator(Object.entries(this.uiSpec)),cb=za.next();!cb.done;qb={$jscomp$loop$prop$control$2294:qb.$jscomp$loop$prop$control$2294,$jscomp$loop$prop$prop$2295:qb.$jscomp$loop$prop$prop$2295},
cb=za.next()){var wb=$jscomp.makeIterator(cb.value);cb=wb.next().value;wb=$jscomp.makeIterator(wb.next().value);wb.next();var Hb=wb.next().value;qb.$jscomp$loop$prop$prop$2295=wb.next().value;qb.$jscomp$loop$prop$control$2294=hb[cb];Tb.connect(qb.$jscomp$loop$prop$control$2294,Hb,this,"updateTarget",{updater:function(Ub){return function(lb,mb){Ub.$jscomp$loop$prop$control$2294._updating=!0;lb(Ub.$jscomp$loop$prop$prop$2295,mb);Ub.$jscomp$loop$prop$control$2294._updating=!1}}(qb),varMapping:{prop:qb.$jscomp$loop$prop$prop$2295,
control:qb.$jscomp$loop$prop$control$2294}})}}},{key:"update",value:function(){var hb=this,qb=this.target,za=qb.borderStyle,cb=qb.borderColor,wb=qb.borderRadius,Hb=qb.borderWidth;Tb.noUpdate(function(){hb.updateMultiValue("border style selector",za,"selection");hb.updateMultiValue("border color picker",cb,"colorValue");hb.updateMultiValue("border radius field",wb,"number");hb.updateMultiValue("border width field",Hb,"number")})}},{key:"updateTarget",value:function(hb,qb){this.target[hb]=qb;this.update()}},
{key:"updateControl",value:function(hb,qb,za){hb._updating||Tb.obj.equals(hb[qb],za)||(hb[qb]=za)}},{key:"updateMultiValue",value:function(hb,qb,za){var cb=this.ui,wb=cb[this.join(hb)],Hb=wb.get("multi value indicator"),Ub=Tb.obj.values(qb).some(function(lb){return!Tb.obj.isFunction(lb)&&!Tb.obj.equals(lb,qb.valueOf())});wb.visible=wb.isLayoutable=!Ub;if(Ub&&Hb.visible!=Ub)Tb.once(Hb,"onMouseDown",wb,za,{converter:function(){return qb.valueOf()},varMapping:{value:qb}});Hb.visible=Hb.isLayoutable=
Ub;this.updateControl(wb,za,qb.valueOf());wb=$jscomp.makeIterator(["top","left","bottom","right"]);for(Hb=wb.next();!Hb.done;Hb=wb.next())Hb=Hb.value,Ub=cb[this.join(hb,Hb)],this.updateControl(Ub,za,qb[Hb])}},{key:"lower",value:function(hb){return hb.charAt(0).toLowerCase()+hb.slice(1)}},{key:"join",value:function(hb,qb){return this.lower(Tb.string.camelCaseString(hb+(qb?" "+qb:"")))}},{key:"unwrap",value:function(hb,qb,za){var cb={};cb=(cb[this.lower(Tb.string.camelCaseString(hb))]=[hb,qb,za],cb);
for(var wb=$jscomp.makeIterator(["top","left","bottom","right"]),Hb=wb.next();!Hb.done;Hb=wb.next()){Hb=Hb.value;var Ub=hb+" "+Hb;cb[this.lower(Tb.string.camelCaseString(Ub))]=[Ub,qb,this.join(za,Hb)]}return cb}},{key:"attachToWorld",value:function(){Tb.connect($world,"showHaloFor",this,"focusOn",{garbageCollect:!0})}},{key:"focusOn",value:function(hb){var qb=this,za;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cb){if(1==cb.nextAddress)return!hb||qb.isAncestorOf(hb)||qb.target===hb||
Tb.obj.isArray(hb)||(qb.target=hb),za=qb.visible,qb.visible=!0,cb.yield(qb.whenRendered(),2);if(3!=cb.nextAddress)return qb.update(),cb.yield(qb.whenRendered(),3);qb.getSubmorphsByStyleClassName("NumberWidget").map(function(wb){return wb.relayout()});qb.visible=za;cb.jumpToEnd()})}},{key:"onHoverIn",value:function(hb){this.watchForTarget=!1}},{key:"onHoverOut",value:function(hb){this.watchForTarget=!0}}],[{key:"className",get:function(){return"BorderFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||
(this._uiSpec=Object.assign({},this.unwrap("border style selector","selection","borderStyle"),{},this.unwrap("border color picker","colorValue","borderColor"),{},this.unwrap("border radius field","number","borderRadius"),{},this.unwrap("border width field","number","borderWidth")))}},ui:{}}}}],Pb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"BorderFormatStyler",
version:"0.1.1-10"}}},{start:185,end:4385})}(Tb.Morph);tc=Tb.BorderFormatStyler;Tb.default=tc;var Oc=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js");Oc.Morph=Ba;Oc.resource=Fb;Oc.arr=vc;Oc.obj=Cd;Oc.string=fe;Oc.Path=pc;Oc.connect=id;tc=function(td){var Pb=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js"),tb=Pb.hasOwnProperty("MasterComponentControl")&&"function"===typeof Pb.MasterComponentControl?Pb.MasterComponentControl:Pb.MasterComponentControl=function(hb){hb&&
hb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ad(tb,td,[{key:"focusOn",value:function(hb){this.target=hb;this.update()}},{key:"onMouseUp",value:function(hb){var qb=this,za,cb,wb,Hb,Ub,lb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(mb){if(1==mb.nextAddress){"auto master selection"==hb.targetMorph.name&&(za="auto");"hover master selection"==hb.targetMorph.name&&(za="hover");"click master selection"==hb.targetMorph.name&&
(za="click");qb.refreshButtons();if(!qb.target)return mb.return();cb=$jscomp.makeIterator(["auto","hover","click"]);for(wb=cb.next();!wb.done;wb=cb.next())Hb=wb.value,qb.target.master&&qb.target.master[Hb]&&!qb.get(Hb+" master checkbox").checked&&qb.adjustMasterComponent(Hb,null);if(!za)return mb.jumpTo(0);Ub=qb;lb=Ub.openMenu;return mb.yield(qb.getComponentSelectionMenu(za),3)}lb.call(Ub,mb.yieldResult,hb);mb.jumpToEnd()})}},{key:"getComponentSelectionMenu",value:function(hb){var qb=this,za,cb,wb,
Hb,Ub,lb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(mb){if(1==mb.nextAddress)return za=qb.world().metadata.commit.name,cb=Oc.resource("styleguide://"+za+"/"),mb.yield(cb.dirList(),2);if(3!=mb.nextAddress)return wb=mb.yieldResult,mb.yield(Oc.resource("styleguide://System/").dirList(),3);Hb=mb.yieldResult;Ub=qb.componentsToMenu(wb,hb);lb=qb.componentsToMenu(Hb,hb);return mb.return([].concat($jscomp.arrayFromIterable(0<Ub.length?[].concat($jscomp.arrayFromIterable(Ub),[{isDivider:!0}]):
[]),$jscomp.arrayFromIterable(lb)))})}},{key:"adjustMasterComponent",value:function(hb,qb){if(this.target.master)this.target.master[hb]=qb;else if(qb){var za={};this.target.master=(za[hb]=qb,za)}hb=this.target.master;qb=hb.hover;za=hb.click;hb.auto||qb||za||(this.target.master=null);this.update();this.target.requestMasterStyling()}},{key:"componentsToMenu",value:function(hb,qb,za,cb){var wb=this;za=void 0===za?null:za;cb=void 0===cb?1:cb;za||(za=hb.map(function(Ub){return{name:Oc.arr.last(Ub.name.split("/")),
path:Ub.name.split("/"),value:Ub}}));if(0==za.length||100<cb)return[];var Hb=this;return Oc.arr.flatten(Object.entries(Oc.arr.groupBy(za,function(Ub){return Ub.path[cb-1]})).map(function(Ub){var lb=$jscomp.makeIterator(Ub);Ub=lb.next().value;lb=lb.next().value;var mb=$jscomp.makeIterator(Oc.arr.partition(lb,function(Qb){return Qb.path.length<=cb}));lb=mb.next().value;mb=mb.next().value;Ub=[Ub,wb.componentsToMenu(null,qb,mb,cb+1)];return[].concat($jscomp.arrayFromIterable(lb.map(function(Qb){return[Qb.name,
function(){Hb.adjustMasterComponent(qb,Qb.value)}]})),$jscomp.arrayFromIterable(Ub[1].length?[Ub]:[]))}),1)}},{key:"update",value:function(){if(this.target){for(var hb=$jscomp.makeIterator(["auto","hover","click"]),qb=hb.next();!qb.done;qb=hb.next()){qb=qb.value;var za=this.getSubmorphNamed(qb+" master selection"),cb=this.getSubmorphNamed(qb+" master checkbox");Oc.Path(["master",qb]).get(this.target)?cb.checked=!0:cb.checked=!1;za.label=Oc.string.truncateLeft(Oc.Path(["master",qb,"name"]).get(this.target)||
"select master",15,"...")}this.refreshButtons()}}},{key:"refreshButtons",value:function(){for(var hb=$jscomp.makeIterator(["auto","hover","click"]),qb=hb.next();!qb.done;qb=hb.next()){qb=qb.value;var za=this.getSubmorphNamed(qb+" master selection"),cb=this.getSubmorphNamed(qb+" master checkbox");za=za.deactivated=!cb.checked;this.getSubmorphNamed(qb+" master selection").opacity=za?.5:1}hb=this.getSubmorphNamed("overridden props list");hb.items=this.getOverriddenProps();this.getSubmorphNamed("clear overridden prop button").deactivated=
!hb.selection}},{key:"getMasterForTarget",value:function(){if(this.target.isMorph)return[this.target].concat($jscomp.arrayFromIterable(this.target.ownerChain())).map(function(hb){return hb.master}).find(Boolean)}},{key:"clearSelectedProperty",value:function(){var hb=this.getSubmorphNamed("overridden props list").selection;this.getMasterForTarget().clearOverriddenPropertiesFor(this.target,[hb]);this.refreshButtons()}},{key:"getOverriddenProps",value:function(){var hb=this.getMasterForTarget();return hb&&
hb._overriddenProps?(hb=hb._overriddenProps.get(this.target))?Object.keys(hb):[]:[]}}],[{key:"className",get:function(){return"MasterComponentControl"}}],Pb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"MasterComponentControl",version:"0.1.1-103"}}},{start:234,end:4759})}(Oc.Morph);tc=Oc.MasterComponentControl;Oc.default=tc}}});

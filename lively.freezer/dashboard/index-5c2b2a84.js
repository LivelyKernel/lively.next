System.register(["./__root_module__-06ff41f6.js","./index-df7aed39.js","./color-picker-c58bcdd6.js"],function(){var Ca,Bb,Kb,lc,bc,Td,Xc,Wd,$c,Pc,md,ge,Qe,kf,ke,cc,Jc,Nd,ec,Zd,le,yc,Gc,Qb,Ec,dd,Hd,Ld,uc;return{setters:[function(rb){Ca=rb.ax;Bb=rb.a7;Kb=rb.a8;lc=rb.a$;bc=rb.a6;Td=rb.ac;Xc=rb.ad;Wd=rb.aD;$c=rb.ap;Pc=rb.ab;md=rb.an;ge=rb.as;Qe=rb.a3;kf=rb.a1;ke=rb.C;cc=rb.au;Jc=rb.aj;Nd=rb.bR;ec=rb.bt;Zd=rb.af;le=rb.aw;yc=rb.bl;Gc=rb.bs;Qb=rb.bq;Ec=rb.bw;dd=rb.bT},function(rb){Hd=rb.N;Ld=rb.I},
function(rb){uc=rb.a}],execute:function(){var rb=lively.FreezerRuntime.recorderFor("lively.ide/text/ui.js");rb.fun=Ca;rb.string=Bb;rb.obj=Kb;rb.properties=lc;rb.arr=bc;rb.Text=Td;rb.config=Xc;rb.HorizontalLayout=Wd;rb.VerticalLayout=$c;rb.morph=Pc;rb.Morph=md;rb.Icon=ge;rb.pt=Qe;rb.Rectangle=kf;rb.Color=ke;rb.connect=cc;rb.once=Jc;rb.noUpdate=Nd;rb.ColorPicker=uc;rb.DropDownList=ec;rb.loadObjectFromPartsbinFolder=Zd;rb.cachedControls=new WeakMap;var Gb=function(eb){var Sb=lively.FreezerRuntime.recorderFor("lively.ide/text/ui.js"),
Ac=Sb.hasOwnProperty("RichTextControl")&&"function"===typeof Sb.RichTextControl?Sb.RichTextControl:Sb.RichTextControl=function(sb){sb&&sb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return le(Ac,eb,[{key:"toggleButton",value:function(sb,Ab){sb.master=Ab?{auto:"styleguide://SystemIDE/selected button"}:{auto:"styleguide://System/dark button"}}},{key:"reset",value:function(){var sb=this.ui.fontSelection;sb.items=rb.RichTextControl.basicFontItems();
sb.selection=sb.items[0].value;rb.connect(this.target,"selectionChange",this,"update")}},{key:"alignAtTarget",value:function(sb){sb=void 0===sb?!!this.world():sb;var Ab=this.target,vb=Ab.world()||$world,ha=this.globalBounds();Ab=(Ab.selection.isEmpty()?Ab.globalBounds():Ab.getGlobalTransform().transformRectToRect(Ab.selectionBounds().translatedBy(Ab.scroll.negated()))).bottomCenter().subPt(ha.topCenter());vb=vb.visibleBounds().translateForInclusion(ha.translatedBy(Ab)).topLeft().subPt(ha.topLeft());
vb=this.position.addPt(vb);sb?this.animate({duration:300,position:vb}):this.position=vb}},{key:"removeFocus",value:function(){this.autoRemove&&this.target&&(this.remove(),this.target=null)}},{key:"focusOn",value:function(sb,Ab){Ab=void 0===Ab?!0:Ab;var vb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){if(1==ha.nextAddress)return vb.target=sb,vb.update(),ha.yield(vb.whenRendered(),2);vb.ui.fontSizeField.relayout();Ab&&vb.alignAtTarget();ha.jumpToEnd()})}},{key:"setupConnections",
value:function(){rb.connect(this.ui.paddingField,"number",this,"setPadding");rb.connect(this.ui.paddingFieldTop,"number",this,"setPaddingTop");rb.connect(this.ui.paddingFieldBottom,"number",this,"setPaddingBottom");rb.connect(this.ui.paddingFieldLeft,"number",this,"setPaddingLeft");rb.connect(this.ui.paddingFieldRight,"number",this,"setPaddingRight")}},{key:"update",value:function(){var sb=this,Ab=this.target,vb=this.updateSpec,ha=Ab.selection;ha=ha?ha.isEmpty()?Ab.textAttributeAt(ha.start):Ab.getStyleInRange(ha):
{};var Ha=this.managedProps,W=rb.obj.select(Ab,Ha);Ab=$jscomp.makeIterator(Object.entries(rb.obj.select(ha||{},Ha)));for(ha=Ab.next();!ha.done;ha=Ab.next())Ha=$jscomp.makeIterator(ha.value),ha=Ha.next().value,Ha=Ha.next().value,"undefined"!==typeof Ha&&(W[ha]=Ha);rb.noUpdate(function(){for(var ra=$jscomp.makeIterator(Object.entries(sb.ui)),Za=ra.next();!Za.done;Za=ra.next()){var qb=$jscomp.makeIterator(Za.value);Za=qb.next().value;qb=qb.next().value;if(vb[Za])vb[Za](W,qb)}})}},{key:"relayout",value:function(){}},
{key:"changeAttributeInSelectionOrMorph",value:function(sb,Ab){var vb=this.target,ha=vb.selection;vb.isLabel||ha.isEmpty()?vb[sb]="function"===typeof Ab?Ab(vb[sb]):Ab:(vb.undoManager.group(),vb.changeStyleProperty(sb,function(Ha){return"function"===typeof Ab?Ab(Ha):Ab}),vb.undoManager.group())}},{key:"changeFont",value:function(sb){var Ab=this,vb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){if(1==ha.nextAddress)return Ab._last=sb,(vb="custom..."===sb)?ha.yield($world.prompt("Enter font family name",
{requester:Ab.target,historyId:"lively.morphic-rich-text-font-names",useLastInput:!0}),3):ha.jumpTo(2);if(2!=ha.nextAddress&&(sb=ha.yieldResult,!sb))return ha.return();Ab.changeAttributeInSelectionOrMorph("fontFamily",sb);ha.jumpToEnd()})}},{key:"setPadding",value:function(sb){this.target.padding=rb.Rectangle.inset(sb)}},{key:"setPaddingTop",value:function(sb){var Ab=this.target.padding;this.target.padding=rb.Rectangle.inset(Ab.left(),sb,Ab.right(),Ab.bottom())}},{key:"setPaddingLeft",value:function(sb){var Ab=
this.target.padding;this.target.padding=rb.Rectangle.inset(sb,Ab.top(),Ab.right(),Ab.bottom())}},{key:"setPaddingRight",value:function(sb){var Ab=this.target.padding;this.target.padding=rb.Rectangle.inset(Ab.left(),Ab.top(),sb,Ab.bottom())}},{key:"setPaddingBottom",value:function(sb){var Ab=this.target.padding;this.target.padding=rb.Rectangle.inset(Ab.left(),Ab.top(),Ab.right(),sb)}},{key:"setLineWrapping",value:function(sb){this.target.lineWrapping=sb}},{key:"changeFontWeight",value:function(sb){this.changeAttributeInSelectionOrMorph("fontWeight",
sb)}},{key:"changeTextAlign",value:function(sb){this.changeAttributeInSelectionOrMorph("textAlign",sb)}},{key:"changeFontColor",value:function(sb){this.changeAttributeInSelectionOrMorph("fontColor",sb)}},{key:"changeFontSize",value:function(sb){this.changeAttributeInSelectionOrMorph("fontSize",sb)}},{key:"changeFixedWidth",value:function(sb){this.target.fixedWidth=sb}},{key:"changeFixedHeight",value:function(sb){this.target.fixedHeight=sb}},{key:"changeLink",value:function(){var sb=this,Ab,vb,ha,
Ha,W;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ra){if(1==ra.nextAddress)return Ab=sb.target,vb=Ab.selection,ha=Ab.getStyleInRange(vb),Ha=ha.link,ra.yield(sb.world().prompt("Set link",{input:Ha||"https://"}),2);W=ra.yieldResult;Ab.undoManager.group();Ab.setStyleInRange({link:W||void 0},vb);Ab.undoManager.group();sb.autoRemove&&sb.remove();ra.jumpToEnd()})}},{key:"toggleUnderline",value:function(){this.changeAttributeInSelectionOrMorph("textDecoration",function(sb){return"underline"===
sb?"none":"underline"})}},{key:"toggleItalic",value:function(){this.changeAttributeInSelectionOrMorph("fontStyle",function(sb){return"italic"===sb?"normal":"italic"})}},{key:"toggleBold",value:function(){this.changeAttributeInSelectionOrMorph("fontWeight",function(sb){return"bold"===sb||"700"===sb?"normal":"bold"})}},{key:"copyStyle",value:function(){var sb=this,Ab=this.target,vb=this.ui.applyStyleButton;Ab=Ab.selection.isEmpty()?Ab.defaultTextStyle:Ab.getStyleInRange(Ab.selection);var ha=JSON.stringify(Ab,
null,2);this.constructor.copiedStyle=Ab;vb.tooltip="paste style\n"+ha;this.env.eventDispatcher.doCopyWithMimeTypes([{type:"text/plain",data:ha},{type:"application/morphic-text-style",styleString:ha}]).then(function(){return sb.setStatusMessage("Copied style\n"+ha)}).catch(function(Ha){return sb.showError(Ha)})}},{key:"pasteStyle",value:function(){var sb=this,Ab=this.target,vb=this.constructor.copiedStyle;Ab.selection.isEmpty()?Object.assign(Ab,vb):Ab.selections.forEach(function(ha){return Ab.addTextAttribute(sb.constructor.copiedStyle,
ha)});this.update()}},{key:"clearStyle",value:function(){var sb=this.target;sb.selections.forEach(function(Ab){return sb.resetStyleInRange(Ab)});this.update()}},{key:"configureRichTextOptions",value:function(){this.getSubmorphNamed("config panel")&&this.getSubmorphNamed("config panel").remove();var sb=this.defaultSpec,Ab=this.uiSpec;sb=this.addMorph({name:"config panel",layout:new rb.VerticalLayout({spacing:5}),epiMorph:!0,submorphs:[].concat($jscomp.arrayFromIterable(Object.keys(sb).map(function(vb){var ha=
Ab.rows.some(function(Ha){return Ha.some(function(W){return W===vb})});return{type:"labeledcheckbox",label:vb,name:vb,checked:ha}})),[{layout:new rb.HorizontalLayout({spacing:3}),submorphs:[{type:"button",name:"OK button",label:"OK"},{type:"button",name:"cancel button",label:"Cancel"}]}])});sb.center=this.innerBounds().center();rb.connect(sb.getSubmorphNamed("OK button"),"fire",this,"configureAccepted");rb.connect(sb.getSubmorphNamed("cancel button"),"fire",this,"configureCanceled")}},{key:"configureAccepted",
value:function(){var sb=this.getSubmorphNamed("config panel");sb&&(sb.remove(),sb.submorphs.filter(function(Ab){return"LabeledCheckBox"===Ab.constructor.name}))}},{key:"configureCanceled",value:function(){var sb=this.getSubmorphNamed("config panel");sb&&sb.remove()}},{key:"close",value:function(){var sb=this;this.target&&this.target.attributeConnections&&this.target.attributeConnections.forEach(function(Ab){return Ab.targetObj===sb&&Ab.disconnect()});this.remove()}},{key:"alwaysTargetFocusedMorph",
value:function(){this.startStepping(1500,"updateTarget")}},{key:"updateTarget",value:function(){var sb=this.world();sb&&(sb=sb.focusedMorph)&&(sb.isLabel||sb.isText)&&!this.isAncestorOf(sb)&&this.target!==sb&&this.focusOn(sb,!1)}},{key:"onMouseUp",value:function(sb){var Ab=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vb){if(1==vb.nextAddress)return vb.yield(Ab.whenRendered(),2);Ab.update();vb.jumpToEnd()})}},{key:"attachToWorld",value:function(){rb.connect($world,"onMouseDown",
this,"updateTarget",{garbageCollect:!0})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RichTextControl"}},{key:"properties",get:function(){return{autoRemove:{defaultValue:!1},target:{},toggleColor:{},managedProps:{readOnly:!0,get:function(){return"fontFamily fontWeight fontSize fontStyle isText fontColor textAlign link textDecoration fixedWidth fixedHeight lineWrapping padding".split(" ")}},updateSpec:{get:function(){var sb=this;return Object.assign({fontSelection:function(Ab,vb){var ha=
Ab.fontFamily;(Ab=ha&&vb.items.find(function(Ha){return Ha.value.toLowerCase()===ha.toLowerCase()}))?vb.selection=Ab.value:ha&&(vb.items=vb.items.concat({isListItem:!0,label:[ha,{fontFamily:ha}],value:ha}),vb.selection=rb.arr.last(vb.items));vb.fit();vb.width=Math.max(vb.width,170)},fontWeightSelection:function(Ab,vb){vb.selection="normal"==Ab.fontWeight?"Medium":Ab.fontWeight?rb.string.capitalize(Ab.fontWeight):"Medium"},boldButton:function(Ab,vb){sb.toggleButton(vb,"bold"===Ab.fontWeight)},italicButton:function(Ab,
vb){sb.toggleButton(vb,"italic"===Ab.fontStyle)},underlineButton:function(Ab,vb){sb.toggleButton(vb,"underline"===Ab.textDecoration)},linkButton:function(Ab,vb){sb.toggleButton(vb,!!Ab.link)},colorPicker:function(Ab,vb){vb.colorValue=Ab.fontColor},fontSizeField:function(Ab,vb){vb.number=Ab.fontSize},fixedWidthControl:function(Ab,vb){Ab.isText?vb.enable():vb.disable();vb.checked=Ab.fixedWidth},fixedHeightControl:function(Ab,vb){Ab.isText?vb.enable():vb.disable();vb.checked=Ab.fixedHeight},lineWrappingControl:function(Ab,
vb){var ha=$jscomp.makeIterator(vb.submorphs);vb=ha.next().value;ha=ha.next().value;vb.checked=!!Ab.lineWrapping;Ab.isText?vb.enable():vb.disable();ha.deactivated=!Ab.lineWrapping;ha.deactivated?ha.opacity=.5:(ha.opacity=1,ha.selection=Ab.lineWrapping)},paddingControl:function(Ab,vb){var ha=Ab.padding,Ha=ha.left();Ab=ha.top();var W=ha.right();ha=ha.bottom();var ra=!rb.arr.every([Ha,Ab,W,ha],function(Za){return Za==Ha});vb.get("multi value indicator").visible=ra;rb.connect(vb.get("multi value indicator"),
"onMouseDown",vb.get("padding field"),"number",{converter:"() => left",varMapping:{left:Ha}});vb.get("padding field").number=Ha;vb.get("padding field").visible=!ra;vb.get("padding field top").number=Ab;vb.get("padding field left").number=Ha;vb.get("padding field right").number=W;vb.get("padding field bottom").number=ha}},["left","center","right","block"].reduce(function(Ab,vb){Ab[vb+"Align"]=function(ha,Ha){Ha.deactivated=!ha.isText;sb.toggleButton(Ha,ha.textAlign==vb)};return Ab},{}))}},ui:{get:function(){var sb=
this,Ab={fontSelection:"font selection",fontWeightSelection:"font weight selection",boldButton:"bold button",italicButton:"italic button",underlineButton:"underline button",linkButton:"link button",leftAlign:"left align",centerAlign:"center align",rightAlign:"right align",blockAlign:"block align",fontSizeField:"font size field",colorPicker:"color picker",copyStyleButton:"copy style",applyStyleButton:"apply style",removeStyleButton:"remove style",fixedHeightControl:"fixed height control",fixedWidthControl:"fixed width control",
lineWrappingControl:"line wrapping control",paddingControl:"padding control",paddingField:"padding field",paddingFieldTop:"padding field top",paddingFieldLeft:"padding field left",paddingFieldRight:"padding field right",paddingFieldBottom:"padding field bottom"};return rb.obj.extract(Ab,rb.obj.keys(Ab),function(vb,ha){return sb.getSubmorphNamed(ha)})}}}}},{key:"openDebouncedFor",value:function(sb){var Ab=sb.selection;if(Ab.isEmpty()){var vb=rb.cachedControls.get(sb);vb&&(vb.update(),vb.alignAtTarget(),
vb.world()||sb.world().addMorph(vb))}else rb.fun.debounceNamed(sb.id+"openRichTextControl",600,function(){var ha=rb.cachedControls.get(sb);Ab.isEmpty()?ha&&ha.removeFocus():(ha&&ha.world()||(ha=new rb.RichTextControl,rb.cachedControls.set(sb,ha)),sb.world().addMorph(ha),ha.focusOn(sb,!0),ha.alwaysTargetFocusedMorph())})()}},{key:"openFor",value:function(sb){var Ab=rb.cachedControls.get(sb);Ab?Ab.update():(Ab=new rb.RichTextControl,rb.cachedControls.set(sb,Ab),Ab.focusOn(sb,!0),Ab.alwaysTargetFocusedMorph());
Ab.alignAtTarget();Ab.world()||sb.world().addMorph(Ab);return Ab}}],Sb,{pathInPackage:function(){return"text/ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:624,end:17067})}(rb.Morph);rb.RichTextControl=Gb;rb.RichTextControl=Gb;rb.RichTextControl=Gb;Gb=lively.FreezerRuntime.recorderFor("ProtoSearchField/index.js");Gb.SearchField=
yc;var Oa=function(eb){var Sb=lively.FreezerRuntime.recorderFor("ProtoSearchField/index.js"),Ac=Sb.hasOwnProperty("ProtoSearchField")&&"function"===typeof Sb.ProtoSearchField?Sb.ProtoSearchField:Sb.ProtoSearchField=function(sb){sb&&sb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return le(Ac,eb,void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ProtoSearchField"}},{key:"properties",get:function(){return{master:{initialize:function(){}}}}}],
Sb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ProtoSearchField",version:"0.1.1-0"}}},{start:76,end:221})}(Gb.SearchField);Oa=Gb.ProtoSearchField;Gb.default=Oa;var ab=lively.FreezerRuntime.recorderFor("ProtoTree/index.js");ab.Tree=Gc;ab.TreeData=Qb;Gb=function(eb){var Sb=lively.FreezerRuntime.recorderFor("ProtoTree/index.js"),
Ac=Sb.hasOwnProperty("TestTreeData")&&"function"===typeof Sb.TestTreeData?Sb.TestTreeData:Sb.TestTreeData=function(sb){sb&&sb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return le(Ac,eb,[{key:"display",value:function(sb){return sb.name}},{key:"isCollapsed",value:function(sb){return sb.isCollapsed}},{key:"collapse",value:function(sb,Ab){sb.isCollapsed=Ab}},{key:"getChildren",value:function(sb){return sb.isLeaf?null:sb.isCollapsed?[]:
sb.children}},{key:"isLeaf",value:function(sb){return sb.isLeaf}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TestTreeData"}}],Sb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ProtoTree",version:"0.1.1-2"}}},{start:113,end:417})}(ab.TreeData);ab.TestTreeData=Gb;ab.TestTreeData=Gb;ab.TestTreeData=Gb;Gb=function(eb){var Sb=
lively.FreezerRuntime.recorderFor("ProtoTree/index.js"),Ac=Sb.hasOwnProperty("ProtoTree")&&"function"===typeof Sb.ProtoTree?Sb.ProtoTree:Sb.ProtoTree=function(sb){sb&&sb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return le(Ac,eb,void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ProtoTree"}},{key:"properties",get:function(){return{treeData:{initialize:function(){this.treeData=new ab.TestTreeData({name:"root",isCollapsed:!1,
isLeaf:!1,children:[{name:"child 1",isLeaf:!0},{name:"child 2",isLeaf:!1,isCollapsed:!0,children:[{name:"child 2 - 1",isLeaf:!0}]},{name:"child 3",isLeaf:!1,isCollapsed:!1,children:[{name:"child 3 - 1",isLeaf:!0},{name:"child 3 - 2",isLeaf:!0}]},{name:"child 4",isLeaf:!0}]})}},master:{initialize:function(){}}}}}],Sb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"ProtoTree",version:"0.1.1-2"}}},{start:434,end:1297})}(ab.Tree);Gb=ab.ProtoTree;ab.default=Gb;var Qa=lively.FreezerRuntime.recorderFor("RadioButton/index.js");Qa.Morph=md;Qa.Color=ke;Qa.pt=Qe;Qa.connect=cc;Qa.Closure=Ec;Gb=function(eb){var Sb=lively.FreezerRuntime.recorderFor("RadioButton/index.js"),Ac=Sb.hasOwnProperty("RadioButton")&&"function"===typeof Sb.RadioButton?Sb.RadioButton:Sb.RadioButton=function(sb){sb&&sb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return le(Ac,eb,[{key:"reset",value:function(){var sb=this.indicator;sb.borderWidth=1;sb.borderColor=Qa.Color.gray;this.selected=!1;Qa.connect(sb,"onMouseUp",this,"select")}},{key:"morph",get:function(){var sb=this.indicator;return this.submorphs.find(function(Ab){return Ab!==sb})}},{key:"morph",set:function(sb){var Ab=this.indicator;this.submorphs.forEach(function(vb){vb!==Ab&&vb.remove()});sb.position=Qa.pt(50,0);this.addMorph(sb)}},{key:"value",get:function(){if(!this.valueFn){try{var sb=
JSON.parse(this.valueFunctionString)}catch(Ab){sb=this.valueFunctionString}this.valueFn=Qa.Closure.fromSource(sb).recreateFunc()}return this.morph?this.valueFn(this.morph):void 0}},{key:"onMouseDown",value:function(sb){this.select()}},{key:"select",value:function(){this.selected=!0;this.owner.setSelection(this)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RadioButton"}},{key:"properties",get:function(){return{indicator:{get:function(){return this.getSubmorphNamed("indicator")}},
selectionColor:{},selectionStyle:{},selected:{after:["indicator"],defaultValue:!1,set:function(sb){var Ab=this;this.whenRendered().then(function(vb){sb?(Ab.indicator.fill=Ab.selectionColor,Ab.animate({opacity:1,duration:200})):(Ab.indicator.fill=Qa.Color.transparant,Ab.animate({opacity:.5,duration:200}))});this.setProperty("selected",!!sb)}},valueFunctionString:{defaultValue:'"function (morph) { return morph.value; }"',set:function(sb){this.setProperty("valueFunctionString",sb.toString());this.valueFn=
void 0}}}}}],Sb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"RadioButton",version:"0.1.1-48"}}},{start:210,end:2235})}(Qa.Morph);Gb=Qa.RadioButton;Qa.default=Gb;Gb=lively.FreezerRuntime.recorderFor("ProtoNumberWidget/index.js");Gb.NumberWidget=Hd;Oa=function(eb){var Sb=lively.FreezerRuntime.recorderFor("ProtoNumberWidget/index.js"),
Ac=Sb.hasOwnProperty("ProtoNumberWidget")&&"function"===typeof Sb.ProtoNumberWidget?Sb.ProtoNumberWidget:Sb.ProtoNumberWidget=function(sb){sb&&sb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return le(Ac,eb,void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ProtoNumberWidget"}},{key:"properties",get:function(){return{master:{initialize:function(){}}}}}],Sb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ProtoNumberWidget",version:"0.1.1-0"}}},{start:76,end:224})}(Gb.NumberWidget);Oa=Gb.ProtoNumberWidget;Gb.default=Oa;Gb=lively.FreezerRuntime.recorderFor("FrameResizer/index.js");Gb.Morph=md;Oa=function(eb){var Sb=lively.FreezerRuntime.recorderFor("FrameResizer/index.js"),Ac=Sb.hasOwnProperty("FrameResizer")&&"function"===typeof Sb.FrameResizer?Sb.FrameResizer:Sb.FrameResizer=function(sb){sb&&sb[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return le(Ac,eb,[{key:"onDrag",value:function(sb){var Ab=this.owner.left;sb=sb.positionIn(this).x;sb*="left"==this.direction?-1:1;this.owner.width+=sb;350>this.owner.width&&(sb+=350-this.owner.width,this.owner.width=350);this.owner.left="left"==this.direction?Ab-sb:Ab}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FrameResizer"}},{key:"properties",get:function(){return{direction:{type:"Enum",values:["left","right"]}}}}],
Sb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"FrameResizer",version:"0.1.1-24"}}},{start:56,end:840})}(Gb.Morph);Oa=Gb.FrameResizer;Gb.default=Oa;var Ja=lively.FreezerRuntime.recorderFor("ShapeLayoutControl/index.js");Ja.Morph=md;Ja.morph=Pc;Ja.layouts=dd;Ja.string=Bb;Ja.connect=cc;Ja.noUpdate=Nd;Ja.InteractiveMorphSelector=
Ld;Ja.Color=ke;Ja.pt=Qe;Gb=function(eb){var Sb=lively.FreezerRuntime.recorderFor("ShapeLayoutControl/index.js"),Ac=Sb.hasOwnProperty("ShapeLayoutControl")&&"function"===typeof Sb.ShapeLayoutControl?Sb.ShapeLayoutControl:Sb.ShapeLayoutControl=function(sb){sb&&sb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return le(Ac,eb,[{key:"focusOn",value:function(sb){this.target=sb;this.update(!1)}},{key:"setupConnections",value:function(){var sb=
this.ui;Ja.connect(sb.submorphSettingsControl,"fire",this,"chooseSubmorphToChangeLayoutSettings");Ja.connect(sb.dragmeControl,"onDragStart",this,"onSubmorphSettingsDragStart");Ja.connect(sb.xAxisPolicyControl,"selection",this,"updateSubmorphProportionalLayoutSettings",{converter:'policy => ({\n        policy,\n        axis: "x",\n        submorph: self.selectedSubmorph,\n      })',varMapping:{self:this}});Ja.connect(sb.yAxisPolicyControl,"selection",this,"updateSubmorphProportionalLayoutSettings",
{converter:'policy => ({\n        policy,\n        axis: "y",\n        submorph: self.selectedSubmorph,\n      })',varMapping:{self:this}});for(var Ab={},vb=$jscomp.makeIterator(this.managedProps),ha=vb.next();!ha.done;Ab={$jscomp$loop$prop$prop$2592:Ab.$jscomp$loop$prop$prop$2592},ha=vb.next()){var Ha=$jscomp.makeIterator(ha.value),W=Ha.next().value;ha=Ha.next().value;Ha.next().value||(Ab.$jscomp$loop$prop$prop$2592=this.join(W),Ha=sb[this.join(W,"control")],Ja.connect(Ha,ha,this,"updateLayout",
{updater:function(ra){return function(Za,qb){Za(ra.$jscomp$loop$prop$prop$2592,qb)}}(Ab),varMapping:{prop:Ab.$jscomp$loop$prop$prop$2592}}))}}},{key:"lower",value:function(sb){return sb.charAt(0).toLowerCase()+sb.slice(1)}},{key:"join",value:function(sb,Ab){return this.lower(Ja.string.camelCaseString(sb+(Ab?" "+Ab:"")))}},{key:"updateLayoutOfTarget",value:function(sb){sb=Ja.layouts[Ja.string.camelCaseString(sb)];this.target.layout=sb?new sb({autoResize:!1}):null;this.update()}},{key:"updateLayout",
value:function(sb,Ab){this.target.layout[sb]=Ab}},{key:"update",value:function(sb){var Ab=this;this.target&&Ja.noUpdate(function(){for(var vb=Ab.ui,ha=Ab.target.layout||{name:function(){return"No"}},Ha=$jscomp.makeIterator(Ab.managedProps),W=Ha.next();!W.done;W=Ha.next()){var ra=$jscomp.makeIterator(W.value);W=ra.next().value;var Za=ra.next().value;ra.next();ra=vb[Ab.join(W,"control")];var qb=vb[Ab.join(W,"label")];if(Za)if("type"===W)ra.selection=ha.name()+" Layout";else{var sc=ha[Ab.join(W)],wd=
"undefined"!==typeof sc;if(wd){switch(W){case "align":ra.items=ha.possibleAlignValues;break;case "direction":ra.items=ha.possibleDirectionValues;break;case "axis":ra.items=ha.possibleAxisValues}ra[Za]=sc}qb.isLayoutable=qb.visible=wd}}Ab.showGridLayoutControl("Grid"===ha.name());Ab.showProportionalControl("Proportional"===ha.name())})}},{key:"updateSubmorphProportionalLayoutSettings",value:function(sb){var Ab={};this.target.layout.changeSettingsFor(sb.submorph,(Ab[sb.axis]=sb.policy,Ab),!0)}},{key:"onSubmorphSettingsDragStart",
value:function(sb){var Ab=this;sb.stop();var vb=this.target.layout,ha=vb.settingsFor(this.selectedSubmorph),Ha=[],W;for(W in ha)Ha=[].concat($jscomp.arrayFromIterable(Ha),[W+": ",{fontWeight:"bold"},ha[W]+" ",{}]);var ra=Ja.morph({type:"label",fontColor:Ja.Color.white,value:Ha,fill:Ja.Color.black.withA(.7),padding:5,borderRadius:10,isLayoutable:!1});ra.wantsToBeDroppedOn=function(Za){return vb.layoutableSubmorphs.includes(Za)};ra.onBeingDroppedOn=function(Za,qb){ra.remove();if(Za=vb.layoutableSubmorphs.includes(qb)?
qb:sb.world.morphsContainingPoint(sb.hand.position).find(function(sc){return vb.layoutableSubmorphs.includes(sc)}))Ab.updateSubmorphProportionalLayoutSettings({policy:ha.x,axis:"x",submorph:Za}),Ab.updateSubmorphProportionalLayoutSettings({policy:ha.y,axis:"y",submorph:Za}),Za.show(),$world.setStatusMessage("layout settings applied")};sb.hand.grab(ra);ra.moveBy(Ja.pt(10,10))}},{key:"chooseSubmorphToChangeLayoutSettings",value:function(){var sb=this,Ab,vb,ha,Ha,W,ra,Za,qb,sc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wd){switch(wd.nextAddress){case 1:return Ab=
sb.target.layout.layoutableSubmorphs,sb.manageFocus=!0,sb.env.eventDispatcher.isKeyPressed("Shift")?(ha=Ab.map(function(nc){return{isListItem:!0,string:String(nc),value:nc}}),wd.yield($world.listPrompt("Select morph",ha,{onSelection:function(nc){return nc.show()}}),5)):wd.yield(Ja.InteractiveMorphSelector.selectMorph(sb.world(),sb,function(nc){return Ab.includes(nc)}),4);case 4:vb=wd.yieldResult;wd.jumpTo(3);break;case 5:Ha=wd.yieldResult,W=$jscomp.makeIterator(Ha.selected),vb=W.next().value;case 3:sb.manageFocus=
!1;sb.selectedSubmorph=vb;if(!vb)return wd.return();ra=sb.ui;Za=ra.xAxisPolicyControl;qb=ra.yAxisPolicyControl;sc=sb.target.layout.settingsFor(vb);Ja.noUpdate(function(){Za.selection=sc.x;qb.selection=sc.y});wd.jumpToEnd()}})}},{key:"showProportionalControl",value:function(sb){var Ab=this.ui;[Ab.submorphSettingsControl,Ab.dragmeControl,Ab.xAxisPolicyControl,Ab.xAxisPolicyLabel,Ab.yAxisPolicyControl,Ab.yAxisPolicyLabel].forEach(function(vb){vb.isLayoutable=sb;vb.visible=sb})}},{key:"showGridLayoutHalo",
value:function(){$world.showLayoutHaloFor(this.target)}},{key:"showGridLayoutControl",value:function(sb){var Ab=this.ui.configureGridLayoutControl;Ab.visible=Ab.isLayoutable=sb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShapeLayoutControl"}},{key:"properties",get:function(){return{managedProps:{get:function(){return[["type","selection",!0],["align","selection"],["direction","selection"],["axis","selection"],["spacing","number"],["auto resize","checked"],["resize submorphs","checked"],
["x axis policy","selection",!0],["y axis policy","selection",!0],["react to submorph animations","checked"],["submorph settings",!1,!0],["order by index","checked"],["dragme",!1,!0],["configure grid layout",!1,!0]]}},ui:{readOnly:!0,get:function(){for(var sb={labelContainer:this.getSubmorphNamed("label container"),controlContainer:this.getSubmorphNamed("control container")},Ab=$jscomp.makeIterator(this.managedProps),vb=Ab.next();!vb.done;vb=Ab.next()){var ha=$jscomp.makeIterator(vb.value).next().value;
vb=ha+" label";ha+=" control";sb[this.join(vb)]=this.getSubmorphNamed(vb);sb[this.join(ha)]=this.getSubmorphNamed(ha)}return sb}}}}}],Sb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeLayoutControl",version:"0.1.1-166"}}},{start:345,end:7771})}(Ja.Morph);Gb=Ja.ShapeLayoutControl;Ja.default=Gb}}});
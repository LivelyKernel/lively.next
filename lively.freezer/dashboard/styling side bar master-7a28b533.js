System.register("./__root_module__-06ff41f6.js kld-intersections ./index-2b842a27.js ./index-1eaba422.js ./index-df7aed39.js ./color-picker-c58bcdd6.js ./index-5c2b2a84.js".split(" "),function(){var Ca,Bb,Kb,lc,bc,Td,Xc,Wd,$c,Pc,md,ge,Qe,kf,ke,cc,Jc,Nd,ec,Zd,le,yc;return{setters:[function(Gc){Ca=Gc.an;Bb=Gc.aC;Kb=Gc.ab;lc=Gc.as;bc=Gc.aa;Td=Gc.a3;Xc=Gc.C;Wd=Gc.ax;$c=Gc.au;Pc=Gc.bq;md=Gc.aw;ge=Gc.a8;Qe=Gc.a7;kf=Gc.bR;ke=Gc.aj;cc=Gc.av;Jc=Gc.r;Nd=Gc.a6;ec=Gc.P;Zd=Gc.bU;le=Gc.bV},function(){},function(){},
function(){},function(){},function(Gc){yc=Gc.S},function(){}],execute:function(){var Gc=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js");Gc.Morph=Ca;Gc.touchInputDevice=Bb;Gc.morph=Kb;Gc.Icon=lc;Gc.easings=bc;Gc.pt=Td;Gc.Color=Xc;Gc.fun=Wd;Gc.connect=$c;Gc.TreeData=Pc;var Qb=function(uc){var rb=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),Gb=rb.hasOwnProperty("SettingsTree")&&"function"===typeof rb.SettingsTree?rb.SettingsTree:rb.SettingsTree=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return md(Gb,uc,[{key:"display",value:function(Oa){return Oa.panel?[Oa.panel,{}]:Oa.name}},{key:"collapse",value:function(Oa,ab){Oa.isCollapsed=ab}},{key:"isCollapsed",value:function(Oa){return Oa.isCollapsed}},{key:"isLeaf",value:function(Oa){return!Oa.children}},{key:"getChildren",value:function(Oa){var ab=this;return Oa===this.root?Oa.children.filter(function(Qa){return ab.target&&Qa.applicabilityCheck?eval(Qa.applicabilityCheck)(ab.target):
!0}):Oa.children}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SettingsTree"}},{key:"default",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" ",{}].concat($jscomp.arrayFromIterable(Gc.Icon.textAttribute("font")),[" Rich Text",{fontWeight:"bold"}]),children:[{panel:Gc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Gc.Icon.textAttribute("image")),[" Shape",{fontWeight:"bold"}]),children:[{panel:Gc.morph({})}]},{isCollapsed:!1,
name:[" ",{}].concat($jscomp.arrayFromIterable(Gc.Icon.textAttribute("border-style")),[" Border",{paddingLeft:"2px",fontWeight:"bold"}]),children:[{panel:Gc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Gc.Icon.textAttribute("grip-vertical")),[" Layout",{paddingLeft:"4px",fontWeight:"bold"}]),children:[{panel:Gc.morph({})}]}]})}},{key:"border",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" Type    ",{},Gc.morph({height:20}),{}],children:[{panel:Gc.morph({})}]},
{isCollapsed:!1,name:[" Color   ",{},Gc.morph({height:20}),{}],children:[{panel:Gc.morph({})}]},{isCollapsed:!1,name:[" Width  ",{},Gc.morph({height:20}),{}],children:[{panel:Gc.morph({})}]},{isCollapsed:!1,name:[" Radius ",{},Gc.morph({height:20}),{}],children:[{panel:Gc.morph({})}]}]})}}],rb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",
version:"0.1.1-67"}}},{start:284,end:2663})}(Gc.TreeData);Gc.SettingsTree=Qb;Gc.SettingsTree=Qb;Gc.SettingsTree=Qb;Qb=function(uc){var rb=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),Gb=rb.hasOwnProperty("StylingSideBar")&&"function"===typeof rb.StylingSideBar?rb.StylingSideBar:rb.StylingSideBar=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return md(Gb,uc,[{key:"relayout",value:function(){this.onWorldResize()}},
{key:"collapseAll",value:function(){this.getSubmorphsByStyleClassName("Tree").forEach(function(Oa){Oa.nodes.forEach(function(ab){return Oa.treeData.root==ab?Oa.uncollapse(ab):Oa.collapse(ab)})})}},{key:"onWorldResize",value:function(Oa){Oa=void 0===Oa?!0:Oa;if(this.respondsToVisibleWindow){var ab=$world.visibleBounds(),Qa=navigator.standalone&&Gc.touchInputDevice?25:0,Ja=this.getSubmorphNamed("horizontal resizer");this.height=ab.height-Qa;this.top=Qa+ab.top();Ja.height=this.height;Ja.left=0;Ja.top=
0;Oa&&(this.visible?this.topRight=ab.topRight():this.topLeft=ab.topRight())}}},{key:"toggle",value:function(Oa){var ab=this,Qa,Ja;return $jscomp.asyncExecutePromiseGeneratorProgram(function(eb){switch(eb.nextAddress){case 1:Qa=$world.visibleBounds().withTopLeft(Gc.pt(0,0));Ja=navigator.standalone&&Gc.touchInputDevice?25:0;ab.height=Qa.height-Ja;ab.top=Ja+Qa.top();if(Oa)return $world.addMorph(ab,$world.get("lively top bar")),ab.topLeft=Qa.topRight(),ab.visible=!0,eb.yield(ab.whenRendered(),5);ab.detachFromWorld($world);
return eb.yield(ab.animate({opacity:0,topLeft:Qa.topRight(),duration:300}),4);case 4:ab.visible=!1;ab.remove();eb.jumpTo(0);break;case 5:return ab.onWorldResize(!1),eb.yield(ab.animate({opacity:1,easing:Gc.easings.outCirc,topRight:Qa.topRight(),duration:300}),6);case 6:ab.attachToWorld($world),eb.jumpToEnd()}})}},{key:"cleanupAnchors",value:function(){for(var Oa=this.withAllSubmorphsSelect(function(eb){return eb.anchors&&eb.anchors.filter(function(Sb){return!Sb.id}).length}),ab={},Qa=$jscomp.makeIterator(Oa),
Ja=Qa.next();!Ja.done;ab={$jscomp$loop$prop$m$2594:ab.$jscomp$loop$prop$m$2594},Ja=Qa.next())ab.$jscomp$loop$prop$m$2594=Ja.value,ab.$jscomp$loop$prop$m$2594.anchors.forEach(function(eb){return function(Sb){return!Sb.id&&eb.$jscomp$loop$prop$m$2594.removeAnchor(Sb)}}(ab));return Oa.length}},{key:"attachToWorld",value:function(Oa){Gc.connect(Oa,"showHaloFor",this,"focusMorph",{garbageCollect:!0})}},{key:"detachFromWorld",value:function(Oa){var ab=this;Oa.attributeConnections.forEach(function(Qa){Qa.targetObj===
ab&&Qa.disconnect()})}},{key:"focusMorph",value:function(Oa){if(!Oa.isMorph||!Oa.ownerChain().includes(this)){(Oa.isLabel||Oa.isText||Oa.isButton)&&this.richTextControl.focusOn(Oa,!1);var ab=this.getSubmorphNamed("style settings tree");ab.treeData.target=Oa;ab.update(!0);Object.values(this.controls).forEach(function(Qa){return Qa&&Qa.focusOn(Oa)})}}},{key:"onHierarchyChange",value:function(){Object.values(this.controls).forEach(function(Oa){return Oa&&Oa.update()})}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"StylingSideBar"}},{key:"properties",get:function(){return{controls:{},richTextControl:{},isHaloItem:{get:function(){return!0}}}}}],rb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-67"}}},{start:2682,end:5749})}(Gc.Morph);Qb=Gc.StylingSideBar;Gc.default=Qb;var Ec=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js");
Ec.Morph=Ca;Ec.obj=ge;Ec.string=Qe;Ec.connect=$c;Ec.noUpdate=kf;Ec.once=ke;Qb=function(uc){var rb=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js"),Gb=rb.hasOwnProperty("ShapeFormatStyler")&&"function"===typeof rb.ShapeFormatStyler?rb.ShapeFormatStyler:rb.ShapeFormatStyler=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return md(Gb,uc,[{key:Symbol.for("lively-instance-initialize"),value:function(Oa){md._get(Object.getPrototypeOf(Gb.prototype),
Symbol.for("lively-instance-initialize"),this).call(this,Oa);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var Oa=this.ui,ab={},Qa=$jscomp.makeIterator(Object.entries(this.uiSpec)),Ja=Qa.next();!Ja.done;ab={$jscomp$loop$prop$control$2596:ab.$jscomp$loop$prop$control$2596,$jscomp$loop$prop$prop$2597:ab.$jscomp$loop$prop$prop$2597},Ja=Qa.next()){var eb=$jscomp.makeIterator(Ja.value);Ja=eb.next().value;eb=$jscomp.makeIterator(eb.next().value);eb.next();
var Sb=eb.next().value;ab.$jscomp$loop$prop$prop$2597=eb.next().value;ab.$jscomp$loop$prop$control$2596=Oa[Ja];Ec.connect(ab.$jscomp$loop$prop$control$2596,Sb,this,"updateTarget",{updater:function(Ac){return function(sb,Ab){Ac.$jscomp$loop$prop$control$2596._updating=!0;sb(Ac.$jscomp$loop$prop$prop$2597,Ab);Ac.$jscomp$loop$prop$control$2596._updating=!1}}(ab),varMapping:{prop:ab.$jscomp$loop$prop$prop$2597,control:ab.$jscomp$loop$prop$control$2596}})}}},{key:"update",value:function(){var Oa=this,
ab=this.target,Qa=ab.top,Ja=ab.left,eb=ab.clipMode,Sb=ab.fill,Ac=ab.dropShadow,sb=ab.opacity,Ab=ab.height,vb=ab.width;ab=this.ui;var ha=ab.clipModeSelector,Ha=ab.fillPicker,W=ab.opacityField,ra=ab.shadowPicker,Za=ab.heightField,qb=ab.widthField,sc=ab.posXField,wd=ab.posYField;Ec.noUpdate(function(){Oa.updateControl(ra,"shadowValue",Ac);Oa.updateControl(ha,"selection",eb);Oa.updateControl(Ha,"colorValue",Sb);Oa.updateControl(W,"number",sb);Oa.updateControl(Za,"number",Ab);Oa.updateControl(qb,"number",
vb);Oa.updateControl(sc,"number",Ja);Oa.updateControl(wd,"number",Qa)})}},{key:"updateTarget",value:function(Oa,ab){this.target[Oa]=ab;this.update()}},{key:"updateControl",value:function(Oa,ab,Qa){Oa._updating||Ec.obj.equals(Oa[ab],Qa)||(Oa[ab]=Qa)}},{key:"updateMultiValue",value:function(Oa,ab,Qa){var Ja=this.ui,eb=Ja[this.join(Oa)],Sb=eb.get("multi value indicator"),Ac=Ec.obj.values(ab).some(function(sb){return!Ec.obj.isFunction(sb)&&!Ec.obj.equals(sb,ab.valueOf())});Sb.left=0;eb.visible=eb.isLayoutable=
!Ac;if(Ac&&Sb.visible!=Ac)Ec.once(Sb,"onMouseDown",eb,Qa,{converter:function(){return ab.valueOf()},varMapping:{value:ab}});Sb.visible=Sb.isLayoutable=Ac;Sb.left=Ac?200:0;this.updateControl(eb,Qa,ab.valueOf());eb=$jscomp.makeIterator(["top","left","bottom","right"]);for(Sb=eb.next();!Sb.done;Sb=eb.next())Sb=Sb.value,Ac=Ja[this.join(Oa,Sb)],this.updateControl(Ac,Qa,ab[Sb])}},{key:"lower",value:function(Oa){return Oa.charAt(0).toLowerCase()+Oa.slice(1)}},{key:"join",value:function(Oa,ab){return this.lower(Ec.string.camelCaseString(Oa+
(ab?" "+ab:"")))}},{key:"unwrap",value:function(Oa,ab,Qa){var Ja={};Ja=(Ja[this.lower(Ec.string.camelCaseString(Oa))]=[Oa,ab,Qa],Ja);for(var eb=$jscomp.makeIterator(["top","left","bottom","right"]),Sb=eb.next();!Sb.done;Sb=eb.next()){Sb=Sb.value;var Ac=Oa+" "+Sb;Ja[this.lower(Ec.string.camelCaseString(Ac))]=[Ac,ab,this.join(Qa,Sb)]}return Ja}},{key:"focusOn",value:function(Oa){var ab=this,Qa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ja){if(1==Ja.nextAddress)return!Oa||ab.isAncestorOf(Oa)||
ab.target===Oa||Ec.obj.isArray(Oa)||(ab.target=Oa),Qa=ab.visible,ab.visible=!0,Ja.yield(ab.whenRendered(),2);if(3!=Ja.nextAddress)return ab.update(),Ja.yield(ab.whenRendered(),3);ab.getSubmorphsByStyleClassName("NumberWidget").map(function(eb){return eb.relayout()});ab.visible=Qa;Ja.jumpToEnd()})}},{key:"onHoverIn",value:function(Oa){this.watchForTarget=!1}},{key:"onHoverOut",value:function(Oa){this.watchForTarget=!0}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShapeFormatStyler"}},
{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||(this._uiSpec={clipModeSelector:["clip mode selector","selection","clipMode"],fillPicker:["fill picker","colorValue","fill"],shadowPicker:["shadow picker","shadowValue","dropShadow"],opacityField:["opacity field","number","opacity"],heightField:["height field","number","height"],widthField:["width field","number","width"],posXField:["pos x field","number","left"],posYField:["pos y field","number","top"]})}},ui:{readOnly:!0,
get:function(){var Oa=this,ab=this.uiSpec;return this._ui||(this._ui=Ec.obj.extract(ab,Ec.obj.keys(ab),function(Qa,Ja){Qa=$jscomp.makeIterator(Ja).next().value;return Oa.getSubmorphNamed(Qa)}))}}}}}],rb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeFormatStyler",version:"0.1.1-147"}}},{start:176,end:4919})}(Ec.Morph);Qb=Ec.ShapeFormatStyler;
Ec.default=Qb;var dd=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js");dd.Morph=Ca;dd.ShadowPopover=yc;dd.connect=$c;dd.signal=cc;Qb=function(uc){var rb=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js"),Gb=rb.hasOwnProperty("ShadowWidget")&&"function"===typeof rb.ShadowWidget?rb.ShadowWidget:rb.ShadowWidget=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return md(Gb,uc,[{key:"onHoverIn",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:1,
duration:200})}},{key:"onHoverOut",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:0,duration:200})}},{key:"onMouseDown",value:function(Oa){this.openPopover()}},{key:"update",value:function(Oa){var ab=this.submorphs[0];ab&&(ab.dropShadow=Oa)}},{key:"openPopover",value:function(){var Oa=this,ab;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){if(1==Qa.nextAddress)return ab=new dd.ShadowPopover({hasFixedPosition:!!Oa.ownerChain().find(function(Ja){return Ja.hasFixedPosition}),
shadowValue:Oa.shadowValue}),Qa.yield(ab.fadeIntoWorld(Oa.globalBounds().center()),2);dd.connect(ab,"shadowValue",Oa,"shadowValue");dd.connect(Oa,"shadowValue",Oa,"update");dd.signal(Oa,"openWidget",ab);Qa.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowWidget"}},{key:"properties",get:function(){return{shadowValue:{set:function(Oa){this.setProperty("shadowValue",Oa);this.update(Oa)}}}}}],rb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShadowWidget",version:"0.1.1-7"}}},{start:194,end:1231})}(dd.Morph);Qb=dd.ShadowWidget;dd.default=Qb;var Hd=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js");Hd.Morph=Ca;Hd.obj=ge;Hd.string=Qe;Hd.connect=$c;Hd.noUpdate=kf;Hd.once=ke;Qb=function(uc){var rb=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js"),Gb=rb.hasOwnProperty("BorderFormatStyler")&&"function"===typeof rb.BorderFormatStyler?
rb.BorderFormatStyler:rb.BorderFormatStyler=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return md(Gb,uc,[{key:"setupUI",value:function(){var Oa=this;this.getSubmorphsByStyleClassName("NumberWidget").map(function(ab){var Qa=Hd.string.camelCaseString(ab.name);Qa=Qa[0].toLowerCase()+Qa.slice(1);Oa.ui[Qa]=ab})}},{key:"cleanupAnchors",value:function(){var Oa=this.withAllSubmorphsSelect(function(Ja){return Ja.anchors&&
Ja.anchors.filter(function(eb){return!eb.id})}),ab={};Oa=$jscomp.makeIterator(Oa);for(var Qa=Oa.next();!Qa.done;ab={$jscomp$loop$prop$m$2599:ab.$jscomp$loop$prop$m$2599},Qa=Oa.next())ab.$jscomp$loop$prop$m$2599=Qa.value,ab.$jscomp$loop$prop$m$2599.anchors.forEach(function(Ja){return function(eb){return!eb.id&&Ja.$jscomp$loop$prop$m$2599.removeAnchor(eb)}}(ab))}},{key:Symbol.for("lively-instance-initialize"),value:function(Oa){md._get(Object.getPrototypeOf(Gb.prototype),Symbol.for("lively-instance-initialize"),
this).call(this,Oa);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var Oa=this.ui,ab={},Qa=$jscomp.makeIterator(Object.entries(this.uiSpec)),Ja=Qa.next();!Ja.done;ab={$jscomp$loop$prop$control$2601:ab.$jscomp$loop$prop$control$2601,$jscomp$loop$prop$prop$2602:ab.$jscomp$loop$prop$prop$2602},Ja=Qa.next()){var eb=$jscomp.makeIterator(Ja.value);Ja=eb.next().value;eb=$jscomp.makeIterator(eb.next().value);eb.next();var Sb=eb.next().value;ab.$jscomp$loop$prop$prop$2602=
eb.next().value;ab.$jscomp$loop$prop$control$2601=Oa[Ja];Hd.connect(ab.$jscomp$loop$prop$control$2601,Sb,this,"updateTarget",{updater:function(Ac){return function(sb,Ab){Ac.$jscomp$loop$prop$control$2601._updating=!0;sb(Ac.$jscomp$loop$prop$prop$2602,Ab);Ac.$jscomp$loop$prop$control$2601._updating=!1}}(ab),varMapping:{prop:ab.$jscomp$loop$prop$prop$2602,control:ab.$jscomp$loop$prop$control$2601}})}}},{key:"update",value:function(){var Oa=this,ab=this.target,Qa=ab.borderStyle,Ja=ab.borderColor,eb=
ab.borderRadius,Sb=ab.borderWidth;Hd.noUpdate(function(){Oa.updateMultiValue("border style selector",Qa,"selection");Oa.updateMultiValue("border color picker",Ja,"colorValue");Oa.updateMultiValue("border radius field",eb,"number");Oa.updateMultiValue("border width field",Sb,"number")})}},{key:"updateTarget",value:function(Oa,ab){this.target[Oa]=ab;this.update()}},{key:"updateControl",value:function(Oa,ab,Qa){Oa._updating||Hd.obj.equals(Oa[ab],Qa)||(Oa[ab]=Qa)}},{key:"updateMultiValue",value:function(Oa,
ab,Qa){var Ja=this.ui,eb=Ja[this.join(Oa)],Sb=eb.get("multi value indicator"),Ac=Hd.obj.values(ab).some(function(sb){return!Hd.obj.isFunction(sb)&&!Hd.obj.equals(sb,ab.valueOf())});eb.visible=eb.isLayoutable=!Ac;if(Ac&&Sb.visible!=Ac)Hd.once(Sb,"onMouseDown",eb,Qa,{converter:function(){return ab.valueOf()},varMapping:{value:ab}});Sb.visible=Sb.isLayoutable=Ac;this.updateControl(eb,Qa,ab.valueOf());eb=$jscomp.makeIterator(["top","left","bottom","right"]);for(Sb=eb.next();!Sb.done;Sb=eb.next())Sb=Sb.value,
Ac=Ja[this.join(Oa,Sb)],this.updateControl(Ac,Qa,ab[Sb])}},{key:"lower",value:function(Oa){return Oa.charAt(0).toLowerCase()+Oa.slice(1)}},{key:"join",value:function(Oa,ab){return this.lower(Hd.string.camelCaseString(Oa+(ab?" "+ab:"")))}},{key:"unwrap",value:function(Oa,ab,Qa){var Ja={};Ja=(Ja[this.lower(Hd.string.camelCaseString(Oa))]=[Oa,ab,Qa],Ja);for(var eb=$jscomp.makeIterator(["top","left","bottom","right"]),Sb=eb.next();!Sb.done;Sb=eb.next()){Sb=Sb.value;var Ac=Oa+" "+Sb;Ja[this.lower(Hd.string.camelCaseString(Ac))]=
[Ac,ab,this.join(Qa,Sb)]}return Ja}},{key:"attachToWorld",value:function(){Hd.connect($world,"showHaloFor",this,"focusOn",{garbageCollect:!0})}},{key:"focusOn",value:function(Oa){var ab=this,Qa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ja){if(1==Ja.nextAddress)return!Oa||ab.isAncestorOf(Oa)||ab.target===Oa||Hd.obj.isArray(Oa)||(ab.target=Oa),Qa=ab.visible,ab.visible=!0,Ja.yield(ab.whenRendered(),2);if(3!=Ja.nextAddress)return ab.update(),Ja.yield(ab.whenRendered(),3);ab.getSubmorphsByStyleClassName("NumberWidget").map(function(eb){return eb.relayout()});
ab.visible=Qa;Ja.jumpToEnd()})}},{key:"onHoverIn",value:function(Oa){this.watchForTarget=!1}},{key:"onHoverOut",value:function(Oa){this.watchForTarget=!0}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"BorderFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{derived:!0,serialize:!1,get:function(){return this._uiSpec||(this._uiSpec=Object.assign({},this.unwrap("border style selector","selection","borderStyle"),{},this.unwrap("border color picker","colorValue","borderColor"),
{},this.unwrap("border radius field","number","borderRadius"),{},this.unwrap("border width field","number","borderWidth")))}},ui:{initialize:function(){this.setupUI()}}}}}],rb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"BorderFormatStyler",version:"0.1.1-16"}}},{start:185,end:5003})}(Hd.Morph);Qb=Hd.BorderFormatStyler;Hd.default=
Qb;var Ld=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js");Ld.Morph=Ca;Ld.resource=Jc;Ld.arr=Nd;Ld.obj=ge;Ld.string=Qe;Ld.Path=ec;Ld.connect=$c;Ld.getMastersMenu=Zd;Ld.resolvedMasters=le;Qb=function(uc){var rb=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js"),Gb=rb.hasOwnProperty("MasterComponentControl")&&"function"===typeof rb.MasterComponentControl?rb.MasterComponentControl:rb.MasterComponentControl=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return md(Gb,uc,[{key:"focusOn",value:function(Oa){this.target=Oa;this.update()}},{key:"onMouseUp",value:function(Oa){var ab=this,Qa,Ja,eb,Sb,Ac,sb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ab){if(1==Ab.nextAddress){"auto master selection"==Oa.targetMorph.name&&(Qa="auto");"hover master selection"==Oa.targetMorph.name&&(Qa="hover");"click master selection"==Oa.targetMorph.name&&(Qa="click");ab.refreshButtons();
if(!ab.target)return Ab.return();Ja=$jscomp.makeIterator(["auto","hover","click"]);for(eb=Ja.next();!eb.done;eb=Ja.next())Sb=eb.value,ab.target.master&&ab.target.master[Sb]&&!ab.get(Sb+" master checkbox").checked&&ab.adjustMasterComponent(Sb,null);if(!Qa)return Ab.jumpTo(0);Ac=ab;sb=Ac.openMenu;return Ab.yield(ab.getMastersMenu(Qa),3)}sb.call(Ac,Ab.yieldResult,Oa);Ab.jumpToEnd()})}},{key:"getMastersMenu",value:function(Oa){var ab=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){return 1==
Qa.nextAddress?Qa.yield(Promise.all([].concat($jscomp.arrayFromIterable(Object.keys(Ld.resolvedMasters)),[ab.world().name]).map(function(Ja){var eb,Sb,Ac;return $jscomp.asyncExecutePromiseGeneratorProgram(function(sb){return 1==sb.nextAddress?(eb=Ja,Sb=ab,Ac=Sb.componentsToMenu,sb.yield(Ld.resource("styleguide://"+Ja+"/").dirList(),2)):sb.return([eb,Ac.call(Sb,sb.yieldResult,Oa)])})})),2):Qa.return(Qa.yieldResult)})}},{key:"componentsToMenu",value:function(Oa,ab,Qa,Ja){var eb=this;Qa=void 0===Qa?
null:Qa;Ja=void 0===Ja?1:Ja;Qa||(Qa=Oa.map(function(Ac){return{name:Ld.arr.last(Ac.name.split("/")),path:Ac.name.split("/"),value:Ac}}));if(0==Qa.length||100<Ja)return[];var Sb=this;return Ld.arr.flatten(Object.entries(Ld.arr.groupBy(Qa,function(Ac){return Ac.path[Ja-1]})).map(function(Ac){var sb=$jscomp.makeIterator(Ac);Ac=sb.next().value;sb=sb.next().value;var Ab=$jscomp.makeIterator(Ld.arr.partition(sb,function(vb){return vb.path.length<=Ja}));sb=Ab.next().value;Ab=Ab.next().value;Ac=[Ac,eb.componentsToMenu(null,
ab,Ab,Ja+1)];return[].concat($jscomp.arrayFromIterable(sb.map(function(vb){return[vb.name,function(){Sb.adjustMasterComponent(ab,vb.value)}]})),$jscomp.arrayFromIterable(Ac[1].length?[Ac]:[]))}),1)}},{key:"getComponentSelectionMenu",value:function(Oa){var ab=this,Qa,Ja,eb,Sb,Ac,sb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ab){if(1==Ab.nextAddress)return Qa=ab.world().metadata.commit.name,Ja=Ld.resource("styleguide://"+Qa+"/"),Ab.yield(Ja.dirList(),2);if(3!=Ab.nextAddress)return eb=
Ab.yieldResult,Ab.yield(Ld.resource("styleguide://System/").dirList(),3);Sb=Ab.yieldResult;Ac=ab.componentsToMenu(eb,Oa);sb=ab.componentsToMenu(Sb,Oa);return Ab.return([].concat($jscomp.arrayFromIterable(0<Ac.length?[].concat($jscomp.arrayFromIterable(Ac),[{isDivider:!0}]):[]),$jscomp.arrayFromIterable(sb)))})}},{key:"adjustMasterComponent",value:function(Oa,ab){if(this.target.master)this.target.master[Oa]=ab;else if(ab){var Qa={};this.target.master=(Qa[Oa]=ab,Qa)}Oa=this.target.master;ab=Oa.hover;
Qa=Oa.click;Oa.auto||ab||Qa||(this.target.master=null);this.update();this.target.withAllSubmorphsDo(function(Ja){return delete Ja._parametrizedProps});this.target.requestMasterStyling()}},{key:"componentsToMenu",value:function(Oa,ab,Qa,Ja){var eb=this;Qa=void 0===Qa?null:Qa;Ja=void 0===Ja?1:Ja;Qa||(Qa=Oa.map(function(Ac){return{name:Ld.arr.last(Ac.name.split("/")),path:Ac.name.split("/"),value:Ac}}));if(0==Qa.length||100<Ja)return[];var Sb=this;return Ld.arr.flatten(Object.entries(Ld.arr.groupBy(Qa,
function(Ac){return Ac.path[Ja-1]})).map(function(Ac){var sb=$jscomp.makeIterator(Ac);Ac=sb.next().value;sb=sb.next().value;var Ab=$jscomp.makeIterator(Ld.arr.partition(sb,function(vb){return vb.path.length<=Ja}));sb=Ab.next().value;Ab=Ab.next().value;Ac=[Ac,eb.componentsToMenu(null,ab,Ab,Ja+1)];return[].concat($jscomp.arrayFromIterable(sb.map(function(vb){return[vb.name,function(){Sb.adjustMasterComponent(ab,vb.value)}]})),$jscomp.arrayFromIterable(Ac[1].length?[Ac]:[]))}),1)}},{key:"update",value:function(){if(this.target){for(var Oa=
$jscomp.makeIterator(["auto","hover","click"]),ab=Oa.next();!ab.done;ab=Oa.next()){ab=ab.value;var Qa=this.getSubmorphNamed(ab+" master selection"),Ja=this.getSubmorphNamed(ab+" master checkbox");Ld.Path(["master",ab]).get(this.target)?Ja.checked=!0:Ja.checked=!1;Qa.label=Ld.string.truncateLeft(Ld.Path(["master",ab,"name"]).get(this.target)||"select master",15,"...")}this.refreshButtons()}}},{key:"refreshButtons",value:function(){for(var Oa=$jscomp.makeIterator(["auto","hover","click"]),ab=Oa.next();!ab.done;ab=
Oa.next()){ab=ab.value;var Qa=this.getSubmorphNamed(ab+" master selection"),Ja=this.getSubmorphNamed(ab+" master checkbox");Qa=Qa.deactivated=!Ja.checked;this.getSubmorphNamed(ab+" master selection").opacity=Qa?.5:1}Oa=this.getSubmorphNamed("overridden props list");Oa.items=this.getOverriddenProps();this.getSubmorphNamed("clear overridden prop button").deactivated=!Oa.selection}},{key:"getMasterForTarget",value:function(){if(this.target.isMorph)return[this.target].concat($jscomp.arrayFromIterable(this.target.ownerChain())).map(function(Oa){return Oa.master}).find(Boolean)}},
{key:"clearSelectedProperty",value:function(){var Oa=this.getSubmorphNamed("overridden props list").selection;this.getMasterForTarget().clearOverriddenPropertiesFor(this.target,[Oa]);this.refreshButtons()}},{key:"getOverriddenProps",value:function(){var Oa=this.getMasterForTarget();return Oa&&Oa._overriddenProps?(Oa=Oa._overriddenProps.get(this.target))?Object.keys(Oa):[]:[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"MasterComponentControl"}}],rb,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"MasterComponentControl",version:"0.1.1-108"}}},{start:315,end:6096})}(Ld.Morph);Qb=Ld.MasterComponentControl;Ld.default=Qb}}});

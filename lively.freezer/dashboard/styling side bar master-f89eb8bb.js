System.register("./__root_module__-f418f9fd.js lively.collab kld-intersections ./index-e1bb9574.js ./world-edf3c374.js ./index-96ee3fea.js ./index-6e65d49f.js ./index-7bb8b828.js".split(" "),function(){var Ha,tb,Ab,kc,ac,Ld,Tc,$d,Uc,Pc,Jd,pe,Ze,Ff,te,Bc,sd,le,jc,je,Ae,Dc;return{setters:[function(Mc){Ha=Mc.av;tb=Mc.a_;Ab=Mc.ab;kc=Mc.aK;ac=Mc.aa;Ld=Mc.a3;Tc=Mc.C;$d=Mc.aO;Uc=Mc.aF;Pc=Mc.bx;Jd=Mc.aJ;pe=Mc.a8;Ze=Mc.a7;Ff=Mc.bS;te=Mc.ak;Bc=Mc.aG;sd=Mc.r;le=Mc.a6;jc=Mc.P;je=Mc.bV;Ae=Mc.bW},function(){},
function(){},function(){},function(Mc){Dc=Mc.b},function(){},function(){},function(){}],execute:function(){var Mc=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js");Mc.Morph=Ha;Mc.touchInputDevice=tb;Mc.morph=Ab;Mc.Icon=kc;Mc.easings=ac;Mc.pt=Ld;Mc.Color=Tc;Mc.fun=$d;Mc.connect=Uc;Mc.TreeData=Pc;var bc=function(rb){var ob=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),Bb=ob.hasOwnProperty("SettingsTree")&&"function"===typeof ob.SettingsTree?ob.SettingsTree:ob.SettingsTree=
function(Va){Va&&Va[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Jd(Bb,rb,[{key:"display",value:function(Va){return Va.panel?[Va.panel,{}]:Va.name}},{key:"collapse",value:function(Va,Ta){Va.isCollapsed=Ta}},{key:"isCollapsed",value:function(Va){return Va.isCollapsed}},{key:"isLeaf",value:function(Va){return!Va.children}},{key:"getChildren",value:function(Va){var Ta=this;return Va===this.root?Va.children.filter(function(xa){return Ta.target&&
xa.applicabilityCheck?eval(xa.applicabilityCheck)(Ta.target):!0}):Va.children}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SettingsTree"}},{key:"default",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" ",{}].concat($jscomp.arrayFromIterable(Mc.Icon.textAttribute("font")),[" Rich Text",{fontWeight:"bold"}]),children:[{panel:Mc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Mc.Icon.textAttribute("image")),[" Shape",
{fontWeight:"bold"}]),children:[{panel:Mc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Mc.Icon.textAttribute("border-style")),[" Border",{paddingLeft:"2px",fontWeight:"bold"}]),children:[{panel:Mc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Mc.Icon.textAttribute("grip-vertical")),[" Layout",{paddingLeft:"4px",fontWeight:"bold"}]),children:[{panel:Mc.morph({})}]}]})}},{key:"border",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,
name:[" Type    ",{},Mc.morph({height:20}),{}],children:[{panel:Mc.morph({})}]},{isCollapsed:!1,name:[" Color   ",{},Mc.morph({height:20}),{}],children:[{panel:Mc.morph({})}]},{isCollapsed:!1,name:[" Width  ",{},Mc.morph({height:20}),{}],children:[{panel:Mc.morph({})}]},{isCollapsed:!1,name:[" Radius ",{},Mc.morph({height:20}),{}],children:[{panel:Mc.morph({})}]}]})}}],ob,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"StylingSideBar",version:"0.1.1-67"}}},{start:284,end:2663})}(Mc.TreeData);Mc.SettingsTree=bc;Mc.SettingsTree=bc;Mc.SettingsTree=bc;bc=function(rb){var ob=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),Bb=ob.hasOwnProperty("StylingSideBar")&&"function"===typeof ob.StylingSideBar?ob.StylingSideBar:ob.StylingSideBar=function(Va){Va&&Va[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Jd(Bb,
rb,[{key:"relayout",value:function(){this.onWorldResize()}},{key:"collapseAll",value:function(){this.getSubmorphsByStyleClassName("Tree").forEach(function(Va){Va.nodes.forEach(function(Ta){return Va.treeData.root==Ta?Va.uncollapse(Ta):Va.collapse(Ta)})})}},{key:"onWorldResize",value:function(Va){Va=void 0===Va?!0:Va;if(this.respondsToVisibleWindow){var Ta=$world.visibleBounds(),xa=navigator.standalone&&Mc.touchInputDevice?25:0,wa=this.getSubmorphNamed("horizontal resizer");this.height=Ta.height-xa;
this.top=xa+Ta.top();wa.height=this.height;wa.left=0;wa.top=0;Va&&(this.visible?this.topRight=Ta.topRight():this.topLeft=Ta.topRight())}}},{key:"toggle",value:function(Va){var Ta=this,xa,wa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){switch(Qa.nextAddress){case 1:xa=$world.visibleBounds().withTopLeft(Mc.pt(0,0));wa=navigator.standalone&&Mc.touchInputDevice?25:0;Ta.height=xa.height-wa;Ta.top=wa+xa.top();if(Va)return $world.addMorph(Ta,$world.get("lively top bar")),Ta.topLeft=xa.topRight(),
Ta.visible=!0,Qa.yield(Ta.whenRendered(),5);Ta.detachFromWorld($world);return Qa.yield(Ta.animate({opacity:0,topLeft:xa.topRight(),duration:300}),4);case 4:Ta.visible=!1;Ta.remove();Qa.jumpTo(0);break;case 5:return Ta.onWorldResize(!1),Qa.yield(Ta.animate({opacity:1,easing:Mc.easings.outCirc,topRight:xa.topRight(),duration:300}),6);case 6:Ta.attachToWorld($world),Qa.jumpToEnd()}})}},{key:"cleanupAnchors",value:function(){for(var Va=this.withAllSubmorphsSelect(function(Qa){return Qa.anchors&&Qa.anchors.filter(function(Eb){return!Eb.id}).length}),
Ta={},xa=$jscomp.makeIterator(Va),wa=xa.next();!wa.done;Ta={$jscomp$loop$prop$m$2716:Ta.$jscomp$loop$prop$m$2716},wa=xa.next())Ta.$jscomp$loop$prop$m$2716=wa.value,Ta.$jscomp$loop$prop$m$2716.anchors.forEach(function(Qa){return function(Eb){return!Eb.id&&Qa.$jscomp$loop$prop$m$2716.removeAnchor(Eb)}}(Ta));return Va.length}},{key:"attachToWorld",value:function(Va){Mc.connect(Va,"showHaloFor",this,"focusMorph",{garbageCollect:!0})}},{key:"detachFromWorld",value:function(Va){var Ta=this;Va.attributeConnections.forEach(function(xa){xa.targetObj===
Ta&&xa.disconnect()})}},{key:"focusMorph",value:function(Va){if(!Va.isMorph||!Va.ownerChain().includes(this)){(Va.isLabel||Va.isText||Va.isButton)&&this.richTextControl.focusOn(Va,!1);var Ta=this.getSubmorphNamed("style settings tree");Ta.treeData.target=Va;Ta.update(!0);Object.values(this.controls).forEach(function(xa){return xa&&xa.focusOn(Va)})}}},{key:"onHierarchyChange",value:function(){Object.values(this.controls).forEach(function(Va){return Va&&Va.update()})}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"StylingSideBar"}},{key:"properties",get:function(){return{controls:{},richTextControl:{},isHaloItem:{get:function(){return!0}}}}}],ob,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-67"}}},{start:2682,end:5749})}(Mc.Morph);bc=Mc.StylingSideBar;Mc.default=bc;var Gc=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js");
Gc.Morph=Ha;Gc.obj=pe;Gc.string=Ze;Gc.connect=Uc;Gc.noUpdate=Ff;Gc.once=te;bc=function(rb){var ob=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js"),Bb=ob.hasOwnProperty("ShapeFormatStyler")&&"function"===typeof ob.ShapeFormatStyler?ob.ShapeFormatStyler:ob.ShapeFormatStyler=function(Va){Va&&Va[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Jd(Bb,rb,[{key:Symbol.for("lively-instance-initialize"),value:function(Va){Jd._get(Object.getPrototypeOf(Bb.prototype),
Symbol.for("lively-instance-initialize"),this).call(this,Va);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var Va=this.ui,Ta={},xa=$jscomp.makeIterator(Object.entries(this.uiSpec)),wa=xa.next();!wa.done;Ta={$jscomp$loop$prop$control$2718:Ta.$jscomp$loop$prop$control$2718,$jscomp$loop$prop$prop$2719:Ta.$jscomp$loop$prop$prop$2719},wa=xa.next()){var Qa=$jscomp.makeIterator(wa.value);wa=Qa.next().value;Qa=$jscomp.makeIterator(Qa.next().value);Qa.next();
var Eb=Qa.next().value;Ta.$jscomp$loop$prop$prop$2719=Qa.next().value;Ta.$jscomp$loop$prop$control$2718=Va[wa];Gc.connect(Ta.$jscomp$loop$prop$control$2718,Eb,this,"updateTarget",{updater:function(rc){return function(qb,sb){rc.$jscomp$loop$prop$control$2718._updating=!0;qb(rc.$jscomp$loop$prop$prop$2719,sb);rc.$jscomp$loop$prop$control$2718._updating=!1}}(Ta),varMapping:{prop:Ta.$jscomp$loop$prop$prop$2719,control:Ta.$jscomp$loop$prop$control$2718}})}}},{key:"update",value:function(){var Va=this,
Ta=this.target,xa=Ta.top,wa=Ta.left,Qa=Ta.clipMode,Eb=Ta.fill,rc=Ta.dropShadow,qb=Ta.opacity,sb=Ta.height,kb=Ta.width;Ta=this.ui;var ha=Ta.clipModeSelector,Pa=Ta.fillPicker,T=Ta.opacityField,ia=Ta.shadowPicker,Fa=Ta.heightField,$a=Ta.widthField,zb=Ta.posXField,Cc=Ta.posYField;Gc.noUpdate(function(){Va.updateControl(ia,"shadowValue",rc);Va.updateControl(ha,"selection",Qa);Va.updateControl(Pa,"colorValue",Eb);Va.updateControl(T,"number",qb);Va.updateControl(Fa,"number",sb);Va.updateControl($a,"number",
kb);Va.updateControl(zb,"number",wa);Va.updateControl(Cc,"number",xa)})}},{key:"updateTarget",value:function(Va,Ta){this.target[Va]=Ta;this.update()}},{key:"updateControl",value:function(Va,Ta,xa){Va._updating||Gc.obj.equals(Va[Ta],xa)||(Va[Ta]=xa)}},{key:"updateMultiValue",value:function(Va,Ta,xa){var wa=this.ui,Qa=wa[this.join(Va)],Eb=Qa.get("multi value indicator"),rc=Gc.obj.values(Ta).some(function(qb){return!Gc.obj.isFunction(qb)&&!Gc.obj.equals(qb,Ta.valueOf())});Eb.left=0;Qa.visible=Qa.isLayoutable=
!rc;if(rc&&Eb.visible!=rc)Gc.once(Eb,"onMouseDown",Qa,xa,{converter:function(){return Ta.valueOf()},varMapping:{value:Ta}});Eb.visible=Eb.isLayoutable=rc;Eb.left=rc?200:0;this.updateControl(Qa,xa,Ta.valueOf());Qa=$jscomp.makeIterator(["top","left","bottom","right"]);for(Eb=Qa.next();!Eb.done;Eb=Qa.next())Eb=Eb.value,rc=wa[this.join(Va,Eb)],this.updateControl(rc,xa,Ta[Eb])}},{key:"lower",value:function(Va){return Va.charAt(0).toLowerCase()+Va.slice(1)}},{key:"join",value:function(Va,Ta){return this.lower(Gc.string.camelCaseString(Va+
(Ta?" "+Ta:"")))}},{key:"unwrap",value:function(Va,Ta,xa){var wa={};wa=(wa[this.lower(Gc.string.camelCaseString(Va))]=[Va,Ta,xa],wa);for(var Qa=$jscomp.makeIterator(["top","left","bottom","right"]),Eb=Qa.next();!Eb.done;Eb=Qa.next()){Eb=Eb.value;var rc=Va+" "+Eb;wa[this.lower(Gc.string.camelCaseString(rc))]=[rc,Ta,this.join(xa,Eb)]}return wa}},{key:"focusOn",value:function(Va){var Ta=this,xa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wa){if(1==wa.nextAddress)return!Va||Ta.isAncestorOf(Va)||
Ta.target===Va||Gc.obj.isArray(Va)||(Ta.target=Va),xa=Ta.visible,Ta.visible=!0,wa.yield(Ta.whenRendered(),2);if(3!=wa.nextAddress)return Ta.update(),wa.yield(Ta.whenRendered(),3);Ta.getSubmorphsByStyleClassName("NumberWidget").map(function(Qa){return Qa.relayout()});Ta.visible=xa;wa.jumpToEnd()})}},{key:"onHoverIn",value:function(Va){this.watchForTarget=!1}},{key:"onHoverOut",value:function(Va){this.watchForTarget=!0}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShapeFormatStyler"}},
{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||(this._uiSpec={clipModeSelector:["clip mode selector","selection","clipMode"],fillPicker:["fill picker","colorValue","fill"],shadowPicker:["shadow picker","shadowValue","dropShadow"],opacityField:["opacity field","number","opacity"],heightField:["height field","number","height"],widthField:["width field","number","width"],posXField:["pos x field","number","left"],posYField:["pos y field","number","top"]})}},ui:{readOnly:!0,
get:function(){var Va=this,Ta=this.uiSpec;return this._ui||(this._ui=Gc.obj.extract(Ta,Gc.obj.keys(Ta),function(xa,wa){xa=$jscomp.makeIterator(wa).next().value;return Va.getSubmorphNamed(xa)}))}}}}}],ob,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeFormatStyler",version:"0.1.1-147"}}},{start:176,end:4919})}(Gc.Morph);bc=Gc.ShapeFormatStyler;
Gc.default=bc;var Zc=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js");Zc.Morph=Ha;Zc.ShadowPopover=Dc;Zc.connect=Uc;Zc.signal=Bc;bc=function(rb){var ob=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js"),Bb=ob.hasOwnProperty("ShadowWidget")&&"function"===typeof ob.ShadowWidget?ob.ShadowWidget:ob.ShadowWidget=function(Va){Va&&Va[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Jd(Bb,rb,[{key:"onHoverIn",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:1,
duration:200})}},{key:"onHoverOut",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:0,duration:200})}},{key:"onMouseDown",value:function(Va){this.openPopover()}},{key:"update",value:function(Va){var Ta=this.submorphs[0];Ta&&(Ta.dropShadow=Va)}},{key:"openPopover",value:function(){var Va=this,Ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(xa){if(1==xa.nextAddress)return Ta=new Zc.ShadowPopover({hasFixedPosition:!!Va.ownerChain().find(function(wa){return wa.hasFixedPosition}),
shadowValue:Va.shadowValue}),xa.yield(Ta.fadeIntoWorld(Va.globalBounds().center()),2);Zc.connect(Ta,"shadowValue",Va,"shadowValue");Zc.connect(Va,"shadowValue",Va,"update");Zc.signal(Va,"openWidget",Ta);xa.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowWidget"}},{key:"properties",get:function(){return{shadowValue:{set:function(Va){this.setProperty("shadowValue",Va);this.update(Va)}}}}}],ob,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShadowWidget",version:"0.1.1-7"}}},{start:194,end:1231})}(Zc.Morph);bc=Zc.ShadowWidget;Zc.default=bc;var Rd=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js");Rd.Morph=Ha;Rd.obj=pe;Rd.string=Ze;Rd.connect=Uc;Rd.noUpdate=Ff;Rd.once=te;bc=function(rb){var ob=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js"),Bb=ob.hasOwnProperty("BorderFormatStyler")&&"function"===typeof ob.BorderFormatStyler?
ob.BorderFormatStyler:ob.BorderFormatStyler=function(Va){Va&&Va[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Jd(Bb,rb,[{key:"setupUI",value:function(){var Va=this;this.getSubmorphsByStyleClassName("NumberWidget").map(function(Ta){var xa=Rd.string.camelCaseString(Ta.name);xa=xa[0].toLowerCase()+xa.slice(1);Va.ui[xa]=Ta})}},{key:"cleanupAnchors",value:function(){var Va=this.withAllSubmorphsSelect(function(wa){return wa.anchors&&
wa.anchors.filter(function(Qa){return!Qa.id})}),Ta={};Va=$jscomp.makeIterator(Va);for(var xa=Va.next();!xa.done;Ta={$jscomp$loop$prop$m$2721:Ta.$jscomp$loop$prop$m$2721},xa=Va.next())Ta.$jscomp$loop$prop$m$2721=xa.value,Ta.$jscomp$loop$prop$m$2721.anchors.forEach(function(wa){return function(Qa){return!Qa.id&&wa.$jscomp$loop$prop$m$2721.removeAnchor(Qa)}}(Ta))}},{key:Symbol.for("lively-instance-initialize"),value:function(Va){Jd._get(Object.getPrototypeOf(Bb.prototype),Symbol.for("lively-instance-initialize"),
this).call(this,Va);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var Va=this.ui,Ta={},xa=$jscomp.makeIterator(Object.entries(this.uiSpec)),wa=xa.next();!wa.done;Ta={$jscomp$loop$prop$control$2723:Ta.$jscomp$loop$prop$control$2723,$jscomp$loop$prop$prop$2724:Ta.$jscomp$loop$prop$prop$2724},wa=xa.next()){var Qa=$jscomp.makeIterator(wa.value);wa=Qa.next().value;Qa=$jscomp.makeIterator(Qa.next().value);Qa.next();var Eb=Qa.next().value;Ta.$jscomp$loop$prop$prop$2724=
Qa.next().value;Ta.$jscomp$loop$prop$control$2723=Va[wa];Rd.connect(Ta.$jscomp$loop$prop$control$2723,Eb,this,"updateTarget",{updater:function(rc){return function(qb,sb){rc.$jscomp$loop$prop$control$2723._updating=!0;qb(rc.$jscomp$loop$prop$prop$2724,sb);rc.$jscomp$loop$prop$control$2723._updating=!1}}(Ta),varMapping:{prop:Ta.$jscomp$loop$prop$prop$2724,control:Ta.$jscomp$loop$prop$control$2723}})}}},{key:"update",value:function(){var Va=this,Ta=this.target,xa=Ta.borderStyle,wa=Ta.borderColor,Qa=
Ta.borderRadius,Eb=Ta.borderWidth;Rd.noUpdate(function(){Va.updateMultiValue("border style selector",xa,"selection");Va.updateMultiValue("border color picker",wa,"colorValue");Va.updateMultiValue("border radius field",Qa,"number");Va.updateMultiValue("border width field",Eb,"number")})}},{key:"updateTarget",value:function(Va,Ta){this.target[Va]=Ta;this.update()}},{key:"updateControl",value:function(Va,Ta,xa){Va._updating||Rd.obj.equals(Va[Ta],xa)||(Va[Ta]=xa)}},{key:"updateMultiValue",value:function(Va,
Ta,xa){var wa=this.ui,Qa=wa[this.join(Va)],Eb=Qa.get("multi value indicator"),rc=Rd.obj.values(Ta).some(function(qb){return!Rd.obj.isFunction(qb)&&!Rd.obj.equals(qb,Ta.valueOf())});Qa.visible=Qa.isLayoutable=!rc;if(rc&&Eb.visible!=rc)Rd.once(Eb,"onMouseDown",Qa,xa,{converter:function(){return Ta.valueOf()},varMapping:{value:Ta}});Eb.visible=Eb.isLayoutable=rc;this.updateControl(Qa,xa,Ta.valueOf());Qa=$jscomp.makeIterator(["top","left","bottom","right"]);for(Eb=Qa.next();!Eb.done;Eb=Qa.next())Eb=Eb.value,
rc=wa[this.join(Va,Eb)],this.updateControl(rc,xa,Ta[Eb])}},{key:"lower",value:function(Va){return Va.charAt(0).toLowerCase()+Va.slice(1)}},{key:"join",value:function(Va,Ta){return this.lower(Rd.string.camelCaseString(Va+(Ta?" "+Ta:"")))}},{key:"unwrap",value:function(Va,Ta,xa){var wa={};wa=(wa[this.lower(Rd.string.camelCaseString(Va))]=[Va,Ta,xa],wa);for(var Qa=$jscomp.makeIterator(["top","left","bottom","right"]),Eb=Qa.next();!Eb.done;Eb=Qa.next()){Eb=Eb.value;var rc=Va+" "+Eb;wa[this.lower(Rd.string.camelCaseString(rc))]=
[rc,Ta,this.join(xa,Eb)]}return wa}},{key:"attachToWorld",value:function(){Rd.connect($world,"showHaloFor",this,"focusOn",{garbageCollect:!0})}},{key:"focusOn",value:function(Va){var Ta=this,xa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wa){if(1==wa.nextAddress)return!Va||Ta.isAncestorOf(Va)||Ta.target===Va||Rd.obj.isArray(Va)||(Ta.target=Va),xa=Ta.visible,Ta.visible=!0,wa.yield(Ta.whenRendered(),2);if(3!=wa.nextAddress)return Ta.update(),wa.yield(Ta.whenRendered(),3);Ta.getSubmorphsByStyleClassName("NumberWidget").map(function(Qa){return Qa.relayout()});
Ta.visible=xa;wa.jumpToEnd()})}},{key:"onHoverIn",value:function(Va){this.watchForTarget=!1}},{key:"onHoverOut",value:function(Va){this.watchForTarget=!0}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"BorderFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{derived:!0,serialize:!1,get:function(){return this._uiSpec||(this._uiSpec=Object.assign({},this.unwrap("border style selector","selection","borderStyle"),{},this.unwrap("border color picker","colorValue","borderColor"),
{},this.unwrap("border radius field","number","borderRadius"),{},this.unwrap("border width field","number","borderWidth")))}},ui:{initialize:function(){this.setupUI()}}}}}],ob,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"BorderFormatStyler",version:"0.1.1-16"}}},{start:185,end:5003})}(Rd.Morph);bc=Rd.BorderFormatStyler;Rd.default=
bc;var Kd=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js");Kd.Morph=Ha;Kd.resource=sd;Kd.arr=le;Kd.obj=pe;Kd.string=Ze;Kd.Path=jc;Kd.connect=Uc;Kd.getMastersMenu=je;Kd.resolvedMasters=Ae;bc=function(rb){var ob=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js"),Bb=ob.hasOwnProperty("MasterComponentControl")&&"function"===typeof ob.MasterComponentControl?ob.MasterComponentControl:ob.MasterComponentControl=function(Va){Va&&Va[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Jd(Bb,rb,[{key:"focusOn",value:function(Va){this.target=Va;this.update()}},{key:"onMouseUp",value:function(Va){var Ta=this,xa,wa,Qa,Eb,rc,qb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(sb){if(1==sb.nextAddress){"auto master selection"==Va.targetMorph.name&&(xa="auto");"hover master selection"==Va.targetMorph.name&&(xa="hover");"click master selection"==Va.targetMorph.name&&(xa="click");Ta.refreshButtons();
if(!Ta.target)return sb.return();wa=$jscomp.makeIterator(["auto","hover","click"]);for(Qa=wa.next();!Qa.done;Qa=wa.next())Eb=Qa.value,Ta.target.master&&Ta.target.master[Eb]&&!Ta.get(Eb+" master checkbox").checked&&Ta.adjustMasterComponent(Eb,null);if(!xa)return sb.jumpTo(0);rc=Ta;qb=rc.openMenu;return sb.yield(Ta.getMastersMenu(xa),3)}qb.call(rc,sb.yieldResult,Va);sb.jumpToEnd()})}},{key:"getMastersMenu",value:function(Va){var Ta=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(xa){return 1==
xa.nextAddress?xa.yield(Promise.all([].concat($jscomp.arrayFromIterable(Object.keys(Kd.resolvedMasters)),[Ta.world().name]).map(function(wa){var Qa,Eb,rc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qb){return 1==qb.nextAddress?(Qa=wa,Eb=Ta,rc=Eb.componentsToMenu,qb.yield(Kd.resource("styleguide://"+wa+"/").dirList(),2)):qb.return([Qa,rc.call(Eb,qb.yieldResult,Va)])})})),2):xa.return(xa.yieldResult)})}},{key:"componentsToMenu",value:function(Va,Ta,xa,wa){var Qa=this;xa=void 0===xa?
null:xa;wa=void 0===wa?1:wa;xa||(xa=Va.map(function(rc){return{name:Kd.arr.last(rc.name.split("/")),path:rc.name.split("/"),value:rc}}));if(0==xa.length||100<wa)return[];var Eb=this;return Kd.arr.flatten(Object.entries(Kd.arr.groupBy(xa,function(rc){return rc.path[wa-1]})).map(function(rc){var qb=$jscomp.makeIterator(rc);rc=qb.next().value;qb=qb.next().value;var sb=$jscomp.makeIterator(Kd.arr.partition(qb,function(kb){return kb.path.length<=wa}));qb=sb.next().value;sb=sb.next().value;rc=[rc,Qa.componentsToMenu(null,
Ta,sb,wa+1)];return[].concat($jscomp.arrayFromIterable(qb.map(function(kb){return[kb.name,function(){Eb.adjustMasterComponent(Ta,kb.value)}]})),$jscomp.arrayFromIterable(rc[1].length?[rc]:[]))}),1)}},{key:"getComponentSelectionMenu",value:function(Va){var Ta=this,xa,wa,Qa,Eb,rc,qb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(sb){if(1==sb.nextAddress)return xa=Ta.world().metadata.commit.name,wa=Kd.resource("styleguide://"+xa+"/"),sb.yield(wa.dirList(),2);if(3!=sb.nextAddress)return Qa=
sb.yieldResult,sb.yield(Kd.resource("styleguide://System/").dirList(),3);Eb=sb.yieldResult;rc=Ta.componentsToMenu(Qa,Va);qb=Ta.componentsToMenu(Eb,Va);return sb.return([].concat($jscomp.arrayFromIterable(0<rc.length?[].concat($jscomp.arrayFromIterable(rc),[{isDivider:!0}]):[]),$jscomp.arrayFromIterable(qb)))})}},{key:"adjustMasterComponent",value:function(Va,Ta){if(this.target.master)this.target.master[Va]=Ta;else if(Ta){var xa={};this.target.master=(xa[Va]=Ta,xa)}Va=this.target.master;Ta=Va.hover;
xa=Va.click;Va.auto||Ta||xa||(this.target.master=null);this.update();this.target.withAllSubmorphsDo(function(wa){return delete wa._parametrizedProps});this.target.requestMasterStyling()}},{key:"componentsToMenu",value:function(Va,Ta,xa,wa){var Qa=this;xa=void 0===xa?null:xa;wa=void 0===wa?1:wa;xa||(xa=Va.map(function(rc){return{name:Kd.arr.last(rc.name.split("/")),path:rc.name.split("/"),value:rc}}));if(0==xa.length||100<wa)return[];var Eb=this;return Kd.arr.flatten(Object.entries(Kd.arr.groupBy(xa,
function(rc){return rc.path[wa-1]})).map(function(rc){var qb=$jscomp.makeIterator(rc);rc=qb.next().value;qb=qb.next().value;var sb=$jscomp.makeIterator(Kd.arr.partition(qb,function(kb){return kb.path.length<=wa}));qb=sb.next().value;sb=sb.next().value;rc=[rc,Qa.componentsToMenu(null,Ta,sb,wa+1)];return[].concat($jscomp.arrayFromIterable(qb.map(function(kb){return[kb.name,function(){Eb.adjustMasterComponent(Ta,kb.value)}]})),$jscomp.arrayFromIterable(rc[1].length?[rc]:[]))}),1)}},{key:"update",value:function(){if(this.target){for(var Va=
$jscomp.makeIterator(["auto","hover","click"]),Ta=Va.next();!Ta.done;Ta=Va.next()){Ta=Ta.value;var xa=this.getSubmorphNamed(Ta+" master selection"),wa=this.getSubmorphNamed(Ta+" master checkbox");Kd.Path(["master",Ta]).get(this.target)?wa.checked=!0:wa.checked=!1;xa.label=Kd.string.truncateLeft(Kd.Path(["master",Ta,"name"]).get(this.target)||"select master",15,"...")}this.refreshButtons()}}},{key:"refreshButtons",value:function(){for(var Va=$jscomp.makeIterator(["auto","hover","click"]),Ta=Va.next();!Ta.done;Ta=
Va.next()){Ta=Ta.value;var xa=this.getSubmorphNamed(Ta+" master selection"),wa=this.getSubmorphNamed(Ta+" master checkbox");xa=xa.deactivated=!wa.checked;this.getSubmorphNamed(Ta+" master selection").opacity=xa?.5:1}Va=this.getSubmorphNamed("overridden props list");Va.items=this.getOverriddenProps();this.getSubmorphNamed("clear overridden prop button").deactivated=!Va.selection}},{key:"getMasterForTarget",value:function(){if(this.target.isMorph)return[this.target].concat($jscomp.arrayFromIterable(this.target.ownerChain())).map(function(Va){return Va.master}).find(Boolean)}},
{key:"clearSelectedProperty",value:function(){var Va=this.getSubmorphNamed("overridden props list").selection;this.getMasterForTarget().clearOverriddenPropertiesFor(this.target,[Va]);this.refreshButtons()}},{key:"getOverriddenProps",value:function(){var Va=this.getMasterForTarget();return Va&&Va._overriddenProps?(Va=Va._overriddenProps.get(this.target))?Object.keys(Va):[]:[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"MasterComponentControl"}}],ob,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"MasterComponentControl",version:"0.1.1-108"}}},{start:315,end:6096})}(Kd.Morph);bc=Kd.MasterComponentControl;Kd.default=bc}}});

System.register(["./__root_module__-cd530690.js","./index-cab7da24.js"],function(Da){var zb,Rb,kc,dc,ke,hd,$d,md,Qc,xd,Od,ge,Ud,nd,Za,Cb,bc,ic,id,fe,Zb,rc,Lb,Gc,$c,ed,$b,ob,zc,Mc,Ja,Ra,ub,Mb,Ob,kb,ib,Jb,vc,sc,Uc,Xc,Q,fa,Ha,Qa,fc,Nb,ab,lc,rd,Bd,ad;return{setters:[function(Xa){zb=Xa.C;Rb=Xa.a1;kc=Xa.b4;dc=Xa.b5;ke=Xa.b6;hd=Xa.b7;$d=Xa.b8;md=Xa.b9;Qc=Xa.a2;xd=Xa.af;Od=Xa.ba;ge=Xa.bb;Ud=Xa.bc;nd=Xa.ah;Za=Xa.aZ;Cb=Xa.aj;bc=Xa.aA;ic=Xa.a8;id=Xa.a_;fe=Xa.al;Zb=Xa.I;rc=Xa.aU;Lb=Xa.b2;Gc=Xa.bd;$c=Xa.be;
ed=Xa.ap;$b=Xa.aq;ob=Xa.ao;zc=Xa.a5;Mc=Xa.bf;Ja=Xa.ar;Ra=Xa.an;ub=Xa.aB;Mb=Xa.a9;Ob=Xa.bg;kb=Xa.ak;ib=Xa.am;Jb=Xa.aa;vc=Xa._;sc=Xa.as;Uc=Xa.s;Xc=Xa.a6;Q=Xa.a0;fa=Xa.bh;Ha=Xa.bi;Qa=Xa.bj;fc=Xa.ag;Nb=Xa.at;ab=Xa.aM},function(Xa){lc=Xa.p;rd=Xa.P;Bd=Xa._;ad=Xa.N}],execute:function(){var Xa=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");Xa.Color=zb;Xa.rect=Rb;Xa.Complementary=kc;Xa.Triadic=dc;Xa.Tetradic=ke;Xa.Quadratic=hd;Xa.Analogous=$d;Xa.Neutral=md;Xa.pt=Qc;Xa.Point=xd;Xa.flatDesignColors=
Od;Xa.materialDesignColors=ge;Xa.webSafeColors=Ud;Xa.Morph=nd;Xa.CustomLayout=Za;Xa.VerticalLayout=Cb;Xa.HorizontalLayout=bc;Xa.Text=ic;Xa.TilingLayout=id;Xa.Ellipse=fe;Xa.Image=Zb;Xa.StyleSheet=rc;Xa.DropDownSelector=Lb;Xa.ModeSelector=Gc;Xa.Slider=$c;Xa.connect=ed;Xa.signal=$b;Xa.num=ob;Xa.arr=zc;Xa.SnapLayout=Mc;Xa.WHEEL_URL="/lively.ide/assets/color-wheel.png";Xa.duration=200;(function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Vb=Md.hasOwnProperty("ColorPaletteField")&&
"function"===typeof Md.ColorPaletteField?Md.ColorPaletteField:Md.ColorPaletteField=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"onHoverIn",value:function(){if(this.color){var sa=$jscomp.makeIterator(this.color.toHSB()),Aa=sa.next().value,Kb=sa.next().value;sa=sa.next().value;this.borderColor=Xa.Color.hsb(Aa,1<Kb+.5?Kb-.5:Kb+.5,1<sa+.5?sa-.5:sa+.5)}}},{key:"onHoverOut",value:function(){this.borderColor=
Xa.Color.transparent}},{key:"onMouseDown",value:function(){Xa.signal(this,"updateColor",this.color)}}],[{key:"className",get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:Xa.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||Xa.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||Xa.Color.transparent}},styleClasses:{after:["color"],initialize:function(){this.styleClasses=
this.color?["colorField"]:["vacantColorField"]}}}}}],Md,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:653,end:1603})})(Xa.Morph);(function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Vb=Md.hasOwnProperty("ColorHarmonyField")&&"function"===
typeof Md.ColorHarmonyField?Md.ColorHarmonyField:Md.ColorHarmonyField=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"onMouseDown",value:function(){Xa.signal(this,"updateColor",this.color)}}],[{key:"className",get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:Xa.pt(80,60)},fill:{defaultValue:Xa.Color.transparent},master:{initialize:function(){this.master=
{auto:"styleguide://SystemWidgets/color harmony field"}}},color:{set:function(sa){var Aa=$jscomp.makeIterator(this.submorphs),Kb=Aa.next().value;Aa=Aa.next().value;var P=$jscomp.makeIterator(sa?sa.toHSB():[]),wa=P.next().value,Pa=P.next().value;P=P.next().value;this.setProperty("color",sa);sa&&Kb&&Aa&&(Kb.fill=sa,Aa.textString=sa.toHexString(),Aa.fontColor=Xa.Color.hsb(wa,1<Pa+.5?Pa-.5:Pa+.5,1<P+.5?P-.5:P+.5))}},submorphs:{after:["color"],initialize:function(){var sa=$jscomp.makeIterator((this.color||
Xa.Color.transparent).toHSB()),Aa=sa.next().value,Kb=sa.next().value;sa=sa.next().value;this.submorphs=[new Xa.Morph({fill:this.color,extent:Xa.pt(80,50)}),new Xa.Text({textString:Aa.toFixed()+", "+Kb.toFixed(2)+", "+sa.toFixed(2),fill:Xa.Color.transparent,fontColor:Xa.Color.gray.darker(),bottomLeft:Xa.pt(0,50)})]}}}}}],Md,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:1605,end:3066})})(Xa.Morph);(function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Vb=Md.hasOwnProperty("HarmonyDisplay")&&"function"===typeof Md.HarmonyDisplay?Md.HarmonyDisplay:Md.HarmonyDisplay=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"update",value:function(sa){var Aa=$jscomp.makeIterator(sa.pivotColor.toHSB()),
Kb=Aa.next().value,P=Aa.next().value;Aa=Aa.next().value;Kb=sa.harmony.chord({hue:Kb,saturation:P,brightness:Aa});Kb.length!=this.submorphs.length?this.submorphs=Kb.map(function(wa){wa=new Xa.ColorHarmonyField({color:wa});Xa.connect(wa,"updateColor",sa,"color");return wa}):Xa.arr.zip(this.submorphs,Kb).forEach(function(wa){var Pa=$jscomp.makeIterator(wa);wa=Pa.next().value;Pa=Pa.next().value;wa.color=Pa})}}],[{key:"className",get:function(){return"HarmonyDisplay"}}],Md,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3068,end:3642})})(Xa.Morph);(function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Vb=Md.hasOwnProperty("PivotColorControl")&&"function"===typeof Md.PivotColorControl?Md.PivotColorControl:Md.PivotColorControl=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"update",value:function(sa){this.pivotColor=sa.pivotColor}},{key:"onDrag",value:function(sa){var Aa=$jscomp.makeIterator(this.pivotColor.toHSB()),Kb=Aa.next().value,P=Aa.next().value;Aa=Aa.next().value;Kb=Xa.num.toRadians(Kb);sa=Xa.Point.polar(50*P,Kb).addPt(sa.state.dragDelta);Kb=Xa.num.toDegrees(sa.theta());Kb=0>Kb?Kb+360:Kb;P=Math.min(sa.r()/50,1);this.pivotColor=Xa.Color.hsb(Kb,P,Aa)}}],[{key:"className",
get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:Xa.Color.blue},draggable:{defaultValue:!0}}}}],Md,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3644,end:4288})})(Xa.Ellipse);(function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
Vb=Md.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof Md.HarmonyVisualizer?Md.HarmonyVisualizer:Md.HarmonyVisualizer=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"update",value:function(sa){var Aa=$jscomp.makeIterator(this.submorphs).next().value,Kb=this.get("pivot control"),P=$jscomp.makeIterator(sa.pivotColor.toHSB()),wa=P.next().value,Pa=P.next().value;P=P.next().value;var Hb=Xa.num.toRadians(wa);
wa=sa.harmony.chord({hue:wa,saturation:Pa,brightness:P}).map(function(Nc){var Wc=$jscomp.makeIterator(Nc.toHSB()),le=Wc.next().value;Nc=Wc.next().value;Wc.next();Wc=Xa.num.toRadians(le);return Xa.Point.polar(50*Nc,Wc)});Aa.fill=Xa.Color.black.withA(1-P);Kb.update(sa);Aa.submorphs.length-1!=wa.length?Aa.submorphs=[].concat($jscomp.arrayFromIterable(wa.map(function(Nc){return new Xa.Ellipse({center:Nc,fill:Xa.Color.transparent,draggable:!1,borderWidth:1,borderColor:Xa.Color.black})})),[Kb]):(Xa.arr.zip(Aa.submorphs,
wa).forEach(function(Nc){var Wc=$jscomp.makeIterator(Nc);Nc=Wc.next().value;if(Wc=Wc.next().value)Nc.center=Wc}),Kb.center=Xa.Point.polar(50*Pa,Hb))}}],[{key:"className",get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new Xa.PivotColorControl({name:"pivot control"})]}]}}}}}],Md,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4290,end:5783})})(Xa.Image);(function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Vb=Md.hasOwnProperty("HarmonyPalette")&&"function"===typeof Md.HarmonyPalette?Md.HarmonyPalette:Md.HarmonyPalette=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"update",value:function(sa){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=sa.pivotBrightness,this.harmony=sa.harmony,this.get("harmonies").update(sa),this.get("harmony visualizer").update(sa),this.updateInProgress=!1)}},{key:"harmonyControl",value:function(){var sa,Aa,Kb=new Xa.Morph({name:"harmonyControl",submorphs:[new Xa.HarmonyVisualizer({name:"harmony visualizer"}),Aa=new Xa.Slider({min:0,
max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),sa=new Xa.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new Xa.Complementary,Triadic:new Xa.Triadic,Tetradic:new Xa.Tetradic,Quadratic:new Xa.Quadratic,Analogous:new Xa.Analogous,Neutral:new Xa.Neutral}})]});Xa.connect(Aa,"value",this,"pivotBrightness");Xa.connect(sa,"selectedValue",this,"harmony");return Kb}}],
[{key:"className",get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new Xa.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],initialize:function(){this.submorphs=[new Xa.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],Md,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5785,end:7880})})(Xa.Morph);var Rc=Da("C",function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Vb=Md.hasOwnProperty("ColorPalette")&&"function"===typeof Md.ColorPalette?Md.ColorPalette:Md.ColorPalette=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return Ja(Vb,ue,[{key:"fadeIntoWorld",value:function(sa){Ja._get(Object.getPrototypeOf(Vb.prototype),"fadeIntoWorld",this).call(this,sa);this.initPosition=sa;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function(sa){"Escape"==sa.key&&this.close()}},{key:"close",value:function(sa){sa?this.fadeOut(sa):this.remove();Xa.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",extent:Xa.pt(400,253),submorphs:[this.solidColorPalette(),new Xa.HarmonyPalette({name:"harmony palette",
isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var sa=this.get("solidColorPalette"),Aa=this.get("paletteView");sa.visible||(Aa.submorphs.forEach(function(Kb){return Kb.animate({isLayoutable:!1,visible:!1,duration:200})}),sa.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var sa=this.get("paletteView");this.get("harmony palette").visible||(sa.submorphs.forEach(function(Aa){return Aa.animate({isLayoutable:!1,visible:!1,
duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var sa=new Xa.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette","Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});Xa.connect(sa,"Color Palette",this,"selectSolidMode");Xa.connect(sa,"Color Harmonies",this,"selectHarmonyMode");return sa}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",
master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var sa=this.getColorsFor(this.colorPalette),Aa=sa.colors,Kb=sa.mod;return this.cachedPalette[sa.name]||this.getPalette(Aa,Kb)}},{key:"getPalette",value:function(sa,Aa){var Kb=this,P=Math.max(Math.ceil(sa.length/Aa),15),wa=P*this.colorFieldWidth,Pa=Aa*this.colorFieldWidth;sa=[].concat($jscomp.arrayFromIterable(sa),$jscomp.arrayFromIterable(Xa.arr.withN(P*
Aa-sa.length,null)));return{extent:Xa.pt(wa,Pa),name:"paletteContainer",submorphs:sa.map(function(Hb){Hb=new Xa.ColorPaletteField({color:Hb&&Xa.Color.rgbHex(Hb),extent:Xa.pt(Kb.colorFieldWidth,Kb.colorFieldWidth)});Xa.connect(Hb,"updateColor",Kb,"color");return Hb})}}},{key:"switchPalette",value:function(sa){var Aa=sa.name,Kb=sa.colors;sa=sa.mod;var P=this.get("solidColorPalette"),wa=$jscomp.makeIterator(P.submorphs);wa.next();wa=wa.next().value;this.cachedPalette[Aa]=this.cachedPalette[Aa]||this.getPalette(Kb,
sa,Aa);P.submorphs=[this.cachedPalette[Aa],wa]}},{key:"getPaletteDescription",value:function(sa){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",custom:"Your personal set of customly defined colors.",materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",
flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[sa]}},{key:"updatePaletteDescription",value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function(sa){return Object.assign({name:sa},
{flatDesign:{colors:Xa.flatDesignColors,mod:11},materialDesign:{colors:Xa.materialDesignColors,mod:15},webSafe:{colors:Xa.webSafeColors,mod:12}}[sa])}},{key:"paletteConfig",value:function(){var sa,Aa={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[sa=new Xa.DropDownSelector({isHaloItem:!0,name:"paletteSelector",selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};
Xa.connect(sa,"selectedValue",this,"colorPalette");return Aa}}],[{key:"className",get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:Xa.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function(sa){this.setProperty("colorPalette",sa);this.switchPalette(this.getColorsFor(sa));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function(sa){this.setProperty("pivotColor",sa);this.get("harmony palette").update(this)}},
color:{set:function(sa){this.setProperty("color",sa);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var sa=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());sa.next();sa.next();return sa.next().value},set:function(sa){var Aa=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),Kb=Aa.next().value;Aa=Aa.next().value;this.pivotColor=Xa.Color.hsb(Kb,Aa,sa)}},harmony:{after:["submorphs","pivotColor"],
defaultValue:new Xa.Complementary,set:function(sa){this.setProperty("harmony",sa);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var sa=$jscomp.makeIterator(this.color.toHSB()),Aa=sa.next().value,Kb=sa.next().value;sa.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=Xa.Color.hsb(Aa,
Kb,1);Xa.connect(this.get("harmony palette"),"harmony",this,"harmony");Xa.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");Xa.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],Md,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:7946,end:15967})}(Xa.Morph));Xa.ColorPalette=Rc;Xa.ColorPalette=Rc;Xa.ColorPalette=Rc;var pb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");pb.Morph=nd;pb.Icon=Ra;pb.ProportionalLayout=ub;pb.config=Mb;pb.Text=ic;pb.ShadowObject=Ob;pb.GridLayout=kb;pb.TilingLayout=id;pb.StyleSheet=rc;pb.morph=ib;pb.HorizontalLayout=bc;pb.VerticalLayout=Cb;pb.KeyHandler=Jb;pb.connect=ed;pb.signal=$b;pb.arr=zc;pb.promise=vc;pb.fun=sc;pb.string=Uc;pb.obj=Xc;pb.Color=
zb;pb.rect=Rb;pb.Rectangle=Q;pb.pt=Qc;pb.popovers=lc;pb.ModeSelector=Gc;pb.DropDownSelector=Lb;pb.SearchField=fa;pb.CheckBox=Ha;pb.Popover=rd;pb.SvgStyleHalo=Bd;pb.NumberWidget=ad;pb.Icons=Qa;pb.duration=200;var eb=Da("c",pb.colorWidgets||{});pb.colorWidgets=eb;pb.colorWidgets=eb;pb.colorWidgets=eb;(function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Vb=Md.hasOwnProperty("SelectableControl")&&"function"===typeof Md.SelectableControl?Md.SelectableControl:Md.SelectableControl=
function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"select",value:function(sa){var Aa=this,Kb,P,wa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Pa){if(1==Pa.nextAddress)return Aa.target?Pa.yield(Aa.target.execCommand(sa),2):Pa.return();Kb=Pa.yieldResult;P=Aa.get("modeSelector");Kb.opacity=0;Aa.lastLabel&&(wa=P.submorphs.indexOf(Aa.lastLabel)<P.submorphs.indexOf(P.currentLabel),Kb.topLeft=
P.bottomLeft.addXY(wa?20:-20,10));Aa.lastLabel=P.currentLabel;Aa.animate({submorphs:[P,Kb],duration:pb.duration});Kb.animate({opacity:1,duration:pb.duration});Pa.jumpToEnd()})}}],[{key:"className",get:function(){return"SelectableControl"}},{key:"properties",get:function(){return{target:{type:"Morph"},selectableControls:{},selectedControl:{},fill:{defaultValue:pb.Color.transparent},layout:{initialize:function(){this.layout=new pb.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function(sa){return this.container.submorphs.indexOf(sa)}})}},
submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var sa=new pb.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});this.submorphs=[sa];sa.width=100;pb.connect(sa,"switchLabel",this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],Md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:946,end:2555})})(pb.Morph);(function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Vb=Md.hasOwnProperty("ToggledControl")&&"function"===typeof Md.ToggledControl?Md.ToggledControl:Md.ToggledControl=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"toggle",value:function(sa){var Aa=$jscomp.makeIterator(this.submorphs).next().value,
Kb=this.toggledControl(sa);Aa=[Aa].concat($jscomp.arrayFromIterable(Kb?[Kb]:[]));pb.signal(this,"update",sa&&Kb.value);Kb&&(Kb.opacity=0);this.animate({submorphs:Aa,duration:pb.duration});Kb&&Kb.animate({opacity:1,duration:pb.duration})}}],[{key:"className",get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:pb.Color.transparent},layout:{initialize:function(){this.layout=
new pb.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var sa=new pb.CheckBox({checked:this.checked});this.submorphs=[{fill:pb.Color.transparent,layout:new pb.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:pb.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},sa]}];this.toggle(this.checked);pb.connect(sa,"toggle",this,"toggle")}}}}}],Md,{pathInPackage:function(){return"styling/style-popover.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2557,end:4228})})(pb.Morph);(function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Vb=Md.hasOwnProperty("StylePopover")&&"function"===typeof Md.StylePopover?Md.StylePopover:Md.StylePopover=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"setupConnections",value:function(){}},{key:"controls",value:function(){return[]}}],[{key:"className",get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=pb.morph({layout:new pb.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:pb.Color.transparent,submorphs:this.controls()});this.setupConnections()}}}}}],Md,{pathInPackage:function(){return"styling/style-popover.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4230,end:4772})})(pb.Popover);var hb=function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Vb=Md.hasOwnProperty("IconPopover")&&"function"===typeof Md.IconPopover?Md.IconPopover:Md.IconPopover=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"onDrop",value:function(sa){var Aa=this;sa.hand.grabbedMorphs.find(function(Kb){return Kb===Aa.iconLabel})&&(sa.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new pb.VerticalLayout({spacing:4}),fill:pb.Color.transparent,submorphs:[new pb.SearchField({name:"searchInput",width:200,placeHolder:"Search Icons"}),pb.morph({textAndAttributes:this.iconAsTextAttributes(),
name:"iconList",draggable:!0,type:"text",extent:pb.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var sa=this.ui,Aa=sa.iconList;pb.connect(sa.searchInput,"searchInput",this,"filterIcons");pb.connect(Aa,"onMouseUp",this,"iconSelectClick");pb.connect(Aa,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",value:function(sa){sa=this.ui.iconList.textPositionFromPoint(sa.positionIn(this.ui.iconList));
sa=this.iconAtTextPos(sa);this.iconLabel=pb.Icon.makeLabel(sa,{fontSize:this.ui.iconList.fontSize,name:sa});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",value:function(sa){var Aa=Object.keys(pb.Icons);sa&&(Aa=Aa.filter(sa));return pb.arr.flatmap(Aa,function(Kb,P){return[pb.Icons[Kb].code,{iconCode:pb.Icons[Kb].code,iconName:Kb}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",value:function(){var sa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){if(1==
Aa.nextAddress)return Aa.yield(pb.promise.delay(250),2);pb.fun.debounceNamed("filterIcons",200,function(){sa.ui.iconList.textAndAttributes=sa.iconAsTextAttributes(function(Kb){return sa.ui.searchInput.matches(Kb.toLowerCase())})})();Aa.jumpToEnd()})}},{key:"iconSelectClick",value:function(sa){sa=this.ui.iconList.textPositionFromPoint(sa.positionIn(this.ui.iconList));sa=this.iconAtTextPos(sa);this.setStatusMessage(sa);pb.signal(this,"select",sa)}},{key:"iconAtTextPos",value:function(sa){var Aa=sa.row;
sa=sa.column;--sa;for(var Kb=this.ui.iconList,P=Kb.textAndAttributesInRange({start:{row:Aa,column:Math.max(0,sa)},end:{row:Aa,column:sa+2}});P.length&&!P[1].iconName;)sa++,P=P.slice(2);var wa={start:{row:Aa,column:sa},end:{row:Aa,column:sa+1}};Kb.addTextAttribute({backgroundColor:Kb.selectionColor.darker().withA(.5)},wa);pb.promise.delay(1E3).then(function(){return Kb.addTextAttribute({backgroundColor:pb.Color.transparent},wa)});return P.length?P[1].iconName:null}}],[{key:"className",get:function(){return"IconPopover"}},
{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:pb.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),iconList:this.get("iconList")}}}}}}],Md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4781,
end:8324})}(pb.StylePopover);pb.IconPopover=hb;pb.IconPopover=hb;pb.IconPopover=hb;var ac=function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Vb=Md.hasOwnProperty("LayoutPopover")&&"function"===typeof Md.LayoutPopover?Md.LayoutPopover:Md.LayoutPopover=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"getLayoutObjects",value:function(){return[null,new pb.HorizontalLayout({autoResize:!1}),
new pb.VerticalLayout({autoResize:!1}),new pb.TilingLayout,new pb.ProportionalLayout,new pb.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){Ja._get(Object.getPrototypeOf(Vb.prototype),"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:pb.Color.transparent,layout:new pb.VerticalLayout({spacing:5,layoutOrder:function(sa){return this.container.submorphs.indexOf(sa)}}),submorphs:[this.layoutPicker(),
this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),duration:300}:{isLayoutable:!1,extent:pb.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function(sa){this.clearLayoutHalo();sa&&sa.layout&&(this.layoutHalo=(sa.world()||sa.env.world).showLayoutHaloFor(sa))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&
(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function(sa){return sa?sa.name()+" Layout":"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function(sa){this.container.animate({layout:sa});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());pb.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var sa=
this,Aa=this.getLayoutObjects().map(function(Kb){var P={};return P[sa.getLayoutName(Kb)]=Kb,P});Aa=this.get("Layout Type")||new pb.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return sa.getCurrentLayoutName()},selectedValue:this.container.layout,values:pb.obj.merge(Aa)});pb.connect(Aa,"selectedValue",this,"applyLayout");return Aa}},{key:"layoutControls",value:function(){return{name:"controlContainer",fill:pb.Color.transparent,layout:new pb.VerticalLayout,
isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:"className",get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:pb.Color.gray.lighter()}}}}],Md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:8333,end:11030})}(pb.StylePopover);pb.LayoutPopover=ac;pb.LayoutPopover=ac;pb.LayoutPopover=ac;var Wb=function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Vb=Md.hasOwnProperty("FillPopover")&&"function"===typeof Md.FillPopover?Md.FillPopover:Md.FillPopover=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"openHandle",value:function(sa){sa.openInWorld();
this.openHandles.push(sa)}},{key:"close",value:function(){Ja._get(Object.getPrototypeOf(Vb.prototype),"close",this).call(this);this.openHandles.forEach(function(sa){return sa.remove()})}},{key:"setupConnections",value:function(){var sa=this.ui,Aa=sa.fillSelector,Kb=sa.colorField;sa=sa.gradientEditor;Aa&&pb.connect(this,"fillValue",Aa,"value");sa&&(pb.connect(sa,"gradientValue",this,"fillValue"),pb.connect(sa,"openHandle",this,"openHandle"));Kb&&(pb.connect(this,"close",Kb,"remove"),pb.connect(Kb,
"update",this,"fillValue"),pb.connect(this,"onMouseDown",Kb,"removeWidgets"))}},{key:"commands",get:function(){var sa=this;return Ja._get(Object.getPrototypeOf(Vb.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var Aa=new pb.colorWidgets.ColorPickerField({name:"colorField",colorValue:sa.fillValue.isGradient?pb.Color.blue:sa.fillValue});Aa.whenRendered().then(function(){sa.setupConnections()});return Aa}},{name:"switch to gradient",exec:function(){var Aa=new pb.colorWidgets.GradientEditor({name:"gradient editor",
gradientValue:sa.fillValue});Aa.whenRendered().then(function(){sa.setupConnections();sa.handleMorph&&Aa.showGradientHandlesOn(sa.handleMorph);Aa.update()});return Aa}}])}},{key:"controls",value:function(){return this.gradientEnabled?[new pb.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]:[{fill:pb.Color.transparent,layout:new pb.VerticalLayout({spacing:0}),
submorphs:[new pb.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue})]}]}}],[{key:"className",get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},fillValue:{defaultValue:pb.Color.blue},popoverColor:{defaultValue:pb.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],
Md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:11039,end:13883})}(pb.StylePopover);pb.FillPopover=Wb;pb.FillPopover=Wb;pb.FillPopover=Wb;var Fd=Da("S",function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Vb=Md.hasOwnProperty("ShadowPopover")&&
"function"===typeof Md.ShadowPopover?Md.ShadowPopover:Md.ShadowPopover=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"controls",value:function(){var sa=this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",Aa=[{layout:new pb.VerticalLayout({resizeContainer:!0,spacing:5}),fill:pb.Color.transparent,name:"control container",submorphs:[sa=new pb.DropDownSelector({name:"shadow type",
borderRadius:2,padding:3,selectedValue:sa,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?this.shadowControls():[])}];pb.connect(sa,"selectedValue",this,"changeShadowType");return Aa}},{key:"shadowControls",value:function(){var sa=this.shadowValue,Aa=new pb.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:sa.distance,unit:"px"}),Kb=new pb.NumberWidget({name:"angleSlider",min:0,max:360,number:sa.rotation,autofit:!1}),P=new pb.NumberWidget({name:"spreadSlider",
min:0,number:sa.spread,autofit:!1}),wa=new pb.NumberWidget({name:"blurSlider",min:0,number:sa.blur,autofit:!1});sa=new pb.colorWidgets.ColorPickerField({name:"colorPicker",colorValue:sa.color});pb.connect(sa,"colorValue",this,"updateShadow",{converter:function(Pa){return{color:Pa}}});pb.connect(this,"onMouseDown",sa,"removeWidgets");pb.connect(this,"close",sa,"remove");pb.connect(P,"update",this,"updateShadow",{converter:function(Pa){return{spread:Pa}}});pb.connect(Aa,"update",this,"updateShadow",
{converter:function(Pa){return{distance:Pa}}});pb.connect(wa,"update",this,"updateShadow",{converter:function(Pa){return{blur:Pa}}});pb.connect(Kb,"update",this,"updateShadow",{converter:function(Pa){return{rotation:Pa}}});return new pb.Morph({layout:new pb.GridLayout({autoAssign:!1,fitToCell:!1,columns:[0,{paddingLeft:1}],rows:pb.arr.flatten(pb.arr.range(0,3).map(function(Pa){return[Pa,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",null,"distanceSlider"],["blurLabel",
null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:pb.Color.transparent,submorphs:pb.arr.flatten([["distance",Aa],["spread",P],["blur",wa],["angle",Kb],["color",sa]].map(function(Pa){var Hb=$jscomp.makeIterator(Pa);Pa=Hb.next().value;Hb=Hb.next().value;return[{type:"label",styleClasses:["controlName"],value:pb.string.capitalize(Pa)+":",name:Pa+"Label"},Hb]}))})}},{key:"changeShadowType",value:function(sa){"No Shadow"==sa?this.toggleShadow(!1):
"Inset Shadow"==sa?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?this.shadowControls():[]),duration:300})}},{key:"updateShadow",value:function(sa){var Aa=this.shadowValue;sa=Object.assign({fast:Aa.fast,color:Aa.color,spread:Aa.spread,blur:Aa.blur,distance:Aa.distance,rotation:Aa.rotation,inset:Aa.inset},sa);this.shadowValue=new pb.ShadowObject(sa)}},
{key:"toggleShadow",value:function(sa){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=sa&&this.cachedShadow}}],[{key:"className",get:function(){return"ShadowPopover"}},{key:"properties",get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new pb.ShadowObject({fast:!0})},popoverColor:{defaultValue:pb.Color.gray.lighter()}}}}],Md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:13892,end:18423})}(pb.StylePopover));pb.ShadowPopover=Fd;pb.ShadowPopover=Fd;pb.ShadowPopover=Fd;pb.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";var Be=function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Vb=Md.hasOwnProperty("PointPopover")&&"function"===typeof Md.PointPopover?Md.PointPopover:Md.PointPopover=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"refineResolution",value:function(sa){this.resolution=.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function(sa){this.pointValue=this.pointValue.addPt(sa.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){Ja._get(Object.getPrototypeOf(Vb.prototype),"relayout",this).call(this);var sa=this.getSubmorphNamed("mesh"),Aa=this.getSubmorphNamed("point value view");
sa.origin=sa.innerBounds().center().addXY(4,1);sa.position=this.get("body").innerBounds().center();sa.scale=this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";Aa.value=pb.obj.safeToString(this.pointValue);Aa.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function(sa){var Aa=this;Ja._get(Object.getPrototypeOf(Vb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,sa);
this.whenRendered().then(function(){return Aa.relayout()})}},{key:"calibrate",value:function(){var sa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){if(1==Aa.nextAddress)return sa.get("knob").animate({center:sa.innerBounds().center(),duration:200}),Aa.yield(sa.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);sa.relayout();Aa.jumpToEnd()})}},{key:"showPointValue",value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},
{key:"controls",value:function(){this.extent=pb.pt(200,200);var sa,Aa,Kb=[pb.morph({extent:pb.pt(200,200),clipMode:"hidden",fill:pb.Color.transparent,submorphs:[{type:"image",name:"mesh",fill:pb.Color.transparent,opacity:.5,imageUrl:pb.milimeter,autoResize:!0},{extent:pb.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:pb.Color.gray},fill:pb.Color.transparent},sa=pb.morph({name:"scroller",extent:pb.pt(200,200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),
Aa=pb.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:pb.Color.red,borderColor:pb.Color.black,borderWidth:1,center:pb.pt(100,100)}),{type:"label",name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:pb.pt(10,10),type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];sa.scroll=pb.pt(0,120);pb.connect(Aa,"onDragStart",this,"showPointValue");pb.connect(Aa,"onDrag",this,"adjustPoint");pb.connect(Aa,"onDragEnd",this,"calibrate");pb.connect(this,
"extent",this,"relayout");pb.connect(sa,"onScroll",this,"refineResolution");return Kb}}],[{key:"className",get:function(){return"PointPopover"}},{key:"properties",get:function(){return{pointValue:{defaultValue:pb.pt(0,0)},resolution:{defaultValue:1}}}}],Md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:18538,end:21666})}(pb.StylePopover);pb.PointPopover=Be;pb.PointPopover=Be;pb.PointPopover=Be;var Ie=function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Vb=Md.hasOwnProperty("RectanglePopover")&&"function"===typeof Md.RectanglePopover?Md.RectanglePopover:Md.RectanglePopover=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"controls",
value:function(){var sa=this;return[{fill:pb.Color.transparent,extent:pb.pt(120,120),layout:new pb.GridLayout({grid:[["top","top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],columns:[0,{paddingLeft:4},1,{paddingRight:4,fixed:!0,width:60}],rows:pb.arr.flatten(pb.arr.range(0,3).map(function(Aa){return[Aa,{paddingTop:0==Aa?4:2,paddingBottom:3==Aa?4:2}]}))}),submorphs:pb.arr.flatten(["top","right","bottom","left"].map(function(Aa){var Kb=new pb.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},
name:Aa+" scrubber",autofit:!1,number:sa.rectangle.partNamed(Aa)});pb.connect(Kb,"update",sa,"rectangle",{updater:function(P,wa){var Pa={},Hb=this.targetObj.rectangle;wa=(Pa.left=Hb.left(),Pa.top=Hb.top(),Pa.right=Hb.right(),Pa.bottom=Hb.bottom(),Pa[Aa]=wa,Pa);P(pb.Rectangle.inset(wa.left,wa.top,wa.right,wa.bottom))},varMapping:{side:Aa,Rectangle:Q}});return[{type:"label",styleClasses:["controlName"],name:Aa,value:Aa,padding:3},Kb]}))}]}}],[{key:"className",get:function(){return"RectanglePopover"}},
{key:"properties",get:function(){return{popoverColor:{defaultValue:pb.Color.gray.lighter()},rectangle:{defaultValue:pb.rect(0)}}}}],Md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:21675,end:23653})}(pb.StylePopover);pb.RectanglePopover=Ie;pb.RectanglePopover=Ie;pb.RectanglePopover=
Ie;var Lf=function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Vb=Md.hasOwnProperty("TextPopover")&&"function"===typeof Md.TextPopover?Md.TextPopover:Md.TextPopover=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"controls",value:function(){var sa=new pb.Text(Object.assign({name:"editor",extent:pb.pt(300,200),textString:this.text,lineWrapping:"by-chars"},
pb.config.codeEditor.defaultStyle));return[{layout:new pb.HorizontalLayout,fill:pb.Color.transparent,borderColor:pb.Color.gray,borderWidth:1,borderRadius:4,clipMode:"hidden",submorphs:[sa]}]}},{key:"commands",get:function(){return Ja._get(Object.getPrototypeOf(Vb.prototype),"commands",this).concat([{name:"save string",exec:function(sa){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){sa.text=sa.get("editor").textString;pb.signal(sa,"save",sa.text);sa.setStatusMessage("String saved!",
pb.Color.green);Aa.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return Ja._get(Object.getPrototypeOf(Vb.prototype),"keybindings",this).concat([{keys:{mac:"Command-S",win:"Ctrl-S"},command:"save string"}])}}],[{key:"className",get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],Md,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:23662,end:24776})}(pb.StylePopover);pb.TextPopover=Lf;pb.TextPopover=Lf;pb.TextPopover=Lf;Object.assign(pb.popovers,{FillPopover:Wb,IconPopover:hb,RectanglePopover:Ie,ShadowPopover:Fd,PointPopover:Be,LayoutPopover:ac});var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");fd.Morph=nd;fd.morph=ib;fd.StyleSheet=rc;fd.Text=ic;fd.Icon=Ra;fd.VerticalLayout=Cb;fd.GridLayout=kb;fd.HorizontalLayout=bc;fd.pt=Qc;
fd.Rectangle=Q;fd.Color=zb;fd.LinearGradient=fc;fd.rect=Rb;fd.signal=$b;fd.once=Nb;fd.connect=ed;fd.obj=Xc;fd.Window=ab;fd.ColorPalette=Rc;fd.FillPopover=Wb;fd.colorWidgets=eb;fd.Slider=$c;fd.Popover=rd;fd.WHEEL_URL="/lively.ide/assets/color-wheel.png";Rc=function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Vb=Md.hasOwnProperty("ColorPickerField")&&"function"===typeof Md.ColorPickerField?Md.ColorPickerField:Md.ColorPickerField=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"testAttr",get:function(){return[42]}},{key:"spec",value:function(){return fd.obj.dissoc(Ja._get(Object.getPrototypeOf(Vb.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function(sa){"Escape"==sa.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,
duration:300})}},{key:"onHoverOut",value:function(){this.get("dropDownIndicator").animate({opacity:0,duration:300})}},{key:"update",value:function(sa){this._updating=!0;var Aa=this.submorphs[1];this.colorValue=sa;this.get("topLeft").fill=sa;this.get("bottomRight").fill=sa.isGradient?fd.Color.transparent:sa.withA(1);Aa.visible=Aa.isLayoutable=!this.gradientEnabled;this.gradientEnabled?this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=
this.get("topLeft").width=this.width-Aa.width;this.get("bottomRight").left=0;this.get("dropDownIndicator").right=this.get("paletteButton").width-5;this._updating=!1}},{key:"openPicker",value:function(sa){var Aa=this,Kb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(P){Kb=Aa.picker||new fd.ColorPicker({color:Aa.colorValue});Kb.position=fd.pt(0,-Kb.height/2);fd.connect(Kb,"color",Aa,"update");Aa.picker=Kb.openInWorld();Aa.picker.topLeft=Aa.globalBounds().bottomCenter();Aa.picker.topLeft=
Aa.world().visibleBounds().translateForInclusion(Aa.picker.globalBounds()).topLeft();Aa.removePalette();P.jumpToEnd()})}},{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function(sa){var Aa=this,Kb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(P){if(1==P.nextAddress)return Kb=Aa.gradientEnabled?Aa.fillWidget:Aa.palette,Aa.gradientEnabled?fd.connect(Kb,"fillValue",Aa,"update"):fd.connect(Kb.targetMorph,"color",Aa,"update"),Kb.isLayoutable=
!1,P.yield(Kb.openInWorld(),2);Kb.topCenter=Aa.get("paletteButton").globalBounds().center();Kb.topCenter=Aa.world().visibleBounds().translateForInclusion(Kb.globalBounds()).topCenter();Aa.removePicker();fd.once(Kb,"remove",Kb,"topLeft",{converter:function(){return fd.pt(0,0)},varMapping:{pt:Qc}});P.jumpToEnd()})}},{key:"removePalette",value:function(){this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove()}},{key:"removeWidgets",value:function(){this.removePalette();this.removePicker()}}],
[{key:"className",get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,after:["colorValue"],set:function(sa){this.setProperty("gradientEnabled",sa);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new fd.FillPopover({fillValue:this.colorValue})}},testProp:{get:function(){return[42]}},palette:{serialize:!1,get:function(){return this._palette||(this._palette=new fd.Popover({position:fd.pt(0,0),
name:"Color Palette",targetMorph:new fd.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function(sa){sa&&(sa.isColor||sa.isGradient)||(sa=fd.Color.blue);if(!this._updating)return this.update(sa);this.setProperty("colorValue",sa)},get:function(){return this.getProperty("colorValue")||fd.Color.white}},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color field"}}},submorphs:{initialize:function(){this.innerBounds().topRight();this.innerBounds().bottomLeft();
var sa=fd.pt(40,25);this.submorphs=[{extent:sa,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:sa},{name:"bottomRight",type:"polygon",extent:sa,origin:fd.pt(0,0),vertices:[fd.pt(0,0),sa.withX(0),sa]},fd.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:fd.pt(30,12.5)})]},{fill:fd.Color.transparent,extent:fd.pt(25,25),onHoverIn:function(){this.fill=fd.Color.black.withA(.2)},onHoverOut:function(){this.fill=fd.Color.transparent},submorphs:[{name:"pickerButton",
type:"image",autoResize:!1,imageUrl:fd.WHEEL_URL}]}];fd.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",this,"openPicker");fd.connect(this.getSubmorphNamed("paletteButton"),"onMouseDown",this,"openPalette");fd.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],Md,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:627,end:6335})}(fd.Morph);fd.ColorPickerField=Rc;fd.ColorPickerField=Rc;fd.ColorPickerField=Rc;fd.colorWidgets.ColorPickerField=fd.ColorPickerField;(function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Vb=Md.hasOwnProperty("FieldPicker")&&"function"===typeof Md.FieldPicker?Md.FieldPicker:Md.FieldPicker=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Ja(Vb,ue,[{key:"update",value:function(sa){this.getSubmorphNamed("hue").fill=fd.Color.hsb(sa.hue,1,1);this.brightness=sa.brightness;this.saturation=sa.saturation;this.get("picker").center=this.pickerPosition}},{key:"onMouseDown",value:function(sa){this.pickerPosition=sa.positionIn(this);fd.signal(this,"pickerPosition",this.pickerPosition)}},{key:"onDrag",value:function(sa){this.pickerPosition=sa.positionIn(this)}},{key:"relayout",value:function(){var sa=this.innerBounds();this.getSubmorphNamed("hue").setBounds(sa);
this.getSubmorphNamed("shade").setBounds(sa);this.getSubmorphNamed("light").setBounds(sa)}}],[{key:"className",get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:fd.Color.transparent},saturation:{defaultValue:0},brightness:{defaultValue:0},draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var sa=this.saturation,Aa=this.brightness;return void 0===sa||void 0===Aa?fd.pt(0,0):fd.pt(this.getSubmorphNamed("hue").width*
sa,this.getSubmorphNamed("hue").height*(1-Aa))},set:function(sa){var Aa=sa.x;sa=sa.y;var Kb=this.getSubmorphNamed("hue"),P=Kb.height;this.saturation=Math.max(0,Math.min(Aa/Kb.width,1));this.brightness=Math.max(0,Math.min(1-sa/P,1));fd.signal(this,"saturation",this.saturation);fd.signal(this,"brightness",this.brightness)}},submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new fd.LinearGradient({stops:[{color:fd.Color.white,
offset:0},{color:fd.Color.transparent,offset:1}],vector:"eastwest"})},{borderRadius:3,name:"light",reactsToPointer:!1,fill:new fd.LinearGradient({stops:[{color:fd.Color.black,offset:0},{color:fd.Color.transparent,offset:1}],vector:"southnorth"})},{name:"picker",type:"ellipse",reactsToPointer:!1,fill:fd.Color.transparent,borderColor:fd.Color.black,borderWidth:3,extent:fd.pt(16,16),submorphs:[{type:"ellipse",fill:fd.Color.transparent,borderColor:fd.Color.white,reactsToPointer:!1,borderWidth:3,center:fd.pt(8,
8),extent:fd.pt(12,12)}]}];fd.connect(this,"extent",this,"relayout")}}}}}],Md,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:6388,end:9719})})(fd.Morph);(function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Vb=Md.hasOwnProperty("ColorPropertyView")&&
"function"===typeof Md.ColorPropertyView?Md.ColorPropertyView:Md.ColorPropertyView=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=["key"].concat($jscomp.arrayFromIterable(this.readOnly?[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},
{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=[!this.readOnly&&"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function(sa){"Enter"!=sa.keyCombo||this.readOnly?Ja._get(Object.getPrototypeOf(Vb.prototype),"onKeyDown",this).call(this,sa):(this.owner.focus(),sa.stop(),fd.signal(this,"updateValue",this.value))}}],[{key:"className",get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},
value:{derived:[!0],set:function(sa){this.textString=fd.obj.safeToString(sa)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:fd.Color.gray.darker()}}}}],Md,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:9721,end:10903})})(fd.Text);(function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Vb=Md.hasOwnProperty("HuePicker")&&"function"===typeof Md.HuePicker?Md.HuePicker:Md.HuePicker=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"onMouseDown",value:function(sa){this.sliderPosition=fd.pt(0,sa.positionIn(this).y)}},{key:"onDrag",value:function(sa){this.sliderPosition=
fd.pt(0,sa.positionIn(this).y)}},{key:"update",value:function(sa){this.hue=sa.hue;this.get("slider").center=this.sliderPosition}}],[{key:"className",get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new fd.LinearGradient({stops:[{color:fd.Color.rgb(255,0,0),offset:0},{color:fd.Color.rgb(255,255,0),offset:.17},{color:fd.Color.limeGreen,offset:.33},{color:fd.Color.cyan,offset:.5},{color:fd.Color.blue,offset:.66},{color:fd.Color.magenta,offset:.83},{color:fd.Color.rgb(255,
0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return fd.pt(this.width/2,this.hue/360*this.height)},set:function(sa){this.hue=Math.max(0,Math.min(sa.y/this.height*360,359));fd.signal(this,"hue",this.hue)}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:fd.Color.black,fill:fd.Color.transparent,
borderWidth:2}]}}}}}],Md,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:10905,end:12586})})(fd.Morph);(function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Vb=Md.hasOwnProperty("ColorDetails")&&"function"===typeof Md.ColorDetails?Md.ColorDetails:
Md.ColorDetails=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"update",value:function(sa){sa=sa.color;var Aa=$jscomp.makeIterator(sa.toTuple8Bit()),Kb=Aa.next().value,P=Aa.next().value;Aa=Aa.next().value;var wa=$jscomp.makeIterator(sa.toHSB()),Pa=wa.next().value,Hb=wa.next().value;wa=wa.next().value;var Nc=this.get("hashViewer");this.get("colorViewer").fill=sa;Nc.replace(Nc.documentRange,sa.toHexString(),
!1,!1);this.get("R").value="R "+Kb.toFixed(0)+"\n\nG "+P.toFixed(0)+"\n\nB "+Aa.toFixed(0)+"\n\nH "+Pa.toFixed(0)+"\n\nS "+Hb.toFixed(2)+"\n\nV "+wa.toFixed(2)}},{key:"onHashViewerChanged",value:function(sa){sa=fd.Color.rgbHex(sa);this.owner.owner.color=sa}},{key:"keyValue",value:function(sa){var Aa=sa.name,Kb=sa.key,P=sa.value,wa=sa.update;sa=sa.editable;return new fd.Morph({fill:fd.Color.transparent,layout:new fd.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",styleClasses:[sa&&
"large","key"],value:Kb},new fd.ColorPropertyView({name:Aa||Kb,readOnly:!sa,value:P,update:wa})]})}},{key:"hashViewer",value:function(){var sa=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});fd.connect(sa.get("hashViewer"),"updateValue",this,"onHashViewerChanged");return sa}},{key:"rgbViewer",value:function(){var sa=$jscomp.makeIterator(this.color.toTuple8Bit()),Aa=sa.next().value,Kb=sa.next().value;sa=sa.next().value;return new fd.Morph({name:"rgbViewer",fill:fd.Color.transparent,
submorphs:[this.keyValue({key:"R",value:Aa.toFixed()}),this.keyValue({key:"G",value:Kb.toFixed()}),this.keyValue({key:"B",value:sa.toFixed()})]})}},{key:"hsbViewer",value:function(){var sa=$jscomp.makeIterator(this.color.toHSB()),Aa=sa.next().value,Kb=sa.next().value;sa=sa.next().value;return new fd.Morph({name:"hsbViewer",fill:fd.Color.transparent,submorphs:[this.keyValue({key:"H",value:Aa.toFixed()}),this.keyValue({key:"S",value:Kb.toFixed(2)}),this.keyValue({key:"V",value:sa.toFixed(2)})]})}}],
[{key:"className",get:function(){return"ColorDetails"}},{key:"properties",get:function(){return{color:{defaultValue:fd.Color.blue},width:{defaultValue:80},fill:{defaultValue:fd.Color.transparent},layout:{initialize:function(){this.layout=new fd.VerticalLayout({spacing:9,layoutOrder:function(sa){return this.container.submorphs.indexOf(sa)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:fd.pt(50,50),name:"colorViewer",fill:this.color},this.hashViewer(),{type:"label",
name:"R",autofit:!0,padding:fd.rect(10,0,0,0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],Md,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12588,end:15311})})(fd.Morph);Rc=Da("a",function(ue){var Md=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),
Vb=Md.hasOwnProperty("ColorPicker")&&"function"===typeof Md.ColorPicker?Md.ColorPicker:Md.ColorPicker=function(sa){sa&&sa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ja(Vb,ue,[{key:"onKeyDown",value:function(sa){"Escape"==sa.key&&this.close()}},{key:"close",value:function(){Ja._get(Object.getPrototypeOf(Vb.prototype),"close",this).call(this);fd.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&
(this.get("header").fill=fd.Color.transparent,this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),fd.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var sa=this.colorDetails(),Aa=this.fieldPicker(),Kb=this.huePicker(),P=this.alphaSlider();sa=new fd.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[Aa,Kb,sa,P]});fd.connect(Aa,
"brightness",this,"brightness");fd.connect(Aa,"saturation",this,"saturation");fd.connect(Kb,"hue",this,"hue");return sa}},{key:"alphaSlider",value:function(){var sa,Aa=fd.morph({name:"alphaSlider",fill:fd.Color.transparent,layout:new fd.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:fd.Rectangle.inset(3),value:"Alpha",fontColor:fd.Color.gray,fontWeight:"bold"},sa=new fd.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});fd.connect(sa,"value",this,"alpha");return Aa}},
{key:"fieldPicker",value:function(){return new fd.FieldPicker({name:"field picker",saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new fd.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new fd.ColorDetails({name:"details",color:this.color})}}],[{key:"className",get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:fd.pt(400,320)},fill:{defaultValue:fd.Color.black.withA(.7)},
isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},hasFixedPosition:{defaultValue:!0},color:{defaultValue:fd.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return fd.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function(sa){var Aa=$jscomp.makeIterator(sa.toHSB()),Kb=Aa.next().value,P=Aa.next().value;Aa=Aa.next().value;this.hue=Kb;this.saturation=P;this.brightness=Aa;this.alpha=sa.a}},alpha:{set:function(sa){this.setProperty("alpha",sa);
this.update()}},saturation:{},brightness:{set:function(sa){this.setProperty("brightness",sa);this.update()}},hue:{set:function(sa){this.setProperty("hue",sa);this.update()}},targetMorph:{initialize:function(){var sa=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=fd.Color.gray;this.ui.header.fill=fd.Color.transparent;this.whenRendered().then(function(){sa.fill=fd.Color.black.withA(.7);sa.update()})}}}}}],Md,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15320,end:19178})}(fd.Window));fd.ColorPicker=Rc;fd.ColorPicker=Rc;fd.ColorPicker=Rc}}});
System.register(["./__root_module__-37c88ebd.js","kld-intersections","./object-classes-c991d4d3.js"],function(Wa,Ib){var Sb,xc,ac,Cd,nd,Ud,bd,Ic,pd,yd,Ne,Pe,Ie,fd,me,Yb,Yc,Nd,gd,ae,Fe,Wb,Cc,Td,Ec,Vd,Lb,ub,uc;return{setters:[function(dc){Sb=dc.a;xc=dc.f;ac=dc.b;Cd=dc.c;nd=dc.r;Ud=dc.p;bd=dc.R;Ic=dc.C;pd=dc.d;yd=dc.o;Ne=dc.g;Pe=dc.m;Ie=dc.e;fd=dc.t;me=dc.I;Yb=dc.h;Yc=dc.M;Nd=dc.j;gd=dc.l;ae=dc.k;Fe=dc.U;Wb=dc.q;Cc=dc.u;Td=dc.v;Ec=dc.w;Vd=dc.i},function(){},function(dc){Lb=dc.default;ub=dc.interactivelyForkPackage;
uc=dc.addScript}],execute:function(){var dc=window.gapi=window.gapi||{};dc._bs=(new Date).getTime();(function(){function Mc(sa){if(Error.captureStackTrace)Error.captureStackTrace(this,Mc);else{var Oa=Error().stack;Oa&&(this.stack=Oa)}sa&&(this.message=String(sa))}function $a(sa){var Oa=sa.length;if(0<Oa){for(var qb=Array(Oa),Qb=0;Qb<Oa;Qb++)qb[Qb]=sa[Qb];return qb}return[]}function $b(sa,Oa){for(var qb in sa)Oa.call(void 0,sa[qb],qb,sa)}function Eb(sa,Oa){for(var qb,Qb,sc=1;sc<arguments.length;sc++){Qb=
arguments[sc];for(qb in Qb)sa[qb]=Qb[qb];for(var Oc=0;Oc<Ta.length;Oc++)qb=Ta[Oc],Object.prototype.hasOwnProperty.call(Qb,qb)&&(sa[qb]=Qb[qb])}}function kc(sa){if(0!==sa.indexOf("GCSC"))return null;var Oa={W:!1};sa=sa.substr(4);if(!sa)return Oa;var qb=sa.charAt(0);sa=sa.substr(1);var Qb=sa.lastIndexOf("_");if(-1==Qb)return Oa;var sc=Zw(sa.substr(Qb+1));if(null==sc)return Oa;sa=sa.substring(0,Qb);if("_"!==sa.charAt(0))return Oa;Qb="E"===qb&&sc.j;return!Qb&&("U"!==qb||sc.j)||Qb&&!Yw?Oa:{W:!0,j:Qb,ka:sa.substr(1),
domain:sc.domain,l:sc.l}}var tc=function(sa){var Oa=0;return function(){return Oa<sa.length?{done:!1,value:sa[Oa++]}:{done:!0}}},Sc="function"==typeof Object.defineProperties?Object.defineProperty:function(sa,Oa,qb){if(sa==Array.prototype||sa==Object.prototype)return sa;sa[Oa]=qb.value;return sa},Pd=function(sa){sa=["object"==typeof globalThis&&globalThis,sa,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var Oa=0;Oa<sa.length;++Oa){var qb=sa[Oa];if(qb&&
qb.Math==Math)return qb}throw Error("Cannot find global object");}(this),ec=function(sa,Oa){if(Oa)a:{var qb=Pd;sa=sa.split(".");for(var Qb=0;Qb<sa.length-1;Qb++){var sc=sa[Qb];if(!(sc in qb))break a;qb=qb[sc]}sa=sa[sa.length-1];Qb=qb[sa];Oa=Oa(Qb);Oa!=Qb&&null!=Oa&&Sc(qb,sa,{configurable:!0,writable:!0,value:Oa})}};ec("Symbol",function(sa){if(sa)return sa;var Oa=function(Oc,fe){this.ba=Oc;Sc(this,"description",{configurable:!0,writable:!0,value:fe})};Oa.prototype.toString=function(){return this.ba};
var qb="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",Qb=0,sc=function(Oc){if(this instanceof sc)throw new TypeError("Symbol is not a constructor");return new Oa(qb+(Oc||"")+"_"+Qb++,Oc)};return sc});ec("Symbol.iterator",function(sa){if(sa)return sa;sa=Symbol("Symbol.iterator");for(var Oa="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),qb=0;qb<Oa.length;qb++){var Qb=Pd[Oa[qb]];"function"===typeof Qb&&"function"!=typeof Qb.prototype[sa]&&
Sc(Qb.prototype,sa,{configurable:!0,writable:!0,value:function(){return Xb(tc(this))}})}return sa});var Xb=function(sa){sa={next:sa};sa[Symbol.iterator]=function(){return this};return sa},Jb=function(sa,Oa){sa instanceof String&&(sa+="");var qb=0,Qb=!1,sc={next:function(){if(!Qb&&qb<sa.length){var Oc=qb++;return{value:Oa(Oc,sa[Oc]),done:!1}}Qb=!0;return{done:!0,value:void 0}}};sc[Symbol.iterator]=function(){return sc};return sc};ec("Array.prototype.keys",function(sa){return sa?sa:function(){return Jb(this,
function(Oa){return Oa})}});var Ra=this||self,Ga=function(sa){var Oa=typeof sa;return"object"!=Oa?Oa:sa?Array.isArray(sa)?"array":Oa:"null"},ea=function(sa){var Oa=Ga(sa);return"array"==Oa||"object"==Oa&&"number"==typeof sa.length},Da=function(sa){var Oa=typeof sa;return"object"==Oa&&null!=sa||"function"==Oa},ta="closure_uid_"+(1E9*Math.random()>>>0),Pa=0,Ha=function(sa,Oa,qb){return sa.call.apply(sa.bind,arguments)},tb=function(sa,Oa,qb){if(!sa)throw Error();if(2<arguments.length){var Qb=Array.prototype.slice.call(arguments,
2);return function(){var sc=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(sc,Qb);return sa.apply(Oa,sc)}}return function(){return sa.apply(Oa,arguments)}},Ac=function(sa,Oa,qb){Ac=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ha:tb;return Ac.apply(null,arguments)},wb=function(sa,Oa){function qb(){}qb.prototype=Oa.prototype;sa.na=Oa.prototype;sa.prototype=new qb;sa.prototype.constructor=sa;sa.A=function(Qb,sc,Oc){for(var fe=Array(arguments.length-
2),tf=2;tf<arguments.length;tf++)fe[tf-2]=arguments[tf];return Oa.prototype[sc].apply(Qb,fe)}},ud=function(sa){return sa},Tb=function(sa){var Oa=null,qb=Ra.trustedTypes;if(!qb||!qb.createPolicy)return Oa;try{Oa=qb.createPolicy(sa,{createHTML:ud,createScript:ud,createScriptURL:ud})}catch(Qb){Ra.console&&Ra.console.error(Qb.message)}return Oa};wb(Mc,Error);Mc.prototype.name="CustomError";var te,cd=function(sa,Oa){sa=sa.split("%s");for(var qb="",Qb=sa.length-1,sc=0;sc<Qb;sc++)qb+=sa[sc]+(sc<Oa.length?
Oa[sc]:"%s");Mc.call(this,qb+sa[Qb])};wb(cd,Mc);cd.prototype.name="AssertionError";var Lc=function(sa,Oa,qb,Qb){var sc="Assertion failed";if(qb){sc+=": "+qb;var Oc=Qb}else sa&&(sc+=": "+sa,Oc=Oa);throw new cd(""+sc,Oc||[]);},Hb=function(sa,Oa,qb){sa||Lc("",null,Oa,Array.prototype.slice.call(arguments,2));return sa},Be=function(sa,Oa){throw new cd("Failure"+(sa?": "+sa:""),Array.prototype.slice.call(arguments,1));},Ob=function(sa,Oa,qb){"string"!==typeof sa&&Lc("Expected string but got %s: %s.",[Ga(sa),
sa],Oa,Array.prototype.slice.call(arguments,2))},Gb=Array.prototype.forEach?function(sa,Oa){Hb(null!=sa.length);Array.prototype.forEach.call(sa,Oa,void 0)}:function(sa,Oa){for(var qb=sa.length,Qb="string"===typeof sa?sa.split(""):sa,sc=0;sc<qb;sc++)sc in Qb&&Oa.call(void 0,Qb[sc],sc,sa)},Ta="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Y,Ma=function(sa,Oa){this.R=sa===oc&&Oa||"";this.ca=Nb};Ma.prototype.D=!0;Ma.prototype.C=function(){return this.R};
Ma.prototype.toString=function(){return"Const{"+this.R+"}"};var gb=function(sa){if(sa instanceof Ma&&sa.constructor===Ma&&sa.ca===Nb)return sa.R;Be("expected object of type Const, got '"+sa+"'");return"type_error:Const"},Nb={},oc={},Wc=/&/g,Gc=/</g,Zd=/>/g,je=/"/g,Bf=/'/g,lf=/\x00/g,bf=/[\x00&<>"']/,z=function(sa,Oa){return-1!=sa.indexOf(Oa)},pf=function(sa,Oa){this.O=Oa===Rf?sa:""};pf.prototype.D=!0;pf.prototype.C=function(){return this.O.toString()};pf.prototype.toString=function(){return this.O.toString()};
var nf=function(sa){if(sa instanceof pf&&sa.constructor===pf)return sa.O;Be("expected object of type SafeUrl, got '"+sa+"' of type "+Ga(sa));return"type_error:SafeUrl"},De=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Cf=function(sa){if(sa instanceof pf)return sa;sa="object"==typeof sa&&sa.D?sa.C():String(sa);Hb(De.test(sa),"%s does not match the safe URL pattern",sa)||(sa="about:invalid#zClosurez");return new pf(sa,Rf)},Rf={};a:{var Vf=Ra.navigator;if(Vf){var dg=Vf.userAgent;if(dg){var eg=dg;
break a}}eg=""}var $c=function(sa,Oa,qb){this.N=qb===og?sa:""};$c.prototype.D=!0;$c.prototype.C=function(){return this.N.toString()};$c.prototype.toString=function(){return this.N.toString()};var Oe=function(sa){if(sa instanceof $c&&sa.constructor===$c)return sa.N;Be("expected object of type SafeHtml, got '"+sa+"' of type "+Ga(sa));return"type_error:SafeHtml"},og={},ph=new $c(Ra.trustedTypes&&Ra.trustedTypes.emptyHTML||"",0,og),id=function(sa,Oa){a:{try{var qb=sa&&sa.ownerDocument,Qb=qb&&(qb.defaultView||
qb.parentWindow);Qb=Qb||Ra;if(Qb.Element&&Qb.Location){qb=Qb;break a}}catch(Oc){}qb=null}if(qb&&"undefined"!=typeof qb[Oa]&&(!sa||!(sa instanceof qb[Oa])&&(sa instanceof qb.Location||sa instanceof qb.Element))){if(Da(sa))try{var sc=sa.constructor.displayName||sa.constructor.name||Object.prototype.toString.call(sa)}catch(Oc){sc="<object could not be stringified>"}else sc=void 0===sa?"undefined":null===sa?"null":typeof sa;Be("Argument is not a %s (or a non-Element, non-Location mock); got: %s",Oa,sc)}return sa},
cb={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Va=function(sa){var Oa=!1,qb;return function(){Oa||(qb=sa(),Oa=!0);return qb}}(function(){if("undefined"===typeof document)return!1;var sa=document.createElement("div"),Oa=document.createElement("div");Oa.appendChild(document.createElement("div"));sa.appendChild(Oa);if(!sa.firstChild)return!1;Oa=sa.firstChild.firstChild;sa.innerHTML=Oe(ph);return!Oa.parentElement}),cc=function(sa){bf.test(sa)&&(-1!=sa.indexOf("&")&&(sa=sa.replace(Wc,"&amp;")),-1!=
sa.indexOf("<")&&(sa=sa.replace(Gc,"&lt;")),-1!=sa.indexOf(">")&&(sa=sa.replace(Zd,"&gt;")),-1!=sa.indexOf('"')&&(sa=sa.replace(je,"&quot;")),-1!=sa.indexOf("'")&&(sa=sa.replace(Bf,"&#39;")),-1!=sa.indexOf("\x00")&&(sa=sa.replace(lf,"&#0;")));return sa},Ba=z(eg,"Opera"),Ja=z(eg,"Trident")||z(eg,"MSIE"),Sa=z(eg,"Edge"),ba=z(eg,"Gecko")&&!(z(eg.toLowerCase(),"webkit")&&!z(eg,"Edge"))&&!(z(eg,"Trident")||z(eg,"MSIE"))&&!z(eg,"Edge"),Fb=z(eg.toLowerCase(),"webkit")&&!z(eg,"Edge"),va=function(){var sa=
Ra.document;return sa?sa.documentMode:void 0};a:{var Ua="",mb=function(){var sa=eg;if(ba)return/rv:([^\);]+)(\)|;)/.exec(sa);if(Sa)return/Edge\/([\d\.]+)/.exec(sa);if(Ja)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(sa);if(Fb)return/WebKit\/(\S+)/.exec(sa);if(Ba)return/(?:Version)[ \/]?(\S+)/.exec(sa)}();mb&&(Ua=mb?mb[1]:"");if(Ja){var Ub=va();if(null!=Ub&&Ub>parseFloat(Ua)){var yc=String(Ub);break a}}yc=Ua}var Pc=yc;if(Ra.document&&Ja){var Zc=va();var Qc=Zc?Zc:parseInt(Pc,10)||void 0}else Qc=void 0;
var Ld=Qc,we;(we=!Ja)||(we=9<=Number(Ld));var af=we,de=function(sa,Oa){$b(Oa,function(qb,Qb){qb&&"object"==typeof qb&&qb.D&&(qb=qb.C());"style"==Qb?sa.style.cssText=qb:"class"==Qb?sa.className=qb:"for"==Qb?sa.htmlFor=qb:kf.hasOwnProperty(Qb)?sa.setAttribute(kf[Qb],qb):0==Qb.lastIndexOf("aria-",0)||0==Qb.lastIndexOf("data-",0)?sa.setAttribute(Qb,qb):sa[Qb]=qb})},kf={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",
nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Qe=function(sa,Oa,qb,Qb){function sc(tf){tf&&Oa.appendChild("string"===typeof tf?sa.createTextNode(tf):tf)}for(;Qb<qb.length;Qb++){var Oc=qb[Qb];if(!ea(Oc)||Da(Oc)&&0<Oc.nodeType)sc(Oc);else{a:{if(Oc&&"number"==typeof Oc.length){if(Da(Oc)){var fe="function"==typeof Oc.item||"string"==typeof Oc.item;break a}if("function"===typeof Oc){fe="function"==typeof Oc.item;break a}}fe=!1}Gb(fe?$a(Oc):Oc,sc)}}},
Ke=function(sa,Oa){Oa=String(Oa);"application/xhtml+xml"===sa.contentType&&(Oa=Oa.toLowerCase());return sa.createElement(Oa)},Pf=function(sa){Hb(sa,"Node cannot be null or undefined.");return 9==sa.nodeType?sa:sa.ownerDocument||sa.document},xg=function(sa){this.B=sa||Ra.document||document};var Eg=xg.prototype;Eg.getElementsByTagName=function(sa,Oa){return(Oa||this.B).getElementsByTagName(String(sa))};Eg.fa=function(sa,Oa,qb){var Qb=this.B,sc=arguments,Oc=String(sc[0]),fe=sc[1];if(!af&&fe&&(fe.name||
fe.type)){Oc=["<",Oc];fe.name&&Oc.push(' name="',cc(fe.name),'"');if(fe.type){Oc.push(' type="',cc(fe.type),'"');var tf={};Eb(tf,fe);delete tf.type;fe=tf}Oc.push(">");Oc=Oc.join("")}Oc=Ke(Qb,Oc);fe&&("string"===typeof fe?Oc.className=fe:Array.isArray(fe)?Oc.className=fe.join(" "):de(Oc,fe));2<sc.length&&Qe(Qb,Oc,sc,2);return Oc};Eg.createElement=function(sa){return Ke(this.B,sa)};Eg.createTextNode=function(sa){return this.B.createTextNode(String(sa))};Eg.appendChild=function(sa,Oa){Hb(null!=sa&&null!=
Oa,"goog.dom.appendChild expects non-null arguments");sa.appendChild(Oa)};Eg.append=function(sa,Oa){Qe(Pf(sa),sa,arguments,1)};Eg.canHaveChildren=function(sa){if(1!=sa.nodeType)return!1;switch(sa.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
Eg.removeNode=function(sa){return sa&&sa.parentNode?sa.parentNode.removeChild(sa):null};Eg.contains=function(sa,Oa){if(!sa||!Oa)return!1;if(sa.contains&&1==Oa.nodeType)return sa==Oa||sa.contains(Oa);if("undefined"!=typeof sa.compareDocumentPosition)return sa==Oa||!!(sa.compareDocumentPosition(Oa)&16);for(;Oa&&sa!=Oa;)Oa=Oa.parentNode;return Oa==sa};var $g=window,Kg=document,Qg=$g.location,Hi=function(){},Mi=/\[native code\]/,Kf=function(sa,Oa,qb){return sa[Oa]=sa[Oa]||qb},Ui=function(sa){for(var Oa=
0;Oa<this.length;Oa++)if(this[Oa]===sa)return Oa;return-1},Rg=function(sa){sa=sa.sort();for(var Oa=[],qb=void 0,Qb=0;Qb<sa.length;Qb++){var sc=sa[Qb];sc!=qb&&Oa.push(sc);qb=sc}return Oa},ah=/&/g,ci=/</g,rf=/>/g,aj=/"/g,mc=/'/g,vd=function(sa){return String(sa).replace(ah,"&amp;").replace(ci,"&lt;").replace(rf,"&gt;").replace(aj,"&quot;").replace(mc,"&#39;")},ee=function(){var sa;if((sa=Object.create)&&Mi.test(sa))sa=sa(null);else{sa={};for(var Oa in sa)sa[Oa]=void 0}return sa},ye=function(sa,Oa){return Object.prototype.hasOwnProperty.call(sa,
Oa)},jg=function(sa){if(Mi.test(Object.keys))return Object.keys(sa);var Oa=[],qb;for(qb in sa)ye(sa,qb)&&Oa.push(qb);return Oa},mg=function(sa,Oa){sa=sa||{};for(var qb in sa)ye(sa,qb)&&(Oa[qb]=sa[qb])},Ah=function(sa){return function(){$g.setTimeout(sa,0)}},kl=function(sa,Oa){if(!sa)throw Error(Oa||"");},Tk=Kf($g,"gapi",{}),Uk=function(sa,Oa,qb){var Qb=new RegExp("([#].*&|[#])"+Oa+"=([^&#]*)","g");Oa=new RegExp("([?#].*&|[?#])"+Oa+"=([^&#]*)","g");if(sa=sa&&(Qb.exec(sa)||Oa.exec(sa)))try{qb=decodeURIComponent(sa[2])}catch(sc){}return qb},
nn=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),wl=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,on=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),Nm=/%([a-f]|[0-9a-fA-F][a-f])/g,pn=/^(https?|ftp|file|chrome-extension):$/i,xl=function(sa){sa=String(sa);sa=sa.replace(wl,function(sc){try{return encodeURIComponent(sc)}catch(Oc){return encodeURIComponent(sc.replace(/^[^%]+$/g,
"\ufffd"))}}).replace(on,function(sc){return sc.replace(/%/g,"%25")}).replace(Nm,function(sc){return sc.toUpperCase()});sa=sa.match(nn)||[];var Oa=ee(),qb=function(sc){return sc.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},Qb=!!(sa[1]||"").match(pn);Oa.A=qb((sa[1]||"")+(sa[2]||"")+(sa[3]||(sa[2]&&Qb?"/":"")));Qb=function(sc){return qb(sc.replace(/\?/g,"%3F").replace(/#/g,"%23"))};Oa.query=sa[5]?[Qb(sa[5])]:[];Oa.i=sa[7]?
[Qb(sa[7])]:[];return Oa},zj=function(sa){return sa.A+(0<sa.query.length?"?"+sa.query.join("&"):"")+(0<sa.i.length?"#"+sa.i.join("&"):"")},Vl=function(sa,Oa){var qb=[];if(sa)for(var Qb in sa)if(ye(sa,Qb)&&null!=sa[Qb]){var sc=Oa?Oa(sa[Qb]):sa[Qb];qb.push(encodeURIComponent(Qb)+"="+encodeURIComponent(sc))}return qb},wg=function(sa,Oa,qb,Qb){sa=xl(sa);sa.query.push.apply(sa.query,Vl(Oa,Qb));sa.i.push.apply(sa.i,Vl(qb,Qb));return zj(sa)},Yj=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+
"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),ll=function(sa,Oa){var qb=xl(Oa);Oa=qb.A;qb.query.length&&(Oa+="?"+qb.query.join(""));qb.i.length&&(Oa+="#"+qb.i.join(""));var Qb="";2E3<Oa.length&&(Qb=Oa,Oa=Oa.substr(0,2E3),Oa=Oa.replace(Yj,""),Qb=Qb.substr(Oa.length));var sc=sa.createElement("div");sa=sa.createElement("a");qb=xl(Oa);Oa=qb.A;qb.query.length&&(Oa+="?"+qb.query.join(""));qb.i.length&&(Oa+="#"+qb.i.join(""));Oa=new pf(Oa,Rf);id(sa,"HTMLAnchorElement");
Oa=Oa instanceof pf?Oa:Cf(Oa);sa.href=nf(Oa);sc.appendChild(sa);Oa=sc.innerHTML;qb=new Ma(oc,"Assignment to self.");Ob(gb(qb),"must provide justification");Hb(!/^[\s\xa0]*$/.test(gb(qb)),"must provide non-empty justification");void 0===Y&&(Y=Tb("gapi#html"));Oa=(qb=Y)?qb.createHTML(Oa):Oa;Oa=new $c(Oa,null,og);if(sc.tagName&&cb[sc.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+sc.tagName+".");if(Va())for(;sc.lastChild;)sc.removeChild(sc.lastChild);
sc.innerHTML=Oe(Oa);Oa=String(sc.firstChild.href);sc.parentNode&&sc.parentNode.removeChild(sc);qb=xl(Oa+Qb);Qb=qb.A;qb.query.length&&(Qb+="?"+qb.query.join(""));qb.i.length&&(Qb+="#"+qb.i.join(""));return Qb},qn=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,rm=function(sa,Oa,qb,Qb){if($g[qb+"EventListener"])$g[qb+"EventListener"](sa,Oa,!1);else if($g[Qb+"tachEvent"])$g[Qb+"tachEvent"]("on"+sa,Oa)},Wl=function(){var sa=Kg.readyState;return"complete"===sa||"interactive"===sa&&-1==navigator.userAgent.indexOf("MSIE")},
Xl=function(sa){var Oa=Lu;if(!Wl())try{Oa()}catch(qb){}Hq(sa)},Hq=function(sa){if(Wl())sa();else{var Oa=!1,qb=function(){if(!Oa)return Oa=!0,sa.apply(this,arguments)};$g.addEventListener?($g.addEventListener("load",qb,!1),$g.addEventListener("DOMContentLoaded",qb,!1)):$g.attachEvent&&($g.attachEvent("onreadystatechange",function(){Wl()&&qb.apply(this,arguments)}),$g.attachEvent("onload",qb))}},Yn=function(sa){for(;sa.firstChild;)sa.removeChild(sa.firstChild)},zo={button:!0,div:!0,span:!0};var eh=
Kf($g,"___jsl",ee());Kf(eh,"I",0);Kf(eh,"hel",10);var Vk=function(sa){return eh.dpo?eh.h:Uk(sa,"jsh",eh.h)},Fn=function(sa){var Oa=Kf(eh,"sws",[]);Oa.push.apply(Oa,sa)},yo=function(sa){return Kf(eh,"watt",ee())[sa]},Hp=function(sa){var Oa=Kf(eh,"PQ",[]);eh.PQ=[];var qb=Oa.length;if(0===qb)sa();else for(var Qb=0,sc=function(){++Qb===qb&&sa()},Oc=0;Oc<qb;Oc++)Oa[Oc](sc)},Gn=function(sa){return Kf(Kf(eh,"H",ee()),sa,ee())},Zn=Kf(eh,"perf",ee()),Ao=Kf(Zn,"g",ee()),Iq=Kf(Zn,"i",ee());Kf(Zn,"r",[]);ee();
ee();var Jq=function(sa,Oa,qb){var Qb=Zn.r;"function"===typeof Qb?Qb(sa,Oa,qb):Qb.push([sa,Oa,qb])},vc=function(sa,Oa,qb){Ao[sa]=!Oa&&Ao[sa]||qb||(new Date).getTime();Jq(sa)},bj=function(sa,Oa,qb){Oa&&0<Oa.length&&(Oa=Aa(Oa),qb&&0<qb.length&&(Oa+="___"+Aa(qb)),28<Oa.length&&(Oa=Oa.substr(0,28)+(Oa.length-28)),qb=Oa,Oa=Kf(Iq,"_p",ee()),Kf(Oa,qb,ee())[sa]=(new Date).getTime(),Jq(sa,"_p",qb))},Aa=function(sa){return sa.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},A=ee(),H=[],M=
function(sa){throw Error("Bad hint"+(sa?": "+sa:""));};H.push(["jsl",function(sa){for(var Oa in sa)if(ye(sa,Oa)){var qb=sa[Oa];"object"==typeof qb?eh[Oa]=Kf(eh,Oa,[]).concat(qb):Kf(eh,Oa,qb)}if(Oa=sa.u)sa=Kf(eh,"us",[]),sa.push(Oa),(Oa=/^https:(.*)$/.exec(Oa))&&sa.push("http:"+Oa[1])}]);var C=/^(\/[a-zA-Z0-9_\-]+)+$/,P=[/\/amp\//,/\/amp$/,/^\/amp$/],T=/^[a-zA-Z0-9\-_\.,!]+$/,X=/^gapi\.loaded_[0-9]+$/,pa=/^[a-zA-Z0-9,._-]+$/,Ca=function(sa,Oa,qb,Qb,sc){var Oc=sa.split(";"),fe=Oc.shift(),tf=A[fe],cf=
null;tf?cf=tf(Oc,Oa,qb,Qb):M("no hint processor for: "+fe);cf||M("failed to generate load url");Oa=cf;qb=Oa.match(rb);(Qb=Oa.match(fb))&&1===Qb.length&&Xa.test(Oa)&&qb&&1===qb.length||M("failed sanity: "+sa);try{if(sc&&0<sc.length){Oa=sa=0;for(qb={};Oa<sc.length;){var Lf=sc[Oa++];Qb=void 0;Qb=Da(Lf)?"o"+(Object.prototype.hasOwnProperty.call(Lf,ta)&&Lf[ta]||(Lf[ta]=++Pa)):(typeof Lf).charAt(0)+Lf;Object.prototype.hasOwnProperty.call(qb,Qb)||(qb[Qb]=!0,sc[sa++]=Lf)}sc.length=sa;cf=cf+"?le="+sc.join(",")}}catch(Vg){}return cf},
Z=function(sa,Oa,qb,Qb){sa=ma(sa);X.test(qb)||M("invalid_callback");Oa=wa(Oa);Qb=Qb&&Qb.length?wa(Qb):null;var sc=function(Oc){return encodeURIComponent(Oc).replace(/%2C/g,",")};return[encodeURIComponent(sa.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",sc(sa.version),"/m=",sc(Oa),Qb?"/exm="+sc(Qb):"","/rt=j/sv=1/d=1/ed=1",sa.T?"/am="+sc(sa.T):"",sa.Z?"/rs="+sc(sa.Z):"",sa.aa?"/t="+sc(sa.aa):"","/cb=",sc(qb)].join("")},ma=function(sa){"/"!==sa.charAt(0)&&M("relative path");for(var Oa=sa.substring(1).split("/"),
qb=[];Oa.length;){sa=Oa.shift();if(!sa.length||0==sa.indexOf("."))M("empty/relative directory");else if(0<sa.indexOf("=")){Oa.unshift(sa);break}qb.push(sa)}sa={};for(var Qb=0,sc=Oa.length;Qb<sc;++Qb){var Oc=Oa[Qb].split("="),fe=decodeURIComponent(Oc[0]),tf=decodeURIComponent(Oc[1]);2==Oc.length&&fe&&tf&&(sa[fe]=sa[fe]||tf)}Oa="/"+qb.join("/");C.test(Oa)||M("invalid_prefix");qb=0;for(Qb=P.length;qb<Qb;++qb)P[qb].test(Oa)&&M("invalid_prefix");qb=ua(sa,"k",!0);Qb=ua(sa,"am");sc=ua(sa,"rs");sa=ua(sa,
"t");return{pathPrefix:Oa,version:qb,T:Qb,Z:sc,aa:sa}},wa=function(sa){for(var Oa=[],qb=0,Qb=sa.length;qb<Qb;++qb){var sc=sa[qb].replace(/\./g,"_").replace(/-/g,"_");pa.test(sc)&&Oa.push(sc)}return Oa.join(",")},ua=function(sa,Oa,qb){sa=sa[Oa];!sa&&qb&&M("missing: "+Oa);if(sa){if(T.test(sa))return sa;M("invalid: "+Oa)}return null},Xa=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,fb=/\/cb=/g,rb=/\/\//g,nb=function(){var sa=Vk(Qg.href);if(!sa)throw Error("Bad hint");return sa};
A.m=function(sa,Oa,qb,Qb){(sa=sa[0])||M("missing_hint");return"https://apis.google.com"+Z(sa,Oa,qb,Qb)};var hc=decodeURI("%73cript"),Tc=/^[-+_0-9\/A-Za-z]+={0,2}$/,ld=function(sa,Oa){for(var qb=[],Qb=0;Qb<sa.length;++Qb){var sc=sa[Qb];sc&&0>Ui.call(Oa,sc)&&qb.push(sc)}return qb},dd=function(){var sa=eh.nonce;return void 0!==sa?sa&&sa===String(sa)&&sa.match(Tc)?sa:eh.nonce=null:Kg.querySelector?(sa=Kg.querySelector("script[nonce]"))?(sa=sa.nonce||sa.getAttribute("nonce")||"",sa&&sa===String(sa)&&sa.match(Tc)?
eh.nonce=sa:eh.nonce=null):null:null},xd=function(sa){if("loading"!=Kg.readyState)ge(sa);else{var Oa=dd(),qb="";null!==Oa&&(qb=' nonce="'+Oa+'"');sa="<"+hc+' src="'+encodeURI(sa)+'"'+qb+"></"+hc+">";Kg.write(zd?zd.createHTML(sa):sa)}},ge=function(sa){var Oa=Kg.createElement(hc);Oa.setAttribute("src",zd?zd.createScriptURL(sa):sa);sa=dd();null!==sa&&Oa.setAttribute("nonce",sa);Oa.async="true";(sa=Kg.getElementsByTagName(hc)[0])?sa.parentNode.insertBefore(Oa,sa):(Kg.head||Kg.body||Kg.documentElement).appendChild(Oa)},
Ce=function(sa,Oa){var qb=Oa&&Oa._c;if(qb)for(var Qb=0;Qb<H.length;Qb++){var sc=H[Qb][0],Oc=H[Qb][1];Oc&&ye(qb,sc)&&Oc(qb[sc],sa,Oa)}},jc=function(sa,Oa,qb){Fg(function(){var Qb=Oa===Vk(Qg.href)?Kf(Tk,"_",ee()):ee();Qb=Kf(Gn(Oa),"_",Qb);sa(Qb)},qb)},Xe=function(sa,Oa){var qb=Oa||{};"function"==typeof Oa&&(qb={},qb.callback=Oa);Ce(sa,qb);Oa=sa?sa.split(":"):[];var Qb=qb.h||nb(),sc=Kf(eh,"ah",ee());if(sc["::"]&&Oa.length){sa=[];for(var Oc=null;Oc=Oa.shift();){var fe=Oc.split(".");fe=sc[Oc]||sc[fe[1]&&
"ns:"+fe[0]||""]||Qb;var tf=sa.length&&sa[sa.length-1]||null,cf=tf;tf&&tf.hint==fe||(cf={hint:fe,features:[]},sa.push(cf));cf.features.push(Oc)}var Lf=sa.length;if(1<Lf){var Vg=qb.callback;Vg&&(qb.callback=function(){0==--Lf&&Vg()})}for(;Oa=sa.shift();)bg(Oa.features,qb,Oa.hint)}else bg(Oa||[],qb,Qb)},bg=function(sa,Oa,qb){sa=Rg(sa)||[];var Qb=Oa.callback,sc=Oa.config,Oc=Oa.timeout,fe=Oa.ontimeout,tf=Oa.onerror,cf=void 0;"function"==typeof tf&&(cf=tf);var Lf=null,Vg=!1;if(Oc&&!fe||!Oc&&fe)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";
tf=Kf(Gn(qb),"r",[]).sort();var ti=Kf(Gn(qb),"L",[]).sort(),Ni=eh.le,bh=[].concat(tf),Do=function(Eo,bp){if(Vg)return 0;$g.clearTimeout(Lf);ti.push.apply(ti,ok);var kt=((Tk||{}).config||{}).update;kt?kt(sc):sc&&Kf(eh,"cu",[]).push(sc);if(bp){bj("me0",Eo,bh);try{jc(bp,qb,cf)}finally{bj("me1",Eo,bh)}}return 1};0<Oc&&(Lf=$g.setTimeout(function(){Vg=!0;fe()},Oc));var ok=ld(sa,ti);if(ok.length){ok=ld(sa,tf);var Sj=Kf(eh,"CP",[]),zl=Sj.length;Sj[zl]=function(Eo){if(!Eo)return 0;bj("ml1",ok,bh);var bp=function(iA){Sj[zl]=
null;Do(ok,Eo)&&Hp(function(){Qb&&Qb();iA()})},kt=function(){var iA=Sj[zl+1];iA&&iA()};0<zl&&Sj[zl-1]?Sj[zl]=function(){bp(kt)}:bp(kt)};if(ok.length){var Vi="loaded_"+eh.I++;Tk[Vi]=function(Eo){Sj[zl](Eo);Tk[Vi]=null};sa=Ca(qb,ok,"gapi."+Vi,tf,Ni);tf.push.apply(tf,ok);bj("ml0",ok,bh);Oa.sync||$g.___gapisync?xd(sa):ge(sa)}else Sj[zl](Hi)}else Do(ok)&&Qb&&Qb()},zd=Tb("gapi#gapi"),Fg=function(sa,Oa){if(eh.hee&&0<eh.hel)try{return sa()}catch(qb){Oa&&Oa(qb),eh.hel--,Xe("debug_error",function(){try{window.___jsl.hefn(qb)}catch(Qb){throw qb;
}})}else try{return sa()}catch(qb){throw Oa&&Oa(qb),qb;}};Tk.load=function(sa,Oa){return Fg(function(){return Xe(sa,Oa)})};var zh=function(sa){var Oa=window.___jsl=window.___jsl||{};Oa[sa]=Oa[sa]||[];return Oa[sa]},tg=function(sa){var Oa=window.___jsl=window.___jsl||{};Oa.cfg=!sa&&Oa.cfg||{};return Oa.cfg},Nf=function(sa){return"object"===typeof sa&&/\[native code\]/.test(sa.push)},Ue=function(sa,Oa,qb){if(Oa&&"object"===typeof Oa)for(var Qb in Oa)!Object.prototype.hasOwnProperty.call(Oa,Qb)||qb&&
"___goc"===Qb&&"undefined"===typeof Oa[Qb]||(sa[Qb]&&Oa[Qb]&&"object"===typeof sa[Qb]&&"object"===typeof Oa[Qb]&&!Nf(sa[Qb])&&!Nf(Oa[Qb])?Ue(sa[Qb],Oa[Qb]):Oa[Qb]&&"object"===typeof Oa[Qb]?(sa[Qb]=Nf(Oa[Qb])?[]:{},Ue(sa[Qb],Oa[Qb])):sa[Qb]=Oa[Qb])},kh=function(sa){if(sa&&!/^\s+$/.test(sa)){for(;0==sa.charCodeAt(sa.length-1);)sa=sa.substring(0,sa.length-1);try{var Oa=window.JSON.parse(sa)}catch(qb){}if("object"===typeof Oa)return Oa;try{Oa=(new Function("return ("+sa+"\n)"))()}catch(qb){}if("object"===
typeof Oa)return Oa;try{Oa=(new Function("return ({"+sa+"\n})"))()}catch(qb){}return"object"===typeof Oa?Oa:{}}},cj=function(sa,Oa){var qb={___goc:void 0};sa.length&&sa[sa.length-1]&&Object.hasOwnProperty.call(sa[sa.length-1],"___goc")&&"undefined"===typeof sa[sa.length-1].___goc&&(qb=sa.pop());Ue(qb,Oa);sa.push(qb)},Lg=function(sa){tg(!0);var Oa=window.___gcfg,qb=zh("cu"),Qb=window.___gu;Oa&&Oa!==Qb&&(cj(qb,Oa),window.___gu=Oa);Oa=zh("cu");var sc=document.scripts||document.getElementsByTagName("script")||
[];Qb=[];var Oc=[];Oc.push.apply(Oc,zh("us"));for(var fe=0;fe<sc.length;++fe)for(var tf=sc[fe],cf=0;cf<Oc.length;++cf)tf.src&&0==tf.src.indexOf(Oc[cf])&&Qb.push(tf);0==Qb.length&&0<sc.length&&sc[sc.length-1].src&&Qb.push(sc[sc.length-1]);for(sc=0;sc<Qb.length;++sc)Qb[sc].getAttribute("gapi_processed")||(Qb[sc].setAttribute("gapi_processed",!0),(Oc=Qb[sc])?(fe=Oc.nodeType,Oc=3==fe||4==fe?Oc.nodeValue:Oc.textContent||""):Oc=void 0,(Oc=kh(Oc))&&Oa.push(Oc));sa&&cj(qb,sa);Qb=zh("cd");sa=0;for(Oa=Qb.length;sa<
Oa;++sa)Ue(tg(),Qb[sa],!0);Qb=zh("ci");sa=0;for(Oa=Qb.length;sa<Oa;++sa)Ue(tg(),Qb[sa],!0);sa=0;for(Oa=qb.length;sa<Oa;++sa)Ue(tg(),qb[sa],!0)},Lj=function(sa){var Oa=tg();if(!sa)return Oa;sa=sa.split("/");for(var qb=0,Qb=sa.length;Oa&&"object"===typeof Oa&&qb<Qb;++qb)Oa=Oa[sa[qb]];return qb===sa.length&&void 0!==Oa?Oa:void 0},rn=function(sa,Oa){var qb;if("string"===typeof sa){var Qb=qb={};sa=sa.split("/");for(var sc=0,Oc=sa.length;sc<Oc-1;++sc)Qb=Qb[sa[sc]]={};Qb[sa[sc]]=Oa}else qb=sa;Lg(qb)},wk=
function(){var sa=window.__GOOGLEAPIS;sa&&(sa.googleapis&&!sa["googleapis.config"]&&(sa["googleapis.config"]=sa.googleapis),Kf(eh,"ci",[]).push(sa),window.__GOOGLEAPIS=void 0)},We={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},Bh=!1,Mj=ee(),Wk=function(){if(!Bh){for(var sa=document.getElementsByTagName("meta"),Oa=0;Oa<sa.length;++Oa){var qb=sa[Oa].name.toLowerCase();if(0==qb.lastIndexOf("google-signin-",0)){qb=qb.substring(14);var Qb=
sa[Oa].content;We[qb]&&Qb&&(Mj[qb]=Qb)}}if(window.self!==window.top){sa=document.location.toString();for(var sc in We)0<We[sc]&&(Oa=Uk(sa,sc,""))&&(Mj[sc]=Oa)}Bh=!0}sc=ee();mg(Mj,sc);return sc},Ip=function(sa){return!!(sa.clientid&&sa.scope&&sa.callback)},Hn=window.console,pg=function(){},Zj=["gapi","logutil","enableDebugLogging"],hg=Ra;Zj[0]in hg||"undefined"==typeof hg.execScript||hg.execScript("var "+Zj[0]);for(var Yh;Zj.length&&(Yh=Zj.shift());)Zj.length||void 0===pg?hg=hg[Yh]&&hg[Yh]!==Object.prototype[Yh]?
hg[Yh]:hg[Yh]={}:hg[Yh]=pg;var sj=function(){return!!eh.oa},Yl=function(){},$n=Kf(eh,"rw",ee()),oz=function(sa){for(var Oa in $n)sa($n[Oa])},zu=function(sa,Oa){(sa=$n[sa])&&sa.state<Oa&&(sa.state=Oa)},Zo=function(sa){var Oa=window.___jsl=window.___jsl||{};Oa.cfg=Oa.cfg||{};Oa=Oa.cfg;if(!sa)return Oa;sa=sa.split("/");for(var qb=0,Qb=sa.length;Oa&&"object"===typeof Oa&&qb<Qb;++qb)Oa=Oa[sa[qb]];return qb===sa.length&&void 0!==Oa?Oa:void 0},pz=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,
qz=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,xw=function(sa){var Oa=Zo("googleapis.config/sessionIndex");"string"===typeof Oa&&254<Oa.length&&(Oa=null);null==Oa&&(Oa=window.__X_GOOG_AUTHUSER);"string"===typeof Oa&&254<Oa.length&&(Oa=null);if(null==Oa){var qb=window.google;qb&&(Oa=qb.authuser)}"string"===typeof Oa&&254<Oa.length&&(Oa=null);null==Oa&&(sa=sa||window.location.href,Oa=Uk(sa,"authuser")||null,null==Oa&&(Oa=(Oa=sa.match(pz))?Oa[1]:null));if(null==
Oa)return null;Oa=String(Oa);254<Oa.length&&(Oa=null);return Oa},yw=function(sa){var Oa=Zo("googleapis.config/sessionDelegate");"string"===typeof Oa&&21<Oa.length&&(Oa=null);null==Oa&&(Oa=(sa=(sa||window.location.href).match(qz))?sa[1]:null);if(null==Oa)return null;Oa=String(Oa);21<Oa.length&&(Oa=null);return Oa},bt,Kq,Lq=void 0,$o=function(sa){try{return Ra.JSON.parse.call(Ra.JSON,sa)}catch(Oa){return!1}},Bo=function(sa){return Object.prototype.toString.call(sa)},ct=Bo(0),zw=Bo(new Date(0)),Aw=Bo(!0),
Bw=Bo(""),rz=Bo({}),Cw=Bo([]),Mq=function(sa,Oa){if(Oa)for(var qb=0,Qb=Oa.length;qb<Qb;++qb)if(sa===Oa[qb])throw new TypeError("Converting circular structure to JSON");Qb=typeof sa;if("undefined"!==Qb){qb=Array.prototype.slice.call(Oa||[],0);qb[qb.length]=sa;Oa=[];var sc=Bo(sa);if(null!=sa&&"function"===typeof sa.toJSON&&(Object.prototype.hasOwnProperty.call(sa,"toJSON")||(sc!==Cw||sa.constructor!==Array&&sa.constructor!==Object)&&(sc!==rz||sa.constructor!==Array&&sa.constructor!==Object)&&sc!==Bw&&
sc!==ct&&sc!==Aw&&sc!==zw))return Mq(sa.toJSON.call(sa),qb);if(null==sa)Oa[Oa.length]="null";else if(sc===ct)sa=Number(sa),isNaN(sa)||isNaN(sa-sa)?sa="null":-0===sa&&0>1/sa&&(sa="-0"),Oa[Oa.length]=String(sa);else if(sc===Aw)Oa[Oa.length]=String(!!Number(sa));else{if(sc===zw)return Mq(sa.toISOString.call(sa),qb);if(sc===Cw&&Bo(sa.length)===ct){Oa[Oa.length]="[";var Oc=0;for(Qb=Number(sa.length)>>0;Oc<Qb;++Oc)Oc&&(Oa[Oa.length]=","),Oa[Oa.length]=Mq(sa[Oc],qb)||"null";Oa[Oa.length]="]"}else if(sc==
Bw&&Bo(sa.length)===ct){Oa[Oa.length]='"';Oc=0;for(qb=Number(sa.length)>>0;Oc<qb;++Oc)Qb=String.prototype.charAt.call(sa,Oc),sc=String.prototype.charCodeAt.call(sa,Oc),Oa[Oa.length]="\b"===Qb?"\\b":"\f"===Qb?"\\f":"\n"===Qb?"\\n":"\r"===Qb?"\\r":"\t"===Qb?"\\t":"\\"===Qb||'"'===Qb?"\\"+Qb:31>=sc?"\\u"+(sc+65536).toString(16).substr(1):32<=sc&&65535>=sc?Qb:"\ufffd";Oa[Oa.length]='"'}else if("object"===Qb){Oa[Oa.length]="{";Qb=0;for(Oc in sa)Object.prototype.hasOwnProperty.call(sa,Oc)&&(sc=Mq(sa[Oc],
qb),void 0!==sc&&(Qb++&&(Oa[Oa.length]=","),Oa[Oa.length]=Mq(Oc),Oa[Oa.length]=":",Oa[Oa.length]=sc));Oa[Oa.length]="}"}else return}return Oa.join("")}},sz=/[\0-\x07\x0b\x0e-\x1f]/,tz=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,uz=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,vz=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,wz=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,xz=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,yz=/[ \t\n\r]+/g,
zz=/[^"]:/,Az=/""/g,Bz=/true|false|null/g,Cz=/00/,Dz=/[\{]([^0\}]|0[^:])/,Ez=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,Fz=/[^\[,:][\[\{]/,Gz=/^(\{|\}|\[|\]|,|:|0)+/,Hz=/\u2028/g,Iz=/\u2029/g,Jz=function(sa){sa=String(sa);if(sz.test(sa)||tz.test(sa)||uz.test(sa)||vz.test(sa))return!1;var Oa=sa.replace(wz,'""');Oa=Oa.replace(xz,"0");Oa=Oa.replace(yz,"");if(zz.test(Oa))return!1;Oa=Oa.replace(Az,"0");Oa=Oa.replace(Bz,"0");if(Cz.test(Oa)||Dz.test(Oa)||Ez.test(Oa)||Fz.test(Oa)||!Oa||Oa.replace(Gz,""))return!1;sa=
sa.replace(Hz,"\\u2028").replace(Iz,"\\u2029");Oa=void 0;try{Oa=Lq?[$o(sa)]:eval("(function (var_args) {\n  return Array.prototype.slice.call(arguments, 0);\n})(\n"+sa+"\n)")}catch(qb){return!1}return Oa&&1===Oa.length?Oa[0]:!1},Dw=function(){var sa=((Ra.document||{}).scripts||[]).length;if((void 0===bt||void 0===Lq||Kq!==sa)&&-1!==Kq){bt=Lq=!1;Kq=-1;try{try{Lq=!!Ra.JSON&&'{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'===Ra.JSON.stringify.call(Ra.JSON,{a:[3,!0,new Date(0)],c:function(){}})&&!0===$o("true")&&
3===$o('[{"a":3}]')[0].a}catch(Oa){}bt=Lq&&!$o("[00]")&&!$o('"\u0007"')&&!$o('"\\0"')&&!$o('"\\v"')}finally{Kq=sa}}},Ew=function(sa){if(-1===Kq)return!1;Dw();return(bt?$o:Jz)(sa)},Fw=function(sa){if(-1!==Kq)return Dw(),Lq?Ra.JSON.stringify.call(Ra.JSON,sa):Mq(sa)},Kz=!Date.prototype.toISOString||"function"!==typeof Date.prototype.toISOString||"1970-01-01T00:00:00.000Z"!==(new Date(0)).toISOString(),Lz=function(){var sa=Date.prototype.getUTCFullYear.call(this);return[0>sa?"-"+String(1E6-sa).substr(1):
9999>=sa?String(1E4+sa).substr(1):"+"+String(1E6+sa).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1E3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=Kz?
Lz:Date.prototype.toISOString;var Tr=function(){this.blockSize=64;this.g=[];this.K=[];this.da=[];this.G=[];this.G[0]=128;for(var sa=1;sa<this.blockSize;++sa)this.G[sa]=0;this.H=this.o=0;this.reset()};wb(Tr,function(){this.blockSize=-1});Tr.prototype.reset=function(){this.g[0]=1732584193;this.g[1]=4023233417;this.g[2]=2562383102;this.g[3]=271733878;this.g[4]=3285377520;this.H=this.o=0};var dt=function(sa,Oa,qb){qb||(qb=0);var Qb=sa.da;if("string"===typeof Oa)for(var sc=0;16>sc;sc++)Qb[sc]=Oa.charCodeAt(qb)<<
24|Oa.charCodeAt(qb+1)<<16|Oa.charCodeAt(qb+2)<<8|Oa.charCodeAt(qb+3),qb+=4;else for(sc=0;16>sc;sc++)Qb[sc]=Oa[qb]<<24|Oa[qb+1]<<16|Oa[qb+2]<<8|Oa[qb+3],qb+=4;for(sc=16;80>sc;sc++){var Oc=Qb[sc-3]^Qb[sc-8]^Qb[sc-14]^Qb[sc-16];Qb[sc]=(Oc<<1|Oc>>>31)&4294967295}Oa=sa.g[0];qb=sa.g[1];var fe=sa.g[2],tf=sa.g[3],cf=sa.g[4];for(sc=0;80>sc;sc++){if(40>sc)if(20>sc){Oc=tf^qb&(fe^tf);var Lf=1518500249}else Oc=qb^fe^tf,Lf=1859775393;else 60>sc?(Oc=qb&fe|tf&(qb|fe),Lf=2400959708):(Oc=qb^fe^tf,Lf=3395469782);Oc=
(Oa<<5|Oa>>>27)+Oc+cf+Lf+Qb[sc]&4294967295;cf=tf;tf=fe;fe=(qb<<30|qb>>>2)&4294967295;qb=Oa;Oa=Oc}sa.g[0]=sa.g[0]+Oa&4294967295;sa.g[1]=sa.g[1]+qb&4294967295;sa.g[2]=sa.g[2]+fe&4294967295;sa.g[3]=sa.g[3]+tf&4294967295;sa.g[4]=sa.g[4]+cf&4294967295};Tr.prototype.update=function(sa,Oa){if(null!=sa){void 0===Oa&&(Oa=sa.length);for(var qb=Oa-this.blockSize,Qb=0,sc=this.K,Oc=this.o;Qb<Oa;){if(0==Oc)for(;Qb<=qb;)dt(this,sa,Qb),Qb+=this.blockSize;if("string"===typeof sa)for(;Qb<Oa;){if(sc[Oc]=sa.charCodeAt(Qb),
++Oc,++Qb,Oc==this.blockSize){dt(this,sc);Oc=0;break}}else for(;Qb<Oa;)if(sc[Oc]=sa[Qb],++Oc,++Qb,Oc==this.blockSize){dt(this,sc);Oc=0;break}}this.o=Oc;this.H+=Oa}};Tr.prototype.digest=function(){var sa=[],Oa=8*this.H;56>this.o?this.update(this.G,56-this.o):this.update(this.G,this.blockSize-(this.o-56));for(var qb=this.blockSize-1;56<=qb;qb--)this.K[qb]=Oa&255,Oa/=256;dt(this,this.K);for(qb=Oa=0;5>qb;qb++)for(var Qb=24;0<=Qb;Qb-=8)sa[Oa]=this.g[qb]>>Qb&255,++Oa;return sa};var Gw=function(){this.P=
new Tr};Gw.prototype.reset=function(){this.P.reset()};var Au=$g.crypto,Hw=!1,et=0,Mz=0,gh=1,Iw=0,Bu="",Nz=function(sa){sa=sa||$g.event;var Oa=sa.screenX+sa.clientX<<16;Oa+=sa.screenY+sa.clientY;Oa*=(new Date).getTime()%1E6;gh=gh*Oa%Iw;0<et&&++Mz==et&&rm("mousemove",Nz,"remove","de")},Oz=function(sa){var Oa=new Gw;sa=unescape(encodeURIComponent(sa));for(var qb=[],Qb=0,sc=sa.length;Qb<sc;++Qb)qb.push(sa.charCodeAt(Qb));Oa.P.update(qb);Oa=Oa.P.digest();sa="";for(qb=0;qb<Oa.length;qb++)sa+="0123456789ABCDEF".charAt(Math.floor(Oa[qb]/
16))+"0123456789ABCDEF".charAt(Oa[qb]%16);return sa};(Hw=!!Au&&"function"==typeof Au.getRandomValues)||(Iw=1E6*(screen.width*screen.width+screen.height),Bu=Oz(Kg.cookie+"|"+Kg.location+"|"+(new Date).getTime()+"|"+Math.random()),et=Zo("random/maxObserveMousemove")||0,0!=et&&rm("mousemove",Nz,"add","at"));var Cu=function(){var sa=eh.onl;if(!sa){sa=ee();eh.onl=sa;var Oa=ee();sa.e=function(qb){var Qb=Oa[qb];Qb&&(delete Oa[qb],Qb())};sa.a=function(qb,Qb){Oa[qb]=Qb};sa.r=function(qb){delete Oa[qb]}}return sa},
eD=function(sa,Oa){Oa=Oa.onload;return"function"===typeof Oa?(Cu().a(sa,Oa),Oa):null},fD=function(sa){kl(/^\w+$/.test(sa),"Unsupported id - "+sa);return'onload="window.___jsl.onl.e(&#34;'+sa+'&#34;)"'},gD=function(sa){Cu().r(sa)},KH={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},hD={allowtransparency:!0,onload:!0},iD=0,jD=function(sa){kl(!sa||qn.test(sa),"Illegal url for new iframe - "+sa)},Zh=function(sa,
Oa,qb,Qb,sc){jD(qb.src);var Oc,fe=eD(Qb,qb),tf=fe?fD(Qb):"";try{document.all&&(Oc=sa.createElement('<iframe frameborder="'+vd(String(qb.frameborder))+'" scrolling="'+vd(String(qb.scrolling))+'" '+tf+' name="'+vd(String(qb.name))+'"/>'))}catch(Lf){}finally{Oc||(Oc=(sa?new xg(Pf(sa)):te||(te=new xg)).fa("IFRAME"),fe&&(Oc.onload=function(){Oc.onload=null;fe.call(this)},gD(Qb)))}Oc.setAttribute("ng-non-bindable","");for(var cf in qb)sa=qb[cf],"style"===cf&&"object"===typeof sa?mg(sa,Oc.style):hD[cf]||
Oc.setAttribute(cf,String(sa));(cf=sc&&sc.beforeNode||null)||sc&&sc.dontclear||Yn(Oa);Oa.insertBefore(Oc,cf);Oc=cf?cf.previousSibling:Oa.lastChild;qb.allowtransparency&&(Oc.allowTransparency=!0);return Oc},Pz=/^:[\w]+$/,Jw=/:([a-zA-Z_]+):/g,Du=function(){var sa=xw()||"0",Oa=yw(),qb=xw(void 0)||sa,Qb=yw(void 0),sc="";qb&&(sc+="u/"+encodeURIComponent(String(qb))+"/");Qb&&(sc+="b/"+encodeURIComponent(String(Qb))+"/");qb=sc||null;(sc=(Qb=!1===Zo("isLoggedIn"))?"_/im/":"")&&(qb="");var Oc=Zo("iframes/:socialhost:"),
fe=Zo("iframes/:im_socialhost:");return{socialhost:Oc,ctx_socialhost:Qb?fe:Oc,session_index:sa,session_delegate:Oa,session_prefix:qb,im_prefix:sc}},Qz=function(sa,Oa){return Du()[Oa]||""},Rz=function(sa){return function(Oa,qb){return sa?Du()[qb]||sa[qb]||"":Du()[qb]||""}},Eu=function(sa){var Oa;sa.match(/^https?%3A/i)&&(Oa=decodeURIComponent(sa));return ll(document,Oa?Oa:sa)},Fu=function(sa){sa=sa||"canonical";for(var Oa=document.getElementsByTagName("link"),qb=0,Qb=Oa.length;qb<Qb;qb++){var sc=Oa[qb],
Oc=sc.getAttribute("rel");if(Oc&&Oc.toLowerCase()==sa&&(sc=sc.getAttribute("href"))&&(sc=Eu(sc))&&null!=sc.match(/^https?:\/\/[\w\-_\.]+/i))return sc}return window.location.href},Gu={se:"0"},Sz={post:!0},Tz={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Kw="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Lw=Kf(eh,"WI",ee()),Mw=function(sa,Oa,qb){var Qb,sc={},Oc=Qb=sa;"plus"==sa&&Oa.action&&(Qb=sa+"_"+Oa.action,Oc=sa+"/"+
Oa.action);(Qb=Lj("iframes/"+Qb+"/url"))||(Qb=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+Oc+"?usegapi=1");for(var fe in Gu)sc[fe]=fe+"/"+(Oa[fe]||Gu[fe])+"/";sc=ll(Kg,Qb.replace(Jw,Rz(sc)));fe="iframes/"+sa+"/params/";Oc={};mg(Oa,Oc);(Qb=Lj("lang")||Lj("gwidget/lang"))&&(Oc.hl=Qb);Sz[sa]||(Oc.origin=window.location.origin||window.location.protocol+"//"+window.location.host);Oc.exp=Lj(fe+"exp");if(fe=Lj(fe+"location"))for(Qb=0;Qb<fe.length;Qb++){var tf=fe[Qb];Oc[tf]=$g.location[tf]}switch(sa){case "plus":case "follow":fe=
Oc.href;Qb=Oa.action?void 0:"publisher";fe=(fe="string"==typeof fe?fe:void 0)?Eu(fe):Fu(Qb);Oc.url=fe;delete Oc.href;break;case "plusone":fe=(fe=Oa.href)?Eu(fe):Fu();Oc.url=fe;fe=Oa.db;Qb=Lj();null==fe&&Qb&&(fe=Qb.db,null==fe&&(fe=Qb.gwidget&&Qb.gwidget.db));Oc.db=fe||void 0;fe=Oa.ecp;Qb=Lj();null==fe&&Qb&&(fe=Qb.ecp,null==fe&&(fe=Qb.gwidget&&Qb.gwidget.ecp));Oc.ecp=fe||void 0;delete Oc.href;break;case "signin":Oc.url=Fu()}eh.ILI&&(Oc.iloader="1");delete Oc["data-onload"];delete Oc.rd;for(var cf in Gu)Oc[cf]&&
delete Oc[cf];Oc.gsrc=Lj("iframes/:source:");cf=Lj("inline/css");"undefined"!==typeof cf&&0<qb&&cf>=qb&&(Oc.ic="1");cf=/^#|^fr-/;qb={};for(var Lf in Oc)ye(Oc,Lf)&&cf.test(Lf)&&(qb[Lf.replace(cf,"")]=Oc[Lf],delete Oc[Lf]);Lf="q"==Lj("iframes/"+sa+"/params/si")?Oc:qb;cf=Wk();for(var Vg in cf)!ye(cf,Vg)||ye(Oc,Vg)||ye(qb,Vg)||(Lf[Vg]=cf[Vg]);Vg=[].concat(Kw);(Lf=Lj("iframes/"+sa+"/methods"))&&"object"===typeof Lf&&Mi.test(Lf.push)&&(Vg=Vg.concat(Lf));for(var ti in Oa)ye(Oa,ti)&&/^on/.test(ti)&&("plus"!=
sa||"onconnect"!=ti)&&(Vg.push(ti),delete Oc[ti]);delete Oc.callback;qb._methods=Vg.join(",");return wg(sc,Oc,qb)},Uz=["style","data-gapiscan"],Nw=function(sa){for(var Oa=ee(),qb=0!=sa.nodeName.toLowerCase().indexOf("g:"),Qb=0,sc=sa.attributes.length;Qb<sc;Qb++){var Oc=sa.attributes[Qb],fe=Oc.name,tf=Oc.value;0<=Ui.call(Uz,fe)||qb&&0!=fe.indexOf("data-")||"null"===tf||"specified"in Oc&&!Oc.specified||(qb&&(fe=fe.substr(5)),Oa[fe.toLowerCase()]=tf)}sa=sa.style;(qb=Ow(sa&&sa.height))&&(Oa.height=String(qb));
(sa=Ow(sa&&sa.width))&&(Oa.width=String(sa));return Oa},Ow=function(sa){var Oa=void 0;"number"===typeof sa?Oa=sa:"string"===typeof sa&&(Oa=parseInt(sa,10));return Oa},Vz=function(){var sa=eh.drw;oz(function(Oa){if(sa!==Oa.id&&4!=Oa.state&&"share"!=Oa.type){var qb=Oa.id,Qb=Oa.type,sc=Oa.url;Oa=Oa.userParams;var Oc=Kg.getElementById(qb);if(Oc){var fe=Mw(Qb,Oa,0);fe?(Oc=Oc.parentNode,sc.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==fe.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(Oa.dontclear=!0,Oa.rd=
!0,Oa.ri=!0,Oa.type=Qb,Ku(Oc,Oa),(Qb=$n[Oc.lastChild.id])&&(Qb.oid=qb),zu(qb,4))):delete $n[qb]}else delete $n[qb]}})},Wz=/(?:^|\s)g-((\S)*)(?:$|\s)/,Xz={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};var ft=Kf(eh,"SW",ee());var gt=Kf(eh,"SA",ee());var Ur=Kf(eh,"SM",ee());var Hu=Kf(eh,"FW",[]);var Pw=null;var Qw=function(sa,Oa){Rw(void 0,!1,sa,Oa)},Rw=function(sa,Oa,qb,Qb){vc("ps0",!0);qb=("string"===typeof qb?document.getElementById(qb):qb)||Kg;var sc=Kg.documentMode;if(qb.querySelectorAll&&
(!sc||8<sc)){sc=Qb?[Qb]:jg(ft).concat(jg(gt)).concat(jg(Ur));for(var Oc=[],fe=0;fe<sc.length;fe++){var tf=sc[fe];Oc.push(".g-"+tf,"g\\:"+tf)}sc=qb.querySelectorAll(Oc.join(","))}else sc=qb.getElementsByTagName("*");qb=ee();for(Oc=0;Oc<sc.length;Oc++){var cf=fe=sc[Oc];tf=Qb;var Lf=cf.nodeName.toLowerCase(),Vg=void 0;if(cf.getAttribute("data-gapiscan"))tf=null;else{var ti=Lf.indexOf("g:");0==ti?Vg=Lf.substr(2):(ti=(ti=String(cf.className||cf.getAttribute("class")))&&Wz.exec(ti))&&(Vg=ti[1]);tf=!Vg||
!(ft[Vg]||gt[Vg]||Ur[Vg])||tf&&Vg!==tf?null:Vg}tf&&(Xz[tf]||0==fe.nodeName.toLowerCase().indexOf("g:")||0!=jg(Nw(fe)).length)&&(fe.setAttribute("data-gapiscan",!0),Kf(qb,tf,[]).push(fe))}if(Oa)for(var Ni in qb)for(Oa=qb[Ni],Qb=0;Qb<Oa.length;Qb++)Oa[Qb].setAttribute("data-onload",!0);for(var bh in qb)Hu.push(bh);vc("ps1",!0);if((Ni=Hu.join(":"))||sa)try{Tk.load(Ni,sa)}catch(ok){Hn&&Hn.log&&Hn.log(ok);return}if(Sw(Pw||{}))for(var Do in qb){sa=qb[Do];bh=0;for(Oa=sa.length;bh<Oa;bh++)sa[bh].removeAttribute("data-gapiscan");
Iu(Do)}else{Qb=[];for(Do in qb)for(sa=qb[Do],bh=0,Oa=sa.length;bh<Oa;bh++)sc=sa[bh],Tw(Do,sc,Nw(sc),Qb,Oa);Ju(Ni,Qb)}},Yz=function(sa){var Oa=Kf(Tk,sa,{});Oa.go||(Oa.go=function(qb){return Qw(qb,sa)},Oa.render=function(qb,Qb){Qb=Qb||{};Qb.type=sa;return Ku(qb,Qb)})},Zz=function(sa){ft[sa]=!0},$z=function(sa){gt[sa]=!0},aA=function(sa){Ur[sa]=!0},Iu=function(sa,Oa){var qb=yo(sa);Oa&&qb?(qb(Oa),(qb=Oa.iframeNode)&&qb.setAttribute("data-gapiattached",!0)):Tk.load(sa,function(){var Qb=yo(sa),sc=Oa&&Oa.iframeNode,
Oc=Oa&&Oa.userParams;sc&&Qb?(Qb(Oa),sc.setAttribute("data-gapiattached",!0)):(Qb=Tk[sa].go,"signin2"==sa?Qb(sc,Oc):Qb(sc&&sc.parentNode,Oc))})},Sw=function(){return!1},Ju=function(){},Tw=function(sa,Oa,qb,Qb,sc,Oc,fe){switch(Uw(Oa,sa,Oc)){case 0:sa=Ur[sa]?sa+"_annotation":sa;Qb={};Qb.iframeNode=Oa;Qb.userParams=qb;Iu(sa,Qb);break;case 1:if(Oa.parentNode){for(var tf in qb){if(Oc=ye(qb,tf))Oc=qb[tf],Oc=!!Oc&&"object"===typeof Oc&&(!Oc.toString||Oc.toString===Object.prototype.toString||Oc.toString===
Array.prototype.toString);if(Oc)try{qb[tf]=Fw(qb[tf])}catch(zl){delete qb[tf]}}Oc=!0;qb.dontclear&&(Oc=!1);delete qb.dontclear;Yl();tf=Mw(sa,qb,sc);sc=fe||{};sc.allowPost=1;sc.attributes=Tz;sc.dontclear=!Oc;fe={};fe.userParams=qb;fe.url=tf;fe.type=sa;if(qb.rd)var cf=Oa;else cf=document.createElement("div"),Oa.setAttribute("data-gapistub",!0),cf.style.cssText="position:absolute;width:450px;left:-10000px;",Oa.parentNode.insertBefore(cf,Oa);fe.siteElement=cf;cf.id||(Oa=cf,Kf(Lw,sa,0),Oc="___"+sa+"_"+
Lw[sa]++,Oa.id=Oc);Oa=ee();Oa[">type"]=sa;mg(qb,Oa);Oc=tf;qb=cf;tf=sc||{};Oa=tf.attributes||{};kl(!(tf.allowPost||tf.forcePost)||!Oa.onload,"onload is not supported by post iframe (allowPost or forcePost)");sc=Oa=Oc;Pz.test(Oa)&&(sc=Zo("iframes/"+sc.substring(1)+"/url"),kl(!!sc,"Unknown iframe url config for - "+Oa));Oc=ll(Kg,sc.replace(Jw,Qz));Oa=qb.ownerDocument||Kg;sc=tf;var Lf=0;do cf=sc.id||["I",iD++,"_",(new Date).getTime()].join("");while(Oa.getElementById(cf)&&5>++Lf);kl(5>Lf,"Error creating iframe id");
sc=cf;cf=tf;Lf={};var Vg={};Oa.documentMode&&9>Oa.documentMode&&(Lf.hostiemode=Oa.documentMode);mg(cf.queryParams||{},Lf);mg(cf.fragmentParams||{},Vg);var ti=cf.pfname,Ni=ee();Zo("iframes/dropLegacyIdParam")||(Ni.id=sc);Ni._gfid=sc;Ni.parent=Oa.location.protocol+"//"+Oa.location.host;var bh=Uk(Oa.location.href,"parent");ti=ti||"";!ti&&bh&&(bh=Uk(Oa.location.href,"_gfid","")||Uk(Oa.location.href,"id",""),ti=Uk(Oa.location.href,"pfname",""),ti=bh?ti+"/"+bh:"");ti||(bh=Ew(Uk(Oa.location.href,"jcp","")))&&
"object"==typeof bh&&(ti=(ti=bh.id)?bh.pfname+"/"+ti:"");Ni.pfname=ti;cf.connectWithJsonParam&&(bh={},bh.jcp=Fw(Ni),Ni=bh);bh=Uk(Oc,"rpctoken")||Lf.rpctoken||Vg.rpctoken;if(!bh){if(!(bh=cf.rpctoken)){bh=String;ti=Math;var Do=ti.round;if(Hw){var ok=new $g.Uint32Array(1);Au.getRandomValues(ok);ok=Number("0."+ok[0])}else ok=gh,ok+=parseInt(Bu.substr(0,20),16),Bu=Oz(Bu),ok/=Iw+Math.pow(16,20);bh=bh(Do.call(ti,1E8*ok))}Ni.rpctoken=bh}cf.rpctoken=bh;mg(Ni,cf.connectWithQueryParams?Lf:Vg);bh=Oa.location.href;
Ni=ee();(ti=Uk(bh,"_bsh",eh.bsh))&&(Ni._bsh=ti);(bh=Vk(bh))&&(Ni.jsh=bh);cf.hintInFragment?mg(Ni,Vg):mg(Ni,Lf);Lf=wg(Oc,Lf,Vg,cf.paramsSerializer);Oc=tf;Vg=ee();mg(KH,Vg);mg(Oc.attributes,Vg);Vg.name=Vg.id=sc;Vg.src=Lf;tf.eurl=Lf;tf=(cf=tf)||{};Oc=!!tf.allowPost;if(tf.forcePost||Oc&&2E3<Lf.length){Oc=xl(Lf);Vg.src="";cf.dropDataPostorigin||(Vg["data-postorigin"]=Lf);tf=Zh(Oa,qb,Vg,sc);if(-1!=navigator.userAgent.indexOf("WebKit")){var Sj=tf.contentWindow.document;Sj.open();Lf=Sj.createElement("div");
Vg={};Ni=sc+"_inner";Vg.name=Ni;Vg.src="";Vg.style="display:none";Zh(Oa,Lf,Vg,Ni,cf)}Lf=(cf=Oc.query[0])?cf.split("&"):[];cf=[];for(Vg=0;Vg<Lf.length;Vg++)Ni=Lf[Vg].split("=",2),cf.push([decodeURIComponent(Ni[0]),decodeURIComponent(Ni[1])]);Oc.query=[];Lf=zj(Oc);kl(qn.test(Lf),"Invalid URL: "+Lf);Oc=Oa.createElement("form");Oc.method="POST";Oc.target=sc;Oc.style.display="none";sc=Lf instanceof pf?Lf:Cf(Lf);id(Oc,"HTMLFormElement").action=nf(sc);for(sc=0;sc<cf.length;sc++)Lf=Oa.createElement("input"),
Lf.type="hidden",Lf.name=cf[sc][0],Lf.value=cf[sc][1],Oc.appendChild(Lf);qb.appendChild(Oc);Oc.submit();Oc.parentNode.removeChild(Oc);Sj&&Sj.close();Sj=tf}else Sj=Zh(Oa,qb,Vg,sc,cf);fe.iframeNode=Sj;fe.id=Sj.getAttribute("id");Sj=fe.id;qb=ee();qb.id=Sj;qb.userParams=fe.userParams;qb.url=fe.url;qb.type=fe.type;qb.state=1;$n[Sj]=qb;Sj=fe}else Sj=null;Sj&&((fe=Sj.id)&&Qb.push(fe),Iu(sa,Sj))}},Uw=function(sa,Oa,qb){if(sa&&1===sa.nodeType&&Oa){if(qb)return 1;if(Ur[Oa]){if(zo[sa.nodeName.toLowerCase()])return(sa=
sa.innerHTML)&&sa.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(gt[Oa])return 0;if(ft[Oa])return 1}}return null},Ku=function(sa,Oa){var qb=Oa.type;delete Oa.type;var Qb=("string"===typeof sa?document.getElementById(sa):sa)||void 0;if(Qb){sa={};for(var sc in Oa)ye(Oa,sc)&&(sa[sc.toLowerCase()]=Oa[sc]);sa.rd=1;(Oa=!!sa.ri)&&delete sa.ri;sc=[];Tw(qb,Qb,sa,sc,0,Oa,void 0);Ju(qb,sc)}else Hn&&Hn.log&&Hn.log("string"==="gapi."+qb+".render: missing element "+typeof sa?sa:"")};Kf(Tk,"platform",{}).go=Qw;
Sw=function(sa){for(var Oa=["_c","jsl","h"],qb=0;qb<Oa.length&&sa;qb++)sa=sa[Oa[qb]];Oa=Vk(Qg.href);return!sa||0!=sa.indexOf("n;")&&0!=Oa.indexOf("n;")&&sa!==Oa};Ju=function(sa,Oa){bA(sa,Oa)};var Lu=function(sa){Rw(sa,!0)},ht=function(sa,Oa){Oa=Oa||[];for(var qb=0;qb<Oa.length;++qb)sa(Oa[qb]);for(sa=0;sa<Oa.length;sa++)Yz(Oa[sa])};H.push(["platform",function(sa,Oa,qb){Pw=qb;Oa&&Hu.push(Oa);ht(Zz,sa);ht($z,qb._c.annotation);ht(aA,qb._c.bimodal);wk();Lg();if("explicit"!=Lj("parsetags")){Fn(sa);Ip(Wk())&&
!Lj("disableRealtimeCallback")&&Yl();if(qb&&(sa=qb.callback)){var Qb=Ah(sa);delete qb.callback}Xl(function(){Lu(Qb)})}}]);Tk._pl=!0;var Mu=function(sa){if(sa=(sa=$n[sa])?sa.oid:void 0){var Oa=Kg.getElementById(sa);Oa&&Oa.parentNode.removeChild(Oa);delete $n[sa];Mu(sa)}},Vw=/^\{h:'/,Ww=/^!_/,Xw="",bA=function(sa,Oa){function qb(){rm("message",Qb,"remove","de")}function Qb(Oc){var fe=Oc.data,tf=Oc.origin;if(cA(fe,Oa)){var cf=sc;sc=!1;cf&&vc("rqe");Jp(sa,function(){cf&&vc("rqd");qb();for(var Lf=Kf(eh,
"RPMQ",[]),Vg=0;Vg<Lf.length;Vg++)Lf[Vg]({data:fe,origin:tf})})}}if(0!==Oa.length){Xw=Uk(Qg.href,"pfname","");var sc=!0;rm("message",Qb,"add","at");Xe(sa,qb)}},cA=function(sa,Oa){sa=String(sa);if(Vw.test(sa))return!0;var qb=!1;Ww.test(sa)&&(qb=!0,sa=sa.substr(2));if(!/^\{/.test(sa))return!1;var Qb=Ew(sa);if(!Qb)return!1;sa=Qb.f;if(Qb.s&&sa&&-1!=Ui.call(Oa,sa)){if("_renderstart"===Qb.s||Qb.s===Xw+"/"+sa+"::_renderstart")if(Qb=Qb.a&&Qb.a[qb?0:1],Oa=Kg.getElementById(sa),zu(sa,2),Qb&&Oa&&Qb.width&&Qb.height){a:{qb=
Oa.parentNode;sa=Qb||{};if(sj()){var sc=Oa.id;if(sc){Qb=(Qb=$n[sc])?Qb.state:void 0;if(1===Qb||4===Qb)break a;Mu(sc)}}(Qb=qb.nextSibling)&&Qb.getAttribute&&Qb.getAttribute("data-gapistub")&&(qb.parentNode.removeChild(Qb),qb.style.cssText="");Qb=sa.width;var Oc=sa.height,fe=qb.style;fe.textIndent="0";fe.margin="0";fe.padding="0";fe.background="transparent";fe.borderStyle="none";fe.cssFloat="none";fe.styleFloat="none";fe.lineHeight="normal";fe.fontSize="1px";fe.verticalAlign="baseline";qb=qb.style;
qb.display="inline-block";fe=Oa.style;fe.position="static";fe.left="0";fe.top="0";fe.visibility="visible";Qb&&(qb.width=fe.width=Qb+"px");Oc&&(qb.height=fe.height=Oc+"px");sa.verticalAlign&&(qb.verticalAlign=sa.verticalAlign);sc&&zu(sc,3)}Oa["data-csi-wdt"]=(new Date).getTime()}return!0}return!1},Jp=function(sa,Oa){Xe(sa,Oa)},Vr=function(sa,Oa){this.M=sa;sa=Oa||{};this.ga=Number(sa.maxAge)||0;this.V=sa.domain;this.X=sa.path;this.ha=!!sa.secure};Vr.prototype.read=function(){for(var sa=this.M+"=",Oa=
document.cookie.split(/;\s*/),qb=0;qb<Oa.length;++qb){var Qb=Oa[qb];if(0==Qb.indexOf(sa))return Qb.substr(sa.length)}};Vr.prototype.write=function(sa,Oa){if(!eA.test(this.M))throw"Invalid cookie name";if(!dA.test(sa))throw"Invalid cookie value";sa=this.M+"="+sa;this.V&&(sa+=";domain="+this.V);this.X&&(sa+=";path="+this.X);Oa="number"===typeof Oa?Oa:this.ga;if(0<=Oa){var qb=new Date;qb.setSeconds(qb.getSeconds()+Oa);sa+=";expires="+qb.toUTCString()}this.ha&&(sa+=";secure");document.cookie=sa;return!0};
Vr.prototype.clear=function(){this.write("",0)};var dA=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,eA=/^[A-Z_][A-Z0-9_]{0,63}$/;Vr.iterate=function(sa){for(var Oa=document.cookie.split(/;\s*/),qb=0;qb<Oa.length;++qb){var Qb=Oa[qb].split("="),sc=Qb.shift();sa(sc,Qb.join("="))}};var it=function(sa){this.F=sa};it.prototype.read=function(){if(Kp.hasOwnProperty(this.F))return Kp[this.F]};it.prototype.write=function(sa){Kp[this.F]=sa;return!0};it.prototype.clear=function(){delete Kp[this.F]};var Kp={};it.iterate=function(sa){for(var Oa in Kp)Kp.hasOwnProperty(Oa)&&
sa(Oa,Kp[Oa])};var Yw="https:"===window.location.protocol,jt=Yw||"http:"===window.location.protocol?Vr:it,Zw=function(sa){var Oa=sa.substr(1),qb="",Qb=window.location.hostname;if(""!==Oa){qb=parseInt(Oa,10);if(isNaN(qb))return null;Oa=Qb.split(".");if(Oa.length<qb-1)return null;Oa.length==qb-1&&(Qb="."+Qb)}else Qb="";return{j:"S"==sa.charAt(0),domain:Qb,l:qb}},$w=function(){var sa,Oa=null;jt.iterate(function(qb,Qb){0===qb.indexOf("G_AUTHUSER_")&&(qb=Zw(qb.substring(11)),!sa||qb.j&&!sa.j||qb.j==sa.j&&
qb.l>sa.l)&&(sa=qb,Oa=Qb)});return{ea:sa,J:Oa}},Wr=function(sa){if(!sa)return[];sa=sa.split("=");return sa[1]?sa[1].split("|"):[]},kD=function(sa){sa=sa.split(":");return{clientId:sa[0].split("=")[1],ja:Wr(sa[1]),ma:Wr(sa[2]),la:Wr(sa[3])}},lD=function(){var sa=$w(),Oa=sa.ea;sa=sa.J;if(null!==sa){var qb;jt.iterate(function(Oc,fe){(Oc=kc(Oc))&&Oc.W&&Oc.j==Oa.j&&Oc.l==Oa.l&&(qb=fe)});if(qb){var Qb=kD(qb),sc=Qb&&Qb.ja[Number(sa)];Qb=Qb&&Qb.clientId;if(sc)return{J:sa,ia:sc,clientId:Qb}}}return null},
mD=function(){this.U=NR};Eg=mD.prototype;Eg.$=function(){this.L||(this.v=0,this.L=!0,this.Y())};Eg.Y=function(){this.L&&(this.U()?this.v=this.S:this.v=Math.min(2*(this.v||this.S),120),window.setTimeout(Ac(this.Y,this),1E3*this.v))};Eg.v=0;Eg.S=2;Eg.U=null;Eg.L=!1;var nD=null;sj=function(){return eh.oa=!0};Yl=function(){eh.oa=!0;var sa=lD();(sa=sa&&sa.J)&&rn("googleapis.config/sessionIndex",sa);nD||(nD=Kf(eh,"ss",new mD));sa=nD;sa.$&&sa.$()};var NR=function(){var sa=lD(),Oa=sa&&sa.ia||null,qb=sa&&
sa.clientId;Xe("auth",{callback:function(){var Qb=$g.gapi.auth,sc={client_id:qb,session_state:Oa};Qb.checkSessionState(sc,function(Oc){var fe=sc.session_state,tf=!!Lj("isLoggedIn");Oc=Lj("debug/forceIm")?!1:fe&&Oc||!fe&&!Oc;if(tf=tf!==Oc)rn("isLoggedIn",Oc),Yl(),Vz(),Oc||((Oc=Qb.signOut)?Oc():(Oc=Qb.setToken)&&Oc(null));Oc=Wk();var cf=Lj("savedUserState");fe=Qb._guss(Oc.cookiepolicy);cf=cf!=fe&&"undefined"!=typeof cf;rn("savedUserState",fe);(tf||cf)&&Ip(Oc)&&!Lj("disableRealtimeCallback")&&Qb._pimf(Oc,
!0)})}});return!0};vc("bs0",!0,window.gapi._bs);vc("bs1",!0);delete window.gapi._bs}).call(void 0);dc.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,
"googleapis.config":{auth:{useFirstPartyAuthV2:!1}},inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"en",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},
plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll",
"openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},
plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},
plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},
url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},
sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},
zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},
h:"m;/_/scs/apps-static/_/js/k=oz.gapi.en_US.4sn9RO63fqo.O/am=AQ/d=1/rs=AGLTcCO5GqPeHrbNQGs79bP09BnjVkdwag/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"0f1abc58d350516bb217d384b46f49a849cf7c3a",dpo:!1,le:["ili","ipu"]},platform:"additnow backdrop blogger comments commentcount community donation family_creation follow hangout health page partnersbadge person playemm playreview plus plusone post ratingbadge savetoandroidpay savetodrive savetowallet sharetoclassroom shortlists signin2 surveyoptin visibility youtube ytsubscribe zoomableimage".split(" "),
fp:"0f1abc58d350516bb217d384b46f49a849cf7c3a",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});var Zb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js");Zb.notify=function(Mc,$a){var $b,Eb,kc,tc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sc){switch(Sc.nextAddress){case 1:return $b=Zb.morph({type:"text",textAlign:"center",textString:$a,fill:null,padding:Zb.Rectangle.inset(10),fontSize:30,fontColor:"white",fontWeight:"bold",
readOnly:!0,grabbable:!1}),Eb=Math.max(Mc.width+40,$b.width),kc=Math.max(120,$b.height),tc=Mc.addMorph({extent:Zb.pt(Eb,kc),border:{radius:8},name:"notification",center:Mc.innerBounds().center(),origin:Zb.pt(Eb/2,kc/2),fill:Zb.Color.gray,scale:.1,grabbable:!1,submorphs:[$b]}),tc.submorphs[0].center=tc.innerBounds().center().subPt(Zb.pt(Eb/2,kc/2)),Sc.yield(tc.animate({scale:1,duration:400}),2);case 2:return Sc.yield(Zb.promise.delay(800),3);case 3:return Sc.yield(tc.animate({opacity:0,duration:400}),
4);case 4:tc.remove(),Sc.jumpToEnd()}})};Zb.promise=Sb;Zb.fun=xc;Zb.arr=ac;Zb.string=Cd;Zb.resource=nd;Zb.pt=Ud;Zb.Rectangle=bd;Zb.Color=Ic;Zb.connect=pd;Zb.once=yd;Zb.signal=Ne;Zb.morph=Pe;Zb.easings=Ie;Zb.touchInputDevice=fd;Zb.Icon=me;Zb.config=Yb;Zb.Morph=Yc;Zb.Menu=Nd;Zb.loadMorphFromSnapshot=gd;Zb.createMorphSnapshot=ae;Zb.UserRegistry=Fe;Zb.ClientUser=Wb;Zb.loadPart=Cc;Zb.LoadingIndicator=Td;Zb.gapi=_missingExportShim;Zb.pathForBrowserHistory=Ec;Zb.ObjectPackage=Lb;Zb.interactivelyForkPackage=
ub;Zb.addScript=uc;dc=Wa("UserUI",{getCurrentUser:function(){return Zb.UserRegistry.current.loadUserFromLocalStorage(Zb.config.users.authServerURL)},showUserFlap:function(Mc){Mc=void 0===Mc?$world:Mc;var $a,$b;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Eb){if(1==Eb.nextAddress)return Eb.yield(Zb.resource("part://SystemIDE/lively top bar master").read(),2);$a=Eb.yieldResult;$a.name="lively top bar";$a.hasFixedPosition=!0;$a.respondsToVisibleWindow=!0;$a.openInWorld();$a.relayout();
$a.top=-$a.height;$b=$a.dropShadow;$a.dropShadow=null;$a.attachToTarget(Mc);$world.onTopBarLoaded();Ib.import("./__root_module__-37c88ebd.js").then(function(kc){return kc.bS}).then(function(kc){var tc,Sc,Pd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ec){switch(ec.nextAddress){case 1:return ec.yield($a.whenRendered(),2);case 2:return ec.yield($a.animate({position:Zb.pt(0,0),dropShadow:$b,duration:500}),3);case 3:if(Mc.metadata){ec.jumpTo(4);break}Mc.animate({customTween:function(Xb){$a.blur=
Mc.blur=3*Xb},duration:500});return ec.yield(Mc.askForName(),5);case 5:return tc=ec.yieldResult,Mc.name=tc,Mc.changeMetaData("commit",{name:tc}),window.history&&window.history.pushState({},"lively.next",Zb.pathForBrowserHistory(tc)),Sc=Zb.ObjectPackage.withId(Zb.string.camelCaseString(tc)),ec.yield(Sc.adoptObject(Mc),6);case 6:Mc.animate({customTween:function(Xb){$a.blur=Mc.blur=3*(1-Xb)},duration:500});case 4:return ec.yield(Zb.resource("part://SystemUserUI/version checker").read(),7);case 7:Pd=
ec.yieldResult,Pd.name="lively version checker",Pd.openInWorld(),Pd.relayout(),Pd.checkVersion(),ec.jumpToEnd()}})});return Eb.return($a)})},hideUserFlap:function(Mc){Mc=void 0===Mc?$world:Mc;Mc.submorphs.filter(function($a){return"user flap"===$a.name&&$a.owner==Mc}).forEach(function($a){return $a.remove()})},showWidget:function(Mc,$a){$a=void 0===$a?{}:$a;var $b=this,Eb,kc,tc,Sc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Pd){if(1==Pd.nextAddress)return Eb=$a,kc=void 0===Eb.modal?
!0:Eb.modal,tc=void 0===Eb.user?$b.getCurrentUser():Eb.user,Pd.yield($b.loadMorph(Mc),2);Sc=Pd.yieldResult;return Pd.return(Sc.run(kc,$a.world,tc))})},showUserInfo:function(Mc){Mc=void 0===Mc?{}:Mc;var $a=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function($b){return 1==$b.nextAddress?$b.yield($a.showWidget("user info",Mc),2):$b.return($b.yieldResult)})},showLogin:function(Mc){Mc=void 0===Mc?{}:Mc;var $a=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function($b){return $b.return($a.showWidget("login widget",
Mc))})},showRegister:function(Mc){Mc=void 0===Mc?{}:Mc;var $a=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function($b){return $b.return($a.showWidget("register widget",Mc))})},loadMorph:function(Mc,$a){var $b,Eb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(kc){switch(kc.nextAddress){case 1:switch(Mc){case "login widget":return kc.jumpTo(2);case "user info":return kc.jumpTo(3);case "register widget":return kc.jumpTo(4)}kc.jumpTo(5);break;case 2:return kc.yield(Zb.resource("part://SystemUserUI/login widget").read(),
6);case 6:return kc.return(kc.yieldResult);case 3:return kc.yield(Zb.resource("part://SystemUserUI/user info").read(),7);case 7:return kc.return(kc.yieldResult);case 4:return kc.yield(Zb.resource("part://SystemUserUI/register widget").read(),8);case 8:return kc.return(kc.yieldResult);case 5:return $b=System.decanonicalize("lively.user/morphic/"+Mc+".json"),kc.yield(Zb.resource($b).readJson(),9);case 9:return Eb=kc.yieldResult,kc.return(Zb.loadMorphFromSnapshot(Eb,$a))}})}});Zb.UserUI=dc;Zb.UserUI=
dc;Zb.UserUI=dc;(function(Mc){var $a=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),$b=$a.hasOwnProperty("UserWidget")&&"function"===typeof $a.UserWidget?$a.UserWidget:$a.UserWidget=function(Eb){Eb&&Eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Vd($b,Mc,[{key:"run",value:function(Eb,kc,tc){var Sc=this;kc=void 0===kc?$world:kc;if(void 0===Eb||Eb)var Pd=kc.addMorph({name:this.name+" overlay",hasFixedPosition:!0,
grabbable:!1,draggable:!1,extent:kc.extent,fill:Zb.Color.black.withA(.4)});this.epiMorph=this.hasFixedPosition=!0;this.activate(tc);return(new Promise(function(ec,Xb){Zb.once(Sc,"resolved",ec)})).then(function(ec){Sc.remove();Pd&&Pd.remove();return ec})}},{key:"activate",value:function(Eb){Eb=$world;Eb.addMorph(this);this.align(this.worldPoint(this.innerBounds().center()),Eb.visibleBounds().center());this.focus()}},{key:"onKeyDown",value:function(Eb){"Enter"===Eb.keyCombo&&(this.onEnterPressed(),
Eb.stop());"Escape"===Eb.keyCombo&&(this.onEscapePressed(),Eb.stop());"Tab"===Eb.keyCombo&&(this.focusNext(),Eb.stop());"Shift-Tab"===Eb.keyCombo&&(this.focusPrev(),Eb.stop())}},{key:"focusOrder",value:function(){return[]}},{key:"focusNext",value:function(){var Eb=this.focusOrder(),kc=this.world().focusedMorph;kc=Eb.indexOf(kc)+1;kc>Eb.length-1&&(kc=0);Eb[kc].focus()}},{key:"focusPrev",value:function(){var Eb=this.focusOrder(),kc=this.world().focusedMorph;kc=Eb.indexOf(kc)-1;0>kc&&(kc=Eb.length-1);
Eb[kc].focus()}},{key:"onEscapePressed",value:function(){this.close()}},{key:"onEnterPressed",value:function(){}},{key:"close",value:function(){}},{key:"_save",value:function(){var Eb=this,kc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tc){if(1==tc.nextAddress)return tc.yield(Zb.createMorphSnapshot(Eb),2);kc=tc.yieldResult;return tc.yield(lively.modules.module("lively.user/morphic/"+Eb.name+".json").changeSource(JSON.stringify(kc,null,2),{doEval:!1}),0)})}},{key:"_htmlExport",value:function(){var Eb=
this,kc,tc,Sc,Pd,ec,Xb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Jb){if(1==Jb.nextAddress)return kc=lively.modules.module,tc=kc("lively.user/html/"+Eb.name+".html").id,Sc=Zb.resource(tc),Jb.yield(kc("lively.morphic/rendering/html-generator.js").load(),2);if(3!=Jb.nextAddress)return Pd=Jb.yieldResult,ec=Pd.generateHTML,Jb.yield(ec(Eb,Sc,{isFragment:!0,addStyles:!1}),3);Xb=Jb.yieldResult;return Jb.return({resource:Sc,html:Xb})})}},{key:"htmlExport_transformNode",value:function(Eb){this.focusOrder().forEach(function(kc,
tc){return Eb.querySelector("#"+kc.id).tabIndex=tc+1});return Eb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserWidget"}},{key:"properties",get:function(){return{user:{}}}}],$a,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:5359,end:8091})})(Zb.Morph);dc=Wa("UserInfoWidget",
function(Mc){var $a=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),$b=$a.hasOwnProperty("UserInfoWidget")&&"function"===typeof $a.UserInfoWidget?$a.UserInfoWidget:$a.UserInfoWidget=function(Eb){Eb&&Eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Vd($b,Mc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),
emailInput:this.getSubmorphNamed("email input"),saveButton:this.getSubmorphNamed("save button"),logoutButton:this.getSubmorphNamed("logout button"),closeButton:this.getSubmorphNamed("close button"),userAvatar:this.getSubmorphNamed("user avatar")}}},{key:"activate",value:function(Eb){Vd._get(Object.getPrototypeOf($b.prototype),"activate",this).call(this,Eb);this.displayUser(Eb)}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){var Eb=this.ui;return[Eb.userNameInput,
Eb.emailInput,Eb.passwordInput,Eb.passwordInput2]}},{key:"onEnterPressed",value:function(){this.trySave()}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(Eb){Eb.draggable=!1;Eb.grabbable=!1});Zb.connect(this.ui.saveButton,"fire",this,"trySave");Zb.connect(this.ui.logoutButton,"fire",this,"logout");Zb.connect(this.ui.closeButton,"onMouseDown",this,"close");this.ui.userNameInput.readOnly=!0;this.ui.userNameInput.selectable=!0;Zb.notify(this,"OK")}},{key:"displayUser",value:function(Eb){Eb=
(this.user=Eb)||{};var kc=Eb.email,tc=this.ui,Sc=tc.emailInput,Pd=tc.passwordInput,ec=tc.passwordInput2,Xb=tc.userAvatar;tc.userNameInput.input=Eb.name||"";Sc.input=kc||"";Pd.input="";ec.input="";Xb.imageUrl=Zb.resource("https://s.gravatar.com/avatar").join(Zb.string.md5(kc||"")).withQuery({s:320}).url}},{key:"trySave",value:function(){var Eb=this,kc,tc,Sc,Pd,ec,Xb,Jb,Ra,Ga,ea,Da,ta,Pa,Ha,tb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ac){switch(Ac.nextAddress){case 1:kc=Eb;tc=kc.user;
Sc=kc.ui;Pd=Sc.emailInput;ec=Sc.passwordInput;Xb=Sc.passwordInput2;if(!tc)return Ac.return(Eb.showError("no user object"));Jb=Pd.input;Ra=ec.input;Ga=Xb.input;if(tc.email==Jb&&!Ra&&!Ga)return Ac.return(Zb.signal(Eb,"resolved",tc));if(!Ra&&!Ga){Ac.jumpTo(2);break}return Ra!==Ga?Ac.return(Eb.world().inform("Passwords do not match!",{requester:Eb})):Ac.yield(Eb.world().passwordPrompt("To set a new password, please enter your old one",{requester:Eb}),3);case 3:return(ea=Ac.yieldResult)?Ac.yield(tc.checkPassword(ea),
4):Ac.return(Eb.world().inform("Old password needed to change password, aborting!",{requester:Eb}));case 4:if(Da=Ac.yieldResult,!Da)return Ac.return(Eb.world().inform("Old password is not correct, aborting!",{requester:Eb}));case 2:return ta={},Ra&&(ta.password=Ra),Jb&&(ta.email=Jb),Ac.yield(tc.modify(ta),5);case 5:return Pa=Ac.yieldResult,Ha=Pa.status,(tb=Pa.error)?Ac.return(Eb.world().inform("Failed to modify: "+tb,{requester:Eb})):Ac.yield(Zb.UserRegistry.current.saveUserToLocalStorage(tc),6);
case 6:return Ac.yield(Zb.notify(Eb,Ha),7);case 7:Eb.displayUser(tc),Zb.signal(Eb,"resolved",tc),Ac.jumpToEnd()}})}},{key:"logout",value:function(){var Eb=this,kc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tc){if(1==tc.nextAddress)return tc.yield(Zb.UserRegistry.current.logout(Eb.user),2);if(3!=tc.nextAddress)return Eb.displayUser(Eb.user),Eb.remove(),tc.yield(Zb.UserUI.showLogin({modal:!1}),3);kc=tc.yieldResult;Zb.signal(Eb,"resolved",kc);tc.jumpToEnd()})}},{key:"close",value:function(){Zb.signal(this,
"resolved",this.user)}},{key:"onMouseUp",value:function(Eb){var kc=this.ui,tc=kc.closeButton;kc=kc.saveButton;switch(Eb.targetMorph){case tc:this.close();break;case kc:this.trySave()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserInfoWidget"}}],$a,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",
version:"0.2.0"}}},{start:8100,end:12116})}(Zb.UserWidget));Zb.UserInfoWidget=dc;Zb.UserInfoWidget=dc;Zb.UserInfoWidget=dc;dc=Wa("LoginWidget",function(Mc){var $a=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),$b=$a.hasOwnProperty("LoginWidget")&&"function"===typeof $a.LoginWidget?$a.LoginWidget:$a.LoginWidget=function(Eb){Eb&&Eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Vd($b,Mc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
passwordInput:this.getSubmorphNamed("password input"),loginButton:this.getSubmorphNamed("login button"),registerButton:this.getSubmorphNamed("register button"),guestButton:this.getSubmorphNamed("guest button"),emailLoginForm:this.getSubmorphNamed("email login form"),googleLogin:this.getSubmorphNamed("google login"),emailLogin:this.getSubmorphNamed("email login"),appleLogin:this.getSubmorphNamed("apple login")}}},{key:"signInWithGoogle",value:function(){Zb.gapi.load("auth2",function(){var Eb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(kc){if(1==
kc.nextAddress)return Zb.gapi.auth2.init({client_id:"CLIENT_ID.apps.googleusercontent.com"}),Eb=Zb.gapi.auth2.getAuthInstance(),kc.yield(Eb.signIn(),2);kc.jumpToEnd()})})}},{key:"signInWithEmail",value:function(){var Eb=this,kc,tc,Sc,Pd,ec,Xb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Jb){kc=Eb.ui;tc=kc.emailLoginForm;Sc=kc.googleLogin;Pd=kc.emailLogin;ec=kc.appleLogin;Xb=Zb.easings.inOutExpo;[Sc,Pd,ec].map(function(Ra){return Ra.animate({visible:!1,isLayoutable:!1,easing:Xb,duration:300})});
tc.animate({visible:!0,isLayoutable:!0,easing:Xb,duration:300});Jb.jumpToEnd()})}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.passwordInput]}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(Ra){Ra.draggable=!1;Ra.grabbable=!1});var Eb=this.ui,kc=Eb.registerButton,tc=Eb.userNameInput,Sc=Eb.appleLogin,Pd=Eb.passwordInput,ec=Eb.emailLoginForm,Xb=Eb.googleLogin,Jb=Eb.emailLogin;Zb.connect(Eb.loginButton,
"fire",this,"tryLogin");Zb.connect(kc,"fire",this,"switchToRegisterWidget");Zb.connect(Jb,"fire",this,"signInWithEmail");Zb.connect(Xb,"fire",this,"loginWithGoogle");tc.input="";Pd.input="";ec.isLayoutable=ec.visible=!1;[Jb,Sc,Xb].map(function(Ra){return Ra.visible=Ra.isLayoutable=!0})}},{key:"onEnterPressed",value:function(){this.tryLogin()}},{key:"tryLogin",value:function(){var Eb=this,kc,tc,Sc,Pd,ec,Xb,Jb,Ra,Ga;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ea){switch(ea.nextAddress){case 1:kc=
Eb;tc=kc.ui;Sc=tc.userNameInput;Pd=tc.passwordInput;ec=Sc.input;Xb=Pd.input;if(!ec)return ea.return();Jb=Zb.ClientUser.named(ec,Zb.config.users.authServerURL);ea.setCatchFinallyBlocks(2);return ea.yield(Zb.UserRegistry.current.login(Jb,Xb),4);case 4:ea.leaveTryBlock(3);break;case 2:Ga=ea.enterCatchBlock(),Ra=Ga.message;case 3:if(Ra)return Zb.signal(Eb,"loginFailed",Ra),Ra.includes("No user")&&Eb.indicateError(Eb.ui.userNameInput,Ra),Ra.includes("does not match")&&Eb.indicateError(Eb.ui.passwordInput,
"Password incorrect"),ea.return();Zb.notify(Eb,"logged in");Zb.signal(Eb,"loginSucceeded",Jb);Zb.signal(Eb,"resolved",Jb);ea.jumpToEnd()}})}},{key:"switchToRegisterWidget",value:function(){var Eb=this,kc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tc){if(1==tc.nextAddress)return tc.yield(Zb.UserUI.showRegister({modal:!1}),2);(kc=tc.yieldResult)&&Zb.signal(Eb,"resolved",kc);tc.jumpToEnd()})}},{key:"continueAsGuest",value:function(){var Eb=this,kc,tc,Sc,Pd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ec){if(1==
ec.nextAddress)return kc=Zb.UserRegistry.current,tc=kc.loadUserFromLocalStorage(Zb.config.users.authServerURL),tc.isGuestUser?(Sc=tc,ec.jumpTo(2)):ec.yield(kc.login(Zb.ClientUser.guest),3);2!=ec.nextAddress&&(Sc=ec.yieldResult);Pd=Sc;Zb.signal(Eb,"resolved",Pd);ec.jumpToEnd()})}},{key:"indicateError",value:function(Eb,kc){Eb.indicateError(kc)}},{key:"clearErrors",value:function(){this.ui.userNameInput.clearError();this.ui.passwordInput.clearError()}},{key:"onMouseUp",value:function(Eb){var kc=this.ui,
tc=kc.loginButton;kc=kc.registerButton;switch(Eb.targetMorph){case tc:this.tryLogin();break;case kc:this.switchToRegisterWidget()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LoginWidget"}}],$a,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:12125,end:16036})}(Zb.UserWidget));
Zb.LoginWidget=dc;Zb.LoginWidget=dc;Zb.LoginWidget=dc;dc=Wa("RegisterWidget",function(Mc){var $a=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),$b=$a.hasOwnProperty("RegisterWidget")&&"function"===typeof $a.RegisterWidget?$a.RegisterWidget:$a.RegisterWidget=function(Eb){Eb&&Eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Vd($b,Mc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
emailInput:this.getSubmorphNamed("email input"),passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),registerButton:this.getSubmorphNamed("register button"),cancelButton:this.getSubmorphNamed("cancel button")}}},{key:"onEnterPressed",value:function(){this.tryRegister()}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.emailInput,this.ui.passwordInput,this.ui.passwordInput2]}},
{key:"reset",value:function(){this.withAllSubmorphsDo(function(Eb){Eb.draggable=!1;Eb.grabbable=!1});Zb.connect(this.ui.registerButton,"fire",this,"tryRegister");Zb.connect(this.ui.cancelButton,"fire",this,"close");this.ui.userNameInput.readOnly=!0;this.ui.userNameInput.selectable=!0;Zb.notify(this,"OK")}},{key:"displayUser",value:function(Eb){this.user=Eb}},{key:"tryRegister",value:function(){var Eb=this,kc,tc,Sc,Pd,ec,Xb,Jb,Ra,Ga,ea,Da,ta,Pa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ha){switch(Ha.nextAddress){case 1:kc=
Eb;tc=kc.ui;Sc=tc.userNameInput;Pd=tc.emailInput;ec=tc.passwordInput;Xb=tc.passwordInput2;Jb=Sc.input;Ra=Pd.input;Ga=ec.input;ea=Xb.input;if(!(Jb&&Ga&&ea&&Ra))return Jb||Sc.indicateError("Please enter a user name!"),Ra||Pd.indicateError("Please enter E-Mail address!"),Ga||ec.indicateError("Please enter a password!"),ea||Xb.indicateError("Please repeat your password!"),Ha.return();if(Ga!==ea)return Xb.indicateError("Passwords do not match!"),Ha.return();Da=Zb.ClientUser.named(Jb,Zb.config.users.authServerURL);
Ra&&(Da.email=Ra);Ha.setCatchFinallyBlocks(2);return Ha.yield(Zb.UserRegistry.current.register(Da,Ga),4);case 4:Ha.leaveTryBlock(3);break;case 2:ta=Pa=Ha.enterCatchBlock();case 3:return ta?Ha.return(Eb.world().inform("Failed to register: "+ta,{requester:Eb})):Ha.yield(Zb.notify(Eb,"registered"),5);case 5:Eb.displayUser(Da),Zb.signal(Eb,"resolved",Da),Ha.jumpToEnd()}})}},{key:"close",value:function(){Zb.signal(this,"resolved",this.user)}},{key:"onMouseUp",value:function(Eb){var kc=this.ui,tc=kc.registerButton;
kc=kc.cancelButton;switch(Eb.targetMorph){case tc:this.tryRegister();break;case kc:this.close()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RegisterWidget"}}],$a,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:16045,end:18939})}(Zb.UserWidget));Zb.RegisterWidget=
dc;Zb.RegisterWidget=dc;Zb.RegisterWidget=dc;dc=Wa("UserFlap",function(Mc){var $a=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),$b=$a.hasOwnProperty("UserFlap")&&"function"===typeof $a.UserFlap?$a.UserFlap:$a.UserFlap=function(Eb){Eb&&Eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Vd($b,Mc,[{key:"isUserFlap",get:function(){return!0}},{key:"isMaximized",get:function(){return 3<this.submorphs.length}},{key:"onLoad",
value:function(){var Eb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(kc){if(1==kc.nextAddress)return kc.yield(Eb.whenRendered(),2);if([Eb].concat($jscomp.arrayFromIterable(Eb.ownerChain())).find(function(tc){return tc.isComponent}))return kc.return();Eb.showUser(Eb.currentUser());kc.jumpToEnd()})}},{key:"open",value:function(){var Eb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(kc){Eb.openInWorld();Eb.showUser(Eb.currentUser(),!1);Eb.alignInWorld(!1);Eb.hasFixedPosition=
!0;return kc.return(Eb)})}},{key:"onMouseDown",value:function(Eb){var kc=this,tc,Sc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Pd){switch(Pd.nextAddress){case 1:tc=Eb.targetMorph.name;Sc=kc.currentUser();switch(tc){case "profile item":return Pd.return(kc.showUserInfo(Sc));case "logout item":return Pd.jumpTo(2);case "login item":return Pd.jumpTo(3);case "register item":kc.showRegister();break;case "user flap":kc.maximize();break;case "keyboard input":kc.toggleKeyboardInput()}Pd.jumpTo(0);
break;case 2:return Pd.yield(kc.minimize(),5);case 5:return Pd.yield(kc.logout(Sc),6);case 6:return Pd.return();case 3:return Pd.yield(kc.showLogin(Sc),7);case 7:return Pd.return()}})}},{key:"toggleKeyboardInput",value:function(Eb){Eb=void 0===Eb?!Zb.touchInputDevice:Eb;Zb.touchInputDevice=Eb;var kc=this.get("keyboard input");Eb?(kc.fontColor=Zb.Color.rgb(0,176,255),kc.dropShadow=this.haloShadow):(kc.fontColor=this.fontColor,kc.dropShadow=!1)}},{key:"currentUser",value:function(){return Zb.UserRegistry.current.loadUserFromLocalStorage(Zb.config.users.authServerURL)}},
{key:"onUserChanged",value:function(Eb){this.showUser(Eb.user||{name:"???"},!1)}},{key:"onWorldResize",value:function(Eb){!this.isComponent&&this.alignInWorld()}},{key:"relayout",value:function(){this.alignInWorld()}},{key:"alignInWorld",value:function(Eb){var kc=this,tc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sc){if(1==Sc.nextAddress)return Sc.yield(kc.whenRendered(),2);kc.hasFixedPosition&&kc.owner.isWorld?kc.topRight=Zb.pt(kc.world().visibleBounds().width,0):kc.owner.isWorld&&
(tc=$world.visibleBounds().topRight().withY(0).subXY(10,0),Eb?kc.animate({topRight:tc,duration:200}):kc.topRight=tc);Sc.jumpToEnd()})}},{key:"minimize",value:function(){var Eb=this,kc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tc){if(1==tc.nextAddress)return(kc=Eb.getSubmorphNamed("user menu"))?tc.yield(kc.animate({opacity:0,scale:.8,duration:200}),2):tc.return();kc.visible=!1;tc.jumpToEnd()})}},{key:"ensureMenu",value:function(){var Eb=this,kc,tc,Sc,Pd,ec,Xb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Jb){switch(Jb.nextAddress){case 1:if(!Eb._menuFetch){Jb.jumpTo(2);
break}return Jb.yield(Eb._menuFetch,3);case 3:return Jb.return(Jb.yieldResult);case 2:kc=Zb.promise.deferred();Eb._menuFetch=kc.promise;if(tc=Eb.getSubmorphNamed("user menu")){Jb.jumpTo(4);break}Sc=Eb;Pd=Sc.addMorph;ec=Sc;return Jb.yield(Zb.resource("part://SystemIDE/user menu master").read(),5);case 5:tc=Pd.call(ec,Jb.yieldResult);case 4:Xb=tc,Xb.name="user menu",Xb.visible=!1,Xb.opacity=0,Xb.scale=.8,Xb.position=Eb.getSubmorphNamed("avatar").bottomCenter.addXY(0,10),kc.resolve(Xb),Jb.jumpToEnd()}})}},
{key:"maximize",value:function(){var Eb=this,kc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tc){if(1==tc.nextAddress)return(kc=Eb.getSubmorphNamed("user menu"))?tc.jumpTo(2):tc.yield(Eb.ensureMenu(),3);2!=tc.nextAddress&&(kc=tc.yieldResult);kc.right=Eb.width-5;kc.visible=!0;return tc.yield(kc.animate({opacity:1,scale:1,duration:200}),0)})}},{key:"changeWidthAndHeight",value:function(Eb,kc,tc){var Sc=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Pd){return tc?Pd.yield(Sc.animate({position:Sc.position.addXY(Sc.width-
Eb,0),extent:Zb.pt(Eb,kc),duration:200}),0):(Sc.extent=Zb.pt(Eb,kc),Sc.position=Sc.position.addXY(Sc.width-Eb,0),Pd.jumpTo(0))})}},{key:"showMenuItems",value:function(Eb){var kc=this;Zb.arr.withoutAll(["login item","logout item","profile item","register item"],Eb).map(function(tc){return kc.getSubmorphNamed(tc)}).forEach(function(tc){tc.visible=!1;tc.bringToFront()});Eb.map(function(tc){return kc.getSubmorphNamed(tc)}).forEach(function(tc){tc.visible=!0})}},{key:"showUser",value:function(Eb,kc){var tc=
this,Sc,Pd,ec,Xb,Jb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ra){switch(Ra.nextAddress){case 1:return Sc=tc.getSubmorphNamed("label"),Pd=tc.getSubmorphNamed("user menu"),ec=tc.getSubmorphNamed("avatar"),tc.getSubmorphNamed("login item"),tc.getSubmorphNamed("logout item"),tc.getSubmorphNamed("profile item"),Xb=String(Eb.name),Jb=Zb.resource("https://s.gravatar.com/avatar").join(Zb.string.md5(Eb.email||"")).withQuery({s:160}).url,Ra.yield(tc.ensureMenu(),2);case 2:Xb.startsWith("guest-")?
(tc.showMenuItems(["login item","register item"]),Xb="guest"):tc.showMenuItems(["logout item","profile item"]);Sc.value=Xb;ec.imageUrl=Jb;if(!Pd){Ra.jumpTo(3);break}return Ra.yield(Pd.master.whenApplied(),4);case 4:Pd.position=ec.bottomCenter.addXY(0,10);case 3:return Ra.yield(tc.whenRendered(),5);case 5:tc.alignInWorld(),Ra.jumpToEnd()}})}},{key:"showRegister",value:function(){return Zb.UserUI.showRegister()}},{key:"showUserInfo",value:function(Eb){return Zb.UserUI.showUserInfo({user:Eb})}},{key:"showLogin",
value:function(Eb){return Zb.UserUI.showLogin({user:Eb})}},{key:"logout",value:function(Eb){return Zb.UserRegistry.current.logout(Eb)}},{key:"onBlur",value:function(Eb){var kc=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tc){if(1==tc.nextAddress)return kc.minimize(),tc.yield(kc.whenRendered(),2);kc.world().focusedMorph.ownerChain().includes(kc)&&kc.focus();tc.jumpToEnd()})}},{key:"showMenu",value:function(Eb,kc){kc=void 0===kc?!1:kc;var tc=this,Sc,Pd,ec,Xb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Jb){Sc=
tc.getSubmorphNamed("label");Pd=tc.getSubmorphNamed("avatar");ec=["open chat",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ra){Ra.jumpToEnd()})}];Xb=Object.assign(Zb.Menu.forItems(Eb.isGuestUser?[ec,["login",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ra){tc.minimize();tc.showLogin(Eb);Ra.jumpToEnd()})}]]:[["show user info",function(){tc.minimize();tc.showUserInfo(Eb)}],ec,["logout",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ra){if(1==
Ra.nextAddress)return Ra.yield(tc.minimize(),2);tc.logout(Eb);Ra.jumpToEnd()})}]]),{name:"menu",position:Zb.pt(10,5),dropShadow:!1,opacity:kc?0:1,borderWidth:0,fontSize:12,fontFamily:"Helvetica Neue, Verdana, Sans Serif"});Pd.visible=!1;Sc.visible=!1;tc.addMorph(Xb);kc&&Xb.animate({opacity:1,duration:200});return Jb.yield(tc.changeWidthAndHeight(Xb.width+20,Xb.height+10,kc),0)})}},{key:"updateNetworkIndicator",value:function(Eb){var kc="red";Eb&&(Eb.isOnline()&&(kc="yellow"),Eb.isRegistered()&&(kc=
"green"));this.get("network-indicator").animate({fill:Zb.Color[kc],duration:300})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserFlap"}},{key:"properties",get:function(){return{submorphs:{initialize:function(){this.submorphs=[{type:"label",name:"label",fontSize:12,fontFamliy:"Helvetica Neue, Verdana, Sans Serif",fontWeight:"bold",padding:Zb.Rectangle.inset(4),reactsToPointer:!1},Zb.Icon.makeLabel("user",{name:"avatar",fontColor:Zb.Color.black.withA(.3),fontSize:12,clipMode:"hidden",
padding:Zb.Rectangle.inset(2,2,4,0),borderWidth:1,borderColor:Zb.Color.black.withA(.3),extent:Zb.pt(20,20),borderRadius:10}),{name:"network-indicator",fill:Zb.Color.red,borderRadius:5,extent:Zb.pt(5,5),position:Zb.pt(5,8),reactsToPointer:!1}]}},fontColor:{after:["submorphs"],set:function(Eb){this.setProperty("fontColor",Eb)}},name:{initialize:function(){this.name="user flap"}},epiMorph:{defaultValue:!0},clipMode:{defaultValue:"hidden"},draggable:{defaultValue:!1},grabbable:{defaultValue:!1},acceptsDrops:{defaultValue:!1},
fill:{defaultValue:Zb.Color.white},borderRadiusBottom:{defaultValue:10},borderRadiusLeft:{defaultValue:10},borderRadiusRight:{defaultValue:10},nativeCursor:{defaultValue:"pointer"},respondsToVisibleWindow:{defaultValue:!0},haloColor:{readOnly:!0,get:function(){return Zb.Color.rgb(0,176,255)}},haloShadow:{readOnly:!0,get:function(){return{distance:2,rotation:45,color:Zb.Color.rgba(64,196,255,.4),inset:!1,blur:6,spread:0,fast:!1}}}}}}],$a,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:18948,end:28078})}(Zb.Morph));Zb.UserFlap=dc;Zb.UserFlap=dc;Zb.UserFlap=dc}}});
System.register(["./__root_module__-cddb8267.js","./index-51795659.js"],function(Ea){var Cb,Kb,lc,$b,Qd,Zc,Rd,ad,Nc,nd,he,af,Af,rd,cc,Ic,Kd,Kc,Bd,be,yc,Cc,Pb,Dc,Xc,Cd,Od,Gb,sb,Bc,gb,rb,Sa,Ua,cb,ab,qb,Zb,kc,Rb,ma,Ia,W,sa,Za,mb,rc,xd,sc,Na,Xd,Gd,td;return{setters:[function(Ib){Cb=Ib.C;Kb=Ib.a2;lc=Ib.b7;$b=Ib.b8;Qd=Ib.b9;Zc=Ib.ba;Rd=Ib.bb;ad=Ib.bc;Nc=Ib.a3;nd=Ib.al;he=Ib.bd;af=Ib.be;Af=Ib.bf;rd=Ib.an;cc=Ib.b0;Ic=Ib.ap;Kd=Ib.aD;Kc=Ib.ac;Bd=Ib.b1;be=Ib.ar;yc=Ib.I;Cc=Ib.aX;Pb=Ib.b5;Dc=Ib.bg;Xc=Ib.bh;
Cd=Ib.au;Od=Ib.av;Gb=Ib.at;sb=Ib.a6;Bc=Ib.bi;gb=Ib.aw;rb=Ib.as;Sa=Ib.aE;Ua=Ib.ad;cb=Ib.bj;ab=Ib.aq;qb=Ib.ab;Zb=Ib.ae;kc=Ib.$;Rb=Ib.ax;ma=Ib.a7;Ia=Ib.a8;W=Ib.a1;sa=Ib.bk;Za=Ib.bl;mb=Ib.bm;rc=Ib.am;xd=Ib.aj;sc=Ib.aP},function(Ib){Na=Ib.p;Xd=Ib.P;Gd=Ib._;td=Ib.N}],execute:function(){var Ib=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");Ib.Color=Cb;Ib.rect=Kb;Ib.Complementary=lc;Ib.Triadic=$b;Ib.Tetradic=Qd;Ib.Quadratic=Zc;Ib.Analogous=Rd;Ib.Neutral=ad;Ib.pt=Nc;Ib.Point=nd;Ib.flatDesignColors=
he;Ib.materialDesignColors=af;Ib.webSafeColors=Af;Ib.Morph=rd;Ib.CustomLayout=cc;Ib.VerticalLayout=Ic;Ib.HorizontalLayout=Kd;Ib.Text=Kc;Ib.TilingLayout=Bd;Ib.Ellipse=be;Ib.Image=yc;Ib.StyleSheet=Cc;Ib.DropDownSelector=Pb;Ib.ModeSelector=Dc;Ib.Slider=Xc;Ib.connect=Cd;Ib.signal=Od;Ib.num=Gb;Ib.arr=sb;Ib.SnapLayout=Bc;Ib.WHEEL_URL="/lively.ide/assets/color-wheel.png";Ib.duration=200;(function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),te=ed.hasOwnProperty("ColorPaletteField")&&
"function"===typeof ed.ColorPaletteField?ed.ColorPaletteField:ed.ColorPaletteField=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"onHoverIn",value:function(){if(this.color){var wa=$jscomp.makeIterator(this.color.toHSB()),fb=wa.next().value,Va=wa.next().value;wa=wa.next().value;this.borderColor=Ib.Color.hsb(fb,1<Va+.5?Va-.5:Va+.5,1<wa+.5?wa-.5:wa+.5)}}},{key:"onHoverOut",value:function(){this.borderColor=
Ib.Color.transparent}},{key:"onMouseDown",value:function(){Ib.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:Ib.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||Ib.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||Ib.Color.transparent}},styleClasses:{after:["color"],
initialize:function(){this.styleClasses=this.color?["colorField"]:["vacantColorField"]}}}}}],ed,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:638,end:1607})})(Ib.Morph);(function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),te=ed.hasOwnProperty("ColorHarmonyField")&&
"function"===typeof ed.ColorHarmonyField?ed.ColorHarmonyField:ed.ColorHarmonyField=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"onMouseDown",value:function(){Ib.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:Ib.pt(80,60)},fill:{defaultValue:Ib.Color.transparent},
master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color harmony field"}}},color:{set:function(wa){var fb=$jscomp.makeIterator(this.submorphs),Va=fb.next().value;fb=fb.next().value;var ob=$jscomp.makeIterator(wa?wa.toHSB():[]),P=ob.next().value,ua=ob.next().value;ob=ob.next().value;this.setProperty("color",wa);wa&&Va&&fb&&(Va.fill=wa,fb.textString=wa.toHexString(),fb.fontColor=Ib.Color.hsb(P,1<ua+.5?ua-.5:ua+.5,1<ob+.5?ob-.5:ob+.5))}},submorphs:{after:["color"],initialize:function(){var wa=
$jscomp.makeIterator((this.color||Ib.Color.transparent).toHSB()),fb=wa.next().value,Va=wa.next().value;wa=wa.next().value;this.submorphs=[new Ib.Morph({fill:this.color,extent:Ib.pt(80,50)}),new Ib.Text({textString:fb.toFixed()+", "+Va.toFixed(2)+", "+wa.toFixed(2),fill:Ib.Color.transparent,fontColor:Ib.Color.gray.darker(),bottomLeft:Ib.pt(0,50)})]}}}}}],ed,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:1609,end:3001})})(Ib.Morph);(function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),te=ed.hasOwnProperty("HarmonyDisplay")&&"function"===typeof ed.HarmonyDisplay?ed.HarmonyDisplay:ed.HarmonyDisplay=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"update",value:function(wa){var fb=$jscomp.makeIterator(wa.pivotColor.toHSB()),
Va=fb.next().value,ob=fb.next().value;fb=fb.next().value;Va=wa.harmony.chord({hue:Va,saturation:ob,brightness:fb});Va.length!=this.submorphs.length?this.submorphs=Va.map(function(P){P=new Ib.ColorHarmonyField({color:P});Ib.connect(P,"updateColor",wa,"color");return P}):Ib.arr.zip(this.submorphs,Va).forEach(function(P){var ua=$jscomp.makeIterator(P);P=ua.next().value;ua=ua.next().value;P.color=ua})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyDisplay"}}],ed,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3003,end:3581})})(Ib.Morph);(function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),te=ed.hasOwnProperty("PivotColorControl")&&"function"===typeof ed.PivotColorControl?ed.PivotColorControl:ed.PivotColorControl=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"update",value:function(wa){this.pivotColor=wa.pivotColor}},{key:"onDrag",value:function(wa){var fb=$jscomp.makeIterator(this.pivotColor.toHSB()),Va=fb.next().value,ob=fb.next().value;fb=fb.next().value;Va=Ib.num.toRadians(Va);wa=Ib.Point.polar(50*ob,Va).addPt(wa.state.dragDelta);Va=Ib.num.toDegrees(wa.theta());Va=0>Va?Va+360:Va;ob=Math.min(wa.r()/50,1);this.pivotColor=Ib.Color.hsb(Va,ob,fb)}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:Ib.Color.blue},draggable:{defaultValue:!0}}}}],ed,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3583,end:4217})})(Ib.Ellipse);(function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
te=ed.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof ed.HarmonyVisualizer?ed.HarmonyVisualizer:ed.HarmonyVisualizer=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"update",value:function(wa){var fb=$jscomp.makeIterator(this.submorphs).next().value,Va=this.get("pivot control"),ob=$jscomp.makeIterator(wa.pivotColor.toHSB()),P=ob.next().value,ua=ob.next().value;ob=ob.next().value;var bb=
Ib.num.toRadians(P);P=wa.harmony.chord({hue:P,saturation:ua,brightness:ob}).map(function(Nb){var ic=$jscomp.makeIterator(Nb.toHSB()),fd=ic.next().value;Nb=ic.next().value;ic.next();ic=Ib.num.toRadians(fd);return Ib.Point.polar(50*Nb,ic)});fb.fill=Ib.Color.black.withA(1-ob);Va.update(wa);fb.submorphs.length-1!=P.length?fb.submorphs=[].concat($jscomp.arrayFromIterable(P.map(function(Nb){return new Ib.Ellipse({center:Nb,fill:Ib.Color.transparent,draggable:!1,borderWidth:1,borderColor:Ib.Color.black})})),
[Va]):(Ib.arr.zip(fb.submorphs,P).forEach(function(Nb){var ic=$jscomp.makeIterator(Nb);Nb=ic.next().value;if(ic=ic.next().value)Nb.center=ic}),Va.center=Ib.Point.polar(50*ua,bb))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new Ib.PivotColorControl({name:"pivot control"})]}]}}}}}],
ed,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4219,end:5681})})(Ib.Image);(function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),te=ed.hasOwnProperty("HarmonyPalette")&&"function"===typeof ed.HarmonyPalette?ed.HarmonyPalette:ed.HarmonyPalette=
function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"update",value:function(wa){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=wa.pivotBrightness,this.harmony=wa.harmony,this.get("harmonies").update(wa),this.get("harmony visualizer").update(wa),this.updateInProgress=!1)}},{key:"harmonyControl",value:function(){var wa,fb,Va=new Ib.Morph({name:"harmonyControl",submorphs:[new Ib.HarmonyVisualizer({name:"harmony visualizer"}),
fb=new Ib.Slider({min:0,max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),wa=new Ib.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new Ib.Complementary,Triadic:new Ib.Triadic,Tetradic:new Ib.Tetradic,Quadratic:new Ib.Quadratic,Analogous:new Ib.Analogous,Neutral:new Ib.Neutral}})]});Ib.connect(fb,"value",this,"pivotBrightness");Ib.connect(wa,"selectedValue",
this,"harmony");return Va}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new Ib.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],initialize:function(){this.submorphs=[new Ib.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],ed,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5683,end:7610})})(Ib.Morph);var jc=Ea("C",function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),te=ed.hasOwnProperty("ColorPalette")&&"function"===typeof ed.ColorPalette?ed.ColorPalette:ed.ColorPalette=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"fadeIntoWorld",value:function(wa){gb._get(Object.getPrototypeOf(te.prototype),"fadeIntoWorld",this).call(this,wa);this.initPosition=wa;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function(wa){"Escape"==wa.key&&this.close()}},{key:"close",value:function(wa){wa?this.fadeOut(wa):this.remove();Ib.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",
extent:Ib.pt(400,253),submorphs:[this.solidColorPalette(),new Ib.HarmonyPalette({name:"harmony palette",isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var wa=this.get("solidColorPalette"),fb=this.get("paletteView");wa.visible||(fb.submorphs.forEach(function(Va){return Va.animate({isLayoutable:!1,visible:!1,duration:200})}),wa.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var wa=this.get("paletteView");this.get("harmony palette").visible||
(wa.submorphs.forEach(function(fb){return fb.animate({isLayoutable:!1,visible:!1,duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var wa=new Ib.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette","Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});Ib.connect(wa,"Color Palette",this,"selectSolidMode");Ib.connect(wa,"Color Harmonies",this,"selectHarmonyMode");
return wa}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var wa=this.getColorsFor(this.colorPalette),fb=wa.colors,Va=wa.mod;return this.cachedPalette[wa.name]||this.getPalette(fb,Va)}},{key:"getPalette",value:function(wa,fb){var Va=this,ob=Math.max(Math.ceil(wa.length/fb),15),P=ob*this.colorFieldWidth,ua=
fb*this.colorFieldWidth;wa=[].concat($jscomp.arrayFromIterable(wa),$jscomp.arrayFromIterable(Ib.arr.withN(ob*fb-wa.length,null)));return{extent:Ib.pt(P,ua),name:"paletteContainer",submorphs:wa.map(function(bb){bb=new Ib.ColorPaletteField({color:bb&&Ib.Color.rgbHex(bb),extent:Ib.pt(Va.colorFieldWidth,Va.colorFieldWidth)});Ib.connect(bb,"updateColor",Va,"color");return bb})}}},{key:"switchPalette",value:function(wa){var fb=wa.name,Va=wa.colors;wa=wa.mod;var ob=this.get("solidColorPalette"),P=$jscomp.makeIterator(ob.submorphs);
P.next();P=P.next().value;this.cachedPalette[fb]=this.cachedPalette[fb]||this.getPalette(Va,wa,fb);ob.submorphs=[this.cachedPalette[fb],P]}},{key:"getPaletteDescription",value:function(wa){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",custom:"Your personal set of customly defined colors.",
materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[wa]}},{key:"updatePaletteDescription",
value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function(wa){return Object.assign({name:wa},{flatDesign:{colors:Ib.flatDesignColors,mod:11},materialDesign:{colors:Ib.materialDesignColors,mod:15},webSafe:{colors:Ib.webSafeColors,mod:12}}[wa])}},{key:"paletteConfig",value:function(){var wa,fb={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[wa=new Ib.DropDownSelector({isHaloItem:!0,name:"paletteSelector",
selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};Ib.connect(wa,"selectedValue",this,"colorPalette");return fb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:Ib.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function(wa){this.setProperty("colorPalette",
wa);this.switchPalette(this.getColorsFor(wa));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function(wa){this.setProperty("pivotColor",wa);this.get("harmony palette").update(this)}},color:{set:function(wa){this.setProperty("color",wa);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var wa=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());wa.next();wa.next();return wa.next().value},
set:function(wa){var fb=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),Va=fb.next().value;fb=fb.next().value;this.pivotColor=Ib.Color.hsb(Va,fb,wa)}},harmony:{after:["submorphs","pivotColor"],defaultValue:new Ib.Complementary,set:function(wa){this.setProperty("harmony",wa);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var wa=
$jscomp.makeIterator(this.color.toHSB()),fb=wa.next().value,Va=wa.next().value;wa.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=Ib.Color.hsb(fb,Va,1);Ib.connect(this.get("harmony palette"),"harmony",this,"harmony");Ib.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");Ib.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],ed,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:7676,end:15467})}(Ib.Morph));Ib.ColorPalette=jc;Ib.ColorPalette=jc;Ib.ColorPalette=jc;var tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");tb.Morph=rd;tb.Icon=rb;tb.ProportionalLayout=Sa;tb.config=Ua;tb.Text=Kc;tb.ShadowObject=cb;tb.GridLayout=ab;tb.TilingLayout=
Bd;tb.StyleSheet=Cc;tb.morph=qb;tb.HorizontalLayout=Kd;tb.VerticalLayout=Ic;tb.KeyHandler=Zb;tb.connect=Cd;tb.signal=Od;tb.arr=sb;tb.promise=kc;tb.fun=Rb;tb.string=ma;tb.obj=Ia;tb.Color=Cb;tb.rect=Kb;tb.Rectangle=W;tb.pt=Nc;tb.popovers=Na;tb.ModeSelector=Dc;tb.DropDownSelector=Pb;tb.SearchField=sa;tb.CheckBox=Za;tb.Popover=Xd;tb.SvgStyleHalo=Gd;tb.NumberWidget=td;tb.Icons=mb;tb.duration=200;var Sc=Ea("c",tb.colorWidgets||{});tb.colorWidgets=Sc;tb.colorWidgets=Sc;tb.colorWidgets=Sc;(function(oe){var ed=
lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),te=ed.hasOwnProperty("SelectableControl")&&"function"===typeof ed.SelectableControl?ed.SelectableControl:ed.SelectableControl=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"select",value:function(wa){var fb=this,Va,ob,P;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ua){if(1==ua.nextAddress)return fb.target?
ua.yield(fb.target.execCommand(wa),2):ua.return();Va=ua.yieldResult;ob=fb.get("modeSelector");Va.opacity=0;fb.lastLabel&&(P=ob.submorphs.indexOf(fb.lastLabel)<ob.submorphs.indexOf(ob.currentLabel),Va.topLeft=ob.bottomLeft.addXY(P?20:-20,10));fb.lastLabel=ob.currentLabel;fb.animate({submorphs:[ob,Va],duration:tb.duration});Va.animate({opacity:1,duration:tb.duration});ua.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SelectableControl"}},{key:"properties",get:function(){return{target:{type:"Morph"},
selectableControls:{},selectedControl:{},fill:{defaultValue:tb.Color.transparent},layout:{initialize:function(){this.layout=new tb.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function(wa){return this.container.submorphs.indexOf(wa)}})}},submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var wa=new tb.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});this.submorphs=[wa];wa.width=100;tb.connect(wa,"switchLabel",
this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:948,end:2579})})(tb.Morph);(function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),te=ed.hasOwnProperty("ToggledControl")&&
"function"===typeof ed.ToggledControl?ed.ToggledControl:ed.ToggledControl=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"toggle",value:function(wa){var fb=$jscomp.makeIterator(this.submorphs).next().value,Va=this.toggledControl(wa);fb=[fb].concat($jscomp.arrayFromIterable(Va?[Va]:[]));tb.signal(this,"update",wa&&Va.value);Va&&(Va.opacity=0);this.animate({submorphs:fb,duration:tb.duration});Va&&
Va.animate({opacity:1,duration:tb.duration})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:tb.Color.transparent},layout:{initialize:function(){this.layout=new tb.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var wa=new tb.CheckBox({checked:this.checked});this.submorphs=[{fill:tb.Color.transparent,
layout:new tb.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:tb.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},wa]}];this.toggle(this.checked);tb.connect(wa,"toggle",this,"toggle")}}}}}],ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2581,end:4273})})(tb.Morph);(function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),te=ed.hasOwnProperty("StylePopover")&&"function"===typeof ed.StylePopover?ed.StylePopover:ed.StylePopover=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"setupConnections",value:function(){}},{key:"controls",
value:function(){return[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=tb.morph({layout:new tb.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:tb.Color.transparent,submorphs:this.controls()});this.setupConnections()}}}}}],ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4275,end:4825})})(tb.Popover);var vd=function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),te=ed.hasOwnProperty("IconPopover")&&"function"===typeof ed.IconPopover?ed.IconPopover:ed.IconPopover=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"onDrop",value:function(wa){var fb=this;wa.hand.grabbedMorphs.find(function(Va){return Va===
fb.iconLabel})&&(wa.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new tb.VerticalLayout({spacing:4}),fill:tb.Color.transparent,submorphs:[new tb.SearchField({name:"searchInput",width:200,placeHolder:"Search Icons"}),tb.morph({textAndAttributes:this.iconAsTextAttributes(),name:"iconList",draggable:!0,type:"text",extent:tb.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var wa=
this.ui,fb=wa.iconList;tb.connect(wa.searchInput,"searchInput",this,"filterIcons");tb.connect(fb,"onMouseUp",this,"iconSelectClick");tb.connect(fb,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",value:function(wa){wa=this.ui.iconList.textPositionFromPoint(wa.positionIn(this.ui.iconList));wa=this.iconAtTextPos(wa);this.iconLabel=tb.Icon.makeLabel(wa,{fontSize:this.ui.iconList.fontSize,name:wa});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",
value:function(wa){var fb=Object.keys(tb.Icons);wa&&(fb=fb.filter(wa));return tb.arr.flatmap(fb,function(Va,ob){return[tb.Icons[Va].code,{iconCode:tb.Icons[Va].code,iconName:Va}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",value:function(){var wa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(fb){if(1==fb.nextAddress)return fb.yield(tb.promise.delay(250),2);tb.fun.debounceNamed("filterIcons",200,function(){wa.ui.iconList.textAndAttributes=wa.iconAsTextAttributes(function(Va){return wa.ui.searchInput.matches(Va.toLowerCase())})})();
fb.jumpToEnd()})}},{key:"iconSelectClick",value:function(wa){wa=this.ui.iconList.textPositionFromPoint(wa.positionIn(this.ui.iconList));wa=this.iconAtTextPos(wa);this.setStatusMessage(wa);tb.signal(this,"select",wa)}},{key:"iconAtTextPos",value:function(wa){var fb=wa.row;wa=wa.column;--wa;for(var Va=this.ui.iconList,ob=Va.textAndAttributesInRange({start:{row:fb,column:Math.max(0,wa)},end:{row:fb,column:wa+2}});ob.length&&!ob[1].iconName;)wa++,ob=ob.slice(2);var P={start:{row:fb,column:wa},end:{row:fb,
column:wa+1}};Va.addTextAttribute({backgroundColor:Va.selectionColor.darker().withA(.5)},P);tb.promise.delay(1E3).then(function(){return Va.addTextAttribute({backgroundColor:tb.Color.transparent},P)});return ob.length?ob[1].iconName:null}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"IconPopover"}},{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:tb.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),
iconList:this.get("iconList")}}}}}}],ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4834,end:8444})}(tb.StylePopover);tb.IconPopover=vd;tb.IconPopover=vd;tb.IconPopover=vd;var nb=function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),te=
ed.hasOwnProperty("LayoutPopover")&&"function"===typeof ed.LayoutPopover?ed.LayoutPopover:ed.LayoutPopover=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"getLayoutObjects",value:function(){return[null,new tb.HorizontalLayout({autoResize:!1}),new tb.VerticalLayout({autoResize:!1}),new tb.TilingLayout,new tb.ProportionalLayout,new tb.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){gb._get(Object.getPrototypeOf(te.prototype),
"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:tb.Color.transparent,layout:new tb.VerticalLayout({spacing:5,layoutOrder:function(wa){return this.container.submorphs.indexOf(wa)}}),submorphs:[this.layoutPicker(),this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),
duration:300}:{isLayoutable:!1,extent:tb.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function(wa){this.clearLayoutHalo();wa&&wa.layout&&(this.layoutHalo=(wa.world()||wa.env.world).showLayoutHaloFor(wa))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function(wa){return wa?wa.name()+" Layout":
"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function(wa){this.container.animate({layout:wa});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());tb.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var wa=this,fb=this.getLayoutObjects().map(function(Va){var ob={};return ob[wa.getLayoutName(Va)]=Va,ob});fb=this.get("Layout Type")||new tb.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return wa.getCurrentLayoutName()},
selectedValue:this.container.layout,values:tb.obj.merge(fb)});tb.connect(fb,"selectedValue",this,"applyLayout");return fb}},{key:"layoutControls",value:function(){return{name:"controlContainer",fill:tb.Color.transparent,layout:new tb.VerticalLayout,isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:tb.Color.gray.lighter()}}}}],
ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:8453,end:11192})}(tb.StylePopover);tb.LayoutPopover=nb;tb.LayoutPopover=nb;tb.LayoutPopover=nb;var vb=function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),te=ed.hasOwnProperty("FillPopover")&&
"function"===typeof ed.FillPopover?ed.FillPopover:ed.FillPopover=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"openHandle",value:function(wa){wa.openInWorld();this.openHandles.push(wa)}},{key:"close",value:function(){gb._get(Object.getPrototypeOf(te.prototype),"close",this).call(this);this.openHandles.forEach(function(wa){return wa.remove()})}},{key:"setupConnections",value:function(){var wa=
this.ui,fb=wa.fillSelector,Va=wa.colorField;wa=wa.gradientEditor;fb&&tb.connect(this,"fillValue",fb,"value");wa&&(tb.connect(wa,"gradientValue",this,"fillValue"),tb.connect(wa,"openHandle",this,"openHandle"));Va&&(tb.connect(this,"close",Va,"remove"),tb.connect(Va,"update",this,"fillValue"),tb.connect(this,"onMouseDown",Va,"removeWidgets"))}},{key:"commands",get:function(){var wa=this;return gb._get(Object.getPrototypeOf(te.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var fb=
new tb.colorWidgets.ColorPickerField({name:"colorField",colorValue:wa.fillValue.isGradient?tb.Color.blue:wa.fillValue});fb.whenRendered().then(function(){wa.setupConnections()});return fb}},{name:"switch to gradient",exec:function(){var fb=new tb.colorWidgets.GradientEditor({name:"gradient editor",gradientValue:wa.fillValue});fb.whenRendered().then(function(){wa.setupConnections();wa.handleMorph&&fb.showGradientHandlesOn(wa.handleMorph);fb.update()});return fb}}])}},{key:"controls",value:function(){return this.gradientEnabled?
[new tb.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]:[{fill:tb.Color.transparent,layout:new tb.VerticalLayout({spacing:0}),submorphs:[new tb.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue})]}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},
fillValue:{defaultValue:tb.Color.blue},popoverColor:{defaultValue:tb.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:11201,end:14064})}(tb.StylePopover);tb.FillPopover=vb;tb.FillPopover=vb;tb.FillPopover=vb;var yb=Ea("S",function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),te=ed.hasOwnProperty("ShadowPopover")&&"function"===typeof ed.ShadowPopover?ed.ShadowPopover:ed.ShadowPopover=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"controls",value:function(){var wa=
this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",fb=[{layout:new tb.VerticalLayout({resizeContainer:!0,spacing:5}),fill:tb.Color.transparent,name:"control container",submorphs:[wa=new tb.DropDownSelector({name:"shadow type",borderRadius:2,padding:3,selectedValue:wa,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?this.shadowControls():[])}];tb.connect(wa,"selectedValue",this,"changeShadowType");return fb}},{key:"shadowControls",value:function(){var wa=
this.shadowValue,fb=new tb.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:wa.distance,unit:"px"}),Va=new tb.NumberWidget({name:"angleSlider",min:0,max:360,number:wa.rotation,autofit:!1}),ob=new tb.NumberWidget({name:"spreadSlider",min:0,number:wa.spread,autofit:!1}),P=new tb.NumberWidget({name:"blurSlider",min:0,number:wa.blur,autofit:!1});wa=new tb.colorWidgets.ColorPickerField({name:"colorPicker",colorValue:wa.color});tb.connect(wa,"colorValue",this,"updateShadow",{converter:function(ua){return{color:ua}}});
tb.connect(this,"onMouseDown",wa,"removeWidgets");tb.connect(this,"close",wa,"remove");tb.connect(ob,"update",this,"updateShadow",{converter:function(ua){return{spread:ua}}});tb.connect(fb,"update",this,"updateShadow",{converter:function(ua){return{distance:ua}}});tb.connect(P,"update",this,"updateShadow",{converter:function(ua){return{blur:ua}}});tb.connect(Va,"update",this,"updateShadow",{converter:function(ua){return{rotation:ua}}});return new tb.Morph({layout:new tb.GridLayout({autoAssign:!1,
fitToCell:!1,columns:[0,{paddingLeft:1}],rows:tb.arr.flatten(tb.arr.range(0,3).map(function(ua){return[ua,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",null,"distanceSlider"],["blurLabel",null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:tb.Color.transparent,submorphs:tb.arr.flatten([["distance",fb],["spread",ob],["blur",P],["angle",Va],["color",wa]].map(function(ua){var bb=$jscomp.makeIterator(ua);
ua=bb.next().value;bb=bb.next().value;return[{type:"label",styleClasses:["controlName"],value:tb.string.capitalize(ua)+":",name:ua+"Label"},bb]}))})}},{key:"changeShadowType",value:function(wa){"No Shadow"==wa?this.toggleShadow(!1):"Inset Shadow"==wa?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?this.shadowControls():[]),duration:300})}},{key:"updateShadow",
value:function(wa){var fb=this.shadowValue;wa=Object.assign({fast:fb.fast,color:fb.color,spread:fb.spread,blur:fb.blur,distance:fb.distance,rotation:fb.rotation,inset:fb.inset},wa);this.shadowValue=new tb.ShadowObject(wa)}},{key:"toggleShadow",value:function(wa){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=wa&&this.cachedShadow}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowPopover"}},{key:"properties",get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new tb.ShadowObject({fast:!0})},
popoverColor:{defaultValue:tb.Color.gray.lighter()}}}}],ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:14073,end:18507})}(tb.StylePopover));tb.ShadowPopover=yb;tb.ShadowPopover=yb;tb.ShadowPopover=yb;tb.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";
var yd=function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),te=ed.hasOwnProperty("PointPopover")&&"function"===typeof ed.PointPopover?ed.PointPopover:ed.PointPopover=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"refineResolution",value:function(wa){this.resolution=.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function(wa){this.pointValue=
this.pointValue.addPt(wa.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){gb._get(Object.getPrototypeOf(te.prototype),"relayout",this).call(this);var wa=this.getSubmorphNamed("mesh"),fb=this.getSubmorphNamed("point value view");wa.origin=wa.innerBounds().center().addXY(4,1);wa.position=this.get("body").innerBounds().center();wa.scale=this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";
fb.value=tb.obj.safeToString(this.pointValue);fb.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function(wa){var fb=this;gb._get(Object.getPrototypeOf(te.prototype),Symbol.for("lively-instance-initialize"),this).call(this,wa);this.whenRendered().then(function(){return fb.relayout()})}},{key:"calibrate",value:function(){var wa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(fb){if(1==fb.nextAddress)return wa.get("knob").animate({center:wa.innerBounds().center(),
duration:200}),fb.yield(wa.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);wa.relayout();fb.jumpToEnd()})}},{key:"showPointValue",value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},{key:"controls",value:function(){this.extent=tb.pt(200,200);var wa,fb,Va=[tb.morph({extent:tb.pt(200,200),clipMode:"hidden",fill:tb.Color.transparent,submorphs:[{type:"image",name:"mesh",fill:tb.Color.transparent,opacity:.5,imageUrl:tb.milimeter,autoResize:!0},
{extent:tb.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:tb.Color.gray},fill:tb.Color.transparent},wa=tb.morph({name:"scroller",extent:tb.pt(200,200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),fb=tb.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:tb.Color.red,borderColor:tb.Color.black,borderWidth:1,center:tb.pt(100,100)}),{type:"label",name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:tb.pt(10,10),
type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];wa.scroll=tb.pt(0,120);tb.connect(fb,"onDragStart",this,"showPointValue");tb.connect(fb,"onDrag",this,"adjustPoint");tb.connect(fb,"onDragEnd",this,"calibrate");tb.connect(this,"extent",this,"relayout");tb.connect(wa,"onScroll",this,"refineResolution");return Va}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"PointPopover"}},{key:"properties",get:function(){return{pointValue:{defaultValue:tb.pt(0,0)},resolution:{defaultValue:1}}}}],
ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:18622,end:21799})}(tb.StylePopover);tb.PointPopover=yd;tb.PointPopover=yd;tb.PointPopover=yd;var ae=function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),te=ed.hasOwnProperty("RectanglePopover")&&
"function"===typeof ed.RectanglePopover?ed.RectanglePopover:ed.RectanglePopover=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"controls",value:function(){var wa=this;return[{fill:tb.Color.transparent,extent:tb.pt(120,120),layout:new tb.GridLayout({grid:[["top","top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],columns:[0,{paddingLeft:4},1,{paddingRight:4,
fixed:!0,width:60}],rows:tb.arr.flatten(tb.arr.range(0,3).map(function(fb){return[fb,{paddingTop:0==fb?4:2,paddingBottom:3==fb?4:2}]}))}),submorphs:tb.arr.flatten(["top","right","bottom","left"].map(function(fb){var Va=new tb.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},name:fb+" scrubber",autofit:!1,number:wa.rectangle.partNamed(fb)});tb.connect(Va,"update",wa,"rectangle",{updater:function(ob,P){var ua=this.targetObj.rectangle,bb={};P=(bb.left=ua.left(),bb.top=ua.top(),
bb.right=ua.right(),bb.bottom=ua.bottom(),bb[fb]=P,bb);ob(tb.Rectangle.inset(P.left,P.top,P.right,P.bottom))},varMapping:{side:fb,Rectangle:W}});return[{type:"label",styleClasses:["controlName"],name:fb,value:fb,padding:3},Va]}))}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RectanglePopover"}},{key:"properties",get:function(){return{popoverColor:{defaultValue:tb.Color.gray.lighter()},rectangle:{defaultValue:tb.rect(0)}}}}],ed,{pathInPackage:function(){return"styling/style-popover.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:21808,end:23792})}(tb.StylePopover);tb.RectanglePopover=ae;tb.RectanglePopover=ae;tb.RectanglePopover=ae;var He=function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),te=ed.hasOwnProperty("TextPopover")&&"function"===typeof ed.TextPopover?ed.TextPopover:
ed.TextPopover=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"controls",value:function(){var wa=new tb.Text(Object.assign({name:"editor",extent:tb.pt(300,200),textString:this.text,lineWrapping:"by-chars"},tb.config.codeEditor.defaultStyle));return[{layout:new tb.HorizontalLayout,fill:tb.Color.transparent,borderColor:tb.Color.gray,borderWidth:1,borderRadius:4,clipMode:"hidden",submorphs:[wa]}]}},
{key:"commands",get:function(){return gb._get(Object.getPrototypeOf(te.prototype),"commands",this).concat([{name:"save string",exec:function(wa){return $jscomp.asyncExecutePromiseGeneratorProgram(function(fb){wa.text=wa.get("editor").textString;tb.signal(wa,"save",wa.text);wa.setStatusMessage("String saved!",tb.Color.green);fb.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return gb._get(Object.getPrototypeOf(te.prototype),"keybindings",this).concat([{keys:{mac:"Command-S",win:"Ctrl-S"},command:"save string"}])}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],ed,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:23801,end:24876})}(tb.StylePopover);tb.TextPopover=He;tb.TextPopover=
He;tb.TextPopover=He;Object.assign(tb.popovers,{FillPopover:vb,IconPopover:vd,RectanglePopover:ae,ShadowPopover:yb,PointPopover:yd,LayoutPopover:nb});var Fc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");Fc.Morph=rd;Fc.morph=qb;Fc.StyleSheet=Cc;Fc.Text=Kc;Fc.Icon=rb;Fc.VerticalLayout=Ic;Fc.GridLayout=ab;Fc.HorizontalLayout=Kd;Fc.pt=Nc;Fc.Rectangle=W;Fc.Color=Cb;Fc.LinearGradient=rc;Fc.rect=Kb;Fc.signal=Od;Fc.once=xd;Fc.connect=Cd;Fc.obj=Ia;Fc.Window=sc;Fc.ColorPalette=jc;
Fc.FillPopover=vb;Fc.colorWidgets=Sc;Fc.Slider=Xc;Fc.Popover=Xd;Fc.WHEEL_URL="/lively.ide/assets/color-wheel.png";jc=function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),te=ed.hasOwnProperty("ColorPickerField")&&"function"===typeof ed.ColorPickerField?ed.ColorPickerField:ed.ColorPickerField=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"testAttr",get:function(){return[42]}},
{key:"spec",value:function(){return Fc.obj.dissoc(gb._get(Object.getPrototypeOf(te.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function(wa){"Escape"==wa.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,duration:300})}},{key:"onHoverOut",value:function(){this.get("dropDownIndicator").animate({opacity:0,duration:300})}},
{key:"update",value:function(wa){this._updating=!0;var fb=this.submorphs[1];this.colorValue=wa;this.get("topLeft").fill=wa;this.get("bottomRight").fill=wa.isGradient?Fc.Color.transparent:wa.withA(1);fb.visible=fb.isLayoutable=!this.gradientEnabled;this.gradientEnabled?this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=this.get("topLeft").width=this.width-fb.width;this.get("bottomRight").left=0;this.get("dropDownIndicator").right=
this.get("paletteButton").width-5;this._updating=!1}},{key:"openPicker",value:function(wa){var fb=this,Va;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ob){Va=fb.picker||new Fc.ColorPicker({color:fb.colorValue});Va.position=Fc.pt(0,-Va.height/2);Fc.connect(Va,"color",fb,"update");fb.picker=Va.openInWorld();fb.picker.topLeft=fb.globalBounds().bottomCenter();fb.picker.topLeft=fb.world().visibleBounds().translateForInclusion(fb.picker.globalBounds()).topLeft();fb.removePalette();ob.jumpToEnd()})}},
{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function(wa){var fb=this,Va;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ob){if(1==ob.nextAddress)return Va=fb.gradientEnabled?fb.fillWidget:fb.palette,fb.gradientEnabled?Fc.connect(Va,"fillValue",fb,"update"):Fc.connect(Va.targetMorph,"color",fb,"update"),Va.isLayoutable=!1,ob.yield(Va.openInWorld(),2);Va.topCenter=fb.get("paletteButton").globalBounds().center();Va.topCenter=fb.world().visibleBounds().translateForInclusion(Va.globalBounds()).topCenter();
fb.removePicker();Fc.once(Va,"remove",Va,"topLeft",{converter:function(){return Fc.pt(0,0)},varMapping:{pt:Nc}});ob.jumpToEnd()})}},{key:"removePalette",value:function(){this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove()}},{key:"removeWidgets",value:function(){this.removePalette();this.removePicker()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,after:["colorValue"],
set:function(wa){this.setProperty("gradientEnabled",wa);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new Fc.FillPopover({fillValue:this.colorValue})}},testProp:{get:function(){return[42]}},palette:{serialize:!1,get:function(){return this._palette||(this._palette=new Fc.Popover({position:Fc.pt(0,0),name:"Color Palette",targetMorph:new Fc.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function(wa){wa&&(wa.isColor||wa.isGradient)||
(wa=Fc.Color.blue);if(!this._updating)return this.update(wa);this.setProperty("colorValue",wa)},get:function(){return this.getProperty("colorValue")||Fc.Color.white}},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color field"}}},submorphs:{initialize:function(){this.innerBounds().topRight();this.innerBounds().bottomLeft();var wa=Fc.pt(40,25);this.submorphs=[{extent:wa,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:wa},{name:"bottomRight",type:"polygon",
extent:wa,origin:Fc.pt(0,0),vertices:[Fc.pt(0,0),wa.withX(0),wa]},Fc.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:Fc.pt(30,12.5)})]},{fill:Fc.Color.transparent,extent:Fc.pt(25,25),onHoverIn:function(){this.fill=Fc.Color.black.withA(.2)},onHoverOut:function(){this.fill=Fc.Color.transparent},submorphs:[{name:"pickerButton",type:"image",autoResize:!1,imageUrl:Fc.WHEEL_URL}]}];Fc.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",this,"openPicker");Fc.connect(this.getSubmorphNamed("paletteButton"),
"onMouseDown",this,"openPalette");Fc.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],ed,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:630,end:6351})}(Fc.Morph);Fc.ColorPickerField=jc;Fc.ColorPickerField=jc;Fc.ColorPickerField=jc;
Fc.colorWidgets.ColorPickerField=Fc.ColorPickerField;(function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),te=ed.hasOwnProperty("FieldPicker")&&"function"===typeof ed.FieldPicker?ed.FieldPicker:ed.FieldPicker=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"update",value:function(wa){this.getSubmorphNamed("hue").fill=Fc.Color.hsb(wa.hue,1,1);this.brightness=
wa.brightness;this.saturation=wa.saturation;this.get("picker").center=this.pickerPosition}},{key:"onMouseDown",value:function(wa){this.pickerPosition=wa.positionIn(this);Fc.signal(this,"pickerPosition",this.pickerPosition)}},{key:"onDrag",value:function(wa){this.pickerPosition=wa.positionIn(this)}},{key:"relayout",value:function(){var wa=this.innerBounds();this.getSubmorphNamed("hue").setBounds(wa);this.getSubmorphNamed("shade").setBounds(wa);this.getSubmorphNamed("light").setBounds(wa)}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:Fc.Color.transparent},saturation:{defaultValue:0},brightness:{defaultValue:0},draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var wa=this.saturation,fb=this.brightness;return void 0===wa||void 0===fb?Fc.pt(0,0):Fc.pt(this.getSubmorphNamed("hue").width*wa,this.getSubmorphNamed("hue").height*(1-fb))},set:function(wa){var fb=wa.x;wa=wa.y;
var Va=this.getSubmorphNamed("hue"),ob=Va.height;this.saturation=Math.max(0,Math.min(fb/Va.width,1));this.brightness=Math.max(0,Math.min(1-wa/ob,1));Fc.signal(this,"saturation",this.saturation);Fc.signal(this,"brightness",this.brightness)}},submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new Fc.LinearGradient({stops:[{color:Fc.Color.white,offset:0},{color:Fc.Color.transparent,offset:1}],vector:"eastwest"})},
{borderRadius:3,name:"light",reactsToPointer:!1,fill:new Fc.LinearGradient({stops:[{color:Fc.Color.black,offset:0},{color:Fc.Color.transparent,offset:1}],vector:"southnorth"})},{name:"picker",type:"ellipse",reactsToPointer:!1,fill:Fc.Color.transparent,borderColor:Fc.Color.black,borderWidth:3,extent:Fc.pt(16,16),submorphs:[{type:"ellipse",fill:Fc.Color.transparent,borderColor:Fc.Color.white,reactsToPointer:!1,borderWidth:3,center:Fc.pt(8,8),extent:Fc.pt(12,12)}]}];Fc.connect(this,"extent",this,"relayout")}}}}}],
ed,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:6404,end:9755})})(Fc.Morph);(function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),te=ed.hasOwnProperty("ColorPropertyView")&&"function"===typeof ed.ColorPropertyView?ed.ColorPropertyView:ed.ColorPropertyView=
function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=["key"].concat($jscomp.arrayFromIterable(this.readOnly?[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=[!this.readOnly&&
"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function(wa){"Enter"!=wa.keyCombo||this.readOnly?gb._get(Object.getPrototypeOf(te.prototype),"onKeyDown",this).call(this,wa):(this.owner.focus(),wa.stop(),Fc.signal(this,"updateValue",this.value))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},value:{derived:[!0],set:function(wa){this.textString=
Fc.obj.safeToString(wa)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:Fc.Color.gray.darker()}}}}],ed,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},
{start:9757,end:10927})})(Fc.Text);(function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),te=ed.hasOwnProperty("HuePicker")&&"function"===typeof ed.HuePicker?ed.HuePicker:ed.HuePicker=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"onMouseDown",value:function(wa){this.sliderPosition=Fc.pt(0,wa.positionIn(this).y)}},{key:"onDrag",value:function(wa){this.sliderPosition=
Fc.pt(0,wa.positionIn(this).y)}},{key:"update",value:function(wa){this.hue=wa.hue;this.get("slider").center=this.sliderPosition}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new Fc.LinearGradient({stops:[{color:Fc.Color.rgb(255,0,0),offset:0},{color:Fc.Color.rgb(255,255,0),offset:.17},{color:Fc.Color.limeGreen,offset:.33},{color:Fc.Color.cyan,offset:.5},{color:Fc.Color.blue,offset:.66},{color:Fc.Color.magenta,
offset:.83},{color:Fc.Color.rgb(255,0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return Fc.pt(this.width/2,this.hue/360*this.height)},set:function(wa){this.hue=Math.max(0,Math.min(wa.y/this.height*360,359));Fc.signal(this,"hue",this.hue)}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:Fc.Color.black,
fill:Fc.Color.transparent,borderWidth:2}]}}}}}],ed,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:10929,end:12576})})(Fc.Morph);(function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),te=ed.hasOwnProperty("ColorDetails")&&"function"===typeof ed.ColorDetails?
ed.ColorDetails:ed.ColorDetails=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"update",value:function(wa){wa=wa.color;var fb=$jscomp.makeIterator(wa.toTuple8Bit()),Va=fb.next().value,ob=fb.next().value;fb=fb.next().value;var P=$jscomp.makeIterator(wa.toHSB()),ua=P.next().value,bb=P.next().value;P=P.next().value;var Nb=this.get("hashViewer");this.get("colorViewer").fill=wa;Nb.replace(Nb.documentRange,
wa.toHexString(),!1,!1);this.get("R").value="R "+Va.toFixed(0)+"\n\nG "+ob.toFixed(0)+"\n\nB "+fb.toFixed(0)+"\n\nH "+ua.toFixed(0)+"\n\nS "+bb.toFixed(2)+"\n\nV "+P.toFixed(2)}},{key:"onHashViewerChanged",value:function(wa){wa=Fc.Color.rgbHex(wa);this.owner.owner.color=wa}},{key:"keyValue",value:function(wa){var fb=wa.name,Va=wa.key,ob=wa.value,P=wa.update;wa=wa.editable;return new Fc.Morph({fill:Fc.Color.transparent,layout:new Fc.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",
styleClasses:[wa&&"large","key"],value:Va},new Fc.ColorPropertyView({name:fb||Va,readOnly:!wa,value:ob,update:P})]})}},{key:"hashViewer",value:function(){var wa=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});Fc.connect(wa.get("hashViewer"),"updateValue",this,"onHashViewerChanged");return wa}},{key:"rgbViewer",value:function(){var wa=$jscomp.makeIterator(this.color.toTuple8Bit()),fb=wa.next().value,Va=wa.next().value;wa=wa.next().value;return new Fc.Morph({name:"rgbViewer",
fill:Fc.Color.transparent,submorphs:[this.keyValue({key:"R",value:fb.toFixed()}),this.keyValue({key:"G",value:Va.toFixed()}),this.keyValue({key:"B",value:wa.toFixed()})]})}},{key:"hsbViewer",value:function(){var wa=$jscomp.makeIterator(this.color.toHSB()),fb=wa.next().value,Va=wa.next().value;wa=wa.next().value;return new Fc.Morph({name:"hsbViewer",fill:Fc.Color.transparent,submorphs:[this.keyValue({key:"H",value:fb.toFixed()}),this.keyValue({key:"S",value:Va.toFixed(2)}),this.keyValue({key:"V",value:wa.toFixed(2)})]})}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorDetails"}},{key:"properties",get:function(){return{color:{defaultValue:Fc.Color.blue},width:{defaultValue:80},fill:{defaultValue:Fc.Color.transparent},layout:{initialize:function(){this.layout=new Fc.VerticalLayout({spacing:9,layoutOrder:function(wa){return this.container.submorphs.indexOf(wa)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:Fc.pt(50,50),name:"colorViewer",fill:this.color},
this.hashViewer(),{type:"label",name:"R",autofit:!0,padding:Fc.rect(10,0,0,0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],ed,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12578,end:15353})})(Fc.Morph);jc=Ea("a",function(oe){var ed=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),
te=ed.hasOwnProperty("ColorPicker")&&"function"===typeof ed.ColorPicker?ed.ColorPicker:ed.ColorPicker=function(wa){wa&&wa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return gb(te,oe,[{key:"onKeyDown",value:function(wa){"Escape"==wa.key&&this.close()}},{key:"close",value:function(){gb._get(Object.getPrototypeOf(te.prototype),"close",this).call(this);Fc.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&
(this.get("header").fill=Fc.Color.transparent,this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),Fc.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var wa=this.colorDetails(),fb=this.fieldPicker(),Va=this.huePicker(),ob=this.alphaSlider();wa=new Fc.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[fb,Va,wa,ob]});Fc.connect(fb,
"brightness",this,"brightness");Fc.connect(fb,"saturation",this,"saturation");Fc.connect(Va,"hue",this,"hue");return wa}},{key:"alphaSlider",value:function(){var wa,fb=Fc.morph({name:"alphaSlider",fill:Fc.Color.transparent,layout:new Fc.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:Fc.Rectangle.inset(3),value:"Alpha",fontColor:Fc.Color.gray,fontWeight:"bold"},wa=new Fc.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});Fc.connect(wa,"value",this,"alpha");return fb}},
{key:"fieldPicker",value:function(){return new Fc.FieldPicker({name:"field picker",saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new Fc.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new Fc.ColorDetails({name:"details",color:this.color})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:Fc.pt(400,320)},fill:{defaultValue:Fc.Color.black.withA(.7)},
isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},hasFixedPosition:{defaultValue:!0},color:{defaultValue:Fc.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return Fc.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function(wa){var fb=$jscomp.makeIterator(wa.toHSB()),Va=fb.next().value,ob=fb.next().value;fb=fb.next().value;this.hue=Va;this.saturation=ob;this.brightness=fb;this.alpha=wa.a}},alpha:{set:function(wa){this.setProperty("alpha",wa);
this.update()}},saturation:{},brightness:{set:function(wa){this.setProperty("brightness",wa);this.update()}},hue:{set:function(wa){this.setProperty("hue",wa);this.update()}},targetMorph:{initialize:function(){var wa=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=Fc.Color.gray;this.ui.header.fill=Fc.Color.transparent;this.whenRendered().then(function(){wa.fill=Fc.Color.black.withA(.7);wa.update()})}}}}}],ed,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15362,end:19200})}(Fc.Window));Fc.ColorPicker=jc;Fc.ColorPicker=jc;Fc.ColorPicker=jc}}});
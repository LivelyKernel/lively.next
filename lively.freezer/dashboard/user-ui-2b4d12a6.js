System.register(["./__root_module__-dce2a509.js","kld-intersections"],function(Ba,zb){var Ib,nc,bc,Sd,Vc,Ud,Yc,Oc,qd,ie,Ye,sf,ne,cc,Hc,Md,fc,$d,pe,Cc,Ic,Sb,Jc,dd,Jd,Kd;return{setters:[function(Hb){Ib=Hb.$;nc=Hb.ax;bc=Hb.a6;Sd=Hb.a7;Vc=Hb.r;Ud=Hb.a3;Yc=Hb.a1;Oc=Hb.C;qd=Hb.au;ie=Hb.aj;Ye=Hb.av;sf=Hb.ab;ne=Hb.aa;cc=Hb.aC;Hc=Hb.as;Md=Hb.ad;fc=Hb.an;$d=Hb.aS;pe=Hb.aG;Cc=Hb.g;Ic=Hb.bM;Sb=Hb.bN;Jc=Hb.ag;dd=Hb.L;Jd=Hb.bO;Kd=Hb.aw},function(){}],execute:function(){var Hb=window.gapi=window.gapi||{};Hb._bs=
(new Date).getTime();(function(){function Mb(ba){if(Error.captureStackTrace)Error.captureStackTrace(this,Mb);else{var ya=Error().stack;ya&&(this.stack=ya)}ba&&(this.message=String(ba))}var Na="function"==typeof Object.defineProperties?Object.defineProperty:function(ba,ya,$a){if(ba==Array.prototype||ba==Object.prototype)return ba;ba[ya]=$a.value;return ba},Ua=function(ba){ba=["object"==typeof globalThis&&globalThis,ba,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&
global];for(var ya=0;ya<ba.length;++ya){var $a=ba[ya];if($a&&$a.Math==Math)return $a}throw Error("Cannot find global object");}(this),Oa=function(ba,ya){if(ya)a:{var $a=Ua;ba=ba.split(".");for(var Fb=0;Fb<ba.length-1;Fb++){var ec=ba[Fb];if(!(ec in $a))break a;$a=$a[ec]}ba=ba[ba.length-1];Fb=$a[ba];ya=ya(Fb);ya!=Fb&&null!=ya&&Na($a,ba,{configurable:!0,writable:!0,value:ya})}},Ia=function(ba){var ya=0;return function(){return ya<ba.length?{done:!1,value:ba[ya++]}:{done:!0}}};Oa("Symbol",function(ba){if(ba)return ba;
var ya=function(ec,Kc){this.ba=ec;Na(this,"description",{configurable:!0,writable:!0,value:Kc})};ya.prototype.toString=function(){return this.ba};var $a=0,Fb=function(ec){if(this instanceof Fb)throw new TypeError("Symbol is not a constructor");return new ya("jscomp_symbol_"+(ec||"")+"_"+$a++,ec)};return Fb});Oa("Symbol.iterator",function(ba){if(ba)return ba;ba=Symbol("Symbol.iterator");for(var ya="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),
$a=0;$a<ya.length;$a++){var Fb=Ua[ya[$a]];"function"===typeof Fb&&"function"!=typeof Fb.prototype[ba]&&Na(Fb.prototype,ba,{configurable:!0,writable:!0,value:function(){return eb(Ia(this))}})}return ba});var eb=function(ba){ba={next:ba};ba[Symbol.iterator]=function(){return this};return ba},cb=function(ba,ya){ba instanceof String&&(ba+="");var $a=0,Fb=!1,ec={next:function(){if(!Fb&&$a<ba.length){var Kc=$a++;return{value:ya(Kc,ba[Kc]),done:!1}}Fb=!0;return{done:!0,value:void 0}}};ec[Symbol.iterator]=
function(){return ec};return ec};Oa("Array.prototype.keys",function(ba){return ba?ba:function(){return cb(this,function(ya){return ya})}});var ob=this||self,Zb=function(ba){var ya=typeof ba;return"object"!=ya?ya:ba?Array.isArray(ba)?"array":ya:"null"},mc=function(ba,ya,$a){return ba.call.apply(ba.bind,arguments)},Tb=function(ba,ya,$a){if(!ba)throw Error();if(2<arguments.length){var Fb=Array.prototype.slice.call(arguments,2);return function(){var ec=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(ec,
Fb);return ba.apply(ya,ec)}}return function(){return ba.apply(ya,arguments)}},pa=function(ba,ya,$a){pa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mc:Tb;return pa.apply(null,arguments)},Ja=function(ba,ya){function $a(){}$a.prototype=ya.prototype;ba.ma=ya.prototype;ba.prototype=new $a;ba.prototype.constructor=ba;ba.A=function(Fb,ec,Kc){for(var ae=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ae[Ie-2]=arguments[Ie];return ya.prototype[ec].apply(Fb,
ae)}},X=function(ba){return ba},ua=function(ba){var ya=null,$a=ob.trustedTypes;if(!$a||!$a.createPolicy)return ya;try{ya=$a.createPolicy(ba,{createHTML:X,createScript:X,createScriptURL:X})}catch(Fb){ob.console&&ob.console.error(Fb.message)}return ya};Ja(Mb,Error);Mb.prototype.name="CustomError";var ab=function(ba,ya){ba=ba.split("%s");for(var $a="",Fb=ba.length-1,ec=0;ec<Fb;ec++)$a+=ba[ec]+(ec<ya.length?ya[ec]:"%s");Mb.call(this,$a+ba[Fb])};Ja(ab,Mb);ab.prototype.name="AssertionError";var rb=function(ba,
ya,$a,Fb){var ec="Assertion failed";if($a){ec+=": "+$a;var Kc=Fb}else ba&&(ec+=": "+ba,Kc=ya);throw new ab(""+ec,Kc||[]);},vc=function(ba,ya,$a){ba||rb("",null,ya,Array.prototype.slice.call(arguments,2));return ba},Bd=function(ba,ya){throw new ab("Failure"+(ba?": "+ba:""),Array.prototype.slice.call(arguments,1));},sc=function(ba,ya,$a){"string"!==typeof ba&&rb("Expected string but got %s: %s.",[Zb(ba),ba],ya,Array.prototype.slice.call(arguments,2))},Nb=function(ba,ya){a:{try{var $a=ba&&ba.ownerDocument,
Fb=$a&&($a.defaultView||$a.parentWindow);Fb=Fb||ob;if(Fb.Element&&Fb.Location){$a=Fb;break a}}catch(Kc){}$a=null}if($a&&"undefined"!=typeof $a[ya]&&(!ba||!(ba instanceof $a[ya])&&(ba instanceof $a.Location||ba instanceof $a.Element))){$a=typeof ba;if("object"==$a&&null!=ba||"function"==$a)try{var ec=ba.constructor.displayName||ba.constructor.name||Object.prototype.toString.call(ba)}catch(Kc){ec="<object could not be stringified>"}else ec=void 0===ba?"undefined":null===ba?"null":typeof ba;Bd("Argument is not a %s (or a non-Element, non-Location mock); got: %s",
ya,ec)}return ba},Yd,Cd=function(ba,ya){this.P=ba===$c&&ya||"";this.ca=Cb};Cd.prototype.J=!0;Cd.prototype.H=function(){return this.P};Cd.prototype.toString=function(){return"Const{"+this.P+"}"};var kb=function(ba){if(ba instanceof Cd&&ba.constructor===Cd&&ba.ca===Cb)return ba.P;Bd("expected object of type Const, got '"+ba+"'");return"type_error:Const"},Cb={},$c={},sb=function(ba,ya){this.N=ya===ub?ba:""};sb.prototype.J=!0;sb.prototype.H=function(){return this.N.toString()};sb.prototype.toString=function(){return"SafeUrl{"+
this.N+"}"};var hd=function(ba){if(ba instanceof sb&&ba.constructor===sb)return ba.N;Bd("expected object of type SafeUrl, got '"+ba+"' of type "+Zb(ba));return"type_error:SafeUrl"},md=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,pb=function(ba){if(ba instanceof sb)return ba;ba="object"==typeof ba&&ba.J?ba.H():String(ba);vc(md.test(ba),"%s does not match the safe URL pattern",ba)||(ba="about:invalid#zClosurez");return new sb(ba,ub)},ub={},wb=function(ba,ya,$a){this.M=$a===Zd?ba:""};wb.prototype.J=
!0;wb.prototype.H=function(){return this.M.toString()};wb.prototype.toString=function(){return"SafeHtml{"+this.M+"}"};var yd=function(ba){if(ba instanceof wb&&ba.constructor===wb)return ba.M;Bd("expected object of type SafeHtml, got '"+ba+"' of type "+Zb(ba));return"type_error:SafeHtml"},Zd={},Je=new wb(ob.trustedTypes&&ob.trustedTypes.emptyHTML||"",0,Zd),Dc={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},re=function(ba){var ya=!1,$a;return function(){ya||($a=ba(),ya=!0);return $a}}(function(){if("undefined"===
typeof document)return!1;var ba=document.createElement("div"),ya=document.createElement("div");ya.appendChild(document.createElement("div"));ba.appendChild(ya);if(!ba.firstChild)return!1;ya=ba.firstChild.firstChild;ba.innerHTML=yd(Je);return!ya.parentElement}),cd=window,we=document,xa=cd.location,hb=function(){},Xa=/\[native code\]/,qb=function(ba,ya,$a){return ba[ya]=ba[ya]||$a},P=function(ba){for(var ya=0;ya<this.length;ya++)if(this[ya]===ba)return ya;return-1},qa=function(ba){ba=ba.sort();for(var ya=
[],$a=void 0,Fb=0;Fb<ba.length;Fb++){var ec=ba[Fb];ec!=$a&&ya.push(ec);$a=ec}return ya},fb=/&/g,Lb=/</g,gc=/>/g,Zc=/"/g,Qd=/'/g,ge=function(ba){return String(ba).replace(fb,"&amp;").replace(Lb,"&lt;").replace(gc,"&gt;").replace(Zc,"&quot;").replace(Qd,"&#39;")},Sc=function(){var ba;if((ba=Object.create)&&Xa.test(ba))ba=ba(null);else{ba={};for(var ya in ba)ba[ya]=void 0}return ba},Pe=function(ba,ya){return Object.prototype.hasOwnProperty.call(ba,ya)},Ue=function(ba){if(Xa.test(Object.keys))return Object.keys(ba);
var ya=[],$a;for($a in ba)Pe(ba,$a)&&ya.push($a);return ya},Me=function(ba,ya){ba=ba||{};for(var $a in ba)Pe(ba,$a)&&(ya[$a]=ba[$a])},Gf=function(ba){return function(){cd.setTimeout(ba,0)}},Hf=function(ba,ya){if(!ba)throw Error(ya||"");},Vb=qb(cd,"gapi",{}),Ng=function(ba,ya,$a){var Fb=new RegExp("([#].*&|[#])"+ya+"=([^&#]*)","g");ya=new RegExp("([?#].*&|[?#])"+ya+"=([^&#]*)","g");if(ba=ba&&(Fb.exec(ba)||ya.exec(ba)))try{$a=decodeURIComponent(ba[2])}catch(ec){}return $a},pf=new RegExp(/^/.source+
/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),tg=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,Ve=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),Ha=/%([a-f]|[0-9a-fA-F][a-f])/g,Va=/^(https?|ftp|file|chrome-extension):$/i,Db=function(ba){ba=String(ba);ba=ba.replace(tg,function(ec){try{return encodeURIComponent(ec)}catch(Kc){return encodeURIComponent(ec.replace(/^[^%]+$/g,
"\ufffd"))}}).replace(Ve,function(ec){return ec.replace(/%/g,"%25")}).replace(Ha,function(ec){return ec.toUpperCase()});ba=ba.match(pf)||[];var ya=Sc(),$a=function(ec){return ec.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},Fb=!!(ba[1]||"").match(Va);ya.A=$a((ba[1]||"")+(ba[2]||"")+(ba[3]||(ba[2]&&Fb?"/":"")));Fb=function(ec){return $a(ec.replace(/\?/g,"%3F").replace(/#/g,"%23"))};ya.query=ba[5]?[Fb(ba[5])]:[];ya.g=ba[7]?
[Fb(ba[7])]:[];return ya},da=function(ba){return ba.A+(0<ba.query.length?"?"+ba.query.join("&"):"")+(0<ba.g.length?"#"+ba.g.join("&"):"")},Fa=function(ba,ya){var $a=[];if(ba)for(var Fb in ba)if(Pe(ba,Fb)&&null!=ba[Fb]){var ec=ya?ya(ba[Fb]):ba[Fb];$a.push(encodeURIComponent(Fb)+"="+encodeURIComponent(ec))}return $a},mb=function(ba,ya,$a,Fb){ba=Db(ba);ba.query.push.apply(ba.query,Fa(ya,Fb));ba.g.push.apply(ba.g,Fa($a,Fb));return da(ba)},xb=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+
"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),yc=function(ba,ya){var $a=Db(ya);ya=$a.A;$a.query.length&&(ya+="?"+$a.query.join(""));$a.g.length&&(ya+="#"+$a.g.join(""));var Fb="";2E3<ya.length&&(Fb=ya,ya=ya.substr(0,2E3),ya=ya.replace(xb,""),Fb=Fb.substr(ya.length));var ec=ba.createElement("div");ba=ba.createElement("a");$a=Db(ya);ya=$a.A;$a.query.length&&(ya+="?"+$a.query.join(""));$a.g.length&&(ya+="#"+$a.g.join(""));ya=new sb(ya,ub);Nb(ba,"HTMLAnchorElement");
ya=ya instanceof sb?ya:pb(ya);ba.href=hd(ya);ec.appendChild(ba);ya=ec.innerHTML;$a=new Cd($c,"Assignment to self.");sc(kb($a),"must provide justification");vc(!/^[\s\xa0]*$/.test(kb($a)),"must provide non-empty justification");void 0===Yd&&(Yd=ua("gapi#html"));ya=($a=Yd)?$a.createHTML(ya):ya;ya=new wb(ya,null,Zd);if(ec.tagName&&Dc[ec.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+ec.tagName+".");if(re())for(;ec.lastChild;)ec.removeChild(ec.lastChild);
ec.innerHTML=yd(ya);ya=String(ec.firstChild.href);ec.parentNode&&ec.parentNode.removeChild(ec);$a=Db(ya+Fb);Fb=$a.A;$a.query.length&&(Fb+="?"+$a.query.join(""));$a.g.length&&(Fb+="#"+$a.g.join(""));return Fb},xc=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,gd=function(ba,ya,$a,Fb){if(cd[$a+"EventListener"])cd[$a+"EventListener"](ba,ya,!1);else if(cd[Fb+"tachEvent"])cd[Fb+"tachEvent"]("on"+ba,ya)},td=function(){var ba=we.readyState;return"complete"===ba||"interactive"===ba&&-1==navigator.userAgent.indexOf("MSIE")},
ad=function(ba){var ya=Kw;if(!td())try{ya()}catch($a){}nf(ba)},nf=function(ba){if(td())ba();else{var ya=!1,$a=function(){if(!ya)return ya=!0,ba.apply(this,arguments)};cd.addEventListener?(cd.addEventListener("load",$a,!1),cd.addEventListener("DOMContentLoaded",$a,!1)):cd.attachEvent&&(cd.attachEvent("onreadystatechange",function(){td()&&$a.apply(this,arguments)}),cd.attachEvent("onload",$a))}},mg=function(ba){for(;ba.firstChild;)ba.removeChild(ba.firstChild)},Yf={button:!0,div:!0,span:!0};var of=
qb(cd,"___jsl",Sc());qb(of,"I",0);qb(of,"hel",10);var ui=function(ba){return of.dpo?of.h:Ng(ba,"jsh",of.h)},Ph=function(ba){var ya=qb(of,"sws",[]);ya.push.apply(ya,ba)},Pj=function(ba){return qb(of,"watt",Sc())[ba]},gi=function(ba){var ya=qb(of,"PQ",[]);of.PQ=[];var $a=ya.length;if(0===$a)ba();else for(var Fb=0,ec=function(){++Fb===$a&&ba()},Kc=0;Kc<$a;Kc++)ya[Kc](ec)},hl=function(ba){return qb(qb(of,"H",Sc()),ba,Sc())},yg=qb(of,"perf",Sc()),nk=qb(yg,"g",Sc()),Vi=qb(yg,"i",Sc());qb(yg,"r",[]);Sc();
Sc();var Dk=function(ba,ya,$a){var Fb=yg.r;"function"===typeof Fb?Fb(ba,ya,$a):Fb.push([ba,ya,$a])},ik=function(ba,ya,$a){nk[ba]=!ya&&nk[ba]||$a||(new Date).getTime();Dk(ba)},cm=function(ba,ya,$a){ya&&0<ya.length&&(ya=Om(ya),$a&&0<$a.length&&(ya+="___"+Om($a)),28<ya.length&&(ya=ya.substr(0,28)+(ya.length-28)),$a=ya,ya=qb(Vi,"_p",Sc()),qb(ya,$a,Sc())[ba]=(new Date).getTime(),Dk(ba,"_p",$a))},Om=function(ba){return ba.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},Pm=Sc(),gl=[],
mk=function(ba){throw Error("Bad hint"+(ba?": "+ba:""));};gl.push(["jsl",function(ba){for(var ya in ba)if(Pe(ba,ya)){var $a=ba[ya];"object"==typeof $a?of[ya]=qb(of,ya,[]).concat($a):qb(of,ya,$a)}if(ya=ba.u)ba=qb(of,"us",[]),ba.push(ya),(ya=/^https:(.*)$/.exec(ya))&&ba.push("http:"+ya[1])}]);var jk=/^(\/[a-zA-Z0-9_\-]+)+$/,$n=[/\/amp\//,/\/amp$/,/^\/amp$/],Lf=/^[a-zA-Z0-9\-_\.,!]+$/,vo=/^gapi\.loaded_[0-9]+$/,Qb=/^[a-zA-Z0-9,._-]+$/,jd=function(ba,ya,$a,Fb){var ec=ba.split(";"),Kc=ec.shift(),ae=Pm[Kc],
Ie=null;ae?Ie=ae(ec,ya,$a,Fb):mk("no hint processor for: "+Kc);Ie||mk("failed to generate load url");ya=Ie;$a=ya.match(xq);(Fb=ya.match(Yn))&&1===Fb.length&&Ek.test(ya)&&$a&&1===$a.length||mk("failed sanity: "+ba);return Ie},zc=function(ba,ya,$a,Fb){ba=je(ba);vo.test($a)||mk("invalid_callback");ya=rg(ya);Fb=Fb&&Fb.length?rg(Fb):null;var ec=function(Kc){return encodeURIComponent(Kc).replace(/%2C/g,",")};return[encodeURIComponent(ba.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",ec(ba.version),
"/m=",ec(ya),Fb?"/exm="+ec(Fb):"","/rt=j/sv=1/d=1/ed=1",ba.S?"/am="+ec(ba.S):"",ba.Z?"/rs="+ec(ba.Z):"",ba.aa?"/t="+ec(ba.aa):"","/cb=",ec($a)].join("")},je=function(ba){"/"!==ba.charAt(0)&&mk("relative path");for(var ya=ba.substring(1).split("/"),$a=[];ya.length;){ba=ya.shift();if(!ba.length||0==ba.indexOf("."))mk("empty/relative directory");else if(0<ba.indexOf("=")){ya.unshift(ba);break}$a.push(ba)}ba={};for(var Fb=0,ec=ya.length;Fb<ec;++Fb){var Kc=ya[Fb].split("="),ae=decodeURIComponent(Kc[0]),
Ie=decodeURIComponent(Kc[1]);2==Kc.length&&ae&&Ie&&(ba[ae]=ba[ae]||Ie)}ya="/"+$a.join("/");jk.test(ya)||mk("invalid_prefix");$a=0;for(Fb=$n.length;$a<Fb;++$a)$n[$a].test(ya)&&mk("invalid_prefix");$a=Ag(ba,"k",!0);Fb=Ag(ba,"am");ec=Ag(ba,"rs");ba=Ag(ba,"t");return{pathPrefix:ya,version:$a,S:Fb,Z:ec,aa:ba}},rg=function(ba){for(var ya=[],$a=0,Fb=ba.length;$a<Fb;++$a){var ec=ba[$a].replace(/\./g,"_").replace(/-/g,"_");Qb.test(ec)&&ya.push(ec)}return ya.join(",")},Ag=function(ba,ya,$a){ba=ba[ya];!ba&&
$a&&mk("missing: "+ya);if(ba){if(Lf.test(ba))return ba;mk("invalid: "+ya)}return null},Ek=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,Yn=/\/cb=/g,xq=/\/\//g,Qs=function(){var ba=ui(xa.href);if(!ba)throw Error("Bad hint");return ba};Pm.m=function(ba,ya,$a,Fb){(ba=ba[0])||mk("missing_hint");return"https://apis.google.com"+zc(ba,ya,$a,Fb)};var ro=decodeURI("%73cript"),yq=/^[-+_0-9\/A-Za-z]+={0,2}$/,lk=function(ba,ya){for(var $a=[],Fb=0;Fb<ba.length;++Fb){var ec=ba[Fb];
ec&&0>P.call(ya,ec)&&$a.push(ec)}return $a},so=function(){var ba=of.nonce;return void 0!==ba?ba&&ba===String(ba)&&ba.match(yq)?ba:of.nonce=null:we.querySelector?(ba=we.querySelector("script[nonce]"))?(ba=ba.nonce||ba.getAttribute("nonce")||"",ba&&ba===String(ba)&&ba.match(yq)?of.nonce=ba:of.nonce=null):null:null},to=function(ba){if("loading"!=we.readyState)$o(ba);else{var ya=so(),$a="";null!==ya&&($a=' nonce="'+ya+'"');ba="<"+ro+' src="'+encodeURI(ba)+'"'+$a+"></"+ro+">";we.write(Xn?Xn.createHTML(ba):
ba)}},$o=function(ba){var ya=we.createElement(ro);ya.setAttribute("src",Xn?Xn.createScriptURL(ba):ba);ba=so();null!==ba&&ya.setAttribute("nonce",ba);ya.async="true";(ba=we.getElementsByTagName(ro)[0])?ba.parentNode.insertBefore(ya,ba):(we.head||we.body||we.documentElement).appendChild(ya)},Aq=function(ba,ya){var $a=ya&&ya._c;if($a)for(var Fb=0;Fb<gl.length;Fb++){var ec=gl[Fb][0],Kc=gl[Fb][1];Kc&&Pe($a,ec)&&Kc($a[ec],ba,ya)}},zq=function(ba,ya,$a){dm(function(){var Fb=ya===ui(xa.href)?qb(Vb,"_",Sc()):
Sc();Fb=qb(hl(ya),"_",Fb);ba(Fb)},$a)},Qm=function(ba,ya){var $a=ya||{};"function"==typeof ya&&($a={},$a.callback=ya);Aq(ba,$a);ya=ba?ba.split(":"):[];var Fb=$a.h||Qs(),ec=qb(of,"ah",Sc());if(ec["::"]&&ya.length){ba=[];for(var Kc=null;Kc=ya.shift();){var ae=Kc.split(".");ae=ec[Kc]||ec[ae[1]&&"ns:"+ae[0]||""]||Fb;var Ie=ba.length&&ba[ba.length-1]||null,hf=Ie;Ie&&Ie.hint==ae||(hf={hint:ae,V:[]},ba.push(hf));hf.V.push(Kc)}var If=ba.length;if(1<If){var qf=$a.callback;qf&&($a.callback=function(){0==--If&&
qf()})}for(;ya=ba.shift();)on(ya.V,$a,ya.hint)}else on(ya||[],$a,Fb)},on=function(ba,ya,$a){ba=qa(ba)||[];var Fb=ya.callback,ec=ya.config,Kc=ya.timeout,ae=ya.ontimeout,Ie=ya.onerror,hf=void 0;"function"==typeof Ie&&(hf=Ie);var If=null,qf=!1;if(Kc&&!ae||!Kc&&ae)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";Ie=qb(hl($a),"r",[]).sort();var ag=qb(hl($a),"L",[]).sort(),sh=[].concat(Ie),vi=function(co,pn){if(qf)return 0;cd.clearTimeout(If);ag.push.apply(ag,rj);var Kq=
((Vb||{}).config||{}).update;Kq?Kq(ec):ec&&qb(of,"cu",[]).push(ec);if(pn){cm("me0",co,sh);try{zq(pn,$a,hf)}finally{cm("me1",co,sh)}}return 1};0<Kc&&(If=cd.setTimeout(function(){qf=!0;ae()},Kc));var rj=lk(ba,ag);if(rj.length){rj=lk(ba,Ie);var um=qb(of,"CP",[]),Og=um.length;um[Og]=function(co){if(!co)return 0;cm("ml1",rj,sh);var pn=function(Wp){um[Og]=null;vi(rj,co)&&gi(function(){Fb&&Fb();Wp()})},Kq=function(){var Wp=um[Og+1];Wp&&Wp()};0<Og&&um[Og-1]?um[Og]=function(){pn(Kq)}:pn(Kq)};if(rj.length){var Ug=
"loaded_"+of.I++;Vb[Ug]=function(co){um[Og](co);Vb[Ug]=null};ba=jd($a,rj,"gapi."+Ug,Ie);Ie.push.apply(Ie,rj);cm("ml0",rj,sh);ya.sync||cd.___gapisync?to(ba):$o(ba)}else um[Og](hb)}else vi(rj)&&Fb&&Fb()},Xn=ua("gapi#gapi"),dm=function(ba,ya){if(of.hee&&0<of.hel)try{return ba()}catch($a){ya&&ya($a),of.hel--,Qm("debug_error",function(){try{window.___jsl.hefn($a)}catch(Fb){throw $a;}})}else try{return ba()}catch($a){throw ya&&ya($a),$a;}};Vb.load=function(ba,ya){return dm(function(){return Qm(ba,ya)})};
var El=function(ba){var ya=window.___jsl=window.___jsl||{};ya[ba]=ya[ba]||[];return ya[ba]},Fl=function(ba){var ya=window.___jsl=window.___jsl||{};ya.cfg=!ba&&ya.cfg||{};return ya.cfg},Rm=function(ba){return"object"===typeof ba&&/\[native code\]/.test(ba.push)},Pl=function(ba,ya,$a){if(ya&&"object"===typeof ya)for(var Fb in ya)!Object.prototype.hasOwnProperty.call(ya,Fb)||$a&&"___goc"===Fb&&"undefined"===typeof ya[Fb]||(ba[Fb]&&ya[Fb]&&"object"===typeof ba[Fb]&&"object"===typeof ya[Fb]&&!Rm(ba[Fb])&&
!Rm(ya[Fb])?Pl(ba[Fb],ya[Fb]):ya[Fb]&&"object"===typeof ya[Fb]?(ba[Fb]=Rm(ya[Fb])?[]:{},Pl(ba[Fb],ya[Fb])):ba[Fb]=ya[Fb])},Bq=function(ba){if(ba&&!/^\s+$/.test(ba)){for(;0==ba.charCodeAt(ba.length-1);)ba=ba.substring(0,ba.length-1);try{var ya=window.JSON.parse(ba)}catch($a){}if("object"===typeof ya)return ya;try{ya=(new Function("return ("+ba+"\n)"))()}catch($a){}if("object"===typeof ya)return ya;try{ya=(new Function("return ({"+ba+"\n})"))()}catch($a){}return"object"===typeof ya?ya:{}}},bp=function(ba,
ya){var $a={___goc:void 0};ba.length&&ba[ba.length-1]&&Object.hasOwnProperty.call(ba[ba.length-1],"___goc")&&"undefined"===typeof ba[ba.length-1].___goc&&($a=ba.pop());Pl($a,ya);ba.push($a)},em=function(ba){Fl(!0);var ya=window.___gcfg,$a=El("cu"),Fb=window.___gu;ya&&ya!==Fb&&(bp($a,ya),window.___gu=ya);ya=El("cu");var ec=document.scripts||document.getElementsByTagName("script")||[];Fb=[];var Kc=[];Kc.push.apply(Kc,El("us"));for(var ae=0;ae<ec.length;++ae)for(var Ie=ec[ae],hf=0;hf<Kc.length;++hf)Ie.src&&
0==Ie.src.indexOf(Kc[hf])&&Fb.push(Ie);0==Fb.length&&0<ec.length&&ec[ec.length-1].src&&Fb.push(ec[ec.length-1]);for(ec=0;ec<Fb.length;++ec)Fb[ec].getAttribute("gapi_processed")||(Fb[ec].setAttribute("gapi_processed",!0),(Kc=Fb[ec])?(ae=Kc.nodeType,Kc=3==ae||4==ae?Kc.nodeValue:Kc.textContent||Kc.innerText||Kc.innerHTML||""):Kc=void 0,(Kc=Bq(Kc))&&ya.push(Kc));ba&&bp($a,ba);Fb=El("cd");ba=0;for(ya=Fb.length;ba<ya;++ba)Pl(Fl(),Fb[ba],!0);Fb=El("ci");ba=0;for(ya=Fb.length;ba<ya;++ba)Pl(Fl(),Fb[ba],!0);
ba=0;for(ya=$a.length;ba<ya;++ba)Pl(Fl(),$a[ba],!0)},Rh=function(ba){var ya=Fl();if(!ba)return ya;ba=ba.split("/");for(var $a=0,Fb=ba.length;ya&&"object"===typeof ya&&$a<Fb;++$a)ya=ya[ba[$a]];return $a===ba.length&&void 0!==ya?ya:void 0},Xk=function(ba,ya){var $a;if("string"===typeof ba){var Fb=$a={};ba=ba.split("/");for(var ec=0,Kc=ba.length;ec<Kc-1;++ec)Fb=Fb[ba[ec]]={};Fb[ba[ec]]=ya}else $a=ba;em($a)},sl=function(){var ba=window.__GOOGLEAPIS;ba&&(ba.googleapis&&!ba["googleapis.config"]&&(ba["googleapis.config"]=
ba.googleapis),qb(of,"ci",[]).push(ba),window.__GOOGLEAPIS=void 0)},Yk={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},wo=!1,dp=Sc(),cp=function(){if(!wo){for(var ba=document.getElementsByTagName("meta"),ya=0;ya<ba.length;++ya){var $a=ba[ya].name.toLowerCase();if(0==$a.lastIndexOf("google-signin-",0)){$a=$a.substring(14);var Fb=ba[ya].content;Yk[$a]&&Fb&&(dp[$a]=Fb)}}if(window.self!==window.top){ba=document.location.toString();for(var ec in Yk)0<
Yk[ec]&&(ya=Ng(ba,ec,""))&&(dp[ec]=ya)}wo=!0}ec=Sc();Me(dp,ec);return ec},zr=function(ba){return!!(ba.clientid&&ba.scope&&ba.callback)},uo=window.console,Lp=function(){return!!of.oa},Zn=function(){},sm=qb(of,"rw",Sc()),Rs=function(ba){for(var ya in sm)ba(sm[ya])},Cq=function(ba,ya){(ba=sm[ba])&&ba.state<ya&&(ba.state=ya)},Ss=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,ao=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,Mp=function(ba){var ya=
Rh("googleapis.config/sessionIndex");"string"===typeof ya&&254<ya.length&&(ya=null);null==ya&&(ya=window.__X_GOOG_AUTHUSER);"string"===typeof ya&&254<ya.length&&(ya=null);if(null==ya){var $a=window.google;$a&&(ya=$a.authuser)}"string"===typeof ya&&254<ya.length&&(ya=null);null==ya&&(ba=ba||window.location.href,ya=Ng(ba,"authuser")||null,null==ya&&(ya=(ya=ba.match(Ss))?ya[1]:null));if(null==ya)return null;ya=String(ya);254<ya.length&&(ya=null);return ya},Vn=function(ba){var ya=Rh("googleapis.config/sessionDelegate");
"string"===typeof ya&&21<ya.length&&(ya=null);null==ya&&(ya=(ba=(ba||window.location.href).match(ao))?ba[1]:null);if(null==ya)return null;ya=String(ya);21<ya.length&&(ya=null);return ya},fm,bo,tm=void 0,gm=function(ba){try{return ob.JSON.parse.call(ob.JSON,ba)}catch(ya){return!1}},ta=function(ba){return Object.prototype.toString.call(ba)},Pa=ta(0),bb=ta(new Date(0)),Wa=ta(!0),kc=ta(""),dc=ta({}),tc=ta([]),Ac=function(ba,ya){if(ya)for(var $a=0,Fb=ya.length;$a<Fb;++$a)if(ba===ya[$a])throw new TypeError("Converting circular structure to JSON");
Fb=typeof ba;if("undefined"!==Fb){$a=Array.prototype.slice.call(ya||[],0);$a[$a.length]=ba;ya=[];var ec=ta(ba);if(null!=ba&&"function"===typeof ba.toJSON&&(Object.prototype.hasOwnProperty.call(ba,"toJSON")||(ec!==tc||ba.constructor!==Array&&ba.constructor!==Object)&&(ec!==dc||ba.constructor!==Array&&ba.constructor!==Object)&&ec!==kc&&ec!==Pa&&ec!==Wa&&ec!==bb))return Ac(ba.toJSON.call(ba),$a);if(null==ba)ya[ya.length]="null";else if(ec===Pa)ba=Number(ba),isNaN(ba)||isNaN(ba-ba)?ba="null":-0===ba&&
0>1/ba&&(ba="-0"),ya[ya.length]=String(ba);else if(ec===Wa)ya[ya.length]=String(!!Number(ba));else{if(ec===bb)return Ac(ba.toISOString.call(ba),$a);if(ec===tc&&ta(ba.length)===Pa){ya[ya.length]="[";var Kc=0;for(Fb=Number(ba.length)>>0;Kc<Fb;++Kc)Kc&&(ya[ya.length]=","),ya[ya.length]=Ac(ba[Kc],$a)||"null";ya[ya.length]="]"}else if(ec==kc&&ta(ba.length)===Pa){ya[ya.length]='"';Kc=0;for($a=Number(ba.length)>>0;Kc<$a;++Kc)Fb=String.prototype.charAt.call(ba,Kc),ec=String.prototype.charCodeAt.call(ba,Kc),
ya[ya.length]="\b"===Fb?"\\b":"\f"===Fb?"\\f":"\n"===Fb?"\\n":"\r"===Fb?"\\r":"\t"===Fb?"\\t":"\\"===Fb||'"'===Fb?"\\"+Fb:31>=ec?"\\u"+(ec+65536).toString(16).substr(1):32<=ec&&65535>=ec?Fb:"\ufffd";ya[ya.length]='"'}else if("object"===Fb){ya[ya.length]="{";Fb=0;for(Kc in ba)Object.prototype.hasOwnProperty.call(ba,Kc)&&(ec=Ac(ba[Kc],$a),void 0!==ec&&(Fb++&&(ya[ya.length]=","),ya[ya.length]=Ac(Kc),ya[ya.length]=":",ya[ya.length]=ec));ya[ya.length]="}"}else return}return ya.join("")}},Dd=/[\0-\x07\x0b\x0e-\x1f]/,
Ff=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,Sf=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,wh=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,sg=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,Qh=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,kk=/[ \t\n\r]+/g,Ol=/[^"]:/,ap=/""/g,Wn=/true|false|null/g,vw=/00/,ww=/[\{]([^0\}]|0[^:])/,Dq=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,Cu=/[^\[,:][\[\{]/,Np=/^(\{|\}|\[|\]|,|:|0)+/,xw=/\u2028/g,
yw=/\u2029/g,fy=function(ba){ba=String(ba);if(Dd.test(ba)||Ff.test(ba)||Sf.test(ba)||wh.test(ba))return!1;var ya=ba.replace(sg,'""');ya=ya.replace(Qh,"0");ya=ya.replace(kk,"");if(Ol.test(ya))return!1;ya=ya.replace(ap,"0");ya=ya.replace(Wn,"0");if(vw.test(ya)||ww.test(ya)||Dq.test(ya)||Cu.test(ya)||!ya||ya.replace(Np,""))return!1;ba=ba.replace(xw,"\\u2028").replace(yw,"\\u2029");ya=void 0;try{ya=tm?[gm(ba)]:eval("(function (var_args) {\n  return Array.prototype.slice.call(arguments, 0);\n})(\n"+ba+
"\n)")}catch($a){return!1}return ya&&1===ya.length?ya[0]:!1},zw=function(){var ba=((ob.document||{}).scripts||[]).length;if((void 0===fm||void 0===tm||bo!==ba)&&-1!==bo){fm=tm=!1;bo=-1;try{try{tm=!!ob.JSON&&'{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'===ob.JSON.stringify.call(ob.JSON,{a:[3,!0,new Date(0)],c:function(){}})&&!0===gm("true")&&3===gm('[{"a":3}]')[0].a}catch(ya){}fm=tm&&!gm("[00]")&&!gm('"\u0007"')&&!gm('"\\0"')&&!gm('"\\v"')}finally{bo=ba}}},Aw=function(ba){if(-1===bo)return!1;zw();return(fm?
gm:fy)(ba)},Bw=function(ba){if(-1!==bo)return zw(),tm?ob.JSON.stringify.call(ob.JSON,ba):Ac(ba)},gy=!Date.prototype.toISOString||"function"!==typeof Date.prototype.toISOString||"1970-01-01T00:00:00.000Z"!==(new Date(0)).toISOString(),Cw=function(){var ba=Date.prototype.getUTCFullYear.call(this);return[0>ba?"-"+String(1E6-ba).substr(1):9999>=ba?String(1E4+ba).substr(1):"+"+String(1E6+ba).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),
"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1E3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=gy?Cw:Date.prototype.toISOString;var Eq=function(){this.j=64;this.b=[];this.G=[];this.da=[];this.C=[];this.C[0]=128;for(var ba=1;ba<this.j;++ba)this.C[ba]=0;this.D=this.o=0;this.reset()};Ja(Eq,
function(){this.j=-1});Eq.prototype.reset=function(){this.b[0]=1732584193;this.b[1]=4023233417;this.b[2]=2562383102;this.b[3]=271733878;this.b[4]=3285377520;this.D=this.o=0};var Ar=function(ba,ya,$a){$a||($a=0);var Fb=ba.da;if("string"===typeof ya)for(var ec=0;16>ec;ec++)Fb[ec]=ya.charCodeAt($a)<<24|ya.charCodeAt($a+1)<<16|ya.charCodeAt($a+2)<<8|ya.charCodeAt($a+3),$a+=4;else for(ec=0;16>ec;ec++)Fb[ec]=ya[$a]<<24|ya[$a+1]<<16|ya[$a+2]<<8|ya[$a+3],$a+=4;for(ec=16;80>ec;ec++){var Kc=Fb[ec-3]^Fb[ec-
8]^Fb[ec-14]^Fb[ec-16];Fb[ec]=(Kc<<1|Kc>>>31)&4294967295}ya=ba.b[0];$a=ba.b[1];var ae=ba.b[2],Ie=ba.b[3],hf=ba.b[4];for(ec=0;80>ec;ec++){if(40>ec)if(20>ec){Kc=Ie^$a&(ae^Ie);var If=1518500249}else Kc=$a^ae^Ie,If=1859775393;else 60>ec?(Kc=$a&ae|Ie&($a|ae),If=2400959708):(Kc=$a^ae^Ie,If=3395469782);Kc=(ya<<5|ya>>>27)+Kc+hf+If+Fb[ec]&4294967295;hf=Ie;Ie=ae;ae=($a<<30|$a>>>2)&4294967295;$a=ya;ya=Kc}ba.b[0]=ba.b[0]+ya&4294967295;ba.b[1]=ba.b[1]+$a&4294967295;ba.b[2]=ba.b[2]+ae&4294967295;ba.b[3]=ba.b[3]+
Ie&4294967295;ba.b[4]=ba.b[4]+hf&4294967295};Eq.prototype.update=function(ba,ya){if(null!=ba){void 0===ya&&(ya=ba.length);for(var $a=ya-this.j,Fb=0,ec=this.G,Kc=this.o;Fb<ya;){if(0==Kc)for(;Fb<=$a;)Ar(this,ba,Fb),Fb+=this.j;if("string"===typeof ba)for(;Fb<ya;){if(ec[Kc]=ba.charCodeAt(Fb),++Kc,++Fb,Kc==this.j){Ar(this,ec);Kc=0;break}}else for(;Fb<ya;)if(ec[Kc]=ba[Fb],++Kc,++Fb,Kc==this.j){Ar(this,ec);Kc=0;break}}this.o=Kc;this.D+=ya}};Eq.prototype.digest=function(){var ba=[],ya=8*this.D;56>this.o?
this.update(this.C,56-this.o):this.update(this.C,this.j-(this.o-56));for(var $a=this.j-1;56<=$a;$a--)this.G[$a]=ya&255,ya/=256;Ar(this,this.G);for($a=ya=0;5>$a;$a++)for(var Fb=24;0<=Fb;Fb-=8)ba[ya]=this.b[$a]>>Fb&255,++ya;return ba};var Du=function(){this.O=new Eq};Du.prototype.reset=function(){this.O.reset()};var Fq=cd.crypto,Eu=!1,Br=0,Fu=0,Gq=1,Ql=0,Cr="",Dr=function(ba){ba=ba||cd.event;var ya=ba.screenX+ba.clientX<<16;ya+=ba.screenY+ba.clientY;ya*=(new Date).getTime()%1E6;Gq=Gq*ya%Ql;0<Br&&++Fu==
Br&&gd("mousemove",Dr,"remove","de")},Gu=function(ba){var ya=new Du;ba=unescape(encodeURIComponent(ba));for(var $a=[],Fb=0,ec=ba.length;Fb<ec;++Fb)$a.push(ba.charCodeAt(Fb));ya.O.update($a);ya=ya.O.digest();ba="";for($a=0;$a<ya.length;$a++)ba+="0123456789ABCDEF".charAt(Math.floor(ya[$a]/16))+"0123456789ABCDEF".charAt(ya[$a]%16);return ba};(Eu=!!Fq&&"function"==typeof Fq.getRandomValues)||(Ql=1E6*(screen.width*screen.width+screen.height),Cr=Gu(we.cookie+"|"+we.location+"|"+(new Date).getTime()+"|"+
Math.random()),Br=Rh("random/maxObserveMousemove")||0,0!=Br&&gd("mousemove",Dr,"add","at"));var hy=function(){var ba=Gq;ba+=parseInt(Cr.substr(0,20),16);Cr=Gu(Cr);return ba/(Ql+Math.pow(16,20))},iy=function(){var ba=new cd.Uint32Array(1);Fq.getRandomValues(ba);return Number("0."+ba[0])},Hu=function(){var ba=of.onl;if(!ba){ba=Sc();of.onl=ba;var ya=Sc();ba.e=function($a){var Fb=ya[$a];Fb&&(delete ya[$a],Fb())};ba.a=function($a,Fb){ya[$a]=Fb};ba.r=function($a){delete ya[$a]}}return ba},Iu=function(ba,
ya){ya=ya.onload;return"function"===typeof ya?(Hu().a(ba,ya),ya):null},Ju=function(ba){Hf(/^\w+$/.test(ba),"Unsupported id - "+ba);Hu();return'onload="window.___jsl.onl.e(&#34;'+ba+'&#34;)"'},Ku=function(ba){Hu().r(ba)},jy={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},ky={allowtransparency:!0,onload:!0},ly=0,Dw=function(ba){Hf(!ba||xc.test(ba),"Illegal url for new iframe - "+ba)},Ts=function(ba,ya,
$a,Fb,ec){Dw($a.src);var Kc,ae=Iu(Fb,$a),Ie=ae?Ju(Fb):"";try{document.all&&(Kc=ba.createElement('<iframe frameborder="'+ge(String($a.frameborder))+'" scrolling="'+ge(String($a.scrolling))+'" '+Ie+' name="'+ge(String($a.name))+'"/>'))}catch(If){}finally{Kc||(Kc=ba.createElement("iframe"),ae&&(Kc.onload=function(){Kc.onload=null;ae.call(this)},Ku(Fb)))}Kc.setAttribute("ng-non-bindable","");for(var hf in $a)ba=$a[hf],"style"===hf&&"object"===typeof ba?Me(ba,Kc.style):ky[hf]||Kc.setAttribute(hf,String(ba));
(hf=ec&&ec.beforeNode||null)||ec&&ec.dontclear||mg(ya);ya.insertBefore(Kc,hf);Kc=hf?hf.previousSibling:ya.lastChild;$a.allowtransparency&&(Kc.allowTransparency=!0);return Kc},my=/^:[\w]+$/,Lu=/:([a-zA-Z_]+):/g,Us=function(){var ba=Mp()||"0",ya=Vn(),$a=Mp(void 0)||ba,Fb=Vn(void 0),ec="";$a&&(ec+="u/"+encodeURIComponent(String($a))+"/");Fb&&(ec+="b/"+encodeURIComponent(String(Fb))+"/");$a=ec||null;(ec=(Fb=!1===Rh("isLoggedIn"))?"_/im/":"")&&($a="");var Kc=Rh("iframes/:socialhost:"),ae=Rh("iframes/:im_socialhost:");
return{socialhost:Kc,ctx_socialhost:Fb?ae:Kc,session_index:ba,session_delegate:ya,session_prefix:$a,im_prefix:ec}},Mu=function(ba,ya){return Us()[ya]||""},xo=function(ba){return function(ya,$a){return ba?Us()[$a]||ba[$a]||"":Us()[$a]||""}},yo=function(ba){var ya;ba.match(/^https?%3A/i)&&(ya=decodeURIComponent(ba));return yc(document,ya?ya:ba)},hm=function(ba){ba=ba||"canonical";for(var ya=document.getElementsByTagName("link"),$a=0,Fb=ya.length;$a<Fb;$a++){var ec=ya[$a],Kc=ec.getAttribute("rel");if(Kc&&
Kc.toLowerCase()==ba&&(ec=ec.getAttribute("href"))&&(ec=yo(ec))&&null!=ec.match(/^https?:\/\/[\w\-_\.]+/i))return ec}return window.location.href},$h={se:"0"},Hq={post:!0},Op={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Nu="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Ew=qb(of,"WI",Sc()),Er=function(ba,ya,$a){var Fb,ec={},Kc=Fb=ba;"plus"==ba&&ya.action&&(Fb=ba+"_"+ya.action,Kc=ba+"/"+ya.action);(Fb=Rh("iframes/"+Fb+
"/url"))||(Fb=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+Kc+"?usegapi=1");for(var ae in $h)ec[ae]=ae+"/"+(ya[ae]||$h[ae])+"/";ec=yc(we,Fb.replace(Lu,xo(ec)));ae="iframes/"+ba+"/params/";Kc={};Me(ya,Kc);(Fb=Rh("lang")||Rh("gwidget/lang"))&&(Kc.hl=Fb);Hq[ba]||(Kc.origin=window.location.origin||window.location.protocol+"//"+window.location.host);Kc.exp=Rh(ae+"exp");if(ae=Rh(ae+"location"))for(Fb=0;Fb<ae.length;Fb++){var Ie=ae[Fb];Kc[Ie]=cd.location[Ie]}switch(ba){case "plus":case "follow":ae=
Kc.href;Fb=ya.action?void 0:"publisher";ae=(ae="string"==typeof ae?ae:void 0)?yo(ae):hm(Fb);Kc.url=ae;delete Kc.href;break;case "plusone":ae=(ae=ya.href)?yo(ae):hm();Kc.url=ae;ae=ya.db;Fb=Rh();null==ae&&Fb&&(ae=Fb.db,null==ae&&(ae=Fb.gwidget&&Fb.gwidget.db));Kc.db=ae||void 0;ae=ya.ecp;Fb=Rh();null==ae&&Fb&&(ae=Fb.ecp,null==ae&&(ae=Fb.gwidget&&Fb.gwidget.ecp));Kc.ecp=ae||void 0;delete Kc.href;break;case "signin":Kc.url=hm()}of.ILI&&(Kc.iloader="1");delete Kc["data-onload"];delete Kc.rd;for(var hf in $h)Kc[hf]&&
delete Kc[hf];Kc.gsrc=Rh("iframes/:source:");hf=Rh("inline/css");"undefined"!==typeof hf&&0<$a&&hf>=$a&&(Kc.ic="1");hf=/^#|^fr-/;$a={};for(var If in Kc)Pe(Kc,If)&&hf.test(If)&&($a[If.replace(hf,"")]=Kc[If],delete Kc[If]);If="q"==Rh("iframes/"+ba+"/params/si")?Kc:$a;hf=cp();for(var qf in hf)!Pe(hf,qf)||Pe(Kc,qf)||Pe($a,qf)||(If[qf]=hf[qf]);qf=[].concat(Nu);(If=Rh("iframes/"+ba+"/methods"))&&"object"===typeof If&&Xa.test(If.push)&&(qf=qf.concat(If));for(var ag in ya)Pe(ya,ag)&&/^on/.test(ag)&&("plus"!=
ba||"onconnect"!=ag)&&(qf.push(ag),delete Kc[ag]);delete Kc.callback;$a._methods=qf.join(",");return mb(ec,Kc,$a)},Fw=["style","data-gapiscan"],Fr=function(ba){for(var ya=Sc(),$a=0!=ba.nodeName.toLowerCase().indexOf("g:"),Fb=0,ec=ba.attributes.length;Fb<ec;Fb++){var Kc=ba.attributes[Fb],ae=Kc.name,Ie=Kc.value;0<=P.call(Fw,ae)||$a&&0!=ae.indexOf("data-")||"null"===Ie||"specified"in Kc&&!Kc.specified||($a&&(ae=ae.substr(5)),ya[ae.toLowerCase()]=Ie)}ba=ba.style;($a=Gr(ba&&ba.height))&&(ya.height=String($a));
(ba=Gr(ba&&ba.width))&&(ya.width=String(ba));return ya},Gr=function(ba){var ya=void 0;"number"===typeof ba?ya=ba:"string"===typeof ba&&(ya=parseInt(ba,10));return ya},Gw=function(){var ba=of.drw;Rs(function(ya){if(ba!==ya.id&&4!=ya.state&&"share"!=ya.type){var $a=ya.id,Fb=ya.type,ec=ya.url;ya=ya.userParams;var Kc=we.getElementById($a);if(Kc){var ae=Er(Fb,ya,0);ae?(Kc=Kc.parentNode,ec.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==ae.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(ya.dontclear=!0,ya.rd=
!0,ya.ri=!0,ya.type=Fb,Sh(Kc,ya),(Fb=sm[Kc.lastChild.id])&&(Fb.oid=$a),Cq($a,4))):delete sm[$a]}else delete sm[$a]}})},Hw=/(?:^|\s)g-((\S)*)(?:$|\s)/,ny={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};var Pp=qb(of,"SW",Sc());var Hr=qb(of,"SA",Sc());var Iq=qb(of,"SM",Sc());var Fg=qb(of,"FW",[]);var Vs=null;var Ou=function(ba,ya){Ir(void 0,!1,ba,ya)},Ir=function(ba,ya,$a,Fb){ik("ps0",!0);$a=("string"===typeof $a?document.getElementById($a):$a)||we;var ec=we.documentMode;if($a.querySelectorAll&&
(!ec||8<ec)){ec=Fb?[Fb]:Ue(Pp).concat(Ue(Hr)).concat(Ue(Iq));for(var Kc=[],ae=0;ae<ec.length;ae++){var Ie=ec[ae];Kc.push(".g-"+Ie,"g\\:"+Ie)}ec=$a.querySelectorAll(Kc.join(","))}else ec=$a.getElementsByTagName("*");$a=Sc();for(Kc=0;Kc<ec.length;Kc++){var hf=ae=ec[Kc];Ie=Fb;var If=hf.nodeName.toLowerCase(),qf=void 0;if(hf.getAttribute("data-gapiscan"))Ie=null;else{var ag=If.indexOf("g:");0==ag?qf=If.substr(2):(ag=(ag=String(hf.className||hf.getAttribute("class")))&&Hw.exec(ag))&&(qf=ag[1]);Ie=!qf||
!(Pp[qf]||Hr[qf]||Iq[qf])||Ie&&qf!==Ie?null:qf}Ie&&(ny[Ie]||0==ae.nodeName.toLowerCase().indexOf("g:")||0!=Ue(Fr(ae)).length)&&(ae.setAttribute("data-gapiscan",!0),qb($a,Ie,[]).push(ae))}if(ya)for(var sh in $a)for(ya=$a[sh],Fb=0;Fb<ya.length;Fb++)ya[Fb].setAttribute("data-onload",!0);for(var vi in $a)Fg.push(vi);ik("ps1",!0);if((sh=Fg.join(":"))||ba)try{Vb.load(sh,ba)}catch(um){uo&&uo.log&&uo.log(um);return}if(Kr(Vs||{}))for(var rj in $a){ba=$a[rj];vi=0;for(ya=ba.length;vi<ya;vi++)ba[vi].removeAttribute("data-gapiscan");
Ws(rj)}else{Fb=[];for(rj in $a)for(ba=$a[rj],vi=0,ya=ba.length;vi<ya;vi++)ec=ba[vi],Jw(rj,ec,Fr(ec),Fb,ya);Qu(sh,Fb)}},Pu=function(ba){var ya=qb(Vb,ba,{});ya.go||(ya.go=function($a){return Ou($a,ba)},ya.render=function($a,Fb){Fb=Fb||{};Fb.type=ba;return Sh($a,Fb)})},Jr=function(ba){Pp[ba]=!0},oy=function(ba){Hr[ba]=!0},Iw=function(ba){Iq[ba]=!0},Ws=function(ba,ya){var $a=Pj(ba);ya&&$a?($a(ya),($a=ya.iframeNode)&&$a.setAttribute("data-gapiattached",!0)):Vb.load(ba,function(){var Fb=Pj(ba),ec=ya&&ya.iframeNode,
Kc=ya&&ya.userParams;ec&&Fb?(Fb(ya),ec.setAttribute("data-gapiattached",!0)):(Fb=Vb[ba].go,"signin2"==ba?Fb(ec,Kc):Fb(ec&&ec.parentNode,Kc))})},Kr=function(){return!1},Qu=function(){},Jw=function(ba,ya,$a,Fb,ec,Kc,ae){switch(Jq(ya,ba,Kc)){case 0:ba=Iq[ba]?ba+"_annotation":ba;Fb={};Fb.iframeNode=ya;Fb.userParams=$a;Ws(ba,Fb);break;case 1:if(ya.parentNode){for(var Ie in $a){if(Kc=Pe($a,Ie))Kc=$a[Ie],Kc=!!Kc&&"object"===typeof Kc&&(!Kc.toString||Kc.toString===Object.prototype.toString||Kc.toString===
Array.prototype.toString);if(Kc)try{$a[Ie]=Bw($a[Ie])}catch(rj){delete $a[Ie]}}Kc=!0;$a.dontclear&&(Kc=!1);delete $a.dontclear;Zn();Ie=Er(ba,$a,ec);ec=ae||{};ec.allowPost=1;ec.attributes=Op;ec.dontclear=!Kc;ae={};ae.userParams=$a;ae.url=Ie;ae.type=ba;if($a.rd)var hf=ya;else hf=document.createElement("div"),ya.setAttribute("data-gapistub",!0),hf.style.cssText="position:absolute;width:450px;left:-10000px;",ya.parentNode.insertBefore(hf,ya);ae.siteElement=hf;hf.id||(ya=hf,qb(Ew,ba,0),Kc="___"+ba+"_"+
Ew[ba]++,ya.id=Kc);ya=Sc();ya[">type"]=ba;Me($a,ya);Kc=Ie;$a=hf;Ie=ec||{};ya=Ie.attributes||{};Hf(!(Ie.allowPost||Ie.forcePost)||!ya.onload,"onload is not supported by post iframe (allowPost or forcePost)");ec=ya=Kc;my.test(ya)&&(ec=Rh("iframes/"+ec.substring(1)+"/url"),Hf(!!ec,"Unknown iframe url config for - "+ya));Kc=yc(we,ec.replace(Lu,Mu));ya=$a.ownerDocument||we;hf=0;do ec=Ie.id||["I",ly++,"_",(new Date).getTime()].join("");while(ya.getElementById(ec)&&5>++hf);Hf(5>hf,"Error creating iframe id");
hf={};var If={};ya.documentMode&&9>ya.documentMode&&(hf.hostiemode=ya.documentMode);Me(Ie.queryParams||{},hf);Me(Ie.fragmentParams||{},If);var qf=Ie.pfname,ag=Sc();Rh("iframes/dropLegacyIdParam")||(ag.id=ec);ag._gfid=ec;ag.parent=ya.location.protocol+"//"+ya.location.host;var sh=Ng(ya.location.href,"parent");qf=qf||"";!qf&&sh&&(sh=Ng(ya.location.href,"_gfid","")||Ng(ya.location.href,"id",""),qf=Ng(ya.location.href,"pfname",""),qf=sh?qf+"/"+sh:"");qf||(sh=Aw(Ng(ya.location.href,"jcp","")))&&"object"==
typeof sh&&(qf=(qf=sh.id)?sh.pfname+"/"+qf:"");ag.pfname=qf;Ie.connectWithJsonParam&&(sh={},sh.jcp=Bw(ag),ag=sh);(sh=Ng(Kc,"rpctoken")||hf.rpctoken||If.rpctoken)||(sh=Ie.rpctoken||String(Math.round(1E8*(Eu?iy():hy()))),ag.rpctoken=sh);Ie.rpctoken=sh;Me(ag,Ie.connectWithQueryParams?hf:If);sh=ya.location.href;ag=Sc();(qf=Ng(sh,"_bsh",of.bsh))&&(ag._bsh=qf);(sh=ui(sh))&&(ag.jsh=sh);Ie.hintInFragment?Me(ag,If):Me(ag,hf);Kc=mb(Kc,hf,If,Ie.paramsSerializer);If=Sc();Me(jy,If);Me(Ie.attributes,If);If.name=
If.id=ec;If.src=Kc;Ie.eurl=Kc;hf=Ie||{};ag=!!hf.allowPost;if(hf.forcePost||ag&&2E3<Kc.length){hf=Db(Kc);If.src="";Ie.dropDataPostorigin||(If["data-postorigin"]=Kc);Kc=Ts(ya,$a,If,ec);if(-1!=navigator.userAgent.indexOf("WebKit")){var vi=Kc.contentWindow.document;vi.open();If=vi.createElement("div");ag={};sh=ec+"_inner";ag.name=sh;ag.src="";ag.style="display:none";Ts(ya,If,ag,sh,Ie)}If=(Ie=hf.query[0])?Ie.split("&"):[];Ie=[];for(ag=0;ag<If.length;ag++)sh=If[ag].split("=",2),Ie.push([decodeURIComponent(sh[0]),
decodeURIComponent(sh[1])]);hf.query=[];If=da(hf);Hf(xc.test(If),"Invalid URL: "+If);hf=ya.createElement("form");hf.method="POST";hf.target=ec;hf.style.display="none";ec=If instanceof sb?If:pb(If);Nb(hf,"HTMLFormElement").action=hd(ec);for(ec=0;ec<Ie.length;ec++)If=ya.createElement("input"),If.type="hidden",If.name=Ie[ec][0],If.value=Ie[ec][1],hf.appendChild(If);$a.appendChild(hf);hf.submit();hf.parentNode.removeChild(hf);vi&&vi.close();vi=Kc}else vi=Ts(ya,$a,If,ec,Ie);ae.iframeNode=vi;ae.id=vi.getAttribute("id");
vi=ae.id;$a=Sc();$a.id=vi;$a.userParams=ae.userParams;$a.url=ae.url;$a.type=ae.type;$a.state=1;sm[vi]=$a;vi=ae}else vi=null;vi&&((ae=vi.id)&&Fb.push(ae),Ws(ba,vi))}},Jq=function(ba,ya,$a){if(ba&&1===ba.nodeType&&ya){if($a)return 1;if(Iq[ya]){if(Yf[ba.nodeName.toLowerCase()])return(ba=ba.innerHTML)&&ba.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(Hr[ya])return 0;if(Pp[ya])return 1}}return null},Sh=function(ba,ya){var $a=ya.type;delete ya.type;var Fb=("string"===typeof ba?document.getElementById(ba):
ba)||void 0;if(Fb){ba={};for(var ec in ya)Pe(ya,ec)&&(ba[ec.toLowerCase()]=ya[ec]);ba.rd=1;(ya=!!ba.ri)&&delete ba.ri;ec=[];Jw($a,Fb,ba,ec,0,ya,void 0);Qu($a,ec)}else uo&&uo.log&&uo.log("string"==="gapi."+$a+".render: missing element "+typeof ba?ba:"")};qb(Vb,"platform",{}).go=Ou;Kr=function(ba){for(var ya=["_c","jsl","h"],$a=0;$a<ya.length&&ba;$a++)ba=ba[ya[$a]];ya=ui(xa.href);return!ba||0!=ba.indexOf("n;")&&0!=ya.indexOf("n;")&&ba!==ya};Qu=function(ba,ya){Ys(ba,ya)};var Kw=function(ba){Ir(ba,!0)},
Xs=function(ba,ya){ya=ya||[];for(var $a=0;$a<ya.length;++$a)ba(ya[$a]);for(ba=0;ba<ya.length;ba++)Pu(ya[ba])};gl.push(["platform",function(ba,ya,$a){Vs=$a;ya&&Fg.push(ya);Xs(Jr,ba);Xs(oy,$a._c.annotation);Xs(Iw,$a._c.bimodal);sl();em();if("explicit"!=Rh("parsetags")){Ph(ba);zr(cp())&&!Rh("disableRealtimeCallback")&&Zn();if($a&&(ba=$a.callback)){var Fb=Gf(ba);delete $a.callback}ad(function(){Kw(Fb)})}}]);Vb._pl=!0;var Ru=function(ba){if(ba=(ba=sm[ba])?ba.oid:void 0){var ya=we.getElementById(ba);ya&&
ya.parentNode.removeChild(ya);delete sm[ba];Ru(ba)}},py=/^\{h:'/,Lw=/^!_/,Mw="",Ys=function(ba,ya){function $a(){gd("message",Fb,"remove","de")}function Fb(Kc){var ae=Kc.data,Ie=Kc.origin;if(Nw(ae,ya)){var hf=ec;ec=!1;hf&&ik("rqe");Zs(ba,function(){hf&&ik("rqd");$a();for(var If=qb(of,"RPMQ",[]),qf=0;qf<If.length;qf++)If[qf]({data:ae,origin:Ie})})}}if(0!==ya.length){Mw=Ng(xa.href,"pfname","");var ec=!0;gd("message",Fb,"add","at");Qm(ba,$a)}},Nw=function(ba,ya){ba=String(ba);if(py.test(ba))return!0;
var $a=!1;Lw.test(ba)&&($a=!0,ba=ba.substr(2));if(!/^\{/.test(ba))return!1;var Fb=Aw(ba);if(!Fb)return!1;ba=Fb.f;if(Fb.s&&ba&&-1!=P.call(ya,ba)){if("_renderstart"===Fb.s||Fb.s===Mw+"/"+ba+"::_renderstart")if(Fb=Fb.a&&Fb.a[$a?0:1],ya=we.getElementById(ba),Cq(ba,2),Fb&&ya&&Fb.width&&Fb.height){a:{$a=ya.parentNode;ba=Fb||{};if(Lp()){var ec=ya.id;if(ec){Fb=(Fb=sm[ec])?Fb.state:void 0;if(1===Fb||4===Fb)break a;Ru(ec)}}(Fb=$a.nextSibling)&&Fb.getAttribute&&Fb.getAttribute("data-gapistub")&&($a.parentNode.removeChild(Fb),
$a.style.cssText="");Fb=ba.width;var Kc=ba.height,ae=$a.style;ae.textIndent="0";ae.margin="0";ae.padding="0";ae.background="transparent";ae.borderStyle="none";ae.cssFloat="none";ae.styleFloat="none";ae.lineHeight="normal";ae.fontSize="1px";ae.verticalAlign="baseline";$a=$a.style;$a.display="inline-block";ae=ya.style;ae.position="static";ae.left="0";ae.top="0";ae.visibility="visible";Fb&&($a.width=ae.width=Fb+"px");Kc&&($a.height=ae.height=Kc+"px");ba.verticalAlign&&($a.verticalAlign=ba.verticalAlign);
ec&&Cq(ec,3)}ya["data-csi-wdt"]=(new Date).getTime()}return!0}return!1},Zs=function(ba,ya){Qm(ba,ya)},Lr=function(ba,ya){this.L=ba;ba=ya||{};this.fa=Number(ba.maxAge)||0;this.U=ba.domain;this.X=ba.path;this.ga=!!ba.secure};Lr.prototype.read=function(){for(var ba=this.L+"=",ya=document.cookie.split(/;\s*/),$a=0;$a<ya.length;++$a){var Fb=ya[$a];if(0==Fb.indexOf(ba))return Fb.substr(ba.length)}};Lr.prototype.write=function(ba,ya){if(!qy.test(this.L))throw"Invalid cookie name";if(!Rp.test(ba))throw"Invalid cookie value";
ba=this.L+"="+ba;this.U&&(ba+=";domain="+this.U);this.X&&(ba+=";path="+this.X);ya="number"===typeof ya?ya:this.fa;if(0<=ya){var $a=new Date;$a.setSeconds($a.getSeconds()+ya);ba+=";expires="+$a.toUTCString()}this.ga&&(ba+=";secure");document.cookie=ba;return!0};Lr.prototype.clear=function(){this.write("",0)};var Rp=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,qy=/^[A-Z_][A-Z0-9_]{0,63}$/;Lr.iterate=function(ba){for(var ya=document.cookie.split(/;\s*/),$a=0;$a<ya.length;++$a){var Fb=ya[$a].split("="),ec=Fb.shift();
ba(ec,Fb.join("="))}};var Sp=function(ba){this.B=ba};Sp.prototype.read=function(){if(Tp.hasOwnProperty(this.B))return Tp[this.B]};Sp.prototype.write=function(ba){Tp[this.B]=ba;return!0};Sp.prototype.clear=function(){delete Tp[this.B]};var Tp={};Sp.iterate=function(ba){for(var ya in Tp)Tp.hasOwnProperty(ya)&&ba(ya,Tp[ya])};var Sm="https:"===window.location.protocol,Su=Sm||"http:"===window.location.protocol?Lr:Sp,$s=function(ba){var ya=ba.substr(1),$a="",Fb=window.location.hostname;if(""!==ya){$a=parseInt(ya,
10);if(isNaN($a))return null;ya=Fb.split(".");if(ya.length<$a-1)return null;ya.length==$a-1&&(Fb="."+Fb)}else Fb="";return{i:"S"==ba.charAt(0),domain:Fb,l:$a}},at=function(){var ba,ya=null;Su.iterate(function($a,Fb){0===$a.indexOf("G_AUTHUSER_")&&($a=$s($a.substring(11)),!ba||$a.i&&!ba.i||$a.i==ba.i&&$a.l>ba.l)&&(ba=$a,ya=Fb)});return{ea:ba,F:ya}},bt=function(ba){if(0!==ba.indexOf("GCSC"))return null;var ya={W:!1};ba=ba.substr(4);if(!ba)return ya;var $a=ba.charAt(0);ba=ba.substr(1);var Fb=ba.lastIndexOf("_");
if(-1==Fb)return ya;var ec=$s(ba.substr(Fb+1));if(null==ec)return ya;ba=ba.substring(0,Fb);if("_"!==ba.charAt(0))return ya;Fb="E"===$a&&ec.i;return!Fb&&("U"!==$a||ec.i)||Fb&&!Sm?ya:{W:!0,i:Fb,ja:ba.substr(1),domain:ec.domain,l:ec.l}},Zk=function(ba){if(!ba)return[];ba=ba.split("=");return ba[1]?ba[1].split("|"):[]},Tu=function(ba){ba=ba.split(":");return{clientId:ba[0].split("=")[1],ia:Zk(ba[1]),la:Zk(ba[2]),ka:Zk(ba[3])}},Up=function(){var ba=at(),ya=ba.ea;ba=ba.F;if(null!==ba){var $a;Su.iterate(function(Kc,
ae){(Kc=bt(Kc))&&Kc.W&&Kc.i==ya.i&&Kc.l==ya.l&&($a=ae)});if($a){var Fb=Tu($a),ec=Fb&&Fb.ia[Number(ba)];Fb=Fb&&Fb.clientId;if(ec)return{F:ba,ha:ec,clientId:Fb}}}return null},ep=function(){this.T=Ow};ep.prototype.$=function(){this.K||(this.v=0,this.K=!0,this.Y())};ep.prototype.Y=function(){this.K&&(this.T()?this.v=this.R:this.v=Math.min(2*(this.v||this.R),120),window.setTimeout(pa(this.Y,this),1E3*this.v))};ep.prototype.v=0;ep.prototype.R=2;ep.prototype.T=null;ep.prototype.K=!1;var Vp=null;Lp=function(){return of.oa=
!0};Zn=function(){of.oa=!0;var ba=Up();(ba=ba&&ba.F)&&Xk("googleapis.config/sessionIndex",ba);Vp||(Vp=qb(of,"ss",new ep));ba=Vp;ba.$&&ba.$()};var Ow=function(){var ba=Up(),ya=ba&&ba.ha||null,$a=ba&&ba.clientId;Qm("auth",{callback:function(){var Fb=cd.gapi.auth,ec={client_id:$a,session_state:ya};Fb.checkSessionState(ec,function(Kc){var ae=ec.session_state,Ie=Rh("isLoggedIn");Kc=Rh("debug/forceIm")?!1:ae&&Kc||!ae&&!Kc;if(Ie=Ie!=Kc)Xk("isLoggedIn",Kc),Zn(),Gw(),Kc||((Kc=Fb.signOut)?Kc():(Kc=Fb.setToken)&&
Kc(null));Kc=cp();var hf=Rh("savedUserState");ae=Fb._guss(Kc.cookiepolicy);hf=hf!=ae&&"undefined"!=typeof hf;Xk("savedUserState",ae);(Ie||hf)&&zr(Kc)&&!Rh("disableRealtimeCallback")&&Fb._pimf(Kc,!0)})}});return!0};ik("bs0",!0,window.gapi._bs);ik("bs1",!0);delete window.gapi._bs}).call(void 0);Hb.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,
idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!1}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!1,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"en",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",
methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},
savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},
":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},
url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},
visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},
community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://www.gstatic.com/classroom/sharewidget/widget_stable.html?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},
configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},
card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.en_US.sazTpAB7NWc.O/am=wQE/d=1/ct=zgms/rs=AGLTcCMGRnMhese6OTxesnN0rDvhruAGIg/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",dpo:!1},platform:"additnow backdrop blogger comments commentcount community donation family_creation follow hangout health page partnersbadge person playemm playreview plus plusone post ratingbadge savetoandroidpay savetodrive savetowallet sharetoclassroom shortlists signin2 surveyoptin visibility youtube ytsubscribe zoomableimage".split(" "),
fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});var Bb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js");Bb.notify=function(Mb,Na){var Ua,Oa,Ia,eb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cb){switch(cb.nextAddress){case 1:return Ua=Bb.morph({type:"text",textAlign:"center",textString:Na,fill:null,padding:Bb.Rectangle.inset(10),fontSize:30,fontColor:"white",fontWeight:"bold",
readOnly:!0,grabbable:!1}),Oa=Math.max(Mb.width+40,Ua.width),Ia=Math.max(120,Ua.height),eb=Mb.addMorph({extent:Bb.pt(Oa,Ia),border:{radius:8},name:"notification",center:Mb.innerBounds().center(),origin:Bb.pt(Oa/2,Ia/2),fill:Bb.Color.gray,scale:.1,grabbable:!1,submorphs:[Ua]}),eb.submorphs[0].center=eb.innerBounds().center().subPt(Bb.pt(Oa/2,Ia/2)),cb.yield(eb.animate({scale:1,duration:400}),2);case 2:return cb.yield(Bb.promise.delay(800),3);case 3:return cb.yield(eb.animate({opacity:0,duration:400}),
4);case 4:eb.remove(),cb.jumpToEnd()}})};Bb.promise=Ib;Bb.fun=nc;Bb.arr=bc;Bb.string=Sd;Bb.resource=Vc;Bb.pt=Ud;Bb.Rectangle=Yc;Bb.Color=Oc;Bb.connect=qd;Bb.once=ie;Bb.signal=Ye;Bb.morph=sf;Bb.easings=ne;Bb.touchInputDevice=cc;Bb.Icon=Hc;Bb.config=Md;Bb.Morph=fc;Bb.Menu=$d;Bb.loadMorphFromSnapshot=pe;Bb.createMorphSnapshot=Cc;Bb.UserRegistry=Ic;Bb.ClientUser=Sb;Bb.loadPart=Jc;Bb.LoadingIndicator=dd;Bb.gapi=_missingExportShim;Bb.pathForBrowserHistory=Jd;Hb=Ba("UserUI",{getCurrentUser:function(){return Bb.UserRegistry.current.loadUserFromLocalStorage(Bb.config.users.authServerURL)},
showUserFlap:function(Mb){Mb=void 0===Mb?$world:Mb;var Na,Ua,Oa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ia){switch(Ia.nextAddress){case 1:return Ia.yield(zb.import("./lively top bar master-4d6543b5.js"),3);case 3:if(!(Na=Ia.yieldResult)){Ia.jumpTo(4);break}return Ia.yield(Bb.resource("part://SystemIDE/lively top bar master"),5);case 5:Na=Ia.yieldResult;case 4:return Ia.yield(Na.read(),2);case 2:return Ua=Ia.yieldResult,Ua.name="lively top bar",Ua.hasFixedPosition=!0,Ua.respondsToVisibleWindow=
!0,Ua.openInWorld(),Ua.relayout(),Ua.top=-Ua.height,Oa=Ua.dropShadow,Ua.dropShadow=null,zb.import("./__root_module__-dce2a509.js").then(function(eb){return eb.bX}).then(function(eb){var cb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ob){switch(ob.nextAddress){case 1:return ob.yield(Ua.whenRendered(),2);case 2:return ob.yield(Ua.animate({position:Bb.pt(0,0),dropShadow:Oa,duration:500}),3);case 3:if(Mb.metadata){ob.jumpTo(0);break}Mb.animate({customTween:function(Zb){Ua.blur=Mb.blur=
3*Zb},duration:500});return ob.yield(Mb.askForName(),5);case 5:cb=ob.yieldResult,Mb.name=cb,Mb.changeMetaData("commit",{name:cb}),window.history&&window.history.pushState({},"lively.next",Bb.pathForBrowserHistory(cb)),Mb.animate({customTween:function(Zb){Ua.blur=Mb.blur=3*(1-Zb)},duration:500}),ob.jumpToEnd()}})}),Ia.return(Ua)}})},hideUserFlap:function(Mb){Mb=void 0===Mb?$world:Mb;Mb.submorphs.filter(function(Na){return"user flap"===Na.name&&Na.owner==Mb}).forEach(function(Na){return Na.remove()})},
showWidget:function(Mb,Na){Na=void 0===Na?{}:Na;var Ua=this,Oa,Ia,eb,cb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ob){if(1==ob.nextAddress)return Oa=Na,Ia=void 0===Oa.modal?!0:Oa.modal,eb=void 0===Oa.user?Ua.getCurrentUser():Oa.user,ob.yield(Ua.loadMorph(Mb),2);cb=ob.yieldResult;return ob.return(cb.run(Ia,Na.world,eb))})},showUserInfo:function(Mb){Mb=void 0===Mb?{}:Mb;var Na=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ua){return 1==Ua.nextAddress?Ua.yield(Na.showWidget("user info",
Mb),2):Ua.return(Ua.yieldResult)})},showLogin:function(Mb){Mb=void 0===Mb?{}:Mb;var Na=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ua){return Ua.return(Na.showWidget("login widget",Mb))})},showRegister:function(Mb){Mb=void 0===Mb?{}:Mb;var Na=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ua){return Ua.return(Na.showWidget("register widget",Mb))})},loadMorph:function(Mb,Na){var Ua,Oa,Ia,eb,cb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ob){switch(ob.nextAddress){case 1:switch(Mb){case "login widget":return ob.jumpTo(2);
case "user info":return ob.jumpTo(3);case "register widget":return ob.jumpTo(4)}ob.jumpTo(5);break;case 2:return ob.yield(zb.import("./login widget-c8570f56.js"),7);case 7:if(!(Ua=ob.yieldResult)){ob.jumpTo(8);break}return ob.yield(Bb.resource("part://SystemUserUI/login widget"),9);case 9:Ua=ob.yieldResult;case 8:return ob.yield(Ua.read(),6);case 6:return ob.return(ob.yieldResult);case 3:return ob.yield(zb.import("./user info-5b06260b.js"),11);case 11:if(!(Oa=ob.yieldResult)){ob.jumpTo(12);break}return ob.yield(Bb.resource("part://SystemUserUI/user info"),
13);case 13:Oa=ob.yieldResult;case 12:return ob.yield(Oa.read(),10);case 10:return ob.return(ob.yieldResult);case 4:return ob.yield(zb.import("./register widget-5c6e92d1.js"),15);case 15:if(!(Ia=ob.yieldResult)){ob.jumpTo(16);break}return ob.yield(Bb.resource("part://SystemUserUI/register widget"),17);case 17:Ia=ob.yieldResult;case 16:return ob.yield(Ia.read(),14);case 14:return ob.return(ob.yieldResult);case 5:return eb=System.decanonicalize("lively.user/morphic/"+Mb+".json"),ob.yield(Bb.resource(eb).readJson(),
18);case 18:return cb=ob.yieldResult,ob.return(Bb.loadMorphFromSnapshot(cb,Na))}})}});Bb.UserUI=Hb;Bb.UserUI=Hb;Bb.UserUI=Hb;(function(Mb){var Na=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Ua=Na.hasOwnProperty("UserWidget")&&"function"===typeof Na.UserWidget?Na.UserWidget:Na.UserWidget=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Kd(Ua,Mb,[{key:"run",value:function(Oa,Ia,eb){var cb=
this;Ia=void 0===Ia?$world:Ia;if(void 0===Oa||Oa)var ob=Ia.addMorph({name:this.name+" overlay",hasFixedPosition:!0,grabbable:!1,draggable:!1,extent:Ia.extent,fill:Bb.Color.black.withA(.4)});this.epiMorph=this.hasFixedPosition=!0;this.activate(eb);return(new Promise(function(Zb,mc){Bb.once(cb,"resolved",Zb)})).then(function(Zb){cb.remove();ob&&ob.remove();return Zb})}},{key:"activate",value:function(Oa){Oa=$world;Oa.addMorph(this);this.align(this.worldPoint(this.innerBounds().center()),Oa.visibleBounds().center());
this.focus()}},{key:"onKeyDown",value:function(Oa){"Enter"===Oa.keyCombo&&(this.onEnterPressed(),Oa.stop());"Escape"===Oa.keyCombo&&(this.onEscapePressed(),Oa.stop());"Tab"===Oa.keyCombo&&(this.focusNext(),Oa.stop());"Shift-Tab"===Oa.keyCombo&&(this.focusPrev(),Oa.stop())}},{key:"focusOrder",value:function(){return[]}},{key:"focusNext",value:function(){var Oa=this.focusOrder(),Ia=this.world().focusedMorph;Ia=Oa.indexOf(Ia)+1;Ia>Oa.length-1&&(Ia=0);Oa[Ia].focus()}},{key:"focusPrev",value:function(){var Oa=
this.focusOrder(),Ia=this.world().focusedMorph;Ia=Oa.indexOf(Ia)-1;0>Ia&&(Ia=Oa.length-1);Oa[Ia].focus()}},{key:"onEscapePressed",value:function(){this.close()}},{key:"onEnterPressed",value:function(){}},{key:"close",value:function(){}},{key:"_save",value:function(){var Oa=this,Ia;return $jscomp.asyncExecutePromiseGeneratorProgram(function(eb){if(1==eb.nextAddress)return eb.yield(Bb.createMorphSnapshot(Oa),2);Ia=eb.yieldResult;return eb.yield(lively.modules.module("lively.user/morphic/"+Oa.name+".json").changeSource(JSON.stringify(Ia,
null,2),{doEval:!1}),0)})}},{key:"_htmlExport",value:function(){var Oa=this,Ia,eb,cb,ob,Zb,mc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Tb){if(1==Tb.nextAddress)return Ia=lively.modules.module,eb=Ia("lively.user/html/"+Oa.name+".html").id,cb=Bb.resource(eb),Tb.yield(Ia("lively.morphic/rendering/html-generator.js").load(),2);if(3!=Tb.nextAddress)return ob=Tb.yieldResult,Zb=ob.generateHTML,Tb.yield(Zb(Oa,cb,{isFragment:!0,addStyles:!1}),3);mc=Tb.yieldResult;return Tb.return({resource:cb,
html:mc})})}},{key:"htmlExport_transformNode",value:function(Oa){this.focusOrder().forEach(function(Ia,eb){return Oa.querySelector("#"+Ia.id).tabIndex=eb+1});return Oa}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserWidget"}},{key:"properties",get:function(){return{user:{}}}}],Na,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",
version:"0.2.0"}}},{start:4949,end:7681})})(Bb.Morph);Hb=Ba("UserInfoWidget",function(Mb){var Na=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Ua=Na.hasOwnProperty("UserInfoWidget")&&"function"===typeof Na.UserInfoWidget?Na.UserInfoWidget:Na.UserInfoWidget=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Kd(Ua,Mb,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),emailInput:this.getSubmorphNamed("email input"),saveButton:this.getSubmorphNamed("save button"),logoutButton:this.getSubmorphNamed("logout button"),closeButton:this.getSubmorphNamed("close button"),userAvatar:this.getSubmorphNamed("user avatar")}}},{key:"activate",value:function(Oa){Kd._get(Object.getPrototypeOf(Ua.prototype),"activate",this).call(this,Oa);this.displayUser(Oa)}},{key:"focus",
value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){var Oa=this.ui;return[Oa.userNameInput,Oa.emailInput,Oa.passwordInput,Oa.passwordInput2]}},{key:"onEnterPressed",value:function(){this.trySave()}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(Oa){Oa.draggable=!1;Oa.grabbable=!1});Bb.connect(this.ui.saveButton,"fire",this,"trySave");Bb.connect(this.ui.logoutButton,"fire",this,"logout");Bb.connect(this.ui.closeButton,"onMouseDown",this,"close");this.ui.userNameInput.readOnly=
!0;this.ui.userNameInput.selectable=!0;Bb.notify(this,"OK")}},{key:"displayUser",value:function(Oa){Oa=(this.user=Oa)||{};var Ia=Oa.email,eb=this.ui,cb=eb.emailInput,ob=eb.passwordInput,Zb=eb.passwordInput2,mc=eb.userAvatar;eb.userNameInput.input=Oa.name||"";cb.input=Ia||"";ob.input="";Zb.input="";mc.imageUrl=Bb.resource("https://s.gravatar.com/avatar").join(Bb.string.md5(Ia||"")).withQuery({s:320}).url}},{key:"trySave",value:function(){var Oa=this,Ia,eb,cb,ob,Zb,mc,Tb,pa,Ja,X,ua,ab,rb,vc,Bd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(sc){switch(sc.nextAddress){case 1:Ia=
Oa;eb=Ia.user;cb=Ia.ui;ob=cb.emailInput;Zb=cb.passwordInput;mc=cb.passwordInput2;if(!eb)return sc.return(Oa.showError("no user object"));Tb=ob.input;pa=Zb.input;Ja=mc.input;if(eb.email==Tb&&!pa&&!Ja)return sc.return(Bb.signal(Oa,"resolved",eb));if(!pa&&!Ja){sc.jumpTo(2);break}return pa!==Ja?sc.return(Oa.world().inform("Passwords do not match!",{requester:Oa})):sc.yield(Oa.world().passwordPrompt("To set a new password, please enter your old one",{requester:Oa}),3);case 3:return(X=sc.yieldResult)?sc.yield(eb.checkPassword(X),
4):sc.return(Oa.world().inform("Old password needed to change password, aborting!",{requester:Oa}));case 4:if(ua=sc.yieldResult,!ua)return sc.return(Oa.world().inform("Old password is not correct, aborting!",{requester:Oa}));case 2:return ab={},pa&&(ab.password=pa),Tb&&(ab.email=Tb),sc.yield(eb.modify(ab),5);case 5:return rb=sc.yieldResult,vc=rb.status,(Bd=rb.error)?sc.return(Oa.world().inform("Failed to modify: "+Bd,{requester:Oa})):sc.yield(Bb.UserRegistry.current.saveUserToLocalStorage(eb),6);
case 6:return sc.yield(Bb.notify(Oa,vc),7);case 7:Oa.displayUser(eb),Bb.signal(Oa,"resolved",eb),sc.jumpToEnd()}})}},{key:"logout",value:function(){var Oa=this,Ia;return $jscomp.asyncExecutePromiseGeneratorProgram(function(eb){if(1==eb.nextAddress)return eb.yield(Bb.UserRegistry.current.logout(Oa.user),2);if(3!=eb.nextAddress)return Oa.displayUser(Oa.user),Oa.remove(),eb.yield(Bb.UserUI.showLogin({modal:!1}),3);Ia=eb.yieldResult;Bb.signal(Oa,"resolved",Ia);eb.jumpToEnd()})}},{key:"close",value:function(){Bb.signal(this,
"resolved",this.user)}},{key:"onMouseUp",value:function(Oa){var Ia=this.ui,eb=Ia.closeButton;Ia=Ia.saveButton;switch(Oa.targetMorph){case eb:this.close();break;case Ia:this.trySave()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserInfoWidget"}}],Na,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",
version:"0.2.0"}}},{start:7690,end:11706})}(Bb.UserWidget));Bb.UserInfoWidget=Hb;Bb.UserInfoWidget=Hb;Bb.UserInfoWidget=Hb;Hb=Ba("LoginWidget",function(Mb){var Na=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Ua=Na.hasOwnProperty("LoginWidget")&&"function"===typeof Na.LoginWidget?Na.LoginWidget:Na.LoginWidget=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Kd(Ua,Mb,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
passwordInput:this.getSubmorphNamed("password input"),loginButton:this.getSubmorphNamed("login button"),registerButton:this.getSubmorphNamed("register button"),guestButton:this.getSubmorphNamed("guest button"),emailLoginForm:this.getSubmorphNamed("email login form"),googleLogin:this.getSubmorphNamed("google login"),emailLogin:this.getSubmorphNamed("email login"),appleLogin:this.getSubmorphNamed("apple login")}}},{key:"signInWithGoogle",value:function(){Bb.gapi.load("auth2",function(){var Oa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ia){if(1==
Ia.nextAddress)return Bb.gapi.auth2.init({client_id:"CLIENT_ID.apps.googleusercontent.com"}),Oa=Bb.gapi.auth2.getAuthInstance(),Ia.yield(Oa.signIn(),2);Ia.jumpToEnd()})})}},{key:"signInWithEmail",value:function(){var Oa=this,Ia,eb,cb,ob,Zb,mc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Tb){Ia=Oa.ui;eb=Ia.emailLoginForm;cb=Ia.googleLogin;ob=Ia.emailLogin;Zb=Ia.appleLogin;mc=Bb.easings.inOutExpo;[cb,ob,Zb].map(function(pa){return pa.animate({visible:!1,isLayoutable:!1,easing:mc,duration:300})});
eb.animate({visible:!0,isLayoutable:!0,easing:mc,duration:300});Tb.jumpToEnd()})}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.passwordInput]}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(pa){pa.draggable=!1;pa.grabbable=!1});var Oa=this.ui,Ia=Oa.registerButton,eb=Oa.userNameInput,cb=Oa.appleLogin,ob=Oa.passwordInput,Zb=Oa.emailLoginForm,mc=Oa.googleLogin,Tb=Oa.emailLogin;Bb.connect(Oa.loginButton,
"fire",this,"tryLogin");Bb.connect(Ia,"fire",this,"switchToRegisterWidget");Bb.connect(Tb,"fire",this,"signInWithEmail");Bb.connect(mc,"fire",this,"loginWithGoogle");eb.input="";ob.input="";Zb.isLayoutable=Zb.visible=!1;[Tb,cb,mc].map(function(pa){return pa.visible=pa.isLayoutable=!0})}},{key:"onEnterPressed",value:function(){this.tryLogin()}},{key:"tryLogin",value:function(){var Oa=this,Ia,eb,cb,ob,Zb,mc,Tb,pa,Ja;return $jscomp.asyncExecutePromiseGeneratorProgram(function(X){switch(X.nextAddress){case 1:Ia=
Oa;eb=Ia.ui;cb=eb.userNameInput;ob=eb.passwordInput;Zb=cb.input;mc=ob.input;if(!Zb)return X.return();Tb=Bb.ClientUser.named(Zb,Bb.config.users.authServerURL);X.setCatchFinallyBlocks(2);return X.yield(Bb.UserRegistry.current.login(Tb,mc),4);case 4:X.leaveTryBlock(3);break;case 2:Ja=X.enterCatchBlock(),pa=Ja.message;case 3:if(pa)return Bb.signal(Oa,"loginFailed",pa),pa.includes("No user")&&Oa.indicateError(Oa.ui.userNameInput,pa),pa.includes("does not match")&&Oa.indicateError(Oa.ui.passwordInput,"Password incorrect"),
X.return();Bb.notify(Oa,"logged in");Bb.signal(Oa,"loginSucceeded",Tb);Bb.signal(Oa,"resolved",Tb);X.jumpToEnd()}})}},{key:"switchToRegisterWidget",value:function(){var Oa=this,Ia;return $jscomp.asyncExecutePromiseGeneratorProgram(function(eb){if(1==eb.nextAddress)return eb.yield(Bb.UserUI.showRegister({modal:!1}),2);(Ia=eb.yieldResult)&&Bb.signal(Oa,"resolved",Ia);eb.jumpToEnd()})}},{key:"continueAsGuest",value:function(){var Oa=this,Ia,eb,cb,ob;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Zb){if(1==
Zb.nextAddress)return Ia=Bb.UserRegistry.current,eb=Ia.loadUserFromLocalStorage(Bb.config.users.authServerURL),eb.isGuestUser?(cb=eb,Zb.jumpTo(2)):Zb.yield(Ia.login(Bb.ClientUser.guest),3);2!=Zb.nextAddress&&(cb=Zb.yieldResult);ob=cb;Bb.signal(Oa,"resolved",ob);Zb.jumpToEnd()})}},{key:"indicateError",value:function(Oa,Ia){Oa.indicateError(Ia)}},{key:"clearErrors",value:function(){this.ui.userNameInput.clearError();this.ui.passwordInput.clearError()}},{key:"onMouseUp",value:function(Oa){var Ia=this.ui,
eb=Ia.loginButton;Ia=Ia.registerButton;switch(Oa.targetMorph){case eb:this.tryLogin();break;case Ia:this.switchToRegisterWidget()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LoginWidget"}}],Na,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:11715,end:15626})}(Bb.UserWidget));
Bb.LoginWidget=Hb;Bb.LoginWidget=Hb;Bb.LoginWidget=Hb;Hb=Ba("RegisterWidget",function(Mb){var Na=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Ua=Na.hasOwnProperty("RegisterWidget")&&"function"===typeof Na.RegisterWidget?Na.RegisterWidget:Na.RegisterWidget=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Kd(Ua,Mb,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
emailInput:this.getSubmorphNamed("email input"),passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),registerButton:this.getSubmorphNamed("register button"),cancelButton:this.getSubmorphNamed("cancel button")}}},{key:"onEnterPressed",value:function(){this.tryRegister()}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.emailInput,this.ui.passwordInput,this.ui.passwordInput2]}},
{key:"reset",value:function(){this.withAllSubmorphsDo(function(Oa){Oa.draggable=!1;Oa.grabbable=!1});Bb.connect(this.ui.registerButton,"fire",this,"tryRegister");Bb.connect(this.ui.cancelButton,"fire",this,"close");this.ui.userNameInput.readOnly=!0;this.ui.userNameInput.selectable=!0;Bb.notify(this,"OK")}},{key:"displayUser",value:function(Oa){this.user=Oa}},{key:"tryRegister",value:function(){var Oa=this,Ia,eb,cb,ob,Zb,mc,Tb,pa,Ja,X,ua,ab,rb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vc){switch(vc.nextAddress){case 1:Ia=
Oa;eb=Ia.ui;cb=eb.userNameInput;ob=eb.emailInput;Zb=eb.passwordInput;mc=eb.passwordInput2;Tb=cb.input;pa=ob.input;Ja=Zb.input;X=mc.input;if(!(Tb&&Ja&&X&&pa))return Tb||cb.indicateError("Please enter a user name!"),pa||ob.indicateError("Please enter E-Mail address!"),Ja||Zb.indicateError("Please enter a password!"),X||mc.indicateError("Please repeat your password!"),vc.return();if(Ja!==X)return mc.indicateError("Passwords do not match!"),vc.return();ua=Bb.ClientUser.named(Tb,Bb.config.users.authServerURL);
pa&&(ua.email=pa);vc.setCatchFinallyBlocks(2);return vc.yield(Bb.UserRegistry.current.register(ua,Ja),4);case 4:vc.leaveTryBlock(3);break;case 2:ab=rb=vc.enterCatchBlock();case 3:return ab?vc.return(Oa.world().inform("Failed to register: "+ab,{requester:Oa})):vc.yield(Bb.notify(Oa,"registered"),5);case 5:Oa.displayUser(ua),Bb.signal(Oa,"resolved",ua),vc.jumpToEnd()}})}},{key:"close",value:function(){Bb.signal(this,"resolved",this.user)}},{key:"onMouseUp",value:function(Oa){var Ia=this.ui,eb=Ia.registerButton;
Ia=Ia.cancelButton;switch(Oa.targetMorph){case eb:this.tryRegister();break;case Ia:this.close()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RegisterWidget"}}],Na,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:15635,end:18529})}(Bb.UserWidget));Bb.RegisterWidget=
Hb;Bb.RegisterWidget=Hb;Bb.RegisterWidget=Hb;Hb=Ba("UserFlap",function(Mb){var Na=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Ua=Na.hasOwnProperty("UserFlap")&&"function"===typeof Na.UserFlap?Na.UserFlap:Na.UserFlap=function(Oa){Oa&&Oa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Kd(Ua,Mb,[{key:"isUserFlap",get:function(){return!0}},{key:"isMaximized",get:function(){return 3<this.submorphs.length}},{key:"onLoad",
value:function(){var Oa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ia){if(1==Ia.nextAddress)return Ia.yield(Oa.whenRendered(),2);if([Oa].concat($jscomp.arrayFromIterable(Oa.ownerChain())).find(function(eb){return eb.isComponent}))return Ia.return();Oa.showUser(Oa.currentUser());Ia.jumpToEnd()})}},{key:"open",value:function(){var Oa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ia){Oa.openInWorld();Oa.showUser(Oa.currentUser(),!1);Oa.alignInWorld(!1);Oa.hasFixedPosition=
!0;return Ia.return(Oa)})}},{key:"onMouseDown",value:function(Oa){var Ia=this,eb,cb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ob){switch(ob.nextAddress){case 1:eb=Oa.targetMorph.name;cb=Ia.currentUser();switch(eb){case "profile item":return ob.return(Ia.showUserInfo(cb));case "logout item":return ob.jumpTo(2);case "login item":return ob.jumpTo(3);case "register item":Ia.showRegister();break;case "user flap":Ia.maximize();break;case "keyboard input":Ia.toggleKeyboardInput()}ob.jumpTo(0);
break;case 2:return ob.yield(Ia.minimize(),5);case 5:return ob.yield(Ia.logout(cb),6);case 6:return ob.return();case 3:return ob.yield(Ia.showLogin(cb),7);case 7:return ob.return()}})}},{key:"toggleKeyboardInput",value:function(Oa){Oa=void 0===Oa?!Bb.touchInputDevice:Oa;Bb.touchInputDevice=Oa;var Ia=this.get("keyboard input");Oa?(Ia.fontColor=Bb.Color.rgb(0,176,255),Ia.dropShadow=this.haloShadow):(Ia.fontColor=this.fontColor,Ia.dropShadow=!1)}},{key:"currentUser",value:function(){return Bb.UserRegistry.current.loadUserFromLocalStorage(Bb.config.users.authServerURL)}},
{key:"onUserChanged",value:function(Oa){this.showUser(Oa.user||{name:"???"},!1)}},{key:"onWorldResize",value:function(Oa){!this.isComponent&&this.alignInWorld()}},{key:"relayout",value:function(){this.alignInWorld()}},{key:"alignInWorld",value:function(Oa){var Ia=this,eb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cb){if(1==cb.nextAddress)return cb.yield(Ia.whenRendered(),2);Ia.hasFixedPosition&&Ia.owner.isWorld?Ia.topRight=Bb.pt(Ia.world().visibleBounds().width,0):Ia.owner.isWorld&&
(eb=$world.visibleBounds().topRight().withY(0).subXY(10,0),Oa?Ia.animate({topRight:eb,duration:200}):Ia.topRight=eb);cb.jumpToEnd()})}},{key:"minimize",value:function(){var Oa=this,Ia;return $jscomp.asyncExecutePromiseGeneratorProgram(function(eb){if(1==eb.nextAddress)return(Ia=Oa.getSubmorphNamed("user menu"))?eb.yield(Ia.animate({opacity:0,scale:.8,duration:200}),2):eb.return();Ia.visible=!1;eb.jumpToEnd()})}},{key:"ensureMenu",value:function(){var Oa=this,Ia,eb,cb,ob,Zb,mc,Tb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pa){switch(pa.nextAddress){case 1:if(!Oa._menuFetch){pa.jumpTo(2);
break}return pa.yield(Oa._menuFetch,3);case 3:return pa.return(pa.yieldResult);case 2:Ia=Bb.promise.deferred();Oa._menuFetch=Ia.promise;if(eb=Oa.getSubmorphNamed("user menu")){pa.jumpTo(4);break}cb=Oa;ob=cb.addMorph;Zb=cb;return pa.yield(zb.import("./user menu master-2862c39f.js"),6);case 6:if(!(mc=pa.yieldResult)){pa.jumpTo(7);break}return pa.yield(Bb.resource("part://SystemIDE/user menu master"),8);case 8:mc=pa.yieldResult;case 7:return pa.yield(mc.read(),5);case 5:eb=ob.call(Zb,pa.yieldResult);
case 4:Tb=eb,Tb.name="user menu",Tb.visible=!1,Tb.opacity=0,Tb.scale=.8,Tb.position=Oa.getSubmorphNamed("avatar").bottomCenter.addXY(0,10),Ia.resolve(Tb),pa.jumpToEnd()}})}},{key:"maximize",value:function(){var Oa=this,Ia;return $jscomp.asyncExecutePromiseGeneratorProgram(function(eb){if(1==eb.nextAddress)return(Ia=Oa.getSubmorphNamed("user menu"))?eb.jumpTo(2):eb.yield(Oa.ensureMenu(),3);2!=eb.nextAddress&&(Ia=eb.yieldResult);Ia.right=Oa.width-5;Ia.visible=!0;return eb.yield(Ia.animate({opacity:1,
scale:1,duration:200}),0)})}},{key:"changeWidthAndHeight",value:function(Oa,Ia,eb){var cb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ob){return eb?ob.yield(cb.animate({position:cb.position.addXY(cb.width-Oa,0),extent:Bb.pt(Oa,Ia),duration:200}),0):(cb.extent=Bb.pt(Oa,Ia),cb.position=cb.position.addXY(cb.width-Oa,0),ob.jumpTo(0))})}},{key:"showMenuItems",value:function(Oa){var Ia=this;Bb.arr.withoutAll(["login item","logout item","profile item","register item"],Oa).map(function(eb){return Ia.getSubmorphNamed(eb)}).forEach(function(eb){eb.visible=
!1;eb.bringToFront()});Oa.map(function(eb){return Ia.getSubmorphNamed(eb)}).forEach(function(eb){eb.visible=!0})}},{key:"showUser",value:function(Oa,Ia){var eb=this,cb,ob,Zb,mc,Tb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pa){switch(pa.nextAddress){case 1:return cb=eb.getSubmorphNamed("label"),ob=eb.getSubmorphNamed("user menu"),Zb=eb.getSubmorphNamed("avatar"),eb.getSubmorphNamed("login item"),eb.getSubmorphNamed("logout item"),eb.getSubmorphNamed("profile item"),mc=String(Oa.name),
Tb=Bb.resource("https://s.gravatar.com/avatar").join(Bb.string.md5(Oa.email||"")).withQuery({s:160}).url,pa.yield(eb.ensureMenu(),2);case 2:mc.startsWith("guest-")?(eb.showMenuItems(["login item","register item"]),mc="guest"):eb.showMenuItems(["logout item","profile item"]);cb.value=mc;Zb.imageUrl=Tb;if(!ob){pa.jumpTo(3);break}return pa.yield(ob.master.whenApplied(),4);case 4:ob.position=Zb.bottomCenter.addXY(0,10);case 3:return pa.yield(eb.whenRendered(),5);case 5:eb.alignInWorld(),pa.jumpToEnd()}})}},
{key:"showRegister",value:function(){return Bb.UserUI.showRegister()}},{key:"showUserInfo",value:function(Oa){return Bb.UserUI.showUserInfo({user:Oa})}},{key:"showLogin",value:function(Oa){return Bb.UserUI.showLogin({user:Oa})}},{key:"logout",value:function(Oa){return Bb.UserRegistry.current.logout(Oa)}},{key:"onBlur",value:function(Oa){var Ia=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(eb){if(1==eb.nextAddress)return Ia.minimize(),eb.yield(Ia.whenRendered(),2);Ia.world().focusedMorph.ownerChain().includes(Ia)&&
Ia.focus();eb.jumpToEnd()})}},{key:"showMenu",value:function(Oa,Ia){Ia=void 0===Ia?!1:Ia;var eb=this,cb,ob,Zb,mc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Tb){cb=eb.getSubmorphNamed("label");ob=eb.getSubmorphNamed("avatar");Zb=["open chat",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(pa){pa.jumpToEnd()})}];mc=Object.assign(Bb.Menu.forItems(Oa.isGuestUser?[Zb,["login",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(pa){eb.minimize();
eb.showLogin(Oa);pa.jumpToEnd()})}]]:[["show user info",function(){eb.minimize();eb.showUserInfo(Oa)}],Zb,["logout",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(pa){if(1==pa.nextAddress)return pa.yield(eb.minimize(),2);eb.logout(Oa);pa.jumpToEnd()})}]]),{name:"menu",position:Bb.pt(10,5),dropShadow:!1,opacity:Ia?0:1,borderWidth:0,fontSize:12,fontFamily:"Helvetica Neue, Verdana, Sans Serif"});ob.visible=!1;cb.visible=!1;eb.addMorph(mc);Ia&&mc.animate({opacity:1,duration:200});
return Tb.yield(eb.changeWidthAndHeight(mc.width+20,mc.height+10,Ia),0)})}},{key:"updateNetworkIndicator",value:function(Oa){var Ia="red";Oa&&(Oa.isOnline()&&(Ia="yellow"),Oa.isRegistered()&&(Ia="green"));this.get("network-indicator").animate({fill:Bb.Color[Ia],duration:300})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserFlap"}},{key:"properties",get:function(){return{submorphs:{initialize:function(){this.submorphs=[{type:"label",name:"label",fontSize:12,fontFamliy:"Helvetica Neue, Verdana, Sans Serif",
fontWeight:"bold",padding:Bb.Rectangle.inset(4),reactsToPointer:!1},Bb.Icon.makeLabel("user",{name:"avatar",fontColor:Bb.Color.black.withA(.3),fontSize:12,clipMode:"hidden",padding:Bb.Rectangle.inset(2,2,4,0),borderWidth:1,borderColor:Bb.Color.black.withA(.3),extent:Bb.pt(20,20),borderRadius:10}),{name:"network-indicator",fill:Bb.Color.red,borderRadius:5,extent:Bb.pt(5,5),position:Bb.pt(5,8),reactsToPointer:!1}]}},fontColor:{after:["submorphs"],set:function(Oa){this.setProperty("fontColor",Oa)}},
name:{initialize:function(){this.name="user flap"}},epiMorph:{defaultValue:!0},clipMode:{defaultValue:"hidden"},draggable:{defaultValue:!1},grabbable:{defaultValue:!1},acceptsDrops:{defaultValue:!1},fill:{defaultValue:Bb.Color.white},borderRadiusBottom:{defaultValue:10},borderRadiusLeft:{defaultValue:10},borderRadiusRight:{defaultValue:10},nativeCursor:{defaultValue:"pointer"},respondsToVisibleWindow:{defaultValue:!0},haloColor:{readOnly:!0,get:function(){return Bb.Color.rgb(0,176,255)}},haloShadow:{readOnly:!0,
get:function(){return{distance:2,rotation:45,color:Bb.Color.rgba(64,196,255,.4),inset:!1,blur:6,spread:0,fast:!1}}}}}}],Na,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:18538,end:27710})}(Bb.Morph));Bb.UserFlap=Hb;Bb.UserFlap=Hb;Bb.UserFlap=Hb}}});System.register("11",[],function(){return{execute:function(){lively.FreezerRuntime.recorderFor("lively.2lively/index.js")}}});
System.register(["./__root_module__-590131e3.js","./index-2bc8c0f4.js"],function(Sa){var Lb,Vb,Fc,jc,sd,kd,Cd,ed,Zc,bd,yd,ke,ue,He,ld,Wd,gc,cd,Bd,hd,Jd,de,Zb,Ic,Ad,Jc,zd,Mb,mb,Bc,xc,ec,Dc,Ta,hc,Eb,tc,Ec,ad,td,fc,zc,ac,Oa,Da,ka,Ba,Ja,Fb,va,Ka,Rb;return{setters:[function(eb){Lb=eb.C;Vb=eb.bd;Fc=eb.be;jc=eb.bf;sd=eb.bg;kd=eb.bh;Cd=eb.bi;ed=eb.b;Zc=eb.a8;bd=eb.bj;yd=eb.bk;ke=eb.bl;ue=eb.M;He=eb.K;ld=eb.W;Wd=eb.S;gc=eb.aC;cd=eb.bm;Bd=eb.bn;hd=eb.c;Jd=eb.d;de=eb.ac;Zb=eb.a;Ic=eb.i;Ad=eb.I;Jc=eb.ag;
zd=eb.g;Mb=eb.bo;mb=eb.ab;Bc=eb.ay;xc=eb.bp;ec=eb.m;Dc=eb.af;Ta=eb.aa;hc=eb.a3;Eb=eb.p;tc=eb.f;Ec=eb.s;ad=eb.Y;td=eb.$;fc=eb.R;zc=eb.bq;ac=eb.br;Oa=eb.bs;Da=eb.a9;ka=eb.o;Ba=eb.aq;Ja=eb.r},function(eb){Fb=eb.p;va=eb.P;Ka=eb.d;Rb=eb.N}],execute:function(){var eb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");eb.Color=Lb;eb.Complementary=Vb;eb.Triadic=Fc;eb.Tetradic=jc;eb.Quadratic=sd;eb.Analogous=kd;eb.Neutral=Cd;eb.pt=ed;eb.Point=Zc;eb.flatDesignColors=bd;eb.materialDesignColors=
yd;eb.webSafeColors=ke;eb.Morph=ue;eb.Text=He;eb.Ellipse=ld;eb.Image=Wd;eb.DropDownSelector=gc;eb.ModeSelector=cd;eb.Slider=Bd;eb.connect=hd;eb.signal=Jd;eb.num=de;eb.arr=Zb;eb.WHEEL_URL="/lively.ide/assets/color-wheel.png";eb.duration=200;(function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Tb.hasOwnProperty("ColorPaletteField")&&"function"===typeof Tb.ColorPaletteField?Tb.ColorPaletteField:Tb.ColorPaletteField=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"onHoverIn",value:function(){if(this.color){var Pa=$jscomp.makeIterator(this.color.isGradient?eb.Color.blue.toHSB():this.color.toHSB()),ca=Pa.next().value,Ha=Pa.next().value;Pa=Pa.next().value;this.borderColor=eb.Color.hsb(ca,1<Ha+.5?Ha-.5:Ha+.5,1<Pa+.5?Pa-.5:Pa+.5)}}},{key:"onHoverOut",value:function(){this.borderColor=eb.Color.transparent}},{key:"onMouseDown",value:function(){eb.signal(this,"updateColor",
this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:eb.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||eb.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||eb.Color.transparent}},styleClasses:{after:["color"],initialize:function(){this.styleClasses=this.color?["colorField"]:["vacantColorField"]}}}}}],
Tb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:525,end:1539})})(eb.Morph);(function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Tb.hasOwnProperty("ColorHarmonyField")&&"function"===typeof Tb.ColorHarmonyField?Tb.ColorHarmonyField:
Tb.ColorHarmonyField=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"onMouseDown",value:function(){eb.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:eb.pt(80,60)},fill:{defaultValue:eb.Color.transparent},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color harmony field"}}},
color:{set:function(Pa){var ca=$jscomp.makeIterator(this.submorphs),Ha=ca.next().value;ca=ca.next().value;var cb=$jscomp.makeIterator(Pa?Pa.toHSB():[]),Pb=cb.next().value,sc=cb.next().value;cb=cb.next().value;this.setProperty("color",Pa);Pa&&Ha&&ca&&(Ha.fill=Pa,ca.textString=Pa.toHexString(),ca.fontColor=eb.Color.hsb(Pb,1<sc+.5?sc-.5:sc+.5,1<cb+.5?cb-.5:cb+.5))}},submorphs:{after:["color"],initialize:function(){var Pa=$jscomp.makeIterator((this.color||eb.Color.transparent).toHSB()),ca=Pa.next().value,
Ha=Pa.next().value;Pa=Pa.next().value;this.submorphs=[new eb.Morph({fill:this.color,extent:eb.pt(80,50)}),new eb.Text({textString:ca.toFixed()+", "+Ha.toFixed(2)+", "+Pa.toFixed(2),fill:eb.Color.transparent,fontColor:eb.Color.gray.darker(),bottomLeft:eb.pt(0,50)})]}}}}}],Tb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:1541,end:2933})})(eb.Morph);(function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Tb.hasOwnProperty("HarmonyDisplay")&&"function"===typeof Tb.HarmonyDisplay?Tb.HarmonyDisplay:Tb.HarmonyDisplay=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"update",value:function(Pa){var ca=$jscomp.makeIterator(Pa.pivotColor.toHSB()),Ha=ca.next().value,
cb=ca.next().value;ca=ca.next().value;Ha=Pa.harmony.chord({hue:Ha,saturation:cb,brightness:ca});Ha.length!=this.submorphs.length?this.submorphs=Ha.map(function(Pb){Pb=new eb.ColorHarmonyField({color:Pb});eb.connect(Pb,"updateColor",Pa,"color");return Pb}):eb.arr.zip(this.submorphs,Ha).forEach(function(Pb){var sc=$jscomp.makeIterator(Pb);Pb=sc.next().value;sc=sc.next().value;Pb.color=sc})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyDisplay"}}],Tb,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2935,end:3513})})(eb.Morph);(function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Tb.hasOwnProperty("PivotColorControl")&&"function"===typeof Tb.PivotColorControl?Tb.PivotColorControl:Tb.PivotColorControl=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"update",value:function(Pa){this.pivotColor=Pa.pivotColor}},{key:"onDrag",value:function(Pa){var ca=$jscomp.makeIterator(this.pivotColor.toHSB()),Ha=ca.next().value,cb=ca.next().value;ca=ca.next().value;Ha=eb.num.toRadians(Ha);Pa=eb.Point.polar(50*cb,Ha).addPt(Pa.state.dragDelta);Ha=eb.num.toDegrees(Pa.theta());Ha=0>Ha?Ha+360:Ha;cb=Math.min(Pa.r()/50,1);this.pivotColor=eb.Color.hsb(Ha,cb,ca)}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:eb.Color.blue},draggable:{defaultValue:!0}}}}],Tb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3515,end:4149})})(eb.Ellipse);(function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
Gb=Tb.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof Tb.HarmonyVisualizer?Tb.HarmonyVisualizer:Tb.HarmonyVisualizer=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"update",value:function(Pa){var ca=$jscomp.makeIterator(this.submorphs).next().value,Ha=this.get("pivot control"),cb=$jscomp.makeIterator(Pa.pivotColor.toHSB()),Pb=cb.next().value,sc=cb.next().value;cb=cb.next().value;var Xc=
eb.num.toRadians(Pb);Pb=Pa.harmony.chord({hue:Pb,saturation:sc,brightness:cb}).map(function(Nc){var Ed=$jscomp.makeIterator(Nc.toHSB()),Ld=Ed.next().value;Nc=Ed.next().value;Ed.next();Ed=eb.num.toRadians(Ld);return eb.Point.polar(50*Nc,Ed)});ca.fill=eb.Color.black.withA(1-cb);Ha.update(Pa);ca.submorphs.length-1!=Pb.length?ca.submorphs=[].concat($jscomp.arrayFromIterable(Pb.map(function(Nc){return new eb.Ellipse({center:Nc,fill:eb.Color.transparent,draggable:!1,borderWidth:1,borderColor:eb.Color.black})})),
[Ha]):(eb.arr.zip(ca.submorphs,Pb).forEach(function(Nc){var Ed=$jscomp.makeIterator(Nc);Nc=Ed.next().value;if(Ed=Ed.next().value)Nc.center=Ed}),Ha.center=eb.Point.polar(50*sc,Xc))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new eb.PivotColorControl({name:"pivot control"})]}]}}}}}],
Tb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4151,end:5613})})(eb.Image);(function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Tb.hasOwnProperty("HarmonyPalette")&&"function"===typeof Tb.HarmonyPalette?Tb.HarmonyPalette:Tb.HarmonyPalette=
function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"update",value:function(Pa){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=Pa.pivotBrightness,this.harmony=Pa.harmony,this.get("harmonies").update(Pa),this.get("harmony visualizer").update(Pa),this.updateInProgress=!1)}},{key:"harmonyControl",value:function(){var Pa,ca,Ha=new eb.Morph({name:"harmonyControl",submorphs:[new eb.HarmonyVisualizer({name:"harmony visualizer"}),
ca=new eb.Slider({min:0,max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),Pa=new eb.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new eb.Complementary,Triadic:new eb.Triadic,Tetradic:new eb.Tetradic,Quadratic:new eb.Quadratic,Analogous:new eb.Analogous,Neutral:new eb.Neutral}})]});eb.connect(ca,"value",this,"pivotBrightness");eb.connect(Pa,"selectedValue",
this,"harmony");return Ha}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new eb.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],initialize:function(){this.submorphs=[new eb.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],Tb,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5615,end:7542})})(eb.Morph);var Vc=Sa("C",function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Tb.hasOwnProperty("ColorPalette")&&"function"===typeof Tb.ColorPalette?Tb.ColorPalette:Tb.ColorPalette=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"fadeIntoWorld",value:function(Pa){Ic._get(Object.getPrototypeOf(Gb.prototype),"fadeIntoWorld",this).call(this,Pa);this.initPosition=Pa;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function(Pa){"Escape"==Pa.key&&this.close()}},{key:"close",value:function(Pa){Pa?this.fadeOut(Pa):this.remove();eb.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",
extent:eb.pt(400,253),submorphs:[this.solidColorPalette(),new eb.HarmonyPalette({name:"harmony palette",isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var Pa=this.get("solidColorPalette"),ca=this.get("paletteView");Pa.visible||(ca.submorphs.forEach(function(Ha){return Ha.animate({isLayoutable:!1,visible:!1,duration:200})}),Pa.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var Pa=this.get("paletteView");this.get("harmony palette").visible||
(Pa.submorphs.forEach(function(ca){return ca.animate({isLayoutable:!1,visible:!1,duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var Pa=new eb.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette","Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});eb.connect(Pa,"Color Palette",this,"selectSolidMode");eb.connect(Pa,"Color Harmonies",this,"selectHarmonyMode");
return Pa}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var Pa=this.getColorsFor(this.colorPalette),ca=Pa.colors,Ha=Pa.mod;return this.cachedPalette[Pa.name]||this.getPalette(ca,Ha)}},{key:"getPalette",value:function(Pa,ca){var Ha=this,cb=Math.max(Math.ceil(Pa.length/ca),15),Pb=cb*this.colorFieldWidth,sc=
ca*this.colorFieldWidth;Pa=[].concat($jscomp.arrayFromIterable(Pa),$jscomp.arrayFromIterable(eb.arr.withN(cb*ca-Pa.length,null)));return{extent:eb.pt(Pb,sc),name:"paletteContainer",submorphs:Pa.map(function(Xc){Xc=new eb.ColorPaletteField({color:Xc&&eb.Color.rgbHex(Xc),extent:eb.pt(Ha.colorFieldWidth,Ha.colorFieldWidth)});eb.connect(Xc,"updateColor",Ha,"color");return Xc})}}},{key:"switchPalette",value:function(Pa){var ca=Pa.name,Ha=Pa.colors;Pa=Pa.mod;var cb=this.get("solidColorPalette"),Pb=$jscomp.makeIterator(cb.submorphs);
Pb.next();Pb=Pb.next().value;this.cachedPalette[ca]=this.cachedPalette[ca]||this.getPalette(Ha,Pa,ca);cb.submorphs=[this.cachedPalette[ca],Pb]}},{key:"getPaletteDescription",value:function(Pa){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",custom:"Your personal set of customly defined colors.",
materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[Pa]}},{key:"updatePaletteDescription",
value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function(Pa){return Object.assign({name:Pa},{flatDesign:{colors:eb.flatDesignColors,mod:11},materialDesign:{colors:eb.materialDesignColors,mod:15},webSafe:{colors:eb.webSafeColors,mod:12}}[Pa])}},{key:"paletteConfig",value:function(){var Pa,ca={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[Pa=new eb.DropDownSelector({isHaloItem:!0,name:"paletteSelector",
selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};eb.connect(Pa,"selectedValue",this,"colorPalette");return ca}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:eb.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function(Pa){this.setProperty("colorPalette",
Pa);this.switchPalette(this.getColorsFor(Pa));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function(Pa){this.setProperty("pivotColor",Pa);this.get("harmony palette").update(this)}},color:{set:function(Pa){this.setProperty("color",Pa);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var Pa=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());Pa.next();Pa.next();return Pa.next().value},
set:function(Pa){var ca=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),Ha=ca.next().value;ca=ca.next().value;this.pivotColor=eb.Color.hsb(Ha,ca,Pa)}},harmony:{after:["submorphs","pivotColor"],defaultValue:new eb.Complementary,set:function(Pa){this.setProperty("harmony",Pa);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var Pa=
$jscomp.makeIterator((this.color.isGradient?eb.Color.blue:this.color).toHSB()),ca=Pa.next().value,Ha=Pa.next().value;Pa.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=eb.Color.hsb(ca,Ha,1);eb.connect(this.get("harmony palette"),"harmony",this,"harmony");eb.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");eb.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],
Tb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:7608,end:15438})}(eb.Morph));eb.ColorPalette=Vc;eb.ColorPalette=Vc;eb.ColorPalette=Vc;var Qb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");Qb.Morph=ue;Qb.Icon=Ad;Qb.ProportionalLayout=Jc;Qb.config=zd;
Qb.Text=He;Qb.ShadowObject=Mb;Qb.GridLayout=mb;Qb.TilingLayout=Bc;Qb.StyleSheet=xc;Qb.morph=ec;Qb.HorizontalLayout=Dc;Qb.VerticalLayout=Ta;Qb.KeyHandler=hc;Qb.connect=hd;Qb.signal=Jd;Qb.arr=Zb;Qb.promise=Eb;Qb.fun=tc;Qb.string=Ec;Qb.obj=ad;Qb.Color=Lb;Qb.rect=td;Qb.Rectangle=fc;Qb.pt=ed;Qb.popovers=Fb;Qb.ModeSelector=cd;Qb.DropDownSelector=gc;Qb.SearchField=zc;Qb.CheckBox=ac;Qb.Popover=va;Qb.SvgStyleHalo=Ka;Qb.NumberWidget=Rb;Qb.Icons=Oa;Qb.duration=200;var qd=Sa("c",Qb.colorWidgets||{});Qb.colorWidgets=
qd;Qb.colorWidgets=qd;Qb.colorWidgets=qd;(function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Tb.hasOwnProperty("SelectableControl")&&"function"===typeof Tb.SelectableControl?Tb.SelectableControl:Tb.SelectableControl=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"select",value:function(Pa){var ca=this,Ha,cb,Pb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(sc){if(1==
sc.nextAddress)return ca.target?sc.yield(ca.target.execCommand(Pa),2):sc.return();Ha=sc.yieldResult;cb=ca.get("modeSelector");Ha.opacity=0;ca.lastLabel&&(Pb=cb.submorphs.indexOf(ca.lastLabel)<cb.submorphs.indexOf(cb.currentLabel),Ha.topLeft=cb.bottomLeft.addXY(Pb?20:-20,10));ca.lastLabel=cb.currentLabel;ca.animate({submorphs:[cb,Ha],duration:Qb.duration});Ha.animate({opacity:1,duration:Qb.duration});sc.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SelectableControl"}},
{key:"properties",get:function(){return{target:{type:"Morph"},selectableControls:{},selectedControl:{},fill:{defaultValue:Qb.Color.transparent},layout:{initialize:function(){this.layout=new Qb.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function(Pa){return this.container.submorphs.indexOf(Pa)}})}},submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var Pa=new Qb.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});
this.submorphs=[Pa];Pa.width=100;Qb.connect(Pa,"switchLabel",this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:948,end:2579})})(Qb.Morph);(function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
Gb=Tb.hasOwnProperty("ToggledControl")&&"function"===typeof Tb.ToggledControl?Tb.ToggledControl:Tb.ToggledControl=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"toggle",value:function(Pa){var ca=$jscomp.makeIterator(this.submorphs).next().value,Ha=this.toggledControl(Pa);ca=[ca].concat($jscomp.arrayFromIterable(Ha?[Ha]:[]));Qb.signal(this,"update",Pa&&Ha.value);Ha&&(Ha.opacity=0);this.animate({submorphs:ca,
duration:Qb.duration});Ha&&Ha.animate({opacity:1,duration:Qb.duration})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:Qb.Color.transparent},layout:{initialize:function(){this.layout=new Qb.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var Pa=new Qb.CheckBox({checked:this.checked});this.submorphs=
[{fill:Qb.Color.transparent,layout:new Qb.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:Qb.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},Pa]}];this.toggle(this.checked);Qb.connect(Pa,"toggle",this,"toggle")}}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2581,end:4273})})(Qb.Morph);(function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Tb.hasOwnProperty("StylePopover")&&"function"===typeof Tb.StylePopover?Tb.StylePopover:Tb.StylePopover=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"setupConnections",value:function(){}},{key:"controls",
value:function(){return[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=Qb.morph({layout:new Qb.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:Qb.Color.transparent,submorphs:this.controls()});this.setupConnections()}}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4275,end:4825})})(Qb.Popover);var Wc=function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Tb.hasOwnProperty("IconPopover")&&"function"===typeof Tb.IconPopover?Tb.IconPopover:Tb.IconPopover=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"onDrop",value:function(Pa){var ca=this;Pa.hand.grabbedMorphs.find(function(Ha){return Ha===
ca.iconLabel})&&(Pa.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new Qb.VerticalLayout({spacing:4}),fill:Qb.Color.transparent,submorphs:[new Qb.SearchField({name:"searchInput",width:200,placeHolder:"Search Icons"}),Qb.morph({textAndAttributes:this.iconAsTextAttributes(),name:"iconList",draggable:!0,type:"text",extent:Qb.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var Pa=
this.ui,ca=Pa.iconList;Qb.connect(Pa.searchInput,"searchInput",this,"filterIcons");Qb.connect(ca,"onMouseUp",this,"iconSelectClick");Qb.connect(ca,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",value:function(Pa){Pa=this.ui.iconList.textPositionFromPoint(Pa.positionIn(this.ui.iconList));Pa=this.iconAtTextPos(Pa);this.iconLabel=Qb.Icon.makeLabel(Pa,{fontSize:this.ui.iconList.fontSize,name:Pa});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",
value:function(Pa){var ca=Object.keys(Qb.Icons);Pa&&(ca=ca.filter(Pa));return Qb.arr.flatmap(ca,function(Ha,cb){return[Qb.Icons[Ha].code,{iconCode:Qb.Icons[Ha].code,iconName:Ha}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",value:function(){var Pa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ca){if(1==ca.nextAddress)return ca.yield(Qb.promise.delay(250),2);Qb.fun.debounceNamed("filterIcons",200,function(){Pa.ui.iconList.textAndAttributes=Pa.iconAsTextAttributes(function(Ha){return Pa.ui.searchInput.matches(Ha.toLowerCase())})})();
ca.jumpToEnd()})}},{key:"iconSelectClick",value:function(Pa){Pa=this.ui.iconList.textPositionFromPoint(Pa.positionIn(this.ui.iconList));Pa=this.iconAtTextPos(Pa);this.setStatusMessage(Pa);Qb.signal(this,"select",Pa)}},{key:"iconAtTextPos",value:function(Pa){var ca=Pa.row;Pa=Pa.column;--Pa;for(var Ha=this.ui.iconList,cb=Ha.textAndAttributesInRange({start:{row:ca,column:Math.max(0,Pa)},end:{row:ca,column:Pa+2}});cb.length&&!cb[1].iconName;)Pa++,cb=cb.slice(2);var Pb={start:{row:ca,column:Pa},end:{row:ca,
column:Pa+1}};Ha.addTextAttribute({backgroundColor:Ha.selectionColor.darker().withA(.5)},Pb);Qb.promise.delay(1E3).then(function(){return Ha.addTextAttribute({backgroundColor:Qb.Color.transparent},Pb)});return cb.length?cb[1].iconName:null}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"IconPopover"}},{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:Qb.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),
iconList:this.get("iconList")}}}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4834,end:8444})}(Qb.StylePopover);Qb.IconPopover=Wc;Qb.IconPopover=Wc;Qb.IconPopover=Wc;Wc=function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Tb.hasOwnProperty("LayoutPopover")&&
"function"===typeof Tb.LayoutPopover?Tb.LayoutPopover:Tb.LayoutPopover=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"getLayoutObjects",value:function(){return[null,new Qb.HorizontalLayout({autoResize:!1}),new Qb.VerticalLayout({autoResize:!1}),new Qb.TilingLayout,new Qb.ProportionalLayout,new Qb.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){Ic._get(Object.getPrototypeOf(Gb.prototype),
"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:Qb.Color.transparent,layout:new Qb.VerticalLayout({spacing:5,layoutOrder:function(Pa){return this.container.submorphs.indexOf(Pa)}}),submorphs:[this.layoutPicker(),this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),
duration:300}:{isLayoutable:!1,extent:Qb.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function(Pa){this.clearLayoutHalo();Pa&&Pa.layout&&(this.layoutHalo=(Pa.world()||Pa.env.world).showLayoutHaloFor(Pa))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function(Pa){return Pa?Pa.name()+" Layout":
"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function(Pa){this.container.animate({layout:Pa});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());Qb.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var Pa=this,ca=this.getLayoutObjects().map(function(Ha){var cb={};return cb[Pa.getLayoutName(Ha)]=Ha,cb});ca=this.get("Layout Type")||new Qb.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return Pa.getCurrentLayoutName()},
selectedValue:this.container.layout,values:Qb.obj.merge(ca)});Qb.connect(ca,"selectedValue",this,"applyLayout");return ca}},{key:"layoutControls",value:function(){return{name:"controlContainer",fill:Qb.Color.transparent,layout:new Qb.VerticalLayout,isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:Qb.Color.gray.lighter()}}}}],
Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:8453,end:11240})}(Qb.StylePopover);Qb.LayoutPopover=Wc;Qb.LayoutPopover=Wc;Qb.LayoutPopover=Wc;Wc=function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Tb.hasOwnProperty("FillPopover")&&
"function"===typeof Tb.FillPopover?Tb.FillPopover:Tb.FillPopover=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"openHandle",value:function(Pa){Pa.openInWorld();this.openHandles.push(Pa)}},{key:"close",value:function(){Ic._get(Object.getPrototypeOf(Gb.prototype),"close",this).call(this);this.openHandles.forEach(function(Pa){return Pa.remove()})}},{key:"setupConnections",value:function(){var Pa=
this.ui,ca=Pa.fillSelector,Ha=Pa.colorField;Pa=Pa.gradientEditor;ca&&Qb.connect(this,"fillValue",ca,"value");Pa&&(Qb.connect(Pa,"gradientValue",this,"fillValue"),Qb.connect(Pa,"openHandle",this,"openHandle"));Ha&&(Qb.connect(this,"close",Ha,"remove"),Qb.connect(Ha,"update",this,"fillValue"),Qb.connect(this,"onMouseDown",Ha,"removeWidgets"))}},{key:"commands",get:function(){var Pa=this;return Ic._get(Object.getPrototypeOf(Gb.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var ca=
new Qb.colorWidgets.ColorPickerField({name:"colorField",colorValue:Pa.fillValue.isGradient?Qb.Color.blue:Pa.fillValue});ca.whenRendered().then(function(){Pa.setupConnections()});return ca}},{name:"switch to gradient",exec:function(){var ca=new Qb.colorWidgets.GradientEditor({name:"gradient editor",gradientValue:Pa.fillValue});ca.whenRendered().then(function(){Pa.setupConnections();Pa.handleMorph&&ca.showGradientHandlesOn(Pa.handleMorph);ca.update()});return ca}}])}},{key:"controls",value:function(){var Pa=
this;if(!this.gradientEnabled){var ca=new Qb.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue});ca.whenRendered().then(function(){ca.update(Pa.fillValue)});return[{fill:Qb.Color.transparent,layout:new Qb.VerticalLayout({spacing:0}),submorphs:[ca]}]}return[new Qb.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},fillValue:{defaultValue:Qb.Color.blue},popoverColor:{defaultValue:Qb.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:11249,end:14234})}(Qb.StylePopover);Qb.FillPopover=Wc;Qb.FillPopover=Wc;Qb.FillPopover=Wc;var Mc=Sa("S",function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Tb.hasOwnProperty("ShadowPopover")&&"function"===typeof Tb.ShadowPopover?Tb.ShadowPopover:Tb.ShadowPopover=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"controls",value:function(){var Pa=this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",ca=[{layout:new Qb.VerticalLayout({resizeContainer:!0,spacing:5}),fill:Qb.Color.transparent,name:"control container",submorphs:[Pa=new Qb.DropDownSelector({name:"shadow type",borderRadius:2,padding:3,selectedValue:Pa,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?
this.shadowControls():[])}];Qb.connect(Pa,"selectedValue",this,"changeShadowType");return ca}},{key:"shadowControls",value:function(){var Pa=this.shadowValue,ca=new Qb.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:Pa.distance,unit:"px"}),Ha=new Qb.NumberWidget({name:"angleSlider",min:0,max:360,number:Pa.rotation,autofit:!1}),cb=new Qb.NumberWidget({name:"spreadSlider",min:0,number:Pa.spread,autofit:!1}),Pb=new Qb.NumberWidget({name:"blurSlider",min:0,number:Pa.blur,autofit:!1});Pa=new Qb.colorWidgets.ColorPickerField({name:"colorPicker",
colorValue:Pa.color});Qb.connect(Pa,"colorValue",this,"updateShadow",{converter:function(sc){return{color:sc}}});Qb.connect(this,"onMouseDown",Pa,"removeWidgets");Qb.connect(this,"close",Pa,"remove");Qb.connect(cb,"update",this,"updateShadow",{converter:function(sc){return{spread:sc}}});Qb.connect(ca,"update",this,"updateShadow",{converter:function(sc){return{distance:sc}}});Qb.connect(Pb,"update",this,"updateShadow",{converter:function(sc){return{blur:sc}}});Qb.connect(Ha,"update",this,"updateShadow",
{converter:function(sc){return{rotation:sc}}});return new Qb.Morph({layout:new Qb.GridLayout({autoAssign:!1,fitToCell:!1,columns:[0,{paddingLeft:1}],rows:Qb.arr.flatten(Qb.arr.range(0,3).map(function(sc){return[sc,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",null,"distanceSlider"],["blurLabel",null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:Qb.Color.transparent,submorphs:Qb.arr.flatten([["distance",
ca],["spread",cb],["blur",Pb],["angle",Ha],["color",Pa]].map(function(sc){var Xc=$jscomp.makeIterator(sc);sc=Xc.next().value;Xc=Xc.next().value;return[{type:"label",styleClasses:["controlName"],value:Qb.string.capitalize(sc)+":",name:sc+"Label"},Xc]}))})}},{key:"changeShadowType",value:function(Pa){"No Shadow"==Pa?this.toggleShadow(!1):"Inset Shadow"==Pa?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?
this.shadowControls():[]),duration:300})}},{key:"updateShadow",value:function(Pa){var ca=this.shadowValue;Pa=Object.assign({fast:ca.fast,color:ca.color,spread:ca.spread,blur:ca.blur,distance:ca.distance,rotation:ca.rotation,inset:ca.inset},Pa);this.shadowValue=new Qb.ShadowObject(Pa)}},{key:"toggleShadow",value:function(Pa){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=Pa&&this.cachedShadow}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowPopover"}},
{key:"properties",get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new Qb.ShadowObject({fast:!0})},popoverColor:{defaultValue:Qb.Color.gray.lighter()}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:14243,end:18677})}(Qb.StylePopover));Qb.ShadowPopover=Mc;
Qb.ShadowPopover=Mc;Qb.ShadowPopover=Mc;Qb.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";Mc=function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Tb.hasOwnProperty("PointPopover")&&"function"===typeof Tb.PointPopover?Tb.PointPopover:Tb.PointPopover=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"refineResolution",
value:function(Pa){this.resolution=.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function(Pa){this.pointValue=this.pointValue.addPt(Pa.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){Ic._get(Object.getPrototypeOf(Gb.prototype),"relayout",this).call(this);var Pa=this.getSubmorphNamed("mesh"),ca=this.getSubmorphNamed("point value view");Pa.origin=Pa.innerBounds().center().addXY(4,1);Pa.position=this.get("body").innerBounds().center();
Pa.scale=this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";ca.value=Qb.obj.safeToString(this.pointValue);ca.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function(Pa){var ca=this;Ic._get(Object.getPrototypeOf(Gb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,Pa);this.whenRendered().then(function(){return ca.relayout()})}},{key:"calibrate",value:function(){var Pa=
this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ca){if(1==ca.nextAddress)return Pa.get("knob").animate({center:Pa.innerBounds().center(),duration:200}),ca.yield(Pa.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);Pa.relayout();ca.jumpToEnd()})}},{key:"showPointValue",value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},{key:"controls",value:function(){this.extent=Qb.pt(200,200);var Pa,ca,Ha=[Qb.morph({extent:Qb.pt(200,
200),clipMode:"hidden",fill:Qb.Color.transparent,submorphs:[{type:"image",name:"mesh",fill:Qb.Color.transparent,opacity:.5,imageUrl:Qb.milimeter,autoResize:!0},{extent:Qb.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:Qb.Color.gray},fill:Qb.Color.transparent},Pa=Qb.morph({name:"scroller",extent:Qb.pt(200,200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),ca=Qb.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:Qb.Color.red,borderColor:Qb.Color.black,
borderWidth:1,center:Qb.pt(100,100),draggable:!0}),{type:"label",name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:Qb.pt(10,10),type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];Pa.scroll=Qb.pt(0,120);Qb.connect(ca,"onDragStart",this,"showPointValue");Qb.connect(ca,"onDrag",this,"adjustPoint");Qb.connect(ca,"onDragEnd",this,"calibrate");Qb.connect(this,"extent",this,"relayout");Qb.connect(Pa,"onScroll",this,"refineResolution");return Ha}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"PointPopover"}},{key:"properties",get:function(){return{pointValue:{defaultValue:Qb.pt(0,0)},resolution:{defaultValue:1}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:18792,end:21996})}(Qb.StylePopover);Qb.PointPopover=Mc;Qb.PointPopover=Mc;Qb.PointPopover=
Mc;Mc=function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Tb.hasOwnProperty("RectanglePopover")&&"function"===typeof Tb.RectanglePopover?Tb.RectanglePopover:Tb.RectanglePopover=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"controls",value:function(){var Pa=this;return[{fill:Qb.Color.transparent,extent:Qb.pt(120,120),layout:new Qb.GridLayout({grid:[["top",
"top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],columns:[0,{paddingLeft:4},1,{paddingRight:4,fixed:!0,width:60}],rows:Qb.arr.flatten(Qb.arr.range(0,3).map(function(ca){return[ca,{paddingTop:0==ca?4:2,paddingBottom:3==ca?4:2}]}))}),submorphs:Qb.arr.flatten(["top","right","bottom","left"].map(function(ca){var Ha=new Qb.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},name:ca+" scrubber",autofit:!1,number:Pa.rectangle.partNamed(ca)});
Qb.connect(Ha,"update",Pa,"rectangle",{updater:function(cb,Pb){var sc=this.targetObj.rectangle,Xc={};Pb=(Xc.left=sc.left(),Xc.top=sc.top(),Xc.right=sc.right(),Xc.bottom=sc.bottom(),Xc[ca]=Pb,Xc);cb(Qb.Rectangle.inset(Pb.left,Pb.top,Pb.right,Pb.bottom))},varMapping:{side:ca,Rectangle:Qb.Rectangle}});return[{type:"label",styleClasses:["controlName"],name:ca,value:ca,padding:3},Ha]}))}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RectanglePopover"}},{key:"properties",get:function(){return{popoverColor:{defaultValue:Qb.Color.gray.lighter()},
rectangle:{defaultValue:Qb.rect(0)}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:22005,end:23989})}(Qb.StylePopover);Qb.RectanglePopover=Mc;Qb.RectanglePopover=Mc;Qb.RectanglePopover=Mc;Mc=function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
Gb=Tb.hasOwnProperty("TextPopover")&&"function"===typeof Tb.TextPopover?Tb.TextPopover:Tb.TextPopover=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"controls",value:function(){var Pa=new Qb.Text(Object.assign({name:"editor",extent:Qb.pt(300,200),textString:this.text,lineWrapping:"by-chars"},Qb.config.codeEditor.defaultStyle));return[{layout:new Qb.HorizontalLayout,fill:Qb.Color.transparent,borderColor:Qb.Color.gray,
borderWidth:1,borderRadius:4,clipMode:"hidden",submorphs:[Pa]}]}},{key:"commands",get:function(){return Ic._get(Object.getPrototypeOf(Gb.prototype),"commands",this).concat([{name:"save string",exec:function(Pa){return $jscomp.asyncExecutePromiseGeneratorProgram(function(ca){Pa.text=Pa.get("editor").textString;Qb.signal(Pa,"save",Pa.text);Pa.setStatusMessage("String saved!",Qb.Color.green);ca.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return Ic._get(Object.getPrototypeOf(Gb.prototype),"keybindings",
this).concat([{keys:{mac:"Command-S",win:"Ctrl-S"},command:"save string"}])}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},
{start:23998,end:25073})}(Qb.StylePopover);Qb.TextPopover=Mc;Qb.TextPopover=Mc;Qb.TextPopover=Mc;Object.assign(Qb.popovers,{FillPopover:Qb.FillPopover,IconPopover:Qb.IconPopover,RectanglePopover:Qb.RectanglePopover,ShadowPopover:Qb.ShadowPopover,PointPopover:Qb.PointPopover,LayoutPopover:Qb.LayoutPopover});var Hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");Hb.Morph=ue;Hb.morph=ec;Hb.StyleSheet=xc;Hb.Text=He;Hb.Icon=Ad;Hb.VerticalLayout=Ta;Hb.GridLayout=mb;Hb.HorizontalLayout=
Dc;Hb.pt=ed;Hb.Rectangle=fc;Hb.Color=Lb;Hb.LinearGradient=Da;Hb.rect=td;Hb.signal=Jd;Hb.once=ka;Hb.connect=hd;Hb.obj=ad;Hb.num=de;Hb.Window=Ba;Hb.ColorPalette=Vc;Hb.FillPopover=Wc;Hb.colorWidgets=qd;Hb.Slider=Bd;Hb.Popover=va;Hb.resource=Ja;Hb.WHEEL_URL="/lively.ide/assets/color-wheel.png";Vc=function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Gb=Tb.hasOwnProperty("ColorPickerField")&&"function"===typeof Tb.ColorPickerField?Tb.ColorPickerField:Tb.ColorPickerField=
function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"spec",value:function(){return Hb.obj.dissoc(Ic._get(Object.getPrototypeOf(Gb.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function(Pa){"Escape"==Pa.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,
duration:300})}},{key:"onHoverOut",value:function(){this.get("dropDownIndicator").animate({opacity:0,duration:300})}},{key:"update",value:function(Pa){this._updating=!0;var ca=this.submorphs[1];this.colorValue=Pa;this.get("topLeft").fill=Pa;this.get("bottomRight").fill=Pa.isGradient?Hb.Color.transparent:Pa.withA(1);ca.visible=ca.isLayoutable=!this.gradientEnabled;this.gradientEnabled?this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=
this.get("topLeft").width=Math.max(1,this.width-ca.width);this.get("bottomRight").left=0;this.get("dropDownIndicator").right=this.get("paletteButton").width-5;this._updating=!1}},{key:"openPicker",value:function(Pa){var ca=this,Ha,cb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Pb){if(1==Pb.nextAddress)return(Ha=ca.picker)?Pb.jumpTo(2):Pb.yield(Hb.resource("part://SystemWidgets/new color picker").read(),3);2!=Pb.nextAddress&&(Ha=Pb.yieldResult);cb=Ha;cb.solidOnly=!ca.gradientEnabled;
cb.hasFixedPosition=!0;cb.focusOnMorph(ca.context,ca.colorValue);cb.toggleHalos(!1);cb.position=Hb.pt(0,-cb.height/2);Hb.connect(cb,"value",ca,"update");ca.picker=cb.openInWorld();ca.picker.topLeft=ca.globalBounds().bottomCenter();ca.picker.topLeft=ca.world().visibleBounds().translateForInclusion(ca.picker.globalBounds()).topLeft();Pb.jumpToEnd()})}},{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function(Pa){var ca=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ha){ca.openPicker(Pa);
Ha.jumpToEnd()})}},{key:"removeWidgets",value:function(){this.removePicker()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,after:["colorValue"],set:function(Pa){this.setProperty("gradientEnabled",Pa);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new Hb.FillPopover({fillValue:this.colorValue})}},testProp:{get:function(){return[42]}},palette:{serialize:!1,
get:function(){return this._palette||(this._palette=new Hb.Popover({position:Hb.pt(0,0),name:"Color Palette",targetMorph:new Hb.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function(Pa){Pa&&(Pa.isColor||Pa.isGradient)||(Pa=Hb.Color.blue);if(!this._updating)return this.update(Pa);this.setProperty("colorValue",Pa)},get:function(){return this.getProperty("colorValue")||Hb.Color.white}},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color field"}}},
submorphs:{initialize:function(){this.innerBounds().topRight();this.innerBounds().bottomLeft();var Pa=Hb.pt(40,25);this.submorphs=[{extent:Pa,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:Pa},{name:"bottomRight",type:"polygon",extent:Pa,origin:Hb.pt(0,0),vertices:[Hb.pt(0,0),Pa.withX(0),Pa]},Hb.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:Hb.pt(30,12.5)})]},{fill:Hb.Color.transparent,extent:Hb.pt(25,25),onHoverIn:function(){this.fill=Hb.Color.black.withA(.2)},
onHoverOut:function(){this.fill=Hb.Color.transparent},submorphs:[{name:"pickerButton",type:"image",autoResize:!1,imageUrl:Hb.WHEEL_URL}]}];Hb.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",this,"openPicker");Hb.connect(this.getSubmorphNamed("paletteButton"),"onMouseDown",this,"openPalette");Hb.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],Tb,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:689,end:5910})}(Hb.Morph);Hb.ColorPickerField=Vc;Hb.ColorPickerField=Vc;Hb.ColorPickerField=Vc;Hb.colorWidgets.ColorPickerField=Hb.ColorPickerField;(function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Gb=Tb.hasOwnProperty("FieldPicker")&&"function"===typeof Tb.FieldPicker?Tb.FieldPicker:Tb.FieldPicker=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"confirm",value:function(){Hb.signal(this,"shadeChanged",[this.brightness,this.saturation])}},{key:"update",value:function(Pa){var ca=$jscomp.makeIterator(Pa.color.toHSB());Pa=ca.next().value;var Ha=ca.next().value;ca=ca.next().value;this.getSubmorphNamed("hue").fill=Hb.Color.hsb(Pa,1,1);this.brightness=ca;this.saturation=Ha;this.refresh()}},{key:"refresh",value:function(){this.get("picker").center=this.pickerPosition}},
{key:"onMouseDown",value:function(Pa){this.pickerPosition=Pa.positionIn(this);this.confirm()}},{key:"onDrag",value:function(Pa){this.pickerPosition=Pa.positionIn(this);this.confirm()}},{key:"relayout",value:function(){var Pa=this.innerBounds();this.getSubmorphNamed("hue").setBounds(Pa);this.getSubmorphNamed("shade").setBounds(Pa);this.getSubmorphNamed("light").setBounds(Pa)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:Hb.Color.transparent},
saturation:{defaultValue:0},brightness:{defaultValue:0},draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var Pa=this.saturation,ca=this.brightness;return void 0===Pa||void 0===ca?Hb.pt(0,0):Hb.pt(this.getSubmorphNamed("hue").width*Pa,this.getSubmorphNamed("hue").height*(1-ca))},set:function(Pa){var ca=Pa.x;Pa=Pa.y;var Ha=this.getSubmorphNamed("hue"),cb=Ha.height;this.saturation=Hb.num.clamp(ca/Ha.width,0,1);this.brightness=Hb.num.clamp(1-
Pa/cb,0,1);this.refresh()}},submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new Hb.LinearGradient({stops:[{color:Hb.Color.white,offset:0},{color:Hb.Color.transparent,offset:1}],vector:"eastwest"})},{borderRadius:3,name:"light",reactsToPointer:!1,fill:new Hb.LinearGradient({stops:[{color:Hb.Color.black,offset:0},{color:Hb.Color.transparent,offset:1}],vector:"southnorth"})},{name:"picker",type:"ellipse",
reactsToPointer:!1,fill:Hb.Color.transparent,borderColor:Hb.Color.black,borderWidth:3,extent:Hb.pt(16,16),submorphs:[{type:"ellipse",fill:Hb.Color.transparent,borderColor:Hb.Color.white,reactsToPointer:!1,borderWidth:3,center:Hb.pt(8,8),extent:Hb.pt(12,12)}]}];Hb.connect(this,"extent",this,"relayout")}}}}}],Tb,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5964,end:9331})})(Hb.Morph);(function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Gb=Tb.hasOwnProperty("ColorPropertyView")&&"function"===typeof Tb.ColorPropertyView?Tb.ColorPropertyView:Tb.ColorPropertyView=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=
["key"].concat($jscomp.arrayFromIterable(this.readOnly?[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=[!this.readOnly&&"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function(Pa){"Enter"!=Pa.keyCombo||this.readOnly?Ic._get(Object.getPrototypeOf(Gb.prototype),
"onKeyDown",this).call(this,Pa):(this.owner.focus(),Pa.stop(),Hb.signal(this,"updateValue",this.value))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},value:{derived:[!0],set:function(Pa){this.textString=Hb.obj.safeToString(Pa)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:Hb.Color.gray.darker()}}}}],
Tb,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:9340,end:10510})})(Hb.Text);(function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Gb=Tb.hasOwnProperty("HuePicker")&&"function"===typeof Tb.HuePicker?Tb.HuePicker:Tb.HuePicker=function(Pa){Pa&&
Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"confirm",value:function(){Hb.signal(this,"hueChanged",this.hue)}},{key:"onMouseDown",value:function(Pa){var ca=this.get("slider").width;this.sliderPosition=Hb.pt(0,Pa.positionIn(this).y-ca/2);this.confirm()}},{key:"onDrag",value:function(Pa){var ca=this.get("slider").width;this.sliderPosition=Hb.pt(0,Pa.positionIn(this).y-ca/2);this.confirm()}},{key:"update",value:function(Pa){this.hue=
Pa.hsb[0];this.refresh()}},{key:"refresh",value:function(){this.get("slider").center=this.sliderPosition}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new Hb.LinearGradient({stops:[{color:Hb.Color.rgb(255,0,0),offset:0},{color:Hb.Color.rgb(255,255,0),offset:.17},{color:Hb.Color.limeGreen,offset:.33},{color:Hb.Color.cyan,offset:.5},{color:Hb.Color.blue,offset:.66},{color:Hb.Color.magenta,offset:.83},{color:Hb.Color.rgb(255,
0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return Hb.pt(this.width/2,5+this.hue/360*(this.height-10))},set:function(Pa){this.hue=Math.max(0,Math.min(Pa.y/(this.height-10)*360,359));this.refresh()}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:Hb.Color.black,fill:Hb.Color.transparent,
borderWidth:2}]}}}}}],Tb,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:10512,end:12485})})(Hb.Morph);(function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Gb=Tb.hasOwnProperty("ColorDetails")&&"function"===typeof Tb.ColorDetails?Tb.ColorDetails:
Tb.ColorDetails=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"update",value:function(Pa){Pa=Pa.color;var ca=$jscomp.makeIterator(Pa.toTuple8Bit()),Ha=ca.next().value,cb=ca.next().value;ca=ca.next().value;var Pb=$jscomp.makeIterator(Pa.toHSB()),sc=Pb.next().value,Xc=Pb.next().value;Pb=Pb.next().value;var Nc=this.get("hashViewer");this.get("colorViewer").fill=Pa;Nc.replace(Nc.documentRange,Pa.toHexString(),
!1,!1);this.get("R").value="R "+Ha.toFixed(0)+"\n\nG "+cb.toFixed(0)+"\n\nB "+ca.toFixed(0)+"\n\nH "+sc.toFixed(0)+"\n\nS "+Xc.toFixed(2)+"\n\nV "+Pb.toFixed(2)}},{key:"onHashViewerChanged",value:function(Pa){Pa=Hb.Color.rgbHex(Pa);this.owner.owner.color=Pa}},{key:"keyValue",value:function(Pa){var ca=Pa.name,Ha=Pa.key,cb=Pa.value,Pb=Pa.update;Pa=Pa.editable;return new Hb.Morph({fill:Hb.Color.transparent,layout:new Hb.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",styleClasses:[Pa&&
"large","key"],value:Ha},new Hb.ColorPropertyView({name:ca||Ha,readOnly:!Pa,value:cb,update:Pb})]})}},{key:"hashViewer",value:function(){var Pa=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});Hb.connect(Pa.get("hashViewer"),"updateValue",this,"onHashViewerChanged");return Pa}},{key:"rgbViewer",value:function(){var Pa=$jscomp.makeIterator(this.color.toTuple8Bit()),ca=Pa.next().value,Ha=Pa.next().value;Pa=Pa.next().value;return new Hb.Morph({name:"rgbViewer",fill:Hb.Color.transparent,
submorphs:[this.keyValue({key:"R",value:ca.toFixed()}),this.keyValue({key:"G",value:Ha.toFixed()}),this.keyValue({key:"B",value:Pa.toFixed()})]})}},{key:"hsbViewer",value:function(){var Pa=$jscomp.makeIterator(this.color.toHSB()),ca=Pa.next().value,Ha=Pa.next().value;Pa=Pa.next().value;return new Hb.Morph({name:"hsbViewer",fill:Hb.Color.transparent,submorphs:[this.keyValue({key:"H",value:ca.toFixed()}),this.keyValue({key:"S",value:Ha.toFixed(2)}),this.keyValue({key:"V",value:Pa.toFixed(2)})]})}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorDetails"}},{key:"properties",get:function(){return{color:{defaultValue:Hb.Color.blue},width:{defaultValue:80},fill:{defaultValue:Hb.Color.transparent},layout:{initialize:function(){this.layout=new Hb.VerticalLayout({spacing:9,layoutOrder:function(Pa){return this.container.submorphs.indexOf(Pa)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:Hb.pt(50,50),name:"colorViewer",fill:this.color},
this.hashViewer(),{type:"label",name:"R",autofit:!0,padding:Hb.rect(10,0,0,0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],Tb,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12494,end:15269})})(Hb.Morph);Vc=Sa("a",function(Xd){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),
Gb=Tb.hasOwnProperty("ColorPicker")&&"function"===typeof Tb.ColorPicker?Tb.ColorPicker:Tb.ColorPicker=function(Pa){Pa&&Pa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ic(Gb,Xd,[{key:"onKeyDown",value:function(Pa){"Escape"==Pa.key&&this.close()}},{key:"close",value:function(){Ic._get(Object.getPrototypeOf(Gb.prototype),"close",this).call(this);Hb.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&
(this.get("header").fill=Hb.Color.transparent,this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),Hb.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var Pa=this.colorDetails(),ca=this.fieldPicker(),Ha=this.huePicker(),cb=this.alphaSlider();Pa=new Hb.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[ca,Ha,Pa,cb]});Hb.connect(ca,
"brightness",this,"brightness");Hb.connect(ca,"saturation",this,"saturation");Hb.connect(Ha,"hue",this,"hue");return Pa}},{key:"alphaSlider",value:function(){var Pa,ca=Hb.morph({name:"alphaSlider",fill:Hb.Color.transparent,layout:new Hb.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:Hb.Rectangle.inset(3),value:"Alpha",fontColor:Hb.Color.gray,fontWeight:"bold"},Pa=new Hb.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});Hb.connect(Pa,"value",this,"alpha");return ca}},
{key:"fieldPicker",value:function(){return new Hb.FieldPicker({name:"field picker",saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new Hb.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new Hb.ColorDetails({name:"details",color:this.color})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:Hb.pt(400,320)},fill:{defaultValue:Hb.Color.black.withA(.7)},
isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},hasFixedPosition:{defaultValue:!0},color:{defaultValue:Hb.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return Hb.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function(Pa){var ca=$jscomp.makeIterator(Pa.toHSB()),Ha=ca.next().value,cb=ca.next().value;ca=ca.next().value;this.hue=Ha;this.saturation=cb;this.brightness=ca;this.alpha=Pa.a}},alpha:{set:function(Pa){this.setProperty("alpha",Pa);
this.update()}},saturation:{},brightness:{set:function(Pa){this.setProperty("brightness",Pa);this.update()}},hue:{set:function(Pa){this.setProperty("hue",Pa);this.update()}},targetMorph:{initialize:function(){var Pa=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=Hb.Color.gray;this.ui.header.fill=Hb.Color.transparent;this.whenRendered().then(function(){Pa.fill=Hb.Color.black.withA(.7);Pa.update()})}}}}}],Tb,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15278,end:19116})}(Hb.Window));Hb.ColorPicker=Vc;Hb.ColorPicker=Vc;Hb.ColorPicker=Vc}}});
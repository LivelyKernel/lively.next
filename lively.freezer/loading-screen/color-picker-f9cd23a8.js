System.register(["./__root_module__-3d4e820f.js","./index-cbb45750.js"],function(ra){var kb,zb,Sb,Mb,Fd,Jc,wd,Kc,Fc,Wc,hd,Id,nd,Xc,Na,nb,Pb,Wb,Pc,Bd,Hb,Ub,vb,kc,xc,Dc,Gb,$a,dc,oc,sa,Ca,bb,rb,qb,Sa,Ta,sb,Zb,rc,Xb,wc,I,T,ua,Da,Kb,Db,Fa,ac,Gd,fd,Gc;return{setters:[function(Ea){kb=Ea.C;zb=Ea.a2;Sb=Ea.b4;Mb=Ea.b5;Fd=Ea.b6;Jc=Ea.b7;wd=Ea.b8;Kc=Ea.b9;Fc=Ea.a3;Wc=Ea.ag;hd=Ea.ba;Id=Ea.bb;nd=Ea.bc;Xc=Ea.ai;Na=Ea.aZ;nb=Ea.ak;Pb=Ea.aB;Wb=Ea.a9;Pc=Ea.a_;Bd=Ea.am;Hb=Ea.I;Ub=Ea.aU;vb=Ea.b2;kc=Ea.bd;xc=Ea.be;
Dc=Ea.aq;Gb=Ea.ar;$a=Ea.ap;dc=Ea.a6;oc=Ea.bf;sa=Ea.as;Ca=Ea.ao;bb=Ea.aC;rb=Ea.aa;qb=Ea.bg;Sa=Ea.al;Ta=Ea.an;sb=Ea.ab;Zb=Ea.$;rc=Ea.at;Xb=Ea.s;wc=Ea.a7;I=Ea.a1;T=Ea.bh;ua=Ea.bi;Da=Ea.bj;Kb=Ea.ah;Db=Ea.au;Fa=Ea.aN},function(Ea){ac=Ea.p;Gd=Ea.P;fd=Ea._;Gc=Ea.N}],execute:function(){var Ea=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");Ea.Color=kb;Ea.rect=zb;Ea.Complementary=Sb;Ea.Triadic=Mb;Ea.Tetradic=Fd;Ea.Quadratic=Jc;Ea.Analogous=wd;Ea.Neutral=Kc;Ea.pt=Fc;Ea.Point=Wc;Ea.flatDesignColors=
hd;Ea.materialDesignColors=Id;Ea.webSafeColors=nd;Ea.Morph=Xc;Ea.CustomLayout=Na;Ea.VerticalLayout=nb;Ea.HorizontalLayout=Pb;Ea.Text=Wb;Ea.TilingLayout=Pc;Ea.Ellipse=Bd;Ea.Image=Hb;Ea.StyleSheet=Ub;Ea.DropDownSelector=vb;Ea.ModeSelector=kc;Ea.Slider=xc;Ea.connect=Dc;Ea.signal=Gb;Ea.num=$a;Ea.arr=dc;Ea.SnapLayout=oc;Ea.WHEEL_URL="/lively.ide/assets/color-wheel.png";Ea.duration=200;(function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Fb=bd.hasOwnProperty("ColorPaletteField")&&
"function"===typeof bd.ColorPaletteField?bd.ColorPaletteField:bd.ColorPaletteField=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"onHoverIn",value:function(){if(this.color){var ea=$jscomp.makeIterator(this.color.toHSB()),la=ea.next().value,tb=ea.next().value;ea=ea.next().value;this.borderColor=Ea.Color.hsb(la,1<tb+.5?tb-.5:tb+.5,1<ea+.5?ea-.5:ea+.5)}}},{key:"onHoverOut",value:function(){this.borderColor=
Ea.Color.transparent}},{key:"onMouseDown",value:function(){Ea.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:Ea.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||Ea.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||Ea.Color.transparent}},styleClasses:{after:["color"],
initialize:function(){this.styleClasses=this.color?["colorField"]:["vacantColorField"]}}}}}],bd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:653,end:1603})})(Ea.Morph);(function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Fb=bd.hasOwnProperty("ColorHarmonyField")&&
"function"===typeof bd.ColorHarmonyField?bd.ColorHarmonyField:bd.ColorHarmonyField=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"onMouseDown",value:function(){Ea.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:Ea.pt(80,60)},fill:{defaultValue:Ea.Color.transparent},
master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color harmony field"}}},color:{set:function(ea){var la=$jscomp.makeIterator(this.submorphs),tb=la.next().value;la=la.next().value;var H=$jscomp.makeIterator(ea?ea.toHSB():[]),ja=H.next().value,Ba=H.next().value;H=H.next().value;this.setProperty("color",ea);ea&&tb&&la&&(tb.fill=ea,la.textString=ea.toHexString(),la.fontColor=Ea.Color.hsb(ja,1<Ba+.5?Ba-.5:Ba+.5,1<H+.5?H-.5:H+.5))}},submorphs:{after:["color"],initialize:function(){var ea=
$jscomp.makeIterator((this.color||Ea.Color.transparent).toHSB()),la=ea.next().value,tb=ea.next().value;ea=ea.next().value;this.submorphs=[new Ea.Morph({fill:this.color,extent:Ea.pt(80,50)}),new Ea.Text({textString:la.toFixed()+", "+tb.toFixed(2)+", "+ea.toFixed(2),fill:Ea.Color.transparent,fontColor:Ea.Color.gray.darker(),bottomLeft:Ea.pt(0,50)})]}}}}}],bd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:1605,end:3066})})(Ea.Morph);(function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Fb=bd.hasOwnProperty("HarmonyDisplay")&&"function"===typeof bd.HarmonyDisplay?bd.HarmonyDisplay:bd.HarmonyDisplay=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"update",value:function(ea){var la=$jscomp.makeIterator(ea.pivotColor.toHSB()),
tb=la.next().value,H=la.next().value;la=la.next().value;tb=ea.harmony.chord({hue:tb,saturation:H,brightness:la});tb.length!=this.submorphs.length?this.submorphs=tb.map(function(ja){ja=new Ea.ColorHarmonyField({color:ja});Ea.connect(ja,"updateColor",ea,"color");return ja}):Ea.arr.zip(this.submorphs,tb).forEach(function(ja){var Ba=$jscomp.makeIterator(ja);ja=Ba.next().value;Ba=Ba.next().value;ja.color=Ba})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyDisplay"}}],bd,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3068,end:3642})})(Ea.Morph);(function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Fb=bd.hasOwnProperty("PivotColorControl")&&"function"===typeof bd.PivotColorControl?bd.PivotColorControl:bd.PivotColorControl=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"update",value:function(ea){this.pivotColor=ea.pivotColor}},{key:"onDrag",value:function(ea){var la=$jscomp.makeIterator(this.pivotColor.toHSB()),tb=la.next().value,H=la.next().value;la=la.next().value;tb=Ea.num.toRadians(tb);ea=Ea.Point.polar(50*H,tb).addPt(ea.state.dragDelta);tb=Ea.num.toDegrees(ea.theta());tb=0>tb?tb+360:tb;H=Math.min(ea.r()/50,1);this.pivotColor=Ea.Color.hsb(tb,H,la)}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:Ea.Color.blue},draggable:{defaultValue:!0}}}}],bd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3644,end:4288})})(Ea.Ellipse);(function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
Fb=bd.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof bd.HarmonyVisualizer?bd.HarmonyVisualizer:bd.HarmonyVisualizer=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"update",value:function(ea){var la=$jscomp.makeIterator(this.submorphs).next().value,tb=this.get("pivot control"),H=$jscomp.makeIterator(ea.pivotColor.toHSB()),ja=H.next().value,Ba=H.next().value;H=H.next().value;var ub=Ea.num.toRadians(ja);
ja=ea.harmony.chord({hue:ja,saturation:Ba,brightness:H}).map(function(jc){var vc=$jscomp.makeIterator(jc.toHSB()),Cd=vc.next().value;jc=vc.next().value;vc.next();vc=Ea.num.toRadians(Cd);return Ea.Point.polar(50*jc,vc)});la.fill=Ea.Color.black.withA(1-H);tb.update(ea);la.submorphs.length-1!=ja.length?la.submorphs=[].concat($jscomp.arrayFromIterable(ja.map(function(jc){return new Ea.Ellipse({center:jc,fill:Ea.Color.transparent,draggable:!1,borderWidth:1,borderColor:Ea.Color.black})})),[tb]):(Ea.arr.zip(la.submorphs,
ja).forEach(function(jc){var vc=$jscomp.makeIterator(jc);jc=vc.next().value;if(vc=vc.next().value)jc.center=vc}),tb.center=Ea.Point.polar(50*Ba,ub))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new Ea.PivotColorControl({name:"pivot control"})]}]}}}}}],bd,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4290,end:5783})})(Ea.Image);(function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Fb=bd.hasOwnProperty("HarmonyPalette")&&"function"===typeof bd.HarmonyPalette?bd.HarmonyPalette:bd.HarmonyPalette=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"update",value:function(ea){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=ea.pivotBrightness,this.harmony=ea.harmony,this.get("harmonies").update(ea),this.get("harmony visualizer").update(ea),this.updateInProgress=!1)}},{key:"harmonyControl",value:function(){var ea,la,tb=new Ea.Morph({name:"harmonyControl",submorphs:[new Ea.HarmonyVisualizer({name:"harmony visualizer"}),la=new Ea.Slider({min:0,
max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),ea=new Ea.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new Ea.Complementary,Triadic:new Ea.Triadic,Tetradic:new Ea.Tetradic,Quadratic:new Ea.Quadratic,Analogous:new Ea.Analogous,Neutral:new Ea.Neutral}})]});Ea.connect(la,"value",this,"pivotBrightness");Ea.connect(ea,"selectedValue",this,"harmony");return tb}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new Ea.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],initialize:function(){this.submorphs=[new Ea.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],bd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5785,end:7880})})(Ea.Morph);var Oc=ra("C",function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Fb=bd.hasOwnProperty("ColorPalette")&&"function"===typeof bd.ColorPalette?bd.ColorPalette:bd.ColorPalette=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return sa(Fb,Rd,[{key:"fadeIntoWorld",value:function(ea){sa._get(Object.getPrototypeOf(Fb.prototype),"fadeIntoWorld",this).call(this,ea);this.initPosition=ea;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function(ea){"Escape"==ea.key&&this.close()}},{key:"close",value:function(ea){ea?this.fadeOut(ea):this.remove();Ea.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",extent:Ea.pt(400,253),submorphs:[this.solidColorPalette(),new Ea.HarmonyPalette({name:"harmony palette",
isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var ea=this.get("solidColorPalette"),la=this.get("paletteView");ea.visible||(la.submorphs.forEach(function(tb){return tb.animate({isLayoutable:!1,visible:!1,duration:200})}),ea.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var ea=this.get("paletteView");this.get("harmony palette").visible||(ea.submorphs.forEach(function(la){return la.animate({isLayoutable:!1,visible:!1,
duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var ea=new Ea.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette","Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});Ea.connect(ea,"Color Palette",this,"selectSolidMode");Ea.connect(ea,"Color Harmonies",this,"selectHarmonyMode");return ea}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",
master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var ea=this.getColorsFor(this.colorPalette),la=ea.colors,tb=ea.mod;return this.cachedPalette[ea.name]||this.getPalette(la,tb)}},{key:"getPalette",value:function(ea,la){var tb=this,H=Math.max(Math.ceil(ea.length/la),15),ja=H*this.colorFieldWidth,Ba=la*this.colorFieldWidth;ea=[].concat($jscomp.arrayFromIterable(ea),$jscomp.arrayFromIterable(Ea.arr.withN(H*
la-ea.length,null)));return{extent:Ea.pt(ja,Ba),name:"paletteContainer",submorphs:ea.map(function(ub){ub=new Ea.ColorPaletteField({color:ub&&Ea.Color.rgbHex(ub),extent:Ea.pt(tb.colorFieldWidth,tb.colorFieldWidth)});Ea.connect(ub,"updateColor",tb,"color");return ub})}}},{key:"switchPalette",value:function(ea){var la=ea.name,tb=ea.colors;ea=ea.mod;var H=this.get("solidColorPalette"),ja=$jscomp.makeIterator(H.submorphs);ja.next();ja=ja.next().value;this.cachedPalette[la]=this.cachedPalette[la]||this.getPalette(tb,
ea,la);H.submorphs=[this.cachedPalette[la],ja]}},{key:"getPaletteDescription",value:function(ea){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",custom:"Your personal set of customly defined colors.",materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",
flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[ea]}},{key:"updatePaletteDescription",value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function(ea){return Object.assign({name:ea},
{flatDesign:{colors:Ea.flatDesignColors,mod:11},materialDesign:{colors:Ea.materialDesignColors,mod:15},webSafe:{colors:Ea.webSafeColors,mod:12}}[ea])}},{key:"paletteConfig",value:function(){var ea,la={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[ea=new Ea.DropDownSelector({isHaloItem:!0,name:"paletteSelector",selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};
Ea.connect(ea,"selectedValue",this,"colorPalette");return la}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:Ea.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function(ea){this.setProperty("colorPalette",ea);this.switchPalette(this.getColorsFor(ea));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function(ea){this.setProperty("pivotColor",ea);this.get("harmony palette").update(this)}},
color:{set:function(ea){this.setProperty("color",ea);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var ea=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());ea.next();ea.next();return ea.next().value},set:function(ea){var la=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),tb=la.next().value;la=la.next().value;this.pivotColor=Ea.Color.hsb(tb,la,ea)}},harmony:{after:["submorphs","pivotColor"],
defaultValue:new Ea.Complementary,set:function(ea){this.setProperty("harmony",ea);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var ea=$jscomp.makeIterator(this.color.toHSB()),la=ea.next().value,tb=ea.next().value;ea.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=Ea.Color.hsb(la,
tb,1);Ea.connect(this.get("harmony palette"),"harmony",this,"harmony");Ea.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");Ea.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],bd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:7946,end:15967})}(Ea.Morph));Ea.ColorPalette=Oc;Ea.ColorPalette=Oc;Ea.ColorPalette=Oc;var Va=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");Va.Morph=Xc;Va.Icon=Ca;Va.ProportionalLayout=bb;Va.config=rb;Va.Text=Wb;Va.ShadowObject=qb;Va.GridLayout=Sa;Va.TilingLayout=Pc;Va.StyleSheet=Ub;Va.morph=Ta;Va.HorizontalLayout=Pb;Va.VerticalLayout=nb;Va.KeyHandler=sb;Va.connect=Dc;Va.signal=Gb;Va.arr=dc;Va.promise=Zb;Va.fun=rc;Va.string=Xb;Va.obj=wc;Va.Color=
kb;Va.rect=zb;Va.Rectangle=I;Va.pt=Fc;Va.popovers=ac;Va.ModeSelector=kc;Va.DropDownSelector=vb;Va.SearchField=T;Va.CheckBox=ua;Va.Popover=Gd;Va.SvgStyleHalo=fd;Va.NumberWidget=Gc;Va.Icons=Da;Va.duration=200;var kd=ra("c",Va.colorWidgets||{});Va.colorWidgets=kd;Va.colorWidgets=kd;Va.colorWidgets=kd;(function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Fb=bd.hasOwnProperty("SelectableControl")&&"function"===typeof bd.SelectableControl?bd.SelectableControl:bd.SelectableControl=
function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"select",value:function(ea){var la=this,tb,H,ja;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ba){if(1==Ba.nextAddress)return la.target?Ba.yield(la.target.execCommand(ea),2):Ba.return();tb=Ba.yieldResult;H=la.get("modeSelector");tb.opacity=0;la.lastLabel&&(ja=H.submorphs.indexOf(la.lastLabel)<H.submorphs.indexOf(H.currentLabel),tb.topLeft=
H.bottomLeft.addXY(ja?20:-20,10));la.lastLabel=H.currentLabel;la.animate({submorphs:[H,tb],duration:Va.duration});tb.animate({opacity:1,duration:Va.duration});Ba.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SelectableControl"}},{key:"properties",get:function(){return{target:{type:"Morph"},selectableControls:{},selectedControl:{},fill:{defaultValue:Va.Color.transparent},layout:{initialize:function(){this.layout=new Va.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function(ea){return this.container.submorphs.indexOf(ea)}})}},
submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var ea=new Va.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});this.submorphs=[ea];ea.width=100;Va.connect(ea,"switchLabel",this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],bd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:946,end:2555})})(Va.Morph);(function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Fb=bd.hasOwnProperty("ToggledControl")&&"function"===typeof bd.ToggledControl?bd.ToggledControl:bd.ToggledControl=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"toggle",value:function(ea){var la=$jscomp.makeIterator(this.submorphs).next().value,
tb=this.toggledControl(ea);la=[la].concat($jscomp.arrayFromIterable(tb?[tb]:[]));Va.signal(this,"update",ea&&tb.value);tb&&(tb.opacity=0);this.animate({submorphs:la,duration:Va.duration});tb&&tb.animate({opacity:1,duration:Va.duration})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:Va.Color.transparent},
layout:{initialize:function(){this.layout=new Va.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var ea=new Va.CheckBox({checked:this.checked});this.submorphs=[{fill:Va.Color.transparent,layout:new Va.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:Va.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},ea]}];this.toggle(this.checked);Va.connect(ea,"toggle",this,"toggle")}}}}}],
bd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2557,end:4228})})(Va.Morph);(function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Fb=bd.hasOwnProperty("StylePopover")&&"function"===typeof bd.StylePopover?bd.StylePopover:bd.StylePopover=
function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"setupConnections",value:function(){}},{key:"controls",value:function(){return[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=Va.morph({layout:new Va.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:Va.Color.transparent,
submorphs:this.controls()});this.setupConnections()}}}}}],bd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4230,end:4772})})(Va.Popover);var Ka=function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Fb=bd.hasOwnProperty("IconPopover")&&"function"===
typeof bd.IconPopover?bd.IconPopover:bd.IconPopover=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"onDrop",value:function(ea){var la=this;ea.hand.grabbedMorphs.find(function(tb){return tb===la.iconLabel})&&(ea.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new Va.VerticalLayout({spacing:4}),fill:Va.Color.transparent,submorphs:[new Va.SearchField({name:"searchInput",
width:200,placeHolder:"Search Icons"}),Va.morph({textAndAttributes:this.iconAsTextAttributes(),name:"iconList",draggable:!0,type:"text",extent:Va.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var ea=this.ui,la=ea.iconList;Va.connect(ea.searchInput,"searchInput",this,"filterIcons");Va.connect(la,"onMouseUp",this,"iconSelectClick");Va.connect(la,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",
value:function(ea){ea=this.ui.iconList.textPositionFromPoint(ea.positionIn(this.ui.iconList));ea=this.iconAtTextPos(ea);this.iconLabel=Va.Icon.makeLabel(ea,{fontSize:this.ui.iconList.fontSize,name:ea});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",value:function(ea){var la=Object.keys(Va.Icons);ea&&(la=la.filter(ea));return Va.arr.flatmap(la,function(tb,H){return[Va.Icons[tb].code,{iconCode:Va.Icons[tb].code,iconName:tb}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",
value:function(){var ea=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(la){if(1==la.nextAddress)return la.yield(Va.promise.delay(250),2);Va.fun.debounceNamed("filterIcons",200,function(){ea.ui.iconList.textAndAttributes=ea.iconAsTextAttributes(function(tb){return ea.ui.searchInput.matches(tb.toLowerCase())})})();la.jumpToEnd()})}},{key:"iconSelectClick",value:function(ea){ea=this.ui.iconList.textPositionFromPoint(ea.positionIn(this.ui.iconList));ea=this.iconAtTextPos(ea);this.setStatusMessage(ea);
Va.signal(this,"select",ea)}},{key:"iconAtTextPos",value:function(ea){var la=ea.row;ea=ea.column;--ea;for(var tb=this.ui.iconList,H=tb.textAndAttributesInRange({start:{row:la,column:Math.max(0,ea)},end:{row:la,column:ea+2}});H.length&&!H[1].iconName;)ea++,H=H.slice(2);var ja={start:{row:la,column:ea},end:{row:la,column:ea+1}};tb.addTextAttribute({backgroundColor:tb.selectionColor.darker().withA(.5)},ja);Va.promise.delay(1E3).then(function(){return tb.addTextAttribute({backgroundColor:Va.Color.transparent},
ja)});return H.length?H[1].iconName:null}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"IconPopover"}},{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:Va.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),iconList:this.get("iconList")}}}}}}],bd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4781,end:8324})}(Va.StylePopover);Va.IconPopover=Ka;Va.IconPopover=Ka;Va.IconPopover=Ka;var Wa=function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Fb=bd.hasOwnProperty("LayoutPopover")&&"function"===typeof bd.LayoutPopover?bd.LayoutPopover:bd.LayoutPopover=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,
Rd,[{key:"getLayoutObjects",value:function(){return[null,new Va.HorizontalLayout({autoResize:!1}),new Va.VerticalLayout({autoResize:!1}),new Va.TilingLayout,new Va.ProportionalLayout,new Va.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){sa._get(Object.getPrototypeOf(Fb.prototype),"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:Va.Color.transparent,layout:new Va.VerticalLayout({spacing:5,
layoutOrder:function(ea){return this.container.submorphs.indexOf(ea)}}),submorphs:[this.layoutPicker(),this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),duration:300}:{isLayoutable:!1,extent:Va.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function(ea){this.clearLayoutHalo();ea&&ea.layout&&(this.layoutHalo=
(ea.world()||ea.env.world).showLayoutHaloFor(ea))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function(ea){return ea?ea.name()+" Layout":"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function(ea){this.container.animate({layout:ea});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());
Va.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var ea=this,la=this.getLayoutObjects().map(function(tb){var H={};return H[ea.getLayoutName(tb)]=tb,H});la=this.get("Layout Type")||new Va.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return ea.getCurrentLayoutName()},selectedValue:this.container.layout,values:Va.obj.merge(la)});Va.connect(la,"selectedValue",this,"applyLayout");return la}},{key:"layoutControls",value:function(){return{name:"controlContainer",
fill:Va.Color.transparent,layout:new Va.VerticalLayout,isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:Va.Color.gray.lighter()}}}}],bd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:8333,end:11030})}(Va.StylePopover);Va.LayoutPopover=Wa;Va.LayoutPopover=Wa;Va.LayoutPopover=Wa;var db=function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Fb=bd.hasOwnProperty("FillPopover")&&"function"===typeof bd.FillPopover?bd.FillPopover:bd.FillPopover=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,
Rd,[{key:"openHandle",value:function(ea){ea.openInWorld();this.openHandles.push(ea)}},{key:"close",value:function(){sa._get(Object.getPrototypeOf(Fb.prototype),"close",this).call(this);this.openHandles.forEach(function(ea){return ea.remove()})}},{key:"setupConnections",value:function(){var ea=this.ui,la=ea.fillSelector,tb=ea.colorField;ea=ea.gradientEditor;la&&Va.connect(this,"fillValue",la,"value");ea&&(Va.connect(ea,"gradientValue",this,"fillValue"),Va.connect(ea,"openHandle",this,"openHandle"));
tb&&(Va.connect(this,"close",tb,"remove"),Va.connect(tb,"update",this,"fillValue"),Va.connect(this,"onMouseDown",tb,"removeWidgets"))}},{key:"commands",get:function(){var ea=this;return sa._get(Object.getPrototypeOf(Fb.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var la=new Va.colorWidgets.ColorPickerField({name:"colorField",colorValue:ea.fillValue.isGradient?Va.Color.blue:ea.fillValue});la.whenRendered().then(function(){ea.setupConnections()});return la}},{name:"switch to gradient",
exec:function(){var la=new Va.colorWidgets.GradientEditor({name:"gradient editor",gradientValue:ea.fillValue});la.whenRendered().then(function(){ea.setupConnections();ea.handleMorph&&la.showGradientHandlesOn(ea.handleMorph);la.update()});return la}}])}},{key:"controls",value:function(){return this.gradientEnabled?[new Va.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]:
[{fill:Va.Color.transparent,layout:new Va.VerticalLayout({spacing:0}),submorphs:[new Va.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue})]}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},fillValue:{defaultValue:Va.Color.blue},popoverColor:{defaultValue:Va.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),
fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],bd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:11039,end:13883})}(Va.StylePopover);Va.FillPopover=db;Va.FillPopover=db;Va.FillPopover=db;var Zc=ra("S",function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
Fb=bd.hasOwnProperty("ShadowPopover")&&"function"===typeof bd.ShadowPopover?bd.ShadowPopover:bd.ShadowPopover=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"controls",value:function(){var ea=this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",la=[{layout:new Va.VerticalLayout({resizeContainer:!0,spacing:5}),fill:Va.Color.transparent,name:"control container",submorphs:[ea=
new Va.DropDownSelector({name:"shadow type",borderRadius:2,padding:3,selectedValue:ea,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?this.shadowControls():[])}];Va.connect(ea,"selectedValue",this,"changeShadowType");return la}},{key:"shadowControls",value:function(){var ea=this.shadowValue,la=new Va.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:ea.distance,unit:"px"}),tb=new Va.NumberWidget({name:"angleSlider",min:0,max:360,number:ea.rotation,autofit:!1}),
H=new Va.NumberWidget({name:"spreadSlider",min:0,number:ea.spread,autofit:!1}),ja=new Va.NumberWidget({name:"blurSlider",min:0,number:ea.blur,autofit:!1});ea=new Va.colorWidgets.ColorPickerField({name:"colorPicker",colorValue:ea.color});Va.connect(ea,"colorValue",this,"updateShadow",{converter:function(Ba){return{color:Ba}}});Va.connect(this,"onMouseDown",ea,"removeWidgets");Va.connect(this,"close",ea,"remove");Va.connect(H,"update",this,"updateShadow",{converter:function(Ba){return{spread:Ba}}});
Va.connect(la,"update",this,"updateShadow",{converter:function(Ba){return{distance:Ba}}});Va.connect(ja,"update",this,"updateShadow",{converter:function(Ba){return{blur:Ba}}});Va.connect(tb,"update",this,"updateShadow",{converter:function(Ba){return{rotation:Ba}}});return new Va.Morph({layout:new Va.GridLayout({autoAssign:!1,fitToCell:!1,columns:[0,{paddingLeft:1}],rows:Va.arr.flatten(Va.arr.range(0,3).map(function(Ba){return[Ba,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",
null,"distanceSlider"],["blurLabel",null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:Va.Color.transparent,submorphs:Va.arr.flatten([["distance",la],["spread",H],["blur",ja],["angle",tb],["color",ea]].map(function(Ba){var ub=$jscomp.makeIterator(Ba);Ba=ub.next().value;ub=ub.next().value;return[{type:"label",styleClasses:["controlName"],value:Va.string.capitalize(Ba)+":",name:Ba+"Label"},ub]}))})}},{key:"changeShadowType",value:function(ea){"No Shadow"==
ea?this.toggleShadow(!1):"Inset Shadow"==ea?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?this.shadowControls():[]),duration:300})}},{key:"updateShadow",value:function(ea){var la=this.shadowValue;ea=Object.assign({fast:la.fast,color:la.color,spread:la.spread,blur:la.blur,distance:la.distance,rotation:la.rotation,inset:la.inset},ea);this.shadowValue=
new Va.ShadowObject(ea)}},{key:"toggleShadow",value:function(ea){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=ea&&this.cachedShadow}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowPopover"}},{key:"properties",get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new Va.ShadowObject({fast:!0})},popoverColor:{defaultValue:Va.Color.gray.lighter()}}}}],bd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:13892,end:18423})}(Va.StylePopover));Va.ShadowPopover=Zc;Va.ShadowPopover=Zc;Va.ShadowPopover=Zc;Va.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";var xd=function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Fb=bd.hasOwnProperty("PointPopover")&&"function"===typeof bd.PointPopover?
bd.PointPopover:bd.PointPopover=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"refineResolution",value:function(ea){this.resolution=.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function(ea){this.pointValue=this.pointValue.addPt(ea.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){sa._get(Object.getPrototypeOf(Fb.prototype),
"relayout",this).call(this);var ea=this.getSubmorphNamed("mesh"),la=this.getSubmorphNamed("point value view");ea.origin=ea.innerBounds().center().addXY(4,1);ea.position=this.get("body").innerBounds().center();ea.scale=this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";la.value=Va.obj.safeToString(this.pointValue);la.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function(ea){var la=
this;sa._get(Object.getPrototypeOf(Fb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,ea);this.whenRendered().then(function(){return la.relayout()})}},{key:"calibrate",value:function(){var ea=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(la){if(1==la.nextAddress)return ea.get("knob").animate({center:ea.innerBounds().center(),duration:200}),la.yield(ea.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);ea.relayout();la.jumpToEnd()})}},{key:"showPointValue",
value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},{key:"controls",value:function(){this.extent=Va.pt(200,200);var ea,la,tb=[Va.morph({extent:Va.pt(200,200),clipMode:"hidden",fill:Va.Color.transparent,submorphs:[{type:"image",name:"mesh",fill:Va.Color.transparent,opacity:.5,imageUrl:Va.milimeter,autoResize:!0},{extent:Va.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:Va.Color.gray},fill:Va.Color.transparent},ea=Va.morph({name:"scroller",extent:Va.pt(200,
200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),la=Va.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:Va.Color.red,borderColor:Va.Color.black,borderWidth:1,center:Va.pt(100,100)}),{type:"label",name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:Va.pt(10,10),type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];ea.scroll=Va.pt(0,120);Va.connect(la,"onDragStart",this,"showPointValue");Va.connect(la,
"onDrag",this,"adjustPoint");Va.connect(la,"onDragEnd",this,"calibrate");Va.connect(this,"extent",this,"relayout");Va.connect(ea,"onScroll",this,"refineResolution");return tb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"PointPopover"}},{key:"properties",get:function(){return{pointValue:{defaultValue:Va.pt(0,0)},resolution:{defaultValue:1}}}}],bd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:18538,end:21666})}(Va.StylePopover);Va.PointPopover=xd;Va.PointPopover=xd;Va.PointPopover=xd;var Wd=function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Fb=bd.hasOwnProperty("RectanglePopover")&&"function"===typeof bd.RectanglePopover?bd.RectanglePopover:bd.RectanglePopover=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"controls",value:function(){var ea=this;return[{fill:Va.Color.transparent,extent:Va.pt(120,120),layout:new Va.GridLayout({grid:[["top","top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],columns:[0,{paddingLeft:4},1,{paddingRight:4,fixed:!0,width:60}],rows:Va.arr.flatten(Va.arr.range(0,3).map(function(la){return[la,{paddingTop:0==la?4:2,paddingBottom:3==la?4:2}]}))}),
submorphs:Va.arr.flatten(["top","right","bottom","left"].map(function(la){var tb=new Va.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},name:la+" scrubber",autofit:!1,number:ea.rectangle.partNamed(la)});Va.connect(tb,"update",ea,"rectangle",{updater:function(H,ja){var Ba={},ub=this.targetObj.rectangle;ja=(Ba.left=ub.left(),Ba.top=ub.top(),Ba.right=ub.right(),Ba.bottom=ub.bottom(),Ba[la]=ja,Ba);H(Va.Rectangle.inset(ja.left,ja.top,ja.right,ja.bottom))},varMapping:{side:la,
Rectangle:I}});return[{type:"label",styleClasses:["controlName"],name:la,value:la,padding:3},tb]}))}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RectanglePopover"}},{key:"properties",get:function(){return{popoverColor:{defaultValue:Va.Color.gray.lighter()},rectangle:{defaultValue:Va.rect(0)}}}}],bd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:21675,end:23653})}(Va.StylePopover);Va.RectanglePopover=Wd;Va.RectanglePopover=Wd;Va.RectanglePopover=Wd;var le=function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Fb=bd.hasOwnProperty("TextPopover")&&"function"===typeof bd.TextPopover?bd.TextPopover:bd.TextPopover=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return sa(Fb,Rd,[{key:"controls",value:function(){var ea=new Va.Text(Object.assign({name:"editor",extent:Va.pt(300,200),textString:this.text,lineWrapping:"by-chars"},Va.config.codeEditor.defaultStyle));return[{layout:new Va.HorizontalLayout,fill:Va.Color.transparent,borderColor:Va.Color.gray,borderWidth:1,borderRadius:4,clipMode:"hidden",submorphs:[ea]}]}},{key:"commands",get:function(){return sa._get(Object.getPrototypeOf(Fb.prototype),"commands",this).concat([{name:"save string",exec:function(ea){return $jscomp.asyncExecutePromiseGeneratorProgram(function(la){ea.text=
ea.get("editor").textString;Va.signal(ea,"save",ea.text);ea.setStatusMessage("String saved!",Va.Color.green);la.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return sa._get(Object.getPrototypeOf(Fb.prototype),"keybindings",this).concat([{keys:{mac:"Command-S",win:"Ctrl-S"},command:"save string"}])}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],bd,{pathInPackage:function(){return"styling/style-popover.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:23662,end:24776})}(Va.StylePopover);Va.TextPopover=le;Va.TextPopover=le;Va.TextPopover=le;Object.assign(Va.popovers,{FillPopover:db,IconPopover:Ka,RectanglePopover:Wd,ShadowPopover:Zc,PointPopover:xd,LayoutPopover:Wa});var yc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");
yc.Morph=Xc;yc.morph=Ta;yc.StyleSheet=Ub;yc.Text=Wb;yc.Icon=Ca;yc.VerticalLayout=nb;yc.GridLayout=Sa;yc.HorizontalLayout=Pb;yc.pt=Fc;yc.Rectangle=I;yc.Color=kb;yc.LinearGradient=Kb;yc.rect=zb;yc.signal=Gb;yc.once=Db;yc.connect=Dc;yc.obj=wc;yc.Window=Fa;yc.ColorPalette=Oc;yc.FillPopover=db;yc.colorWidgets=kd;yc.Slider=xc;yc.Popover=Gd;yc.WHEEL_URL="/lively.ide/assets/color-wheel.png";Oc=function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Fb=bd.hasOwnProperty("ColorPickerField")&&
"function"===typeof bd.ColorPickerField?bd.ColorPickerField:bd.ColorPickerField=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"testAttr",get:function(){return[42]}},{key:"spec",value:function(){return yc.obj.dissoc(sa._get(Object.getPrototypeOf(Fb.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function(ea){"Escape"==ea.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?
this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,duration:300})}},{key:"onHoverOut",value:function(){this.get("dropDownIndicator").animate({opacity:0,duration:300})}},{key:"update",value:function(ea){this._updating=!0;var la=this.submorphs[1];this.colorValue=ea;this.get("topLeft").fill=ea;this.get("bottomRight").fill=ea.isGradient?yc.Color.transparent:ea.withA(1);la.visible=la.isLayoutable=!this.gradientEnabled;this.gradientEnabled?
this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=this.get("topLeft").width=this.width-la.width;this.get("bottomRight").left=0;this.get("dropDownIndicator").right=this.get("paletteButton").width-5;this._updating=!1}},{key:"openPicker",value:function(ea){var la=this,tb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(H){tb=la.picker||new yc.ColorPicker({color:la.colorValue});tb.position=yc.pt(0,-tb.height/2);yc.connect(tb,
"color",la,"update");la.picker=tb.openInWorld();la.picker.topLeft=la.globalBounds().bottomCenter();la.picker.topLeft=la.world().visibleBounds().translateForInclusion(la.picker.globalBounds()).topLeft();la.removePalette();H.jumpToEnd()})}},{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function(ea){var la=this,tb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(H){if(1==H.nextAddress)return tb=la.gradientEnabled?la.fillWidget:la.palette,
la.gradientEnabled?yc.connect(tb,"fillValue",la,"update"):yc.connect(tb.targetMorph,"color",la,"update"),tb.isLayoutable=!1,H.yield(tb.openInWorld(),2);tb.topCenter=la.get("paletteButton").globalBounds().center();tb.topCenter=la.world().visibleBounds().translateForInclusion(tb.globalBounds()).topCenter();la.removePicker();yc.once(tb,"remove",tb,"topLeft",{converter:function(){return yc.pt(0,0)},varMapping:{pt:Fc}});H.jumpToEnd()})}},{key:"removePalette",value:function(){this.colorValue.isGradient?
this.fillWidget.remove():this.palette.remove()}},{key:"removeWidgets",value:function(){this.removePalette();this.removePicker()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,after:["colorValue"],set:function(ea){this.setProperty("gradientEnabled",ea);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new yc.FillPopover({fillValue:this.colorValue})}},
testProp:{get:function(){return[42]}},palette:{serialize:!1,get:function(){return this._palette||(this._palette=new yc.Popover({position:yc.pt(0,0),name:"Color Palette",targetMorph:new yc.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function(ea){ea&&(ea.isColor||ea.isGradient)||(ea=yc.Color.blue);if(!this._updating)return this.update(ea);this.setProperty("colorValue",ea)},get:function(){return this.getProperty("colorValue")||yc.Color.white}},master:{initialize:function(){this.master=
{auto:"styleguide://SystemWidgets/color field"}}},submorphs:{initialize:function(){this.innerBounds().topRight();this.innerBounds().bottomLeft();var ea=yc.pt(40,25);this.submorphs=[{extent:ea,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:ea},{name:"bottomRight",type:"polygon",extent:ea,origin:yc.pt(0,0),vertices:[yc.pt(0,0),ea.withX(0),ea]},yc.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:yc.pt(30,12.5)})]},{fill:yc.Color.transparent,extent:yc.pt(25,
25),onHoverIn:function(){this.fill=yc.Color.black.withA(.2)},onHoverOut:function(){this.fill=yc.Color.transparent},submorphs:[{name:"pickerButton",type:"image",autoResize:!1,imageUrl:yc.WHEEL_URL}]}];yc.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",this,"openPicker");yc.connect(this.getSubmorphNamed("paletteButton"),"onMouseDown",this,"openPalette");yc.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],bd,{pathInPackage:function(){return"styling/color-picker.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:627,end:6335})}(yc.Morph);yc.ColorPickerField=Oc;yc.ColorPickerField=Oc;yc.ColorPickerField=Oc;yc.colorWidgets.ColorPickerField=yc.ColorPickerField;(function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Fb=bd.hasOwnProperty("FieldPicker")&&"function"===
typeof bd.FieldPicker?bd.FieldPicker:bd.FieldPicker=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"update",value:function(ea){this.getSubmorphNamed("hue").fill=yc.Color.hsb(ea.hue,1,1);this.brightness=ea.brightness;this.saturation=ea.saturation;this.get("picker").center=this.pickerPosition}},{key:"onMouseDown",value:function(ea){this.pickerPosition=ea.positionIn(this);yc.signal(this,"pickerPosition",
this.pickerPosition)}},{key:"onDrag",value:function(ea){this.pickerPosition=ea.positionIn(this)}},{key:"relayout",value:function(){var ea=this.innerBounds();this.getSubmorphNamed("hue").setBounds(ea);this.getSubmorphNamed("shade").setBounds(ea);this.getSubmorphNamed("light").setBounds(ea)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:yc.Color.transparent},saturation:{defaultValue:0},brightness:{defaultValue:0},
draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var ea=this.saturation,la=this.brightness;return void 0===ea||void 0===la?yc.pt(0,0):yc.pt(this.getSubmorphNamed("hue").width*ea,this.getSubmorphNamed("hue").height*(1-la))},set:function(ea){var la=ea.x;ea=ea.y;var tb=this.getSubmorphNamed("hue"),H=tb.height;this.saturation=Math.max(0,Math.min(la/tb.width,1));this.brightness=Math.max(0,Math.min(1-ea/H,1));yc.signal(this,"saturation",
this.saturation);yc.signal(this,"brightness",this.brightness)}},submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new yc.LinearGradient({stops:[{color:yc.Color.white,offset:0},{color:yc.Color.transparent,offset:1}],vector:"eastwest"})},{borderRadius:3,name:"light",reactsToPointer:!1,fill:new yc.LinearGradient({stops:[{color:yc.Color.black,offset:0},{color:yc.Color.transparent,offset:1}],vector:"southnorth"})},
{name:"picker",type:"ellipse",reactsToPointer:!1,fill:yc.Color.transparent,borderColor:yc.Color.black,borderWidth:3,extent:yc.pt(16,16),submorphs:[{type:"ellipse",fill:yc.Color.transparent,borderColor:yc.Color.white,reactsToPointer:!1,borderWidth:3,center:yc.pt(8,8),extent:yc.pt(12,12)}]}];yc.connect(this,"extent",this,"relayout")}}}}}],bd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:6388,end:9719})})(yc.Morph);(function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Fb=bd.hasOwnProperty("ColorPropertyView")&&"function"===typeof bd.ColorPropertyView?bd.ColorPropertyView:bd.ColorPropertyView=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=
["key"].concat($jscomp.arrayFromIterable(this.readOnly?[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=[!this.readOnly&&"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function(ea){"Enter"!=ea.keyCombo||this.readOnly?sa._get(Object.getPrototypeOf(Fb.prototype),
"onKeyDown",this).call(this,ea):(this.owner.focus(),ea.stop(),yc.signal(this,"updateValue",this.value))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},value:{derived:[!0],set:function(ea){this.textString=yc.obj.safeToString(ea)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:yc.Color.gray.darker()}}}}],
bd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:9721,end:10903})})(yc.Text);(function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Fb=bd.hasOwnProperty("HuePicker")&&"function"===typeof bd.HuePicker?bd.HuePicker:bd.HuePicker=function(ea){ea&&
ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"onMouseDown",value:function(ea){this.sliderPosition=yc.pt(0,ea.positionIn(this).y)}},{key:"onDrag",value:function(ea){this.sliderPosition=yc.pt(0,ea.positionIn(this).y)}},{key:"update",value:function(ea){this.hue=ea.hue;this.get("slider").center=this.sliderPosition}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new yc.LinearGradient({stops:[{color:yc.Color.rgb(255,
0,0),offset:0},{color:yc.Color.rgb(255,255,0),offset:.17},{color:yc.Color.limeGreen,offset:.33},{color:yc.Color.cyan,offset:.5},{color:yc.Color.blue,offset:.66},{color:yc.Color.magenta,offset:.83},{color:yc.Color.rgb(255,0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return yc.pt(this.width/2,this.hue/360*this.height)},set:function(ea){this.hue=Math.max(0,Math.min(ea.y/this.height*360,359));yc.signal(this,
"hue",this.hue)}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:yc.Color.black,fill:yc.Color.transparent,borderWidth:2}]}}}}}],bd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},
{start:10905,end:12586})})(yc.Morph);(function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Fb=bd.hasOwnProperty("ColorDetails")&&"function"===typeof bd.ColorDetails?bd.ColorDetails:bd.ColorDetails=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"update",value:function(ea){ea=ea.color;var la=$jscomp.makeIterator(ea.toTuple8Bit()),tb=la.next().value,H=la.next().value;
la=la.next().value;var ja=$jscomp.makeIterator(ea.toHSB()),Ba=ja.next().value,ub=ja.next().value;ja=ja.next().value;var jc=this.get("hashViewer");this.get("colorViewer").fill=ea;jc.replace(jc.documentRange,ea.toHexString(),!1,!1);this.get("R").value="R "+tb.toFixed(0)+"\n\nG "+H.toFixed(0)+"\n\nB "+la.toFixed(0)+"\n\nH "+Ba.toFixed(0)+"\n\nS "+ub.toFixed(2)+"\n\nV "+ja.toFixed(2)}},{key:"onHashViewerChanged",value:function(ea){ea=yc.Color.rgbHex(ea);this.owner.owner.color=ea}},{key:"keyValue",value:function(ea){var la=
ea.name,tb=ea.key,H=ea.value,ja=ea.update;ea=ea.editable;return new yc.Morph({fill:yc.Color.transparent,layout:new yc.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",styleClasses:[ea&&"large","key"],value:tb},new yc.ColorPropertyView({name:la||tb,readOnly:!ea,value:H,update:ja})]})}},{key:"hashViewer",value:function(){var ea=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});yc.connect(ea.get("hashViewer"),"updateValue",this,"onHashViewerChanged");
return ea}},{key:"rgbViewer",value:function(){var ea=$jscomp.makeIterator(this.color.toTuple8Bit()),la=ea.next().value,tb=ea.next().value;ea=ea.next().value;return new yc.Morph({name:"rgbViewer",fill:yc.Color.transparent,submorphs:[this.keyValue({key:"R",value:la.toFixed()}),this.keyValue({key:"G",value:tb.toFixed()}),this.keyValue({key:"B",value:ea.toFixed()})]})}},{key:"hsbViewer",value:function(){var ea=$jscomp.makeIterator(this.color.toHSB()),la=ea.next().value,tb=ea.next().value;ea=ea.next().value;
return new yc.Morph({name:"hsbViewer",fill:yc.Color.transparent,submorphs:[this.keyValue({key:"H",value:la.toFixed()}),this.keyValue({key:"S",value:tb.toFixed(2)}),this.keyValue({key:"V",value:ea.toFixed(2)})]})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorDetails"}},{key:"properties",get:function(){return{color:{defaultValue:yc.Color.blue},width:{defaultValue:80},fill:{defaultValue:yc.Color.transparent},layout:{initialize:function(){this.layout=new yc.VerticalLayout({spacing:9,
layoutOrder:function(ea){return this.container.submorphs.indexOf(ea)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:yc.pt(50,50),name:"colorViewer",fill:this.color},this.hashViewer(),{type:"label",name:"R",autofit:!0,padding:yc.rect(10,0,0,0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],bd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12588,end:15311})})(yc.Morph);Oc=ra("a",function(Rd){var bd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Fb=bd.hasOwnProperty("ColorPicker")&&"function"===typeof bd.ColorPicker?bd.ColorPicker:bd.ColorPicker=function(ea){ea&&ea[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return sa(Fb,Rd,[{key:"onKeyDown",value:function(ea){"Escape"==ea.key&&
this.close()}},{key:"close",value:function(){sa._get(Object.getPrototypeOf(Fb.prototype),"close",this).call(this);yc.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&(this.get("header").fill=yc.Color.transparent,this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),yc.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var ea=this.colorDetails(),la=this.fieldPicker(),
tb=this.huePicker(),H=this.alphaSlider();ea=new yc.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[la,tb,ea,H]});yc.connect(la,"brightness",this,"brightness");yc.connect(la,"saturation",this,"saturation");yc.connect(tb,"hue",this,"hue");return ea}},{key:"alphaSlider",value:function(){var ea,la=yc.morph({name:"alphaSlider",fill:yc.Color.transparent,layout:new yc.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:yc.Rectangle.inset(3),
value:"Alpha",fontColor:yc.Color.gray,fontWeight:"bold"},ea=new yc.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});yc.connect(ea,"value",this,"alpha");return la}},{key:"fieldPicker",value:function(){return new yc.FieldPicker({name:"field picker",saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new yc.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new yc.ColorDetails({name:"details",
color:this.color})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:yc.pt(400,320)},fill:{defaultValue:yc.Color.black.withA(.7)},isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},hasFixedPosition:{defaultValue:!0},color:{defaultValue:yc.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return yc.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function(ea){var la=
$jscomp.makeIterator(ea.toHSB()),tb=la.next().value,H=la.next().value;la=la.next().value;this.hue=tb;this.saturation=H;this.brightness=la;this.alpha=ea.a}},alpha:{set:function(ea){this.setProperty("alpha",ea);this.update()}},saturation:{},brightness:{set:function(ea){this.setProperty("brightness",ea);this.update()}},hue:{set:function(ea){this.setProperty("hue",ea);this.update()}},targetMorph:{initialize:function(){var ea=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=yc.Color.gray;
this.ui.header.fill=yc.Color.transparent;this.whenRendered().then(function(){ea.fill=yc.Color.black.withA(.7);ea.update()})}}}}}],bd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15320,end:19178})}(yc.Window));yc.ColorPicker=Oc;yc.ColorPicker=Oc;yc.ColorPicker=Oc}}});
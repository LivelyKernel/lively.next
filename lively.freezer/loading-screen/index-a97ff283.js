System.register(["./__root_module__-a4bfb546.js","./index-164fc5db.js","./color-picker-60ab8665.js"],function(){var ta,cb,mb,Sb,Jb,sd,vc,wd,wc,Cc,Gc,Cd,pe,Je,ce,Qb,pc,ld,Rb,xd,Hd,Dc,bc,Ib,gc,sc,dd,bd,oc;return{setters:[function($a){ta=$a.ax;cb=$a.a7;mb=$a.a8;Sb=$a.a_;Jb=$a.a6;sd=$a.ac;vc=$a.ad;wd=$a.aD;wc=$a.ap;Cc=$a.ab;Gc=$a.an;Cd=$a.as;pe=$a.a3;Je=$a.a1;ce=$a.C;Qb=$a.au;pc=$a.aj;ld=$a.bP;Rb=$a.bs;xd=$a.af;Hd=$a.aw;Dc=$a.bk;bc=$a.br;Ib=$a.bp;gc=$a.bv;sc=$a.bR},function($a){dd=$a.N;bd=$a.I},
function($a){oc=$a.a}],execute:function(){var $a=lively.FreezerRuntime.recorderFor("lively.ide/text/ui.js");$a.fun=ta;$a.string=cb;$a.obj=mb;$a.properties=Sb;$a.arr=Jb;$a.Text=sd;$a.config=vc;$a.HorizontalLayout=wd;$a.VerticalLayout=wc;$a.morph=Cc;$a.Morph=Gc;$a.Icon=Cd;$a.pt=pe;$a.Rectangle=Je;$a.Color=ce;$a.connect=Qb;$a.once=pc;$a.noUpdate=ld;$a.ColorPicker=oc;$a.DropDownList=Rb;$a.loadObjectFromPartsbinFolder=xd;$a.cachedControls=new WeakMap;var fb=function(Oa){var wb=lively.FreezerRuntime.recorderFor("lively.ide/text/ui.js"),
dc=wb.hasOwnProperty("RichTextControl")&&"function"===typeof wb.RichTextControl?wb.RichTextControl:wb.RichTextControl=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Hd(dc,Oa,[{key:"toggleButton",value:function(Ya,jb){Ya.master=jb?{auto:"styleguide://SystemIDE/selected button"}:{auto:"styleguide://System/dark button"}}},{key:"reset",value:function(){var Ya=this.ui.fontSelection;Ya.items=$a.RichTextControl.basicFontItems();
Ya.selection=Ya.items[0].value;$a.connect(this.target,"selectionChange",this,"update")}},{key:"alignAtTarget",value:function(Ya){Ya=void 0===Ya?!!this.world():Ya;var jb=this.target,Za=jb.world()||$world,U=this.globalBounds();jb=(jb.selection.isEmpty()?jb.globalBounds():jb.getGlobalTransform().transformRectToRect(jb.selectionBounds().translatedBy(jb.scroll.negated()))).bottomCenter().subPt(U.topCenter());Za=Za.visibleBounds().translateForInclusion(U.translatedBy(jb)).topLeft().subPt(U.topLeft());Za=
this.position.addPt(Za);Ya?this.animate({duration:300,position:Za}):this.position=Za}},{key:"removeFocus",value:function(){this.autoRemove&&this.target&&(this.remove(),this.target=null)}},{key:"focusOn",value:function(Ya,jb){jb=void 0===jb?!0:jb;var Za=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(U){if(1==U.nextAddress)return Za.target=Ya,Za.update(),U.yield(Za.whenRendered(),2);Za.ui.fontSizeField.relayout();jb&&Za.alignAtTarget();U.jumpToEnd()})}},{key:"setupConnections",value:function(){$a.connect(this.ui.paddingField,
"number",this,"setPadding");$a.connect(this.ui.paddingFieldTop,"number",this,"setPaddingTop");$a.connect(this.ui.paddingFieldBottom,"number",this,"setPaddingBottom");$a.connect(this.ui.paddingFieldLeft,"number",this,"setPaddingLeft");$a.connect(this.ui.paddingFieldRight,"number",this,"setPaddingRight")}},{key:"update",value:function(){var Ya=this,jb=this.target,Za=this.updateSpec,U=jb.selection;U=U?U.isEmpty()?jb.textAttributeAt(U.start):jb.getStyleInRange(U):{};var va=this.managedProps,M=$a.obj.select(jb,
va);jb=$jscomp.makeIterator(Object.entries($a.obj.select(U||{},va)));for(U=jb.next();!U.done;U=jb.next())va=$jscomp.makeIterator(U.value),U=va.next().value,va=va.next().value,"undefined"!==typeof va&&(M[U]=va);$a.noUpdate(function(){for(var da=$jscomp.makeIterator(Object.entries(Ya.ui)),Ia=da.next();!Ia.done;Ia=da.next()){var Wa=$jscomp.makeIterator(Ia.value);Ia=Wa.next().value;Wa=Wa.next().value;if(Za[Ia])Za[Ia](M,Wa)}})}},{key:"relayout",value:function(){}},{key:"changeAttributeInSelectionOrMorph",
value:function(Ya,jb){var Za=this.target,U=Za.selection;Za.isLabel||U.isEmpty()?Za[Ya]="function"===typeof jb?jb(Za[Ya]):jb:(Za.undoManager.group(),Za.changeStyleProperty(Ya,function(va){return"function"===typeof jb?jb(va):jb}),Za.undoManager.group())}},{key:"changeFont",value:function(Ya){var jb=this,Za;return $jscomp.asyncExecutePromiseGeneratorProgram(function(U){if(1==U.nextAddress)return jb._last=Ya,(Za="custom..."===Ya)?U.yield($world.prompt("Enter font family name",{requester:jb.target,historyId:"lively.morphic-rich-text-font-names",
useLastInput:!0}),3):U.jumpTo(2);if(2!=U.nextAddress&&(Ya=U.yieldResult,!Ya))return U.return();jb.changeAttributeInSelectionOrMorph("fontFamily",Ya);U.jumpToEnd()})}},{key:"setPadding",value:function(Ya){this.target.padding=$a.Rectangle.inset(Ya)}},{key:"setPaddingTop",value:function(Ya){var jb=this.target.padding;this.target.padding=$a.Rectangle.inset(jb.left(),Ya,jb.right(),jb.bottom())}},{key:"setPaddingLeft",value:function(Ya){var jb=this.target.padding;this.target.padding=$a.Rectangle.inset(Ya,
jb.top(),jb.right(),jb.bottom())}},{key:"setPaddingRight",value:function(Ya){var jb=this.target.padding;this.target.padding=$a.Rectangle.inset(jb.left(),jb.top(),Ya,jb.bottom())}},{key:"setPaddingBottom",value:function(Ya){var jb=this.target.padding;this.target.padding=$a.Rectangle.inset(jb.left(),jb.top(),jb.right(),Ya)}},{key:"setLineWrapping",value:function(Ya){this.target.lineWrapping=Ya}},{key:"changeFontWeight",value:function(Ya){this.changeAttributeInSelectionOrMorph("fontWeight",Ya)}},{key:"changeTextAlign",
value:function(Ya){this.changeAttributeInSelectionOrMorph("textAlign",Ya)}},{key:"changeFontColor",value:function(Ya){this.changeAttributeInSelectionOrMorph("fontColor",Ya)}},{key:"changeFontSize",value:function(Ya){this.changeAttributeInSelectionOrMorph("fontSize",Ya)}},{key:"changeFixedWidth",value:function(Ya){this.target.fixedWidth=Ya}},{key:"changeFixedHeight",value:function(Ya){this.target.fixedHeight=Ya}},{key:"changeLink",value:function(){var Ya=this,jb,Za,U,va,M;return $jscomp.asyncExecutePromiseGeneratorProgram(function(da){if(1==
da.nextAddress)return jb=Ya.target,Za=jb.selection,U=jb.getStyleInRange(Za),va=U.link,da.yield(Ya.world().prompt("Set link",{input:va||"https://"}),2);M=da.yieldResult;jb.undoManager.group();jb.setStyleInRange({link:M||void 0},Za);jb.undoManager.group();Ya.autoRemove&&Ya.remove();da.jumpToEnd()})}},{key:"toggleUnderline",value:function(){this.changeAttributeInSelectionOrMorph("textDecoration",function(Ya){return"underline"===Ya?"none":"underline"})}},{key:"toggleItalic",value:function(){this.changeAttributeInSelectionOrMorph("fontStyle",
function(Ya){return"italic"===Ya?"normal":"italic"})}},{key:"toggleBold",value:function(){this.changeAttributeInSelectionOrMorph("fontWeight",function(Ya){return"bold"===Ya||"700"===Ya?"normal":"bold"})}},{key:"copyStyle",value:function(){var Ya=this,jb=this.target,Za=this.ui.applyStyleButton;jb=jb.selection.isEmpty()?jb.defaultTextStyle:jb.getStyleInRange(jb.selection);var U=JSON.stringify(jb,null,2);this.constructor.copiedStyle=jb;Za.tooltip="paste style\n"+U;this.env.eventDispatcher.doCopyWithMimeTypes([{type:"text/plain",
data:U},{type:"application/morphic-text-style",styleString:U}]).then(function(){return Ya.setStatusMessage("Copied style\n"+U)}).catch(function(va){return Ya.showError(va)})}},{key:"pasteStyle",value:function(){var Ya=this,jb=this.target,Za=this.constructor.copiedStyle;jb.selection.isEmpty()?Object.assign(jb,Za):jb.selections.forEach(function(U){return jb.addTextAttribute(Ya.constructor.copiedStyle,U)});this.update()}},{key:"clearStyle",value:function(){var Ya=this.target;Ya.selections.forEach(function(jb){return Ya.resetStyleInRange(jb)});
this.update()}},{key:"configureRichTextOptions",value:function(){this.getSubmorphNamed("config panel")&&this.getSubmorphNamed("config panel").remove();var Ya=this.defaultSpec,jb=this.uiSpec;Ya=this.addMorph({name:"config panel",layout:new $a.VerticalLayout({spacing:5}),epiMorph:!0,submorphs:[].concat($jscomp.arrayFromIterable(Object.keys(Ya).map(function(Za){var U=jb.rows.some(function(va){return va.some(function(M){return M===Za})});return{type:"labeledcheckbox",label:Za,name:Za,checked:U}})),[{layout:new $a.HorizontalLayout({spacing:3}),
submorphs:[{type:"button",name:"OK button",label:"OK"},{type:"button",name:"cancel button",label:"Cancel"}]}])});Ya.center=this.innerBounds().center();$a.connect(Ya.getSubmorphNamed("OK button"),"fire",this,"configureAccepted");$a.connect(Ya.getSubmorphNamed("cancel button"),"fire",this,"configureCanceled")}},{key:"configureAccepted",value:function(){var Ya=this.getSubmorphNamed("config panel");Ya&&(Ya.remove(),Ya.submorphs.filter(function(jb){return"LabeledCheckBox"===jb.constructor.name}))}},{key:"configureCanceled",
value:function(){var Ya=this.getSubmorphNamed("config panel");Ya&&Ya.remove()}},{key:"close",value:function(){var Ya=this;this.target&&this.target.attributeConnections&&this.target.attributeConnections.forEach(function(jb){return jb.targetObj===Ya&&jb.disconnect()});this.remove()}},{key:"alwaysTargetFocusedMorph",value:function(){this.startStepping(1500,"updateTarget")}},{key:"updateTarget",value:function(){var Ya=this.world();Ya&&(Ya=Ya.focusedMorph)&&(Ya.isLabel||Ya.isText)&&!this.isAncestorOf(Ya)&&
this.target!==Ya&&this.focusOn(Ya,!1)}},{key:"onMouseUp",value:function(Ya){var jb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Za){if(1==Za.nextAddress)return Za.yield(jb.whenRendered(),2);jb.update();Za.jumpToEnd()})}},{key:"attachToWorld",value:function(){$a.connect($world,"onMouseDown",this,"updateTarget",{garbageCollect:!0})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RichTextControl"}},{key:"properties",get:function(){return{autoRemove:{defaultValue:!1},
target:{},toggleColor:{},managedProps:{readOnly:!0,get:function(){return"fontFamily fontWeight fontSize fontStyle isText fontColor textAlign link textDecoration fixedWidth fixedHeight lineWrapping padding".split(" ")}},updateSpec:{get:function(){var Ya=this;return Object.assign({fontSelection:function(jb,Za){var U=jb.fontFamily;(jb=U&&Za.items.find(function(va){return va.value.toLowerCase()===U.toLowerCase()}))?Za.selection=jb.value:U&&(Za.items=Za.items.concat({isListItem:!0,label:[U,{fontFamily:U}],
value:U}),Za.selection=$a.arr.last(Za.items));Za.fit();Za.width=Math.max(Za.width,170)},fontWeightSelection:function(jb,Za){Za.selection="normal"==jb.fontWeight?"Medium":jb.fontWeight?$a.string.capitalize(jb.fontWeight):"Medium"},boldButton:function(jb,Za){Ya.toggleButton(Za,"bold"===jb.fontWeight)},italicButton:function(jb,Za){Ya.toggleButton(Za,"italic"===jb.fontStyle)},underlineButton:function(jb,Za){Ya.toggleButton(Za,"underline"===jb.textDecoration)},linkButton:function(jb,Za){Ya.toggleButton(Za,
!!jb.link)},colorPicker:function(jb,Za){Za.colorValue=jb.fontColor},fontSizeField:function(jb,Za){Za.number=jb.fontSize},fixedWidthControl:function(jb,Za){jb.isText?Za.enable():Za.disable();Za.checked=jb.fixedWidth},fixedHeightControl:function(jb,Za){jb.isText?Za.enable():Za.disable();Za.checked=jb.fixedHeight},lineWrappingControl:function(jb,Za){var U=$jscomp.makeIterator(Za.submorphs);Za=U.next().value;U=U.next().value;Za.checked=!!jb.lineWrapping;jb.isText?Za.enable():Za.disable();U.deactivated=
!jb.lineWrapping;U.deactivated?U.opacity=.5:(U.opacity=1,U.selection=jb.lineWrapping)},paddingControl:function(jb,Za){var U=jb.padding,va=U.left();jb=U.top();var M=U.right();U=U.bottom();var da=!$a.arr.every([va,jb,M,U],function(Ia){return Ia==va});Za.get("multi value indicator").visible=da;$a.connect(Za.get("multi value indicator"),"onMouseDown",Za.get("padding field"),"number",{converter:"() => left",varMapping:{left:va}});Za.get("padding field").number=va;Za.get("padding field").visible=!da;Za.get("padding field top").number=
jb;Za.get("padding field left").number=va;Za.get("padding field right").number=M;Za.get("padding field bottom").number=U}},["left","center","right","block"].reduce(function(jb,Za){jb[Za+"Align"]=function(U,va){va.deactivated=!U.isText;Ya.toggleButton(va,U.textAlign==Za)};return jb},{}))}},ui:{get:function(){var Ya=this,jb={fontSelection:"font selection",fontWeightSelection:"font weight selection",boldButton:"bold button",italicButton:"italic button",underlineButton:"underline button",linkButton:"link button",
leftAlign:"left align",centerAlign:"center align",rightAlign:"right align",blockAlign:"block align",fontSizeField:"font size field",colorPicker:"color picker",copyStyleButton:"copy style",applyStyleButton:"apply style",removeStyleButton:"remove style",fixedHeightControl:"fixed height control",fixedWidthControl:"fixed width control",lineWrappingControl:"line wrapping control",paddingControl:"padding control",paddingField:"padding field",paddingFieldTop:"padding field top",paddingFieldLeft:"padding field left",
paddingFieldRight:"padding field right",paddingFieldBottom:"padding field bottom"};return $a.obj.extract(jb,$a.obj.keys(jb),function(Za,U){return Ya.getSubmorphNamed(U)})}}}}},{key:"openDebouncedFor",value:function(Ya){var jb=Ya.selection;if(jb.isEmpty()){var Za=$a.cachedControls.get(Ya);Za&&(Za.update(),Za.alignAtTarget(),Za.world()||Ya.world().addMorph(Za))}else $a.fun.debounceNamed(Ya.id+"openRichTextControl",600,function(){var U=$a.cachedControls.get(Ya);jb.isEmpty()?U&&U.removeFocus():(U&&U.world()||
(U=new $a.RichTextControl,$a.cachedControls.set(Ya,U)),Ya.world().addMorph(U),U.focusOn(Ya,!0),U.alwaysTargetFocusedMorph())})()}},{key:"openFor",value:function(Ya){var jb=$a.cachedControls.get(Ya);jb?jb.update():(jb=new $a.RichTextControl,$a.cachedControls.set(Ya,jb),jb.focusOn(Ya,!0),jb.alwaysTargetFocusedMorph());jb.alignAtTarget();jb.world()||Ya.world().addMorph(jb);return jb}}],wb,{pathInPackage:function(){return"text/ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:624,end:17067})}($a.Morph);$a.RichTextControl=fb;$a.RichTextControl=fb;$a.RichTextControl=fb;fb=lively.FreezerRuntime.recorderFor("ProtoSearchField/index.js");fb.SearchField=Dc;var ya=function(Oa){var wb=lively.FreezerRuntime.recorderFor("ProtoSearchField/index.js"),dc=wb.hasOwnProperty("ProtoSearchField")&&"function"===typeof wb.ProtoSearchField?wb.ProtoSearchField:
wb.ProtoSearchField=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Hd(dc,Oa,void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ProtoSearchField"}},{key:"properties",get:function(){return{master:{initialize:function(){}}}}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"ProtoSearchField",version:"0.1.1-0"}}},{start:76,end:221})}(fb.SearchField);ya=fb.ProtoSearchField;fb.default=ya;var Ca=lively.FreezerRuntime.recorderFor("ProtoTree/index.js");Ca.Tree=bc;Ca.TreeData=Ib;fb=function(Oa){var wb=lively.FreezerRuntime.recorderFor("ProtoTree/index.js"),dc=wb.hasOwnProperty("TestTreeData")&&"function"===typeof wb.TestTreeData?wb.TestTreeData:wb.TestTreeData=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Hd(dc,Oa,[{key:"display",value:function(Ya){return Ya.name}},{key:"isCollapsed",value:function(Ya){return Ya.isCollapsed}},{key:"collapse",value:function(Ya,jb){Ya.isCollapsed=jb}},{key:"getChildren",value:function(Ya){return Ya.isLeaf?null:Ya.isCollapsed?[]:Ya.children}},{key:"isLeaf",value:function(Ya){return Ya.isLeaf}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TestTreeData"}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ProtoTree",version:"0.1.1-2"}}},{start:113,end:417})}(Ca.TreeData);Ca.TestTreeData=fb;Ca.TestTreeData=fb;Ca.TestTreeData=fb;fb=function(Oa){var wb=lively.FreezerRuntime.recorderFor("ProtoTree/index.js"),dc=wb.hasOwnProperty("ProtoTree")&&"function"===typeof wb.ProtoTree?wb.ProtoTree:wb.ProtoTree=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Hd(dc,Oa,void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ProtoTree"}},{key:"properties",get:function(){return{treeData:{initialize:function(){this.treeData=new Ca.TestTreeData({name:"root",isCollapsed:!1,isLeaf:!1,children:[{name:"child 1",isLeaf:!0},{name:"child 2",isLeaf:!1,isCollapsed:!0,children:[{name:"child 2 - 1",isLeaf:!0}]},{name:"child 3",isLeaf:!1,isCollapsed:!1,children:[{name:"child 3 - 1",isLeaf:!0},{name:"child 3 - 2",isLeaf:!0}]},{name:"child 4",
isLeaf:!0}]})}},master:{initialize:function(){}}}}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ProtoTree",version:"0.1.1-2"}}},{start:434,end:1297})}(Ca.Tree);fb=Ca.ProtoTree;Ca.default=fb;var Aa=lively.FreezerRuntime.recorderFor("RadioButton/index.js");Aa.Morph=Gc;Aa.Color=ce;Aa.pt=pe;Aa.connect=Qb;Aa.Closure=gc;fb=function(Oa){var wb=
lively.FreezerRuntime.recorderFor("RadioButton/index.js"),dc=wb.hasOwnProperty("RadioButton")&&"function"===typeof wb.RadioButton?wb.RadioButton:wb.RadioButton=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Hd(dc,Oa,[{key:"reset",value:function(){var Ya=this.indicator;Ya.borderWidth=1;Ya.borderColor=Aa.Color.gray;this.selected=!1;Aa.connect(Ya,"onMouseUp",this,"select")}},{key:"morph",get:function(){var Ya=
this.indicator;return this.submorphs.find(function(jb){return jb!==Ya})}},{key:"morph",set:function(Ya){var jb=this.indicator;this.submorphs.forEach(function(Za){Za!==jb&&Za.remove()});Ya.position=Aa.pt(50,0);this.addMorph(Ya)}},{key:"value",get:function(){if(!this.valueFn){try{var Ya=JSON.parse(this.valueFunctionString)}catch(jb){Ya=this.valueFunctionString}this.valueFn=Aa.Closure.fromSource(Ya).recreateFunc()}return this.morph?this.valueFn(this.morph):void 0}},{key:"onMouseDown",value:function(Ya){this.select()}},
{key:"select",value:function(){this.selected=!0;this.owner.setSelection(this)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RadioButton"}},{key:"properties",get:function(){return{indicator:{get:function(){return this.getSubmorphNamed("indicator")}},selectionColor:{},selectionStyle:{},selected:{after:["indicator"],defaultValue:!1,set:function(Ya){var jb=this;this.whenRendered().then(function(Za){Ya?(jb.indicator.fill=jb.selectionColor,jb.animate({opacity:1,duration:200})):(jb.indicator.fill=
Aa.Color.transparant,jb.animate({opacity:.5,duration:200}))});this.setProperty("selected",!!Ya)}},valueFunctionString:{defaultValue:'"function (morph) { return morph.value; }"',set:function(Ya){this.setProperty("valueFunctionString",Ya.toString());this.valueFn=void 0}}}}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"RadioButton",
version:"0.1.1-48"}}},{start:210,end:2235})}(Aa.Morph);fb=Aa.RadioButton;Aa.default=fb;fb=lively.FreezerRuntime.recorderFor("ProtoNumberWidget/index.js");fb.NumberWidget=dd;ya=function(Oa){var wb=lively.FreezerRuntime.recorderFor("ProtoNumberWidget/index.js"),dc=wb.hasOwnProperty("ProtoNumberWidget")&&"function"===typeof wb.ProtoNumberWidget?wb.ProtoNumberWidget:wb.ProtoNumberWidget=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Hd(dc,Oa,void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ProtoNumberWidget"}},{key:"properties",get:function(){return{master:{initialize:function(){}}}}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ProtoNumberWidget",version:"0.1.1-0"}}},{start:76,end:224})}(fb.NumberWidget);ya=fb.ProtoNumberWidget;
fb.default=ya;fb=lively.FreezerRuntime.recorderFor("FrameResizer/index.js");fb.Morph=Gc;ya=function(Oa){var wb=lively.FreezerRuntime.recorderFor("FrameResizer/index.js"),dc=wb.hasOwnProperty("FrameResizer")&&"function"===typeof wb.FrameResizer?wb.FrameResizer:wb.FrameResizer=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Hd(dc,Oa,[{key:"onDrag",value:function(Ya){var jb=this.owner.left;Ya=Ya.positionIn(this).x;
Ya*="left"==this.direction?-1:1;this.owner.width+=Ya;350>this.owner.width&&(Ya+=350-this.owner.width,this.owner.width=350);this.owner.left="left"==this.direction?jb-Ya:jb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FrameResizer"}},{key:"properties",get:function(){return{direction:{type:"Enum",values:["left","right"]}}}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"FrameResizer",version:"0.1.1-24"}}},{start:56,end:840})}(fb.Morph);ya=fb.FrameResizer;fb.default=ya;var xa=lively.FreezerRuntime.recorderFor("ShapeLayoutControl/index.js");xa.Morph=Gc;xa.morph=Cc;xa.layouts=sc;xa.string=cb;xa.connect=Qb;xa.noUpdate=ld;xa.InteractiveMorphSelector=bd;xa.Color=ce;xa.pt=pe;fb=function(Oa){var wb=lively.FreezerRuntime.recorderFor("ShapeLayoutControl/index.js"),dc=wb.hasOwnProperty("ShapeLayoutControl")&&"function"===typeof wb.ShapeLayoutControl?
wb.ShapeLayoutControl:wb.ShapeLayoutControl=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Hd(dc,Oa,[{key:"focusOn",value:function(Ya){this.target=Ya;this.update(!1)}},{key:"setupConnections",value:function(){var Ya=this.ui;xa.connect(Ya.submorphSettingsControl,"fire",this,"chooseSubmorphToChangeLayoutSettings");xa.connect(Ya.dragmeControl,"onDragStart",this,"onSubmorphSettingsDragStart");xa.connect(Ya.xAxisPolicyControl,
"selection",this,"updateSubmorphProportionalLayoutSettings",{converter:'policy => ({\n        policy,\n        axis: "x",\n        submorph: self.selectedSubmorph,\n      })',varMapping:{self:this}});xa.connect(Ya.yAxisPolicyControl,"selection",this,"updateSubmorphProportionalLayoutSettings",{converter:'policy => ({\n        policy,\n        axis: "y",\n        submorph: self.selectedSubmorph,\n      })',varMapping:{self:this}});for(var jb={},Za=$jscomp.makeIterator(this.managedProps),U=Za.next();!U.done;jb=
{$jscomp$loop$prop$prop$2616:jb.$jscomp$loop$prop$prop$2616},U=Za.next()){var va=$jscomp.makeIterator(U.value),M=va.next().value;U=va.next().value;va.next().value||(jb.$jscomp$loop$prop$prop$2616=this.join(M),va=Ya[this.join(M,"control")],xa.connect(va,U,this,"updateLayout",{updater:function(da){return function(Ia,Wa){Ia(da.$jscomp$loop$prop$prop$2616,Wa)}}(jb),varMapping:{prop:jb.$jscomp$loop$prop$prop$2616}}))}}},{key:"lower",value:function(Ya){return Ya.charAt(0).toLowerCase()+Ya.slice(1)}},{key:"join",
value:function(Ya,jb){return this.lower(xa.string.camelCaseString(Ya+(jb?" "+jb:"")))}},{key:"updateLayoutOfTarget",value:function(Ya){Ya=xa.layouts[xa.string.camelCaseString(Ya)];this.target.layout=Ya?new Ya({autoResize:!1}):null;this.update()}},{key:"updateLayout",value:function(Ya,jb){this.target.layout[Ya]=jb}},{key:"update",value:function(Ya){var jb=this;this.target&&xa.noUpdate(function(){for(var Za=jb.ui,U=jb.target.layout||{name:function(){return"No"}},va=$jscomp.makeIterator(jb.managedProps),
M=va.next();!M.done;M=va.next()){var da=$jscomp.makeIterator(M.value);M=da.next().value;var Ia=da.next().value;da.next();da=Za[jb.join(M,"control")];var Wa=Za[jb.join(M,"label")];if(Ia)if("type"===M)da.selection=U.name()+" Layout";else{var Zb=U[jb.join(M)],Oc="undefined"!==typeof Zb;if(Oc){switch(M){case "align":da.items=U.possibleAlignValues;break;case "direction":da.items=U.possibleDirectionValues;break;case "axis":da.items=U.possibleAxisValues}da[Ia]=Zb}Wa.isLayoutable=Wa.visible=Oc}}jb.showGridLayoutControl("Grid"===
U.name());jb.showProportionalControl("Proportional"===U.name())})}},{key:"updateSubmorphProportionalLayoutSettings",value:function(Ya){var jb={};this.target.layout.changeSettingsFor(Ya.submorph,(jb[Ya.axis]=Ya.policy,jb),!0)}},{key:"onSubmorphSettingsDragStart",value:function(Ya){var jb=this;Ya.stop();var Za=this.target.layout,U=Za.settingsFor(this.selectedSubmorph),va=[],M;for(M in U)va=[].concat($jscomp.arrayFromIterable(va),[M+": ",{fontWeight:"bold"},U[M]+" ",{}]);var da=xa.morph({type:"label",
fontColor:xa.Color.white,value:va,fill:xa.Color.black.withA(.7),padding:5,borderRadius:10,isLayoutable:!1});da.wantsToBeDroppedOn=function(Ia){return Za.layoutableSubmorphs.includes(Ia)};da.onBeingDroppedOn=function(Ia,Wa){da.remove();if(Ia=Za.layoutableSubmorphs.includes(Wa)?Wa:Ya.world.morphsContainingPoint(Ya.hand.position).find(function(Zb){return Za.layoutableSubmorphs.includes(Zb)}))jb.updateSubmorphProportionalLayoutSettings({policy:U.x,axis:"x",submorph:Ia}),jb.updateSubmorphProportionalLayoutSettings({policy:U.y,
axis:"y",submorph:Ia}),Ia.show(),$world.setStatusMessage("layout settings applied")};Ya.hand.grab(da);da.moveBy(xa.pt(10,10))}},{key:"chooseSubmorphToChangeLayoutSettings",value:function(){var Ya=this,jb,Za,U,va,M,da,Ia,Wa,Zb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Oc){switch(Oc.nextAddress){case 1:return jb=Ya.target.layout.layoutableSubmorphs,Ya.manageFocus=!0,Ya.env.eventDispatcher.isKeyPressed("Shift")?(U=jb.map(function(Ub){return{isListItem:!0,string:String(Ub),value:Ub}}),
Oc.yield($world.listPrompt("Select morph",U,{onSelection:function(Ub){return Ub.show()}}),5)):Oc.yield(xa.InteractiveMorphSelector.selectMorph(Ya.world(),Ya,function(Ub){return jb.includes(Ub)}),4);case 4:Za=Oc.yieldResult;Oc.jumpTo(3);break;case 5:va=Oc.yieldResult,M=$jscomp.makeIterator(va.selected),Za=M.next().value;case 3:Ya.manageFocus=!1;Ya.selectedSubmorph=Za;if(!Za)return Oc.return();da=Ya.ui;Ia=da.xAxisPolicyControl;Wa=da.yAxisPolicyControl;Zb=Ya.target.layout.settingsFor(Za);xa.noUpdate(function(){Ia.selection=
Zb.x;Wa.selection=Zb.y});Oc.jumpToEnd()}})}},{key:"showProportionalControl",value:function(Ya){var jb=this.ui;[jb.submorphSettingsControl,jb.dragmeControl,jb.xAxisPolicyControl,jb.xAxisPolicyLabel,jb.yAxisPolicyControl,jb.yAxisPolicyLabel].forEach(function(Za){Za.isLayoutable=Ya;Za.visible=Ya})}},{key:"showGridLayoutHalo",value:function(){$world.showLayoutHaloFor(this.target)}},{key:"showGridLayoutControl",value:function(Ya){var jb=this.ui.configureGridLayoutControl;jb.visible=jb.isLayoutable=Ya}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShapeLayoutControl"}},{key:"properties",get:function(){return{managedProps:{get:function(){return[["type","selection",!0],["align","selection"],["direction","selection"],["axis","selection"],["spacing","number"],["auto resize","checked"],["resize submorphs","checked"],["x axis policy","selection",!0],["y axis policy","selection",!0],["react to submorph animations","checked"],["submorph settings",!1,!0],["order by index","checked"],["dragme",
!1,!0],["configure grid layout",!1,!0]]}},ui:{readOnly:!0,get:function(){for(var Ya={labelContainer:this.getSubmorphNamed("label container"),controlContainer:this.getSubmorphNamed("control container")},jb=$jscomp.makeIterator(this.managedProps),Za=jb.next();!Za.done;Za=jb.next()){var U=$jscomp.makeIterator(Za.value).next().value;Za=U+" label";U+=" control";Ya[this.join(Za)]=this.getSubmorphNamed(Za);Ya[this.join(U)]=this.getSubmorphNamed(U)}return Ya}}}}}],wb,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeLayoutControl",version:"0.1.1-166"}}},{start:345,end:7771})}(xa.Morph);fb=xa.ShapeLayoutControl;xa.default=fb}}});
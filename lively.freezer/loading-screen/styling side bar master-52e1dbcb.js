System.register("./__root_module__-3c9a1ccb.js kld-intersections ./index-f326120b.js ./index-443b373b.js ./index-b3480c85.js ./color-picker-075382cf.js ./index-bedb66bb.js".split(" "),function(){var sa,lb,Eb,Wb,Qb,Bd,Fc,wd,Kc,Gc,Yc,jd,Dd,od,Zc,Ra,tb,dc,bc,Xc;return{setters:[function(Oc){sa=Oc.ag;lb=Oc.ay;Eb=Oc.al;Wb=Oc.am;Qb=Oc.at;Bd=Oc.a1;Fc=Oc.C;wd=Oc.ar;Kc=Oc.ao;Gc=Oc.bn;Yc=Oc.aq;jd=Oc.a5;Dd=Oc.s;od=Oc.bS;Zc=Oc.as;Ra=Oc.ap;tb=Oc.r;dc=Oc.a4;bc=Oc.P},function(){},function(){},function(){},function(){},
function(Oc){Xc=Oc.S},function(){}],execute:function(){var Oc=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js");Oc.Morph=sa;Oc.touchInputDevice=lb;Oc.morph=Eb;Oc.Icon=Wb;Oc.easings=Qb;Oc.pt=Bd;Oc.Color=Fc;Oc.fun=wd;Oc.connect=Kc;Oc.TreeData=Gc;var $b=function(Pc){var wb=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),db=wb.hasOwnProperty("SettingsTree")&&"function"===typeof wb.SettingsTree?wb.SettingsTree:wb.SettingsTree=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Yc(db,Pc,[{key:"display",value:function(Ta){return Ta.panel?[Ta.panel,{}]:Ta.name}},{key:"collapse",value:function(Ta,cb){Ta.isCollapsed=cb}},{key:"isCollapsed",value:function(Ta){return Ta.isCollapsed}},{key:"isLeaf",value:function(Ta){return!Ta.children}},{key:"getChildren",value:function(Ta){return Ta.children}}],[{key:"className",get:function(){return"SettingsTree"}},{key:"default",value:function(){return new this({isCollapsed:!1,
children:[{isCollapsed:!0,name:[" ",{}].concat($jscomp.arrayFromIterable(Oc.Icon.textAttribute("font")),[" Rich Text",{fontWeight:"bold"}]),children:[{panel:Oc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Oc.Icon.textAttribute("image")),[" Shape",{fontWeight:"bold"}]),children:[{panel:Oc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Oc.Icon.textAttribute("border-style")),[" Border",{paddingLeft:"2px",fontWeight:"bold"}]),children:[{panel:Oc.morph({})}]},
{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Oc.Icon.textAttribute("grip-vertical")),[" Layout",{paddingLeft:"4px",fontWeight:"bold"}]),children:[{panel:Oc.morph({})}]}]})}},{key:"border",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" Type    ",{},Oc.morph({height:20}),{}],children:[{panel:Oc.morph({})}]},{isCollapsed:!1,name:[" Color   ",{},Oc.morph({height:20}),{}],children:[{panel:Oc.morph({})}]},{isCollapsed:!1,name:[" Width  ",{},Oc.morph({height:20}),
{}],children:[{panel:Oc.morph({})}]},{isCollapsed:!1,name:[" Radius ",{},Oc.morph({height:20}),{}],children:[{panel:Oc.morph({})}]}]})}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-55"}}},{start:284,end:2453})}(Oc.TreeData);Oc.SettingsTree=$b;Oc.SettingsTree=$b;Oc.SettingsTree=$b;$b=function(Pc){var wb=
lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),db=wb.hasOwnProperty("StylingSideBar")&&"function"===typeof wb.StylingSideBar?wb.StylingSideBar:wb.StylingSideBar=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Yc(db,Pc,[{key:"onWorldResize",value:function(Ta){Ta=void 0===Ta?!0:Ta;if(this.respondsToVisibleWindow){var cb=$world.visibleBounds(),ma=navigator.standalone&&Oc.touchInputDevice?25:0,La=this.getSubmorphNamed("horizontal resizer");
this.height=cb.height-ma;this.top=ma+cb.top();La.height=this.height;La.left=0;La.top=0;Ta&&(this.visible?this.topRight=cb.topRight():this.topLeft=cb.topRight())}}},{key:"toggle",value:function(Ta){var cb=this,ma,La;return $jscomp.asyncExecutePromiseGeneratorProgram(function(fb){switch(fb.nextAddress){case 1:ma=$world.visibleBounds();La=navigator.standalone&&Oc.touchInputDevice?25:0;cb.height=ma.height-La;cb.top=La+ma.top();if(Ta)return $world.addMorph(cb,$world.get("lively top bar")),cb.left=ma.width,
cb.visible=!0,fb.yield(cb.whenRendered(),5);cb.detachFromWorld($world);return fb.yield(cb.animate({opacity:0,left:ma.width,duration:300}),4);case 4:cb.visible=!1;cb.remove();fb.jumpTo(0);break;case 5:return cb.onWorldResize(!1),fb.yield(cb.animate({opacity:1,easing:Oc.easings.outCirc,right:ma.width,duration:300}),6);case 6:cb.attachToWorld($world),fb.jumpToEnd()}})}},{key:"attachToWorld",value:function(Ta){Oc.connect(Ta,"showHaloFor",this,"focusMorph",{garbageCollect:!0})}},{key:"detachFromWorld",
value:function(Ta){var cb=this;Ta.attributeConnections.forEach(function(ma){ma.targetObj===cb&&ma.disconnect()})}},{key:"focusMorph",value:function(Ta){Ta.isMorph&&Ta.ownerChain().includes(this)||((Ta.isLabel||Ta.isText||Ta.isButton)&&this.richTextControl.focusOn(Ta,!1),Object.values(this.controls).forEach(function(cb){return cb&&cb.focusOn(Ta)}))}},{key:"onHierarchyChange",value:function(){Object.values(this.controls).forEach(function(Ta){return Ta&&Ta.update()})}}],[{key:"className",get:function(){return"StylingSideBar"}},
{key:"properties",get:function(){return{controls:{},richTextControl:{},isHaloItem:{get:function(){return!0}}}}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-55"}}},{start:2470,end:4827})}(Oc.Morph);$b=Oc.StylingSideBar;Oc.default=$b;var zc=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js");
zc.Morph=sa;zc.obj=jd;zc.string=Dd;zc.connect=Kc;zc.noUpdate=od;zc.once=Zc;$b=function(Pc){var wb=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js"),db=wb.hasOwnProperty("ShapeFormatStyler")&&"function"===typeof wb.ShapeFormatStyler?wb.ShapeFormatStyler:wb.ShapeFormatStyler=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Yc(db,Pc,[{key:Symbol.for("lively-instance-initialize"),value:function(Ta){Yc._get(Object.getPrototypeOf(db.prototype),
Symbol.for("lively-instance-initialize"),this).call(this,Ta);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var Ta=this.ui,cb={},ma=$jscomp.makeIterator(Object.entries(this.uiSpec)),La=ma.next();!La.done;cb={$jscomp$loop$prop$control$2287:cb.$jscomp$loop$prop$control$2287,$jscomp$loop$prop$prop$2288:cb.$jscomp$loop$prop$prop$2288},La=ma.next()){var fb=$jscomp.makeIterator(La.value);La=fb.next().value;fb=$jscomp.makeIterator(fb.next().value);fb.next();
var pb=fb.next().value;cb.$jscomp$loop$prop$prop$2288=fb.next().value;cb.$jscomp$loop$prop$control$2287=Ta[La];zc.connect(cb.$jscomp$loop$prop$control$2287,pb,this,"updateTarget",{updater:function(xb){return function(Wa,Xa){xb.$jscomp$loop$prop$control$2287._updating=!0;Wa(xb.$jscomp$loop$prop$prop$2288,Xa);xb.$jscomp$loop$prop$control$2287._updating=!1}}(cb),varMapping:{prop:cb.$jscomp$loop$prop$prop$2288,control:cb.$jscomp$loop$prop$control$2287}})}}},{key:"update",value:function(){var Ta=this,
cb=this.target,ma=cb.clipMode,La=cb.fill,fb=cb.dropShadow,pb=cb.opacity,xb=cb.height,Wa=cb.width;cb=this.ui;var Xa=cb.clipModeSelector,Ab=cb.fillPicker,kc=cb.opacityField,Ub=cb.shadowPicker,qc=cb.heightField,wc=cb.widthField;zc.noUpdate(function(){Ta.updateControl(Ub,"shadowValue",fb);Ta.updateControl(Xa,"selection",ma);Ta.updateControl(Ab,"colorValue",La);Ta.updateControl(kc,"number",pb);Ta.updateControl(qc,"number",xb);Ta.updateControl(wc,"number",Wa)})}},{key:"updateTarget",value:function(Ta,cb){this.target[Ta]=
cb;this.update()}},{key:"updateControl",value:function(Ta,cb,ma){Ta._updating||zc.obj.equals(Ta[cb],ma)||(Ta[cb]=ma)}},{key:"updateMultiValue",value:function(Ta,cb,ma){var La=this.ui,fb=La[this.join(Ta)],pb=fb.get("multi value indicator"),xb=zc.obj.values(cb).some(function(Wa){return!zc.obj.isFunction(Wa)&&!zc.obj.equals(Wa,cb.valueOf())});pb.left=0;fb.visible=fb.isLayoutable=!xb;if(xb&&pb.visible!=xb)zc.once(pb,"onMouseDown",fb,ma,{converter:function(){return cb.valueOf()},varMapping:{value:cb}});
pb.visible=pb.isLayoutable=xb;pb.left=xb?200:0;this.updateControl(fb,ma,cb.valueOf());fb=$jscomp.makeIterator(["top","left","bottom","right"]);for(pb=fb.next();!pb.done;pb=fb.next())pb=pb.value,xb=La[this.join(Ta,pb)],this.updateControl(xb,ma,cb[pb])}},{key:"lower",value:function(Ta){return Ta.charAt(0).toLowerCase()+Ta.slice(1)}},{key:"join",value:function(Ta,cb){return this.lower(zc.string.camelCaseString(Ta+(cb?" "+cb:"")))}},{key:"unwrap",value:function(Ta,cb,ma){var La={};La=(La[this.lower(zc.string.camelCaseString(Ta))]=
[Ta,cb,ma],La);for(var fb=$jscomp.makeIterator(["top","left","bottom","right"]),pb=fb.next();!pb.done;pb=fb.next()){pb=pb.value;var xb=Ta+" "+pb;La[this.lower(zc.string.camelCaseString(xb))]=[xb,cb,this.join(ma,pb)]}return La}},{key:"focusOn",value:function(Ta){var cb=this,ma;return $jscomp.asyncExecutePromiseGeneratorProgram(function(La){if(1==La.nextAddress)return!Ta||cb.isAncestorOf(Ta)||cb.target===Ta||zc.obj.isArray(Ta)||(cb.target=Ta),ma=cb.visible,cb.visible=!0,La.yield(cb.whenRendered(),2);
if(3!=La.nextAddress)return cb.update(),La.yield(cb.whenRendered(),3);cb.getSubmorphsByStyleClassName("NumberWidget").map(function(fb){return fb.relayout()});cb.visible=ma;La.jumpToEnd()})}},{key:"onHoverIn",value:function(Ta){this.watchForTarget=!1}},{key:"onHoverOut",value:function(Ta){this.watchForTarget=!0}}],[{key:"className",get:function(){return"ShapeFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||(this._uiSpec={clipModeSelector:["clip mode selector",
"selection","clipMode"],fillPicker:["fill picker","colorValue","fill"],shadowPicker:["shadow picker","shadowValue","dropShadow"],opacityField:["opacity field","number","opacity"],heightField:["height field","number","height"],widthField:["width field","number","width"]})}},ui:{readOnly:!0,get:function(){var Ta=this,cb=this.uiSpec;return this._ui||(this._ui=zc.obj.extract(cb,zc.obj.keys(cb),function(ma,La){ma=$jscomp.makeIterator(La).next().value;return Ta.getSubmorphNamed(ma)}))}}}}}],wb,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeFormatStyler",version:"0.1.1-144"}}},{start:176,end:4600})}(zc.Morph);$b=zc.ShapeFormatStyler;zc.default=$b;var Fb=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js");Fb.Morph=sa;Fb.ShadowPopover=Xc;Fb.connect=Kc;Fb.signal=Ra;$b=function(Pc){var wb=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js"),db=wb.hasOwnProperty("ShadowWidget")&&
"function"===typeof wb.ShadowWidget?wb.ShadowWidget:wb.ShadowWidget=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Yc(db,Pc,[{key:"onHoverIn",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:1,duration:200})}},{key:"onHoverOut",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:0,duration:200})}},{key:"onMouseDown",value:function(Ta){this.openPopover()}},
{key:"update",value:function(Ta){var cb=this.submorphs[0];cb&&(cb.dropShadow=Ta)}},{key:"openPopover",value:function(){var Ta=this,cb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ma){if(1==ma.nextAddress)return cb=new Fb.ShadowPopover({hasFixedPosition:!!Ta.ownerChain().find(function(La){return La.hasFixedPosition}),shadowValue:Ta.shadowValue}),ma.yield(cb.fadeIntoWorld(Ta.globalBounds().center()),2);Fb.connect(cb,"shadowValue",Ta,"shadowValue");Fb.connect(Ta,"shadowValue",Ta,"update");
Fb.signal(Ta,"openWidget",cb);ma.jumpToEnd()})}}],[{key:"className",get:function(){return"ShadowWidget"}},{key:"properties",get:function(){return{shadowValue:{set:function(Ta){this.setProperty("shadowValue",Ta);this.update(Ta)}}}}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShadowWidget",version:"0.1.1-7"}}},{start:194,end:1231})}(Fb.Morph);
$b=Fb.ShadowWidget;Fb.default=$b;var Cb=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js");Cb.Morph=sa;Cb.obj=jd;Cb.string=Dd;Cb.connect=Kc;Cb.noUpdate=od;Cb.once=Zc;$b=function(Pc){var wb=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js"),db=wb.hasOwnProperty("BorderFormatStyler")&&"function"===typeof wb.BorderFormatStyler?wb.BorderFormatStyler:wb.BorderFormatStyler=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Yc(db,Pc,[{key:Symbol.for("lively-instance-initialize"),value:function(Ta){Yc._get(Object.getPrototypeOf(db.prototype),Symbol.for("lively-instance-initialize"),this).call(this,Ta);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var Ta=this.ui,cb={},ma=$jscomp.makeIterator(Object.entries(this.uiSpec)),La=ma.next();!La.done;cb={$jscomp$loop$prop$control$2290:cb.$jscomp$loop$prop$control$2290,$jscomp$loop$prop$prop$2291:cb.$jscomp$loop$prop$prop$2291},
La=ma.next()){var fb=$jscomp.makeIterator(La.value);La=fb.next().value;fb=$jscomp.makeIterator(fb.next().value);fb.next();var pb=fb.next().value;cb.$jscomp$loop$prop$prop$2291=fb.next().value;cb.$jscomp$loop$prop$control$2290=Ta[La];Cb.connect(cb.$jscomp$loop$prop$control$2290,pb,this,"updateTarget",{updater:function(xb){return function(Wa,Xa){xb.$jscomp$loop$prop$control$2290._updating=!0;Wa(xb.$jscomp$loop$prop$prop$2291,Xa);xb.$jscomp$loop$prop$control$2290._updating=!1}}(cb),varMapping:{prop:cb.$jscomp$loop$prop$prop$2291,
control:cb.$jscomp$loop$prop$control$2290}})}}},{key:"update",value:function(){var Ta=this,cb=this.target,ma=cb.borderStyle,La=cb.borderColor,fb=cb.borderRadius,pb=cb.borderWidth;Cb.noUpdate(function(){Ta.updateMultiValue("border style selector",ma,"selection");Ta.updateMultiValue("border color picker",La,"colorValue");Ta.updateMultiValue("border radius field",fb,"number");Ta.updateMultiValue("border width field",pb,"number")})}},{key:"updateTarget",value:function(Ta,cb){this.target[Ta]=cb;this.update()}},
{key:"updateControl",value:function(Ta,cb,ma){Ta._updating||Cb.obj.equals(Ta[cb],ma)||(Ta[cb]=ma)}},{key:"updateMultiValue",value:function(Ta,cb,ma){var La=this.ui,fb=La[this.join(Ta)],pb=fb.get("multi value indicator"),xb=Cb.obj.values(cb).some(function(Wa){return!Cb.obj.isFunction(Wa)&&!Cb.obj.equals(Wa,cb.valueOf())});fb.visible=fb.isLayoutable=!xb;if(xb&&pb.visible!=xb)Cb.once(pb,"onMouseDown",fb,ma,{converter:function(){return cb.valueOf()},varMapping:{value:cb}});pb.visible=pb.isLayoutable=
xb;this.updateControl(fb,ma,cb.valueOf());fb=$jscomp.makeIterator(["top","left","bottom","right"]);for(pb=fb.next();!pb.done;pb=fb.next())pb=pb.value,xb=La[this.join(Ta,pb)],this.updateControl(xb,ma,cb[pb])}},{key:"lower",value:function(Ta){return Ta.charAt(0).toLowerCase()+Ta.slice(1)}},{key:"join",value:function(Ta,cb){return this.lower(Cb.string.camelCaseString(Ta+(cb?" "+cb:"")))}},{key:"unwrap",value:function(Ta,cb,ma){var La={};La=(La[this.lower(Cb.string.camelCaseString(Ta))]=[Ta,cb,ma],La);
for(var fb=$jscomp.makeIterator(["top","left","bottom","right"]),pb=fb.next();!pb.done;pb=fb.next()){pb=pb.value;var xb=Ta+" "+pb;La[this.lower(Cb.string.camelCaseString(xb))]=[xb,cb,this.join(ma,pb)]}return La}},{key:"attachToWorld",value:function(){Cb.connect($world,"showHaloFor",this,"focusOn",{garbageCollect:!0})}},{key:"focusOn",value:function(Ta){var cb=this,ma;return $jscomp.asyncExecutePromiseGeneratorProgram(function(La){if(1==La.nextAddress)return!Ta||cb.isAncestorOf(Ta)||cb.target===Ta||
Cb.obj.isArray(Ta)||(cb.target=Ta),ma=cb.visible,cb.visible=!0,La.yield(cb.whenRendered(),2);if(3!=La.nextAddress)return cb.update(),La.yield(cb.whenRendered(),3);cb.getSubmorphsByStyleClassName("NumberWidget").map(function(fb){return fb.relayout()});cb.visible=ma;La.jumpToEnd()})}},{key:"onHoverIn",value:function(Ta){this.watchForTarget=!1}},{key:"onHoverOut",value:function(Ta){this.watchForTarget=!0}}],[{key:"className",get:function(){return"BorderFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||
(this._uiSpec=Object.assign({},this.unwrap("border style selector","selection","borderStyle"),{},this.unwrap("border color picker","colorValue","borderColor"),{},this.unwrap("border radius field","number","borderRadius"),{},this.unwrap("border width field","number","borderWidth")))}},ui:{}}}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"BorderFormatStyler",
version:"0.1.1-10"}}},{start:185,end:4385})}(Cb.Morph);$b=Cb.BorderFormatStyler;Cb.default=$b;var pc=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js");pc.Morph=sa;pc.resource=tb;pc.arr=dc;pc.obj=jd;pc.string=Dd;pc.Path=bc;pc.connect=Kc;$b=function(Pc){var wb=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js"),db=wb.hasOwnProperty("MasterComponentControl")&&"function"===typeof wb.MasterComponentControl?wb.MasterComponentControl:wb.MasterComponentControl=function(Ta){Ta&&
Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Yc(db,Pc,[{key:"focusOn",value:function(Ta){this.target=Ta;this.update()}},{key:"onMouseUp",value:function(Ta){var cb=this,ma,La,fb,pb,xb,Wa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Xa){if(1==Xa.nextAddress){"auto master selection"==Ta.targetMorph.name&&(ma="auto");"hover master selection"==Ta.targetMorph.name&&(ma="hover");"click master selection"==Ta.targetMorph.name&&
(ma="click");cb.refreshButtons();if(!cb.target)return Xa.return();La=$jscomp.makeIterator(["auto","hover","click"]);for(fb=La.next();!fb.done;fb=La.next())pb=fb.value,cb.target.master&&cb.target.master[pb]&&!cb.get(pb+" master checkbox").checked&&cb.adjustMasterComponent(pb,null);if(!ma)return Xa.jumpTo(0);xb=cb;Wa=xb.openMenu;return Xa.yield(cb.getComponentSelectionMenu(ma),3)}Wa.call(xb,Xa.yieldResult,Ta);Xa.jumpToEnd()})}},{key:"getComponentSelectionMenu",value:function(Ta){var cb=this,ma,La,fb,
pb,xb,Wa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Xa){if(1==Xa.nextAddress)return ma=cb.world().metadata.commit.name,La=pc.resource("styleguide://"+ma+"/"),Xa.yield(La.dirList(),2);if(3!=Xa.nextAddress)return fb=Xa.yieldResult,Xa.yield(pc.resource("styleguide://System/").dirList(),3);pb=Xa.yieldResult;xb=cb.componentsToMenu(fb,Ta);Wa=cb.componentsToMenu(pb,Ta);return Xa.return([].concat($jscomp.arrayFromIterable(0<xb.length?[].concat($jscomp.arrayFromIterable(xb),[{isDivider:!0}]):
[]),$jscomp.arrayFromIterable(Wa)))})}},{key:"adjustMasterComponent",value:function(Ta,cb){if(this.target.master)this.target.master[Ta]=cb;else if(cb){var ma={};this.target.master=(ma[Ta]=cb,ma)}Ta=this.target.master;cb=Ta.hover;ma=Ta.click;Ta.auto||cb||ma||(this.target.master=null);this.update();this.target.withAllSubmorphsDo(function(La){return delete La._parametrizedProps});this.target.requestMasterStyling()}},{key:"componentsToMenu",value:function(Ta,cb,ma,La){var fb=this;ma=void 0===ma?null:
ma;La=void 0===La?1:La;ma||(ma=Ta.map(function(xb){return{name:pc.arr.last(xb.name.split("/")),path:xb.name.split("/"),value:xb}}));if(0==ma.length||100<La)return[];var pb=this;return pc.arr.flatten(Object.entries(pc.arr.groupBy(ma,function(xb){return xb.path[La-1]})).map(function(xb){var Wa=$jscomp.makeIterator(xb);xb=Wa.next().value;Wa=Wa.next().value;var Xa=$jscomp.makeIterator(pc.arr.partition(Wa,function(Ab){return Ab.path.length<=La}));Wa=Xa.next().value;Xa=Xa.next().value;xb=[xb,fb.componentsToMenu(null,
cb,Xa,La+1)];return[].concat($jscomp.arrayFromIterable(Wa.map(function(Ab){return[Ab.name,function(){pb.adjustMasterComponent(cb,Ab.value)}]})),$jscomp.arrayFromIterable(xb[1].length?[xb]:[]))}),1)}},{key:"update",value:function(){if(this.target){for(var Ta=$jscomp.makeIterator(["auto","hover","click"]),cb=Ta.next();!cb.done;cb=Ta.next()){cb=cb.value;var ma=this.getSubmorphNamed(cb+" master selection"),La=this.getSubmorphNamed(cb+" master checkbox");pc.Path(["master",cb]).get(this.target)?La.checked=
!0:La.checked=!1;ma.label=pc.string.truncateLeft(pc.Path(["master",cb,"name"]).get(this.target)||"select master",15,"...")}this.refreshButtons()}}},{key:"refreshButtons",value:function(){for(var Ta=$jscomp.makeIterator(["auto","hover","click"]),cb=Ta.next();!cb.done;cb=Ta.next()){cb=cb.value;var ma=this.getSubmorphNamed(cb+" master selection"),La=this.getSubmorphNamed(cb+" master checkbox");ma=ma.deactivated=!La.checked;this.getSubmorphNamed(cb+" master selection").opacity=ma?.5:1}Ta=this.getSubmorphNamed("overridden props list");
Ta.items=this.getOverriddenProps();this.getSubmorphNamed("clear overridden prop button").deactivated=!Ta.selection}},{key:"getMasterForTarget",value:function(){if(this.target.isMorph)return[this.target].concat($jscomp.arrayFromIterable(this.target.ownerChain())).map(function(Ta){return Ta.master}).find(Boolean)}},{key:"clearSelectedProperty",value:function(){var Ta=this.getSubmorphNamed("overridden props list").selection;this.getMasterForTarget().clearOverriddenPropertiesFor(this.target,[Ta]);this.refreshButtons()}},
{key:"getOverriddenProps",value:function(){var Ta=this.getMasterForTarget();return Ta&&Ta._overriddenProps?(Ta=Ta._overriddenProps.get(this.target))?Object.keys(Ta):[]:[]}}],[{key:"className",get:function(){return"MasterComponentControl"}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"MasterComponentControl",version:"0.1.1-104"}}},
{start:234,end:4847})}(pc.Morph);$b=pc.MasterComponentControl;pc.default=$b}}});

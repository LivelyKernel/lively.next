System.register(["./__root_module__-28353364.js"],function(Ia){var mb,vb,Vb,Eb,Jc,Bc,Uc,tc,oc,sc,Tc,Fd,Rd,ee,Dc,rd,Ab,qc,Xc,zc,ed,wd,xb,hc,Cc,ic,Qc,jb,fb,Ob,Cb,ob,bc,Ma,Db,gb,zb,ec,rc,Qb,Lb,Kb;return{setters:[function(za){mb=za.f;vb=za.b;Vb=za.C;Eb=za.m;Jc=za.Y;Bc=za.p;Uc=za.s;tc=za.R;oc=za.$;sc=za.e;Tc=za.Q;Fd=za.I;Rd=za.M;ee=za.av;Dc=za.c;rd=za.o;Ab=za._;qc=za.i;Xc=za.O;zc=za.af;ed=za.K;wd=za.ab;xb=za.j;hc=za.a9;Cc=za.P;ic=za.aw;Qc=za.ac;jb=za.a;fb=za.d;Ob=za.ax;Cb=za.aa;ob=za.ay;bc=za.az;
Ma=za.aA;Db=za.aB;gb=za.g;zb=za.aC;ec=za.W;rc=za.aD;Qb=za.aE;Lb=za.B;Kb=za.h}],execute:function(){function za(sb){(sb=Ga.cachedGuideLines.get(sb))&&sb.forEach(function(hb){return hb.remove()})}function bb(sb,hb,Ba,J,ta){hb=void 0===hb?!0:hb;Ba=void 0===Ba?!0:Ba;J=void 0===J?10:J;ta=void 0===ta?100:ta;if(hb||Ba){var Ta=sb.owner,tb=Ta.world();Ta=Ta.getGlobalTransform();var Rb=sb.owner.submorphs.filter(function(G){return G!==sb&&!G.isEpiMorph&&G.visible&&G.reactsToPointer}),mc=Ga.findAlignedMorphs(sb,
Rb,J,ta,"left top right bottom hCenter vCenter".split(" "),"left top right bottom hCenter vCenter".split(" "));ta=[];var Zb=0,Rc=0,Sc=0,$d=0;Ta.e-=tb.scroll.x;Ta.f-=tb.scroll.y;if(mc){mc=$jscomp.makeIterator(mc);for(var r=mc.next();!r.done;r=mc.next()){r=$jscomp.makeIterator(r.value);r.next();var Ud=r.next().value;r=Ud.vertical;Ud=$jscomp.makeIterator(Ud.horizontal);for(var ke=Ud.next();!ke.done;ke=Ud.next()){ke=ke.value;var le=ke.edgeAVal,ie=ke.refPointsA,yd=ke.refPointsB,Wd=ke.edgeBVal,De=Math.ceil(J-
ke.delta),Fe=Math.min(ie.top,yd.top);ie=Math.max(ie.bottom,yd.bottom);ke.maxDist>J&&(De-=J/2);Zb<De&&(Zb=De,Sc=Wd-le);ta.push({type:"line",epiMorph:!0,hasFixedPosition:!0,height:Ga.guideWidth,start:Ta.transformPoint(Ga.pt(Wd,Fe)),end:Ta.transformPoint(Ga.pt(Wd,ie)),fill:Ga.guideColor,guideType:"h",priority:De})}r=$jscomp.makeIterator(r);for(Ud=r.next();!Ud.done;Ud=r.next())Ud=Ud.value,ke=Ud.edgeAVal,Fe=Ud.refPointsA,ie=Ud.refPointsB,le=Ud.edgeBVal,Wd=Math.ceil(J-Ud.delta),De=Math.min(Fe.left,ie.left),
Fe=Math.max(Fe.right,ie.right),Ud.maxDist>J&&(Wd-=J/2),Rc<Wd&&Math.abs(le-ke)<=J&&(Rc=Wd,$d=le-ke),ta.push({type:"line",epiMorph:!0,hasFixedPosition:!0,height:Ga.guideWidth,start:Ta.transformPoint(Ga.pt(De,le)),end:Ta.transformPoint(Ga.pt(Fe,le)),fill:Ga.guideColor,guideType:"v",priority:Wd})}}if(!Zb||!Rc){Rb=[sb].concat($jscomp.arrayFromIterable(Rb));ke=Ga.computeClosestMorphs(Rb);Ud=ke[0];Rb=Ud.l;mc=Ud.r;r=Ud.t;Ud=Ud.b;var md;if(Rb||mc||r||Ud){var tf=(Rb||mc||r||Ud).refPointsA;for(le=1;le<ke.length&&
(ie=ke[le],Wd=ie.l,De=ie.r,Fe=ie.t,ie=ie.b,Zb||(Rb&&Wd&&Rb.index!==Wd.index&&Math.abs(Wd.dist-Rb.dist)<=J?md=Object.assign({neighbor:le,direction:"left"},Wd):mc&&De&&mc!==De.index&&Math.abs(De.dist-mc.dist)<=J&&(md=Object.assign({neighbor:le,direction:"right"},De))),Rc||(r&&Fe&&r.index!==Fe.index&&Math.abs(Fe.dist-r.dist)<=J?md=Object.assign({neighbor:le,direction:"top"},Fe):Ud&&ie&&Ud.index!==ie.index&&Math.abs(ie.dist-Ud.dist)<=J&&(md=Object.assign({neighbor:le,direction:"bottom"},ie))),!md);le++);
}if(md){var lc=md;J=lc.direction;Fe=lc.dist;var kd=tf.left;yd=tf.top;var ge=tf.bottom,Ic=tf.right,qe=tf.width,Oa=tf.height;ie=lc.refPointsA;tf=ie.left;ke=ie.top;le=ie.bottom;Wd=ie.right;De=ie.width;ie=ie.height;var Xa=lc.refPointsB,Sa=Xa.left;lc=Xa.top;var O=Xa.bottom;Xa=Xa.right;Ic="left"===J?kd:"right"===J?Ic:kd+qe/2;ge="bottom"===J?ge:"top"===J?yd:yd+Oa/2;kd="left"===J?Ic-Fe:"right"===J?Ic+Fe:kd+qe/2;Fe="bottom"===J?ge+Fe:"top"===J?ge-Fe:yd+Oa/2;yd="left"===J?Xa:"right"===J?Sa:tf+De/2;qe="bottom"===
J?lc:"top"===J?O:ke+ie/2;!Ba||Zb||"right"!==J&&"left"!==J||(Zb=10,Sc=(md.dist-(mc||Rb).dist)*("right"===J?-1:1),Ic+=Sc,kd+=Sc);!Ba||Rc||"top"!==J&&"bottom"!==J||(Rc=10,$d=((r||Ud).dist-md.dist)*("top"===J?-1:1),ge+=$d,Fe+=$d);ta.push({type:"line",epiMorph:!0,hasFixedPosition:!0,start:Ta.transformPoint(Ga.pt("left"===J?tf:"right"===J?Wd:tf+De/2,"bottom"===J?le:"top"===J?ke:ke+ie/2)),end:Ta.transformPoint(Ga.pt(yd,qe)),fill:Ga.Color.orange,height:Ga.guideWidth,guideType:J,priority:10},{type:"line",
epiMorph:!0,hasFixedPosition:!0,start:Ta.transformPoint(Ga.pt(Ic,ge)),end:Ta.transformPoint(Ga.pt(kd,Fe)),fill:Ga.Color.orange,height:Ga.guideWidth,guideType:J,priority:10})}}Ba&&(Sc||$d)&&sb.moveBy(Ga.pt(Sc,$d));if(hb){ta=ta.filter(function(G){var Ea=G.guideType;G=G.priority;return"h"===Ea?G===Zb:"v"===Ea?G===Rc:!0});(hb=Ga.cachedGuideLines.get(sb))||Ga.cachedGuideLines.set(sb,hb=[]);for(Ba=0;Ba<ta.length;Ba++)md=void 0,hb[Ba]?md=Object.assign(hb[Ba],ta[Ba]):(md=Ga.morph(ta[Ba]),hb.push(md)),md.owner||
tb.addMorph(md);hb.slice(Ba).forEach(function(G){return G.remove()});Ga.fun.debounceNamed(sb.id+"-drag-guides-cleanup",1300,function(){var G=Ga.cachedGuideLines.get(sb);G&&G.forEach(function(Ea){return Ea.remove()})})()}}}function P(sb,hb,Ba,J,ta,Ta){Ba=void 0===Ba?!0:Ba;J=void 0===J?!0:J;ta=void 0===ta?5:ta;Ta=void 0===Ta?100:Ta;if(Ba||J){var tb=sb.owner,Rb=tb.world(),mc=tb.getGlobalTransform(),Zb=sb.owner.submorphs.filter(function(ge){return ge!==sb&&!ge.isEpiMorph&&ge.visible&&ge.reactsToPointer});
tb=(hb.includes("left")||hb.includes("right")?"x":"")+(hb.includes("top")||hb.includes("bottom")?"y":"");var Rc=Ga.findMorphsWithSimilarWidthOrHeight(sb,tb,Zb,ta,Ta),Sc=-Infinity,$d=-Infinity,r=0,Ud=0,ke=0,le=0,ie=0,yd=0;tb=[];mc.e-=Rb.scroll.x;mc.f-=Rb.scroll.y;if(Rc){Rc=$jscomp.makeIterator(Rc);for(var Wd=Rc.next();!Wd.done;Wd=Rc.next()){Wd=$jscomp.makeIterator(Wd.value);Wd.next();var De=Wd.next().value;Wd=De.similarIn;var Fe=De.delta,md=De.refPointsA,tf=De.refPointsB;De=ta-Fe+(Ta-De.minDist);"width"===
Wd?Sc<De&&(Sc=De,hb.includes("left")&&(Ud=-Fe),hb.includes("right")&&(r=Fe)):$d<De&&($d=De,hb.includes("top")&&(ke=-Fe),hb.includes("bottom")&&(le=Fe));Fe={type:"line",epiMorph:!0,hasFixedPosition:!0,height:Ga.guideWidth,fill:Ga.guideColor,guideType:Wd,priority:De,start:mc.transformPoint("width"===Wd?Ga.pt(md.left,md.top+md.height/2):Ga.pt(md.left+md.width/2,md.top)),end:mc.transformPoint("width"===Wd?Ga.pt(md.right,md.top+md.height/2):Ga.pt(md.left+md.width/2,md.bottom))};Wd=Object.assign({},Fe,
{start:mc.transformPoint("width"===Wd?Ga.pt(tf.left,tf.top+tf.height/2):Ga.pt(tf.left+tf.width/2,tf.top)),end:mc.transformPoint("width"===Wd?Ga.pt(tf.right,tf.top+tf.height/2):Ga.pt(tf.left+tf.width/2,tf.bottom))});tb.push(Fe,Wd)}}if(Ta=Ga.findAlignedMorphs(sb,Zb,ta,Ta,hb,void 0))for(Ta=$jscomp.makeIterator(Ta),Zb=Ta.next();!Zb.done;Zb=Ta.next()){Zb=$jscomp.makeIterator(Zb.value);Zb.next();Rc=Zb.next().value;Zb=Rc.vertical;Rc=$jscomp.makeIterator(Rc.horizontal);for(Wd=Rc.next();!Wd.done;Wd=Rc.next()){Wd=
Wd.value;tf=Wd.edgeAVal;var lc=Wd.refPointsA,kd=Wd.refPointsB;Fe=Wd.edgeBVal;md=Math.ceil(ta-Wd.delta);De=Math.min(lc.top,kd.top);lc=Math.max(lc.bottom,kd.bottom);Wd.maxDist>ta&&(md-=ta/2);ie<md&&(ie=md,hb.includes("left")&&(Ud=-(Fe-tf)),hb.includes("right")&&(r=+(Fe-tf)));tb.push({type:"line",epiMorph:!0,hasFixedPosition:!0,height:Ga.guideWidth,start:mc.transformPoint(Ga.pt(Fe,De)),end:mc.transformPoint(Ga.pt(Fe,lc)),fill:Ga.guideColor,guideType:"h",priority:md})}Zb=$jscomp.makeIterator(Zb);for(Rc=
Zb.next();!Rc.done;Rc=Zb.next())Rc=Rc.value,Wd=Rc.edgeAVal,De=Rc.refPointsA,lc=Rc.refPointsB,tf=Rc.edgeBVal,Fe=Math.ceil(ta-Rc.delta),md=Math.min(De.left,lc.left),De=Math.max(De.right,lc.right),Rc.maxDist>ta&&(Fe-=ta/2),yd<Fe&&Math.abs(tf-Wd)<=ta&&(yd=Fe,hb.includes("top")&&(ke=tf-Wd),hb.includes("bottom")&&(le=tf-Wd)),tb.push({type:"line",epiMorph:!0,hasFixedPosition:!0,height:Ga.guideWidth,start:mc.transformPoint(Ga.pt(md,tf)),end:mc.transformPoint(Ga.pt(De,tf)),fill:Ga.guideColor,guideType:"v",
priority:Fe})}J&&(Ud&&(sb.left+=Ud,sb.right-=Ud),ke&&(sb.top+=ke,sb.bottom-=ke),r&&(sb.width+=r),le&&(sb.height+=le));if(Ba){tb=tb.filter(function(ge){var Ic=ge.guideType;ge=ge.priority;return"width"===Ic?ge===Sc:"height"===Ic?ge===$d:"v"===Ic?ge===yd:"h"===Ic?ge===ie:!1});(hb=Ga.cachedGuideLines.get(sb))||Ga.cachedGuideLines.set(sb,hb=[]);for(Ba=0;Ba<tb.length;Ba++)J=void 0,hb[Ba]?J=Object.assign(hb[Ba],tb[Ba]):(J=Ga.morph(tb[Ba]),hb.push(J)),J.owner||Rb.addMorph(J);hb.slice(Ba).forEach(function(ge){return ge.remove()});
Ga.fun.debounceNamed(sb.id+"-drag-guides-cleanup",1300,function(){var ge=Ga.cachedGuideLines.get(sb);ge&&ge.forEach(function(Ic){return Ic.remove()})})()}}}function X(sb,hb){hb=void 0===hb?!1:hb;var Ba=ja.MorphicEnv.default().world;if(null===sb||void 0===sb)sb=String(sb);if(sb.isMorph)return ja.showRect(sb.world(),sb.globalBounds().translatedBy(Ba.scroll.negated()),hb);if(sb.isPoint)return ja.showRect(Ba,new ja.Rectangle(sb.x-5,sb.y-5,10,10));if(sb.isLine)return ja.showLine(Ba,sb);if(sb.isRectangle)return ja.showRect(Ba,
sb);if("undefined"!==typeof ja.Element&&sb instanceof ja.Element)return ja.showRect(Ba,ja.Rectangle.fromElement(sb));if("number"===typeof sb||"symbol"===typeof sb||"boolean"===typeof sb||"undefined"!==typeof ja.Node&&sb instanceof ja.Node||sb instanceof RegExp)sb=String(sb);"object"===typeof sb&&(sb=ja.obj.inspect(sb,{maxDepth:1}));return"string"===typeof sb&&1===arguments.length?Ba.setStatusMessage(sb):Ba.setStatusMessage(ja.string.formatFromArray(Array.from(arguments)))}function ya(sb,hb,Ba){Ba=
void 0===Ba?3E3:Ba;var J,ta,Ta,tb,Rb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(mc){if(1==mc.nextAddress){if(!(sb&&sb.world()&&hb&&hb.world()))return mc.return(null);J=sb.owner.worldPoint(sb.center);ta=hb.owner.worldPoint(hb.center);Ta=J.lineTo(ta).sampleN(2)[1];tb={tagName:"marker",markerHeight:5,markerWidth:5,orient:"auto",refX:1,refY:5,viewBox:"0 0 10 10",children:[{tagName:"circle",stroke:ja.Color.red,fill:ja.Color.red,cx:5,cy:5,r:4}]};Rb=$world.addMorph(new ja.Path({position:Ta,
renderOnGPU:!0,vertices:[ja.pt(0),ja.pt(0)],borderWidth:2,startMarker:tb,endMarker:tb,borderColor:ja.Color.red}));return mc.yield(Rb.whenRendered(),2)}if(3!=mc.nextAddress)return mc.yield(Rb.animate({opacity:1,customTween:function(Zb){var Rc=Rb.center;Rb.vertices=[ja.pt(0).interpolate(Zb,J.subPt(Ta)),ja.pt(0).interpolate(Zb,ta.subPt(Ta))];Rb.center=Rc},duration:400}),3);Ba&&setTimeout(function(){return Rb.fadeOut()},Ba);return mc.return(Rb)})}Ia({a:bb,e:ya,r:za,s:X});var Ga=lively.FreezerRuntime.recorderFor("lively.halos/drag-guides.js");
Ga.removeSnapToGuidesOf=za;Ga.showAndSnapToGuides=bb;Ga.showAndSnapToResizeGuides=P;Ga.computeRefPoints=function(sb){var hb=sb.x,Ba=sb.y,J=sb.width;sb=sb.height;return{left:hb,top:Ba,hCenter:hb+J/2,vCenter:Ba+sb/2,right:hb+J,bottom:Ba+sb,width:J,height:sb}};Ga.findEdgesInAlignment=function(sb,hb,Ba,J,ta,Ta,tb,Rb,mc,Zb){Ba=void 0===Ba?15:Ba;Ta=void 0===Ta?0:Ta;tb=void 0===tb?0:tb;Rb=void 0===Rb?0:Rb;mc=void 0===mc?0:mc;Zb=void 0===Zb?0:Zb;for(var Rc=[],Sc=[],$d=0;$d<Ga.edges.length;$d++){var r=$jscomp.makeIterator(Ga.edges[$d]),
Ud=r.next().value,ke=r.next().value;r=r.next().value;var le=sb[ke],ie=hb[r],yd=Math.max(le,ie)-Math.min(le,ie);yd>Ba||!(J&&!J.includes(ke)||ta&&!ta.includes(r))&&("vertical"===Ud?Rc:Sc).push({delta:yd,edgeA:ke,edgeB:r,edgeAVal:le,edgeBVal:ie,refPointsA:sb,refPointsB:hb,distLeft:Ta,distTop:tb,distRight:Rb,distBottom:mc,maxDist:Zb})}return Rc.length||Sc.length?{vertical:Rc,horizontal:Sc}:null};Ga.findAlignedMorphs=function(sb,hb,Ba,J,ta,Ta){Ba=void 0===Ba?15:Ba;J=void 0===J?Infinity:J;for(var tb,Rb=
Ga.computeRefPoints(sb.bounds()),mc=0;mc<hb.length;mc++){var Zb=hb[mc];if(Zb!==sb){var Rc=Ga.computeRefPoints(Zb.bounds()),Sc=Math.max(0,Rb.left-Rc.right),$d=Math.max(0,Rc.left-Rb.right),r=Math.max(0,Rb.top-Rc.bottom),Ud=Math.max(0,Rc.top-Rb.bottom);Math.max(Ud,r,$d,Sc)>J||!(Rc=Ga.findEdgesInAlignment(Rb,Rc,Ba,ta,Ta,Sc,r,$d,Ud,Math.max(Ud,r,$d,Sc)))||(tb||(tb=new Map),tb.set(Zb,Rc))}}sb=sb.owner;hb=Ga.computeRefPoints(sb.innerBounds());if(Ba=Ga.findEdgesInAlignment(Rb,hb,Ba))tb||(tb=new Map),tb.set(sb,
Ba);return tb};Ga.findMorphsWithSimilarWidthOrHeight=function(sb,hb,Ba,J,ta){J=void 0===J?15:J;ta=void 0===ta?Infinity:ta;for(var Ta,tb=Ga.computeRefPoints(sb.bounds()),Rb=0;Rb<Ba.length;Rb++){var mc=Ba[Rb];if(mc!==sb){var Zb=Ga.computeRefPoints(mc.bounds()),Rc=Math.max(0,tb.left-Zb.right),Sc=Math.max(0,Zb.left-tb.right),$d=Math.max(0,tb.top-Zb.bottom),r=Math.max(0,Zb.top-tb.bottom),Ud=Math.min(r,$d,Sc,Rc),ke=Math.max(r,$d,Sc,Rc);if(!(Math.max(r,$d,Sc,Rc)>ta)){Sc=tb;Rc=Sc.width;Sc=Sc.height;r=Zb;
$d=r.width;r=r.height;var le=$d-Rc,ie=r-Sc;("x"===hb||"xy"===hb)&&Math.abs(le)<=J&&(Ta||(Ta=new Map),Ta.set(mc,{similarIn:"width",minDist:Ud,maxDist:ke,refPointsA:tb,refPointsB:Zb,valA:Rc,valB:$d,delta:le}));("y"===hb||"xy"===hb)&&Math.abs(ie)<=J&&(Ta||(Ta=new Map),Ta.set(mc,{similarIn:"height",minDist:Ud,maxDist:ke,refPointsA:tb,refPointsB:Zb,valA:Sc,valB:r,delta:ie}))}}}return Ta};Ga.closest=function(sb,hb,Ba,J,ta,Ta,tb,Rb){Rb=void 0===Rb?!0:Rb;var mc=J[sb],Zb=ta[sb],Rc=Ta[sb];hb=tb[sb];for(var Sc,
$d,r,Ud,ke=0;ke<ta.length;ke++)sb===ke||mc<ta[ke]||Sc&&ta[Sc.index]>=ta[ke]||Rb&&tb[sb]<Ta[ke]||Ta[sb]>tb[ke]||(Sc={index:ke,dist:mc-ta[ke],refPointsA:Ba[sb],refPointsB:Ba[ke]});for(mc=0;mc<J.length;mc++)sb===mc||Zb>J[mc]||$d&&J[$d.index]<=J[mc]||Rb&&tb[sb]<Ta[mc]||Ta[sb]>tb[mc]||($d={index:mc,dist:J[mc]-Zb,refPointsA:Ba[sb],refPointsB:Ba[mc]});for(Zb=0;Zb<tb.length;Zb++)sb===Zb||Rc<tb[Zb]||r&&tb[r.index]>=tb[Zb]||Rb&&J[sb]>ta[Zb]||ta[sb]<J[Zb]||(r={index:Zb,dist:Rc-tb[Zb],refPointsA:Ba[sb],refPointsB:Ba[Zb]});
for(tb=0;tb<Ta.length;tb++)sb===tb||hb>Ta[tb]||Ud&&Ta[Ud.index]<=Ta[tb]||Rb&&J[sb]>ta[tb]||ta[sb]<J[tb]||(Ud={index:tb,dist:Ta[tb]-hb,refPointsA:Ba[sb],refPointsB:Ba[tb]});return{l:Sc,r:$d,t:r,b:Ud}};Ga.computeClosestMorphs=function(sb){for(var hb=[],Ba=[],J=[],ta=[],Ta=[],tb=[],Rb=0;Rb<sb.length;Rb++){var mc=Ga.computeRefPoints(sb[Rb].bounds());Ta.push(mc);var Zb=mc.right,Rc=mc.top,Sc=mc.bottom;hb.push(mc.left);Ba.push(Zb);J.push(Rc);ta.push(Sc)}for(Rb=0;Rb<sb.length;Rb++)tb.push(Ga.closest(Rb,sb,
Ta,hb,Ba,J,ta));return tb};Ga.fun=mb;Ga.pt=vb;Ga.Color=Vb;Ga.morph=Eb;Ga.cachedGuideLines=new WeakMap;Ga.guideWidth=1;Ga.guideColor=Ga.Color.orange.lighter();Ga.removeSnapToGuidesOf=za;Ga.removeSnapToGuidesOf=za;Ga.showAndSnapToGuides=bb;Ga.showAndSnapToGuides=bb;Ga.showAndSnapToResizeGuides=P;Ga.showAndSnapToResizeGuides=P;Ga.edges=[["vertical","top","top"],["vertical","vCenter","top"],["vertical","bottom","top"],["vertical","top","vCenter"],["vertical","vCenter","vCenter"],["vertical","bottom",
"vCenter"],["vertical","top","bottom"],["vertical","vCenter","bottom"],["vertical","bottom","bottom"],["horizontal","left","left"],["horizontal","hCenter","left"],["horizontal","right","left"],["horizontal","left","hCenter"],["horizontal","hCenter","hCenter"],["horizontal","right","hCenter"],["horizontal","left","right"],["horizontal","hCenter","right"],["horizontal","right","right"]];lively.FreezerRuntime.recorderFor("lively.collab/comments/commentMorph.js");lively.FreezerRuntime.recorderFor("lively.collab/comments/commentIndicator.js");
lively.FreezerRuntime.recorderFor("lively.collab/comments/commentBrowser.js");lively.FreezerRuntime.recorderFor("lively.collab/comments/comment.js");lively.FreezerRuntime.recorderFor("lively.collab/comments/badge.js");var wa=lively.FreezerRuntime.recorderFor("lively.collab/index.js");wa.CommentGroupMorph=void 0;wa.CommentGroupMorph=void 0;wa.CommentMorph=void 0;wa.CommentMorph=void 0;wa.CommentIndicator=void 0;wa.CommentIndicator=void 0;wa.CommentBrowser=void 0;wa.CommentBrowser=void 0;wa.Comment=
void 0;wa.Comment=void 0;wa.Badge=void 0;wa.Badge=void 0;var ja=lively.FreezerRuntime.recorderFor("lively.halos/markers.js");ja.show=X;ja.showRect=function(sb,hb,Ba){var J=ja.BoundsMarker.highlightBounds(hb);return Ba?ja.showInLoop(sb,J,hb):ja.showThenHide(sb,J)};ja.showInLoop=function(sb,hb,Ba){var J;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ta){switch(ta.nextAddress){case 1:return ja.showThenHide(sb,hb,!1),ta.yield(ja.promise.delay(300),2);case 2:J=!1,ja.once(sb,"onMouseDown",
function(){return J=!0}),ja.once(sb,"hideMarkers",function(){return J=!0});case 3:if(J){ta.jumpTo(4);break}return ta.yield(hb.retract(Ba),3);case 4:hb.fadeOut(2E3),ta.jumpToEnd()}})};ja.showThenHide=function(sb,hb,Ba){Ba=void 0===Ba?3:Ba;if(sb){var J=Array.isArray(hb)?hb:[hb];J.forEach(function(ta){return sb.addMorph(ta)});Ba&&setTimeout(function(){return J.forEach(function(ta){return ta.fadeOut(2E3)})},1E3*Ba);return hb}};ja.showLine=function(sb,hb,Ba){Ba=void 0===Ba?3E3:Ba;var J=hb.start;hb=hb.end.subPt(J);
var ta=sb.addMorph({position:J,rotation:hb.theta(),border:{width:1,color:ja.Color.red},width:hb.fastR(),height:0});Ba&&setTimeout(function(){return ta.fadeOut()},Ba);return ta};ja.showConnector=ya;ja.obj=Jc;ja.promise=Bc;ja.string=Uc;ja.pt=vb;ja.Color=Vb;ja.Rectangle=tc;ja.rect=oc;ja.morph=Eb;ja.easings=sc;ja.Path=Tc;ja.Icon=Fd;ja.Morph=Rd;ja.MorphicEnv=ee;ja.connect=Dc;ja.once=rd;ja.disconnect=Ab;ja.show=X;ja.show=X;(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/markers.js"),
Ba=hb.hasOwnProperty("BoundsMarker")&&"function"===typeof hb.BoundsMarker?hb.BoundsMarker:hb.BoundsMarker=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:Symbol.for("lively-instance-initialize"),value:function(){qc._get(Object.getPrototypeOf(Ba.prototype),Symbol.for("lively-instance-initialize"),this).call(this,{borderWidth:0,fill:ja.Color.transparent,reactsToPointer:!1,hasFixedPosition:!0})}},{key:"isEpiMorph",
get:function(){return!0}},{key:"markerLength",value:function(J){J=J.insetBy(-2);J=Math.min(J.width,J.height);return Math.max(4,Math.floor(10>J/10?J/2-5:J/10))}},{key:"createMarkerEdge",value:function(){return ja.morph({fill:ja.Color.red,reactsToPointer:!1,borderRadius:10})}},{key:"ensureMarkerCorners",value:function(){var J=this.topLeftH||(this.topLeftH=this.addMorph(this.createMarkerEdge())),ta=this.topLeftV||(this.topLeftV=this.addMorph(this.createMarkerEdge())),Ta=this.topRightH||(this.topRightH=
this.addMorph(this.createMarkerEdge())),tb=this.topRightV||(this.topRightV=this.addMorph(this.createMarkerEdge())),Rb=this.bottomRightH||(this.bottomRightH=this.addMorph(this.createMarkerEdge())),mc=this.bottomRightV||(this.bottomRightV=this.addMorph(this.createMarkerEdge())),Zb=this.bottomLeftH||(this.bottomLeftH=this.addMorph(this.createMarkerEdge())),Rc=this.bottomLeftV||(this.bottomLeftV=this.addMorph(this.createMarkerEdge()));return[J,ta,Ta,tb,Rb,mc,Zb,Rc]}},{key:"alignWithMorph",value:function(J){return this.alignWithBounds(J.globalBounds().translatedBy($world.scroll.negated()))}},
{key:"alignWithBounds",value:function(J){this.alignWithRect(J.insetBy(-20));return this.alignWithRect(J,!0)}},{key:"alignWithRect",value:function(J,ta){var Ta=this.ensureMarkerCorners(),tb=this.markerLength(J),Rb=[J.topLeft().addXY(0,0).extent(ja.pt(tb,5)),J.topLeft().addXY(0,0).extent(ja.pt(5,tb)),J.topRight().addXY(-tb,0).extent(ja.pt(tb,5)),J.topRight().addXY(-5,0).extent(ja.pt(5,tb)),J.bottomRight().addXY(-5,-tb).extent(ja.pt(5,tb)),J.bottomRight().addXY(-tb,-5).extent(ja.pt(tb,5)),J.bottomLeft().addXY(0,
-5).extent(ja.pt(tb,5)),J.bottomLeft().addXY(0,-tb).extent(ja.pt(5,tb))];Ta.forEach(function(mc,Zb){return mc.setBounds(Rb[Zb])});ta&&(this.adjustOrigin(J.center()),this.opacity=0,this.scale=1.5,this.animate({opacity:1,scale:1,duration:300}));return this}},{key:"retract",value:function(J){var ta=this,Ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tb){if(1==tb.nextAddress)return tb.yield(ta.animate({scale:Math.max(30/J.width,1.05)}),2);Ta=ta.center;return tb.yield(ta.animate({center:Ta,
scale:1,duration:300,easing:ja.easings.inOutExpo}),0)})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"BoundsMarker"}},{key:"highlightMorph",value:function(J){return(new this).alignWithMorph(J)}},{key:"highlightBounds",value:function(J){return(new this).alignWithBounds(J)}}],hb,{pathInPackage:function(){return"markers.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",
version:"0.1.0"}}},{start:2323,end:6E3})})(ja.Morph);wa=Ia("S",function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/markers.js"),Ba=hb.hasOwnProperty("StatusMessage")&&"function"===typeof hb.StatusMessage?hb.StatusMessage:hb.StatusMessage=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"relayout",value:function(){this.title=ja.string.truncate(this.message,(this.width/15).toFixed(),
"...")}},{key:"isEpiMorph",value:function(){return!0}},{key:"isStatusMessage",value:function(){return!0}},{key:"setMessage",value:function(J,ta){this.message=J;this.color=ta}},{key:"slideTo",value:function(J){var ta=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ta){if(1==Ta.nextAddress)return ta.sliding=ta.animate({position:J,duration:500}),Ta.yield(ta.sliding,2);ta.sliding=!1;Ta.jumpToEnd()})}},{key:"expand",value:function(){var J=this,ta,Ta,tb,Rb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(mc){if(1==
mc.nextAddress)return J.expandable?J.sliding?mc.yield(J.sliding,2):mc.jumpTo(2):mc.return();ta=J.world();if(!ta||J.isMaximized)return mc.return();J.isMaximized=!0;J.stayOpen=!0;Ta=J.getSubmorphNamed("message text");Ta.lineWrapping=!1;Object.assign(Ta,{clipMode:"auto",fixedWidth:!0,selectable:!0});J.expandedContent&&(Ta.value=J.expandedContent);Ta.fit();tb=Ta.textBounds().extent();Rb=ta.visibleBounds();tb.y>Rb.extent().y&&(tb.y=Rb.extent().y-20);tb.x>Rb.extent().x&&(tb.x=Rb.extent().x-20);tb=J.extent.maxPt(tb);
J.animate({extent:tb,center:Rb.center(),duration:200});J.relayout();J.focus();mc.jumpToEnd()})}},{key:"fit",value:function(){var J=this.getSubmorphNamed("message text");J&&(this.extent=ja.pt(100,35).maxPt(J.textBounds().extent()),this.relayout())}},{key:"focus",value:function(){var J=this.getSubmorphNamed("message text");J&&J.focus()}},{key:"onMouseUp",value:function(J){this.expand()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StatusMessage"}},{key:"properties",get:function(){return{extent:{defaultValue:ja.pt(200,
100)},stayOpen:{defaultValue:!1},slidable:{defaultValue:!0},isMaximized:{defaultValue:!1},expandable:{initialize:function(){this.expandable=!0}},maxLines:{defaultValue:Infinity},name:{defaultValue:"messageMorph"},master:{initialize:function(){this.master={auto:"styleguide://System/message"}}},message:{after:["submorphs","extent"],set:function(J){this.setProperty("message",J);var ta=this.getSubmorphNamed("message text");if(ta){ta.value=J;var Ta=ta.documentEndPosition;Ta.row>this.maxLines&&(ta.replace({start:{row:this.maxLines,
column:0},end:Ta},"...\n"),this.expandedContent||(this.expandedContent=J));Ta=ta.documentEndPosition;0!==Ta.column&&ta.insertText("\n",Ta)}}},title:{isStyleProp:!0,derived:!0,set:function(J){this.getSubmorphNamed("message title").value=J},get:function(){return this.getSubmorphNamed("message title").value}},color:{after:["submorphs"],derived:!0,get:function(){return this.get("message icon").fontColor},set:function(J){this.get("message icon").fontColor=J;this.get("message icon")._parametrizedProps&&
(this.get("message icon")._parametrizedProps.fontColor=J)}},submorphs:{after:["extent"],initialize:function(){this.submorphs=[{name:"message icon",type:"label",value:ja.Icon.textAttribute("check-circle")},{name:"message text",type:"text"},{name:"message title",type:"label"},{name:"close button",type:"button"}];ja.connect(this.getSubmorphNamed("close button"),"fire",this,"remove");ja.connect(this,"extent",this,"relayout")}}}}}],hb,{pathInPackage:function(){return"markers.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:6044,end:10373})}(ja.Morph));ja.StatusMessage=wa;ja.StatusMessage=wa;ja.StatusMessage=wa;var lb=Ia("b",function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/markers.js"),Ba=hb.hasOwnProperty("StatusMessageForMorph")&&"function"===typeof hb.StatusMessageForMorph?hb.StatusMessageForMorph:hb.StatusMessageForMorph=function(J){J&&J[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"alignAtBottomOf",value:function(J){var ta=this.world();ta&&(this.bringToFront(),this.fit(),this.width=J.bounds().width,this.relayout(),J.world()&&(this.position=J.owner.worldPoint(J.bounds().bottomLeft())),J=ta.visibleBounds(),J=this.bounds().top()+this.height-J.bottom(),0<J&&this.moveBy(ja.pt(0,-J)))}},{key:"onMouseUp",value:function(J){}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StatusMessageForMorph"}},
{key:"properties",get:function(){return{slidable:{defaultValue:!1},renderOnGPU:{defaultValue:!0},removeOnTargetMorphChange:{defaultValue:!0},targetMorph:{defaultValue:null,get:function(){var J=this.getProperty("targetMorph");return J&&$world.getMorphWithId(J)},set:function(J){this.setProperty("targetMorph",J?J.id:null);this.alignAtBottomOf(J)}},expandable:{after:["submorphs"],set:function(J){this.setProperty("expandable",J);if(J){var ta=this.getSubmorphNamed("expand button")||this.addMorph({name:"expand button",
type:"button"});ja.connect(ta,"fire",this,"expand")}else this.getSubmorphNamed("expand button")&&(this.getSubmorphNamed("expand button").remove(),ja.disconnect(ta,"fire",this,"expand"))}}}}}],hb,{pathInPackage:function(){return"markers.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:10598,end:12466})}(ja.StatusMessage));ja.StatusMessageForMorph=
lb;ja.StatusMessageForMorph=lb;ja.StatusMessageForMorph=lb;ja.showConnector=ya;ja.showConnector=ya;var Ja=lively.FreezerRuntime.recorderFor("lively.halos/morph.js");Ja.Morph=Rd;Ja.Label=Xc;Ja.HorizontalLayout=zc;Ja.Path=Tc;Ja.Text=ed;Ja.GridLayout=wd;Ja.morph=Eb;Ja.Icon=Fd;Ja.createMorphSnapshot=xb;Ja.Color=Vb;Ja.pt=vb;Ja.rect=oc;Ja.Rectangle=tc;Ja.LinearGradient=hc;Ja.obj=Jc;Ja.PropertyPath=Cc;Ja.promise=Bc;Ja.properties=ic;Ja.num=Qc;Ja.arr=jb;Ja.connect=Dc;Ja.signal=fb;Ja.disconnect=Ab;Ja.disconnectAll=
Ob;Ja.once=rd;Ja.showAndSnapToGuides=bb;Ja.showAndSnapToResizeGuides=P;Ja.removeSnapToGuidesOf=za;Ja.CommentBrowser=void 0;Ja.show=X;Ja.haloBlue=Ja.Color.rgb(23,160,251);Ja.componentAccent=Ja.Color.magenta;Ja.derivedAccent=Ja.Color.purple;var Xb=function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("Halo")&&"function"===typeof hb.Halo?hb.Halo:hb.Halo=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return qc(Ba,sb,[{key:"relayout",value:function(){this.alignWithTarget()}},{key:"keybindings",get:function(){return[{keys:{mac:"Meta-C",win:"Ctrl-C"},command:{command:"clipboard copy",passEvent:!0}}]}},{key:"commands",get:function(){return[{name:"clipboard copy",doc:"copy selected morph(s) to clipboard",scrollCursorIntoView:!1,exec:function(J){J.copyHalo().copyToClipBoard()}}]}},{key:"removeIfDetached",value:function(){var J=this;setTimeout(function(){J.target.owner||J.remove()})}},{key:"initLayout",
value:function(){var J=this.layout=new Ja.GridLayout({autoAssign:!1,fitToCell:!1,columns:[0,{fixed:36,paddingRight:10},2,{fixed:26},4,{fixed:26},6,{fixed:36,paddingLeft:10}],rows:[0,{fixed:36,paddingBottom:10},2,{fixed:26},4,{fixed:26},6,{fixed:26},7,{fixed:36,paddingTop:10}],grid:[["menu",null,"grab",null,"drag",null,"close"],[null,null,null,null,null,null,null],["copy",null,null,null,null,null,"edit"],[null,null,null,null,null,null,null],["component",null,null,null,null,null,"inspect"],[null,null,
null,null,null,null,null],["rotate",null,null,null,null,null,"resize"],[null,"name","name","name","name","name",null]]});J.col(1).row(7).group.align="center";J.col(1).row(7).group.resize=!1}},{key:"initButtons",value:function(){this.submorphs=[].concat($jscomp.arrayFromIterable(this.ensureResizeHandles()),$jscomp.arrayFromIterable(this.resizeOnly?[]:[this.closeHalo(),this.dragHalo(),this.grabHalo(),this.menuHalo(),this.inspectHalo(),this.editHalo(),this.copyHalo(),this.componentHalo(),this.rotateHalo(),
this.nameHalo(),this.originHalo()]))}},{key:"isEpiMorph",get:function(){return!0}},{key:"isHaloItem",get:function(){return!0}},{key:"isHalo",get:function(){return!0}},{key:"borderBox",get:function(){return this.getSubmorphNamed("border-box")||this.addMorphBack(Ja.morph({name:"border-box",halosEnabled:!1,fill:Ja.Color.transparent,borderColor:this.target.isComponent?Ja.componentAccent:Ja.haloBlue,borderWidth:1}))}},{key:"pointerId",get:function(){return this.state?this.state.pointerId:null}},{key:"pointerId",
set:function(J){this.state||(this.state={});this.state.pointerId=J}},{key:"prepareTarget",value:function(J){if(!Ja.obj.isArray(J))return J;if(1>=J.length)return J[0];J=J[0].world().addMorph(new Ja.MultiSelectionTarget({selectedMorphs:J}));J.alignWithSelection();J.modifiesSelectedMorphs=!0;return J}},{key:"refocus",value:function(J){this.target=J;this.alignWithTarget()}},{key:"alignWithTarget",value:function(J){var ta=this;if((!J||["extent","position","scale","rotation"].includes(J.prop))&&!this.active&&
this.target){J=this.target.world()||$world;var Ta=this.maskBounds,tb=this.target.globalBounds(),Rb=tb.insetBy(-36).intersection(Ta);Ta=tb.intersection(Ta);this.layout&&this.layout.disable();this.setBounds(Rb.translatedBy(J.scroll.negated()));this.borderBox.setBounds($world.transformRectToMorph(this,Ta));this.state.activeButton?(this.buttonControls.forEach(function(mc){return mc.visible=!1}),this.ensureResizeHandles().forEach(function(mc){return mc.visible=!1}),this.state.activeButton.visible=!0,this.updatePropertyDisplay(this.state.activeButton)):
(this.changingName&&this.nameHalo().toggleActive([!1]),this.ensureResizeHandles().forEach(function(mc){return mc.visible=!0}),this.buttonControls.filter(function(mc){return ta.activeItems.includes("*")?!0:ta.activeItems.includes(mc.name)}).forEach(function(mc){mc.visible=!0}),this.propertyDisplay.disable());this.nameHalo().alignInHalo();this.ensureResizeHandles().forEach(function(mc){return mc.alignInHalo()});this.resizeOnly||this.originHalo().alignInHalo();this.layout&&this.layout.enable();return this}}},
{key:"detachFromTarget",value:function(){var J=this.target;J&&(Ja.disconnect(J,"onChange",this,"alignWithTarget"),Ja.disconnect(J,"onOwnerChanged",this,"removeIfDetached"),J instanceof Ja.MultiSelectionTarget?(J.modifiesSelectedMorphs=!1,J.remove()):"function"===typeof J.detachedHalo&&J.detachedHalo(this))}},{key:"remove",value:function(){this.detachFromTarget();qc._get(Object.getPrototypeOf(Ba.prototype),"remove",this).call(this)}},{key:"propertyDisplay",get:function(){return Ja.HaloPropertyDisplay.for(this)}},
{key:"nameHalo",value:function(){return Ja.NameHaloItem.for(this)}},{key:"closeHalo",value:function(){return Ja.CloseHaloItem.for(this)}},{key:"grabHalo",value:function(){return Ja.GrabHaloItem.for(this)}},{key:"dragHalo",value:function(){return Ja.DragHaloItem.for(this)}},{key:"menuHalo",value:function(){return Ja.MenuHaloItem.for(this)}},{key:"inspectHalo",value:function(){return Ja.InspectHaloItem.for(this)}},{key:"editHalo",value:function(){return Ja.EditHaloItem.for(this)}},{key:"rotateHalo",
value:function(){return Ja.RotateHaloItem.for(this)}},{key:"copyHalo",value:function(){return Ja.CopyHaloItem.for(this)}},{key:"originHalo",value:function(){return Ja.OriginHaloItem.for(this)}},{key:"componentHalo",value:function(){return Ja.ComponentHaloItem.for(this)}},{key:"buttonControls",get:function(){return this.submorphs.filter(function(J){return J.isHaloItem&&!J.isResizeHandle})}},{key:"addMorphToSelection",value:function(J){var ta=this,Ta,tb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rb){if(1==
Rb.nextAddress){Ta=ta.world();tb=ta.target.isMorphSelection?ta.target.selectedMorphs:[ta.target];if(tb.includes(J))return Rb.return();ta.remove();return Rb.yield(Ta.showHaloForSelection([].concat($jscomp.arrayFromIterable(tb),[J]),ta.state.pointerId),2)}return Rb.return(Rb.yieldResult)})}},{key:"removeMorphFromSelection",value:function(J){var ta=this,Ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tb){if(1==tb.nextAddress){Ta=ta.world();ta.remove();if(!ta.target.isMorphSelection)return tb.jumpTo(0);
Ja.arr.remove(ta.target.selectedMorphs,J);return tb.yield(Ta.showHaloForSelection(ta.target.selectedMorphs,ta.state.pointerId),3)}return tb.return(tb.yieldResult)})}},{key:"isAlreadySelected",value:function(J){return this.target==J||this.target.isMorphSelection&&this.target.selectsMorph(J)}},{key:"updateBoundsFor",value:function(J,ta,Ta,tb,Rb){var mc={topLeft:Ja.rect(-1,-1,1,1),topCenter:ta?Ja.rect(1,-1,0,1):Ja.rect(0,-1,0,1),topRight:Ja.rect(0,-1,1,1),rightCenter:ta?Ja.rect(0,1,1,1):Ja.rect(0,0,
1,0),bottomRight:Ja.rect(0,0,1,1),bottomCenter:ta?Ja.rect(1,0,0,1):Ja.rect(0,0,0,1),bottomLeft:Ja.rect(-1,0,1,1),leftCenter:ta?Ja.rect(-1,1,1,0):Ja.rect(-1,0,1,0)}[J];Rb=mc.x;var Zb=mc.y,Rc=mc.width;mc=mc.height;Ta=ta?this.proportionalDelta(J,Ta,tb):Ta;J=Ja.rect(Ta.x*Rb,Ta.y*Zb,Ta.x*Rc,Ta.y*mc);this.active=!0;this.target.setBounds(tb.insetByRect(J));(this.target.isPolygon||this.target.isPath)&&this.target.moveBy(this.target.origin.negated());this.active=!1;this.alignWithTarget();this.world().withTopBarDo(function(Sc){if(Sc.activeSideBars.includes("Styling Palette"))Sc.stylingPalette.onHierarchyChange()})}},
{key:"proportionalDelta",value:function(J,ta,Ta){var tb=Ta.width,Rb=Ta.height;Ta={topLeft:Ja.pt(-1,-1),topCenter:Ja.pt(0,-1),topRight:Ja.pt(1,-1),leftCenter:Ja.pt(-1,0),rightCenter:Ja.pt(1,0),bottomLeft:Ja.pt(-1,1),bottomCenter:Ja.pt(0,1),bottomRight:Ja.pt(1,1)};var mc=tb/Math.max(tb,Rb),Zb=Rb/Math.max(Rb,tb);tb={topLeft:Ja.pt(-mc,-Zb),topCenter:Ja.pt(1/(2*Rb/tb),-1),topRight:Ja.pt(mc,-Zb),leftCenter:Ja.pt(-1,Rb/(2*tb)),rightCenter:Ja.pt(1,Rb/(3*tb)),bottomLeft:Ja.pt(-mc,Zb),bottomCenter:Ja.pt(1/
(2*Rb/tb),1),bottomRight:Ja.pt(mc,Zb)};Ta=Ta[J];return tb[J].scaleBy(Ta.dotProduct(ta)/Ta.dotProduct(Ta))}},{key:"ensureResizeHandles",value:function(){return Ja.ResizeHandle.resizersFor(this)}},{key:"updatePropertyDisplay",value:function(J){J=J.valueForPropertyDisplay();"undefined"!==typeof J?this.propertyDisplay.displayProperty(J):this.propertyDisplay.disable()}},{key:"toggleDiagonal",value:function(J,ta){if(!Ja.rect(0).sides.includes(ta)){var Ta=this.getSubmorphNamed("diagonal");if(J){J=this.target.globalBounds();
var tb=J.width,Rb=J.height;J=this.localize(Ja.pt(J.x,J.y)).extent(Ja.pt(tb,Rb)).scaleRectTo(this.innerBounds());tb={topLeft:[Ja.pt(tb,Rb),Ja.pt(0,0)],topRight:[Ja.pt(0,Rb),Ja.pt(tb,0)],bottomRight:[Ja.pt(0,0),Ja.pt(tb,Rb)],bottomLeft:[Ja.pt(tb,0),Ja.pt(0,Rb)]};Ta?Ta.setBounds(J):(Ta=$jscomp.makeIterator(tb[ta]),ta=Ta.next().value,Ta=Ta.next().value,tb=new Ja.LinearGradient({stops:[{offset:0,color:Ja.Color.orange.withA(0)},{offset:.2,color:Ja.Color.orange},{offset:.8,color:Ja.Color.orange},{offset:1,
color:Ja.Color.orange.withA(0)}]}),Ta=this.addMorphBack(new Ja.Path({opacity:0,name:"diagonal",borderStyle:"dotted",borderWidth:5,bounds:J,borderColor:tb,vertices:[ta,Ta]})),Ta.setBounds(J),Ta.animate({opacity:1,duration:500}))}else Ta&&Ta.fadeOut(500)}}},{key:"toggleRotationIndicator",value:function(J,ta){var Ta=this.getSubmorphNamed("rotationIndicator");J&&ta?(J=this.getSubmorphNamed("origin").center,Ta=Ta||this.addMorphBack(new Ja.Path({name:"rotationIndicator",borderColor:Ja.haloBlue,borderWidth:1,
vertices:[]})),Ta.setBounds(ta.bounds().union(this.innerBounds())),Ta.vertices=[Ta.localizePointFrom(J,this),Ta.localizePointFrom(ta.center,this)]):Ta&&Ta.remove()}},{key:"toggleMorphHighlighter",value:function(J,ta,Ta){Ta=void 0===Ta?!1:Ta;if(ta)if(ta.onHaloGrabover)ta.onHaloGrabover(J);else Ta=Ja.MorphHighlighter.for(this,ta,Ta),J&&ta&&ta!=this.world()?Ta&&Ta.show(ta):Ta&&Ta.deactivate()}},{key:"onMouseDown",value:function(J){var ta=this,Ta=J.state.clickedOnMorph;if(!J.isCommandKey()&&Ta==this.borderBox){if(2==
J.state.clickCount&&this.target.isText){var tb=this.target.readOnly;this.target.readOnly=!1;this.target.focus();this.target.cursorPosition=this.target.textPositionFromPoint(J.positionIn(this.target));var Rb=this.world(),mc=this.target,Zb=this.topBar,Rc=function($d){Zb.stylingPalette&&Zb.stylingPalette.fullContainsWorldPoint(Rb.firstHand.position)?(mc.whenRendered().then(function(){Ja.once(mc,"onBlur",Rc)}),Ja.once(mc,"onBlur",Rc)):(Zb.setEditMode("Halo",!0),mc.readOnly=tb,mc.collapseSelection(),Zb.showHaloFor(mc))};
this.target.whenRendered().then(function(){Ja.once(mc,"onBlur",Rc)});Zb.setEditMode("Hand",!0);this.remove();return}return Ja.promise.delay(200).then(function(){2!=J.state.clickCount&&ta.remove()})}if(J.isShiftDown()&&J.isCommandKey())Ta=this.target.isMorphSelection?this.target.morphBeneath(J.position):this.morphBeneath(J.position),this.isAlreadySelected(Ta)?this.removeMorphFromSelection(Ta):this.addMorphToSelection(Ta);else{if(Ta==this.borderBox&&J.isCommandKey()){var Sc=J.world.morphsContainingPoint(J.position).filter(function($d){return $d.halosEnabled});
(Sc=Sc.slice(Sc.indexOf(this.target)+1)[0]||Sc[0]||J.world)&&J.world.showHaloFor(Sc,J.domEvt.pointerId);this.remove()}Ta==this&&J.isCommandKey()&&(Sc=this.morphBeneath(J.position),J.world.showHaloFor(Sc,J.domEvt.pointerId));Ta==this&&Ja.promise.delay(500).then(function(){ta.remove()})}}},{key:"onContextMenu",value:function(J){var ta=this;Promise.resolve($world.defaultMenuItems(this.target)).then(function(Ta){return ta.target.openMenu(Ta,J)}).catch(function(Ta){return $world.logError(Ta)})}},{key:"onKeyUp",
value:function(J){this.changingName||this.buttonControls.map(function(ta){return ta.onKeyUp(J)})}},{key:"getMesh",value:function(J,ta){var Ta=J.x;J=J.y;ta=void 0===ta?Ja.pt(0,0):ta;var tb=this.world().visibleBounds(),Rb=tb.height;tb=tb.width;var mc={borderStyle:"dotted",borderWidth:2,borderColor:Ja.Color.orange};mc=this.get("mesh")||this.addMorph(new Ja.Morph({name:"mesh",styleClasses:["halo-mesh"],extent:Ja.pt(tb,Rb),fill:null,submorphs:[new Ja.Path(Object.assign({name:"vertical"},mc)),new Ja.Path(Object.assign({name:"horizontal"},
mc))]}));mc.globalPosition=ta;mc.getSubmorphNamed("vertical").vertices=[Ja.pt(Ta,0).subPt(ta),Ja.pt(Ta,Rb).subPt(ta)];mc.getSubmorphNamed("horizontal").vertices=[Ja.pt(0,J).subPt(ta),Ja.pt(tb,J).subPt(ta)];return mc}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"Halo"}},{key:"properties",get:function(){return{fill:{defaultValue:Ja.Color.transparent},resizeOnly:{defaultValue:!1},pointerId:{},hasFixedPosition:{defaultValue:!0},respondsToVisibleWindow:{defaultValue:!0},acceptsDrops:{defaultValue:!1},
maskBounds:{initialize:function(){this.maskBounds=$world.visibleBounds()},set:function(J){this.setProperty("maskBounds",J);this.relayout()}},activeItems:{derived:!0,defaultValue:["*"],set:function(J){this.setProperty("activeItems",J);this.buttonControls.forEach(function(ta){return ta.visible=J.includes(ta.name)})}},submorphs:{after:["target"],initialize:function(){this.initButtons();this.alignWithTarget()}},layout:{after:["submorphs"],initialize:function(){this.initLayout()}},hasTinyTarget:{derived:!0,
get:function(){return 40>this.target.bounds().extent().dist(Ja.pt(0))}},topBar:{serialize:!1,get:function(){return this.getProperty("topBar")||this.get("lively top bar")}},target:{get:function(){return this.state?this.state.target:null},set:function(J){this.state||(this.state={});var ta=!!this.state.target;this.detachFromTarget();J=this.prepareTarget(J);this.state.target=J;ta&&this.alignWithTarget();Ja.connect(J,"onChange",this,"alignWithTarget");Ja.connect(J,"onOwnerChanged",this,"removeIfDetached")}}}}}],
hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:975,end:19579})}(Ja.Morph);Xb=Ja.Halo;var Kc=Ia("H",Xb);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("HaloPropertyDisplay")&&"function"===typeof hb.HaloPropertyDisplay?hb.HaloPropertyDisplay:
hb.HaloPropertyDisplay=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"isHaloItem",get:function(){return!1}},{key:"halo",get:function(){return this.owner}},{key:"displayedValue",value:function(){return this.textString}},{key:"displayProperty",value:function(J){var ta=this.halo.state.activeButton;J=String(J);this.visible=!0;this.textString=J;this.position=this.constructor.defaultPosition;this.bounds().insetBy(10).intersects(ta.bounds())&&
(this.position=Ja.pt(ta.topRight.x+10,this.position.y))}},{key:"disable",value:function(){this.position=this.constructor.defaultPosition;this.visible=!1}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HaloPropertyDisplay"}},{key:"morphName",get:function(){return"propertyDisplay"}},{key:"defaultPosition",get:function(){return Ja.pt(25,0)}},{key:"for",value:function(J){return J.getSubmorphNamed(this.morphName)||J.addMorph(new this({name:this.morphName}))}},{key:"properties",get:function(){return{name:{defaultValue:this.name},
fill:{defaultValue:Ja.Color.black.withA(.7)},borderRadius:{defaultValue:7},padding:{defaultValue:Ja.Rectangle.inset(5)},visible:{defaultValue:!1},readOnly:{defaultValue:!0},fontSize:{defaultValue:12},fontColor:{defaultValue:Ja.Color.white},position:{defaultValue:this.defaultPosition}}}}],hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",
version:"0.1.0"}}},{start:19769,end:21107})})(Ja.Label);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("MultiSelectionTarget")&&"function"===typeof hb.MultiSelectionTarget?hb.MultiSelectionTarget:hb.MultiSelectionTarget=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"isHaloItem",get:function(){return!0}},{key:"isMorphSelection",get:function(){return!0}},
{key:"selectsMorph",value:function(J){return this.selectedMorphs.includes(J)}},{key:"alignWithSelection",value:function(){var J=this.selectedMorphs.map(function(ta){return ta.globalBounds()}).reduce(function(ta,Ta){return ta.union(Ta)});this.setBounds(J)}},{key:"onGrab",value:function(J){this.grabbingHand=J.hand;this.selectionGrabbed=!0;J.hand.grab(this.selectedMorphs);Ja.once(J.hand,"dropMorphsOn",this,"onGrabEnd");Ja.connect(J.hand,"position",this,"alignWithSelection")}},{key:"onGrabEnd",value:function(){this.selectionGrabbed=
!1;Ja.disconnectAll(this.grabbingHand)}},{key:"updateExtent",value:function(J){var ta=J.value.subPt(J.prevValue);this.selectedMorphs.forEach(function(Ta){return Ta.resizeBy(ta)})}},{key:"updatePosition",value:function(J){if(!this.selectionGrabbed){var ta=J.value.subPt(J.prevValue);this.selectedMorphs.forEach(function(Ta){return Ta.moveBy(ta)})}}},{key:"updateRotation",value:function(J){var ta=this,Ta=J.value-J.prevValue;this.selectedMorphs.forEach(function(tb){var Rb=tb.origin;tb.adjustOrigin(tb.localize(ta.worldPoint(Ja.pt(0,
0))));tb.rotation+=Ta;tb.adjustOrigin(Rb)})}},{key:"updateScale",value:function(J){var ta=this,Ta=J.value-J.prevValue;this.selectedMorphs.forEach(function(tb){var Rb=tb.origin;tb.adjustOrigin(tb.localize(ta.worldPoint(Ja.pt(0,0))));tb.scale+=Ta;tb.adjustOrigin(Rb)})}},{key:"onChange",value:function(J){qc._get(Object.getPrototypeOf(Ba.prototype),"onChange",this).call(this,J);if(this.modifiesSelectedMorphs){switch(J.prop){case "extent":this.updateExtent(J);break;case "scale":this.updateScale(J);break;
case "position":this.updatePosition(J);break;case "rotation":this.updateRotation(J)}return J}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"MultiSelectionTarget"}},{key:"properties",get:function(){return{visible:{defaultValue:!1},modifiesSelectedMorphs:{defaultValue:!1},selectedMorphs:{defaultValue:[]},halosEnabled:{defaultValue:!1}}}}],hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:21175,end:23446})})(Ja.Morph);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("HaloItem")&&"function"===typeof hb.HaloItem?hb.HaloItem:hb.HaloItem=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"isEpiMorph",get:function(){return!0}},{key:"isHaloItem",get:function(){return!0}},
{key:"menuItems",value:function(){return[]}},{key:"init",value:function(){}},{key:"update",value:function(){}},{key:"stop",value:function(){}},{key:"valueForPropertyDisplay",value:function(){}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HaloItem"}},{key:"properties",get:function(){return{borderRadius:{defaultValue:15},nativeCursor:{defaultValue:"pointer"},fill:{defaultValue:Ja.Color.gray.withA(.7)},grabbable:{defaultValue:!1},extent:{defaultValue:Ja.pt(24,24)},halo:{},acceptsDrops:{defaultValue:!1}}}},
{key:"for",value:function(J){return J.getSubmorphNamed(this.morphName)||J.addMorph(new this({halo:J,name:this.morphName}))}}],hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:23610,end:24328})})(Ja.Morph);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("NameHolder")&&
"function"===typeof hb.NameHolder?hb.NameHolder:hb.NameHolder=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"onHoverIn",value:function(J){this.highlightOnHover&&this.nameHolder.active&&(this.halo.toggleMorphHighlighter(!0,this.target),this.nameHolder.fontColor=Ja.Color.orange)}},{key:"onHoverOut",value:function(J){this.highlightOnHover&&(this.halo.toggleMorphHighlighter(!1,this.target),this.nameHolder.fontColor=
Ja.Color.darkgray)}},{key:"accept",value:function(){this.target.name!==this.nameHolder.textString&&this.updateName(this.nameHolder.textString)}},{key:"onKeyDown",value:function(J){"Enter"==J.keyCombo?(this.accept(),this.halo.focus(),J.stop()):qc._get(Object.getPrototypeOf(Ba.prototype),"onKeyDown",this).call(this,J)}},{key:"onMouseUp",value:function(){Ja.signal(this,"active",[!0,this])}},{key:"onMouseDown",value:function(J){this.nameHolder.fontColor=Ja.Color.white;this.halo.toggleMorphHighlighter(!1,
this.target)}},{key:"onKeyUp",value:function(J){J=this.nameHolder.textString;var ta=this.target.owner;this.validName=!ta||!ta.getSubmorphNamed(J)||this.target.name==J;Ja.signal(this,"valid",[this.validName,J])}},{key:"update",value:function(){var J=this;this.nameHolder.textString!==this.target.name&&(this.nameHolder.textString=this.target.name,this.whenRendered().then(function(){return J.nameHolder.fit()}))}},{key:"activate",value:function(){this.nameHolder.readOnly=!1;this.nameHolder.active=!0;this.nameHolder.animate({opacity:1})}},
{key:"deactivate",value:function(){this.nameHolder.readOnly=!0;this.nameHolder.active=!1;this.nameHolder.animate({opacity:.3})}},{key:"updateName",value:function(J){if(!this.forceUniqueName||this.validName)this.target.name=J,Ja.signal(this,"active",[!1,this]),Ja.CommentBrowser.updateName(this.target)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"NameHolder"}},{key:"properties",get:function(){return{tooltip:{defaultValue:"Click to edit the morph's name"},draggable:{defaultValue:!1},
fill:{defaultValue:Ja.Color.transparent},forceUniqueName:{defaultValue:!1},halo:{},layout:{after:["nameHolder"],initialize:function(){this.layout=new Ja.HorizontalLayout({resizeContainer:!0,spacing:7})}},nameHolder:{after:["submorphs"],initialize:function(){this.nameHolder=this.addMorph(new Ja.Text({fill:Ja.Color.transparent,fontColor:Ja.Color.white,fontWeight:"bold",active:!0}));Ja.connect(this.nameHolder,"onBlur",this,"accept")}}}}}],hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:24363,end:27001})})(Ja.Morph);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("NameHaloItem")&&"function"===typeof hb.NameHaloItem?hb.NameHaloItem:hb.NameHaloItem=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,
[{key:Symbol.for("lively-instance-initialize"),value:function(J){qc._get(Object.getPrototypeOf(Ba.prototype),Symbol.for("lively-instance-initialize"),this).call(this,J);this.initComponentLink();this.initNameHolders();this.validityIndicator=Ja.Icon.makeLabel("check",{fontColor:Ja.Color.green,fontSize:15,padding:Ja.rect(4,6,4,0)});this.fill=this.halo.target.isComponent?Ja.componentAccent:Ja.haloBlue;this.alignInHalo()}},{key:"initComponentLink",value:function(){var J=this,ta=this.halo.target;if(ta&&
!ta.isMorphSelection&&ta.master){var Ta=ta.master.determineMaster(ta),tb=Ta&&!!Ta.world(),Rb=Ta?ta.master.getWorldUrlFor(Ta):"this project";ta=this.addMorph(Ja.Icon.makeLabel(Rb?"external-link-alt":"exclamation-triangle",{nativeCursor:"pointer",fontColor:Ja.Color.white,padding:Ja.rect(8,0,-8,0),name:"master link",tooltip:"Located in "+Rb}));Rb&&Ja.connect(ta,"onMouseDown",function(){tb?J.showLocalMaster(Ta):window.open(Rb)})}}},{key:"showLocalMaster",value:function(J){var ta;if(ta=J.getWindow())ta.activate(),
ta.minimized&&(ta.minimized=!1);J.show()}},{key:"targets",value:function(){return this.halo.target?this.halo.target.isMorphSelection?this.halo.target.selectedMorphs.map(function(J){return{target:J,highlightOnHover:!0}}):[{target:this.halo.target,highlightOnHover:!1}]:[]}},{key:"initNameHolders",value:function(){var J=this;this.nameHolders=this.targets().map(function(ta){ta=new Ja.NameHolder({halo:J.halo,highlightOnHover:ta.highlightOnHover,target:ta.target});Ja.connect(ta,"active",J,"toggleActive");
Ja.connect(ta,"valid",J,"toggleNameValid");return ta});this.submorphs=[].concat($jscomp.arrayFromIterable(this.submorphs),$jscomp.arrayFromIterable(Ja.arr.interpose(this.nameHolders,{extent:Ja.pt(1,28),fill:Ja.Color.black.withA(.4)})))}},{key:"toggleActive",value:function(J){var ta=$jscomp.makeIterator(J);J=ta.next().value;var Ta=ta.next().value;if(this.halo.changingName!==J){this.halo.changingName=J;if(ta=this.get("master link"))ta.visible=ta.isLayoutable=!J;J?(this.nameHolders.forEach(function(tb){return tb!=
Ta&&tb.deactivate()}),this.borderWidth=3,this.addMorph(this.validityIndicator),this.fill=Ja.Color.darkGray,setTimeout(function(){return Ta.nameHolder.selectAll()})):(this.fill=Ja.haloBlue,this.nameHolders.forEach(function(tb){return tb!=Ta&&tb.activate()}),this.borderWidth=0,this.validityIndicator.remove());this.alignInHalo()}}},{key:"toggleNameValid",value:function(J){var ta=$jscomp.makeIterator(J);J=ta.next().value;ta=ta.next().value;(this.validName=J)?(this.conflictingMorph=null,this.borderColor=
Ja.Color.green,this.validityIndicator.nativeCursor="auto",this.validityIndicator.fontColor=Ja.Color.green,Ja.Icon.setIcon(this.validityIndicator,"check")):(this.conflictingMorph=this.get(ta),this.borderColor=Ja.Color.red,this.validityIndicator.fontColor=Ja.Color.red,this.validityIndicator.nativeCursor="pointer",Ja.Icon.setIcon(this.validityIndicator,"exclamation-circle"))}},{key:"alignInHalo",value:function(){Ja.arr.zip(this.targets(),this.nameHolders).map(function(ta){var Ta=$jscomp.makeIterator(ta);
ta=Ta.next().value.target;Ta=Ta.next().value;Ta.target=ta;Ta.update()});var J=this.halo.innerBounds().bottomCenter().addPt(Ja.pt(0,2));this.topCenter=Ja.pt(Math.max(J.x,30),Math.max(J.y,80))}},{key:"onMouseDown",value:function(J){var ta=this,Ta=this.conflictingMorph;Ta&&(this.halo.toggleMorphHighlighter(!0,Ta),setTimeout(function(){return ta.halo.toggleMorphHighlighter(!1,Ta)},1E3))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"NameHaloItem"}},{key:"morphName",get:function(){return"name"}},
{key:"properties",get:function(){return{borderRadius:{defaultValue:4},fill:{defaultValue:Ja.haloBlue},borderColor:{defaultValue:Ja.Color.green},layout:{initialize:function(){this.layout=new Ja.HorizontalLayout({resizeContainer:!0,spacing:0,align:"center",orderByIndex:!0})}}}}}],hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",
version:"0.1.0"}}},{start:27003,end:31470})})(Ja.HaloItem);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("CloseHaloItem")&&"function"===typeof hb.CloseHaloItem?hb.CloseHaloItem:hb.CloseHaloItem=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"update",value:function(){var J=this.halo,ta=J.target.owner;ta.undoStart("close-halo");J.target.selectedMorphs?
J.target.selectedMorphs.forEach(function(Ta){return Ta.abandon()}):J.target.abandon();ta.undoStop("close-halo");J.remove()}},{key:"onMouseDown",value:function(J){this.update()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"CloseHaloItem"}},{key:"morphName",get:function(){return"close"}},{key:"properties",get:function(){return{targetIsComponent:{derived:!0,get:function(){return this.halo.target.isComponent}},styleClasses:{after:["halo"],initialize:function(){this.styleClasses=["fas",
this.targetIsComponent?"fa-eye-slash":"fa-trash"]}},draggable:{defaultValue:!1},tooltip:{after:["halo"],initialize:function(){this.tooltip=this.targetIsComponent?"Hide this component":"Remove this morph from the world"}}}}}],hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:31472,end:32482})})(Ja.HaloItem);
(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("GrabHaloItem")&&"function"===typeof hb.GrabHaloItem?hb.GrabHaloItem:hb.GrabHaloItem=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"adjustTarget",value:function(J,ta){Ja.PropertyPath("owner.layout.autoResize").get(J)&&!J.globalBounds().insetBy(10).containsPoint(ta)&&(J=J.owner);return J}},{key:"valueForPropertyDisplay",
value:function(){var J=this.hand,ta=this.halo,Ta=this.prevDropTarget,tb=J.world(),Rb=J.findDropTarget(J.globalPosition,[ta.target],function(mc){return!mc.isHaloItem&&!mc.ownerChain().some(function(Zb){return Zb.isHaloItem||!Zb.visible||0==Zb.opacity})});if(Rb)return Rb=this.adjustTarget(Rb,J.globalPosition),ta.toggleMorphHighlighter(Rb&&Rb!=tb,Rb,!0),Ta&&Ta!=Rb&&ta.toggleMorphHighlighter(!1,Ta),(this.prevDropTarget=Rb)&&Rb.name}},{key:"init",value:function(J){var ta=this.halo,Ta=ta.target.undoStart("grab-halo");
Ta&&Ta.addTarget(ta.target.owner);this.hand=J;ta.target.onGrab({halo:ta,hand:J,isShiftDown:function(){return!1}});ta.state.activeButton=this;this.opacity=.3;var tb=Ja.connect(J,"update",this,"update");Ja.once(ta.target,"remove",function(){return tb.disconnect()})}},{key:"stop",value:function(J){var ta=this.halo,Ta=this.prevDropTarget,tb=ta.target.undoInProgress,Rb=J.hand.findDropTarget(J.hand.globalPosition,[ta.target],function(mc){return!mc.isHaloItem&&!mc.ownerChain().some(function(Zb){return Zb.isHaloItem})});
Rb=this.adjustTarget(Rb,J.hand.globalPosition);Ja.disconnect(J.hand,"update",this,"update");Ja.MorphHighlighter.interceptDrop(ta,Rb,ta.target);tb.addTarget(Rb);Rb.onDrop(J);ta.state.activeButton=null;ta.alignWithTarget();ta.toggleMorphHighlighter(!1,Ta);Ja.MorphHighlighter.removeHighlighters(ta);ta.target.undoStop("grab-halo");this.opacity=1}},{key:"update",value:function(){this.halo.alignWithTarget()}},{key:"onDragStart",value:function(J){this.init(J.hand)}},{key:"onDragEnd",value:function(J){this.stop(J)}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"GrabHaloItem"}},{key:"morphName",get:function(){return"grab"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["far","fa-hand-rock"]},tooltip:{defaultValue:"Grab the morph"},draggable:{defaultValue:!0}}}}],hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",
version:"0.1.0"}}},{start:32484,end:35012})})(Ja.HaloItem);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("DragHaloItem")&&"function"===typeof hb.DragHaloItem?hb.DragHaloItem:hb.DragHaloItem=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"valueForPropertyDisplay",value:function(){return this.halo.target.position}},{key:"updateAlignmentGuide",
value:function(J){var ta=this.halo.getSubmorphNamed("mesh");if(J)return ta=this.halo.getMesh(this.halo.target.worldPoint(Ja.pt(0,0))),this.focus(),ta;ta&&ta.remove()}},{key:"init",value:function(){var J=this.halo.target;J.undoStart("drag-halo");this.halo.state.activeButton=this;this.actualPos=J.position;this.targetTransform=J.owner.getGlobalTransform().inverse()}},{key:"stop",value:function(){this.halo.target.undoStop("drag-halo");this.halo.state.activeButton=null;this.halo.alignWithTarget();this.updateAlignmentGuide(!1);
Ja.removeSnapToGuidesOf(this.halo.target)}},{key:"update",value:function(J,ta,Ta){ta=void 0===ta?!1:ta;Ta=void 0===Ta?!1:Ta;this.actualPos=J=this.actualPos.addPt(this.targetTransform.transformDirection(J));ta&&(J=J.griddedBy(Ja.pt(10,10)));this.halo.target.position=J;this.updateAlignmentGuide(ta);this.world().withTopBarDo(function(tb){if(tb.activeSideBars.includes("Styling Palette"))tb.stylingPalette.onHierarchyChange()});ta||Ja.showAndSnapToGuides(this.halo.target,!0,Ta,5,500)}},{key:"onDragStart",
value:function(J){this.init()}},{key:"onDrag",value:function(J){this.update(J.state.dragDelta,J.isAltDown(),J.isCtrlDown())}},{key:"onDragEnd",value:function(J){this.stop()}},{key:"onKeyUp",value:function(J){this.updateAlignmentGuide(!1)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"DragHaloItem"}},{key:"morphName",get:function(){return"drag"}},{key:"properties",get:function(){return{draggable:{defaultValue:!0},styleClasses:{defaultValue:["fas","fa-arrows-alt"]},tooltip:{defaultValue:"Change the morph's position. Press (alt) while dragging to align the morph's position along a grid."}}}}],
hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:35014,end:37012})})(Ja.HaloItem);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("InspectHaloItem")&&"function"===typeof hb.InspectHaloItem?hb.InspectHaloItem:hb.InspectHaloItem=function(J){J&&
J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"onMouseDown",value:function(J){var ta=this;(function(){var Ta,tb,Rb,mc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Zb){if(1==Zb.nextAddress)return Zb.yield(System.import("lively.ide/js/inspector.js"),2);Ta=Zb.yieldResult;tb=Ta.default;(Rb=ta.world().getSubmorphsByStyleClassName("Inspector").find(function(Rc){return Rc.targetObject==ta.halo.target}))&&
(mc=Rb.getWindow())?(mc.minimized=!1,mc.activate(),mc.animate({center:ta.world().visibleBounds().center(),duration:200})):tb.openInWindow({targetObject:ta.halo.target});ta.halo.remove();Zb.jumpToEnd()})})()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"InspectHaloItem"}},{key:"morphName",get:function(){return"inspect"}},{key:"properties",get:function(){return{tooltip:{defaultValue:"Inspect the morph's local state"},draggable:{defaultValue:!1},styleClasses:{defaultValue:["fas","fa-cogs"]}}}}],
hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:37014,end:37931})})(Ja.HaloItem);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("EditHaloItem")&&"function"===typeof hb.EditHaloItem?hb.EditHaloItem:hb.EditHaloItem=function(J){J&&J[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"onMouseDown",value:function(J){var ta=this;(J=this.world().getSubmorphsByStyleClassName("ObjectEditor").find(function(Ta){return Ta.target==ta.halo.target}))?(J=J.getWindow(),J.bringToFront(),J.minimized=!1,J.animate({center:this.world().visibleBounds().center(),duration:200})):$world.execCommand("open object editor",{target:this.halo.target});this.halo.remove()}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"EditHaloItem"}},{key:"morphName",get:function(){return"edit"}},{key:"properties",get:function(){return{tooltip:{defaultValue:"Edit the morph's definition"},draggable:{defaultValue:!1},styleClasses:{defaultValue:["fas","fa-wrench"]}}}}],hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},
{start:37933,end:38713})})(Ja.HaloItem);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("RotateHaloItem")&&"function"===typeof hb.RotateHaloItem?hb.RotateHaloItem:hb.RotateHaloItem=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:Symbol.for("lively-instance-initialize"),value:function(J){qc._get(Object.getPrototypeOf(Ba.prototype),Symbol.for("lively-instance-initialize"),
this).call(this,J);this.adaptAppearance(!1)}},{key:"angle",get:function(){return this.getProperty("angle")||0}},{key:"angle",set:function(J){this.setProperty("angle",J)}},{key:"scaleGauge",get:function(){return this.getProperty("scaleGauge")||null}},{key:"scaleGauge",set:function(J){this.setProperty("scaleGauge",J)}},{key:"initRotation",get:function(){return this.getProperty("initRotation")||0}},{key:"initRotation",set:function(J){this.setProperty("initRotation",J)}},{key:"valueForPropertyDisplay",
value:function(){var J=this.halo.target;return this.scaleGauge?J.scale.toFixed(4).toString():Ja.num.toDegrees(J.rotation).toFixed(1)+"\u00b0"}},{key:"init",value:function(J){this.detachFromLayout();this.halo.target.undoStart("rotate-halo");this.halo.state.activeButton=this;this.angle=J;this.initRotation=this.halo.target.rotation;this.halo.toggleRotationIndicator(!0,this)}},{key:"initScale",value:function(J){this.detachFromLayout();this.halo.state.activeButton=this;this.scaleGauge=J.scaleBy(1/this.halo.target.scale);
this.halo.toggleRotationIndicator(!0,this)}},{key:"update",value:function(J){this.scaleGauge=null;J=this.initRotation+(J-this.angle);J=Ja.num.toRadians(Ja.num.detent(Ja.num.toDegrees(J),10,45));this.halo.target.rotation=J;this.halo.toggleRotationIndicator(!0,this)}},{key:"updateScale",value:function(J){var ta=this.scaleGauge,Ta=this.halo;ta||(ta=this.scaleGauge=J.scaleBy(1/Ta.target.scale));this.angle=J.theta();this.initRotation=Ta.target.rotation;Ta.target.scale=Ja.num.detent(J.dist(Ja.pt(0,0))/
ta.dist(Ja.pt(0,0)),.1,.5);Ta.toggleRotationIndicator(!0,this)}},{key:"stop",value:function(){this.attachToLayout();this.scaleGauge=null;this.halo.state.activeButton=null;this.halo.alignWithTarget();this.halo.toggleRotationIndicator(!1,this);this.halo.target.undoStop("rotate-halo");this.halo.ensureResizeHandles()}},{key:"adaptAppearance",value:function(J){this.styleClasses=["fas",J?"fa-search-plus":"fa-redo"];this.tooltip=J?"Scale morph":"Rotate morph"}},{key:"detachFromLayout",value:function(){this.savedLayout=
this.halo.layout;this.halo.layout=null}},{key:"attachToLayout",value:function(){this.halo.layout=this.savedLayout}},{key:"onDragStart",value:function(J){this.adaptAppearance(J.isShiftDown());J.isShiftDown()?this.initScale(J.position.subPt(this.halo.target.globalPosition)):this.init(J.position.subPt(this.halo.target.globalPosition).theta())}},{key:"onDrag",value:function(J){this.globalPosition=J.position.addPt(Ja.pt(-10,-10));this.adaptAppearance(J.isShiftDown());J.isShiftDown()?this.updateScale(J.position.subPt(this.halo.target.globalPosition)):
this.update(J.position.subPt(this.halo.target.globalPosition).theta())}},{key:"onDragEnd",value:function(J){this.adaptAppearance(J.isShiftDown());this.stop()}},{key:"onKeyDown",value:function(J){this.adaptAppearance(J.isShiftDown())}},{key:"onKeyUp",value:function(J){this.adaptAppearance(J.isShiftDown())}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RotateHaloItem"}},{key:"morphName",get:function(){return"rotate"}},{key:"properties",get:function(){return{draggable:{defaultValue:!0}}}}],
hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:38715,end:42192})})(Ja.HaloItem);Ja.nameNumberRe=/(.+)([0-9]+)$/;(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("ComponentHaloItem")&&"function"===typeof hb.ComponentHaloItem?hb.ComponentHaloItem:
hb.ComponentHaloItem=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"updateComponentIndicator",value:function(){var J=this.world(),ta=this.halo.target;this.halo.remove();J.showHaloFor(ta)}},{key:"checkForDuplicateNamesInHierarchy",value:function(){var J=this,ta,Ta,tb,Rb,mc,Zb,Rc,Sc,$d,r,Ud,ke;return $jscomp.asyncExecutePromiseGeneratorProgram(function(le){switch(le.nextAddress){case 1:ta=J.halo.target;
Ta=J.world();tb=[];ta.withAllSubmorphsDoExcluding(function(ie){ie!=ta&&tb.push(ie)},function(ie){return ie.master&&ie!=ta});Rb=Ja.arr.groupBy(tb,function(ie){return ie.name});mc={fontWeight:"normal",fontSize:16};if(!Object.values(Rb).find(function(ie){return 1<ie.length})){le.jumpTo(2);break}Zb=Ja.arr.sum(Object.values(Rb).filter(function(ie){return 1<ie.length}).map(function(ie){return ie.length}));return le.yield(Ta.confirm(["Ambigous Names in Submorph Hierarchy  ",{}].concat($jscomp.arrayFromIterable(Ja.Icon.textAttribute("exclamation-triangle",
{fontColor:Ja.Color.rgb(230,126,34),fontSize:30,lineHeight:"40px"})),["\nThe morph you are about to turn into a component has "+Zb+" morphs within its submorph hierarchy, that have ambigous names. This can lead to incorrect applications of style properties when you create derived instances from this component.\n\n",Object.assign({},mc,{textAlign:"left"}),"Usually ambigous names are caused if your component is in some kind of intermittent state, where it already displays an example state or code has run that automatically created interface elements. This can be fixed by resetting the submorphs of this morph, usually by implementing a ",
Object.assign({},mc,{textAlign:"left",fontStyle:"italic"}),"reset()",Object.assign({},mc,{fontStyle:"italic",fontFamily:"IBM Plex Mono"}),' routine you can invoke to put the morph into some kind of "neutral" state. Alternatively you can go ahead and rename the duplicate morphs to have proper unique names. If you have a hard time giving the conflicting morphs appropriate names, this can be an indication that the component you are declaring is too large, and you need to decompose your component into subcomponents further.',
Object.assign({},mc,{textAlign:"left",fontStyle:"italic"})]),{width:600,confirmLabel:"PROCEED TO RENAME",rejectLabel:"CANCEL",align:"left"}),3);case 3:if(Rc=le.yieldResult,!Rc)return le.return();case 2:$d=le.forIn(Rb);case 4:if(null==(Sc=$d.getNext())){le.jumpTo(6);break}if(2>Rb[Sc].length){le.jumpTo(4);break}r=Rb[Sc];case 7:if(!(1<r.length)){le.jumpTo(4);break}Ud=r[0];Ja.show(Ud,!0);return le.yield(Ta.prompt(["Name Collision\n",{},"The name of\n",mc,Ud.toString(),Object.assign({},mc,{fontStyle:"italic",
fontWeight:"bold"}),"\nis not unique within the submorph hierachy of\n",Object.assign({},mc),ta.name,Object.assign({},mc,{fontStyle:"italic",fontWeight:"bold"}),"\nThere "+(2<r.length?"are "+(r.length-1)+" other morphs":"is one other morph")+" with the exact same name located in this component.",mc," Duplicate names can cause errors when applying styles to derived morphs of this master component, so it is essential that there is no name ambiguity. Please enter a new name for this or the other conflicting morphs:",
mc],{input:Ud.name,lineWrapping:!0,width:500,fontSize:12,rejectLabel:"IGNORE",confirmLabel:"RENAME",errorMessage:"Provided name is not unique",validate:function(ie){return!Object.keys(Rb).includes(ie)}}),9);case 9:ke=le.yieldResult;Ja.signal(Ta,"hideMarkers");ke&&(Ud.name=ke);if(ke in Rb){le.jumpTo(7);break}else if(!ke){r=Ja.arr.rotate(r);le.jumpTo(7);break}Ja.arr.remove(r,Ud);le.jumpTo(7);break;case 6:return le.return(!0)}})}},{key:"onMouseDown",value:function(){var J=this,ta,Ta,tb,Rb,mc,Zb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rc){switch(Rc.nextAddress){case 1:ta=
J.halo.target;Ta=!ta.isComponent;tb=$world.getAllNamed(ta.name).length;if(!(Ta&&1<tb)){Rc.jumpTo(2);break}return Rc.yield($world.prompt(["Name Conflict\n",{},"The morph's name you are about to turn into a component is already used by "+(tb-1)+" other morph"+(2<tb?"s":"")+". Please enter a ",{fontWeight:"normal"},"unique identifier",{fontStyle:"italic"}," for this component within this project.",{fontWeight:"normal",fontSize:16}],{input:ta.name,lineWrapping:!0,width:400,errorMessage:"Identifier not unique",
validate:function(Sc){return 0==$world.getAllNamed(Sc).length}}),3);case 3:Rb=Rc.yieldResult;if(!Rb)return Rc.return();ta.name=Rb;case 2:mc=ta;if(!(Zb=Ta)){Rc.jumpTo(4);break}return Rc.yield(J.checkForDuplicateNamesInHierarchy(),5);case 5:Zb=Rc.yieldResult;case 4:mc.isComponent=Zb,Ta?(Ja.arr.pushIfNotIncluded(ta.world().localComponents,ta),Ja.arr.pushIfNotIncluded(ta.world().hiddenComponents,ta.name)):Ja.arr.remove(ta.world().localComponents,ta),J.world()?J.updateComponentIndicator():ta.world().showHaloFor(ta),
Rc.jumpToEnd()}})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ComponentHaloItem"}},{key:"morphName",get:function(){return"component"}},{key:"properties",get:function(){return{tooltip:{get:function(){return this.halo.target.isComponent?"Retract Component":"Turn into Component"}},styleClasses:{initialize:function(){this.styleClasses=this.halo.target.isComponent?["fas","fa-eraser"]:["fas","fa-cube"]}}}}}],hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:42233,end:48387})})(Ja.HaloItem);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("CopyHaloItem")&&"function"===typeof hb.CopyHaloItem?hb.CopyHaloItem:hb.CopyHaloItem=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,
sb,[{key:"init",value:function(J){function ta(Sc,$d){return $d.match(Ja.nameNumberRe)?$d.replace(Ja.nameNumberRe,function(r,Ud,ke){ke||(ke="0");for(r=Number(ke);Sc.get(Ud+ ++r););return Ud+r}):$d+"1"}var Ta=this.halo,tb=Ta.target,Rb=Ta.world(),mc=tb instanceof Ja.MultiSelectionTarget;Ta.remove();Ja.connect(J,"update",this,"update");if(mc){var Zb=Ja.arr.compact(tb.selectedMorphs.map(function(Sc){if(Sc.canBeCopied())return Sc=Sc.copy(!0),Rb.addMorph(Sc),Sc}));mc=Zb.map(function(Sc){Sc.name=ta(tb,Sc.name);
return Sc.position});Zb[0].undoStart("copy-halo");Rb.addMorph(Ta);Ta.refocus(Zb);J.grab(Ta.target);Ta.target.onGrab({halo:Ta,hand:J,isShiftDown:function(){return!1}});mc.forEach(function(Sc,$d){return Zb[$d].globalPosition=Sc});Ta.alignWithTarget()}else{mc=tb.globalPosition;var Rc=tb.copy(!0);tb.isComponent&&(Rc.isComponent=!1,Rc.withAllSubmorphsDoExcluding(function(Sc){Sc!=Rc&&Sc.master||delete Sc._parametrizedProps},function(Sc){return Sc.master&&Sc!=Rc}),Rc.master=tb);Rc.name=ta(tb,tb.name);Rb.addMorph(Rc);
Rc.globalPosition=mc;Rc.undoStart("copy-halo");J.grab(Rc);Rb.addMorph(Ta);Ta.visible=!1}}},{key:"stop",value:function(J){var ta=this.halo,Ta=$jscomp.makeIterator(J.grabbedMorphs).next().value,tb=J.findDropTarget(J.globalPosition,[ta.target],function(mc){return!mc.isHaloItem&&!mc.ownerChain().some(function(Zb){return Zb.isHaloItem})}),Rb=ta.target.undoInProgress;Ja.disconnect(J,"update",this,"update");Rb.addTarget(tb);J.dropMorphsOn(tb);ta.target.undoStop("copy-halo");ta.remove();J.world().showHaloFor(Ta)}},
{key:"onDragStart",value:function(J){this.init(J.hand)}},{key:"onDragEnd",value:function(J){this.stop(J.hand)}},{key:"update",value:function(){this.halo.alignWithTarget()}},{key:"copyToClipBoard",value:function(){var J=this,ta,Ta,tb,Rb,mc,Zb,Rc,Sc,$d,r,Ud,ke,le,ie,yd,Wd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(De){switch(De.nextAddress){case 1:ta=J;Ta=ta.halo;if(Ta.nameHalo().nameHolders.find(function(Fe){return Fe.nameHolder===$world.focusedMorph}))return De.return();tb=Ta.target;
Rb=Ta.world();mc=tb instanceof Ja.MultiSelectionTarget;Zb=tb.globalBounds().topLeft();Rc=mc?tb.selectedMorphs:[tb];Sc=Rc.filter(function(Fe){return!Fe.isCommentIndicator}).map(function(Fe){return Fe.copy(!0)});$d=[];r='<!DOCTYPE html>\n          <html lang="en">\n          <head>\n            <meta charset="utf-8">\n            '+document.querySelector("#lively-morphic-css").outerHTML+"\n          </head>\n          <body>";Ta.remove();De.setCatchFinallyBlocks(2);Ud=$jscomp.makeIterator(Sc);ke=Ud.next();
case 4:if(ke.done)return r+="</body></html>",yd=JSON.stringify($d),De.yield(J.env.eventDispatcher.doCopyWithMimeTypes([{type:"text/html",data:r},{type:"application/morphic",data:yd}]),8);le=ke.value;return De.yield(Ja.createMorphSnapshot(le,{addPreview:!1,testLoad:!1}),7);case 7:ie=De.yieldResult;ie.copyMeta={offset:le.worldPoint(Ja.pt(0,0)).subPt(Zb)};$d.push(ie);r+=le.renderPreview();ke=Ud.next();De.jumpTo(4);break;case 8:De.leaveTryBlock(3);break;case 2:return Wd=De.enterCatchBlock(),Rb.logError(Wd),
De.return();case 3:Rb.addMorph(Ta),Ta.refocus(Rc),Ta.setStatusMessage("copied"),De.jumpToEnd()}})}},{key:"onMouseUp",value:function(J){var ta=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ta){J.stop();return Ta.yield(ta.copyToClipBoard(),0)})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"CopyHaloItem"}},{key:"morphName",get:function(){return"copy"}},{key:"properties",get:function(){return{draggable:{defaultValue:!0},tooltip:{defaultValue:"Copy morph"},styleClasses:{defaultValue:["far",
"fa-clone"]}}}}],hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:48389,end:52774})})(Ja.HaloItem);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("OriginHaloItem")&&"function"===typeof hb.OriginHaloItem?hb.OriginHaloItem:hb.OriginHaloItem=
function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"fill",get:function(){return Ja.Color.white.interpolate(.2,this.borderColorTop)}},{key:"extent",get:function(){return Ja.pt(15,15)}},{key:"tooltip",get:function(){return"Change the morph's origin"}},{key:"computePositionAtTarget",value:function(){return this.halo.localize(this.halo.target.globalPosition)}},{key:"alignInHalo",value:function(){this.visible=
!this.halo.hasTinyTarget;this.center=this.computePositionAtTarget()}},{key:"valueForPropertyDisplay",value:function(){return this.halo.target.origin}},{key:"init",value:function(){this.halo.target.undoStart("origin-halo");this.halo.state.activeButton=this}},{key:"stop",value:function(){this.halo.target.undoStop("origin-halo");this.halo.state.activeButton=null;this.halo.alignWithTarget()}},{key:"update",value:function(J){var ta=this.halo,Ta=ta.target.origin,tb=ta.target.worldPoint(Ta);J=ta.target.localize(tb.addPt(J)).subPt(ta.target.scroll).subPt(Ta);
ta.target.adjustOrigin(ta.target.origin.addPt(J))}},{key:"onDragStart",value:function(J){this.init()}},{key:"onDragEnd",value:function(J){this.stop()}},{key:"onDrag",value:function(J){this.update(J.state.dragDelta)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"OriginHaloItem"}},{key:"morphName",get:function(){return"origin"}},{key:"properties",get:function(){return{borderWidth:{defaultValue:3},nativeCursor:{defaultValue:"-webkit-grab"},draggable:{defaultValue:!0},borderColor:{after:["halo"],
initialize:function(){this.borderColor=this.halo.target.isComponent?Ja.componentAccent:Ja.haloBlue}}}}}],hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:52776,end:54437})})(Ja.HaloItem);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("ResizeHandle")&&
"function"===typeof hb.ResizeHandle?hb.ResizeHandle:hb.ResizeHandle=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"valueForPropertyDisplay",value:function(){var J=this.halo.target.extent,ta=J.y;return J.x.toFixed(1)+"x"+ta.toFixed(1)}},{key:"positionInHalo",value:function(){var J=this.halo.borderBox.bounds();this.halo.hasTinyTarget&&(Ja.Rectangle.prototype.sides.includes(this.location)&&(this.visible=
!1),J=J.insetBy(-4));return J.partNamed(this.location)}},{key:"alignInHalo",value:function(){this.center=this.positionInHalo();return this}},{key:"onKeyUp",value:function(J){this.halo.state.activeButton==this&&this.halo.toggleDiagonal(J.isShiftDown(),this.corner)}},{key:"onKeyDown",value:function(J){this.halo.state.activeButton==this&&this.halo.toggleDiagonal(J.isShiftDown(),this.corner)}},{key:"onDragStart",value:function(J){this.init(J.position,J.isShiftDown())}},{key:"onDragEnd",value:function(J){this.stop(J.isShiftDown())}},
{key:"onDrag",value:function(J){this.update(J.position,J.isShiftDown(),J.isAltDown(),J.isCtrlDown());this.focus()}},{key:"init",value:function(J,ta){ta=void 0===ta?!1:ta;var Ta=this.halo.target,tb=Ta.origin,Rb=Ta.position;Ta=Ta.extent;this.startPos=J;this.startBounds=Rb.subPt(tb).extent(Ta);this.startOrigin=this.halo.target.origin;this.savedLayout=this.halo.layout;this.halo.layout=null;this.halo.state.activeButton=this;this.tfm=this.halo.target.getGlobalTransform().inverse();J=this.halo.target.getGlobalTransform().getRotation();
this.offsetRotation=Ja.num.toRadians(J%45);this.halo.toggleDiagonal(ta,this.corner)}},{key:"update",value:function(J,ta,Ta,tb){ta=void 0===ta?!1:ta;Ta=void 0===Ta?!1:Ta;tb=void 0===tb?!1:tb;var Rb=this.corner,mc=this.tfm;J=this.startPos.subPt(J);mc=mc.transformDirection(Ja.pt(J.x,J.y));Ta&&(mc=mc.griddedBy(Ja.pt(10,10)));this.halo.updateBoundsFor(Rb,ta,mc,this.startBounds,this.startOrigin);this.halo.toggleDiagonal(ta,Rb);this.updateAlignmentGuide(Ta);ta=[];Rb=Rb.toLowerCase();Rb.includes("left")&&
ta.push("left");Rb.includes("top")&&ta.push("top");Rb.includes("bottom")&&ta.push("bottom");Rb.includes("right")&&ta.push("right");Ja.showAndSnapToResizeGuides(this.halo.target,ta,!0,tb,5,200)}},{key:"stop",value:function(J){J=this.halo;J.layout=this.savedLayout;J.state.activeButton=null;J.alignWithTarget();J.toggleDiagonal(!1);this.updateAlignmentGuide(!1);Ja.removeSnapToGuidesOf(J.target)}},{key:"updateAlignmentGuide",value:function(J){var ta=this.halo.getSubmorphNamed("mesh");if(J)return J=this.halo.target.extent,
J=Ja.pt(J.x%10,J.y%10),ta=this.halo.getMesh(this.globalPosition.addPt(this.extent.scaleBy(.5)),J),this.focus(),ta;ta&&ta.remove()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ResizeHandle"}},{key:"properties",get:function(){return{corner:{},location:{},draggable:{defaultValue:!0},isResizeHandle:{readOnly:!0,get:function(){return!0}}}}},{key:"getResizeParts",value:function(J){0<J&&(J-=360);J=-8-(J/45).toFixed();0==J&&(J=8);return Ja.arr.zip(Ja.arr.rotate([["topLeft",function(ta){return ta.negated()}],
["topCenter",function(ta){return ta.withX(0).negated()}],["topRight",function(ta){return ta.withX(0).negated()}],["rightCenter",function(ta){return Ja.pt(0,0)}],["bottomRight",function(ta){return Ja.pt(0,0)}],["bottomCenter",function(ta){return Ja.pt(0,0)}],["bottomLeft",function(ta){return ta.withY(0).negated()}],["leftCenter",function(ta){return ta.withY(0).negated()}]],J),[["nwse-resize","topLeft"],["ns-resize","topCenter"],["nesw-resize","topRight"],["ew-resize","rightCenter"],["nwse-resize",
"bottomRight"],["ns-resize","bottomCenter"],["nesw-resize","bottomLeft"],["ew-resize","leftCenter"]])}},{key:"resizersFor",value:function(J){var ta=this;if(!J.target)return[];var Ta=J.target.getGlobalTransform().getRotation();return Ja.arr.compact(this.getResizeParts(Ta).map(function(tb){var Rb=$jscomp.makeIterator(tb),mc=$jscomp.makeIterator(Rb.next().value);tb=mc.next().value;mc.next();mc.next();mc=$jscomp.makeIterator(Rb.next().value);Rb=mc.next().value;mc=mc.next().value;return ta.for(J,tb,mc,
Rb)})).map(function(tb){return tb.alignInHalo()})}},{key:"for",value:function(J,ta,Ta,tb){var Rb="Resize "+ta;J=J.getSubmorphNamed(Rb)||new this({name:Rb,halo:J,corner:ta,tooltip:"Resize "+ta,extent:Ja.pt(10,10),borderWidth:1,borderRadius:0,borderColor:J.target.isComponent?Ja.componentAccent:Ja.haloBlue,fill:Ja.Color.white});return Object.assign(J,{nativeCursor:tb,location:Ta})}}],hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:54496,end:59794})})(Ja.HaloItem);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("MenuHaloItem")&&"function"===typeof hb.MenuHaloItem?hb.MenuHaloItem:hb.MenuHaloItem=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,
sb,[{key:"onMouseDown",value:function(J){var ta=this,Ta,tb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rb){if(1==Rb.nextAddress)return Ta=ta.halo.target,ta.halo.remove(),Rb.yield(Ta.menuItems(J),2);tb=Rb.yieldResult;Ta.world().openMenu(tb).hasFixedPosition=ta.halo.hasFixedPosition;Rb.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"MenuHaloItem"}},{key:"morphName",get:function(){return"menu"}},{key:"properties",get:function(){return{draggable:{defaultValue:!1},
tooltip:{defaultValue:"Opens the morph menu"},styleClasses:{defaultValue:["fas","fa-bars"]}}}}],hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:59796,end:60321})})(Ja.HaloItem);var Hb=Ia("M",function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("MorphHighlighter")&&
"function"===typeof hb.MorphHighlighter?hb.MorphHighlighter:hb.MorphHighlighter=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"alignWithHalo",value:function(){this.target&&(this.position=this.halo.localize(this.target.globalBounds().topLeft()),this.halo.isWorld&&(this.position=this.position.subPt(this.halo.scroll)),this.extent=this.target.globalBounds().extent(),this.get("name tag").value=this.target.name,
this.get("name tag").topCenter=this.innerBounds().insetBy(-10).bottomCenter())}},{key:"show",value:function(){if(this.target&&this.target.layout&&this.showLayout&&(this.layoutHalo=this.layoutHalo||this.world().showLayoutHaloFor(this.target,this.pointerId))&&this.layoutHalo.previewDrop){this.visible=!1;this.alignWithHalo();this.halo.get("grab").hand.grabbedMorphs&&this.layoutHalo.previewDrop(this.halo.get("grab").hand.grabbedMorphs);return}this.visible=!0;this.alignWithHalo()}},{key:"handleDrop",value:function(J){this.layoutHalo&&
this.layoutHalo.handleDrop(J)}},{key:"deactivate",value:function(){this.layoutHalo&&(this.layoutHalo.remove(),this.layoutHalo=null);this.visible=!1;this.alignWithHalo();this.remove()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"MorphHighlighter"}},{key:"properties",get:function(){return{draggable:{defaultValue:!1},name:{defaultValue:"morphHighlighter"},styleClasses:{defaultValue:["inactive"]},reactsToPointer:{defaultValue:!1},hasFixedPosition:{defaultValue:!0},fill:{defaultValue:Ja.Color.orange.withA(.3)},
borderWidth:{defaultValue:2},borderColor:{defaultValue:Ja.Color.orange},halo:{},epiMorph:{defaultValue:!0},isHighlighter:{readOnly:!0,defaultValue:!0},acceptsDrops:{get:function(){return!!this.layoutHalo}},highlightedSides:{defaultValue:[],set:function(J){var ta=this;this.setProperty("highlightedSides",J);this.submorphs=J.map(function(Ta){return{type:"ellipse",isHaloItem:!0,fill:Ja.Color.orange,center:ta.innerBounds()[Ta]()}});this.addMorph({type:"label",name:"name tag",padding:Ja.Rectangle.inset(5,
5,5,5),fontColor:Ja.Color.white,fill:Ja.Color.orange,borderRadius:3});this.alignWithHalo()}},showLayout:{defaultValue:!1},targetId:{},target:{readOnly:!0,derived:!0,get:function(){return(this.world()||this.env.world).getMorphWithId(this.targetId)}}}}},{key:"removeHighlighters",value:function(J){J=void 0===J?$world:J;var ta=J._morphHighlighters,Ta;for(Ta in ta)ta[Ta].remove();delete J._morphHighlighters}},{key:"for",value:function(J,ta,Ta,tb){Ta=void 0===Ta?!1:Ta;tb=void 0===tb?[]:tb;var Rb=J._morphHighlighters=
J._morphHighlighters||{};Ja.properties.forEachOwn(Rb,function(mc,Zb){return Zb.alignWithHalo()});if(!ta||ta.ownerChain().find(function(mc){return mc.isHaloItem}))return null;Rb[ta.id]=Rb[ta.id]||new this({targetId:ta.id,halo:J,showLayout:Ta});J.addMorph(Rb[ta.id]);Rb[ta.id].highlightedSides=tb;return Rb[ta.id]}},{key:"interceptDrop",value:function(J,ta,Ta){(J=J._morphHighlighters=J._morphHighlighters||{},J[ta.id])&&J[ta.id].handleDrop(Ta)}}],hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:60510,end:64305})}(Ja.Morph));Ja.MorphHighlighter=Hb;Ja.MorphHighlighter=Hb;Ja.MorphHighlighter=Hb;var Oc=Ia("I",function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/morph.js"),Ba=hb.hasOwnProperty("InteractiveMorphSelector")&&"function"===typeof hb.InteractiveMorphSelector?hb.InteractiveMorphSelector:hb.InteractiveMorphSelector=function(J){J&&
J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:Symbol.for("lively-instance-initialize"),value:function(J,ta,Ta){J=void 0===J?$world:J;this.controllingMorph=void 0===ta?null:ta;this.possibleTarget=this.morphHighlighter=this.selectorMorph=null;this.world=J;this.filterFn=Ta;this.whenDone=null}},{key:"selectNewTarget",value:function(){this.targetObject=null;var J=Ja.promise.deferred();J.promise.resolve=J.resolve;this.whenDone=
J.promise;this.selectorMorph=Ja.Icon.makeLabel("crosshairs",{fontSize:20,hasFixedPosition:!0,epiMorph:!0}).openInWorld();Ja.connect(this.world.firstHand,"position",this,"scanForTargetAt");Ja.once(this.selectorMorph,"onMouseUp",this,"selectTarget");Ja.once(this.selectorMorph,"onKeyDown",this,"stopSelect");this.selectorMorph.focus();this.scanForTargetAt(this.world.firstHand.position)}},{key:"scanForTargetAt",value:function(){var J=this.world.firstHand.globalPosition;this.selectorMorph.center=J;this.selectorMorph.focus();
var ta=this.selectorMorph.morphBeneath(J),Ta,tb=this.possibleTarget,Rb=this.controllingMorph,mc=this.filterFn,Zb=this.world,Rc=this.morphHighlighter;for(Rc==ta?ta=Rc.morphBeneath(J):ta&&ta.isEpiMorph&&(ta=ta.morphBeneath(J));ta&&(Ta=[ta].concat($jscomp.arrayFromIterable(ta.ownerChain())).find(function(Sc){return!Sc.visible}));)ta=Ta=Ta.morphBeneath(J);if(ta&&mc&&!mc(ta))for(;ta&&![ta].concat($jscomp.arrayFromIterable(ta.ownerChain())).find(mc);)ta=ta.morphBeneath(J);!ta||ta==tb||Rb&&ta.ownerChain().includes(Rb.getWindow())||
(Rc&&Rc.deactivate(),(this.possibleTarget=tb=ta)&&!tb.isWorld&&(J=this.morphHighlighter=Ja.MorphHighlighter.for(Zb,ta))&&J.show())}},{key:"selectTarget",value:function(){this.targetObject=this.possibleTarget;this.stopSelect()}},{key:"stopSelect",value:function(){Ja.MorphHighlighter.removeHighlighters(this.world);Ja.disconnect(this.world.firstHand,"position",this,"scanForTargetAt");this.selectorMorph.remove();this.whenDone&&this.whenDone.resolve(this.targetObject)}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"InteractiveMorphSelector"}},{key:"selectMorph",value:function(J,ta,Ta){J=new this(J,ta,Ta);J.selectNewTarget();return J.whenDone}}],hb,{pathInPackage:function(){return"morph.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:64314,end:67067})}(void 0));Ja.InteractiveMorphSelector=Oc;Ja.InteractiveMorphSelector=
Oc;Ja.InteractiveMorphSelector=Oc;Ja.default=Xb;var qb=lively.FreezerRuntime.recorderFor("lively.ide/index.js");qb.info="import via sub modules";qb.info="import via sub modules";qb.info="import via sub modules";Xb=Ia("v",{});qb.valueWidgets=Xb;qb.valueWidgets=Xb;qb.valueWidgets=Xb;var xd=Ia("p",{});qb.popovers=xd;qb.popovers=xd;qb.popovers=xd;var he=lively.FreezerRuntime.recorderFor("lively.components/popup.js");he.Morph=Rd;he.VerticalLayout=Cb;he.StyleSheet=ob;he.Icon=Fd;he.CustomLayout=bc;he.Color=
Vb;he.rect=oc;he.pt=vb;he.connect=Dc;he.Path=Cc;he.duration=300;qb=Ia("P",function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.components/popup.js"),Ba=hb.hasOwnProperty("Popover")&&"function"===typeof hb.Popover?hb.Popover:hb.Popover=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"relayout",value:function(J){var ta=this.get("body"),Ta=this.get("arrow"),tb=this.get("close button");Ta=Ta.height;
J?(ta.animate({topCenter:he.pt(0,Ta),duration:200}),tb.animate({topRight:ta.topRight.addXY(8,-8),duration:200})):(ta.topCenter=he.pt(0,Ta),tb.topRight=ta.topRight.addXY(8,-8))}},{key:"close",value:function(){this.fadeOut(300)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"Popover"}},{key:"properties",get:function(){return{epiMorph:{defaultValue:!0},hasFixedPosition:{defaultValue:!0},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/popover/light"}}},targetMorph:{derived:!0,
after:["submorphs"],defaultValue:{extent:he.pt(200,200),fill:he.Color.transparent,submorphs:[{name:"placeholder",type:"label",value:"No Target Specified"}]},get:function(){return this.get("body").submorphs[0]},set:function(J){var ta=this;this.get("body").addMorph(J);this.whenRendered().then(function(){return ta.relayout()})}},submorphs:{initialize:function(){var J=this;this.submorphs=[{type:"polygon",name:"arrow",topCenter:he.pt(0,0),borderColor:he.Color.transparent,vertices:[he.pt(-10,0),he.pt(0,
-15),he.pt(10,0)]},{name:"body"},{name:"close button",type:"button",label:Object.assign(he.Icon.makeLabel("times-circle"),{fontSize:18}),tooltip:"close",fill:null,extent:he.pt(16,16),borderColor:he.Color.transparent}];var ta=$jscomp.makeIterator(this.submorphs);ta.next();var Ta=ta.next().value;ta=ta.next().value;he.connect(ta,"fire",this,"close");he.connect(Ta,"extent",this,"relayout",{converter:"() => target.animated"});setTimeout(function(){return J.animated=!0},1E3)}}}}}],hb,{pathInPackage:function(){return"popup.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.components",version:"0.1.0"}}},{start:247,end:2625})}(he.Morph));he.Popover=qb;he.Popover=qb;he.Popover=qb;var xc=lively.FreezerRuntime.recorderFor("lively.ide/value-widgets.js");xc.Morph=Rd;xc.TilingLayout=Ma;xc.morph=Eb;xc.Label=Xc;xc.HorizontalLayout=zc;xc.Icon=Fd;xc.InputLine=Db;xc.config=gb;xc.connect=Dc;xc.signal=
fb;xc.Color=Vb;xc.LinearGradient=hc;xc.pt=vb;xc.rect=oc;xc.num=Qc;xc.obj=Jc;xc.popovers=xd;xc.ValueScrubber=zb;xc.Popover=qb;(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.ide/value-widgets.js"),Ba=hb.hasOwnProperty("ContextSensitiveWidget")&&"function"===typeof hb.ContextSensitiveWidget?hb.ContextSensitiveWidget:hb.ContextSensitiveWidget=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,
void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ContextSensitiveWidget"}},{key:"properties",get:function(){return{fill:{defaultValue:xc.Color.transparent},isSelected:{defaultValue:"false",set:function(J){this.setProperty("isSelected",J);this.fontColor=J?xc.Color.white:xc.Color.black}},layout:{initialize:function(){this.layout=new xc.HorizontalLayout}},context:{serialize:!1}}}}],hb,{pathInPackage:function(){return"value-widgets.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:1872,end:2441})})(xc.Morph);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.ide/value-widgets.js"),Ba=hb.hasOwnProperty("ShortcutWidget")&&"function"===typeof hb.ShortcutWidget?hb.ShortcutWidget:hb.ShortcutWidget=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,
sb,[{key:"onMouseDown",value:function(J){this.openPopover()}},{key:"openPopover",value:function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(J){J.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShortcutWidget"}},{key:"properties",get:function(){return{title:{defaultValue:"No Title",after:["submorphs"],set:function(J){this.setProperty("title",J);this.getSubmorphNamed("valueString").value=J}},nativeCursor:{defaultValue:"pointer"},fontColor:{derived:!0,
set:function(J){this.submorphs.forEach(function(ta){return ta.fontColor=J})}},submorphs:{initialize:function(){this.submorphs=[xc.Icon.makeLabel("arrow-right",{styleClasses:["TreeLabel"],fontSize:15,padding:xc.rect(1,1,4,1)}),{type:"label",value:this.title,styleClasses:["TreeLabel"],fontWeight:"bold",name:"valueString",opacity:.8,borderRadius:5,padding:xc.rect(0,0,0,2),nativeCursor:"pointer",fontSize:12,borderWidth:0}]}}}}}],hb,{pathInPackage:function(){return"value-widgets.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2443,end:3793})})(xc.ContextSensitiveWidget);xd=function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.ide/value-widgets.js"),Ba=hb.hasOwnProperty("LayoutWidget")&&"function"===typeof hb.LayoutWidget?hb.LayoutWidget:hb.LayoutWidget=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return qc(Ba,sb,[{key:"layoutChanged",value:function(){this.title=this.context.layout?"Configure "+this.context.layout.name()+" Layout":"No Layout"}},{key:"openPopover",value:function(){var J=this,ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ta){if(1==Ta.nextAddress)return ta=new xc.popovers.LayoutPopover({hasFixedPosition:!!J.ownerChain().find(function(tb){return tb.hasFixedPosition}),container:J.context}),Ta.yield(ta.fadeIntoWorld(J.globalBounds().center()),2);xc.connect(ta,"layoutChanged",
J,"layoutChanged");xc.signal(J,"openWidget",ta);Ta.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LayoutWidget"}},{key:"properties",get:function(){return{title:{after:["submorphs"],initialize:function(){this.title=this.context&&this.context.layout?"Configure "+this.context.layout.name()+" Layout":"No Layout"}}}}}],hb,{pathInPackage:function(){return"value-widgets.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3802,end:4641})}(xc.ShortcutWidget);xc.LayoutWidget=xd;xc.LayoutWidget=xd;xc.LayoutWidget=xd;xd=function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.ide/value-widgets.js"),Ba=hb.hasOwnProperty("ColorWidget")&&"function"===typeof hb.ColorWidget?hb.ColorWidget:hb.ColorWidget=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"relayout",
value:function(J){J?this.submorphs=this.color?this.color.isGradient?this.renderGradientValue():this.renderColorValue():this.renderNoColor():this.color&&(this.color.isGradient?this.updateGradientValue():this.updateColorValue())}},{key:"updateGradientValue",value:function(){var J=this.color;if(2*J.stops.length==this.submorphs.length-3){var ta;for(ta in this.color.stops){var Ta=J.stops[ta];var tb=Ta.color,Rb=Ta.offset,mc=$jscomp.makeIterator(this.submorphs[2+2*ta].submorphs).next().value;Ta=this.submorphs[3+
2*ta];mc.fill=tb;Ta.value=(100*Rb).toFixed()+"%"+(ta<J.stops.length-1?",":"")}}else this.submorphs=this.renderGradientValue()}},{key:"renderGradientValue",value:function(){return[{type:"label",styleClasses:["TreeLabel"],value:this.color.type+"(",name:"valueString"}].concat($jscomp.arrayFromIterable(this.renderStops()),[{type:"label",styleClasses:["TreeLabel"],value:")"}])}},{key:"updateColorValue",value:function(){this.getSubmorphNamed("color box").fill=this.color;this.getSubmorphNamed("valueString").value=
xc.obj.safeToString(this.color)}},{key:"renderNoColor",value:function(){return[{extent:xc.pt(15,15),fill:xc.Color.transparent,submorphs:[{styleClasses:["colorValue"],name:"color box",center:xc.pt(5,7.5),fill:xc.Color.white,borderColor:xc.Color.gray.darker(),borderWidth:1,submorphs:[{type:"path",name:"no fill",vertices:[xc.pt(0,0),xc.pt(10,10)],borderColor:xc.Color.red}]}]},{type:"label",value:"No Color",fontSize:14,name:"valueString",styleClasses:["TreeLabel"]}]}},{key:"renderColorValue",value:function(){return[{extent:xc.pt(15,
15),fill:xc.Color.transparent,submorphs:[{styleClasses:["colorValue"],name:"color box",center:xc.pt(5,7.5),fill:this.color,borderColor:xc.Color.gray.darker(),nativeCursor:"pointer",borderWidth:1}]},{type:"label",value:xc.obj.safeToString(this.color),fontSize:14,name:"valueString",styleClasses:["TreeLabel"]}]}},{key:"renderStops",value:function(){var J=this.color,ta=[{type:"label",padding:xc.rect(0,0,5,0),value:"linearGradient"==J.type?xc.num.toDegrees(J.vectorAsAngle()).toFixed()+"\u00b0,":""}],Ta;
for(Ta in J.stops){var tb=J.stops[Ta],Rb=tb.color;tb=tb.offset;ta.push({extent:xc.pt(this.fontSize,this.fontSize),fill:xc.Color.transparent,layout:new xc.HorizontalLayout({spacing:3}),submorphs:[{styleClasses:["colorValue"],fill:Rb}]});ta.push({type:"label",padding:xc.rect(0,0,5,0),value:(100*tb).toFixed()+"%"+(Ta<J.stops.length-1?",":"")})}return ta}},{key:"onMouseDown",value:function(J){this.openFillEditor()}},{key:"update",value:function(J){this.color=J}},{key:"openFillEditor",value:function(){var J=
this,ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ta){if(1==Ta.nextAddress)return ta=new xc.popovers.FillPopover({hasFixedPosition:!!J.ownerChain().find(function(tb){return tb.hasFixedPosition}),handleMorph:J.context,fillValue:J.color,title:"Fill Control",gradientEnabled:J.gradientEnabled}),Ta.yield(ta.fadeIntoWorld(J.globalBounds().center()),2);xc.connect(ta,"fillValue",J,"update");xc.signal(J,"openWidget",ta);Ta.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorWidget"}},
{key:"properties",get:function(){return{layout:{initialize:function(){this.layout=new xc.HorizontalLayout({direction:"centered"})}},selectionFontColor:{defaultValue:xc.Color.white},nonSelectionFontColor:{defaultValue:xc.Color.black},color:{defaultValue:xc.Color.blue},gradientEnabled:{defaultValue:!1},fontSize:{defaultValue:14},isSelected:{after:["submorphs"],set:function(J){this.getProperty("isSelected")!=J&&(this.getSubmorphNamed("valueString").fontColor=J?this.selectionFontColor:this.nonSelectionFontColor,
this.setProperty("isSelected",J))}},submorphs:{after:["nonSelectionFontColor","selectionFontColor"],initialize:function(){xc.connect(this,"color",this,"relayout",{converter:function(J,ta){return(ta&&ta.isColor)!=(J&&J.isColor)}});this.relayout(!0)}}}}}],hb,{pathInPackage:function(){return"value-widgets.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},
{start:4705,end:10188})}(xc.ContextSensitiveWidget);xc.ColorWidget=xd;xc.ColorWidget=xd;xc.ColorWidget=xd;xd=function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.ide/value-widgets.js"),Ba=hb.hasOwnProperty("BooleanWidget")&&"function"===typeof hb.BooleanWidget?hb.BooleanWidget:hb.BooleanWidget=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"onMouseDown",value:function(J){this.boolean=!this.boolean}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"BooleanWidget"}},{key:"properties",get:function(){return{fontFamily:{defaultValue:xc.config.codeEditor.defaultStyle.fontFamily},nativeCursor:{defaultValue:"pointer"},boolean:{set:function(J){this.setProperty("boolean",J);this.value=xc.obj.safeToString(J);this.fontColor=this.boolean?xc.Color.green:xc.Color.red}}}}}],hb,{pathInPackage:function(){return"value-widgets.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:10197,end:10682})}(xc.Label);xc.BooleanWidget=xd;xc.BooleanWidget=xd;xc.BooleanWidget=xd;xd=Ia("N",function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.ide/value-widgets.js"),Ba=hb.hasOwnProperty("NumberWidget")&&"function"===typeof hb.NumberWidget?hb.NumberWidget:hb.NumberWidget=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return qc(Ba,sb,[{key:"onMouseDown",value:function(J){qc._get(Object.getPrototypeOf(Ba.prototype),"onMouseDown",this).call(this,J);"up"==J.targetMorph.name&&this.increment();"down"==J.targetMorph.name&&this.decrement()}},{key:"spec",value:function(){return xc.obj.dissoc(qc._get(Object.getPrototypeOf(Ba.prototype),"spec",this).call(this),["submorphs"])}},{key:"update",value:function(J,ta){ta=void 0===ta?!0:ta;this.setProperty("number",ta?J/this.scaleFactor:J);xc.signal(this,"number",this.number);
this.relayout(ta)}},{key:"relayoutButtons",value:function(){var J=this.getSubmorphNamed("up"),ta=this.getSubmorphNamed("down");this.getSubmorphNamed("value");J.height=ta.height=Math.floor(this.height/2);J.width=ta.width=20}},{key:"onChange",value:function(J){qc._get(Object.getPrototypeOf(Ba.prototype),"onChange",this).call(this,J);"extent"!=J.prop||this.autofit||this.relayout()}},{key:"relayout",value:function(J){var ta=this.getSubmorphNamed("value"),Ta=this.showStepControls?20:0;ta&&(this.autofit?
(J||(ta.value=this.number*this.scaleFactor),ta.fit(),this.height=ta.height,this.width=ta.width+Ta):J||(ta.width=this.width-Ta),this.relayoutButtons(),J||(ta.value=xc.num.roundTo(this.number*this.scaleFactor,1),ta.min=-Infinity!=this.min?this.min*this.scaleFactor:this.min,ta.max=Infinity!=this.max?this.max*this.scaleFactor:this.max,ta.unit=this.unit))}},{key:"increment",value:function(){void 0!=this.max&&this.number>=this.max||this.update(this.number+1/this.scaleFactor,!1)}},{key:"decrement",value:function(){void 0!=
this.min&&this.number<=this.min||this.update(this.number-1/this.scaleFactor,!1)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"NumberWidget"}},{key:"properties",get:function(){return{unit:{type:"Enum",isStyleProp:!0,values:["px","%","pt",""]},autofit:{defaultValue:!0,after:["submorphs","extent"],set:function(J){this.setProperty("autofit",J);this.getSubmorphNamed("value").scaleToBounds=!J}},number:{defaultValue:0,after:["unit","autofit"],set:function(J){this.setProperty("number",
J);this.relayout(!1)}},min:{defaultValue:-Infinity},max:{defaultValue:Infinity},floatingPoint:{after:["number","submorphs"],set:function(J){this.setProperty("floatingPoint",J);this.get("value").floatingPoint=J},get:function(){if("undefined"!==typeof this.getProperty("floatingPoint"))return this.getProperty("floatingPoint");var J=/[+-]?([0-9]*[.])?[0-9]+/.exec(this.number);return 1==this.scaleFactor&&J&&!!J[1]}},padding:{isStyleProp:!0,defaultValue:xc.rect(5,3,0,0),after:["submorphs"],set:function(J){this.setProperty("padding",
J);this.getSubmorphNamed("value").padding=J}},extent:{defaultValue:xc.pt(70,25)},scaleFactor:{defaultValue:1,get:function(){return this.getProperty("scaleFactor")||1}},baseFactor:{after:["submorphs"],derived:!0,get:function(){return this.get("value").baseFactor},set:function(J){this.get("value").baseFactor=J}},styleClasses:{defaultValue:["unfocused"]},master:{initialize:function(){var J=this;this.master={auto:"styleguide://SystemWidgets/number field/light"};this.master.whenApplied().then(function(){J.relayout()})}},
fontColor:{isStyleProp:!0,defaultValue:xc.Color.rgbHex("#0086b3"),set:function(J){this.setProperty("fontColor",J)}},isSelected:{set:function(J){this.getProperty("isSelected")!=J&&(J?(this.addStyleClass("selected"),this.removeStyleClass("unselected")):(this.removeStyleClass("selected"),this.addStyleClass("unselected")),this.setProperty("isSelected",J))}},fontFamily:{defaultValue:"Sans-Serif",isStyleProp:!0,set:function(J){this.setProperty("fontFamily",J)}},fontSize:{defaultValue:15,isStyleProp:!0,
set:function(J){this.setProperty("fontSize",J)}},layout:{initialize:function(){this.layout=new xc.TilingLayout({axis:"column",orderByIndex:!0,align:"center"})}},showStepControls:{derived:!0,get:function(){return this.getSubmorphNamed("up").visible&&this.getSubmorphNamed("down").visible},set:function(J){this.clipMode=(this.getSubmorphNamed("up").visible=this.getSubmorphNamed("down").visible=J)?"visible":"hidden"}},submorphs:{after:["min","max"],initialize:function(J){0<J.length||(this.submorphs=[new xc.ValueScrubber({name:"value",
unit:this.unit,floatingPoint:this.floatingPoint,scaleToBounds:!1,min:this.min,max:this.max}),{name:"up",submorphs:[xc.Icon.makeLabel("sort-up",{reactsToPointer:!1,name:"icon"})]},{name:"down",rotation:Math.PI,submorphs:[xc.Icon.makeLabel("sort-up",{reactsToPointer:!1,name:"icon"})]}])}}}}}],hb,{pathInPackage:function(){return"value-widgets.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:10691,end:17485})}(xc.Morph));xc.NumberWidget=xd;xc.NumberWidget=xd;xc.NumberWidget=xd;qb=function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.ide/value-widgets.js"),Ba=hb.hasOwnProperty("ShadowWidget")&&"function"===typeof hb.ShadowWidget?hb.ShadowWidget:hb.ShadowWidget=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"onMouseDown",value:function(J){this.openPopover()}},
{key:"openPopover",value:function(){var J=this,ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ta){if(1==Ta.nextAddress)return ta=new xc.popovers.ShadowPopover({hasFixedPosition:!!J.ownerChain().find(function(tb){return tb.hasFixedPosition}),shadowValue:J.shadowValue}),Ta.yield(ta.fadeIntoWorld(J.globalBounds().center()),2);xc.connect(ta,"shadowValue",J,"shadowValue");xc.connect(J,"shadowValue",J,"update");xc.signal(J,"openWidget",ta);Ta.jumpToEnd()})}},{key:"update",value:function(){this.renderShadowDisplay()}},
{key:"renderShadowDisplay",value:function(){this.shadowValue?1<this.submorphs.length?this.updateShadowDisplay():this.initShadowDisplay():this.submorphs=[{opacity:.8,reactsToPointer:!1,styleClasses:["TreeLabel"],name:"valueString",type:"label",value:"No Shadow"}]}},{key:"updateShadowDisplay",value:function(){var J=this.shadowValue,ta=J.blur,Ta=J.spread,tb=J.distance;J=J.color;var Rb=$jscomp.makeIterator(this.submorphs),mc=Rb.next().value,Zb=Rb.next().value;Zb=$jscomp.makeIterator(Zb.submorphs).next().value;
Rb=Rb.next().value;mc.value=(this.shadowValue.inset?"inset":"drop")+"-shadow(";Zb.fill=J;Rb.value=", "+ta+"px, "+tb+"px, "+Ta+"px)"}},{key:"initShadowDisplay",value:function(){var J=this.shadowValue,ta=J.blur,Ta=J.spread,tb=J.distance;J=J.color;this.submorphs=[{name:"valueString",opacity:.7,reactsToPointer:!1,type:"label",value:(this.shadowValue.inset?"inset":"drop")+"-shadow("},xc.morph({fill:xc.Color.transparent,extent:xc.pt(this.fontSize+6,this.fontSize+4),submorphs:[{extent:xc.pt(this.fontSize,
this.fontSize),position:xc.pt(2,2),fill:J,borderColor:xc.Color.black,borderWidth:1}]}),{name:"valueString",type:"label",opacity:.7,reactsToPointer:!1,value:", "+ta+"px, "+tb+"px, "+Ta+"px)"}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowWidget"}},{key:"properties",get:function(){return{shadowValue:{after:["submorphs"],defaultValue:null,set:function(J){this.setProperty("shadowValue",J);this.renderShadowDisplay()}},fill:{defaultValue:xc.Color.transparent},nativeCursor:{defaultValue:"pointer"},
fontSize:{defaultValue:12},fontColor:{derived:!0,set:function(J){this.submorphs.forEach(function(ta){return ta.fontColor=J})}},isSelected:{defaultValue:!1,set:function(J){this.setProperty("isSelected",J);this.fontColor=J?xc.Color.white:xc.Color.black}},layout:{initialize:function(){this.layout=new xc.HorizontalLayout}},submorphs:{initialize:function(){this.update()}}}}}],hb,{pathInPackage:function(){return"value-widgets.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:17496,end:20619})}(xc.Morph);xc.ShadowWidget=qb;xc.ShadowWidget=qb;xc.ShadowWidget=qb;qb=function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.ide/value-widgets.js"),Ba=hb.hasOwnProperty("PointWidget")&&"function"===typeof hb.PointWidget?hb.PointWidget:hb.PointWidget=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return qc(Ba,sb,[{key:"onMouseDown",value:function(J){this.openPopover()}},{key:"openPopover",value:function(){var J=this,ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ta){if(1==Ta.nextAddress)return ta=new xc.popovers.PointPopover({pointValue:J.pointValue,hasFixedPosition:!!J.ownerChain().find(function(tb){return tb.hasFixedPosition})}),Ta.yield(ta.fadeIntoWorld(J.globalBounds().center()),2);xc.connect(ta,"pointValue",J,"pointValue");xc.signal(J,"openWidget",ta);Ta.jumpToEnd()})}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"PointWidget"}},{key:"properties",get:function(){return{isSelected:{defaultValue:"false",set:function(J){this.setProperty("isSelected",J);this.fontColor=J?this.selectionFontColor:this.nonSelectionFontColor}},selectionFontColor:{isStyleProp:!0,defaultValue:xc.Color.white},nonSelectionFontColor:{isStyleProp:!0,defaultValue:xc.Color.black},fontFamily:{defaultValue:xc.config.codeEditor.defaultStyle.fontFamily},nativeCursor:{defaultValue:"pointer"},
styleClasses:{defaultValue:["TreeLabel"]},pointValue:{after:["textAndAttributes"],set:function(J){var ta=xc.Color.rgbHex("#0086b3");this.setProperty("pointValue",J);this.textAndAttributes=["pt(",null,J.x.toFixed(),{fontColor:ta},",",{},J.y.toFixed(),{fontColor:ta},")",null];this.fixedHeight=this.fixedWidth=!0;this.height=20;this.width=this.textString.length*this.fontSize}}}}}],hb,{pathInPackage:function(){return"value-widgets.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:20628,end:22272})}(xc.Label);xc.PointWidget=qb;xc.PointWidget=qb;xc.PointWidget=qb;qb=function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.ide/value-widgets.js"),Ba=hb.hasOwnProperty("PaddingWidget")&&"function"===typeof hb.PaddingWidget?hb.PaddingWidget:hb.PaddingWidget=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return qc(Ba,sb,[{key:"onMouseDown",value:function(J){this.openPopover()}},{key:"openPopover",value:function(){var J=this,ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ta){if(1==Ta.nextAddress)return ta=new xc.popovers.RectanglePopover({hasFixedPosition:!!J.ownerChain().find(function(tb){return tb.hasFixedPosition}),rectangle:J.rectangle}),ta.relayout(),Ta.yield(ta.fadeIntoWorld(J.globalBounds().center()),2);xc.connect(ta,"rectangle",J,"rectangle");xc.signal(J,"openWidget",
ta);Ta.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"PaddingWidget"}},{key:"properties",get:function(){return{nativeCursor:{defaultValue:"pointer"},styleClasses:{defaultValue:["TreeLabel"]},fontFamily:{defaultValue:xc.config.codeEditor.defaultStyle.fontFamily},isSelected:{defaultValue:"false",set:function(J){this.setProperty("isSelected",J);this.fontColor=J?xc.Color.white:xc.Color.black}},rectangle:{defaultValue:xc.rect(0),set:function(J){this.setProperty("rectangle",
J);this.value=xc.obj.safeToString(J)}}}}}],hb,{pathInPackage:function(){return"value-widgets.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:22281,end:23342})}(xc.Label);xc.PaddingWidget=qb;xc.PaddingWidget=qb;xc.PaddingWidget=qb;qb=function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.ide/value-widgets.js"),Ba=hb.hasOwnProperty("IconWidget")&&
"function"===typeof hb.IconWidget?hb.IconWidget:hb.IconWidget=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"onMouseDown",value:function(J){this.openPopover()}},{key:"openPopover",value:function(){var J=this,ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ta){if(1==Ta.nextAddress)return ta=new xc.popovers.IconPopover({hasFixedPosition:!!J.ownerChain().find(function(tb){return tb.hasFixedPosition})}),
Ta.yield(ta.fadeIntoWorld(J.globalBounds().center()),2);xc.connect(ta,"select",J,"iconValue",{converter:function(tb){return tb&&xc.Icon.makeLabel(tb).value},varMapping:{Icon:xc.Icon}});xc.signal(J,"openWidget",ta);Ta.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"IconWidget"}},{key:"properties",get:function(){return{fontColor:{defaultValue:xc.Color.gray.darker()},fontFamily:{defaultValue:"FontAwesome"},nativeCursor:{defaultValue:"pointer"},iconValue:{derived:!0,get:function(){return this.value},
set:function(J){this.value=J||"No Icon"}}}}}],hb,{pathInPackage:function(){return"value-widgets.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:23351,end:24282})}(xc.Label);xc.IconWidget=qb;xc.IconWidget=qb;xc.IconWidget=qb;qb=function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.ide/value-widgets.js"),Ba=hb.hasOwnProperty("StringWidget")&&
"function"===typeof hb.StringWidget?hb.StringWidget:hb.StringWidget=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"truncate",value:function(J){return 200<J.length?J.slice(0,20)+"...":J}},{key:"onFocus",value:function(J){var ta=this,Ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tb){if(1==tb.nextAddress)return qc._get(Object.getPrototypeOf(Ba.prototype),"onFocus",ta).call(ta,J),ta.readOnly?
tb.return():ta.stringTooLong?tb.yield(ta.world().editPrompt("edit string",{requester:ta,input:ta.stringValue}),2):(ta.borderColor=xc.Color.white.withA(.9),ta.textString=ta.stringValue,tb.return());Ta=tb.yieldResult;if("string"===typeof Ta)ta.onInput(Ta);tb.jumpToEnd()})}},{key:"onBlur",value:function(J){qc._get(Object.getPrototypeOf(Ba.prototype),"onBlur",this).call(this,J);this.readOnly||(this.borderColor=xc.Color.transparent,this.onInput(this.textString))}},{key:"onInput",value:function(J){this.owner.focus();
xc.signal(this,"inputAccepted",J);this.stringValue=J}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StringWidget"}},{key:"properties",get:function(){return{fill:{defaultValue:xc.Color.transparent},fontColor:{defaultValue:xc.Color.blue},nativeCursor:{defaultValue:"auto"},borderColor:{defaultValue:xc.Color.transparent},borderStyle:{defaultValue:"dashed"},borderRadius:{defaultValue:4},borderWidth:{defaultValue:1},padding:{defaultValue:xc.rect(0,0,0,0)},fixedWidth:{defaultValue:!1},
fixedHeight:{defaultValue:!1},stringValue:{after:["textString"],set:function(J){this.setProperty("stringValue",J);this.textString=this.truncate(J);this.nativeCursor=this.stringTooLong?"pointer":"auto"}},stringTooLong:{readOnly:!0,get:function(){return this.stringValue.includes("\n")}},isSelected:{defaultValue:"false",set:function(J){this.setProperty("isSelected",J);this.fontColor=J?xc.Color.white:xc.Color.blue}}}}}],hb,{pathInPackage:function(){return"value-widgets.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:24291,end:26242})}(xc.InputLine);xc.StringWidget=qb;xc.StringWidget=qb;xc.StringWidget=qb;xc.valueWidgets=Xb;Object.assign(xc.valueWidgets,{NumberWidget:xc.NumberWidget,StringWidget:xc.StringWidget,IconWidget:xc.IconWidget,PaddingWidget:xc.PaddingWidget,ShadowWidget:xc.ShadowWidget,PointWidget:xc.PointWidget,BooleanWidget:xc.BooleanWidget,LayoutWidget:xc.LayoutWidget,
ColorWidget:xc.ColorWidget});var rb=lively.FreezerRuntime.recorderFor("lively.halos/layout.js");rb.Ellipse=ec;rb.Icon=Fd;rb.Morph=Rd;rb.Path=Tc;rb.Text=ed;rb.HorizontalLayout=zc;rb.VerticalLayout=Cb;rb.morph=Eb;rb.Color=Vb;rb.pt=vb;rb.rect=oc;rb.Rectangle=tc;rb.arr=jb;rb.connect=Dc;rb.disconnect=Ab;rb.LabeledCheckBox=rc;rb.DropDownSelector=Qb;rb.Button=Lb;rb.Menu=Kb;rb.NumberWidget=xd;rb.InteractiveMorphSelector=Oc;rb.easings=sc;(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/layout.js"),
Ba=hb.hasOwnProperty("AxisHalo")&&"function"===typeof hb.AxisHalo?hb.AxisHalo:hb.AxisHalo=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:Symbol.for("lively-instance-initialize"),value:function(J){var ta=J.halo;J=J.targetAxis;qc._get(Object.getPrototypeOf(Ba.prototype),Symbol.for("lively-instance-initialize"),this).call(this,{fill:rb.Color.transparent,halo:ta,targetAxis:J,container:ta.container});
this.initialize()}},{key:"initialize",value:function(){this.setBounds(this.fetchBounds());this.minSlider=this.minSlider();this.axisMenu=this.axisMenu();this.proportionSlider=this.proportionSlider();this.proportionSlider.addMorph(this.minSlider);this.submorphs=[this.proportionSlider,this.axisMenu];this.halo.addGuide(this)}},{key:"forceMenuHidden",set:function(J){this._forceMenuHidden=J;this.axisMenu.visible=!J}},{key:"forceMenuHidden",get:function(){return this._forceMenuHidden}},{key:"lastAxis",get:function(){return!this.targetAxis.after}},
{key:"fetchBounds",value:function(){return this.fetchPosition().extent(this.fetchExtent())}},{key:"alignWithTarget",value:function(){this.extent=this.fetchExtent();this.position=this.fetchPosition();this.proportionSlider.alignWithTarget();this.axisMenu.alignWithTarget()}},{key:"onHoverIn",value:function(){this.minSlider.requestToShow();this.axisMenu.visible=!this.forceMenuHidden&&!0}},{key:"onHoverOut",value:function(J){this.minSlider.requestToHide();this.axisMenu.visible=this.forceMenuVisible||!1}},
{key:"proportionSlider",value:function(){var J=this,ta=this,Ta=this.proportionViewer();return this.halo.addGuide(new rb.Morph({nativeCursor:this.getResizeCursor(),fill:rb.Color.transparent,submorphs:[this.devider(),Ta],alignWithTarget:function(){this.setBounds(ta.getProportionSliderBounds(this))},onDragStart:function(){Ta.visible=!0},onDrag:function(tb){J.adjustStretch(J.getDelta(tb));J.halo.alignWithTarget()},onDragEnd:function(){Ta.visible=!1}}))}},{key:"devider",value:function(){return new rb.Morph({visible:!this.lastAxis,
fill:rb.Color.black.withA(.5),bounds:this.getDeviderBounds(),draggable:!1,reactsToPointer:!1})}},{key:"minSlider",value:function(){var J=this,ta=this,Ta=this.minSpaceVisualizer(),tb=this.minViewer();return this.halo.addGuide(new rb.Ellipse({nativeCursor:this.getResizeCursor(),fill:rb.Color.green,extent:rb.pt(10,10),visible:!1,submorphs:[Ta,tb],becomesActiveOnHover:!0,alignWithTarget:function(){this.position=ta.getMinSliderPosition()},requestToShow:function(){this.visible=!ta.targetAxis.fixed},requestToHide:function(){this.active?
this.shouldHide=!0:this.visible=!1},onDragStart:function(){ta.forceMenuHidden=!0;tb.visible=!0;this.active=Ta.visible=!0},onDrag:function(Rb){J.targetAxis.min+=-J.getDelta(Rb);J.halo.alignWithTarget()},onDragEnd:function(){ta.forceMenuHidden=!1;tb.visible=!1;this.active=Ta.visible=!1;this.shouldHide&&(this.shouldHide=this.visible=!1)}}))}},{key:"minViewer",value:function(){var J=this;return this.viewer({position:this.getMinViewerPosition(),alignWithTarget:function(){this.textString="min: "+J.targetAxis.min.toFixed()+
"px !"}})}},{key:"minSpaceBorder",value:function(){return new rb.Path(Object.assign({position:rb.pt(-1,-1),borderStyle:"dashed",borderColor:rb.Color.green,borderWidth:2},this.getMinSpaceBorder()))}},{key:"minSpaceVisualizer",value:function(){var J=this,ta=this.minSpaceBorder();return this.halo.addGuide(new rb.Morph({fill:rb.Color.green.withA(.1),visible:!1,isHaloItem:!0,submorphs:[ta],alignWithTarget:function(){this.extent=J.getMinSpaceExtent();this.topLeft=rb.pt(5,5)}}))}},{key:"axisMenu",value:function(){var J=
this.lockButton(),ta=this.menuButton(),Ta=this;return new rb.Morph({layout:this.getMenuLayout(),submorphs:[J,ta],fill:rb.Color.transparent,visible:!1,becomesActiveOnHover:!0,alignWithTarget:function(){this.bottomRight=this.owner.extent.subPt(Ta.getMenuOffset(this))}})}},{key:"lockButton",value:function(){var J=this;return this.halo.addGuide(new rb.Morph({fill:rb.Color.transparent,extent:rb.pt(25,25),submorphs:[{center:rb.pt(12.5,12.5),fill:rb.Color.transparent,styleClasses:["fa","fa-unlock"]}],alignWithTarget:function(){J.targetAxis.fixed?
(this.fontColor=rb.Color.red,this.submorphs[0].styleClasses=["fa","fa-lock"]):(this.fontColor=rb.Color.green,this.submorphs[0].styleClasses=["fa","fa-unlock"])},onMouseDown:function(){this.toggleLock()},toggleLock:function(){J.targetAxis.fixed=!J.targetAxis.fixed;J.halo.alignWithTarget()}}))}},{key:"menuButton",value:function(){var J=this,ta=this;return new rb.Morph({fill:rb.Color.transparent,extent:rb.pt(25,25),submorphs:[{fill:rb.Color.transparent,styleClasses:["fa","fa-cog"],center:rb.pt(12.5,
12.5)}],onMouseDown:function(Ta){ta.forceMenuVisible=!0;this.addMorph(Ta.state.menu=new rb.Menu({position:rb.pt(15,15),items:[["Remove "+ta.subject,function(){J.targetAxis.remove();J.halo.initGuides();J.halo.alignWithTarget()}],["Insert "+ta.subject+" before",function(){J.targetAxis.addBefore();J.halo.initGuides();J.halo.alignWithTarget()}],["Insert "+ta.subject+" after",function(){J.targetAxis.addAfter();J.halo.initGuides();J.halo.alignWithTarget()}]]}))}})}},{key:"viewer",value:function(J){var ta=
J.position;J=J.alignWithTarget;return this.halo.addGuide(new rb.Text({styleClasses:["Halo"],padding:rb.Rectangle.inset(6),visible:!1,borderRadius:10,fontColor:rb.Color.white,fill:rb.Color.black.withA(.5),position:ta,alignWithTarget:J,readOnly:!0}))}},{key:"proportionViewer",value:function(){var J=this;return this.viewer({position:this.getProportionViewerPosition(),alignWithTarget:function(){this.textString=J.targetAxis.length.toFixed(1)+"px"}})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"AxisHalo"}}],
hb,{pathInPackage:function(){return"layout.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:662,end:8012})})(rb.Morph);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/layout.js"),Ba=hb.hasOwnProperty("RowHalo")&&"function"===typeof hb.RowHalo?hb.RowHalo:hb.RowHalo=function(J){J&&J[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:Symbol.for("lively-instance-initialize"),value:function(J){var ta=J.row;J=J.halo;qc._get(Object.getPrototypeOf(Ba.prototype),Symbol.for("lively-instance-initialize"),this).call(this,{targetAxis:J.target.row(ta),halo:J})}},{key:"subject",get:function(){return"row"}},{key:"adjustStretch",value:function(J){this.targetAxis.height+=J}},{key:"getDelta",value:function(J){return J.state.dragDelta.y}},{key:"axisOffset",
value:function(){return this.targetAxis.origin.position.y}},{key:"fetchPosition",value:function(){return rb.pt(-45,this.axisOffset()+10)}},{key:"fetchExtent",value:function(){return rb.pt(40,this.targetAxis.length-10)}},{key:"getMenuOffset",value:function(J){return this.targetAxis.length>J.height?rb.pt(2,5):rb.pt(26,10)}},{key:"getMenuLayout",value:function(){return new rb.VerticalLayout}},{key:"getResizeCursor",value:function(){return"row-resize"}},{key:"getMinViewerPosition",value:function(){return rb.pt(50,
20)}},{key:"getMinSliderPosition",value:function(){return rb.pt(0,-this.targetAxis.min)}},{key:"getMinSpaceExtent",value:function(){return rb.pt(this.container.width+45,this.targetAxis.min)}},{key:"getMinSpaceBorder",value:function(){return{extent:rb.pt(this.container.width+50,2),vertices:[rb.pt(0,1),rb.pt(this.container.width+50,1)]}}},{key:"getProportionViewerPosition",value:function(){return rb.pt(40,20)}},{key:"getProportionSliderBounds",value:function(J){return rb.pt(0,J.owner.height-5).extent(rb.pt(40,
10))}},{key:"getDeviderBounds",value:function(){return rb.pt(15,4).extent(rb.pt(25,2))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RowHalo"}}],hb,{pathInPackage:function(){return"layout.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:8014,end:9262})})(rb.AxisHalo);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/layout.js"),
Ba=hb.hasOwnProperty("ColumnHalo")&&"function"===typeof hb.ColumnHalo?hb.ColumnHalo:hb.ColumnHalo=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:Symbol.for("lively-instance-initialize"),value:function(J){var ta=J.col;J=J.halo;qc._get(Object.getPrototypeOf(Ba.prototype),Symbol.for("lively-instance-initialize"),this).call(this,{targetAxis:J.target.col(ta),halo:J})}},{key:"subject",get:function(){return"column"}},
{key:"adjustStretch",value:function(J){this.targetAxis.width+=J}},{key:"getDelta",value:function(J){return J.state.dragDelta.x}},{key:"axisOffset",value:function(){return this.targetAxis.origin.position.x}},{key:"fetchPosition",value:function(){return rb.pt(this.axisOffset()+10,-45)}},{key:"fetchExtent",value:function(){return rb.pt(this.targetAxis.length-10,40)}},{key:"getMenuOffset",value:function(J){return this.targetAxis.length>J.width?rb.pt(5,3):rb.pt(8,26)}},{key:"getMenuLayout",value:function(){return new rb.HorizontalLayout}},
{key:"getResizeCursor",value:function(){return"col-resize"}},{key:"getMinViewerPosition",value:function(){return rb.pt(20,50)}},{key:"getMinSliderPosition",value:function(){return rb.pt(-this.targetAxis.min,0)}},{key:"getMinSpaceExtent",value:function(){return rb.pt(this.targetAxis.min,this.container.height+45)}},{key:"getMinSpaceBorder",value:function(){return{extent:rb.pt(2,this.container.height+50),vertices:[rb.pt(1,0),rb.pt(1,this.container.height+50)]}}},{key:"getProportionViewerPosition",value:function(){return rb.pt(20,
40)}},{key:"getProportionSliderBounds",value:function(J){return rb.pt(J.owner.width-5,0).extent(rb.pt(10,40))}},{key:"getDeviderBounds",value:function(){return rb.pt(4,15).extent(rb.pt(2,25))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColumnHalo"}}],hb,{pathInPackage:function(){return"layout.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",
version:"0.1.0"}}},{start:9264,end:10519})})(rb.AxisHalo);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/layout.js"),Ba=hb.hasOwnProperty("CellGuide")&&"function"===typeof hb.CellGuide?hb.CellGuide:hb.CellGuide=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"menuItems",value:function(){var J=this,ta=rb.Icon.textAttribute("check-square-o"),Ta=rb.Icon.textAttribute("square-o");
ta[1].textStyleClasses.push("annotation");Ta[1].textStyleClasses.push("annotation");Ta[1].paddingRight="2px";return[["Resize Policy",[[["Rigid  ",null].concat($jscomp.arrayFromIterable(this.cellGroup.resize?Ta:ta)),function(){J.cellGroup.resize=!1}],[["Space Filling  ",null].concat($jscomp.arrayFromIterable(this.cellGroup.resize?ta:Ta)),function(){J.cellGroup.resize=!0}]]],["Align at...",["center"].concat($jscomp.arrayFromIterable((new rb.Rectangle).sides),$jscomp.arrayFromIterable((new rb.Rectangle).corners)).map(function(tb){return[[tb,
{paddingRight:"2px"}].concat($jscomp.arrayFromIterable(J.cellGroup.align==tb?ta:Ta),["  ",null]),function(){return J.cellGroup.align=tb}]})]].concat(this.cellGroup.morph?[["Release Morph from Cell",function(){var tb=J.cellGroup.morph;tb&&(J.world().firstHand.grab(tb),J.world().firstHand.longClickGrab=!0,tb.position=rb.pt(0))}]]:[])}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"CellGuide"}},{key:"properties",get:function(){return{cellGroup:{}}}}],hb,{pathInPackage:function(){return"layout.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:10521,end:11840})})(rb.Morph);(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/layout.js"),Ba=hb.hasOwnProperty("LayoutHalo")&&"function"===typeof hb.LayoutHalo?hb.LayoutHalo:hb.LayoutHalo=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return qc(Ba,sb,void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LayoutHalo"}},{key:"properties",get:function(){return{container:{},target:{},pointerId:{},halosEnabled:{defaultValue:!1},isEpiMorph:{defaultValue:!0},isHaloItem:{defaultValue:!0},borderColor:{defaultValue:rb.Color.orange},borderWidth:{defaultValue:2},styleClasses:{defaultValue:["Halo"]}}}}],hb,{pathInPackage:function(){return"layout.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:11842,end:12256})})(rb.Morph);Xb=Ia("G",function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/layout.js"),Ba=hb.hasOwnProperty("GridLayoutHalo")&&"function"===typeof hb.GridLayoutHalo?hb.GridLayoutHalo:hb.GridLayoutHalo=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return qc(Ba,sb,[{key:"previewDrop",value:function(J){1>J.length||(J=this.cellGuides.find(function(ta){return ta.fullContainsWorldPoint($world.firstHand.position)}),J!=this.currentCell&&this.currentCell&&this.currentCell.stopPreview(),(this.currentCell=J)&&this.currentCell.startPreview())}},{key:"handleDrop",value:function(J){var ta=this;this.currentCell&&J.whenRendered().then(function(){return ta.currentCell.cellGroup.morph=J})}},{key:"initialize",value:function(){this.initGuides();this.alignWithTarget();
this.focus()}},{key:"optionControls",value:function(){var J=this.target,ta=new rb.LabeledCheckBox({name:"compensateOrigin",label:"Compensate Origin",fill:rb.Color.transparent,checked:J.compensateOrigin}),Ta=new rb.LabeledCheckBox({label:"Resize Submorphs",fill:rb.Color.transparent,name:"fitToCell",checked:J.fitToCell});rb.connect(ta,"checked",J,"compensateOrigin");rb.connect(Ta,"checked",J,"fitToCell");rb.connect(ta,"checked",this,"alignWithTarget");return[ta,Ta]}},{key:"isLayoutHalo",get:function(){return!1}},
{key:"alignWithTarget",value:function(){this.target.apply();this.position=this.container.globalPosition;this.target.compensateOrigin&&this.moveBy(this.container.origin.negated());this.extent=this.container.extent;this.addMissingGuides();rb.arr.reverse(this.guides).forEach(function(J){return J.alignWithTarget()})}},{key:"addMissingGuides",value:function(){var J=this;rb.arr.withoutAll(this.target.cellGroups,this.guides.map(function(ta){return ta.cellGroup})).forEach(function(ta){return J.addMorph(J.cellGuide(ta))})}},
{key:"initGuides",value:function(){this.submorphs=[];this.guides=[];this.initCellGuides();this.initColumnGuides();this.initRowGuides()}},{key:"initCellGuides",value:function(){var J=this,ta=this.addMorph({fill:rb.Color.transparent,borderRadius:this.borderRadius,extent:this.extent});this.target.cellGroups.forEach(function(Ta){ta.addMorph(J.cellGuide(Ta))});this.cellGuides=ta.submorphs;this.addMorph(this.resizer())}},{key:"addGuide",value:function(J){J.isHaloItem=!0;this.guides.push(J);return J}},{key:"initRowGuides",
value:function(){var J=this,ta=this;this.addGuide(this.addMorph(new rb.Morph({width:25,fill:rb.Color.gray.withA(.7),borderRadius:15,height:this.container.height,topRight:rb.pt(-5,0),alignWithTarget:function(){this.height=ta.container.height}})));rb.arr.range(0,this.target.rowCount-1).forEach(function(Ta){J.addMorph(new rb.RowHalo({row:Ta,halo:J}))})}},{key:"initColumnGuides",value:function(){var J=this,ta=this;this.addGuide(this.addMorph(new rb.Morph({height:25,fill:rb.Color.gray.withA(.7),borderRadius:15,
width:this.container.width,bottomLeft:rb.pt(0,-5),alignWithTarget:function(){this.width=ta.container.width}})));rb.arr.range(0,this.target.columnCount-1).forEach(function(Ta){J.addMorph(new rb.ColumnHalo({col:Ta,halo:J}))})}},{key:"resizer",value:function(){var J=this;return this.addGuide(new rb.Morph({fill:rb.Color.transparent,extent:rb.pt(25,25),nativeCursor:"nwse-resize",onDrag:function(ta){J.container.resizeBy(ta.state.dragDelta);J.alignWithTarget()},alignWithTarget:function(){this.bottomRight=
J.extent}}))}},{key:"cellResizer",value:function(J,ta){var Ta=this,tb="topLeft"==ta?"bottomRight":"topLeft";return new rb.Ellipse({borderWidth:1,visible:!1,borderColor:rb.Color.black,nativeCursor:"nwse-resize",removeCell:function(Rb){J.disconnect(Rb);Ta.alignWithTarget()},addCell:function(Rb){J.connect(Rb);Ta.alignWithTarget()},start:function(){this.fixpointCell=J[tb];this.draggedDelta=J.bounds().partNamed(ta);this.debugMorph=Ta.addMorph(new rb.Morph({fill:rb.Color.orange.withA(.5)}))},update:function(Rb){var mc=
this;this.draggedDelta=this.draggedDelta.addPt(Rb);var Zb=rb.Rectangle.unionPts([this.draggedDelta]).union(this.fixpointCell.bounds());this.debugMorph.setBounds(Zb);Ta.cells.forEach(function(Rc){var Sc=Zb.intersection(Rc.bounds()).area()/Rc.bounds().area();J.includes(Rc)&&.1>Sc&&mc.removeCell(Rc);!J.includes(Rc)&&Sc>1/3&&mc.addCell(Rc)})},onDragEnd:function(Rb){this.debugMorph.remove()},onDragStart:function(Rb){this.start(Rb.position)},onDrag:function(Rb){this.update(Rb.state.dragDelta)}})}},{key:"cellGuide",
value:function(J){var ta=this,Ta=this.cellResizer(J,"topLeft"),tb=this.cellResizer(J,"bottomRight");return this.addGuide(new rb.CellGuide({cellGroup:J,bounds:J.bounds(),fill:rb.Color.transparent,borderColor:rb.Color.orange,borderWidth:1,isHaloItem:!0,isCell:!0,draggable:!1,submorphs:[Ta,tb],onMouseDown:function(Rb){this.becomeActive()},deactivate:function(){this.borderColor=rb.Color.orange;this.fill=rb.Color.transparent;this.submorphs.forEach(function(Rb){Rb.visible=!1})},becomeActive:function(){ta.guides.forEach(function(Rb){Rb.isCell&&
Rb.deactivate()});this.borderColor=rb.Color.rgbHex("#1565C0");this.fill=rb.Color.rgbHex("#1565C0").withA(.3);ta.addMorph(this.remove());this.submorphs.forEach(function(Rb){Rb.visible=!0})},startPreview:function(Rb){this.fill=rb.Color.orange.withA(.7)},stopPreview:function(Rb){this.fill=rb.Color.transparent},onDrop:function(Rb){var mc=$jscomp.makeIterator(Rb.hand.grabbedMorphs).next().value;Rb.hand.dropMorphsOn(ta.container);J.morph=mc},alignWithTarget:function(){J.bounds().isNonEmpty()?(this.setBounds(J.bounds()),
Ta.center=this.innerBounds().topLeft(),tb.center=this.innerBounds().bottomRight()):(rb.arr.remove(ta.guides,this),this.remove())}}))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"GridLayoutHalo"}},{key:"properties",get:function(){return{fill:{defaultValue:rb.Color.transparent},cells:{derived:!0,get:function(){return rb.arr.flatten(this.target.col(0).items.map(function(J){return J.row(0).items}))}},submorphs:{initialize:function(){this.initialize()}}}}}],hb,{pathInPackage:function(){return"layout.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:12265,end:19680})}(rb.LayoutHalo));rb.GridLayoutHalo=Xb;rb.GridLayoutHalo=Xb;rb.GridLayoutHalo=Xb;xd=function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/layout.js"),Ba=hb.hasOwnProperty("TilingLayoutHalo")&&"function"===typeof hb.TilingLayoutHalo?hb.TilingLayoutHalo:hb.TilingLayoutHalo=
function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"remove",value:function(){qc._get(Object.getPrototypeOf(Ba.prototype),"remove",this).call(this);this.removePreviews();return this}},{key:"alignWithTarget",value:function(){this.setBounds(this.container.globalBounds())}},{key:"handleDrop",value:function(J){}},{key:"removePreviews",value:function(){this.previews.forEach(function(J){return J.clear()})}},
{key:"previewDrop",value:function(J){var ta=this;0<this.previews.length||(this.previews=J.map(function(Ta){return ta.container.addMorph({type:rb.DropPreview,bounds:Ta.bounds()})}),this.previews.forEach(function(Ta){Ta.step()}))}},{key:"updateSpacing",value:function(J){this.target.spacing=J}},{key:"updateAxis",value:function(J){this.target.axis=J}},{key:"updateAlign",value:function(J){this.target.align=J}},{key:"optionControls",value:function(){var J=this.target,ta=new rb.DropDownSelector({borderRadius:2,
padding:3,selectedValue:J.axis,values:["row","column"]}),Ta=new rb.DropDownSelector({borderRadius:2,padding:3,selectedValue:J.align,values:["left","center"]});J=new rb.NumberWidget({min:0,number:J.spacing,padding:rb.rect(5,3,0,0),borderRadius:3,borderWidth:1,borderColor:rb.Color.gray,unit:"px"});rb.connect(J,"update",this,"updateSpacing");rb.connect(Ta,"update",this,"updateAlign");rb.connect(ta,"update",this,"updateAxis");var tb={type:"label",padding:rb.rect(0,5,5,5),fill:rb.Color.transparent,fontColor:rb.Color.gray.darker(),
readOnly:!0};return[[Object.assign({},tb,{textString:"Submorph Spacing"}),J],[Object.assign({},tb,{textString:"Tiling Align"}),Ta],[Object.assign({},tb,{textString:"Tiling Axis"}),ta]].map(function(Rb){return{submorphs:Rb,fill:null,layout:new rb.HorizontalLayout({spacing:3})}})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TilingLayoutHalo"}},{key:"properties",get:function(){return{fill:{defaultValue:rb.Color.transparent},previews:{defaultValue:[]}}}}],hb,{pathInPackage:function(){return"layout.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:19689,end:21804})}(rb.LayoutHalo);rb.TilingLayoutHalo=xd;rb.TilingLayoutHalo=xd;rb.TilingLayoutHalo=xd;(function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/layout.js"),Ba=hb.hasOwnProperty("DropPreview")&&"function"===typeof hb.DropPreview?hb.DropPreview:hb.DropPreview=function(J){J&&
J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"clear",value:function(){this.stopped=!0;this.remove()}},{key:"step",value:function(){var J=this,ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ta){if(1==Ta.nextAddress)return ta=rb.easings.inOutQuad,Ta.yield(J.animate({opacity:.5,duration:(J.pulseDuration-10)/2,easing:ta}),2);if(3!=Ta.nextAddress)return Ta.yield(J.animate({opacity:1,duration:(J.pulseDuration-
10)/2,easing:ta}),3);J.stopped||J.step();Ta.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"DropPreview"}},{key:"properties",get:function(){return{isHaloItem:{readOnly:!0,get:function(){return!0}},epiMorph:{readOnly:!0,get:function(){return!0}},fill:{defaultValue:rb.Color.orange.withA(.3)},hasFixedPosition:{defaultValue:!0},borderColor:{defaultValue:rb.Color.orange},borderWidth:{defaultValue:2},borderStyle:{defaultValue:"dashed"},pulseDuration:{defaultValue:2E3}}}}],
hb,{pathInPackage:function(){return"layout.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:21806,end:22642})})(rb.Morph);xd=Ia("F",function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/layout.js"),Ba=hb.hasOwnProperty("FlexLayoutHalo")&&"function"===typeof hb.FlexLayoutHalo?hb.FlexLayoutHalo:hb.FlexLayoutHalo=function(J){J&&
J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"handleDrop",value:function(J){}},{key:"previewDrop",value:function(J){var ta=this;0<this.previews.length||(this.previews=J.map(function(Ta){return ta.container.addMorph({type:rb.DropPreview,position:ta.container.localize(ta.world().firstHand.position),extent:Ta.bounds().extent()})}),this.previews.forEach(function(Ta){Ta.step()}))}},{key:"remove",value:function(){qc._get(Object.getPrototypeOf(Ba.prototype),
"remove",this).call(this);this.removePreviews();return this}},{key:"removePreviews",value:function(){this.previews.forEach(function(J){return J.clear()})}},{key:"onDrop",value:function(J){this.removePreviews();J.hand.dropMorphsOn(this.container)}},{key:"alignWithTarget",value:function(){this.setBounds(this.container.globalBounds())}},{key:"updateAutoResizePolicy",value:function(J){J&&(this.originalExtent=this.container.extent);this.target.autoResize=J;J||(this.container.extent=this.originalExtent||
this.container.extent);this.alignWithTarget()}},{key:"updateResizeSubmorphsPolicy",value:function(J){this.target.resizeSubmorphs=J;this.alignWithTarget()}},{key:"updateAlignmentPolicy",value:function(J){this.target.align=J}},{key:"updateDirectionPolicy",value:function(J){this.target.direction=J}},{key:"updateSpacing",value:function(J){this.target.spacing=J}},{key:"optionControls",value:function(){var J=this.target,ta=J.possibleAlignValues?{fill:rb.Color.transparent,layout:new rb.HorizontalLayout({spacing:3,
direction:"centered",align:"center"}),submorphs:[{type:"label",value:"align: "},new rb.DropDownSelector({name:"alignment",borderRadius:2,padding:3,selectedValue:J.align,values:J.possibleAlignValues})]}:null,Ta=J.possibleDirectionValues?{fill:rb.Color.transparent,layout:new rb.HorizontalLayout({spacing:3,direction:"centered",align:"center"}),submorphs:[{type:"label",value:"direction: "},new rb.DropDownSelector({name:"direction",borderRadius:2,padding:3,selectedValue:J.direction,values:J.possibleDirectionValues})]}:
null,tb=new rb.NumberWidget({fill:rb.Color.white,borderWidth:1,borderRadius:4,padding:rb.rect(5,4,0,0),borderColor:rb.Color.gray,min:0,number:J.spacing,unit:"px"}),Rb=new rb.LabeledCheckBox({name:"autoResize",label:"Resize Container",alignCheckBox:"right",fill:rb.Color.transparent,checked:J.autoResize});J=new rb.LabeledCheckBox({label:"Resize Submorphs",name:"resizeSubmorphs",alignCheckBox:"right",fill:rb.Color.transparent,checked:J.resizeSubmorphs});rb.connect(tb,"update",this,"updateSpacing");rb.connect(Rb,
"checked",this,"updateAutoResizePolicy");rb.connect(J,"checked",this,"updateResizeSubmorphsPolicy");ta&&rb.connect(ta.submorphs[1],"selectedValue",this,"updateAlignmentPolicy");Ta&&rb.connect(Ta.submorphs[1],"selectedValue",this,"updateDirectionPolicy");return[Rb,J].concat($jscomp.arrayFromIterable([ta,Ta].filter(Boolean)),[{fill:rb.Color.transparent,layout:new rb.HorizontalLayout,submorphs:[{type:"label",value:"Submorph Spacing",fontColor:rb.Color.gray.darker(),padding:rb.rect(0,5,5,5)},tb]}])}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FlexLayoutHalo"}},{key:"properties",get:function(){return{reactsToPointer:{defaultValue:!1},fill:{defaultValue:rb.Color.transparent},halosEnabled:{defaultValue:!1},previews:{defaultValue:[]}}}}],hb,{pathInPackage:function(){return"layout.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.halos",version:"0.1.0"}}},
{start:22651,end:26838})}(rb.LayoutHalo));rb.FlexLayoutHalo=xd;rb.FlexLayoutHalo=xd;rb.FlexLayoutHalo=xd;qb=Ia("c",function(sb){var hb=lively.FreezerRuntime.recorderFor("lively.halos/layout.js"),Ba=hb.hasOwnProperty("ProportionalLayoutHalo")&&"function"===typeof hb.ProportionalLayoutHalo?hb.ProportionalLayoutHalo:hb.ProportionalLayoutHalo=function(J){J&&J[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return qc(Ba,sb,[{key:"handleDrop",
value:function(J){}},{key:"onDrop",value:function(J){J.hand.dropMorphsOn(this.container)}},{key:"alignWithTarget",value:function(){this.setBounds(this.container.globalBounds())}},{key:"updateSubmorphProportionalLayoutSettings",value:function(J){var ta={};this.target.changeSettingsFor(J.submorph,(ta[J.axis]=J.policy,ta),!0)}},{key:"onSubmorphSettingsDragStart",value:function(J,ta){var Ta=this;J.stop();var tb=this.target.settingsFor(ta);ta="";for(var Rb in tb)ta+=Rb+":"+tb[Rb]+" ";var mc=rb.morph({type:"label",
value:ta,isLayoutable:!1});mc.wantsToBeDroppedOn=function(Zb){return Ta.target.layoutableSubmorphs.includes(Zb)};mc.onBeingDroppedOn=function(Zb,Rc){mc.remove();if(Zb=Ta.target.layoutableSubmorphs.includes(Rc)?Rc:J.world.morphsContainingPoint(J.hand.position).find(function(Sc){return Ta.target.layoutableSubmorphs.includes(Sc)}))Ta.updateSubmorphProportionalLayoutSettings({policy:tb.x,axis:"x",submorph:Zb}),Ta.updateSubmorphProportionalLayoutSettings({policy:tb.y,axis:"y",submorph:Zb}),Zb.show(),$world.setStatusMessage("layout settings applied")};
J.hand.grab(mc)}},{key:"chooseSubmorphToChangeLayoutSettings",value:function(){var J=this,ta,Ta,tb,Rb,mc,Zb,Rc,Sc,$d,r,Ud,ke;return $jscomp.asyncExecutePromiseGeneratorProgram(function(le){switch(le.nextAddress){case 1:return ta=J.target.layoutableSubmorphs,J.env.eventDispatcher.isKeyPressed("Shift")?(tb=ta.map(function(ie){return{isListItem:!0,string:String(ie),value:ie}}),le.yield($world.listPrompt("Select morph",tb,{requester:J,onSelection:function(ie){return ie.show()}}),5)):le.yield(rb.InteractiveMorphSelector.selectMorph(J.world(),
J,function(ie){return ta.includes(ie)}),4);case 4:Ta=le.yieldResult;le.jumpTo(3);break;case 5:Rb=le.yieldResult,mc=$jscomp.makeIterator(Rb.selected),Ta=mc.next().value;case 3:if(!Ta)return le.return();Zb=J.state.popover.get("controlContainer");Rc=Zb.getAllNamed(/submorph config/);Sc=["move","resize","scale","fixed"];$d=J.target.settingsFor(Ta);Rc.length||(Zb.submorphs=[].concat($jscomp.arrayFromIterable(Zb.submorphs),[{name:"submorph config X-Axis policy",position:rb.pt(0,J.height),fill:rb.Color.transparent,
layout:new rb.HorizontalLayout({spacing:3,direction:"centered",align:"center"}),submorphs:[{type:"label",value:"submorph X-Axis policy: "},new rb.DropDownSelector({name:"x-axis policy selector",borderRadius:2,padding:3,selectedValue:$d.x,values:Sc})]},{name:"submorph config Y-Axis policy",position:rb.pt(0,J.height),fill:rb.Color.transparent,layout:new rb.HorizontalLayout({spacing:3,direction:"centered",align:"center"}),submorphs:[{type:"label",value:"submorph Y-Axis policy: "},new rb.DropDownSelector({name:"y-axis policy selector",
borderRadius:2,padding:3,selectedValue:$d.y,values:Sc})]},rb.morph({position:rb.pt(0,J.height+20),draggable:!0,name:"dragme",type:"label",value:"drag me to copy"})]));r=Zb.getSubmorphNamed("x-axis policy selector");Ud=Zb.getSubmorphNamed("y-axis policy selector");ke=Zb.getSubmorphNamed("dragme");rb.disconnect(r,"selectedValue",J,"updateSubmorphProportionalLayoutSettings");rb.disconnect(Ud,"selectedValue",J,"updateSubmorphProportionalLayoutSettings");r.selectedValue=$d.x;Ud.selectedValue=$d.y;rb.connect(ke,
"onDragStart",J,"onSubmorphSettingsDragStart",{updater:function(ie,yd){return ie(yd,Ta)},varMapping:{submorph:Ta}});rb.connect(r,"selectedValue",J,"updateSubmorphProportionalLayoutSettings",{converter:function(ie){return{policy:ie,axis:"x",submorph:Ta}},varMapping:{submorph:Ta}});rb.connect(Ud,"selectedValue",J,"updateSubmorphProportionalLayoutSettings",{converter:function(ie){return{policy:ie,axis:"y",submorph:Ta}},varMapping:{submorph:Ta}});le.jumpToEnd()}})}},{key:"optionControls",value:function(J){this.state.popover=
J;var ta=this.target;J=new rb.LabeledCheckBox({name:"x-axis",label:"X-Axis",alignCheckBox:"right",fill:rb.Color.transparent,checked:ta.xAxisEnabled});ta=new rb.LabeledCheckBox({name:"y-axis",label:"Y-Axis",alignCheckBox:"right",fill:rb.Color.transparent,checked:ta.yAxisEnabled});var Ta=new rb.Button({name:"modify submorph settings button",label:[].concat($jscomp.arrayFromIterable(rb.Icon.textAttribute("crosshairs")),["\u00a0Change submorph settings"])});rb.connect(J,"checked",this,"updateXAxisEnabled");
rb.connect(ta,"checked",this,"updateYAxisEnabled");rb.connect(Ta,"fire",this,"chooseSubmorphToChangeLayoutSettings");return[Ta]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ProportionalLayoutHalo"}},{key:"properties",get:function(){return{reactsToPointer:{defaultValue:!1},fill:{defaultValue:rb.Color.transparent}}}}],hb,{pathInPackage:function(){return"layout.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.halos",version:"0.1.0"}}},{start:26847,end:32579})}(rb.LayoutHalo));rb.ProportionalLayoutHalo=qb;rb.ProportionalLayoutHalo=qb;rb.ProportionalLayoutHalo=qb;var Ld=lively.FreezerRuntime.recorderFor("lively.halos/index.js");Ld.Halo=Kc;Ld.MorphHighlighter=Hb;Ld.InteractiveMorphSelector=Oc;Ld.StatusMessage=wa;Ld.StatusMessageForMorph=lb;Ld.show=X;Ld.showConnector=ya;Ld.ProportionalLayoutHalo=qb;Ld.GridLayoutHalo=Xb;Ld.FlexLayoutHalo=xd;Ld.showAndSnapToGuides=bb;Ld.removeSnapToGuidesOf=
za;Ld.StatusMessage=wa;Ld.StatusMessage=wa;Ld.StatusMessageForMorph=lb;Ld.StatusMessageForMorph=lb;Ld.show=X;Ld.show=X;Ld.showConnector=ya;Ld.showConnector=ya;Ld.Halo=Kc;Ld.Halo=Kc;Ld.MorphHighlighter=Hb;Ld.MorphHighlighter=Hb;Ld.InteractiveMorphSelector=Oc;Ld.InteractiveMorphSelector=Oc;Ld.ProportionalLayoutHalo=qb;Ld.ProportionalLayoutHalo=qb;Ld.GridLayoutHalo=Xb;Ld.GridLayoutHalo=Xb;Ld.FlexLayoutHalo=xd;Ld.FlexLayoutHalo=xd;Ld.showAndSnapToGuides=bb;Ld.showAndSnapToGuides=bb;Ld.removeSnapToGuidesOf=
za;Ld.removeSnapToGuidesOf=za;wa=Object.freeze({__proto__:null,StatusMessage:wa,StatusMessageForMorph:lb,show:X,showConnector:ya,Halo:Kc,MorphHighlighter:Hb,InteractiveMorphSelector:Oc,ProportionalLayoutHalo:qb,GridLayoutHalo:Xb,FlexLayoutHalo:xd,showAndSnapToGuides:bb,removeSnapToGuidesOf:za,SvgStyleHalo:void 0});Ia("i",wa);Ia({_:void 0,d:void 0})}}});
System.register(["./__rootModule___commonjs-entry-71573ff5.js","./index-ca98f65e.js"],function(Lc){var pd,Nd,Tc,Jc,$d,Bb,rd;return{setters:[function(Id){pd=Id.aV;Nd=Id.D;Tc=Id.B;Jc=Id.aY;$d=Id.i;Bb=Id._},function(Id){rd=Id.m}],execute:function(){function Id(Fd){try{var ic=eval("(".concat(Ac.ast.transform.wrapInFunction("var _; _ = (".concat(Fd,")")),")()"))}catch(vd){return JSON.parse(Fd)}return"object"!==Nd(ic)?null:ic}Lc("p",Id);var Ac=window.lively.FreezerRuntime.recorderFor("lively-system-interface/helpers.js");Ac.parseJsonLikeObj=
Id;Ac.ast=pd;Ac.parseJsonLikeObj=Id;var Pc=window.lively.FreezerRuntime.recorderFor("lively-system-interface/interfaces/interface.js");Pc.todo=function(Fd){throw Error("".concat(Fd," is not yet implemented!"));};Pc.parseJsonLikeObj=Id;Pc.obj=Tc;Pc.transform=Jc;Pc.modules=rd;var gd=Lc("A",function(Fd){var ic=window.lively.FreezerRuntime.recorderFor("lively-system-interface/interfaces/interface.js"),vd=ic.hasOwnProperty("AbstractCoreInterface")&&"function"===typeof ic.AbstractCoreInterface?ic.AbstractCoreInterface:
ic.AbstractCoreInterface=function(sb){if(!sb||!sb[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return $d(vd,Fd,[{key:"dynamicCompletionsForPrefix",value:function(){var sb=Bb(regeneratorRuntime.mark(function cb(Nb,bc,hb){return regeneratorRuntime.wrap(function(Hb){for(;;)switch(Hb.prev=Hb.next){case 0:Pc.todo("dynamicCompletionsForPrefix");case 1:case "end":return Hb.stop()}},cb)}));return function(Nb,bc,hb){return sb.apply(this,
arguments)}}()},{key:"runEval",value:function(sb,Xb){Pc.todo("runEval")}},{key:"resourceExists",value:function(sb){Pc.todo("resourceExists")}},{key:"resourceEnsureExistance",value:function(sb,Xb){Pc.todo("resourceEnsureExistance")}},{key:"resourceMkdir",value:function(sb){Pc.todo("resourceMkdir")}},{key:"resourceRead",value:function(sb){Pc.todo("resourceRead")}},{key:"resourceRemove",value:function(sb){Pc.todo("resourceRemove")}},{key:"resourceWrite",value:function(sb,Xb){Pc.todo("resourceWrite")}},
{key:"resourceCreateFiles",value:function(sb,Xb){Pc.todo("resourceCreateFiles")}},{key:"resourceDirList",value:function(sb,Xb,Nb){Pc.todo("resourceDirList")}},{key:"normalizeSync",value:function(sb,Xb,Nb){Pc.todo("normalizeSync")}},{key:"normalize",value:function(sb,Xb,Nb){Pc.todo("normalize")}},{key:"printSystemConfig",value:function(){Pc.todo("printSystemConfig")}},{key:"getConfig",value:function(){Pc.todo("getConfig")}},{key:"setConfig",value:function(sb){Pc.todo("setConfig")}},{key:"getPackages",
value:function(sb){Pc.todo("getPackages")}},{key:"isModuleLoaded",value:function(sb,Xb){Pc.todo("isModuleLoaded")}},{key:"doesModuleExist",value:function(sb,Xb){Pc.todo("doesModuleExist")}},{key:"getModules",value:function(){var sb=Bb(regeneratorRuntime.mark(function Nb(){return regeneratorRuntime.wrap(function(bc){for(;;)switch(bc.prev=bc.next){case 0:return bc.next=2,this.getPackages();case 2:return bc.t0=function(hb){return hb.modules},bc.abrupt("return",bc.sent.flatMap(bc.t0));case 4:case "end":return bc.stop()}},
Nb,this)}));return function(){return sb.apply(this,arguments)}}()},{key:"getModule",value:function(){var sb=Bb(regeneratorRuntime.mark(function bc(Nb){return regeneratorRuntime.wrap(function(hb){for(;;)switch(hb.prev=hb.next){case 0:return hb.next=2,this.getModules();case 2:return hb.t0=function(cb){return cb.name===Nb},hb.abrupt("return",hb.sent.find(hb.t0));case 4:case "end":return hb.stop()}},bc,this)}));return function(Nb){return sb.apply(this,arguments)}}()},{key:"getPackage",value:function(){var sb=
Bb(regeneratorRuntime.mark(function bc(Nb){return regeneratorRuntime.wrap(function(hb){for(;;)switch(hb.prev=hb.next){case 0:return Nb=Nb.replace(/\/+$/,""),hb.next=3,this.getPackages();case 3:return hb.t0=function(cb){return cb.address===Nb||cb.name===Nb},hb.abrupt("return",hb.sent.find(hb.t0));case 5:case "end":return hb.stop()}},bc,this)}));return function(Nb){return sb.apply(this,arguments)}}()},{key:"getPackageForModule",value:function(){var sb=Bb(regeneratorRuntime.mark(function bc(Nb){return regeneratorRuntime.wrap(function(hb){for(;;)switch(hb.prev=
hb.next){case 0:Pc.todo("getPackageForModule");case 1:case "end":return hb.stop()}},bc)}));return function(Nb){return sb.apply(this,arguments)}}()},{key:"systemConfChange",value:function(sb){var Xb=Pc.parseJsonLikeObj(sb);["baseURL"].forEach(function(Nb){return delete Xb[Nb]});return this.setConfig(Xb)}},{key:"resourcesOfPackage",value:function(){var sb=Bb(regeneratorRuntime.mark(function hb(Nb,bc){return regeneratorRuntime.wrap(function(cb){for(;;)switch(cb.prev=cb.next){case 0:Pc.todo("resourcesOfPackage");
case 1:case "end":return cb.stop()}},hb)}));return function(Nb,bc){return sb.apply(this,arguments)}}()},{key:"registerPackage",value:function(){var sb=Bb(regeneratorRuntime.mark(function bc(Nb){return regeneratorRuntime.wrap(function(hb){for(;;)switch(hb.prev=hb.next){case 0:Pc.todo("registerPackage");case 1:case "end":return hb.stop()}},bc)}));return function(Nb){return sb.apply(this,arguments)}}()},{key:"importPackage",value:function(){var sb=Bb(regeneratorRuntime.mark(function bc(Nb){return regeneratorRuntime.wrap(function(hb){for(;;)switch(hb.prev=
hb.next){case 0:Pc.todo("importPackage");case 1:case "end":return hb.stop()}},bc)}));return function(Nb){return sb.apply(this,arguments)}}()},{key:"removePackage",value:function(){var sb=Bb(regeneratorRuntime.mark(function bc(Nb){return regeneratorRuntime.wrap(function(hb){for(;;)switch(hb.prev=hb.next){case 0:Pc.todo("removePackage");case 1:case "end":return hb.stop()}},bc)}));return function(Nb){return sb.apply(this,arguments)}}()},{key:"reloadPackage",value:function(){var sb=Bb(regeneratorRuntime.mark(function bc(Nb){return regeneratorRuntime.wrap(function(hb){for(;;)switch(hb.prev=
hb.next){case 0:Pc.todo("reloadPackage");case 1:case "end":return hb.stop()}},bc)}));return function(Nb){return sb.apply(this,arguments)}}()},{key:"packageConfChange",value:function(){var sb=Bb(regeneratorRuntime.mark(function hb(Nb,bc){return regeneratorRuntime.wrap(function(cb){for(;;)switch(cb.prev=cb.next){case 0:Pc.todo("packageConfChange");case 1:case "end":return cb.stop()}},hb)}));return function(Nb,bc){return sb.apply(this,arguments)}}()},{key:"importModule",value:function(sb){Pc.todo("importModule")}},
{key:"forgetModule",value:function(sb,Xb){Pc.todo("forgetModule")}},{key:"reloadModule",value:function(sb,Xb){Pc.todo("reloadModule")}},{key:"moduleFormat",value:function(sb){Pc.todo("moduleFormat")}},{key:"moduleRead",value:function(sb){Pc.todo("moduleRead")}},{key:"moduleSourceChange",value:function(sb,Xb,Nb){Pc.todo("moduleSourceChange")}},{key:"importsAndExportsOf",value:function(sb,Xb){Pc.todo("importsAndExportsOf")}},{key:"keyValueListOfVariablesInModule",value:function(sb,Xb){Pc.todo("keyValueListOfVariablesInModule")}},
{key:"moduleWrite",value:function(sb,Xb){return this.moduleSourceChange(sb,Xb)}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"AbstractCoreInterface"}}],ic,{pathInPackage:function(){return"./interfaces/interface.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively-system-interface",version:"0.2.1"}}},{start:267,end:4053})}(void 0));Pc.AbstractCoreInterface=
gd;Pc.AbstractCoreInterface=gd;var nd=Lc("R",function(Fd){var ic=window.lively.FreezerRuntime.recorderFor("lively-system-interface/interfaces/interface.js"),vd=ic.hasOwnProperty("RemoteCoreInterface")&&"function"===typeof ic.RemoteCoreInterface?ic.RemoteCoreInterface:ic.RemoteCoreInterface=function(sb){if(!sb||!sb[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return $d(vd,Fd,[{key:Symbol["for"]("lively-instance-initialize"),
value:function(){$d._get(Object.getPrototypeOf(vd.prototype),Symbol["for"]("lively-instance-initialize"),this).call(this);this.currentEval=null}},{key:"runEval",value:function(sb,Xb){throw Error("Not yet implemented");}},{key:"runEvalAndStringify",value:function(sb,Xb){var Nb=this;return this.currentEval?this.currentEval.then(function(){return Nb.runEvalAndStringify(sb,Xb)}):this.currentEval=Promise.resolve().then(Bb(regeneratorRuntime.mark(function hb(){var cb,Hb,ec;return regeneratorRuntime.wrap(function(ub){for(;;)switch(ub.prev=
ub.next){case 0:return ub.next=2,Nb.runEval("\n        Promise.resolve((async ".concat(Pc.transform.wrapInFunction(sb),')())\n          .then(function(result) { return JSON.stringify(result); })\n          .catch(function(err) { return {isError: true, value: err}; })\n          .then(function(result) {\n            if (!result || typeof result === "string") return result;\n            return JSON.stringify(result.isError ?\n              {isError: true, value: (result.value + "\\n" + result.value.stack) || String(result.value)} :\n              result)\n          });'),
Object.assign({targetModule:"lively://remote-lively-system/runEvalAndStringify",promiseTimeout:3E4,waitForPromise:!0},Xb));case 2:cb=ub.sent;if(!cb||!cb.isError){ub.next=5;break}throw Error(String(cb.value||cb.error));case 5:if(cb&&cb.value){ub.next=7;break}return ub.abrupt("return",null);case 7:ub.t0=cb.promisedValue;if(ub.t0){ub.next=12;break}ub.next=11;return cb.value;case 11:ub.t0=ub.sent;case 12:if(Hb=ub.t0){ub.next=15;break}return ub.abrupt("return");case 15:if("undefined"!==Hb){ub.next=17;
break}return ub.abrupt("return",void 0);case 17:if("null"!==Hb){ub.next=19;break}return ub.abrupt("return",null);case 19:if("true"!==Hb){ub.next=21;break}return ub.abrupt("return",!0);case 21:if("false"!==Hb){ub.next=23;break}return ub.abrupt("return",!1);case 23:ub.prev=23;ec=JSON.parse(Hb);ub.next=30;break;case 27:return ub.prev=27,ub.t1=ub["catch"](23),ub.abrupt("return",Hb);case 30:if(!ec||!ec.isError){ub.next=32;break}throw Error(String(ec.value));case 32:return ub.abrupt("return",ec);case 33:case "end":return ub.stop()}},
hb,null,[[23,27]])}))).then(function(hb){delete Nb.currentEval;return hb},function(hb){delete Nb.currentEval;return Promise.reject(hb)})}},{key:"dynamicCompletionsForPrefix",value:function(){var sb=Bb(regeneratorRuntime.mark(function cb(Nb,bc,hb){var Hb,ec;return regeneratorRuntime.wrap(function(ub){for(;;)switch(ub.prev=ub.next){case 0:return Hb=Pc.obj.isString(hb.context)?hb.context:!1,hb=Pc.obj.dissoc(hb,["systemInterface","System","context"]),ec="\n      var prefix = ".concat(JSON.stringify(bc),
",\n          opts = ").concat(JSON.stringify(hb),";\n      opts.context = ").concat(Hb,';\n      opts.classTransform = (await System.import("lively.classes")).classToFunctionTransform;\n      var { runEval, completions } = await System.import("lively.vm");\n      var evalFn = code => runEval(code, opts);\n      if (typeof System === "undefined") delete opts.targetModule;\n      completions.getCompletions(evalFn, prefix).then(function(result) {\n        if (result.isError) throw result.value;\n        return {\n          completions: result.completions,\n          prefix: result.startLetters\n        }\n      });'),
ub.abrupt("return",this.runEvalAndStringify(ec));case 4:case "end":return ub.stop()}},cb,this)}));return function(Nb,bc,hb){return sb.apply(this,arguments)}}()},{key:"evalWithResource",value:function(sb,Xb,Nb){return this.runEvalAndStringify('\n      var {resource} = (typeof lively !== "undefined" && lively.resources)\n                    || await System.import("lively.resources");\n      await resource("'.concat(sb,'").').concat(Xb,"(").concat(Nb?JSON.stringify(Nb):"",");\n    "))}},{key:"resourceExists",
value:function(sb){return this.evalWithResource(sb,"exists")}},{key:"resourceEnsureExistance",value:function(sb,Xb){return this.evalWithResource(sb,"ensureExistance",Xb)}},{key:"resourceMkdir",value:function(sb){return this.evalWithResource(sb,"mkdir")}},{key:"resourceRead",value:function(sb){return this.evalWithResource(sb,"read")}},{key:"resourceRemove",value:function(sb){return this.evalWithResource(sb,"remove")}},{key:"resourceWrite",value:function(sb,Xb){return this.evalWithResource(sb,"write",
Xb)}},{key:"resourceCreateFiles",value:function(sb,Xb){return this.runEvalAndStringify('var {createFiles} = await System.import("lively.resources"); await createFiles("'.concat(sb,'", ').concat(JSON.stringify(Xb),")"))}},{key:"resourceDirList",value:function(sb,Xb,Nb){return this.runEvalAndStringify('\n      var {resource} = await System.import("lively.resources");\n      (await resource("'.concat(sb,'").dirList(').concat(JSON.stringify(Xb),", ").concat(JSON.stringify(Nb),"))\n        .map(({url}) => ({url}))"))}},
{key:"livelySystemAccessor",value:function(){var sb=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"livelySystem";return"".concat(this.livelyModulesAccessor(),";\n      var ").concat(sb,' = (typeof lively !== "undefined" && lively.systemInterface)\n      || System.get(System.decanonicalize("lively-system-interface"))\n      || (await modules.importPackage("lively-system-interface"));\n    if (!').concat(sb,') throw new Error("lively-system-interface not available!");')}},{key:"livelyModulesAccessor",
value:function(){return"".concat(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"modules",' = System.get(System.decanonicalize("lively.modules"))')}},{key:"normalizeSync",value:function(sb,Xb,Nb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.System.decanonicalize(").concat(JSON.stringify(sb),", ").concat(JSON.stringify(Xb),", ").concat(Nb,")"))}},{key:"normalize",value:function(sb,Xb,Nb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),
", modules.System.normalize(").concat(JSON.stringify(sb),", ").concat(JSON.stringify(Xb),", ").concat(JSON.stringify(Nb),")"))}},{key:"printSystemConfig",value:function(){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.printSystemConfig()"))}},{key:"getConfig",value:function(){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),'; var c = Object.assign({}, modules.System.getConfig()); for (var name in c) if (name.indexOf("__lively.modules__") === 0 || name.indexOf("loads") === 0) delete c[name]; c'))}},
{key:"setConfig",value:function(sb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.System.config(").concat(JSON.stringify(sb),")"))}},{key:"getPackages",value:function(sb){sb=Object.assign({excluded:[]},sb);sb.excluded=sb.excluded.map(String);return this.runEvalAndStringify("\n      ".concat(this.livelySystemAccessor(),";\n      var options = ").concat(JSON.stringify(sb),";\n      var { syncEval } = await System.import('lively.vm');\n      options.excluded = options.excluded.map(ea => {\n        let evaled = syncEval(ea).value;\n        return typeof evaled === \"function\" ? evaled : ea;\n      });\n      await livelySystem.localInterface.getPackages(options)\n        .map(ea => Object.assign({}, ea, {System: null}));"))}},
{key:"getPackageForModule",value:function(sb){return this.runEvalAndStringify("\n      ".concat(this.livelySystemAccessor(),";\n      await livelySystem.localInterface.getPackageForModule(").concat(JSON.stringify(sb),")"))}},{key:"isModuleLoaded",value:function(sb,Xb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),', modules.isModuleLoaded("').concat(sb,'", ').concat(Xb,")"))}},{key:"doesModuleExist",value:function(sb,Xb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),
', modules.doesModuleExist("').concat(sb,'", ').concat(Xb,")"))}},{key:"registerPackage",value:function(){var sb=Bb(regeneratorRuntime.mark(function bc(Nb){return regeneratorRuntime.wrap(function(hb){for(;;)switch(hb.prev=hb.next){case 0:return hb.abrupt("return",this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.registerPackage(").concat(JSON.stringify(Nb),")")));case 1:case "end":return hb.stop()}},bc,this)}));return function(Nb){return sb.apply(this,arguments)}}()},{key:"importPackage",
value:function(){var sb=Bb(regeneratorRuntime.mark(function bc(Nb){return regeneratorRuntime.wrap(function(hb){for(;;)switch(hb.prev=hb.next){case 0:return hb.abrupt("return",this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.importPackage(").concat(JSON.stringify(Nb),")")));case 1:case "end":return hb.stop()}},bc,this)}));return function(Nb){return sb.apply(this,arguments)}}()},{key:"removePackage",value:function(){var sb=Bb(regeneratorRuntime.mark(function bc(Nb){return regeneratorRuntime.wrap(function(hb){for(;;)switch(hb.prev=
hb.next){case 0:return hb.abrupt("return",this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.removePackage(").concat(JSON.stringify(Nb),")")));case 1:case "end":return hb.stop()}},bc,this)}));return function(Nb){return sb.apply(this,arguments)}}()},{key:"reloadPackage",value:function(){var sb=Bb(regeneratorRuntime.mark(function hb(Nb,bc){return regeneratorRuntime.wrap(function(cb){for(;;)switch(cb.prev=cb.next){case 0:return cb.abrupt("return",this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),
", modules.reloadPackage(").concat(JSON.stringify(Nb),", ").concat(JSON.stringify(bc),")")));case 1:case "end":return cb.stop()}},hb,this)}));return function(Nb,bc){return sb.apply(this,arguments)}}()},{key:"packageConfChange",value:function(sb,Xb){return this.runEvalAndStringify("\n      ".concat(this.livelySystemAccessor(),";\n      await livelySystem.localInterface.packageConfChange(").concat(JSON.stringify(sb),", ").concat(JSON.stringify(Xb),")"))}},{key:"resourcesOfPackage",value:function(){var sb=
Bb(regeneratorRuntime.mark(function bc(Nb){var hb,cb=arguments;return regeneratorRuntime.wrap(function(Hb){for(;;)switch(Hb.prev=Hb.next){case 0:return hb=1<cb.length&&void 0!==cb[1]?cb[1]:[".git","node_modules",".module_cache","lively.next-node_modules"],Nb.address&&(Nb=Nb.address),Hb.abrupt("return",this.runEvalAndStringify("\n      ".concat(this.livelySystemAccessor(),";\n      await livelySystem.localInterface.resourcesOfPackage(").concat(JSON.stringify(Nb),", ").concat(JSON.stringify(hb),");")));
case 3:case "end":return Hb.stop()}},bc,this)}));return function(Nb){return sb.apply(this,arguments)}}()},{key:"getModule",value:function(){var sb=Bb(regeneratorRuntime.mark(function bc(Nb){var hb;return regeneratorRuntime.wrap(function(cb){for(;;)switch(cb.prev=cb.next){case 0:return cb.next=2,this.getModules();case 2:return cb.t0=function(Hb){return Hb.name===Nb},hb=cb.sent.find(cb.t0),cb.abrupt("return",hb?Pc.modules.module(hb.name):null);case 5:case "end":return cb.stop()}},bc,this)}));return function(Nb){return sb.apply(this,
arguments)}}()},{key:"importModule",value:function(sb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.System.import(").concat(JSON.stringify(sb),")"))}},{key:"forgetModule",value:function(sb,Xb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.module(").concat(JSON.stringify(sb),").unload(").concat(JSON.stringify(Xb),")"))}},{key:"reloadModule",value:function(sb,Xb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),
", modules.module(").concat(JSON.stringify(sb),").reload(").concat(JSON.stringify(Xb),")"))}},{key:"moduleFormat",value:function(sb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.module(").concat(JSON.stringify(sb),").format();"))}},{key:"moduleRead",value:function(sb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.module(").concat(JSON.stringify(sb),").source()"))}},{key:"moduleSourceChange",value:function(sb,Xb,Nb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),
", modules.module(").concat(JSON.stringify(sb),").changeSource(").concat(JSON.stringify(Xb),", ").concat(JSON.stringify(Nb),")"))}},{key:"keyValueListOfVariablesInModule",value:function(sb,Xb){return this.runEvalAndStringify("\n      ".concat(this.livelySystemAccessor(),";\n      await livelySystem.localInterface.keyValueListOfVariablesInModule(").concat(JSON.stringify(sb),", ").concat(JSON.stringify(Xb),")"))}},{key:"importsAndExportsOf",value:function(sb,Xb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),
", ({\n      imports: await modules.module(").concat(JSON.stringify(sb),").imports(),\n      exports: await modules.module(").concat(JSON.stringify(sb),").exports()})"))}},{key:"exportsOfModules",value:function(sb){return this.runEvalAndStringify("\n      ".concat(this.livelySystemAccessor(),"\n      const options = ").concat(JSON.stringify(sb),";\n      options.excludedPackages = [").concat(sb.excludedPackages.map(function(Xb){return"function"===typeof Xb?Xb.toString():JSON.stringify(Xb)}).join(","),
"]\n      await livelySystem.localInterface.exportsOfModules(options)"))}},{key:"searchInPackage",value:function(sb,Xb,Nb){return this.runEvalAndStringify("\n      ".concat(this.livelySystemAccessor(),";\n      await livelySystem.localInterface.searchInPackage(").concat(JSON.stringify(sb),", ").concat(JSON.stringify(Xb),", ").concat(JSON.stringify(Nb),")"))}},{key:"loadMochaTestFile",value:function(){var sb=Bb(regeneratorRuntime.mark(function bc(Nb){var hb,cb=arguments;return regeneratorRuntime.wrap(function(Hb){for(;;)switch(Hb.prev=
Hb.next){case 0:return hb=1<cb.length&&void 0!==cb[1]?cb[1]:[],Hb.abrupt("return",this.runEvalAndStringify("\n      ".concat(this.livelySystemAccessor(),";\n      var {testsByFile} = await livelySystem.localInterface.loadMochaTestFile(").concat(JSON.stringify(Nb),", ").concat(JSON.stringify(hb),"), result;\n      result = {testsByFile}")));case 2:case "end":return Hb.stop()}},bc,this)}));return function(Nb){return sb.apply(this,arguments)}}()},{key:"runMochaTests",value:function(){var sb=Bb(regeneratorRuntime.mark(function Hb(Nb,
bc,hb,cb){return regeneratorRuntime.wrap(function(ec){for(;;)switch(ec.prev=ec.next){case 0:return Nb&&Nb instanceof RegExp&&(Nb={isRegExp:!0,value:String(Nb).replace(/^\/|\/$/g,"")}),ec.abrupt("return",this.runEvalAndStringify("\n      var grep = ".concat(JSON.stringify(Nb),";\n      if (grep && grep.isRegExp) grep = new RegExp(grep.value);\n      ").concat(this.livelySystemAccessor(),";\n      var {testsByFile, isError, value: error} = await livelySystem.localInterface.runMochaTests(grep, ").concat(JSON.stringify(bc||
[]),"), result;\n      error = error ? String(error.stack || error) : null;\n      if (testsByFile) {\n        testsByFile.forEach(ea =>\n          ea.tests.forEach(ea => {\n            if (!ea.error) return;\n            var {message, stack, actual, expected} = ea.error;\n            ea.error = {\n              message: message || String(ea.error),\n              stack: stack,\n              actual, exected\n            }\n          }));\n      }\n      result = {testsByFile, isError, error};")));
case 2:case "end":return ec.stop()}},Hb,this)}));return function(Nb,bc,hb,cb){return sb.apply(this,arguments)}}()}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"RemoteCoreInterface"}}],ic,{pathInPackage:function(){return"./interfaces/interface.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively-system-interface",version:"0.2.1"}}},{start:4061,
end:17114})}(Pc.AbstractCoreInterface));Pc.RemoteCoreInterface=nd;Pc.RemoteCoreInterface=nd;gd=Object.freeze({__proto__:null,AbstractCoreInterface:gd,RemoteCoreInterface:nd});Lc("_",gd)}}});
System.register(["./__root_module__-82dea728.js","./index-862abc4b.js","./color-picker-a10b0a3f.js"],function(){var ta,mb,tb,Tb,Jb,rd,yc,vd,zc,Ec,Mc,zd,ne,De,Xd,Qb,qc,ld,Pb,ud,Ed,vc,ac,Eb,ec,wc,fd,cd,pc;return{setters:[function(cb){ta=cb.ax;mb=cb.a7;tb=cb.a8;Tb=cb.a_;Jb=cb.a6;rd=cb.ac;yc=cb.ad;vd=cb.aD;zc=cb.ap;Ec=cb.ab;Mc=cb.an;zd=cb.as;ne=cb.a3;De=cb.a1;Xd=cb.C;Qb=cb.au;qc=cb.aj;ld=cb.bP;Pb=cb.bs;ud=cb.af;Ed=cb.aw;vc=cb.bk;ac=cb.br;Eb=cb.bp;ec=cb.bv;wc=cb.bR},function(cb){fd=cb.N;cd=cb.I},
function(cb){pc=cb.a}],execute:function(){var cb=lively.FreezerRuntime.recorderFor("lively.ide/text/ui.js");cb.fun=ta;cb.string=mb;cb.obj=tb;cb.properties=Tb;cb.arr=Jb;cb.Text=rd;cb.config=yc;cb.HorizontalLayout=vd;cb.VerticalLayout=zc;cb.morph=Ec;cb.Morph=Mc;cb.Icon=zd;cb.pt=ne;cb.Rectangle=De;cb.Color=Xd;cb.connect=Qb;cb.once=qc;cb.noUpdate=ld;cb.ColorPicker=pc;cb.DropDownList=Pb;cb.loadObjectFromPartsbinFolder=ud;cb.cachedControls=new WeakMap;var fb=function(Qa){var wb=lively.FreezerRuntime.recorderFor("lively.ide/text/ui.js"),
fc=wb.hasOwnProperty("RichTextControl")&&"function"===typeof wb.RichTextControl?wb.RichTextControl:wb.RichTextControl=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ed(fc,Qa,[{key:"toggleButton",value:function($a,ib){$a.master=ib?{auto:"styleguide://SystemIDE/selected button"}:{auto:"styleguide://System/dark button"}}},{key:"reset",value:function(){var $a=this.ui.fontSelection;$a.items=cb.RichTextControl.basicFontItems();
$a.selection=$a.items[0].value;cb.connect(this.target,"selectionChange",this,"update")}},{key:"alignAtTarget",value:function($a){$a=void 0===$a?!!this.world():$a;var ib=this.target,ab=ib.world()||$world,U=this.globalBounds();ib=(ib.selection.isEmpty()?ib.globalBounds():ib.getGlobalTransform().transformRectToRect(ib.selectionBounds().translatedBy(ib.scroll.negated()))).bottomCenter().subPt(U.topCenter());ab=ab.visibleBounds().translateForInclusion(U.translatedBy(ib)).topLeft().subPt(U.topLeft());ab=
this.position.addPt(ab);$a?this.animate({duration:300,position:ab}):this.position=ab}},{key:"removeFocus",value:function(){this.autoRemove&&this.target&&(this.remove(),this.target=null)}},{key:"focusOn",value:function($a,ib){ib=void 0===ib?!0:ib;var ab=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(U){if(1==U.nextAddress)return ab.target=$a,ab.update(),U.yield(ab.whenRendered(),2);ab.ui.fontSizeField.relayout();ib&&ab.alignAtTarget();U.jumpToEnd()})}},{key:"setupConnections",value:function(){cb.connect(this.ui.paddingField,
"number",this,"setPadding");cb.connect(this.ui.paddingFieldTop,"number",this,"setPaddingTop");cb.connect(this.ui.paddingFieldBottom,"number",this,"setPaddingBottom");cb.connect(this.ui.paddingFieldLeft,"number",this,"setPaddingLeft");cb.connect(this.ui.paddingFieldRight,"number",this,"setPaddingRight")}},{key:"update",value:function(){var $a=this,ib=this.target,ab=this.updateSpec,U=ib.selection;U=U?U.isEmpty()?ib.textAttributeAt(U.start):ib.getStyleInRange(U):{};var ua=this.managedProps,M=cb.obj.select(ib,
ua);ib=$jscomp.makeIterator(Object.entries(cb.obj.select(U||{},ua)));for(U=ib.next();!U.done;U=ib.next())ua=$jscomp.makeIterator(U.value),U=ua.next().value,ua=ua.next().value,"undefined"!==typeof ua&&(M[U]=ua);cb.noUpdate(function(){for(var ea=$jscomp.makeIterator(Object.entries($a.ui)),Ka=ea.next();!Ka.done;Ka=ea.next()){var Za=$jscomp.makeIterator(Ka.value);Ka=Za.next().value;Za=Za.next().value;if(ab[Ka])ab[Ka](M,Za)}})}},{key:"relayout",value:function(){}},{key:"changeAttributeInSelectionOrMorph",
value:function($a,ib){var ab=this.target,U=ab.selection;ab.isLabel||U.isEmpty()?ab[$a]="function"===typeof ib?ib(ab[$a]):ib:(ab.undoManager.group(),ab.changeStyleProperty($a,function(ua){return"function"===typeof ib?ib(ua):ib}),ab.undoManager.group())}},{key:"changeFont",value:function($a){var ib=this,ab;return $jscomp.asyncExecutePromiseGeneratorProgram(function(U){if(1==U.nextAddress)return ib._last=$a,(ab="custom..."===$a)?U.yield($world.prompt("Enter font family name",{requester:ib.target,historyId:"lively.morphic-rich-text-font-names",
useLastInput:!0}),3):U.jumpTo(2);if(2!=U.nextAddress&&($a=U.yieldResult,!$a))return U.return();ib.changeAttributeInSelectionOrMorph("fontFamily",$a);U.jumpToEnd()})}},{key:"setPadding",value:function($a){this.target.padding=cb.Rectangle.inset($a)}},{key:"setPaddingTop",value:function($a){var ib=this.target.padding;this.target.padding=cb.Rectangle.inset(ib.left(),$a,ib.right(),ib.bottom())}},{key:"setPaddingLeft",value:function($a){var ib=this.target.padding;this.target.padding=cb.Rectangle.inset($a,
ib.top(),ib.right(),ib.bottom())}},{key:"setPaddingRight",value:function($a){var ib=this.target.padding;this.target.padding=cb.Rectangle.inset(ib.left(),ib.top(),$a,ib.bottom())}},{key:"setPaddingBottom",value:function($a){var ib=this.target.padding;this.target.padding=cb.Rectangle.inset(ib.left(),ib.top(),ib.right(),$a)}},{key:"setLineWrapping",value:function($a){this.target.lineWrapping=$a}},{key:"changeFontWeight",value:function($a){this.changeAttributeInSelectionOrMorph("fontWeight",$a)}},{key:"changeTextAlign",
value:function($a){this.changeAttributeInSelectionOrMorph("textAlign",$a)}},{key:"changeFontColor",value:function($a){this.changeAttributeInSelectionOrMorph("fontColor",$a)}},{key:"changeFontSize",value:function($a){this.changeAttributeInSelectionOrMorph("fontSize",$a)}},{key:"changeFixedWidth",value:function($a){this.target.fixedWidth=$a}},{key:"changeFixedHeight",value:function($a){this.target.fixedHeight=$a}},{key:"changeLink",value:function(){var $a=this,ib,ab,U,ua,M;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ea){if(1==
ea.nextAddress)return ib=$a.target,ab=ib.selection,U=ib.getStyleInRange(ab),ua=U.link,ea.yield($a.world().prompt("Set link",{input:ua||"https://"}),2);M=ea.yieldResult;ib.undoManager.group();ib.setStyleInRange({link:M||void 0},ab);ib.undoManager.group();$a.autoRemove&&$a.remove();ea.jumpToEnd()})}},{key:"toggleUnderline",value:function(){this.changeAttributeInSelectionOrMorph("textDecoration",function($a){return"underline"===$a?"none":"underline"})}},{key:"toggleItalic",value:function(){this.changeAttributeInSelectionOrMorph("fontStyle",
function($a){return"italic"===$a?"normal":"italic"})}},{key:"toggleBold",value:function(){this.changeAttributeInSelectionOrMorph("fontWeight",function($a){return"bold"===$a||"700"===$a?"normal":"bold"})}},{key:"copyStyle",value:function(){var $a=this,ib=this.target,ab=this.ui.applyStyleButton;ib=ib.selection.isEmpty()?ib.defaultTextStyle:ib.getStyleInRange(ib.selection);var U=JSON.stringify(ib,null,2);this.constructor.copiedStyle=ib;ab.tooltip="paste style\n"+U;this.env.eventDispatcher.doCopyWithMimeTypes([{type:"text/plain",
data:U},{type:"application/morphic-text-style",styleString:U}]).then(function(){return $a.setStatusMessage("Copied style\n"+U)}).catch(function(ua){return $a.showError(ua)})}},{key:"pasteStyle",value:function(){var $a=this,ib=this.target,ab=this.constructor.copiedStyle;ib.selection.isEmpty()?Object.assign(ib,ab):ib.selections.forEach(function(U){return ib.addTextAttribute($a.constructor.copiedStyle,U)});this.update()}},{key:"clearStyle",value:function(){var $a=this.target;$a.selections.forEach(function(ib){return $a.resetStyleInRange(ib)});
this.update()}},{key:"configureRichTextOptions",value:function(){this.getSubmorphNamed("config panel")&&this.getSubmorphNamed("config panel").remove();var $a=this.defaultSpec,ib=this.uiSpec;$a=this.addMorph({name:"config panel",layout:new cb.VerticalLayout({spacing:5}),epiMorph:!0,submorphs:[].concat($jscomp.arrayFromIterable(Object.keys($a).map(function(ab){var U=ib.rows.some(function(ua){return ua.some(function(M){return M===ab})});return{type:"labeledcheckbox",label:ab,name:ab,checked:U}})),[{layout:new cb.HorizontalLayout({spacing:3}),
submorphs:[{type:"button",name:"OK button",label:"OK"},{type:"button",name:"cancel button",label:"Cancel"}]}])});$a.center=this.innerBounds().center();cb.connect($a.getSubmorphNamed("OK button"),"fire",this,"configureAccepted");cb.connect($a.getSubmorphNamed("cancel button"),"fire",this,"configureCanceled")}},{key:"configureAccepted",value:function(){var $a=this.getSubmorphNamed("config panel");$a&&($a.remove(),$a.submorphs.filter(function(ib){return"LabeledCheckBox"===ib.constructor.name}))}},{key:"configureCanceled",
value:function(){var $a=this.getSubmorphNamed("config panel");$a&&$a.remove()}},{key:"close",value:function(){var $a=this;this.target&&this.target.attributeConnections&&this.target.attributeConnections.forEach(function(ib){return ib.targetObj===$a&&ib.disconnect()});this.remove()}},{key:"alwaysTargetFocusedMorph",value:function(){this.startStepping(1500,"updateTarget")}},{key:"updateTarget",value:function(){var $a=this.world();$a&&($a=$a.focusedMorph)&&($a.isLabel||$a.isText)&&!this.isAncestorOf($a)&&
this.target!==$a&&this.focusOn($a,!1)}},{key:"onMouseUp",value:function($a){var ib=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ab){if(1==ab.nextAddress)return ab.yield(ib.whenRendered(),2);ib.update();ab.jumpToEnd()})}},{key:"attachToWorld",value:function(){cb.connect($world,"onMouseDown",this,"updateTarget",{garbageCollect:!0})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RichTextControl"}},{key:"properties",get:function(){return{autoRemove:{defaultValue:!1},
target:{},toggleColor:{},managedProps:{readOnly:!0,get:function(){return"fontFamily fontWeight fontSize fontStyle isText fontColor textAlign link textDecoration fixedWidth fixedHeight lineWrapping padding".split(" ")}},updateSpec:{get:function(){var $a=this;return Object.assign({fontSelection:function(ib,ab){var U=ib.fontFamily;(ib=U&&ab.items.find(function(ua){return ua.value.toLowerCase()===U.toLowerCase()}))?ab.selection=ib.value:U&&(ab.items=ab.items.concat({isListItem:!0,label:[U,{fontFamily:U}],
value:U}),ab.selection=cb.arr.last(ab.items));ab.fit();ab.width=Math.max(ab.width,170)},fontWeightSelection:function(ib,ab){ab.selection="normal"==ib.fontWeight?"Medium":ib.fontWeight?cb.string.capitalize(ib.fontWeight):"Medium"},boldButton:function(ib,ab){$a.toggleButton(ab,"bold"===ib.fontWeight)},italicButton:function(ib,ab){$a.toggleButton(ab,"italic"===ib.fontStyle)},underlineButton:function(ib,ab){$a.toggleButton(ab,"underline"===ib.textDecoration)},linkButton:function(ib,ab){$a.toggleButton(ab,
!!ib.link)},colorPicker:function(ib,ab){ab.colorValue=ib.fontColor},fontSizeField:function(ib,ab){ab.number=ib.fontSize},fixedWidthControl:function(ib,ab){ib.isText?ab.enable():ab.disable();ab.checked=ib.fixedWidth},fixedHeightControl:function(ib,ab){ib.isText?ab.enable():ab.disable();ab.checked=ib.fixedHeight},lineWrappingControl:function(ib,ab){var U=$jscomp.makeIterator(ab.submorphs);ab=U.next().value;U=U.next().value;ab.checked=!!ib.lineWrapping;ib.isText?ab.enable():ab.disable();U.deactivated=
!ib.lineWrapping;U.deactivated?U.opacity=.5:(U.opacity=1,U.selection=ib.lineWrapping)},paddingControl:function(ib,ab){var U=ib.padding,ua=U.left();ib=U.top();var M=U.right();U=U.bottom();var ea=!cb.arr.every([ua,ib,M,U],function(Ka){return Ka==ua});ab.get("multi value indicator").visible=ea;cb.connect(ab.get("multi value indicator"),"onMouseDown",ab.get("padding field"),"number",{converter:"() => left",varMapping:{left:ua}});ab.get("padding field").number=ua;ab.get("padding field").visible=!ea;ab.get("padding field top").number=
ib;ab.get("padding field left").number=ua;ab.get("padding field right").number=M;ab.get("padding field bottom").number=U}},["left","center","right","block"].reduce(function(ib,ab){ib[ab+"Align"]=function(U,ua){ua.deactivated=!U.isText;$a.toggleButton(ua,U.textAlign==ab)};return ib},{}))}},ui:{get:function(){var $a=this,ib={fontSelection:"font selection",fontWeightSelection:"font weight selection",boldButton:"bold button",italicButton:"italic button",underlineButton:"underline button",linkButton:"link button",
leftAlign:"left align",centerAlign:"center align",rightAlign:"right align",blockAlign:"block align",fontSizeField:"font size field",colorPicker:"color picker",copyStyleButton:"copy style",applyStyleButton:"apply style",removeStyleButton:"remove style",fixedHeightControl:"fixed height control",fixedWidthControl:"fixed width control",lineWrappingControl:"line wrapping control",paddingControl:"padding control",paddingField:"padding field",paddingFieldTop:"padding field top",paddingFieldLeft:"padding field left",
paddingFieldRight:"padding field right",paddingFieldBottom:"padding field bottom"};return cb.obj.extract(ib,cb.obj.keys(ib),function(ab,U){return $a.getSubmorphNamed(U)})}}}}},{key:"openDebouncedFor",value:function($a){var ib=$a.selection;if(ib.isEmpty()){var ab=cb.cachedControls.get($a);ab&&(ab.update(),ab.alignAtTarget(),ab.world()||$a.world().addMorph(ab))}else cb.fun.debounceNamed($a.id+"openRichTextControl",600,function(){var U=cb.cachedControls.get($a);ib.isEmpty()?U&&U.removeFocus():(U&&U.world()||
(U=new cb.RichTextControl,cb.cachedControls.set($a,U)),$a.world().addMorph(U),U.focusOn($a,!0),U.alwaysTargetFocusedMorph())})()}},{key:"openFor",value:function($a){var ib=cb.cachedControls.get($a);ib?ib.update():(ib=new cb.RichTextControl,cb.cachedControls.set($a,ib),ib.focusOn($a,!0),ib.alwaysTargetFocusedMorph());ib.alignAtTarget();ib.world()||$a.world().addMorph(ib);return ib}}],wb,{pathInPackage:function(){return"text/ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:624,end:17067})}(cb.Morph);cb.RichTextControl=fb;cb.RichTextControl=fb;cb.RichTextControl=fb;fb=lively.FreezerRuntime.recorderFor("ProtoSearchField/index.js");fb.SearchField=vc;var ya=function(Qa){var wb=lively.FreezerRuntime.recorderFor("ProtoSearchField/index.js"),fc=wb.hasOwnProperty("ProtoSearchField")&&"function"===typeof wb.ProtoSearchField?wb.ProtoSearchField:
wb.ProtoSearchField=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ed(fc,Qa,void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ProtoSearchField"}},{key:"properties",get:function(){return{master:{initialize:function(){}}}}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"ProtoSearchField",version:"0.1.1-0"}}},{start:76,end:221})}(fb.SearchField);ya=fb.ProtoSearchField;fb.default=ya;var Ea=lively.FreezerRuntime.recorderFor("ProtoTree/index.js");Ea.Tree=ac;Ea.TreeData=Eb;fb=function(Qa){var wb=lively.FreezerRuntime.recorderFor("ProtoTree/index.js"),fc=wb.hasOwnProperty("TestTreeData")&&"function"===typeof wb.TestTreeData?wb.TestTreeData:wb.TestTreeData=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Ed(fc,Qa,[{key:"display",value:function($a){return $a.name}},{key:"isCollapsed",value:function($a){return $a.isCollapsed}},{key:"collapse",value:function($a,ib){$a.isCollapsed=ib}},{key:"getChildren",value:function($a){return $a.isLeaf?null:$a.isCollapsed?[]:$a.children}},{key:"isLeaf",value:function($a){return $a.isLeaf}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TestTreeData"}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ProtoTree",version:"0.1.1-2"}}},{start:113,end:417})}(Ea.TreeData);Ea.TestTreeData=fb;Ea.TestTreeData=fb;Ea.TestTreeData=fb;fb=function(Qa){var wb=lively.FreezerRuntime.recorderFor("ProtoTree/index.js"),fc=wb.hasOwnProperty("ProtoTree")&&"function"===typeof wb.ProtoTree?wb.ProtoTree:wb.ProtoTree=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Ed(fc,Qa,void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ProtoTree"}},{key:"properties",get:function(){return{treeData:{initialize:function(){this.treeData=new Ea.TestTreeData({name:"root",isCollapsed:!1,isLeaf:!1,children:[{name:"child 1",isLeaf:!0},{name:"child 2",isLeaf:!1,isCollapsed:!0,children:[{name:"child 2 - 1",isLeaf:!0}]},{name:"child 3",isLeaf:!1,isCollapsed:!1,children:[{name:"child 3 - 1",isLeaf:!0},{name:"child 3 - 2",isLeaf:!0}]},{name:"child 4",
isLeaf:!0}]})}},master:{initialize:function(){}}}}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ProtoTree",version:"0.1.1-2"}}},{start:434,end:1297})}(Ea.Tree);fb=Ea.ProtoTree;Ea.default=fb;var Ba=lively.FreezerRuntime.recorderFor("RadioButton/index.js");Ba.Morph=Mc;Ba.Color=Xd;Ba.pt=ne;Ba.connect=Qb;Ba.Closure=ec;fb=function(Qa){var wb=
lively.FreezerRuntime.recorderFor("RadioButton/index.js"),fc=wb.hasOwnProperty("RadioButton")&&"function"===typeof wb.RadioButton?wb.RadioButton:wb.RadioButton=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ed(fc,Qa,[{key:"reset",value:function(){var $a=this.indicator;$a.borderWidth=1;$a.borderColor=Ba.Color.gray;this.selected=!1;Ba.connect($a,"onMouseUp",this,"select")}},{key:"morph",get:function(){var $a=
this.indicator;return this.submorphs.find(function(ib){return ib!==$a})}},{key:"morph",set:function($a){var ib=this.indicator;this.submorphs.forEach(function(ab){ab!==ib&&ab.remove()});$a.position=Ba.pt(50,0);this.addMorph($a)}},{key:"value",get:function(){if(!this.valueFn){try{var $a=JSON.parse(this.valueFunctionString)}catch(ib){$a=this.valueFunctionString}this.valueFn=Ba.Closure.fromSource($a).recreateFunc()}return this.morph?this.valueFn(this.morph):void 0}},{key:"onMouseDown",value:function($a){this.select()}},
{key:"select",value:function(){this.selected=!0;this.owner.setSelection(this)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RadioButton"}},{key:"properties",get:function(){return{indicator:{get:function(){return this.getSubmorphNamed("indicator")}},selectionColor:{},selectionStyle:{},selected:{after:["indicator"],defaultValue:!1,set:function($a){var ib=this;this.whenRendered().then(function(ab){$a?(ib.indicator.fill=ib.selectionColor,ib.animate({opacity:1,duration:200})):(ib.indicator.fill=
Ba.Color.transparant,ib.animate({opacity:.5,duration:200}))});this.setProperty("selected",!!$a)}},valueFunctionString:{defaultValue:'"function (morph) { return morph.value; }"',set:function($a){this.setProperty("valueFunctionString",$a.toString());this.valueFn=void 0}}}}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"RadioButton",
version:"0.1.1-48"}}},{start:210,end:2235})}(Ba.Morph);fb=Ba.RadioButton;Ba.default=fb;fb=lively.FreezerRuntime.recorderFor("ProtoNumberWidget/index.js");fb.NumberWidget=fd;ya=function(Qa){var wb=lively.FreezerRuntime.recorderFor("ProtoNumberWidget/index.js"),fc=wb.hasOwnProperty("ProtoNumberWidget")&&"function"===typeof wb.ProtoNumberWidget?wb.ProtoNumberWidget:wb.ProtoNumberWidget=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Ed(fc,Qa,void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ProtoNumberWidget"}},{key:"properties",get:function(){return{master:{initialize:function(){}}}}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ProtoNumberWidget",version:"0.1.1-0"}}},{start:76,end:224})}(fb.NumberWidget);ya=fb.ProtoNumberWidget;
fb.default=ya;fb=lively.FreezerRuntime.recorderFor("FrameResizer/index.js");fb.Morph=Mc;ya=function(Qa){var wb=lively.FreezerRuntime.recorderFor("FrameResizer/index.js"),fc=wb.hasOwnProperty("FrameResizer")&&"function"===typeof wb.FrameResizer?wb.FrameResizer:wb.FrameResizer=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ed(fc,Qa,[{key:"onDrag",value:function($a){var ib=this.owner.left;$a=$a.positionIn(this).x;
$a*="left"==this.direction?-1:1;this.owner.width+=$a;350>this.owner.width&&($a+=350-this.owner.width,this.owner.width=350);this.owner.left="left"==this.direction?ib-$a:ib}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FrameResizer"}},{key:"properties",get:function(){return{direction:{type:"Enum",values:["left","right"]}}}}],wb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"FrameResizer",version:"0.1.1-24"}}},{start:56,end:840})}(fb.Morph);ya=fb.FrameResizer;fb.default=ya;var xa=lively.FreezerRuntime.recorderFor("ShapeLayoutControl/index.js");xa.Morph=Mc;xa.morph=Ec;xa.layouts=wc;xa.string=mb;xa.connect=Qb;xa.noUpdate=ld;xa.InteractiveMorphSelector=cd;xa.Color=Xd;xa.pt=ne;fb=function(Qa){var wb=lively.FreezerRuntime.recorderFor("ShapeLayoutControl/index.js"),fc=wb.hasOwnProperty("ShapeLayoutControl")&&"function"===typeof wb.ShapeLayoutControl?
wb.ShapeLayoutControl:wb.ShapeLayoutControl=function($a){$a&&$a[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ed(fc,Qa,[{key:"focusOn",value:function($a){this.target=$a;this.update(!1)}},{key:"setupConnections",value:function(){var $a=this.ui;xa.connect($a.submorphSettingsControl,"fire",this,"chooseSubmorphToChangeLayoutSettings");xa.connect($a.dragmeControl,"onDragStart",this,"onSubmorphSettingsDragStart");xa.connect($a.xAxisPolicyControl,
"selection",this,"updateSubmorphProportionalLayoutSettings",{converter:'policy => ({\n        policy,\n        axis: "x",\n        submorph: self.selectedSubmorph,\n      })',varMapping:{self:this}});xa.connect($a.yAxisPolicyControl,"selection",this,"updateSubmorphProportionalLayoutSettings",{converter:'policy => ({\n        policy,\n        axis: "y",\n        submorph: self.selectedSubmorph,\n      })',varMapping:{self:this}});for(var ib={},ab=$jscomp.makeIterator(this.managedProps),U=ab.next();!U.done;ib=
{$jscomp$loop$prop$prop$2657:ib.$jscomp$loop$prop$prop$2657},U=ab.next()){var ua=$jscomp.makeIterator(U.value),M=ua.next().value;U=ua.next().value;ua.next().value||(ib.$jscomp$loop$prop$prop$2657=this.join(M),ua=$a[this.join(M,"control")],xa.connect(ua,U,this,"updateLayout",{updater:function(ea){return function(Ka,Za){Ka(ea.$jscomp$loop$prop$prop$2657,Za)}}(ib),varMapping:{prop:ib.$jscomp$loop$prop$prop$2657}}))}}},{key:"lower",value:function($a){return $a.charAt(0).toLowerCase()+$a.slice(1)}},{key:"join",
value:function($a,ib){return this.lower(xa.string.camelCaseString($a+(ib?" "+ib:"")))}},{key:"updateLayoutOfTarget",value:function($a){$a=xa.layouts[xa.string.camelCaseString($a)];this.target.layout=$a?new $a({autoResize:!1}):null;this.update()}},{key:"updateLayout",value:function($a,ib){this.target.layout[$a]=ib}},{key:"update",value:function($a){var ib=this;this.target&&xa.noUpdate(function(){for(var ab=ib.ui,U=ib.target.layout||{name:function(){return"No"}},ua=$jscomp.makeIterator(ib.managedProps),
M=ua.next();!M.done;M=ua.next()){var ea=$jscomp.makeIterator(M.value);M=ea.next().value;var Ka=ea.next().value;ea.next();ea=ab[ib.join(M,"control")];var Za=ab[ib.join(M,"label")];if(Ka)if("type"===M)ea.selection=U.name()+" Layout";else{var $b=U[ib.join(M)],Qc="undefined"!==typeof $b;if(Qc){switch(M){case "align":ea.items=U.possibleAlignValues;break;case "direction":ea.items=U.possibleDirectionValues;break;case "axis":ea.items=U.possibleAxisValues}ea[Ka]=$b}Za.isLayoutable=Za.visible=Qc}}ib.showGridLayoutControl("Grid"===
U.name());ib.showProportionalControl("Proportional"===U.name())})}},{key:"updateSubmorphProportionalLayoutSettings",value:function($a){var ib={};this.target.layout.changeSettingsFor($a.submorph,(ib[$a.axis]=$a.policy,ib),!0)}},{key:"onSubmorphSettingsDragStart",value:function($a){var ib=this;$a.stop();var ab=this.target.layout,U=ab.settingsFor(this.selectedSubmorph),ua=[],M;for(M in U)ua=[].concat($jscomp.arrayFromIterable(ua),[M+": ",{fontWeight:"bold"},U[M]+" ",{}]);var ea=xa.morph({type:"label",
fontColor:xa.Color.white,value:ua,fill:xa.Color.black.withA(.7),padding:5,borderRadius:10,isLayoutable:!1});ea.wantsToBeDroppedOn=function(Ka){return ab.layoutableSubmorphs.includes(Ka)};ea.onBeingDroppedOn=function(Ka,Za){ea.remove();if(Ka=ab.layoutableSubmorphs.includes(Za)?Za:$a.world.morphsContainingPoint($a.hand.position).find(function($b){return ab.layoutableSubmorphs.includes($b)}))ib.updateSubmorphProportionalLayoutSettings({policy:U.x,axis:"x",submorph:Ka}),ib.updateSubmorphProportionalLayoutSettings({policy:U.y,
axis:"y",submorph:Ka}),Ka.show(),$world.setStatusMessage("layout settings applied")};$a.hand.grab(ea);ea.moveBy(xa.pt(10,10))}},{key:"chooseSubmorphToChangeLayoutSettings",value:function(){var $a=this,ib,ab,U,ua,M,ea,Ka,Za,$b;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qc){switch(Qc.nextAddress){case 1:return ib=$a.target.layout.layoutableSubmorphs,$a.manageFocus=!0,$a.env.eventDispatcher.isKeyPressed("Shift")?(U=ib.map(function(Ub){return{isListItem:!0,string:String(Ub),value:Ub}}),
Qc.yield($world.listPrompt("Select morph",U,{onSelection:function(Ub){return Ub.show()}}),5)):Qc.yield(xa.InteractiveMorphSelector.selectMorph($a.world(),$a,function(Ub){return ib.includes(Ub)}),4);case 4:ab=Qc.yieldResult;Qc.jumpTo(3);break;case 5:ua=Qc.yieldResult,M=$jscomp.makeIterator(ua.selected),ab=M.next().value;case 3:$a.manageFocus=!1;$a.selectedSubmorph=ab;if(!ab)return Qc.return();ea=$a.ui;Ka=ea.xAxisPolicyControl;Za=ea.yAxisPolicyControl;$b=$a.target.layout.settingsFor(ab);xa.noUpdate(function(){Ka.selection=
$b.x;Za.selection=$b.y});Qc.jumpToEnd()}})}},{key:"showProportionalControl",value:function($a){var ib=this.ui;[ib.submorphSettingsControl,ib.dragmeControl,ib.xAxisPolicyControl,ib.xAxisPolicyLabel,ib.yAxisPolicyControl,ib.yAxisPolicyLabel].forEach(function(ab){ab.isLayoutable=$a;ab.visible=$a})}},{key:"showGridLayoutHalo",value:function(){$world.showLayoutHaloFor(this.target)}},{key:"showGridLayoutControl",value:function($a){var ib=this.ui.configureGridLayoutControl;ib.visible=ib.isLayoutable=$a}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShapeLayoutControl"}},{key:"properties",get:function(){return{managedProps:{get:function(){return[["type","selection",!0],["align","selection"],["direction","selection"],["axis","selection"],["spacing","number"],["auto resize","checked"],["resize submorphs","checked"],["x axis policy","selection",!0],["y axis policy","selection",!0],["react to submorph animations","checked"],["submorph settings",!1,!0],["order by index","checked"],["dragme",
!1,!0],["configure grid layout",!1,!0]]}},ui:{readOnly:!0,get:function(){for(var $a={labelContainer:this.getSubmorphNamed("label container"),controlContainer:this.getSubmorphNamed("control container")},ib=$jscomp.makeIterator(this.managedProps),ab=ib.next();!ab.done;ab=ib.next()){var U=$jscomp.makeIterator(ab.value).next().value;ab=U+" label";U+=" control";$a[this.join(ab)]=this.getSubmorphNamed(ab);$a[this.join(U)]=this.getSubmorphNamed(U)}return $a}}}}}],wb,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeLayoutControl",version:"0.1.1-166"}}},{start:345,end:7771})}(xa.Morph);fb=xa.ShapeLayoutControl;xa.default=fb}}});
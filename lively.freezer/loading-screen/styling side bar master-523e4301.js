System.register("./__root_module__-c4f77fb9.js kld-intersections ./index-f69ab412.js ./index-cb8cbefd.js ./index-2a389db9.js ./color-picker-362ec312.js ./index-a9da81db.js".split(" "),function(){var ra,jb,pb,Ub,Jb,jd,uc,nd,wc,Cc,Mc,Bd,re,Ce,be,Sb,qc,od,Tb,wd,Fd,fc;return{setters:[function(ic){ra=ic.an;jb=ic.aC;pb=ic.ab;Ub=ic.as;Jb=ic.aa;jd=ic.a3;uc=ic.C;nd=ic.ax;wc=ic.au;Cc=ic.bp;Mc=ic.aw;Bd=ic.a8;re=ic.a7;Ce=ic.bP;be=ic.aj;Sb=ic.av;qc=ic.r;od=ic.a6;Tb=ic.P;wd=ic.bS;Fd=ic.bT},function(){},function(){},
function(){},function(){},function(ic){fc=ic.S},function(){}],execute:function(){var ic=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js");ic.Morph=ra;ic.touchInputDevice=jb;ic.morph=pb;ic.Icon=Ub;ic.easings=Jb;ic.pt=jd;ic.Color=uc;ic.fun=nd;ic.connect=wc;ic.TreeData=Cc;var Ab=function(ob){var kb=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),tb=kb.hasOwnProperty("SettingsTree")&&"function"===typeof kb.SettingsTree?kb.SettingsTree:kb.SettingsTree=function(Aa){Aa&&Aa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Mc(tb,ob,[{key:"display",value:function(Aa){return Aa.panel?[Aa.panel,{}]:Aa.name}},{key:"collapse",value:function(Aa,Fa){Aa.isCollapsed=Fa}},{key:"isCollapsed",value:function(Aa){return Aa.isCollapsed}},{key:"isLeaf",value:function(Aa){return!Aa.children}},{key:"getChildren",value:function(Aa){var Fa=this;return Aa===this.root?Aa.children.filter(function(Ba){return Fa.target&&Ba.applicabilityCheck?eval(Ba.applicabilityCheck)(Fa.target):
!0}):Aa.children}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SettingsTree"}},{key:"default",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" ",{}].concat($jscomp.arrayFromIterable(ic.Icon.textAttribute("font")),[" Rich Text",{fontWeight:"bold"}]),children:[{panel:ic.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(ic.Icon.textAttribute("image")),[" Shape",{fontWeight:"bold"}]),children:[{panel:ic.morph({})}]},{isCollapsed:!1,
name:[" ",{}].concat($jscomp.arrayFromIterable(ic.Icon.textAttribute("border-style")),[" Border",{paddingLeft:"2px",fontWeight:"bold"}]),children:[{panel:ic.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(ic.Icon.textAttribute("grip-vertical")),[" Layout",{paddingLeft:"4px",fontWeight:"bold"}]),children:[{panel:ic.morph({})}]}]})}},{key:"border",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" Type    ",{},ic.morph({height:20}),{}],children:[{panel:ic.morph({})}]},
{isCollapsed:!1,name:[" Color   ",{},ic.morph({height:20}),{}],children:[{panel:ic.morph({})}]},{isCollapsed:!1,name:[" Width  ",{},ic.morph({height:20}),{}],children:[{panel:ic.morph({})}]},{isCollapsed:!1,name:[" Radius ",{},ic.morph({height:20}),{}],children:[{panel:ic.morph({})}]}]})}}],kb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",
version:"0.1.1-67"}}},{start:284,end:2663})}(ic.TreeData);ic.SettingsTree=Ab;ic.SettingsTree=Ab;ic.SettingsTree=Ab;Ab=function(ob){var kb=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),tb=kb.hasOwnProperty("StylingSideBar")&&"function"===typeof kb.StylingSideBar?kb.StylingSideBar:kb.StylingSideBar=function(Aa){Aa&&Aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Mc(tb,ob,[{key:"relayout",value:function(){this.onWorldResize()}},
{key:"collapseAll",value:function(){this.getSubmorphsByStyleClassName("Tree").forEach(function(Aa){Aa.nodes.forEach(function(Fa){return Aa.treeData.root==Fa?Aa.uncollapse(Fa):Aa.collapse(Fa)})})}},{key:"onWorldResize",value:function(Aa){Aa=void 0===Aa?!0:Aa;if(this.respondsToVisibleWindow){var Fa=$world.visibleBounds(),Ba=navigator.standalone&&ic.touchInputDevice?25:0,wa=this.getSubmorphNamed("horizontal resizer");this.height=Fa.height-Ba;this.top=Ba+Fa.top();wa.height=this.height;wa.left=0;wa.top=
0;Aa&&(this.visible?this.topRight=Fa.topRight():this.topLeft=Fa.topRight())}}},{key:"toggle",value:function(Aa){var Fa=this,Ba,wa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Na){switch(Na.nextAddress){case 1:Ba=$world.visibleBounds().withTopLeft(ic.pt(0,0));wa=navigator.standalone&&ic.touchInputDevice?25:0;Fa.height=Ba.height-wa;Fa.top=wa+Ba.top();if(Aa)return $world.addMorph(Fa,$world.get("lively top bar")),Fa.topLeft=Ba.topRight(),Fa.visible=!0,Na.yield(Fa.whenRendered(),5);Fa.detachFromWorld($world);
return Na.yield(Fa.animate({opacity:0,topLeft:Ba.topRight(),duration:300}),4);case 4:Fa.visible=!1;Fa.remove();Na.jumpTo(0);break;case 5:return Fa.onWorldResize(!1),Na.yield(Fa.animate({opacity:1,easing:ic.easings.outCirc,topRight:Ba.topRight(),duration:300}),6);case 6:Fa.attachToWorld($world),Na.jumpToEnd()}})}},{key:"cleanupAnchors",value:function(){for(var Aa=this.withAllSubmorphsSelect(function(Na){return Na.anchors&&Na.anchors.filter(function(La){return!La.id}).length}),Fa={},Ba=$jscomp.makeIterator(Aa),
wa=Ba.next();!wa.done;Fa={$jscomp$loop$prop$m$2565:Fa.$jscomp$loop$prop$m$2565},wa=Ba.next())Fa.$jscomp$loop$prop$m$2565=wa.value,Fa.$jscomp$loop$prop$m$2565.anchors.forEach(function(Na){return function(La){return!La.id&&Na.$jscomp$loop$prop$m$2565.removeAnchor(La)}}(Fa));return Aa.length}},{key:"attachToWorld",value:function(Aa){ic.connect(Aa,"showHaloFor",this,"focusMorph",{garbageCollect:!0})}},{key:"detachFromWorld",value:function(Aa){var Fa=this;Aa.attributeConnections.forEach(function(Ba){Ba.targetObj===
Fa&&Ba.disconnect()})}},{key:"focusMorph",value:function(Aa){if(!Aa.isMorph||!Aa.ownerChain().includes(this)){(Aa.isLabel||Aa.isText||Aa.isButton)&&this.richTextControl.focusOn(Aa,!1);var Fa=this.getSubmorphNamed("style settings tree");Fa.treeData.target=Aa;Fa.update(!0);Object.values(this.controls).forEach(function(Ba){return Ba&&Ba.focusOn(Aa)})}}},{key:"onHierarchyChange",value:function(){Object.values(this.controls).forEach(function(Aa){return Aa&&Aa.update()})}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"StylingSideBar"}},{key:"properties",get:function(){return{controls:{},richTextControl:{},isHaloItem:{get:function(){return!0}}}}}],kb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-67"}}},{start:2682,end:5749})}(ic.Morph);Ab=ic.StylingSideBar;ic.default=Ab;var jc=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js");
jc.Morph=ra;jc.obj=Bd;jc.string=re;jc.connect=wc;jc.noUpdate=Ce;jc.once=be;Ab=function(ob){var kb=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js"),tb=kb.hasOwnProperty("ShapeFormatStyler")&&"function"===typeof kb.ShapeFormatStyler?kb.ShapeFormatStyler:kb.ShapeFormatStyler=function(Aa){Aa&&Aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Mc(tb,ob,[{key:Symbol.for("lively-instance-initialize"),value:function(Aa){Mc._get(Object.getPrototypeOf(tb.prototype),
Symbol.for("lively-instance-initialize"),this).call(this,Aa);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var Aa=this.ui,Fa={},Ba=$jscomp.makeIterator(Object.entries(this.uiSpec)),wa=Ba.next();!wa.done;Fa={$jscomp$loop$prop$control$2567:Fa.$jscomp$loop$prop$control$2567,$jscomp$loop$prop$prop$2568:Fa.$jscomp$loop$prop$prop$2568},wa=Ba.next()){var Na=$jscomp.makeIterator(wa.value);wa=Na.next().value;Na=$jscomp.makeIterator(Na.next().value);Na.next();
var La=Na.next().value;Fa.$jscomp$loop$prop$prop$2568=Na.next().value;Fa.$jscomp$loop$prop$control$2567=Aa[wa];jc.connect(Fa.$jscomp$loop$prop$control$2567,La,this,"updateTarget",{updater:function(Wa){return function(Gb,Rb){Wa.$jscomp$loop$prop$control$2567._updating=!0;Gb(Wa.$jscomp$loop$prop$prop$2568,Rb);Wa.$jscomp$loop$prop$control$2567._updating=!1}}(Fa),varMapping:{prop:Fa.$jscomp$loop$prop$prop$2568,control:Fa.$jscomp$loop$prop$control$2567}})}}},{key:"update",value:function(){var Aa=this,
Fa=this.target,Ba=Fa.clipMode,wa=Fa.fill,Na=Fa.dropShadow,La=Fa.opacity,Wa=Fa.height,Gb=Fa.width;Fa=this.ui;var Rb=Fa.clipModeSelector,Bb=Fa.fillPicker,ba=Fa.opacityField,xa=Fa.shadowPicker,M=Fa.heightField,ha=Fa.widthField;jc.noUpdate(function(){Aa.updateControl(xa,"shadowValue",Na);Aa.updateControl(Rb,"selection",Ba);Aa.updateControl(Bb,"colorValue",wa);Aa.updateControl(ba,"number",La);Aa.updateControl(M,"number",Wa);Aa.updateControl(ha,"number",Gb)})}},{key:"updateTarget",value:function(Aa,Fa){this.target[Aa]=
Fa;this.update()}},{key:"updateControl",value:function(Aa,Fa,Ba){Aa._updating||jc.obj.equals(Aa[Fa],Ba)||(Aa[Fa]=Ba)}},{key:"updateMultiValue",value:function(Aa,Fa,Ba){var wa=this.ui,Na=wa[this.join(Aa)],La=Na.get("multi value indicator"),Wa=jc.obj.values(Fa).some(function(Gb){return!jc.obj.isFunction(Gb)&&!jc.obj.equals(Gb,Fa.valueOf())});La.left=0;Na.visible=Na.isLayoutable=!Wa;if(Wa&&La.visible!=Wa)jc.once(La,"onMouseDown",Na,Ba,{converter:function(){return Fa.valueOf()},varMapping:{value:Fa}});
La.visible=La.isLayoutable=Wa;La.left=Wa?200:0;this.updateControl(Na,Ba,Fa.valueOf());Na=$jscomp.makeIterator(["top","left","bottom","right"]);for(La=Na.next();!La.done;La=Na.next())La=La.value,Wa=wa[this.join(Aa,La)],this.updateControl(Wa,Ba,Fa[La])}},{key:"lower",value:function(Aa){return Aa.charAt(0).toLowerCase()+Aa.slice(1)}},{key:"join",value:function(Aa,Fa){return this.lower(jc.string.camelCaseString(Aa+(Fa?" "+Fa:"")))}},{key:"unwrap",value:function(Aa,Fa,Ba){var wa={};wa=(wa[this.lower(jc.string.camelCaseString(Aa))]=
[Aa,Fa,Ba],wa);for(var Na=$jscomp.makeIterator(["top","left","bottom","right"]),La=Na.next();!La.done;La=Na.next()){La=La.value;var Wa=Aa+" "+La;wa[this.lower(jc.string.camelCaseString(Wa))]=[Wa,Fa,this.join(Ba,La)]}return wa}},{key:"focusOn",value:function(Aa){var Fa=this,Ba;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wa){if(1==wa.nextAddress)return!Aa||Fa.isAncestorOf(Aa)||Fa.target===Aa||jc.obj.isArray(Aa)||(Fa.target=Aa),Ba=Fa.visible,Fa.visible=!0,wa.yield(Fa.whenRendered(),2);
if(3!=wa.nextAddress)return Fa.update(),wa.yield(Fa.whenRendered(),3);Fa.getSubmorphsByStyleClassName("NumberWidget").map(function(Na){return Na.relayout()});Fa.visible=Ba;wa.jumpToEnd()})}},{key:"onHoverIn",value:function(Aa){this.watchForTarget=!1}},{key:"onHoverOut",value:function(Aa){this.watchForTarget=!0}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShapeFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||(this._uiSpec={clipModeSelector:["clip mode selector",
"selection","clipMode"],fillPicker:["fill picker","colorValue","fill"],shadowPicker:["shadow picker","shadowValue","dropShadow"],opacityField:["opacity field","number","opacity"],heightField:["height field","number","height"],widthField:["width field","number","width"]})}},ui:{readOnly:!0,get:function(){var Aa=this,Fa=this.uiSpec;return this._ui||(this._ui=jc.obj.extract(Fa,jc.obj.keys(Fa),function(Ba,wa){Ba=$jscomp.makeIterator(wa).next().value;return Aa.getSubmorphNamed(Ba)}))}}}}}],kb,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeFormatStyler",version:"0.1.1-144"}}},{start:176,end:4600})}(jc.Morph);Ab=jc.ShapeFormatStyler;jc.default=Ab;var Bc=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js");Bc.Morph=ra;Bc.ShadowPopover=fc;Bc.connect=wc;Bc.signal=Sb;Ab=function(ob){var kb=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js"),tb=kb.hasOwnProperty("ShadowWidget")&&
"function"===typeof kb.ShadowWidget?kb.ShadowWidget:kb.ShadowWidget=function(Aa){Aa&&Aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Mc(tb,ob,[{key:"onHoverIn",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:1,duration:200})}},{key:"onHoverOut",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:0,duration:200})}},{key:"onMouseDown",value:function(Aa){this.openPopover()}},
{key:"update",value:function(Aa){var Fa=this.submorphs[0];Fa&&(Fa.dropShadow=Aa)}},{key:"openPopover",value:function(){var Aa=this,Fa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ba){if(1==Ba.nextAddress)return Fa=new Bc.ShadowPopover({hasFixedPosition:!!Aa.ownerChain().find(function(wa){return wa.hasFixedPosition}),shadowValue:Aa.shadowValue}),Ba.yield(Fa.fadeIntoWorld(Aa.globalBounds().center()),2);Bc.connect(Fa,"shadowValue",Aa,"shadowValue");Bc.connect(Aa,"shadowValue",Aa,"update");
Bc.signal(Aa,"openWidget",Fa);Ba.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowWidget"}},{key:"properties",get:function(){return{shadowValue:{set:function(Aa){this.setProperty("shadowValue",Aa);this.update(Aa)}}}}}],kb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShadowWidget",version:"0.1.1-7"}}},
{start:194,end:1231})}(Bc.Morph);Ab=Bc.ShadowWidget;Bc.default=Ab;var ad=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js");ad.Morph=ra;ad.obj=Bd;ad.string=re;ad.connect=wc;ad.noUpdate=Ce;ad.once=be;Ab=function(ob){var kb=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js"),tb=kb.hasOwnProperty("BorderFormatStyler")&&"function"===typeof kb.BorderFormatStyler?kb.BorderFormatStyler:kb.BorderFormatStyler=function(Aa){Aa&&Aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Mc(tb,ob,[{key:"setupUI",value:function(){var Aa=this;this.getSubmorphsByStyleClassName("NumberWidget").map(function(Fa){var Ba=ad.string.camelCaseString(Fa.name);Ba=Ba[0].toLowerCase()+Ba.slice(1);Aa.ui[Ba]=Fa})}},{key:"cleanupAnchors",value:function(){var Aa=this.withAllSubmorphsSelect(function(wa){return wa.anchors&&wa.anchors.filter(function(Na){return!Na.id})}),Fa={};Aa=$jscomp.makeIterator(Aa);for(var Ba=Aa.next();!Ba.done;Fa={$jscomp$loop$prop$m$2570:Fa.$jscomp$loop$prop$m$2570},
Ba=Aa.next())Fa.$jscomp$loop$prop$m$2570=Ba.value,Fa.$jscomp$loop$prop$m$2570.anchors.forEach(function(wa){return function(Na){return!Na.id&&wa.$jscomp$loop$prop$m$2570.removeAnchor(Na)}}(Fa))}},{key:Symbol.for("lively-instance-initialize"),value:function(Aa){Mc._get(Object.getPrototypeOf(tb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,Aa);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var Aa=this.ui,Fa={},Ba=$jscomp.makeIterator(Object.entries(this.uiSpec)),
wa=Ba.next();!wa.done;Fa={$jscomp$loop$prop$control$2572:Fa.$jscomp$loop$prop$control$2572,$jscomp$loop$prop$prop$2573:Fa.$jscomp$loop$prop$prop$2573},wa=Ba.next()){var Na=$jscomp.makeIterator(wa.value);wa=Na.next().value;Na=$jscomp.makeIterator(Na.next().value);Na.next();var La=Na.next().value;Fa.$jscomp$loop$prop$prop$2573=Na.next().value;Fa.$jscomp$loop$prop$control$2572=Aa[wa];ad.connect(Fa.$jscomp$loop$prop$control$2572,La,this,"updateTarget",{updater:function(Wa){return function(Gb,Rb){Wa.$jscomp$loop$prop$control$2572._updating=
!0;Gb(Wa.$jscomp$loop$prop$prop$2573,Rb);Wa.$jscomp$loop$prop$control$2572._updating=!1}}(Fa),varMapping:{prop:Fa.$jscomp$loop$prop$prop$2573,control:Fa.$jscomp$loop$prop$control$2572}})}}},{key:"update",value:function(){var Aa=this,Fa=this.target,Ba=Fa.borderStyle,wa=Fa.borderColor,Na=Fa.borderRadius,La=Fa.borderWidth;ad.noUpdate(function(){Aa.updateMultiValue("border style selector",Ba,"selection");Aa.updateMultiValue("border color picker",wa,"colorValue");Aa.updateMultiValue("border radius field",
Na,"number");Aa.updateMultiValue("border width field",La,"number")})}},{key:"updateTarget",value:function(Aa,Fa){this.target[Aa]=Fa;this.update()}},{key:"updateControl",value:function(Aa,Fa,Ba){Aa._updating||ad.obj.equals(Aa[Fa],Ba)||(Aa[Fa]=Ba)}},{key:"updateMultiValue",value:function(Aa,Fa,Ba){var wa=this.ui,Na=wa[this.join(Aa)],La=Na.get("multi value indicator"),Wa=ad.obj.values(Fa).some(function(Gb){return!ad.obj.isFunction(Gb)&&!ad.obj.equals(Gb,Fa.valueOf())});Na.visible=Na.isLayoutable=!Wa;
if(Wa&&La.visible!=Wa)ad.once(La,"onMouseDown",Na,Ba,{converter:function(){return Fa.valueOf()},varMapping:{value:Fa}});La.visible=La.isLayoutable=Wa;this.updateControl(Na,Ba,Fa.valueOf());Na=$jscomp.makeIterator(["top","left","bottom","right"]);for(La=Na.next();!La.done;La=Na.next())La=La.value,Wa=wa[this.join(Aa,La)],this.updateControl(Wa,Ba,Fa[La])}},{key:"lower",value:function(Aa){return Aa.charAt(0).toLowerCase()+Aa.slice(1)}},{key:"join",value:function(Aa,Fa){return this.lower(ad.string.camelCaseString(Aa+
(Fa?" "+Fa:"")))}},{key:"unwrap",value:function(Aa,Fa,Ba){var wa={};wa=(wa[this.lower(ad.string.camelCaseString(Aa))]=[Aa,Fa,Ba],wa);for(var Na=$jscomp.makeIterator(["top","left","bottom","right"]),La=Na.next();!La.done;La=Na.next()){La=La.value;var Wa=Aa+" "+La;wa[this.lower(ad.string.camelCaseString(Wa))]=[Wa,Fa,this.join(Ba,La)]}return wa}},{key:"attachToWorld",value:function(){ad.connect($world,"showHaloFor",this,"focusOn",{garbageCollect:!0})}},{key:"focusOn",value:function(Aa){var Fa=this,Ba;
return $jscomp.asyncExecutePromiseGeneratorProgram(function(wa){if(1==wa.nextAddress)return!Aa||Fa.isAncestorOf(Aa)||Fa.target===Aa||ad.obj.isArray(Aa)||(Fa.target=Aa),Ba=Fa.visible,Fa.visible=!0,wa.yield(Fa.whenRendered(),2);if(3!=wa.nextAddress)return Fa.update(),wa.yield(Fa.whenRendered(),3);Fa.getSubmorphsByStyleClassName("NumberWidget").map(function(Na){return Na.relayout()});Fa.visible=Ba;wa.jumpToEnd()})}},{key:"onHoverIn",value:function(Aa){this.watchForTarget=!1}},{key:"onHoverOut",value:function(Aa){this.watchForTarget=
!0}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"BorderFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{derived:!0,serialize:!1,get:function(){return this._uiSpec||(this._uiSpec=Object.assign({},this.unwrap("border style selector","selection","borderStyle"),{},this.unwrap("border color picker","colorValue","borderColor"),{},this.unwrap("border radius field","number","borderRadius"),{},this.unwrap("border width field","number","borderWidth")))}},ui:{initialize:function(){this.setupUI()}}}}}],
kb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"BorderFormatStyler",version:"0.1.1-16"}}},{start:185,end:5003})}(ad.Morph);Ab=ad.BorderFormatStyler;ad.default=Ab;var bd=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js");bd.Morph=ra;bd.resource=qc;bd.arr=od;bd.obj=Bd;bd.string=re;bd.Path=Tb;bd.connect=wc;bd.getMastersMenu=
wd;bd.resolvedMasters=Fd;Ab=function(ob){var kb=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js"),tb=kb.hasOwnProperty("MasterComponentControl")&&"function"===typeof kb.MasterComponentControl?kb.MasterComponentControl:kb.MasterComponentControl=function(Aa){Aa&&Aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Mc(tb,ob,[{key:"focusOn",value:function(Aa){this.target=Aa;this.update()}},{key:"onMouseUp",value:function(Aa){var Fa=
this,Ba,wa,Na,La,Wa,Gb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rb){if(1==Rb.nextAddress){"auto master selection"==Aa.targetMorph.name&&(Ba="auto");"hover master selection"==Aa.targetMorph.name&&(Ba="hover");"click master selection"==Aa.targetMorph.name&&(Ba="click");Fa.refreshButtons();if(!Fa.target)return Rb.return();wa=$jscomp.makeIterator(["auto","hover","click"]);for(Na=wa.next();!Na.done;Na=wa.next())La=Na.value,Fa.target.master&&Fa.target.master[La]&&!Fa.get(La+" master checkbox").checked&&
Fa.adjustMasterComponent(La,null);if(!Ba)return Rb.jumpTo(0);Wa=Fa;Gb=Wa.openMenu;return Rb.yield(Fa.getMastersMenu(Ba),3)}Gb.call(Wa,Rb.yieldResult,Aa);Rb.jumpToEnd()})}},{key:"getMastersMenu",value:function(Aa){var Fa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ba){return 1==Ba.nextAddress?Ba.yield(Promise.all([].concat($jscomp.arrayFromIterable(Object.keys(bd.resolvedMasters)),[Fa.world().name]).map(function(wa){var Na,La,Wa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Gb){return 1==
Gb.nextAddress?(Na=wa,La=Fa,Wa=La.componentsToMenu,Gb.yield(bd.resource("styleguide://"+wa+"/").dirList(),2)):Gb.return([Na,Wa.call(La,Gb.yieldResult,Aa)])})})),2):Ba.return(Ba.yieldResult)})}},{key:"componentsToMenu",value:function(Aa,Fa,Ba,wa){var Na=this;Ba=void 0===Ba?null:Ba;wa=void 0===wa?1:wa;Ba||(Ba=Aa.map(function(Wa){return{name:bd.arr.last(Wa.name.split("/")),path:Wa.name.split("/"),value:Wa}}));if(0==Ba.length||100<wa)return[];var La=this;return bd.arr.flatten(Object.entries(bd.arr.groupBy(Ba,
function(Wa){return Wa.path[wa-1]})).map(function(Wa){var Gb=$jscomp.makeIterator(Wa);Wa=Gb.next().value;Gb=Gb.next().value;var Rb=$jscomp.makeIterator(bd.arr.partition(Gb,function(Bb){return Bb.path.length<=wa}));Gb=Rb.next().value;Rb=Rb.next().value;Wa=[Wa,Na.componentsToMenu(null,Fa,Rb,wa+1)];return[].concat($jscomp.arrayFromIterable(Gb.map(function(Bb){return[Bb.name,function(){La.adjustMasterComponent(Fa,Bb.value)}]})),$jscomp.arrayFromIterable(Wa[1].length?[Wa]:[]))}),1)}},{key:"getComponentSelectionMenu",
value:function(Aa){var Fa=this,Ba,wa,Na,La,Wa,Gb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rb){if(1==Rb.nextAddress)return Ba=Fa.world().metadata.commit.name,wa=bd.resource("styleguide://"+Ba+"/"),Rb.yield(wa.dirList(),2);if(3!=Rb.nextAddress)return Na=Rb.yieldResult,Rb.yield(bd.resource("styleguide://System/").dirList(),3);La=Rb.yieldResult;Wa=Fa.componentsToMenu(Na,Aa);Gb=Fa.componentsToMenu(La,Aa);return Rb.return([].concat($jscomp.arrayFromIterable(0<Wa.length?[].concat($jscomp.arrayFromIterable(Wa),
[{isDivider:!0}]):[]),$jscomp.arrayFromIterable(Gb)))})}},{key:"adjustMasterComponent",value:function(Aa,Fa){if(this.target.master)this.target.master[Aa]=Fa;else if(Fa){var Ba={};this.target.master=(Ba[Aa]=Fa,Ba)}Aa=this.target.master;Fa=Aa.hover;Ba=Aa.click;Aa.auto||Fa||Ba||(this.target.master=null);this.update();this.target.withAllSubmorphsDo(function(wa){return delete wa._parametrizedProps});this.target.requestMasterStyling()}},{key:"componentsToMenu",value:function(Aa,Fa,Ba,wa){var Na=this;Ba=
void 0===Ba?null:Ba;wa=void 0===wa?1:wa;Ba||(Ba=Aa.map(function(Wa){return{name:bd.arr.last(Wa.name.split("/")),path:Wa.name.split("/"),value:Wa}}));if(0==Ba.length||100<wa)return[];var La=this;return bd.arr.flatten(Object.entries(bd.arr.groupBy(Ba,function(Wa){return Wa.path[wa-1]})).map(function(Wa){var Gb=$jscomp.makeIterator(Wa);Wa=Gb.next().value;Gb=Gb.next().value;var Rb=$jscomp.makeIterator(bd.arr.partition(Gb,function(Bb){return Bb.path.length<=wa}));Gb=Rb.next().value;Rb=Rb.next().value;
Wa=[Wa,Na.componentsToMenu(null,Fa,Rb,wa+1)];return[].concat($jscomp.arrayFromIterable(Gb.map(function(Bb){return[Bb.name,function(){La.adjustMasterComponent(Fa,Bb.value)}]})),$jscomp.arrayFromIterable(Wa[1].length?[Wa]:[]))}),1)}},{key:"update",value:function(){if(this.target){for(var Aa=$jscomp.makeIterator(["auto","hover","click"]),Fa=Aa.next();!Fa.done;Fa=Aa.next()){Fa=Fa.value;var Ba=this.getSubmorphNamed(Fa+" master selection"),wa=this.getSubmorphNamed(Fa+" master checkbox");bd.Path(["master",
Fa]).get(this.target)?wa.checked=!0:wa.checked=!1;Ba.label=bd.string.truncateLeft(bd.Path(["master",Fa,"name"]).get(this.target)||"select master",15,"...")}this.refreshButtons()}}},{key:"refreshButtons",value:function(){for(var Aa=$jscomp.makeIterator(["auto","hover","click"]),Fa=Aa.next();!Fa.done;Fa=Aa.next()){Fa=Fa.value;var Ba=this.getSubmorphNamed(Fa+" master selection"),wa=this.getSubmorphNamed(Fa+" master checkbox");Ba=Ba.deactivated=!wa.checked;this.getSubmorphNamed(Fa+" master selection").opacity=
Ba?.5:1}Aa=this.getSubmorphNamed("overridden props list");Aa.items=this.getOverriddenProps();this.getSubmorphNamed("clear overridden prop button").deactivated=!Aa.selection}},{key:"getMasterForTarget",value:function(){if(this.target.isMorph)return[this.target].concat($jscomp.arrayFromIterable(this.target.ownerChain())).map(function(Aa){return Aa.master}).find(Boolean)}},{key:"clearSelectedProperty",value:function(){var Aa=this.getSubmorphNamed("overridden props list").selection;this.getMasterForTarget().clearOverriddenPropertiesFor(this.target,
[Aa]);this.refreshButtons()}},{key:"getOverriddenProps",value:function(){var Aa=this.getMasterForTarget();return Aa&&Aa._overriddenProps?(Aa=Aa._overriddenProps.get(this.target))?Object.keys(Aa):[]:[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"MasterComponentControl"}}],kb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"MasterComponentControl",
version:"0.1.1-108"}}},{start:315,end:6096})}(bd.Morph);Ab=bd.MasterComponentControl;bd.default=Ab}}});

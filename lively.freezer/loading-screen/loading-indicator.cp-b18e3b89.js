System.register(["./__rootModule___commonjs-entry-71573ff5.js"],function(Lc,pd){var Nd,Tc,Jc,$d,Bb,rd,Id,Ac,Pc,gd,nd,Fd,ic,vd,sb,Xb,Nb,bc,hb,cb,Hb,ec,ub,yb,ba,wb,Xa,Za,Sb,Cb;return{setters:[function(Da){Nd=Da.M;Tc=Da.q;Jc=Da.t;$d=Da.V;Bb=Da.R;rd=Da.K;Id=Da.C;Ac=Da.b;Pc=Da.h;gd=Da.w;nd=Da.B;Fd=Da.$;ic=Da.i;vd=Da.y;sb=Da.x;Xb=Da._;Nb=Da.T;bc=Da.S;hb=Da.L;cb=Da.c;Hb=Da.r;ec=Da.e;ub=Da.s;yb=Da.I;ba=Da.J;wb=Da.H;Xa=Da.O;Za=Da.p;Sb=Da.d;Cb=Da.n}],execute:function(){function Da(jb,E,Wb){var R=eb.open(E,
Wb);eb.promise["finally"](Promise.resolve(jb),function(){return R.remove()});return R}function zb(jb,E,Wb){return db.apply(this,arguments)}function db(){db=Xb(regeneratorRuntime.mark(function xb(E,Wb,R){var Ja;return regeneratorRuntime.wrap(function(Ga){for(;;)switch(Ga.prev=Ga.next){case 0:return Ja=eb.open(Wb,R),Ga.next=3,Ja.whenRendered();case 3:return Ga.prev=3,Ga.next=6,E(Ja);case 6:return Ga.abrupt("return",Ga.sent);case 7:return Ga.prev=7,Ja.remove(),Ga.finish(7);case 10:case "end":return Ga.stop()}},
xb,null,[[3,,7,10]])}));return db.apply(this,arguments)}function ib(){var jb=1<arguments.length?arguments[1]:void 0,E=eb.part(eb.LoadingIndicator,Object.assign({viewModel:{label:0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Loading..."}},jb));if(jb&&jb.animated)return eb.promise.delay(jb.delay||0).then(function(){E.openInWorld();E.opacity=0;E.whenRendered().then(function(){E.top+=25;E.animate({top:E.top-25,easing:eb.easings.outExpo});E.animate({opacity:1,easing:eb.easings.outExpo})})}),
E;E.openInWorld();return E}var Ea=window.lively.FreezerRuntime.recorderFor("lively.components/buttons.js");Ea.Morph=Nd;Ea.morph=Tc;Ea.touchInputDevice=Jc;Ea.ViewModel=$d;Ea.Rectangle=Bb;Ea.LinearGradient=rd;Ea.Color=Id;Ea.pt=Ac;Ea.signal=Pc;Ea.connect=gd;Ea.obj=nd;Ea.Closure=Fd;var W=Lc("a",function(jb){var E=window.lively.FreezerRuntime.recorderFor("lively.components/buttons.js"),Wb=E.hasOwnProperty("ButtonModel")&&"function"===typeof E.ButtonModel?E.ButtonModel:E.ButtonModel=function(R){if(!R||
!R[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return ic(Wb,jb,[{key:"handlePressStart",value:function(R){R.isAltDown()||this.deactivated||!this.considerPress(R)||(this.pressed={originalFill:this.view.fill})}},{key:"handlePressEnd",value:function(R){R.isClickTarget(this.view)&&this.pressed&&(this.trigger(),this.pressed=null)}},{key:"cancelPressOnDrag",value:function(R,xb){Ea.touchInputDevice?(this.draggable=!0,this.pressed=
null):R(xb)}},{key:"preventDrag",value:function(R,xb){}},{key:"cancelPress",value:function(R){!Ea.touchInputDevice&&this.pressed&&R.isClickTarget(this.view)&&(this.pressed=null)}},{key:"recoverPressIfNeeded",value:function(R){Ea.touchInputDevice||this.deactivated||!R.isClickTarget(this.view)||(this.pressed={originalFill:this.fill})}},{key:"enable",value:function(){this.deactivated=!1}},{key:"disable",value:function(){this.deactivated=!0}},{key:"onRefresh",value:function(){this.ui.label&&(Object.assign(this.ui.label,
this.label),this.view.nativeCursor=this.deactivated?"not-allowed":"pointer",this.ui.label.opacity=this.deactivated?.3:1,this._realFill&&(this.view.fill=this._realFill))}},{key:"trigger",value:function(){try{Ea.signal(this,"fire"),"function"===typeof this.action&&this.action()}catch(xb){var R=this.world();R?R.logError(xb):console.error(xb)}}},{key:"considerPress",value:function(R){this.view.updateTransform();return Ea.touchInputDevice?!0:this.view.innerBoundsContainsPoint(R.positionIn(this.view))}},
{key:"interactivelyChangeLabel",value:function(){var R=Xb(regeneratorRuntime.mark(function Ja(){var Ga;return regeneratorRuntime.wrap(function(sa){for(;;)switch(sa.prev=sa.next){case 0:return sa.next=2,this.world().prompt("edit button label",{input:this.labelMorph.textString,historyId:"lively.morphic-button-edit-label-hist"});case 2:Ga=sa.sent,"string"===typeof Ga&&(this.label=Ga);case 4:case "end":return sa.stop()}},Ja,this)}));return function(){return R.apply(this,arguments)}}()},{key:"menuItems",
value:function(R){var xb=this;R.unshift({isDivider:!0});R.unshift(["change label",function(){return xb.interactivelyChangeLabel()}]);return R}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"ButtonModel"}},{key:"properties",get:function(){return{deactivated:{group:"button",defaultValue:!1},pressed:{group:"_internal",defaultValue:null},label:{group:"button",type:"RichText",set:function(R){this.setProperty("label",Object.assign({},this.label||{},{},R))}},fire:{group:"button",derived:!0,
readOnly:!0,isSignal:!0},action:{serialize:!1},expose:{get:function(){return["enable","disable"]}},bindings:{get:function(){return[{signal:"onMouseDown",handler:"handlePressStart"},{signal:"onMouseUp",handler:"handlePressEnd"},{signal:"onHoverOut",handler:"cancelPress"},{signal:"onHoverIn",handler:"recoverPressIfNeeded"},{signal:"onDragStart",handler:"cancelPressOnDrag",override:!0},{signal:"onDrag",handler:"preventDrag",override:!0}]}}}}}],E,{pathInPackage:function(){return"./buttons.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.components",version:"0.1.0"}}},{start:321,end:4322})}(Ea.ViewModel));Ea.ButtonModel=W;Ea.ButtonModel=W;var T=Lc("B",function(jb){var E=window.lively.FreezerRuntime.recorderFor("lively.components/buttons.js"),Wb=E.hasOwnProperty("Button")&&"function"===typeof E.Button?E.Button:E.Button=function(R){if(!R||!R[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,
arguments)};return ic(Wb,jb,[{key:"__additionally_serialize__",value:function(R,xb,Ja,Ga){ic._get(Object.getPrototypeOf(Wb.prototype),"__additionally_serialize__",this).call(this,R,xb,Ja,Ga);Ga("fontSize",this.fontSize);this.label!==this.labelMorph.value&&Ga("label",this.labelMorph.value)}},{key:"isButton",get:function(){return!0}},{key:"enable",value:function(){this.deactivated=!1}},{key:"disable",value:function(){this.deactivated=!0}},{key:"onChange",value:function(R){var xb=R.prop;if(this.label)switch(xb){case "extent":case "fontSize":case "fontFamily":this.relayout();
break;case "padding":this.fit()}return ic._get(Object.getPrototypeOf(Wb.prototype),"onChange",this).call(this,R)}},{key:"onSubmorphChange",value:function(R,xb){xb===this.labelMorph&&"extent"===R.prop&&this.relayout();return ic._get(Object.getPrototypeOf(Wb.prototype),"onSubmorphChange",this).call(this,R,xb)}},{key:"fitLabelMorph",value:function(){var R=this;this.labelMorph.whenFontLoaded().then(function(){R.labelMorph.invalidateTextLayout();R.labelMorph.fit()})}},{key:"relayout",value:function(){var R=
this.labelMorph;if(R&&!this._relayouting){this._relayouting=!0;try{var xb=this.padding,Ja=xb.top(),Ga=xb.bottom(),sa=xb.left(),Ub=xb.right(),vc=R.height+Ja+Ga,Oc=R.width+sa+Ub;vc>this.height&&(this.height=vc);Oc>this.width&&(this.width=Oc);var aa=this.innerBounds().insetByRect(xb);R.center=aa.center().subPt(this.origin)}finally{this._relayouting=!1}}}},{key:"fit",value:function(){var R=this.padding,xb=this.labelMorph;xb.fit();this.extent=R.bottomLeft().addPt(R.bottomRight()).addPt(xb.extent);this.relayout();
return this}},{key:"trigger",value:function(){try{Ea.signal(this,"fire"),"function"===typeof this.action&&this.action()}catch(xb){var R=this.world();R?R.logError(xb):console.error(xb)}}},{key:"considerPress",value:function(R){return Ea.touchInputDevice?!0:this.innerBoundsContainsPoint(R.positionIn(this))}},{key:"onMouseDown",value:function(R){ic._get(Object.getPrototypeOf(Wb.prototype),"onMouseDown",this).call(this,R);R.isAltDown()||this.deactivated||!this.considerPress(R)||(this.pressed={originalFill:this.fill})}},
{key:"onMouseUp",value:function(R){ic._get(Object.getPrototypeOf(Wb.prototype),"onMouseUp",this).call(this,R);R.isClickTarget(this)&&this.pressed&&(this.trigger(),this.pressed=null)}},{key:"onDragStart",value:function(R){Ea.touchInputDevice?(this.draggable=!0,this.pressed=null):ic._get(Object.getPrototypeOf(Wb.prototype),"onDragStart",this).call(this,R)}},{key:"onDrag",value:function(R){}},{key:"onHoverOut",value:function(R){ic._get(Object.getPrototypeOf(Wb.prototype),"onHoverOut",this).call(this,
R);!Ea.touchInputDevice&&this.pressed&&R.isClickTarget(this)&&(this.pressed=null)}},{key:"onHoverIn",value:function(R){ic._get(Object.getPrototypeOf(Wb.prototype),"onHoverIn",this).call(this,R);Ea.touchInputDevice||this.deactivated||!R.isClickTarget(this)||(this.pressed={originalFill:this.fill})}},{key:"interactivelyChangeLabel",value:function(){var R=Xb(regeneratorRuntime.mark(function Ja(){var Ga;return regeneratorRuntime.wrap(function(sa){for(;;)switch(sa.prev=sa.next){case 0:return sa.next=2,
this.world().prompt("edit button label",{input:this.labelMorph.textString,historyId:"lively.morphic-button-edit-label-hist"});case 2:Ga=sa.sent,"string"===typeof Ga&&(this.label=Ga);case 4:case "end":return sa.stop()}},Ja,this)}));return function(){return R.apply(this,arguments)}}()},{key:"menuItems",value:function(){var R=this,xb=ic._get(Object.getPrototypeOf(Wb.prototype),"menuItems",this).call(this);xb.unshift({isDivider:!0});xb.unshift(["change label",function(){return R.interactivelyChangeLabel()}]);
return xb}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"Button"}},{key:"properties",get:function(){return{padding:{isStyleProp:!0,defaultValue:Ea.Rectangle.inset(5,2)},draggable:{defaultValue:!1},extent:{defaultValue:Ea.pt(100,20)},borderColor:{defaultValue:Ea.Color.gray},borderWidth:{defaultValue:1},borderRadius:{defaultValue:5},nativeCursor:{defaultValue:"pointer"},fill:{defaultValue:new Ea.LinearGradient({stops:[{offset:0,color:Ea.Color.white},{offset:1,color:Ea.Color.rgb(236,
240,241)}],vector:0})},deactivated:{group:"button",defaultValue:!1,after:["labelMorph"],set:function(R){this.setProperty("deactivated",R);this.nativeCursor=R?"not-allowed":"pointer";this.labelMorph.opacity=R?.3:1}},pressed:{group:"_internal",defaultValue:null},fontSize:{group:"button styling",derived:!0,type:"Number",min:4,isStyleProp:!0,after:["label"],set:function(R){this.labelMorph.fontSize=R},get:function(){return this.labelMorph.fontSize}},fontColor:{group:"button styling",derived:!0,isStyleProp:!0,
after:["labelMorph"],set:function(R){this.labelMorph.fontColor=R},get:function(){return this.labelMorph.fontColor}},labelMorph:{group:"_internal",after:["submorphs"],serialize:!1,initialize:function(){this.labelMorph=this.getSubmorphNamed("label")||this.addMorph({type:"label",name:"label",value:"no label yet"})},get:function(){return this.getSubmorphNamed("label")},set:function(R){var xb=this.labelMorph;xb&&xb.remove();R.name="label";R.reactsToPointer=!1;this.addMorphAt(R,0)}},labelWithTextAttributes:{group:"_internal",
after:["labelMorph"],derived:!0,get:function(){return this.labelMorph.textAndAttributes},set:function(R){this.labelMorph.textAndAttributes=R}},label:{group:"button",after:["labelMorph"],type:"RichText",set:function(R){R.isMorph?(this.setProperty("label",R.value),this.labelMorph=R):(this.setProperty("label",R),this.labelMorph.value=R,this.labelMorph._parametrizedProps&&(this.labelMorph._parametrizedProps.value=R));this.fitLabelMorph()}},fire:{group:"button",derived:!0,readOnly:!0,isSignal:!0},action:{serialize:!1}}}}],
E,{pathInPackage:function(){return"./buttons.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.components",version:"0.1.0"}}},{start:4363,end:12184})}(Ea.Morph));Ea.Button=T;Ea.Button=T;var ia=function(jb){var E=window.lively.FreezerRuntime.recorderFor("lively.components/buttons.js"),Wb=E.hasOwnProperty("RadioButton")&&"function"===typeof E.RadioButton?E.RadioButton:
E.RadioButton=function(R){if(!R||!R[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return ic(Wb,jb,[{key:"getMaster",value:function(){var R=Xb(regeneratorRuntime.mark(function Ga(Ja){var sa,Ub,vc;return regeneratorRuntime.wrap(function(Oc){for(;;)switch(Oc.prev=Oc.next){case 0:return Oc.next=2,pd.import("./index-d18accbd.js").then(function(aa){return aa.p});case 2:return sa=Oc.sent,Ub=sa.ChoiceButtonSelected,vc=sa.ChoiceButtonUnselected,
Oc.abrupt("return",Ja?Ub:vc);case 6:case "end":return Oc.stop()}},Ga)}));return function(Ja){return R.apply(this,arguments)}}()},{key:"reset",value:function(){var R=this.indicator;R.borderWidth=1;R.borderColor=Ea.Color.gray;this.selected=!1;Ea.connect(R,"onMouseUp",this,"select")}},{key:"morph",get:function(){var R=this.indicator;return this.submorphs.find(function(xb){return xb!==R})}},{key:"morph",set:function(R){var xb=this.indicator;this.submorphs.forEach(function(Ja){Ja!==xb&&Ja.remove()});R.position=
Ea.pt(50,0);this.addMorph(R)}},{key:"value",get:function(){if(!this.valueFn){try{var R=JSON.parse(this.valueFunctionString)}catch(xb){R=this.valueFunctionString}this.valueFn=Ea.Closure.fromSource(R).recreateFunc()}return this.morph?this.valueFn(this.morph):void 0}},{key:"onMouseDown",value:function(R){this.select()}},{key:"select",value:function(){this.selected=!0;this.owner.setSelection(this)}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"RadioButton"}},{key:"properties",get:function(){return{indicator:{get:function(){return this.getSubmorphNamed("indicator")}},
selectionColor:{},selectionStyle:{},selected:{after:["indicator"],defaultValue:!1,set:function(R){var xb=this;this.getMaster(R).then(function(){var Ja=Xb(regeneratorRuntime.mark(function Ub(sa){return regeneratorRuntime.wrap(function(vc){for(;;)switch(vc.prev=vc.next){case 0:xb.master={auto:sa};case 1:case "end":return vc.stop()}},Ub)}));return function(sa){return Ja.apply(this,arguments)}}());this.setProperty("selected",!!R)}},valueFunctionString:{defaultValue:'"function (morph) { return morph.value; }"',
set:function(R){this.setProperty("valueFunctionString",R.toString());this.valueFn=void 0}},submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"indicator"}]}}}}}],E,{pathInPackage:function(){return"./buttons.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.components",version:"0.1.0"}}},{start:12192,end:14383})}(Ea.Morph);Ea.RadioButton=ia;Ea.RadioButton=
ia;var ka=Lc("R",function(jb){var E=window.lively.FreezerRuntime.recorderFor("lively.components/buttons.js"),Wb=E.hasOwnProperty("RadioButtonGroup")&&"function"===typeof E.RadioButtonGroup?E.RadioButtonGroup:E.RadioButtonGroup=function(R){if(!R||!R[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return ic(Wb,jb,[{key:"reset",value:function(){this.submorphs.forEach(function(R){return R.reset()});this.layout.layoutableSubmorphs[0].selected=
!0}},{key:"removeAllButtons",value:function(){this.removeAllMorphs();this.height=10}},{key:"addButton",value:function(R,xb){var Ja=new Ea.RadioButton({name:"button "+(this.submorphs.length+1)});Ja.reset();Ja.morph=R;void 0!==xb&&(Ja.internalValue=xb,Ja.valueFunctionString="function (morph) { return morph.owner.internalValue; }");this.addMorph(Ja);return Ja}},{key:"setSelection",value:function(R){this.submorphs.forEach(function(xb){xb!==R&&(xb.selected=!1)});R.selected=!0}},{key:"selectedButton",get:function(){return this.submorphs.find(function(R){return R.selected})}},
{key:"value",get:function(){var R=this.selectedButton;return R?R.value:null}},{key:"value",set:function(R){var xb=this.submorphs.find(function(Ja){try{return Ja.value===R}catch(Ga){return!1}});xb?xb.select():this.setSelection(null)}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"RadioButtonGroup"}},{key:"properties",get:function(){return{choices:{derived:!0,defaultValue:[],get:function(){return this.submorphs.map(function(R){return R.value})},set:function(R){var xb=this;this.removeAllButtons();
if(Ea.obj.isArray(R)){if(0===R.length)return;R.forEach(function(Ja){xb.addButton(Ea.morph({name:"label",type:"label",value:Ja,reactsToPointer:!1}))})}else{R=vd(R.entries());if(0===R.length)return;R.forEach(function(Ja){Ja=sb(Ja,2);var Ga=Ja[1];xb.addButton(Ea.morph({name:"label",type:"label",value:Ja[0],reactsToPointer:!1}),Ga)})}this.setSelection(this.submorphs[0])},value:{derived:!0,after:["submorphs"],get:function(){var R=this.selectedButton;return R?R.value:null},set:function(R){var xb=this.submorphs.find(function(Ja){try{return Ja.value===
R}catch(Ga){return!1}});xb?xb.select():this.setSelection(null)}}}}}}],E,{pathInPackage:function(){return"./buttons.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.components",version:"0.1.0"}}},{start:14391,end:17392})}(Ea.Morph));Ea.RadioButtonGroup=ka;Ea.RadioButtonGroup=ka;T=Object.freeze({__proto__:null,ButtonModel:W,Button:T,RadioButton:ia,RadioButtonGroup:ka});
Lc("_",T);var K=window.lively.FreezerRuntime.recorderFor("lively.components/buttons.cp.js");K.TilingLayout=Nb;K.ShadowObject=bc;K.Label=hb;K.component=cb;K.Color=Id;K.LinearGradient=rd;K.pt=Ac;K.ButtonModel=W;K.rect=Hb;K.ButtonDefault=K.component["for"](function(){return K.component({defaultViewModel:K.ButtonModel,name:"button/default",borderColor:K.Color.rgb(112,123,124),borderWidth:1,borderRadius:5,extent:K.pt(70,25),fill:new K.LinearGradient({stops:[{offset:0,color:K.Color.white},{offset:1,color:K.Color.rgb(236,
240,241)}],vector:0}),layout:new K.TilingLayout({align:"center",axisAlign:"center",orderByIndex:!0,wrapSubmorphs:!1}),submorphs:[{type:K.Label,name:"label",extent:K.pt(53,18),fontColor:K.Color.rgb(60,60,60),fontSize:14,reactsToPointer:!1,textAndAttributes:["a button",null]}]})},{module:"lively.components/buttons.cp.js","export":"ButtonDefault",range:{start:245,end:1308}},K.ButtonDefault);K.ButtonClicked=K.component["for"](function(){return K.component(K.ButtonDefault,{name:"button/clicked",borderWidth:0,
dropShadow:new K.ShadowObject({distance:0,rotation:0,color:K.Color.rgba(0,0,0,.39071265243902487),inset:!0,blur:4,spread:1}),fill:new K.LinearGradient({stops:[{offset:0,color:K.Color.rgb(199,199,199)},{offset:1,color:K.Color.rgb(152,152,152)}],vector:K.rect(0,0,0,1)})})},{module:"lively.components/buttons.cp.js","export":"ButtonClicked",range:{start:1348,end:1811}},K.ButtonClicked);K.SystemButton=K.component["for"](function(){return K.component(K.ButtonDefault,{name:"system button",master:{auto:K.ButtonDefault,
click:K.ButtonClicked}})},{module:"lively.components/buttons.cp.js","export":"SystemButton",range:{start:1850,end:1985}},K.SystemButton);K.ButtonDarkDefault=K.component["for"](function(){return K.component(K.ButtonDefault,{name:"button/dark/default",fill:new K.LinearGradient({stops:[{offset:0,color:K.Color.rgb(149,165,166)},{offset:1,color:K.Color.rgb(127,140,141)}],vector:K.rect(0,0,0,1)}),submorphs:[{name:"label",fontColor:K.Color.rgb(255,255,255),fontSize:14,reactsToPointer:!1,textAndAttributes:["a button",
null]}]})},{module:"lively.components/buttons.cp.js","export":"ButtonDarkDefault",range:{start:2022,end:2476}},K.ButtonDarkDefault);K.ButtonDarkClicked=K.component["for"](function(){return K.component(K.ButtonDarkDefault,{name:"button/dark/clicked",borderWidth:0,dropShadow:new K.ShadowObject({distance:0,rotation:0,color:K.Color.rgba(0,0,0,.39071265243902487),inset:!0,blur:4,spread:1})})},{module:"lively.components/buttons.cp.js","export":"ButtonDarkClicked",range:{start:2520,end:2791}},K.ButtonDarkClicked);
K.SystemButtonDark=K.component["for"](function(){return K.component(K.ButtonDarkDefault,{name:"system button/dark",master:{auto:K.ButtonDarkDefault,click:K.ButtonDarkClicked}})},{module:"lively.components/buttons.cp.js","export":"SystemButtonDark",range:{start:2834,end:2990}},K.SystemButtonDark);K.DarkButton=K.component["for"](function(){return K.component(K.ButtonDefault,{name:"dark button",borderWidth:0,fill:K.Color.rgba(0,0,0,.75),submorphs:[{name:"label",fontSize:9,fontColor:K.Color.rgb(255,255,
255)}]})},{module:"lively.components/buttons.cp.js","export":"DarkButton",range:{start:2998,end:3213}},K.DarkButton);W=Lc("b",K.ButtonDefault);T=K.ButtonClicked;ia=Lc("S",K.SystemButton);ka=K.ButtonDarkDefault;var ya=Lc("c",K.SystemButtonDark),pb=K.ButtonDarkClicked,La=Lc("D",K.DarkButton);K.ButtonDefault=W;K.ButtonClicked=T;K.SystemButton=ia;K.ButtonDarkDefault=ka;K.SystemButtonDark=ya;K.ButtonDarkClicked=pb;K.DarkButton=La;var eb=window.lively.FreezerRuntime.recorderFor("lively.components/loading-indicator.cp.js");
eb.forPromise=Da;eb.runFn=zb;eb.open=ib;eb.ShadowObject=bc;eb.easings=ec;eb.stringToEasing=ub;eb.Morph=Nd;eb.Icon=yb;eb.Label=hb;eb.HTMLMorph=ba;eb.HorizontalLayout=wb;eb.VerticalLayout=Xa;eb.component=cb;eb.ViewModel=$d;eb.part=Za;eb.Color=Id;eb.Rectangle=Bb;eb.rect=Hb;eb.pt=Ac;eb.promise=Sb;eb.num=Cb;eb.ButtonDefault=W;(function(jb){var E=window.lively.FreezerRuntime.recorderFor("lively.components/loading-indicator.cp.js"),Wb=E.hasOwnProperty("ProgressBar")&&"function"===typeof E.ProgressBar?E.ProgressBar:
E.ProgressBar=function(R){if(!R||!R[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return ic(Wb,jb,[{key:"test",value:function(){var R=Xb(regeneratorRuntime.mark(function Ja(){return regeneratorRuntime.wrap(function(Ga){for(;;)switch(Ga.prev=Ga.next){case 0:this.progress=0;case 1:if(!(1>this.progress)){Ga.next=7;break}this.progress+=.1;Ga.next=5;return eb.promise.delay(1E3);case 5:Ga.next=1;break;case 7:case "end":return Ga.stop()}},
Ja,this)}));return function(){return R.apply(this,arguments)}}()},{key:"update",value:function(){var R=this;setTimeout(function(){R.world()||R.stopStepping()},1E3);if(this._lastWidth){var xb=this.get("progress path"),Ja=eb.stringToEasing(eb.easings.inOutExpo)(eb.num.clamp(Date.now()-this._timeStamp,0,1E3)/1E3),Ga=this._targetWidth;xb.topLeft=eb.pt(0,0);xb.height=this.height;xb.width=this._lastWidth>Ga?Ga:eb.num.interpolate(Ja,this._lastWidth,Ga)}}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"ProgressBar"}},
{key:"properties",get:function(){return{progress:{after:["submorphs"],initialize:function(){this.progress=0;this.startStepping("update")},set:function(R){var xb=this.get("progress path");this._lastWidth=Math.max(xb.width,this._targetWidth,1);this._targetWidth=this.width*R;this._timeStamp=Date.now();this.setProperty("progress",R)}},fill:{defaultValue:eb.Color.darkGray},borderRadius:{defaultValue:5},clipMode:{defaultValue:"hidden"},submorphs:{initialize:function(){this.submorphs=[{name:"progress path",
fill:eb.Color.orange,width:1}]}}}}}],E,{pathInPackage:function(){return"./loading-indicator.cp.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.components",version:"0.1.0"}}},{start:321,end:1897})})(eb.Morph);W=function(jb){var E=window.lively.FreezerRuntime.recorderFor("lively.components/loading-indicator.cp.js"),Wb=E.hasOwnProperty("LoadingIndicatorModel")&&
"function"===typeof E.LoadingIndicatorModel?E.LoadingIndicatorModel:E.LoadingIndicatorModel=function(R){if(!R||!R[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return ic(Wb,jb,[{key:"onHoverIn",value:function(){this.ui.closeButton.visible=!0}},{key:"onHoverOut",value:function(){this.ui.closeButton.visible=!1}},{key:"close",value:function(){this.view.remove()}},{key:"openInWorld",value:function(){var R=this.ui,xb=R.status,
Ja=R.label,Ga=R.spinner;Ja.whenRendered().then(function(){Ga&&(Ga.visible=!0);Ja.fit()});this.label?(xb.visible=!0,xb.value=this.label):(xb.visible=!1,xb.value="");this.relayout()}},{key:"viewDidLoad",value:function(){var R=this.ui,xb=R.label;R.closeButton;if(R=R.progressBar)R.opacity=0,R.isLayoutable=!1;xb.value=this.label;this.relayout()}},{key:"animateProgress",value:function(){var R=Xb(regeneratorRuntime.mark(function Ga(Ja){var sa,Ub,vc;return regeneratorRuntime.wrap(function(Oc){for(;;)switch(Oc.prev=
Oc.next){case 0:return sa=this.ui.progressBar,Ub=this.view,sa||(sa=Ub.addMorph(new eb.ProgressBar({name:"progress bar"}))),vc=Ub.center,0==Ja?(sa.isLayoutable=!1,sa.opacity=0):(sa.isLayoutable=!0,sa.opacity=1),sa.progress=Ja,Oc.next=7,Ub.whenRendered();case 7:Ub.center=vc;case 8:case "end":return Oc.stop()}},Ga,this)}));return function(Ja){return R.apply(this,arguments)}}()},{key:"hideSpinner",value:function(){var R=Xb(regeneratorRuntime.mark(function Ja(){var Ga,sa;return regeneratorRuntime.wrap(function(Ub){for(;;)switch(Ub.prev=
Ub.next){case 0:Ga=this.ui.spinner;sa=this.view;if(Ga){Ub.next=3;break}return Ub.abrupt("return");case 3:return Ga.visible=!1,Ga.width=50,Ga.remove(),Ub.next=8,sa.whenRendered();case 8:case "end":return Ub.stop()}},Ja,this)}));return function(){return R.apply(this,arguments)}}()},{key:"updateLabel",value:function(){var R=this.view,xb=R.center;this.relayout();R.center=xb}},{key:"relayout",value:function(){eb.Rectangle.inset(20,12);var R=this.view,xb=this.ui;xb.spinner;var Ja=xb.label,Ga=xb.progressBar,
sa=xb.status;xb.closeButton.topRight=R.innerBounds().insetBy(2).topRight();Ga.extent=eb.pt(Ja.owner.bounds().width,5);sa[sa.visible?"top":"bottom"]=Ja.height}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"LoadingIndicatorModel"}},{key:"properties",get:function(){return{progress:{derived:!0,set:function(R){this.animateProgress(eb.num.clamp(R,0,1))}},label:{set:function(R){this.setProperty("label",R);this.view&&(this.ui.label.value=R)}},status:{defaultValue:!1,set:function(R){this.setProperty("status",
R);var xb=this.ui,Ja=xb.status;xb.label;R?(Ja.visible=!0,Ja.value=R):(Ja.visible=!1,Ja.value="");this.relayout()}},expose:{get:function(){return["status","label","progress"]}},bindings:{get:function(){return[{signal:"extent",handler:"relayout"},{signal:"onHoverIn",handler:"onHoverIn"},{signal:"onHoverOut",handler:"onHoverOut"},{signal:"openInWorld",handler:"openInWorld"},{target:"label",signal:"extent",handler:"relayout"},{target:"label",signal:"value",handler:"updateLabel"},{target:"label",signal:"fontSize",
handler:"updateLabel"},{target:"label",signal:"fontFamily",handler:"updateLabel"},{model:"close button",signal:"fire",handler:"close"}]}}}}}],E,{pathInPackage:function(){return"./loading-indicator.cp.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.components",version:"0.1.0"}}},{start:1899,end:6059})}(eb.ViewModel);eb.LoadingIndicator=eb.component["for"](function(){return eb.component({defaultViewModel:eb.LoadingIndicatorModel,
name:"loading indicator",borderRadius:10,clipMode:"hidden",epiMorph:!0,hasFixedPosition:!0,dropShadow:new eb.ShadowObject({color:eb.Color.rgba(0,0,0,.62),blur:28}),extent:eb.pt(225,65),fill:eb.Color.rgba(0,0,0,.65),layout:new eb.VerticalLayout({autoResize:!0,direction:"topToBottom",orderByIndex:!0,resizeSubmorphs:!1,spacing:15}),position:eb.pt(1035,573),submorphs:[{name:"wrapper",extent:eb.pt(195,35),fill:eb.Color.rgba(46,75,223,0),layout:new eb.HorizontalLayout({align:"center",autoResize:!0,direction:"leftToRight",
orderByIndex:!0,padding:{height:0,width:0,x:0,y:0},reactToSubmorphAnimations:!1,renderViaCSS:!0,resizeSubmorphs:!1,spacing:0}),submorphs:[{type:eb.HTMLMorph,name:"spinner",cssDeclaration:'\n           .lds-spinner {\n            color: official;\n            display: inline-block;\n            position: relative;\n            width: 64px;\n            height: 64px;\n          }\n          .lds-spinner div {\n            transform-origin: 32px 32px;\n            animation: lds-spinner .6s linear infinite;\n          }\n          .white-spinner div:after {\n            content: " ";\n            display: block;\n            position: absolute;\n            top: 3px;\n            left: 29px;\n            width: 5px;\n            height: 14px;\n            border-radius: 20%;\n            background: white;\n          }\n          .lds-spinner div:nth-child(1) {\n            transform: rotate(0deg);\n            animation-delay: -.55s;\n          }\n          .lds-spinner div:nth-child(2) {\n            transform: rotate(30deg);\n            animation-delay: -.5s;\n          }\n          .lds-spinner div:nth-child(3) {\n            transform: rotate(60deg);\n            animation-delay: -0.45s;\n          }\n          .lds-spinner div:nth-child(4) {\n            transform: rotate(90deg);\n            animation-delay: -0.4s;\n          }\n          .lds-spinner div:nth-child(5) {\n            transform: rotate(120deg);\n            animation-delay: -0.35s;\n          }\n          .lds-spinner div:nth-child(6) {\n            transform: rotate(150deg);\n            animation-delay: -0.3s;\n          }\n          .lds-spinner div:nth-child(7) {\n            transform: rotate(180deg);\n            animation-delay: -0.25s;\n          }\n          .lds-spinner div:nth-child(8) {\n            transform: rotate(210deg);\n            animation-delay: -0.2s;\n          }\n          .lds-spinner div:nth-child(9) {\n            transform: rotate(240deg);\n            animation-delay: -0.15s;\n          }\n          .lds-spinner div:nth-child(10) {\n            transform: rotate(270deg);\n            animation-delay: -0.1s;\n          }\n          .lds-spinner div:nth-child(11) {\n            transform: rotate(300deg);\n            animation-delay: -0.05s;\n          }\n          .lds-spinner div:nth-child(12) {\n            transform: rotate(330deg);\n            animation-delay: 0s;\n          }\n          @keyframes lds-spinner {\n            0% {\n              opacity: 1;\n            }\n            100% {\n              opacity: 0;\n            }\n          }',
extent:eb.pt(86.2,70.2),fill:eb.Color.rgba(255,255,255,0),html:'<div class="white-spinner lds-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>',scale:.5},{type:eb.Label,name:"label",fill:eb.Color.rgba(255,255,255,0),fontColor:eb.Color.rgb(253,254,254),fontSize:16,fontWeight:"bold",nativeCursor:"pointer",padding:eb.rect(0,0,20,0),submorphs:[{type:eb.Label,name:"status",fill:eb.Color.rgba(255,255,255,
0),fontColor:eb.Color.rgb(253,254,254),fontWeight:"bold",nativeCursor:"pointer",opacity:.65,position:eb.pt(0,20),textAndAttributes:["",null],visible:!1}],textAndAttributes:["test test test test ",null]}]},eb.part(eb.ButtonDefault,{name:"close button",borderWidth:0,extent:eb.pt(23,22),fill:eb.Color.transparent,isLayoutable:!1,visible:!1,submorphs:[{name:"label",fontColor:eb.Color.rgb(253,254,254),fontSize:18,fontWeight:"bolder",textAndAttributes:eb.Icon.textAttribute("times")}]}),{type:eb.ProgressBar,
name:"progress bar",extent:eb.pt(195,5),isLayoutable:!1,opacity:0,progress:0,submorphs:[{name:"progress path",extent:eb.pt(1,10),fill:eb.Color.rgb(255,153,0)}]}]})},{module:"lively.components/loading-indicator.cp.js","export":"LoadingIndicator",range:{start:7106,end:12279}},eb.LoadingIndicator);T=eb.LoadingIndicator;eb.LoadingIndicator=T;eb.open=ib;eb.forPromise=Da;eb.runFn=zb;eb.LoadingIndicatorModel=W;W=Object.freeze({__proto__:null,LoadingIndicator:T,open:ib,forPromise:Da,runFn:zb,LoadingIndicatorModel:W});
Lc("L",W)}}});
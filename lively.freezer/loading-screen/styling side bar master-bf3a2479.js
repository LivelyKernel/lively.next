System.register("./__root_module__-f9290433.js kld-intersections ./index-9e4ab300.js ./index-67954004.js ./index-022558fb.js ./color-picker-e9433ddc.js ./index-461cc786.js".split(" "),function(){var sa,db,Eb,Vb,Wb,wd,Ic,Ad,Jc,Mc,bd,ed,Od,qd,Xc,Ra,wb,mc,dc,Rc;return{setters:[function(Tc){sa=Tc.ag;db=Tc.ay;Eb=Tc.al;Vb=Tc.am;Wb=Tc.at;wd=Tc.a1;Ic=Tc.C;Ad=Tc.ar;Jc=Tc.ao;Mc=Tc.bn;bd=Tc.aq;ed=Tc.a5;Od=Tc.s;qd=Tc.bT;Xc=Tc.as;Ra=Tc.ap;wb=Tc.r;mc=Tc.a4;dc=Tc.P},function(){},function(){},function(){},function(){},
function(Tc){Rc=Tc.S},function(){}],execute:function(){var Tc=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js");Tc.Morph=sa;Tc.touchInputDevice=db;Tc.morph=Eb;Tc.Icon=Vb;Tc.easings=Wb;Tc.pt=wd;Tc.Color=Ic;Tc.fun=Ad;Tc.connect=Jc;Tc.TreeData=Mc;var zc=function(fd){var Qb=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),xb=Qb.hasOwnProperty("SettingsTree")&&"function"===typeof Qb.SettingsTree?Qb.SettingsTree:Qb.SettingsTree=function(eb){eb&&eb[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(xb,fd,[{key:"display",value:function(eb){return eb.panel?[eb.panel,{}]:eb.name}},{key:"collapse",value:function(eb,vb){eb.isCollapsed=vb}},{key:"isCollapsed",value:function(eb){return eb.isCollapsed}},{key:"isLeaf",value:function(eb){return!eb.children}},{key:"getChildren",value:function(eb){return eb.children}}],[{key:"className",get:function(){return"SettingsTree"}},{key:"default",value:function(){return new this({isCollapsed:!1,
children:[{isCollapsed:!0,name:[" ",{}].concat($jscomp.arrayFromIterable(Tc.Icon.textAttribute("font")),[" Rich Text",{fontWeight:"bold"}]),children:[{panel:Tc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Tc.Icon.textAttribute("image")),[" Shape",{fontWeight:"bold"}]),children:[{panel:Tc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Tc.Icon.textAttribute("border-style")),[" Border",{paddingLeft:"2px",fontWeight:"bold"}]),children:[{panel:Tc.morph({})}]},
{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Tc.Icon.textAttribute("grip-vertical")),[" Layout",{paddingLeft:"4px",fontWeight:"bold"}]),children:[{panel:Tc.morph({})}]}]})}},{key:"border",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" Type    ",{},Tc.morph({height:20}),{}],children:[{panel:Tc.morph({})}]},{isCollapsed:!1,name:[" Color   ",{},Tc.morph({height:20}),{}],children:[{panel:Tc.morph({})}]},{isCollapsed:!1,name:[" Width  ",{},Tc.morph({height:20}),
{}],children:[{panel:Tc.morph({})}]},{isCollapsed:!1,name:[" Radius ",{},Tc.morph({height:20}),{}],children:[{panel:Tc.morph({})}]}]})}}],Qb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-55"}}},{start:284,end:2453})}(Tc.TreeData);Tc.SettingsTree=zc;Tc.SettingsTree=zc;Tc.SettingsTree=zc;zc=function(fd){var Qb=
lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),xb=Qb.hasOwnProperty("StylingSideBar")&&"function"===typeof Qb.StylingSideBar?Qb.StylingSideBar:Qb.StylingSideBar=function(eb){eb&&eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(xb,fd,[{key:"onWorldResize",value:function(eb){eb=void 0===eb?!0:eb;if(this.respondsToVisibleWindow){var vb=$world.visibleBounds(),Va=navigator.standalone&&Tc.touchInputDevice?25:0,lb=this.getSubmorphNamed("horizontal resizer");
this.height=vb.height-Va;this.top=Va+vb.top();lb.height=this.height;lb.left=0;lb.top=0;eb&&(this.visible?this.topRight=vb.topRight():this.topLeft=vb.topRight())}}},{key:"toggle",value:function(eb){var vb=this,Va,lb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(yb){switch(yb.nextAddress){case 1:Va=$world.visibleBounds();lb=navigator.standalone&&Tc.touchInputDevice?25:0;vb.height=Va.height-lb;vb.top=lb+Va.top();if(eb)return $world.addMorph(vb,$world.get("lively top bar")),vb.left=Va.width,
vb.visible=!0,yb.yield(vb.whenRendered(),5);vb.detachFromWorld($world);return yb.yield(vb.animate({opacity:0,left:Va.width,duration:300}),4);case 4:vb.visible=!1;vb.remove();yb.jumpTo(0);break;case 5:return vb.onWorldResize(!1),yb.yield(vb.animate({opacity:1,easing:Tc.easings.outCirc,right:Va.width,duration:300}),6);case 6:vb.attachToWorld($world),yb.jumpToEnd()}})}},{key:"attachToWorld",value:function(eb){Tc.connect(eb,"showHaloFor",this,"focusMorph",{garbageCollect:!0})}},{key:"detachFromWorld",
value:function(eb){var vb=this;eb.attributeConnections.forEach(function(Va){Va.targetObj===vb&&Va.disconnect()})}},{key:"focusMorph",value:function(eb){eb.isMorph&&eb.ownerChain().includes(this)||((eb.isLabel||eb.isText||eb.isButton)&&this.richTextControl.focusOn(eb,!1),Object.values(this.controls).forEach(function(vb){return vb&&vb.focusOn(eb)}))}},{key:"onHierarchyChange",value:function(){Object.values(this.controls).forEach(function(eb){return eb&&eb.update()})}}],[{key:"className",get:function(){return"StylingSideBar"}},
{key:"properties",get:function(){return{controls:{},richTextControl:{},isHaloItem:{get:function(){return!0}}}}}],Qb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-55"}}},{start:2470,end:4827})}(Tc.Morph);zc=Tc.StylingSideBar;Tc.default=zc;var Fc=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js");
Fc.Morph=sa;Fc.obj=ed;Fc.string=Od;Fc.connect=Jc;Fc.noUpdate=qd;Fc.once=Xc;zc=function(fd){var Qb=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js"),xb=Qb.hasOwnProperty("ShapeFormatStyler")&&"function"===typeof Qb.ShapeFormatStyler?Qb.ShapeFormatStyler:Qb.ShapeFormatStyler=function(eb){eb&&eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(xb,fd,[{key:Symbol.for("lively-instance-initialize"),value:function(eb){bd._get(Object.getPrototypeOf(xb.prototype),
Symbol.for("lively-instance-initialize"),this).call(this,eb);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var eb=this.ui,vb={},Va=$jscomp.makeIterator(Object.entries(this.uiSpec)),lb=Va.next();!lb.done;vb={$jscomp$loop$prop$control$2286:vb.$jscomp$loop$prop$control$2286,$jscomp$loop$prop$prop$2287:vb.$jscomp$loop$prop$prop$2287},lb=Va.next()){var yb=$jscomp.makeIterator(lb.value);lb=yb.next().value;yb=$jscomp.makeIterator(yb.next().value);yb.next();
var Zb=yb.next().value;vb.$jscomp$loop$prop$prop$2287=yb.next().value;vb.$jscomp$loop$prop$control$2286=eb[lb];Fc.connect(vb.$jscomp$loop$prop$control$2286,Zb,this,"updateTarget",{updater:function(Sb){return function($a,bb){Sb.$jscomp$loop$prop$control$2286._updating=!0;$a(Sb.$jscomp$loop$prop$prop$2287,bb);Sb.$jscomp$loop$prop$control$2286._updating=!1}}(vb),varMapping:{prop:vb.$jscomp$loop$prop$prop$2287,control:vb.$jscomp$loop$prop$control$2286}})}}},{key:"update",value:function(){var eb=this,
vb=this.target,Va=vb.clipMode,lb=vb.fill,yb=vb.dropShadow,Zb=vb.opacity,Sb=vb.height,$a=vb.width;vb=this.ui;var bb=vb.clipModeSelector,Kb=vb.fillPicker,wc=vb.opacityField,fc=vb.shadowPicker,bc=vb.heightField,Tb=vb.widthField;Fc.noUpdate(function(){eb.updateControl(fc,"shadowValue",yb);eb.updateControl(bb,"selection",Va);eb.updateControl(Kb,"colorValue",lb);eb.updateControl(wc,"number",Zb);eb.updateControl(bc,"number",Sb);eb.updateControl(Tb,"number",$a)})}},{key:"updateTarget",value:function(eb,vb){this.target[eb]=
vb;this.update()}},{key:"updateControl",value:function(eb,vb,Va){eb._updating||Fc.obj.equals(eb[vb],Va)||(eb[vb]=Va)}},{key:"updateMultiValue",value:function(eb,vb,Va){var lb=this.ui,yb=lb[this.join(eb)],Zb=yb.get("multi value indicator"),Sb=Fc.obj.values(vb).some(function($a){return!Fc.obj.isFunction($a)&&!Fc.obj.equals($a,vb.valueOf())});Zb.left=0;yb.visible=yb.isLayoutable=!Sb;if(Sb&&Zb.visible!=Sb)Fc.once(Zb,"onMouseDown",yb,Va,{converter:function(){return vb.valueOf()},varMapping:{value:vb}});
Zb.visible=Zb.isLayoutable=Sb;Zb.left=Sb?200:0;this.updateControl(yb,Va,vb.valueOf());yb=$jscomp.makeIterator(["top","left","bottom","right"]);for(Zb=yb.next();!Zb.done;Zb=yb.next())Zb=Zb.value,Sb=lb[this.join(eb,Zb)],this.updateControl(Sb,Va,vb[Zb])}},{key:"lower",value:function(eb){return eb.charAt(0).toLowerCase()+eb.slice(1)}},{key:"join",value:function(eb,vb){return this.lower(Fc.string.camelCaseString(eb+(vb?" "+vb:"")))}},{key:"unwrap",value:function(eb,vb,Va){var lb={};lb=(lb[this.lower(Fc.string.camelCaseString(eb))]=
[eb,vb,Va],lb);for(var yb=$jscomp.makeIterator(["top","left","bottom","right"]),Zb=yb.next();!Zb.done;Zb=yb.next()){Zb=Zb.value;var Sb=eb+" "+Zb;lb[this.lower(Fc.string.camelCaseString(Sb))]=[Sb,vb,this.join(Va,Zb)]}return lb}},{key:"focusOn",value:function(eb){var vb=this,Va;return $jscomp.asyncExecutePromiseGeneratorProgram(function(lb){if(1==lb.nextAddress)return!eb||vb.isAncestorOf(eb)||vb.target===eb||Fc.obj.isArray(eb)||(vb.target=eb),Va=vb.visible,vb.visible=!0,lb.yield(vb.whenRendered(),2);
if(3!=lb.nextAddress)return vb.update(),lb.yield(vb.whenRendered(),3);vb.getSubmorphsByStyleClassName("NumberWidget").map(function(yb){return yb.relayout()});vb.visible=Va;lb.jumpToEnd()})}},{key:"onHoverIn",value:function(eb){this.watchForTarget=!1}},{key:"onHoverOut",value:function(eb){this.watchForTarget=!0}}],[{key:"className",get:function(){return"ShapeFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||(this._uiSpec={clipModeSelector:["clip mode selector",
"selection","clipMode"],fillPicker:["fill picker","colorValue","fill"],shadowPicker:["shadow picker","shadowValue","dropShadow"],opacityField:["opacity field","number","opacity"],heightField:["height field","number","height"],widthField:["width field","number","width"]})}},ui:{readOnly:!0,get:function(){var eb=this,vb=this.uiSpec;return this._ui||(this._ui=Fc.obj.extract(vb,Fc.obj.keys(vb),function(Va,lb){Va=$jscomp.makeIterator(lb).next().value;return eb.getSubmorphNamed(Va)}))}}}}}],Qb,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeFormatStyler",version:"0.1.1-144"}}},{start:176,end:4600})}(Fc.Morph);zc=Fc.ShapeFormatStyler;Fc.default=zc;var Jb=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js");Jb.Morph=sa;Jb.ShadowPopover=Rc;Jb.connect=Jc;Jb.signal=Ra;zc=function(fd){var Qb=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js"),xb=Qb.hasOwnProperty("ShadowWidget")&&
"function"===typeof Qb.ShadowWidget?Qb.ShadowWidget:Qb.ShadowWidget=function(eb){eb&&eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(xb,fd,[{key:"onHoverIn",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:1,duration:200})}},{key:"onHoverOut",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:0,duration:200})}},{key:"onMouseDown",value:function(eb){this.openPopover()}},
{key:"update",value:function(eb){var vb=this.submorphs[0];vb&&(vb.dropShadow=eb)}},{key:"openPopover",value:function(){var eb=this,vb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Va){if(1==Va.nextAddress)return vb=new Jb.ShadowPopover({hasFixedPosition:!!eb.ownerChain().find(function(lb){return lb.hasFixedPosition}),shadowValue:eb.shadowValue}),Va.yield(vb.fadeIntoWorld(eb.globalBounds().center()),2);Jb.connect(vb,"shadowValue",eb,"shadowValue");Jb.connect(eb,"shadowValue",eb,"update");
Jb.signal(eb,"openWidget",vb);Va.jumpToEnd()})}}],[{key:"className",get:function(){return"ShadowWidget"}},{key:"properties",get:function(){return{shadowValue:{set:function(eb){this.setProperty("shadowValue",eb);this.update(eb)}}}}}],Qb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShadowWidget",version:"0.1.1-7"}}},{start:194,end:1231})}(Jb.Morph);
zc=Jb.ShadowWidget;Jb.default=zc;var Ac=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js");Ac.Morph=sa;Ac.obj=ed;Ac.string=Od;Ac.connect=Jc;Ac.noUpdate=qd;Ac.once=Xc;zc=function(fd){var Qb=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js"),xb=Qb.hasOwnProperty("BorderFormatStyler")&&"function"===typeof Qb.BorderFormatStyler?Qb.BorderFormatStyler:Qb.BorderFormatStyler=function(eb){eb&&eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return bd(xb,fd,[{key:Symbol.for("lively-instance-initialize"),value:function(eb){bd._get(Object.getPrototypeOf(xb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,eb);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var eb=this.ui,vb={},Va=$jscomp.makeIterator(Object.entries(this.uiSpec)),lb=Va.next();!lb.done;vb={$jscomp$loop$prop$control$2289:vb.$jscomp$loop$prop$control$2289,$jscomp$loop$prop$prop$2290:vb.$jscomp$loop$prop$prop$2290},
lb=Va.next()){var yb=$jscomp.makeIterator(lb.value);lb=yb.next().value;yb=$jscomp.makeIterator(yb.next().value);yb.next();var Zb=yb.next().value;vb.$jscomp$loop$prop$prop$2290=yb.next().value;vb.$jscomp$loop$prop$control$2289=eb[lb];Ac.connect(vb.$jscomp$loop$prop$control$2289,Zb,this,"updateTarget",{updater:function(Sb){return function($a,bb){Sb.$jscomp$loop$prop$control$2289._updating=!0;$a(Sb.$jscomp$loop$prop$prop$2290,bb);Sb.$jscomp$loop$prop$control$2289._updating=!1}}(vb),varMapping:{prop:vb.$jscomp$loop$prop$prop$2290,
control:vb.$jscomp$loop$prop$control$2289}})}}},{key:"update",value:function(){var eb=this,vb=this.target,Va=vb.borderStyle,lb=vb.borderColor,yb=vb.borderRadius,Zb=vb.borderWidth;Ac.noUpdate(function(){eb.updateMultiValue("border style selector",Va,"selection");eb.updateMultiValue("border color picker",lb,"colorValue");eb.updateMultiValue("border radius field",yb,"number");eb.updateMultiValue("border width field",Zb,"number")})}},{key:"updateTarget",value:function(eb,vb){this.target[eb]=vb;this.update()}},
{key:"updateControl",value:function(eb,vb,Va){eb._updating||Ac.obj.equals(eb[vb],Va)||(eb[vb]=Va)}},{key:"updateMultiValue",value:function(eb,vb,Va){var lb=this.ui,yb=lb[this.join(eb)],Zb=yb.get("multi value indicator"),Sb=Ac.obj.values(vb).some(function($a){return!Ac.obj.isFunction($a)&&!Ac.obj.equals($a,vb.valueOf())});yb.visible=yb.isLayoutable=!Sb;if(Sb&&Zb.visible!=Sb)Ac.once(Zb,"onMouseDown",yb,Va,{converter:function(){return vb.valueOf()},varMapping:{value:vb}});Zb.visible=Zb.isLayoutable=
Sb;this.updateControl(yb,Va,vb.valueOf());yb=$jscomp.makeIterator(["top","left","bottom","right"]);for(Zb=yb.next();!Zb.done;Zb=yb.next())Zb=Zb.value,Sb=lb[this.join(eb,Zb)],this.updateControl(Sb,Va,vb[Zb])}},{key:"lower",value:function(eb){return eb.charAt(0).toLowerCase()+eb.slice(1)}},{key:"join",value:function(eb,vb){return this.lower(Ac.string.camelCaseString(eb+(vb?" "+vb:"")))}},{key:"unwrap",value:function(eb,vb,Va){var lb={};lb=(lb[this.lower(Ac.string.camelCaseString(eb))]=[eb,vb,Va],lb);
for(var yb=$jscomp.makeIterator(["top","left","bottom","right"]),Zb=yb.next();!Zb.done;Zb=yb.next()){Zb=Zb.value;var Sb=eb+" "+Zb;lb[this.lower(Ac.string.camelCaseString(Sb))]=[Sb,vb,this.join(Va,Zb)]}return lb}},{key:"attachToWorld",value:function(){Ac.connect($world,"showHaloFor",this,"focusOn",{garbageCollect:!0})}},{key:"focusOn",value:function(eb){var vb=this,Va;return $jscomp.asyncExecutePromiseGeneratorProgram(function(lb){if(1==lb.nextAddress)return!eb||vb.isAncestorOf(eb)||vb.target===eb||
Ac.obj.isArray(eb)||(vb.target=eb),Va=vb.visible,vb.visible=!0,lb.yield(vb.whenRendered(),2);if(3!=lb.nextAddress)return vb.update(),lb.yield(vb.whenRendered(),3);vb.getSubmorphsByStyleClassName("NumberWidget").map(function(yb){return yb.relayout()});vb.visible=Va;lb.jumpToEnd()})}},{key:"onHoverIn",value:function(eb){this.watchForTarget=!1}},{key:"onHoverOut",value:function(eb){this.watchForTarget=!0}}],[{key:"className",get:function(){return"BorderFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||
(this._uiSpec=Object.assign({},this.unwrap("border style selector","selection","borderStyle"),{},this.unwrap("border color picker","colorValue","borderColor"),{},this.unwrap("border radius field","number","borderRadius"),{},this.unwrap("border width field","number","borderWidth")))}},ui:{}}}}],Qb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"BorderFormatStyler",
version:"0.1.1-10"}}},{start:185,end:4385})}(Ac.Morph);zc=Ac.BorderFormatStyler;Ac.default=zc;var Bc=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js");Bc.Morph=sa;Bc.resource=wb;Bc.arr=mc;Bc.obj=ed;Bc.string=Od;Bc.Path=dc;Bc.connect=Jc;zc=function(fd){var Qb=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js"),xb=Qb.hasOwnProperty("MasterComponentControl")&&"function"===typeof Qb.MasterComponentControl?Qb.MasterComponentControl:Qb.MasterComponentControl=function(eb){eb&&
eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return bd(xb,fd,[{key:"focusOn",value:function(eb){this.target=eb;this.update()}},{key:"onMouseUp",value:function(eb){var vb=this,Va,lb,yb,Zb,Sb,$a;return $jscomp.asyncExecutePromiseGeneratorProgram(function(bb){if(1==bb.nextAddress){"auto master selection"==eb.targetMorph.name&&(Va="auto");"hover master selection"==eb.targetMorph.name&&(Va="hover");"click master selection"==eb.targetMorph.name&&
(Va="click");vb.refreshButtons();if(!vb.target)return bb.return();lb=$jscomp.makeIterator(["auto","hover","click"]);for(yb=lb.next();!yb.done;yb=lb.next())Zb=yb.value,vb.target.master&&vb.target.master[Zb]&&!vb.get(Zb+" master checkbox").checked&&vb.adjustMasterComponent(Zb,null);if(!Va)return bb.jumpTo(0);Sb=vb;$a=Sb.openMenu;return bb.yield(vb.getComponentSelectionMenu(Va),3)}$a.call(Sb,bb.yieldResult,eb);bb.jumpToEnd()})}},{key:"getComponentSelectionMenu",value:function(eb){var vb=this,Va,lb,yb,
Zb,Sb,$a;return $jscomp.asyncExecutePromiseGeneratorProgram(function(bb){if(1==bb.nextAddress)return Va=vb.world().metadata.commit.name,lb=Bc.resource("styleguide://"+Va+"/"),bb.yield(lb.dirList(),2);if(3!=bb.nextAddress)return yb=bb.yieldResult,bb.yield(Bc.resource("styleguide://style guide/").dirList(),3);Zb=bb.yieldResult;Sb=vb.componentsToMenu(yb,eb);$a=vb.componentsToMenu(Zb,eb);return bb.return([].concat($jscomp.arrayFromIterable(0<Sb.length?[].concat($jscomp.arrayFromIterable(Sb),[{isDivider:!0}]):
[]),$jscomp.arrayFromIterable($a)))})}},{key:"adjustMasterComponent",value:function(eb,vb){if(this.target.master)this.target.master[eb]=vb;else if(vb){var Va={};this.target.master=(Va[eb]=vb,Va)}eb=this.target.master;vb=eb.hover;Va=eb.click;eb.auto||vb||Va||(this.target.master=null);this.update();this.target.requestMasterStyling()}},{key:"componentsToMenu",value:function(eb,vb,Va,lb){var yb=this;Va=void 0===Va?null:Va;lb=void 0===lb?1:lb;Va||(Va=eb.map(function(Sb){return{name:Bc.arr.last(Sb.name.split("/")),
path:Sb.name.split("/"),value:Sb}}));if(0==Va.length||100<lb)return[];var Zb=this;return Bc.arr.flatten(Object.entries(Bc.arr.groupBy(Va,function(Sb){return Sb.path[lb-1]})).map(function(Sb){var $a=$jscomp.makeIterator(Sb);Sb=$a.next().value;$a=$a.next().value;var bb=$jscomp.makeIterator(Bc.arr.partition($a,function(Kb){return Kb.path.length<=lb}));$a=bb.next().value;bb=bb.next().value;Sb=[Sb,yb.componentsToMenu(null,vb,bb,lb+1)];return[].concat($jscomp.arrayFromIterable($a.map(function(Kb){return[Kb.name,
function(){Zb.adjustMasterComponent(vb,Kb.value)}]})),$jscomp.arrayFromIterable(Sb[1].length?[Sb]:[]))}),1)}},{key:"update",value:function(){if(this.target){for(var eb=$jscomp.makeIterator(["auto","hover","click"]),vb=eb.next();!vb.done;vb=eb.next()){vb=vb.value;var Va=this.getSubmorphNamed(vb+" master selection"),lb=this.getSubmorphNamed(vb+" master checkbox");Bc.Path(["master",vb]).get(this.target)?lb.checked=!0:lb.checked=!1;Va.label=Bc.string.truncateLeft(Bc.Path(["master",vb,"name"]).get(this.target)||
"select master",15,"...")}this.refreshButtons()}}},{key:"refreshButtons",value:function(){for(var eb=$jscomp.makeIterator(["auto","hover","click"]),vb=eb.next();!vb.done;vb=eb.next()){vb=vb.value;var Va=this.getSubmorphNamed(vb+" master selection"),lb=this.getSubmorphNamed(vb+" master checkbox");Va=Va.deactivated=!lb.checked;this.getSubmorphNamed(vb+" master selection").opacity=Va?.5:1}eb=this.getSubmorphNamed("overridden props list");eb.items=this.getOverriddenProps();this.getSubmorphNamed("clear overridden prop button").deactivated=
!eb.selection}},{key:"getMasterForTarget",value:function(){if(this.target.isMorph)return[this.target].concat($jscomp.arrayFromIterable(this.target.ownerChain())).map(function(eb){return eb.master}).find(Boolean)}},{key:"clearSelectedProperty",value:function(){var eb=this.getSubmorphNamed("overridden props list").selection;this.getMasterForTarget().clearOverriddenPropertiesFor(this.target,[eb]);this.refreshButtons()}},{key:"getOverriddenProps",value:function(){var eb=this.getMasterForTarget();return eb&&
eb._overriddenProps?(eb=eb._overriddenProps.get(this.target))?Object.keys(eb):[]:[]}}],[{key:"className",get:function(){return"MasterComponentControl"}}],Qb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"MasterComponentControl",version:"0.1.1-102"}}},{start:234,end:4764})}(Bc.Morph);zc=Bc.MasterComponentControl;Bc.default=zc}}});

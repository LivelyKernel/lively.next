System.register(["./__root_module__-884b54f8.js","./index-9ec474a0.js"],function(za){var cb,mb,Pb,tb,Fc,vc,Qc,mc,ic,zc,Dc,Gd,Hd,Zd,xc,od,qb,kc,Uc,tc,cd,td,nb,cc,wc,dc,Nc,$a,Xa,Gb,ub,db,Xb,Fa,sb,Ya,pb,$b,lc,Jb,Cb,Bb,sa,Ta,O,U,ra,xa,pa,ea,bb,Aa,Rb,Gc;return{setters:[function(Ab){cb=Ab.C;mb=Ab.$;Pb=Ab.bf;tb=Ab.bg;Fc=Ab.bh;vc=Ab.bi;Qc=Ab.bj;mc=Ab.bk;ic=Ab.b;zc=Ab.a8;Dc=Ab.bl;Gd=Ab.bm;Hd=Ab.bn;Zd=Ab.M;xc=Ab.az;od=Ab.aa;qb=Ab.af;kc=Ab.K;Uc=Ab.aA;tc=Ab.W;cd=Ab.S;td=Ab.ay;nb=Ab.aE;cc=Ab.bo;wc=Ab.bp;
dc=Ab.c;Nc=Ab.d;$a=Ab.ac;Xa=Ab.a;Gb=Ab.bq;ub=Ab.i;db=Ab.I;Xb=Ab.ag;Fa=Ab.g;sb=Ab.br;Ya=Ab.ab;pb=Ab.m;$b=Ab.a3;lc=Ab.p;Jb=Ab.f;Cb=Ab.s;Bb=Ab.Y;sa=Ab.R;Ta=Ab.bs;O=Ab.bt;U=Ab.bu;ra=Ab.a9;xa=Ab.o;pa=Ab.aq;ea=Ab.r},function(Ab){bb=Ab.p;Aa=Ab.P;Rb=Ab.d;Gc=Ab.N}],execute:function(){var Ab=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");Ab.Color=cb;Ab.rect=mb;Ab.Complementary=Pb;Ab.Triadic=tb;Ab.Tetradic=Fc;Ab.Quadratic=vc;Ab.Analogous=Qc;Ab.Neutral=mc;Ab.pt=ic;Ab.Point=zc;Ab.flatDesignColors=
Dc;Ab.materialDesignColors=Gd;Ab.webSafeColors=Hd;Ab.Morph=Zd;Ab.CustomLayout=xc;Ab.VerticalLayout=od;Ab.HorizontalLayout=qb;Ab.Text=kc;Ab.TilingLayout=Uc;Ab.Ellipse=tc;Ab.Image=cd;Ab.StyleSheet=td;Ab.DropDownSelector=nb;Ab.ModeSelector=cc;Ab.Slider=wc;Ab.connect=dc;Ab.signal=Nc;Ab.num=$a;Ab.arr=Xa;Ab.SnapLayout=Gb;Ab.WHEEL_URL="/lively.ide/assets/color-wheel.png";Ab.duration=200;(function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Za=hb.hasOwnProperty("ColorPaletteField")&&
"function"===typeof hb.ColorPaletteField?hb.ColorPaletteField:hb.ColorPaletteField=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"onHoverIn",value:function(){if(this.color){var ua=$jscomp.makeIterator(this.color.isGradient?Ab.Color.blue.toHSB():this.color.toHSB()),J=ua.next().value,la=ua.next().value;ua=ua.next().value;this.borderColor=Ab.Color.hsb(J,1<la+.5?la-.5:la+.5,1<ua+.5?ua-.5:ua+.5)}}},
{key:"onHoverOut",value:function(){this.borderColor=Ab.Color.transparent}},{key:"onMouseDown",value:function(){Ab.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:Ab.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||Ab.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||
Ab.Color.transparent}},styleClasses:{after:["color"],initialize:function(){this.styleClasses=this.color?["colorField"]:["vacantColorField"]}}}}}],hb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:638,end:1652})})(Ab.Morph);(function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
Za=hb.hasOwnProperty("ColorHarmonyField")&&"function"===typeof hb.ColorHarmonyField?hb.ColorHarmonyField:hb.ColorHarmonyField=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"onMouseDown",value:function(){Ab.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:Ab.pt(80,
60)},fill:{defaultValue:Ab.Color.transparent},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color harmony field"}}},color:{set:function(ua){var J=$jscomp.makeIterator(this.submorphs),la=J.next().value;J=J.next().value;var La=$jscomp.makeIterator(ua?ua.toHSB():[]),ib=La.next().value,Ib=La.next().value;La=La.next().value;this.setProperty("color",ua);ua&&la&&J&&(la.fill=ua,J.textString=ua.toHexString(),J.fontColor=Ab.Color.hsb(ib,1<Ib+.5?Ib-.5:Ib+.5,1<La+.5?La-.5:La+.5))}},
submorphs:{after:["color"],initialize:function(){var ua=$jscomp.makeIterator((this.color||Ab.Color.transparent).toHSB()),J=ua.next().value,la=ua.next().value;ua=ua.next().value;this.submorphs=[new Ab.Morph({fill:this.color,extent:Ab.pt(80,50)}),new Ab.Text({textString:J.toFixed()+", "+la.toFixed(2)+", "+ua.toFixed(2),fill:Ab.Color.transparent,fontColor:Ab.Color.gray.darker(),bottomLeft:Ab.pt(0,50)})]}}}}}],hb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:1654,end:3046})})(Ab.Morph);(function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Za=hb.hasOwnProperty("HarmonyDisplay")&&"function"===typeof hb.HarmonyDisplay?hb.HarmonyDisplay:hb.HarmonyDisplay=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return ub(Za,Id,[{key:"update",value:function(ua){var J=$jscomp.makeIterator(ua.pivotColor.toHSB()),la=J.next().value,La=J.next().value;J=J.next().value;la=ua.harmony.chord({hue:la,saturation:La,brightness:J});la.length!=this.submorphs.length?this.submorphs=la.map(function(ib){ib=new Ab.ColorHarmonyField({color:ib});Ab.connect(ib,"updateColor",ua,"color");return ib}):Ab.arr.zip(this.submorphs,la).forEach(function(ib){var Ib=$jscomp.makeIterator(ib);ib=Ib.next().value;Ib=Ib.next().value;ib.color=Ib})}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyDisplay"}}],hb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3048,end:3626})})(Ab.Morph);(function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Za=hb.hasOwnProperty("PivotColorControl")&&
"function"===typeof hb.PivotColorControl?hb.PivotColorControl:hb.PivotColorControl=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"update",value:function(ua){this.pivotColor=ua.pivotColor}},{key:"onDrag",value:function(ua){var J=$jscomp.makeIterator(this.pivotColor.toHSB()),la=J.next().value,La=J.next().value;J=J.next().value;la=Ab.num.toRadians(la);ua=Ab.Point.polar(50*La,la).addPt(ua.state.dragDelta);
la=Ab.num.toDegrees(ua.theta());la=0>la?la+360:la;La=Math.min(ua.r()/50,1);this.pivotColor=Ab.Color.hsb(la,La,J)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:Ab.Color.blue},draggable:{defaultValue:!0}}}}],hb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3628,end:4262})})(Ab.Ellipse);(function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Za=hb.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof hb.HarmonyVisualizer?hb.HarmonyVisualizer:hb.HarmonyVisualizer=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"update",value:function(ua){var J=
$jscomp.makeIterator(this.submorphs).next().value,la=this.get("pivot control"),La=$jscomp.makeIterator(ua.pivotColor.toHSB()),ib=La.next().value,Ib=La.next().value;La=La.next().value;var hc=Ab.num.toRadians(ib);ib=ua.harmony.chord({hue:ib,saturation:Ib,brightness:La}).map(function(Vb){var Oc=$jscomp.makeIterator(Vb.toHSB()),Pc=Oc.next().value;Vb=Oc.next().value;Oc.next();Oc=Ab.num.toRadians(Pc);return Ab.Point.polar(50*Vb,Oc)});J.fill=Ab.Color.black.withA(1-La);la.update(ua);J.submorphs.length-1!=
ib.length?J.submorphs=[].concat($jscomp.arrayFromIterable(ib.map(function(Vb){return new Ab.Ellipse({center:Vb,fill:Ab.Color.transparent,draggable:!1,borderWidth:1,borderColor:Ab.Color.black})})),[la]):(Ab.arr.zip(J.submorphs,ib).forEach(function(Vb){var Oc=$jscomp.makeIterator(Vb);Vb=Oc.next().value;if(Oc=Oc.next().value)Vb.center=Oc}),la.center=Ab.Point.polar(50*Ib,hc))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},
submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new Ab.PivotColorControl({name:"pivot control"})]}]}}}}}],hb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4264,end:5726})})(Ab.Image);(function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
Za=hb.hasOwnProperty("HarmonyPalette")&&"function"===typeof hb.HarmonyPalette?hb.HarmonyPalette:hb.HarmonyPalette=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"update",value:function(ua){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=ua.pivotBrightness,this.harmony=ua.harmony,this.get("harmonies").update(ua),this.get("harmony visualizer").update(ua),this.updateInProgress=
!1)}},{key:"harmonyControl",value:function(){var ua,J,la=new Ab.Morph({name:"harmonyControl",submorphs:[new Ab.HarmonyVisualizer({name:"harmony visualizer"}),J=new Ab.Slider({min:0,max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),ua=new Ab.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new Ab.Complementary,Triadic:new Ab.Triadic,Tetradic:new Ab.Tetradic,
Quadratic:new Ab.Quadratic,Analogous:new Ab.Analogous,Neutral:new Ab.Neutral}})]});Ab.connect(J,"value",this,"pivotBrightness");Ab.connect(ua,"selectedValue",this,"harmony");return la}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new Ab.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],
initialize:function(){this.submorphs=[new Ab.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],hb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5728,end:7655})})(Ab.Morph);var Hc=za("C",function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
Za=hb.hasOwnProperty("ColorPalette")&&"function"===typeof hb.ColorPalette?hb.ColorPalette:hb.ColorPalette=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"fadeIntoWorld",value:function(ua){ub._get(Object.getPrototypeOf(Za.prototype),"fadeIntoWorld",this).call(this,ua);this.initPosition=ua;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function(ua){"Escape"==
ua.key&&this.close()}},{key:"close",value:function(ua){ua?this.fadeOut(ua):this.remove();Ab.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",extent:Ab.pt(400,253),submorphs:[this.solidColorPalette(),new Ab.HarmonyPalette({name:"harmony palette",isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var ua=this.get("solidColorPalette"),J=this.get("paletteView");ua.visible||(J.submorphs.forEach(function(la){return la.animate({isLayoutable:!1,
visible:!1,duration:200})}),ua.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var ua=this.get("paletteView");this.get("harmony palette").visible||(ua.submorphs.forEach(function(J){return J.animate({isLayoutable:!1,visible:!1,duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var ua=new Ab.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette",
"Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});Ab.connect(ua,"Color Palette",this,"selectSolidMode");Ab.connect(ua,"Color Harmonies",this,"selectHarmonyMode");return ua}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var ua=this.getColorsFor(this.colorPalette),J=ua.colors,
la=ua.mod;return this.cachedPalette[ua.name]||this.getPalette(J,la)}},{key:"getPalette",value:function(ua,J){var la=this,La=Math.max(Math.ceil(ua.length/J),15),ib=La*this.colorFieldWidth,Ib=J*this.colorFieldWidth;ua=[].concat($jscomp.arrayFromIterable(ua),$jscomp.arrayFromIterable(Ab.arr.withN(La*J-ua.length,null)));return{extent:Ab.pt(ib,Ib),name:"paletteContainer",submorphs:ua.map(function(hc){hc=new Ab.ColorPaletteField({color:hc&&Ab.Color.rgbHex(hc),extent:Ab.pt(la.colorFieldWidth,la.colorFieldWidth)});
Ab.connect(hc,"updateColor",la,"color");return hc})}}},{key:"switchPalette",value:function(ua){var J=ua.name,la=ua.colors;ua=ua.mod;var La=this.get("solidColorPalette"),ib=$jscomp.makeIterator(La.submorphs);ib.next();ib=ib.next().value;this.cachedPalette[J]=this.cachedPalette[J]||this.getPalette(la,ua,J);La.submorphs=[this.cachedPalette[J],ib]}},{key:"getPaletteDescription",value:function(ua){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",
custom:"Your personal set of customly defined colors.",materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[ua]}},
{key:"updatePaletteDescription",value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function(ua){return Object.assign({name:ua},{flatDesign:{colors:Ab.flatDesignColors,mod:11},materialDesign:{colors:Ab.materialDesignColors,mod:15},webSafe:{colors:Ab.webSafeColors,mod:12}}[ua])}},{key:"paletteConfig",value:function(){var ua,J={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[ua=new Ab.DropDownSelector({isHaloItem:!0,
name:"paletteSelector",selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};Ab.connect(ua,"selectedValue",this,"colorPalette");return J}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:Ab.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function(ua){this.setProperty("colorPalette",
ua);this.switchPalette(this.getColorsFor(ua));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function(ua){this.setProperty("pivotColor",ua);this.get("harmony palette").update(this)}},color:{set:function(ua){this.setProperty("color",ua);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var ua=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());ua.next();ua.next();return ua.next().value},
set:function(ua){var J=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),la=J.next().value;J=J.next().value;this.pivotColor=Ab.Color.hsb(la,J,ua)}},harmony:{after:["submorphs","pivotColor"],defaultValue:new Ab.Complementary,set:function(ua){this.setProperty("harmony",ua);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var ua=
$jscomp.makeIterator((this.color.isGradient?Ab.Color.blue:this.color).toHSB()),J=ua.next().value,la=ua.next().value;ua.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=Ab.Color.hsb(J,la,1);Ab.connect(this.get("harmony palette"),"harmony",this,"harmony");Ab.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");Ab.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],
hb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:7721,end:15551})}(Ab.Morph));Ab.ColorPalette=Hc;Ab.ColorPalette=Hc;Ab.ColorPalette=Hc;var fb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");fb.Morph=Zd;fb.Icon=db;fb.ProportionalLayout=Xb;fb.config=Fa;
fb.Text=kc;fb.ShadowObject=sb;fb.GridLayout=Ya;fb.TilingLayout=Uc;fb.StyleSheet=td;fb.morph=pb;fb.HorizontalLayout=qb;fb.VerticalLayout=od;fb.KeyHandler=$b;fb.connect=dc;fb.signal=Nc;fb.arr=Xa;fb.promise=lc;fb.fun=Jb;fb.string=Cb;fb.obj=Bb;fb.Color=cb;fb.rect=mb;fb.Rectangle=sa;fb.pt=ic;fb.popovers=bb;fb.ModeSelector=cc;fb.DropDownSelector=nb;fb.SearchField=Ta;fb.CheckBox=O;fb.Popover=Aa;fb.SvgStyleHalo=Rb;fb.NumberWidget=Gc;fb.Icons=U;fb.duration=200;var ud=za("c",fb.colorWidgets||{});fb.colorWidgets=
ud;fb.colorWidgets=ud;fb.colorWidgets=ud;(function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Za=hb.hasOwnProperty("SelectableControl")&&"function"===typeof hb.SelectableControl?hb.SelectableControl:hb.SelectableControl=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"select",value:function(ua){var J=this,la,La,ib;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ib){if(1==
Ib.nextAddress)return J.target?Ib.yield(J.target.execCommand(ua),2):Ib.return();la=Ib.yieldResult;La=J.get("modeSelector");la.opacity=0;J.lastLabel&&(ib=La.submorphs.indexOf(J.lastLabel)<La.submorphs.indexOf(La.currentLabel),la.topLeft=La.bottomLeft.addXY(ib?20:-20,10));J.lastLabel=La.currentLabel;J.animate({submorphs:[La,la],duration:fb.duration});la.animate({opacity:1,duration:fb.duration});Ib.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SelectableControl"}},{key:"properties",
get:function(){return{target:{type:"Morph"},selectableControls:{},selectedControl:{},fill:{defaultValue:fb.Color.transparent},layout:{initialize:function(){this.layout=new fb.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function(ua){return this.container.submorphs.indexOf(ua)}})}},submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var ua=new fb.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});this.submorphs=[ua];
ua.width=100;fb.connect(ua,"switchLabel",this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],hb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:948,end:2579})})(fb.Morph);(function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
Za=hb.hasOwnProperty("ToggledControl")&&"function"===typeof hb.ToggledControl?hb.ToggledControl:hb.ToggledControl=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"toggle",value:function(ua){var J=$jscomp.makeIterator(this.submorphs).next().value,la=this.toggledControl(ua);J=[J].concat($jscomp.arrayFromIterable(la?[la]:[]));fb.signal(this,"update",ua&&la.value);la&&(la.opacity=0);this.animate({submorphs:J,
duration:fb.duration});la&&la.animate({opacity:1,duration:fb.duration})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:fb.Color.transparent},layout:{initialize:function(){this.layout=new fb.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var ua=new fb.CheckBox({checked:this.checked});this.submorphs=
[{fill:fb.Color.transparent,layout:new fb.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:fb.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},ua]}];this.toggle(this.checked);fb.connect(ua,"toggle",this,"toggle")}}}}}],hb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2581,end:4273})})(fb.Morph);(function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Za=hb.hasOwnProperty("StylePopover")&&"function"===typeof hb.StylePopover?hb.StylePopover:hb.StylePopover=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"setupConnections",value:function(){}},{key:"controls",
value:function(){return[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=fb.morph({layout:new fb.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:fb.Color.transparent,submorphs:this.controls()});this.setupConnections()}}}}}],hb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4275,end:4825})})(fb.Popover);var je=function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Za=hb.hasOwnProperty("IconPopover")&&"function"===typeof hb.IconPopover?hb.IconPopover:hb.IconPopover=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"onDrop",value:function(ua){var J=this;ua.hand.grabbedMorphs.find(function(la){return la===
J.iconLabel})&&(ua.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new fb.VerticalLayout({spacing:4}),fill:fb.Color.transparent,submorphs:[new fb.SearchField({name:"searchInput",width:200,placeHolder:"Search Icons"}),fb.morph({textAndAttributes:this.iconAsTextAttributes(),name:"iconList",draggable:!0,type:"text",extent:fb.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var ua=
this.ui,J=ua.iconList;fb.connect(ua.searchInput,"searchInput",this,"filterIcons");fb.connect(J,"onMouseUp",this,"iconSelectClick");fb.connect(J,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",value:function(ua){ua=this.ui.iconList.textPositionFromPoint(ua.positionIn(this.ui.iconList));ua=this.iconAtTextPos(ua);this.iconLabel=fb.Icon.makeLabel(ua,{fontSize:this.ui.iconList.fontSize,name:ua});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",
value:function(ua){var J=Object.keys(fb.Icons);ua&&(J=J.filter(ua));return fb.arr.flatmap(J,function(la,La){return[fb.Icons[la].code,{iconCode:fb.Icons[la].code,iconName:la}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",value:function(){var ua=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(J){if(1==J.nextAddress)return J.yield(fb.promise.delay(250),2);fb.fun.debounceNamed("filterIcons",200,function(){ua.ui.iconList.textAndAttributes=ua.iconAsTextAttributes(function(la){return ua.ui.searchInput.matches(la.toLowerCase())})})();
J.jumpToEnd()})}},{key:"iconSelectClick",value:function(ua){ua=this.ui.iconList.textPositionFromPoint(ua.positionIn(this.ui.iconList));ua=this.iconAtTextPos(ua);this.setStatusMessage(ua);fb.signal(this,"select",ua)}},{key:"iconAtTextPos",value:function(ua){var J=ua.row;ua=ua.column;--ua;for(var la=this.ui.iconList,La=la.textAndAttributesInRange({start:{row:J,column:Math.max(0,ua)},end:{row:J,column:ua+2}});La.length&&!La[1].iconName;)ua++,La=La.slice(2);var ib={start:{row:J,column:ua},end:{row:J,
column:ua+1}};la.addTextAttribute({backgroundColor:la.selectionColor.darker().withA(.5)},ib);fb.promise.delay(1E3).then(function(){return la.addTextAttribute({backgroundColor:fb.Color.transparent},ib)});return La.length?La[1].iconName:null}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"IconPopover"}},{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:fb.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),
iconList:this.get("iconList")}}}}}}],hb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4834,end:8444})}(fb.StylePopover);fb.IconPopover=je;fb.IconPopover=je;fb.IconPopover=je;je=function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Za=hb.hasOwnProperty("LayoutPopover")&&
"function"===typeof hb.LayoutPopover?hb.LayoutPopover:hb.LayoutPopover=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"getLayoutObjects",value:function(){return[null,new fb.HorizontalLayout({autoResize:!1}),new fb.VerticalLayout({autoResize:!1}),new fb.TilingLayout,new fb.ProportionalLayout,new fb.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){ub._get(Object.getPrototypeOf(Za.prototype),
"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:fb.Color.transparent,layout:new fb.VerticalLayout({spacing:5,layoutOrder:function(ua){return this.container.submorphs.indexOf(ua)}}),submorphs:[this.layoutPicker(),this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),
duration:300}:{isLayoutable:!1,extent:fb.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function(ua){this.clearLayoutHalo();ua&&ua.layout&&(this.layoutHalo=(ua.world()||ua.env.world).showLayoutHaloFor(ua))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function(ua){return ua?ua.name()+" Layout":
"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function(ua){this.container.animate({layout:ua});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());fb.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var ua=this,J=this.getLayoutObjects().map(function(la){var La={};return La[ua.getLayoutName(la)]=la,La});J=this.get("Layout Type")||new fb.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return ua.getCurrentLayoutName()},
selectedValue:this.container.layout,values:fb.obj.merge(J)});fb.connect(J,"selectedValue",this,"applyLayout");return J}},{key:"layoutControls",value:function(){return{name:"controlContainer",fill:fb.Color.transparent,layout:new fb.VerticalLayout,isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:fb.Color.gray.lighter()}}}}],
hb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:8453,end:11240})}(fb.StylePopover);fb.LayoutPopover=je;fb.LayoutPopover=je;fb.LayoutPopover=je;je=function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Za=hb.hasOwnProperty("FillPopover")&&
"function"===typeof hb.FillPopover?hb.FillPopover:hb.FillPopover=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"openHandle",value:function(ua){ua.openInWorld();this.openHandles.push(ua)}},{key:"close",value:function(){ub._get(Object.getPrototypeOf(Za.prototype),"close",this).call(this);this.openHandles.forEach(function(ua){return ua.remove()})}},{key:"setupConnections",value:function(){var ua=
this.ui,J=ua.fillSelector,la=ua.colorField;ua=ua.gradientEditor;J&&fb.connect(this,"fillValue",J,"value");ua&&(fb.connect(ua,"gradientValue",this,"fillValue"),fb.connect(ua,"openHandle",this,"openHandle"));la&&(fb.connect(this,"close",la,"remove"),fb.connect(la,"update",this,"fillValue"),fb.connect(this,"onMouseDown",la,"removeWidgets"))}},{key:"commands",get:function(){var ua=this;return ub._get(Object.getPrototypeOf(Za.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var J=
new fb.colorWidgets.ColorPickerField({name:"colorField",colorValue:ua.fillValue.isGradient?fb.Color.blue:ua.fillValue});J.whenRendered().then(function(){ua.setupConnections()});return J}},{name:"switch to gradient",exec:function(){var J=new fb.colorWidgets.GradientEditor({name:"gradient editor",gradientValue:ua.fillValue});J.whenRendered().then(function(){ua.setupConnections();ua.handleMorph&&J.showGradientHandlesOn(ua.handleMorph);J.update()});return J}}])}},{key:"controls",value:function(){var ua=
this;if(!this.gradientEnabled){var J=new fb.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue});J.whenRendered().then(function(){J.update(ua.fillValue)});return[{fill:fb.Color.transparent,layout:new fb.VerticalLayout({spacing:0}),submorphs:[J]}]}return[new fb.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},fillValue:{defaultValue:fb.Color.blue},popoverColor:{defaultValue:fb.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],hb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:11249,end:14234})}(fb.StylePopover);fb.FillPopover=je;fb.FillPopover=je;fb.FillPopover=je;var rc=za("S",function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Za=hb.hasOwnProperty("ShadowPopover")&&"function"===typeof hb.ShadowPopover?hb.ShadowPopover:hb.ShadowPopover=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"controls",value:function(){var ua=this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",J=[{layout:new fb.VerticalLayout({resizeContainer:!0,spacing:5}),fill:fb.Color.transparent,name:"control container",submorphs:[ua=new fb.DropDownSelector({name:"shadow type",borderRadius:2,padding:3,selectedValue:ua,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?
this.shadowControls():[])}];fb.connect(ua,"selectedValue",this,"changeShadowType");return J}},{key:"shadowControls",value:function(){var ua=this.shadowValue,J=new fb.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:ua.distance,unit:"px"}),la=new fb.NumberWidget({name:"angleSlider",min:0,max:360,number:ua.rotation,autofit:!1}),La=new fb.NumberWidget({name:"spreadSlider",min:0,number:ua.spread,autofit:!1}),ib=new fb.NumberWidget({name:"blurSlider",min:0,number:ua.blur,autofit:!1});ua=new fb.colorWidgets.ColorPickerField({name:"colorPicker",
colorValue:ua.color});fb.connect(ua,"colorValue",this,"updateShadow",{converter:function(Ib){return{color:Ib}}});fb.connect(this,"onMouseDown",ua,"removeWidgets");fb.connect(this,"close",ua,"remove");fb.connect(La,"update",this,"updateShadow",{converter:function(Ib){return{spread:Ib}}});fb.connect(J,"update",this,"updateShadow",{converter:function(Ib){return{distance:Ib}}});fb.connect(ib,"update",this,"updateShadow",{converter:function(Ib){return{blur:Ib}}});fb.connect(la,"update",this,"updateShadow",
{converter:function(Ib){return{rotation:Ib}}});return new fb.Morph({layout:new fb.GridLayout({autoAssign:!1,fitToCell:!1,columns:[0,{paddingLeft:1}],rows:fb.arr.flatten(fb.arr.range(0,3).map(function(Ib){return[Ib,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",null,"distanceSlider"],["blurLabel",null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:fb.Color.transparent,submorphs:fb.arr.flatten([["distance",
J],["spread",La],["blur",ib],["angle",la],["color",ua]].map(function(Ib){var hc=$jscomp.makeIterator(Ib);Ib=hc.next().value;hc=hc.next().value;return[{type:"label",styleClasses:["controlName"],value:fb.string.capitalize(Ib)+":",name:Ib+"Label"},hc]}))})}},{key:"changeShadowType",value:function(ua){"No Shadow"==ua?this.toggleShadow(!1):"Inset Shadow"==ua?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?
this.shadowControls():[]),duration:300})}},{key:"updateShadow",value:function(ua){var J=this.shadowValue;ua=Object.assign({fast:J.fast,color:J.color,spread:J.spread,blur:J.blur,distance:J.distance,rotation:J.rotation,inset:J.inset},ua);this.shadowValue=new fb.ShadowObject(ua)}},{key:"toggleShadow",value:function(ua){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=ua&&this.cachedShadow}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowPopover"}},{key:"properties",
get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new fb.ShadowObject({fast:!0})},popoverColor:{defaultValue:fb.Color.gray.lighter()}}}}],hb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:14243,end:18677})}(fb.StylePopover));fb.ShadowPopover=rc;fb.ShadowPopover=
rc;fb.ShadowPopover=rc;fb.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";rc=function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Za=hb.hasOwnProperty("PointPopover")&&"function"===typeof hb.PointPopover?hb.PointPopover:hb.PointPopover=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"refineResolution",value:function(ua){this.resolution=
.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function(ua){this.pointValue=this.pointValue.addPt(ua.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){ub._get(Object.getPrototypeOf(Za.prototype),"relayout",this).call(this);var ua=this.getSubmorphNamed("mesh"),J=this.getSubmorphNamed("point value view");ua.origin=ua.innerBounds().center().addXY(4,1);ua.position=this.get("body").innerBounds().center();ua.scale=
this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";J.value=fb.obj.safeToString(this.pointValue);J.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function(ua){var J=this;ub._get(Object.getPrototypeOf(Za.prototype),Symbol.for("lively-instance-initialize"),this).call(this,ua);this.whenRendered().then(function(){return J.relayout()})}},{key:"calibrate",value:function(){var ua=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(J){if(1==
J.nextAddress)return ua.get("knob").animate({center:ua.innerBounds().center(),duration:200}),J.yield(ua.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);ua.relayout();J.jumpToEnd()})}},{key:"showPointValue",value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},{key:"controls",value:function(){this.extent=fb.pt(200,200);var ua,J,la=[fb.morph({extent:fb.pt(200,200),clipMode:"hidden",fill:fb.Color.transparent,submorphs:[{type:"image",
name:"mesh",fill:fb.Color.transparent,opacity:.5,imageUrl:fb.milimeter,autoResize:!0},{extent:fb.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:fb.Color.gray},fill:fb.Color.transparent},ua=fb.morph({name:"scroller",extent:fb.pt(200,200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),J=fb.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:fb.Color.red,borderColor:fb.Color.black,borderWidth:1,center:fb.pt(100,100),draggable:!0}),{type:"label",
name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:fb.pt(10,10),type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];ua.scroll=fb.pt(0,120);fb.connect(J,"onDragStart",this,"showPointValue");fb.connect(J,"onDrag",this,"adjustPoint");fb.connect(J,"onDragEnd",this,"calibrate");fb.connect(this,"extent",this,"relayout");fb.connect(ua,"onScroll",this,"refineResolution");return la}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"PointPopover"}},
{key:"properties",get:function(){return{pointValue:{defaultValue:fb.pt(0,0)},resolution:{defaultValue:1}}}}],hb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:18792,end:21996})}(fb.StylePopover);fb.PointPopover=rc;fb.PointPopover=rc;fb.PointPopover=rc;rc=function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
Za=hb.hasOwnProperty("RectanglePopover")&&"function"===typeof hb.RectanglePopover?hb.RectanglePopover:hb.RectanglePopover=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"controls",value:function(){var ua=this;return[{fill:fb.Color.transparent,extent:fb.pt(120,120),layout:new fb.GridLayout({grid:[["top","top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],
columns:[0,{paddingLeft:4},1,{paddingRight:4,fixed:!0,width:60}],rows:fb.arr.flatten(fb.arr.range(0,3).map(function(J){return[J,{paddingTop:0==J?4:2,paddingBottom:3==J?4:2}]}))}),submorphs:fb.arr.flatten(["top","right","bottom","left"].map(function(J){var la=new fb.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},name:J+" scrubber",autofit:!1,number:ua.rectangle.partNamed(J)});fb.connect(la,"update",ua,"rectangle",{updater:function(La,ib){var Ib=this.targetObj.rectangle,
hc={};ib=(hc.left=Ib.left(),hc.top=Ib.top(),hc.right=Ib.right(),hc.bottom=Ib.bottom(),hc[J]=ib,hc);La(fb.Rectangle.inset(ib.left,ib.top,ib.right,ib.bottom))},varMapping:{side:J,Rectangle:fb.Rectangle}});return[{type:"label",styleClasses:["controlName"],name:J,value:J,padding:3},la]}))}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RectanglePopover"}},{key:"properties",get:function(){return{popoverColor:{defaultValue:fb.Color.gray.lighter()},rectangle:{defaultValue:fb.rect(0)}}}}],
hb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:22005,end:23989})}(fb.StylePopover);fb.RectanglePopover=rc;fb.RectanglePopover=rc;fb.RectanglePopover=rc;rc=function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Za=hb.hasOwnProperty("TextPopover")&&
"function"===typeof hb.TextPopover?hb.TextPopover:hb.TextPopover=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"controls",value:function(){var ua=new fb.Text(Object.assign({name:"editor",extent:fb.pt(300,200),textString:this.text,lineWrapping:"by-chars"},fb.config.codeEditor.defaultStyle));return[{layout:new fb.HorizontalLayout,fill:fb.Color.transparent,borderColor:fb.Color.gray,borderWidth:1,
borderRadius:4,clipMode:"hidden",submorphs:[ua]}]}},{key:"commands",get:function(){return ub._get(Object.getPrototypeOf(Za.prototype),"commands",this).concat([{name:"save string",exec:function(ua){return $jscomp.asyncExecutePromiseGeneratorProgram(function(J){ua.text=ua.get("editor").textString;fb.signal(ua,"save",ua.text);ua.setStatusMessage("String saved!",fb.Color.green);J.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return ub._get(Object.getPrototypeOf(Za.prototype),"keybindings",this).concat([{keys:{mac:"Command-S",
win:"Ctrl-S"},command:"save string"}])}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],hb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:23998,end:25073})}(fb.StylePopover);
fb.TextPopover=rc;fb.TextPopover=rc;fb.TextPopover=rc;Object.assign(fb.popovers,{FillPopover:fb.FillPopover,IconPopover:fb.IconPopover,RectanglePopover:fb.RectanglePopover,ShadowPopover:fb.ShadowPopover,PointPopover:fb.PointPopover,LayoutPopover:fb.LayoutPopover});var gb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");gb.Morph=Zd;gb.morph=pb;gb.StyleSheet=td;gb.Text=kc;gb.Icon=db;gb.VerticalLayout=od;gb.GridLayout=Ya;gb.HorizontalLayout=qb;gb.pt=ic;gb.Rectangle=sa;gb.Color=
cb;gb.LinearGradient=ra;gb.rect=mb;gb.signal=Nc;gb.once=xa;gb.connect=dc;gb.obj=Bb;gb.num=$a;gb.Window=pa;gb.ColorPalette=Hc;gb.FillPopover=je;gb.colorWidgets=ud;gb.Slider=wc;gb.Popover=Aa;gb.resource=ea;gb.WHEEL_URL="/lively.ide/assets/color-wheel.png";Hc=function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Za=hb.hasOwnProperty("ColorPickerField")&&"function"===typeof hb.ColorPickerField?hb.ColorPickerField:hb.ColorPickerField=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"spec",value:function(){return gb.obj.dissoc(ub._get(Object.getPrototypeOf(Za.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function(ua){"Escape"==ua.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,duration:300})}},{key:"onHoverOut",
value:function(){this.get("dropDownIndicator").animate({opacity:0,duration:300})}},{key:"update",value:function(ua){this._updating=!0;var J=this.submorphs[1];this.colorValue=ua;this.get("topLeft").fill=ua;this.get("bottomRight").fill=ua.isGradient?gb.Color.transparent:ua.withA(1);J.visible=J.isLayoutable=!this.gradientEnabled;this.gradientEnabled?this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=this.get("topLeft").width=Math.max(1,
this.width-J.width);this.get("bottomRight").left=0;this.get("dropDownIndicator").right=this.get("paletteButton").width-5;this._updating=!1}},{key:"openPicker",value:function(ua){var J=this,la,La;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ib){if(1==ib.nextAddress)return(la=J.picker)?ib.jumpTo(2):ib.yield(gb.resource("part://SystemWidgets/new color picker").read(),3);2!=ib.nextAddress&&(la=ib.yieldResult);La=la;La.solidOnly=!J.gradientEnabled;La.hasFixedPosition=!0;La.focusOnMorph(J.context,
J.colorValue);La.toggleHalos(!1);La.position=gb.pt(0,-La.height/2);gb.connect(La,"value",J,"update");J.picker=La.openInWorld();J.picker.topLeft=J.globalBounds().bottomCenter();J.picker.topLeft=J.world().visibleBounds().translateForInclusion(J.picker.globalBounds()).topLeft();ib.jumpToEnd()})}},{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function(ua){var J=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(la){J.openPicker(ua);la.jumpToEnd()})}},
{key:"removeWidgets",value:function(){this.removePicker()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,after:["colorValue"],set:function(ua){this.setProperty("gradientEnabled",ua);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new gb.FillPopover({fillValue:this.colorValue})}},testProp:{get:function(){return[42]}},palette:{serialize:!1,get:function(){return this._palette||
(this._palette=new gb.Popover({position:gb.pt(0,0),name:"Color Palette",targetMorph:new gb.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function(ua){ua&&(ua.isColor||ua.isGradient)||(ua=gb.Color.blue);if(!this._updating)return this.update(ua);this.setProperty("colorValue",ua)},get:function(){return this.getProperty("colorValue")||gb.Color.white}},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color field"}}},submorphs:{initialize:function(){this.innerBounds().topRight();
this.innerBounds().bottomLeft();var ua=gb.pt(40,25);this.submorphs=[{extent:ua,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:ua},{name:"bottomRight",type:"polygon",extent:ua,origin:gb.pt(0,0),vertices:[gb.pt(0,0),ua.withX(0),ua]},gb.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:gb.pt(30,12.5)})]},{fill:gb.Color.transparent,extent:gb.pt(25,25),onHoverIn:function(){this.fill=gb.Color.black.withA(.2)},onHoverOut:function(){this.fill=gb.Color.transparent},
submorphs:[{name:"pickerButton",type:"image",autoResize:!1,imageUrl:gb.WHEEL_URL}]}];gb.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",this,"openPicker");gb.connect(this.getSubmorphNamed("paletteButton"),"onMouseDown",this,"openPalette");gb.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],hb,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:689,end:5910})}(gb.Morph);gb.ColorPickerField=Hc;gb.ColorPickerField=Hc;gb.ColorPickerField=Hc;gb.colorWidgets.ColorPickerField=gb.ColorPickerField;(function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Za=hb.hasOwnProperty("FieldPicker")&&"function"===typeof hb.FieldPicker?hb.FieldPicker:hb.FieldPicker=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return ub(Za,Id,[{key:"confirm",value:function(){gb.signal(this,"shadeChanged",[this.brightness,this.saturation])}},{key:"update",value:function(ua){var J=$jscomp.makeIterator(ua.color.toHSB());ua=J.next().value;var la=J.next().value;J=J.next().value;this.getSubmorphNamed("hue").fill=gb.Color.hsb(ua,1,1);this.brightness=J;this.saturation=la;this.refresh()}},{key:"refresh",value:function(){this.get("picker").center=this.pickerPosition}},{key:"onMouseDown",value:function(ua){this.pickerPosition=
ua.positionIn(this);this.confirm()}},{key:"onDrag",value:function(ua){this.pickerPosition=ua.positionIn(this);this.confirm()}},{key:"relayout",value:function(){var ua=this.innerBounds();this.getSubmorphNamed("hue").setBounds(ua);this.getSubmorphNamed("shade").setBounds(ua);this.getSubmorphNamed("light").setBounds(ua)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:gb.Color.transparent},saturation:{defaultValue:0},
brightness:{defaultValue:0},draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var ua=this.saturation,J=this.brightness;return void 0===ua||void 0===J?gb.pt(0,0):gb.pt(this.getSubmorphNamed("hue").width*ua,this.getSubmorphNamed("hue").height*(1-J))},set:function(ua){var J=ua.x;ua=ua.y;var la=this.getSubmorphNamed("hue"),La=la.height;this.saturation=gb.num.clamp(J/la.width,0,1);this.brightness=gb.num.clamp(1-ua/La,0,1);this.refresh()}},
submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new gb.LinearGradient({stops:[{color:gb.Color.white,offset:0},{color:gb.Color.transparent,offset:1}],vector:"eastwest"})},{borderRadius:3,name:"light",reactsToPointer:!1,fill:new gb.LinearGradient({stops:[{color:gb.Color.black,offset:0},{color:gb.Color.transparent,offset:1}],vector:"southnorth"})},{name:"picker",type:"ellipse",reactsToPointer:!1,fill:gb.Color.transparent,
borderColor:gb.Color.black,borderWidth:3,extent:gb.pt(16,16),submorphs:[{type:"ellipse",fill:gb.Color.transparent,borderColor:gb.Color.white,reactsToPointer:!1,borderWidth:3,center:gb.pt(8,8),extent:gb.pt(12,12)}]}];gb.connect(this,"extent",this,"relayout")}}}}}],hb,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:5964,end:9331})})(gb.Morph);(function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Za=hb.hasOwnProperty("ColorPropertyView")&&"function"===typeof hb.ColorPropertyView?hb.ColorPropertyView:hb.ColorPropertyView=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=["key"].concat($jscomp.arrayFromIterable(this.readOnly?
[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=[!this.readOnly&&"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function(ua){"Enter"!=ua.keyCombo||this.readOnly?ub._get(Object.getPrototypeOf(Za.prototype),"onKeyDown",this).call(this,ua):(this.owner.focus(),
ua.stop(),gb.signal(this,"updateValue",this.value))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},value:{derived:[!0],set:function(ua){this.textString=gb.obj.safeToString(ua)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:gb.Color.gray.darker()}}}}],hb,{pathInPackage:function(){return"styling/color-picker.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:9340,end:10510})})(gb.Text);(function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Za=hb.hasOwnProperty("HuePicker")&&"function"===typeof hb.HuePicker?hb.HuePicker:hb.HuePicker=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return ub(Za,Id,[{key:"confirm",value:function(){gb.signal(this,"hueChanged",this.hue)}},{key:"onMouseDown",value:function(ua){var J=this.get("slider").width;this.sliderPosition=gb.pt(0,ua.positionIn(this).y-J/2);this.confirm()}},{key:"onDrag",value:function(ua){var J=this.get("slider").width;this.sliderPosition=gb.pt(0,ua.positionIn(this).y-J/2);this.confirm()}},{key:"update",value:function(ua){this.hue=ua.hsb[0];this.refresh()}},{key:"refresh",value:function(){this.get("slider").center=
this.sliderPosition}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new gb.LinearGradient({stops:[{color:gb.Color.rgb(255,0,0),offset:0},{color:gb.Color.rgb(255,255,0),offset:.17},{color:gb.Color.limeGreen,offset:.33},{color:gb.Color.cyan,offset:.5},{color:gb.Color.blue,offset:.66},{color:gb.Color.magenta,offset:.83},{color:gb.Color.rgb(255,0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},
hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return gb.pt(this.width/2,5+this.hue/360*(this.height-10))},set:function(ua){this.hue=Math.max(0,Math.min(ua.y/(this.height-10)*360,359));this.refresh()}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:gb.Color.black,fill:gb.Color.transparent,borderWidth:2}]}}}}}],hb,{pathInPackage:function(){return"styling/color-picker.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:10512,end:12485})})(gb.Morph);(function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Za=hb.hasOwnProperty("ColorDetails")&&"function"===typeof hb.ColorDetails?hb.ColorDetails:hb.ColorDetails=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"update",value:function(ua){ua=ua.color;var J=$jscomp.makeIterator(ua.toTuple8Bit()),la=J.next().value,La=J.next().value;J=J.next().value;var ib=$jscomp.makeIterator(ua.toHSB()),Ib=ib.next().value,hc=ib.next().value;ib=ib.next().value;var Vb=this.get("hashViewer");this.get("colorViewer").fill=ua;Vb.replace(Vb.documentRange,ua.toHexString(),!1,!1);this.get("R").value="R "+la.toFixed(0)+"\n\nG "+La.toFixed(0)+
"\n\nB "+J.toFixed(0)+"\n\nH "+Ib.toFixed(0)+"\n\nS "+hc.toFixed(2)+"\n\nV "+ib.toFixed(2)}},{key:"onHashViewerChanged",value:function(ua){ua=gb.Color.rgbHex(ua);this.owner.owner.color=ua}},{key:"keyValue",value:function(ua){var J=ua.name,la=ua.key,La=ua.value,ib=ua.update;ua=ua.editable;return new gb.Morph({fill:gb.Color.transparent,layout:new gb.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",styleClasses:[ua&&"large","key"],value:la},new gb.ColorPropertyView({name:J||la,
readOnly:!ua,value:La,update:ib})]})}},{key:"hashViewer",value:function(){var ua=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});gb.connect(ua.get("hashViewer"),"updateValue",this,"onHashViewerChanged");return ua}},{key:"rgbViewer",value:function(){var ua=$jscomp.makeIterator(this.color.toTuple8Bit()),J=ua.next().value,la=ua.next().value;ua=ua.next().value;return new gb.Morph({name:"rgbViewer",fill:gb.Color.transparent,submorphs:[this.keyValue({key:"R",value:J.toFixed()}),
this.keyValue({key:"G",value:la.toFixed()}),this.keyValue({key:"B",value:ua.toFixed()})]})}},{key:"hsbViewer",value:function(){var ua=$jscomp.makeIterator(this.color.toHSB()),J=ua.next().value,la=ua.next().value;ua=ua.next().value;return new gb.Morph({name:"hsbViewer",fill:gb.Color.transparent,submorphs:[this.keyValue({key:"H",value:J.toFixed()}),this.keyValue({key:"S",value:la.toFixed(2)}),this.keyValue({key:"V",value:ua.toFixed(2)})]})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorDetails"}},
{key:"properties",get:function(){return{color:{defaultValue:gb.Color.blue},width:{defaultValue:80},fill:{defaultValue:gb.Color.transparent},layout:{initialize:function(){this.layout=new gb.VerticalLayout({spacing:9,layoutOrder:function(ua){return this.container.submorphs.indexOf(ua)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:gb.pt(50,50),name:"colorViewer",fill:this.color},this.hashViewer(),{type:"label",name:"R",autofit:!0,padding:gb.rect(10,0,0,
0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],hb,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12494,end:15269})})(gb.Morph);Hc=za("a",function(Id){var hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Za=hb.hasOwnProperty("ColorPicker")&&
"function"===typeof hb.ColorPicker?hb.ColorPicker:hb.ColorPicker=function(ua){ua&&ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ub(Za,Id,[{key:"onKeyDown",value:function(ua){"Escape"==ua.key&&this.close()}},{key:"close",value:function(){ub._get(Object.getPrototypeOf(Za.prototype),"close",this).call(this);gb.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&(this.get("header").fill=gb.Color.transparent,
this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),gb.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var ua=this.colorDetails(),J=this.fieldPicker(),la=this.huePicker(),La=this.alphaSlider();ua=new gb.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[J,la,ua,La]});gb.connect(J,"brightness",this,"brightness");gb.connect(J,
"saturation",this,"saturation");gb.connect(la,"hue",this,"hue");return ua}},{key:"alphaSlider",value:function(){var ua,J=gb.morph({name:"alphaSlider",fill:gb.Color.transparent,layout:new gb.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:gb.Rectangle.inset(3),value:"Alpha",fontColor:gb.Color.gray,fontWeight:"bold"},ua=new gb.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});gb.connect(ua,"value",this,"alpha");return J}},{key:"fieldPicker",value:function(){return new gb.FieldPicker({name:"field picker",
saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new gb.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new gb.ColorDetails({name:"details",color:this.color})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:gb.pt(400,320)},fill:{defaultValue:gb.Color.black.withA(.7)},isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},
hasFixedPosition:{defaultValue:!0},color:{defaultValue:gb.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return gb.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function(ua){var J=$jscomp.makeIterator(ua.toHSB()),la=J.next().value,La=J.next().value;J=J.next().value;this.hue=la;this.saturation=La;this.brightness=J;this.alpha=ua.a}},alpha:{set:function(ua){this.setProperty("alpha",ua);this.update()}},saturation:{},brightness:{set:function(ua){this.setProperty("brightness",
ua);this.update()}},hue:{set:function(ua){this.setProperty("hue",ua);this.update()}},targetMorph:{initialize:function(){var ua=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=gb.Color.gray;this.ui.header.fill=gb.Color.transparent;this.whenRendered().then(function(){ua.fill=gb.Color.black.withA(.7);ua.update()})}}}}}],hb,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15278,end:19116})}(gb.Window));gb.ColorPicker=Hc;gb.ColorPicker=Hc;gb.ColorPicker=Hc}}});
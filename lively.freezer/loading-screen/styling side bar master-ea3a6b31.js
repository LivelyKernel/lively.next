System.register("./__root_module__-19078926.js ./index-079fa77a.js ./index-20301cd6.js ./index-8d38b85c.js ./color-picker-dbbf19f7.js ./index-d8541367.js".split(" "),function(){var ya,wb,Ab,ac,Ob,kd,Cc,qd,Dc,Ic,Qc,Bd,ne,ve,Wd,Ub,wc,od,Tb,xd,Fd,ic;return{setters:[function(rc){ya=rc.an;wb=rc.aC;Ab=rc.ab;ac=rc.as;Ob=rc.aa;kd=rc.a3;Cc=rc.C;qd=rc.ax;Dc=rc.au;Ic=rc.bp;Qc=rc.aw;Bd=rc.a8;ne=rc.a7;ve=rc.bP;Wd=rc.aj;Ub=rc.av;wc=rc.r;od=rc.a6;Tb=rc.P;xd=rc.bS;Fd=rc.bT},function(){},function(){},function(){},
function(rc){ic=rc.S},function(){}],execute:function(){var rc=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js");rc.Morph=ya;rc.touchInputDevice=wb;rc.morph=Ab;rc.Icon=ac;rc.easings=Ob;rc.pt=kd;rc.Color=Cc;rc.fun=qd;rc.connect=Dc;rc.TreeData=Ic;var Gb=function(ec){var jb=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),yb=jb.hasOwnProperty("SettingsTree")&&"function"===typeof jb.SettingsTree?jb.SettingsTree:jb.SettingsTree=function(Ja){Ja&&Ja[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Qc(yb,ec,[{key:"display",value:function(Ja){return Ja.panel?[Ja.panel,{}]:Ja.name}},{key:"collapse",value:function(Ja,Ta){Ja.isCollapsed=Ta}},{key:"isCollapsed",value:function(Ja){return Ja.isCollapsed}},{key:"isLeaf",value:function(Ja){return!Ja.children}},{key:"getChildren",value:function(Ja){var Ta=this;return Ja===this.root?Ja.children.filter(function(Ka){return Ta.target&&Ka.applicabilityCheck?eval(Ka.applicabilityCheck)(Ta.target):
!0}):Ja.children}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SettingsTree"}},{key:"default",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" ",{}].concat($jscomp.arrayFromIterable(rc.Icon.textAttribute("font")),[" Rich Text",{fontWeight:"bold"}]),children:[{panel:rc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(rc.Icon.textAttribute("image")),[" Shape",{fontWeight:"bold"}]),children:[{panel:rc.morph({})}]},{isCollapsed:!1,
name:[" ",{}].concat($jscomp.arrayFromIterable(rc.Icon.textAttribute("border-style")),[" Border",{paddingLeft:"2px",fontWeight:"bold"}]),children:[{panel:rc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(rc.Icon.textAttribute("grip-vertical")),[" Layout",{paddingLeft:"4px",fontWeight:"bold"}]),children:[{panel:rc.morph({})}]}]})}},{key:"border",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" Type    ",{},rc.morph({height:20}),{}],children:[{panel:rc.morph({})}]},
{isCollapsed:!1,name:[" Color   ",{},rc.morph({height:20}),{}],children:[{panel:rc.morph({})}]},{isCollapsed:!1,name:[" Width  ",{},rc.morph({height:20}),{}],children:[{panel:rc.morph({})}]},{isCollapsed:!1,name:[" Radius ",{},rc.morph({height:20}),{}],children:[{panel:rc.morph({})}]}]})}}],jb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",
version:"0.1.1-67"}}},{start:284,end:2663})}(rc.TreeData);rc.SettingsTree=Gb;rc.SettingsTree=Gb;rc.SettingsTree=Gb;Gb=function(ec){var jb=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),yb=jb.hasOwnProperty("StylingSideBar")&&"function"===typeof jb.StylingSideBar?jb.StylingSideBar:jb.StylingSideBar=function(Ja){Ja&&Ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Qc(yb,ec,[{key:"relayout",value:function(){this.onWorldResize()}},
{key:"collapseAll",value:function(){this.getSubmorphsByStyleClassName("Tree").forEach(function(Ja){Ja.nodes.forEach(function(Ta){return Ja.treeData.root==Ta?Ja.uncollapse(Ta):Ja.collapse(Ta)})})}},{key:"onWorldResize",value:function(Ja){Ja=void 0===Ja?!0:Ja;if(this.respondsToVisibleWindow){var Ta=$world.visibleBounds(),Ka=navigator.standalone&&rc.touchInputDevice?25:0,Fa=this.getSubmorphNamed("horizontal resizer");this.height=Ta.height-Ka;this.top=Ka+Ta.top();Fa.height=this.height;Fa.left=0;Fa.top=
0;Ja&&(this.visible?this.topRight=Ta.topRight():this.topLeft=Ta.topRight())}}},{key:"toggle",value:function(Ja){var Ta=this,Ka,Fa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Xa){switch(Xa.nextAddress){case 1:Ka=$world.visibleBounds().withTopLeft(rc.pt(0,0));Fa=navigator.standalone&&rc.touchInputDevice?25:0;Ta.height=Ka.height-Fa;Ta.top=Fa+Ka.top();if(Ja)return $world.addMorph(Ta,$world.get("lively top bar")),Ta.topLeft=Ka.topRight(),Ta.visible=!0,Xa.yield(Ta.whenRendered(),5);Ta.detachFromWorld($world);
return Xa.yield(Ta.animate({opacity:0,topLeft:Ka.topRight(),duration:300}),4);case 4:Ta.visible=!1;Ta.remove();Xa.jumpTo(0);break;case 5:return Ta.onWorldResize(!1),Xa.yield(Ta.animate({opacity:1,easing:rc.easings.outCirc,topRight:Ka.topRight(),duration:300}),6);case 6:Ta.attachToWorld($world),Xa.jumpToEnd()}})}},{key:"cleanupAnchors",value:function(){for(var Ja=this.withAllSubmorphsSelect(function(Xa){return Xa.anchors&&Xa.anchors.filter(function(Ib){return!Ib.id}).length}),Ta={},Ka=$jscomp.makeIterator(Ja),
Fa=Ka.next();!Fa.done;Ta={$jscomp$loop$prop$m$2597:Ta.$jscomp$loop$prop$m$2597},Fa=Ka.next())Ta.$jscomp$loop$prop$m$2597=Fa.value,Ta.$jscomp$loop$prop$m$2597.anchors.forEach(function(Xa){return function(Ib){return!Ib.id&&Xa.$jscomp$loop$prop$m$2597.removeAnchor(Ib)}}(Ta));return Ja.length}},{key:"attachToWorld",value:function(Ja){rc.connect(Ja,"showHaloFor",this,"focusMorph",{garbageCollect:!0})}},{key:"detachFromWorld",value:function(Ja){var Ta=this;Ja.attributeConnections.forEach(function(Ka){Ka.targetObj===
Ta&&Ka.disconnect()})}},{key:"focusMorph",value:function(Ja){if(!Ja.isMorph||!Ja.ownerChain().includes(this)){(Ja.isLabel||Ja.isText||Ja.isButton)&&this.richTextControl.focusOn(Ja,!1);var Ta=this.getSubmorphNamed("style settings tree");Ta.treeData.target=Ja;Ta.update(!0);Object.values(this.controls).forEach(function(Ka){return Ka&&Ka.focusOn(Ja)})}}},{key:"onHierarchyChange",value:function(){Object.values(this.controls).forEach(function(Ja){return Ja&&Ja.update()})}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"StylingSideBar"}},{key:"properties",get:function(){return{controls:{},richTextControl:{},isHaloItem:{get:function(){return!0}}}}}],jb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-67"}}},{start:2682,end:5749})}(rc.Morph);Gb=rc.StylingSideBar;rc.default=Gb;var oc=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js");
oc.Morph=ya;oc.obj=Bd;oc.string=ne;oc.connect=Dc;oc.noUpdate=ve;oc.once=Wd;Gb=function(ec){var jb=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js"),yb=jb.hasOwnProperty("ShapeFormatStyler")&&"function"===typeof jb.ShapeFormatStyler?jb.ShapeFormatStyler:jb.ShapeFormatStyler=function(Ja){Ja&&Ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Qc(yb,ec,[{key:Symbol.for("lively-instance-initialize"),value:function(Ja){Qc._get(Object.getPrototypeOf(yb.prototype),
Symbol.for("lively-instance-initialize"),this).call(this,Ja);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var Ja=this.ui,Ta={},Ka=$jscomp.makeIterator(Object.entries(this.uiSpec)),Fa=Ka.next();!Fa.done;Ta={$jscomp$loop$prop$control$2599:Ta.$jscomp$loop$prop$control$2599,$jscomp$loop$prop$prop$2600:Ta.$jscomp$loop$prop$prop$2600},Fa=Ka.next()){var Xa=$jscomp.makeIterator(Fa.value);Fa=Xa.next().value;Xa=$jscomp.makeIterator(Xa.next().value);Xa.next();
var Ib=Xa.next().value;Ta.$jscomp$loop$prop$prop$2600=Xa.next().value;Ta.$jscomp$loop$prop$control$2599=Ja[Fa];oc.connect(Ta.$jscomp$loop$prop$control$2599,Ib,this,"updateTarget",{updater:function(jc){return function(lb,tb){jc.$jscomp$loop$prop$control$2599._updating=!0;lb(jc.$jscomp$loop$prop$prop$2600,tb);jc.$jscomp$loop$prop$control$2599._updating=!1}}(Ta),varMapping:{prop:Ta.$jscomp$loop$prop$prop$2600,control:Ta.$jscomp$loop$prop$control$2599}})}}},{key:"update",value:function(){var Ja=this,
Ta=this.target,Ka=Ta.top,Fa=Ta.left,Xa=Ta.clipMode,Ib=Ta.fill,jc=Ta.dropShadow,lb=Ta.opacity,tb=Ta.height,nb=Ta.width;Ta=this.ui;var Y=Ta.clipModeSelector,Ba=Ta.fillPicker,P=Ta.opacityField,na=Ta.shadowPicker,Sa=Ta.heightField,hb=Ta.widthField,cc=Ta.posXField,Uc=Ta.posYField;oc.noUpdate(function(){Ja.updateControl(na,"shadowValue",jc);Ja.updateControl(Y,"selection",Xa);Ja.updateControl(Ba,"colorValue",Ib);Ja.updateControl(P,"number",lb);Ja.updateControl(Sa,"number",tb);Ja.updateControl(hb,"number",
nb);Ja.updateControl(cc,"number",Fa);Ja.updateControl(Uc,"number",Ka)})}},{key:"updateTarget",value:function(Ja,Ta){this.target[Ja]=Ta;this.update()}},{key:"updateControl",value:function(Ja,Ta,Ka){Ja._updating||oc.obj.equals(Ja[Ta],Ka)||(Ja[Ta]=Ka)}},{key:"updateMultiValue",value:function(Ja,Ta,Ka){var Fa=this.ui,Xa=Fa[this.join(Ja)],Ib=Xa.get("multi value indicator"),jc=oc.obj.values(Ta).some(function(lb){return!oc.obj.isFunction(lb)&&!oc.obj.equals(lb,Ta.valueOf())});Ib.left=0;Xa.visible=Xa.isLayoutable=
!jc;if(jc&&Ib.visible!=jc)oc.once(Ib,"onMouseDown",Xa,Ka,{converter:function(){return Ta.valueOf()},varMapping:{value:Ta}});Ib.visible=Ib.isLayoutable=jc;Ib.left=jc?200:0;this.updateControl(Xa,Ka,Ta.valueOf());Xa=$jscomp.makeIterator(["top","left","bottom","right"]);for(Ib=Xa.next();!Ib.done;Ib=Xa.next())Ib=Ib.value,jc=Fa[this.join(Ja,Ib)],this.updateControl(jc,Ka,Ta[Ib])}},{key:"lower",value:function(Ja){return Ja.charAt(0).toLowerCase()+Ja.slice(1)}},{key:"join",value:function(Ja,Ta){return this.lower(oc.string.camelCaseString(Ja+
(Ta?" "+Ta:"")))}},{key:"unwrap",value:function(Ja,Ta,Ka){var Fa={};Fa=(Fa[this.lower(oc.string.camelCaseString(Ja))]=[Ja,Ta,Ka],Fa);for(var Xa=$jscomp.makeIterator(["top","left","bottom","right"]),Ib=Xa.next();!Ib.done;Ib=Xa.next()){Ib=Ib.value;var jc=Ja+" "+Ib;Fa[this.lower(oc.string.camelCaseString(jc))]=[jc,Ta,this.join(Ka,Ib)]}return Fa}},{key:"focusOn",value:function(Ja){var Ta=this,Ka;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Fa){if(1==Fa.nextAddress)return!Ja||Ta.isAncestorOf(Ja)||
Ta.target===Ja||oc.obj.isArray(Ja)||(Ta.target=Ja),Ka=Ta.visible,Ta.visible=!0,Fa.yield(Ta.whenRendered(),2);if(3!=Fa.nextAddress)return Ta.update(),Fa.yield(Ta.whenRendered(),3);Ta.getSubmorphsByStyleClassName("NumberWidget").map(function(Xa){return Xa.relayout()});Ta.visible=Ka;Fa.jumpToEnd()})}},{key:"onHoverIn",value:function(Ja){this.watchForTarget=!1}},{key:"onHoverOut",value:function(Ja){this.watchForTarget=!0}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShapeFormatStyler"}},
{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||(this._uiSpec={clipModeSelector:["clip mode selector","selection","clipMode"],fillPicker:["fill picker","colorValue","fill"],shadowPicker:["shadow picker","shadowValue","dropShadow"],opacityField:["opacity field","number","opacity"],heightField:["height field","number","height"],widthField:["width field","number","width"],posXField:["pos x field","number","left"],posYField:["pos y field","number","top"]})}},ui:{readOnly:!0,
get:function(){var Ja=this,Ta=this.uiSpec;return this._ui||(this._ui=oc.obj.extract(Ta,oc.obj.keys(Ta),function(Ka,Fa){Ka=$jscomp.makeIterator(Fa).next().value;return Ja.getSubmorphNamed(Ka)}))}}}}}],jb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeFormatStyler",version:"0.1.1-147"}}},{start:176,end:4919})}(oc.Morph);Gb=oc.ShapeFormatStyler;
oc.default=Gb;var Hc=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js");Hc.Morph=ya;Hc.ShadowPopover=ic;Hc.connect=Dc;Hc.signal=Ub;Gb=function(ec){var jb=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js"),yb=jb.hasOwnProperty("ShadowWidget")&&"function"===typeof jb.ShadowWidget?jb.ShadowWidget:jb.ShadowWidget=function(Ja){Ja&&Ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Qc(yb,ec,[{key:"onHoverIn",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:1,
duration:200})}},{key:"onHoverOut",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:0,duration:200})}},{key:"onMouseDown",value:function(Ja){this.openPopover()}},{key:"update",value:function(Ja){var Ta=this.submorphs[0];Ta&&(Ta.dropShadow=Ja)}},{key:"openPopover",value:function(){var Ja=this,Ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ka){if(1==Ka.nextAddress)return Ta=new Hc.ShadowPopover({hasFixedPosition:!!Ja.ownerChain().find(function(Fa){return Fa.hasFixedPosition}),
shadowValue:Ja.shadowValue}),Ka.yield(Ta.fadeIntoWorld(Ja.globalBounds().center()),2);Hc.connect(Ta,"shadowValue",Ja,"shadowValue");Hc.connect(Ja,"shadowValue",Ja,"update");Hc.signal(Ja,"openWidget",Ta);Ka.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowWidget"}},{key:"properties",get:function(){return{shadowValue:{set:function(Ja){this.setProperty("shadowValue",Ja);this.update(Ja)}}}}}],jb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShadowWidget",version:"0.1.1-7"}}},{start:194,end:1231})}(Hc.Morph);Gb=Hc.ShadowWidget;Hc.default=Gb;var ad=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js");ad.Morph=ya;ad.obj=Bd;ad.string=ne;ad.connect=Dc;ad.noUpdate=ve;ad.once=Wd;Gb=function(ec){var jb=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js"),yb=jb.hasOwnProperty("BorderFormatStyler")&&"function"===typeof jb.BorderFormatStyler?
jb.BorderFormatStyler:jb.BorderFormatStyler=function(Ja){Ja&&Ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Qc(yb,ec,[{key:"setupUI",value:function(){var Ja=this;this.getSubmorphsByStyleClassName("NumberWidget").map(function(Ta){var Ka=ad.string.camelCaseString(Ta.name);Ka=Ka[0].toLowerCase()+Ka.slice(1);Ja.ui[Ka]=Ta})}},{key:"cleanupAnchors",value:function(){var Ja=this.withAllSubmorphsSelect(function(Fa){return Fa.anchors&&
Fa.anchors.filter(function(Xa){return!Xa.id})}),Ta={};Ja=$jscomp.makeIterator(Ja);for(var Ka=Ja.next();!Ka.done;Ta={$jscomp$loop$prop$m$2602:Ta.$jscomp$loop$prop$m$2602},Ka=Ja.next())Ta.$jscomp$loop$prop$m$2602=Ka.value,Ta.$jscomp$loop$prop$m$2602.anchors.forEach(function(Fa){return function(Xa){return!Xa.id&&Fa.$jscomp$loop$prop$m$2602.removeAnchor(Xa)}}(Ta))}},{key:Symbol.for("lively-instance-initialize"),value:function(Ja){Qc._get(Object.getPrototypeOf(yb.prototype),Symbol.for("lively-instance-initialize"),
this).call(this,Ja);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var Ja=this.ui,Ta={},Ka=$jscomp.makeIterator(Object.entries(this.uiSpec)),Fa=Ka.next();!Fa.done;Ta={$jscomp$loop$prop$control$2604:Ta.$jscomp$loop$prop$control$2604,$jscomp$loop$prop$prop$2605:Ta.$jscomp$loop$prop$prop$2605},Fa=Ka.next()){var Xa=$jscomp.makeIterator(Fa.value);Fa=Xa.next().value;Xa=$jscomp.makeIterator(Xa.next().value);Xa.next();var Ib=Xa.next().value;Ta.$jscomp$loop$prop$prop$2605=
Xa.next().value;Ta.$jscomp$loop$prop$control$2604=Ja[Fa];ad.connect(Ta.$jscomp$loop$prop$control$2604,Ib,this,"updateTarget",{updater:function(jc){return function(lb,tb){jc.$jscomp$loop$prop$control$2604._updating=!0;lb(jc.$jscomp$loop$prop$prop$2605,tb);jc.$jscomp$loop$prop$control$2604._updating=!1}}(Ta),varMapping:{prop:Ta.$jscomp$loop$prop$prop$2605,control:Ta.$jscomp$loop$prop$control$2604}})}}},{key:"update",value:function(){var Ja=this,Ta=this.target,Ka=Ta.borderStyle,Fa=Ta.borderColor,Xa=
Ta.borderRadius,Ib=Ta.borderWidth;ad.noUpdate(function(){Ja.updateMultiValue("border style selector",Ka,"selection");Ja.updateMultiValue("border color picker",Fa,"colorValue");Ja.updateMultiValue("border radius field",Xa,"number");Ja.updateMultiValue("border width field",Ib,"number")})}},{key:"updateTarget",value:function(Ja,Ta){this.target[Ja]=Ta;this.update()}},{key:"updateControl",value:function(Ja,Ta,Ka){Ja._updating||ad.obj.equals(Ja[Ta],Ka)||(Ja[Ta]=Ka)}},{key:"updateMultiValue",value:function(Ja,
Ta,Ka){var Fa=this.ui,Xa=Fa[this.join(Ja)],Ib=Xa.get("multi value indicator"),jc=ad.obj.values(Ta).some(function(lb){return!ad.obj.isFunction(lb)&&!ad.obj.equals(lb,Ta.valueOf())});Xa.visible=Xa.isLayoutable=!jc;if(jc&&Ib.visible!=jc)ad.once(Ib,"onMouseDown",Xa,Ka,{converter:function(){return Ta.valueOf()},varMapping:{value:Ta}});Ib.visible=Ib.isLayoutable=jc;this.updateControl(Xa,Ka,Ta.valueOf());Xa=$jscomp.makeIterator(["top","left","bottom","right"]);for(Ib=Xa.next();!Ib.done;Ib=Xa.next())Ib=Ib.value,
jc=Fa[this.join(Ja,Ib)],this.updateControl(jc,Ka,Ta[Ib])}},{key:"lower",value:function(Ja){return Ja.charAt(0).toLowerCase()+Ja.slice(1)}},{key:"join",value:function(Ja,Ta){return this.lower(ad.string.camelCaseString(Ja+(Ta?" "+Ta:"")))}},{key:"unwrap",value:function(Ja,Ta,Ka){var Fa={};Fa=(Fa[this.lower(ad.string.camelCaseString(Ja))]=[Ja,Ta,Ka],Fa);for(var Xa=$jscomp.makeIterator(["top","left","bottom","right"]),Ib=Xa.next();!Ib.done;Ib=Xa.next()){Ib=Ib.value;var jc=Ja+" "+Ib;Fa[this.lower(ad.string.camelCaseString(jc))]=
[jc,Ta,this.join(Ka,Ib)]}return Fa}},{key:"attachToWorld",value:function(){ad.connect($world,"showHaloFor",this,"focusOn",{garbageCollect:!0})}},{key:"focusOn",value:function(Ja){var Ta=this,Ka;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Fa){if(1==Fa.nextAddress)return!Ja||Ta.isAncestorOf(Ja)||Ta.target===Ja||ad.obj.isArray(Ja)||(Ta.target=Ja),Ka=Ta.visible,Ta.visible=!0,Fa.yield(Ta.whenRendered(),2);if(3!=Fa.nextAddress)return Ta.update(),Fa.yield(Ta.whenRendered(),3);Ta.getSubmorphsByStyleClassName("NumberWidget").map(function(Xa){return Xa.relayout()});
Ta.visible=Ka;Fa.jumpToEnd()})}},{key:"onHoverIn",value:function(Ja){this.watchForTarget=!1}},{key:"onHoverOut",value:function(Ja){this.watchForTarget=!0}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"BorderFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{derived:!0,serialize:!1,get:function(){return this._uiSpec||(this._uiSpec=Object.assign({},this.unwrap("border style selector","selection","borderStyle"),{},this.unwrap("border color picker","colorValue","borderColor"),
{},this.unwrap("border radius field","number","borderRadius"),{},this.unwrap("border width field","number","borderWidth")))}},ui:{initialize:function(){this.setupUI()}}}}}],jb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"BorderFormatStyler",version:"0.1.1-16"}}},{start:185,end:5003})}(ad.Morph);Gb=ad.BorderFormatStyler;ad.default=
Gb;var dd=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js");dd.Morph=ya;dd.resource=wc;dd.arr=od;dd.obj=Bd;dd.string=ne;dd.Path=Tb;dd.connect=Dc;dd.getMastersMenu=xd;dd.resolvedMasters=Fd;Gb=function(ec){var jb=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js"),yb=jb.hasOwnProperty("MasterComponentControl")&&"function"===typeof jb.MasterComponentControl?jb.MasterComponentControl:jb.MasterComponentControl=function(Ja){Ja&&Ja[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Qc(yb,ec,[{key:"focusOn",value:function(Ja){this.target=Ja;this.update()}},{key:"onMouseUp",value:function(Ja){var Ta=this,Ka,Fa,Xa,Ib,jc,lb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tb){if(1==tb.nextAddress){"auto master selection"==Ja.targetMorph.name&&(Ka="auto");"hover master selection"==Ja.targetMorph.name&&(Ka="hover");"click master selection"==Ja.targetMorph.name&&(Ka="click");Ta.refreshButtons();
if(!Ta.target)return tb.return();Fa=$jscomp.makeIterator(["auto","hover","click"]);for(Xa=Fa.next();!Xa.done;Xa=Fa.next())Ib=Xa.value,Ta.target.master&&Ta.target.master[Ib]&&!Ta.get(Ib+" master checkbox").checked&&Ta.adjustMasterComponent(Ib,null);if(!Ka)return tb.jumpTo(0);jc=Ta;lb=jc.openMenu;return tb.yield(Ta.getMastersMenu(Ka),3)}lb.call(jc,tb.yieldResult,Ja);tb.jumpToEnd()})}},{key:"getMastersMenu",value:function(Ja){var Ta=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ka){return 1==
Ka.nextAddress?Ka.yield(Promise.all([].concat($jscomp.arrayFromIterable(Object.keys(dd.resolvedMasters)),[Ta.world().name]).map(function(Fa){var Xa,Ib,jc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(lb){return 1==lb.nextAddress?(Xa=Fa,Ib=Ta,jc=Ib.componentsToMenu,lb.yield(dd.resource("styleguide://"+Fa+"/").dirList(),2)):lb.return([Xa,jc.call(Ib,lb.yieldResult,Ja)])})})),2):Ka.return(Ka.yieldResult)})}},{key:"componentsToMenu",value:function(Ja,Ta,Ka,Fa){var Xa=this;Ka=void 0===Ka?
null:Ka;Fa=void 0===Fa?1:Fa;Ka||(Ka=Ja.map(function(jc){return{name:dd.arr.last(jc.name.split("/")),path:jc.name.split("/"),value:jc}}));if(0==Ka.length||100<Fa)return[];var Ib=this;return dd.arr.flatten(Object.entries(dd.arr.groupBy(Ka,function(jc){return jc.path[Fa-1]})).map(function(jc){var lb=$jscomp.makeIterator(jc);jc=lb.next().value;lb=lb.next().value;var tb=$jscomp.makeIterator(dd.arr.partition(lb,function(nb){return nb.path.length<=Fa}));lb=tb.next().value;tb=tb.next().value;jc=[jc,Xa.componentsToMenu(null,
Ta,tb,Fa+1)];return[].concat($jscomp.arrayFromIterable(lb.map(function(nb){return[nb.name,function(){Ib.adjustMasterComponent(Ta,nb.value)}]})),$jscomp.arrayFromIterable(jc[1].length?[jc]:[]))}),1)}},{key:"getComponentSelectionMenu",value:function(Ja){var Ta=this,Ka,Fa,Xa,Ib,jc,lb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tb){if(1==tb.nextAddress)return Ka=Ta.world().metadata.commit.name,Fa=dd.resource("styleguide://"+Ka+"/"),tb.yield(Fa.dirList(),2);if(3!=tb.nextAddress)return Xa=
tb.yieldResult,tb.yield(dd.resource("styleguide://System/").dirList(),3);Ib=tb.yieldResult;jc=Ta.componentsToMenu(Xa,Ja);lb=Ta.componentsToMenu(Ib,Ja);return tb.return([].concat($jscomp.arrayFromIterable(0<jc.length?[].concat($jscomp.arrayFromIterable(jc),[{isDivider:!0}]):[]),$jscomp.arrayFromIterable(lb)))})}},{key:"adjustMasterComponent",value:function(Ja,Ta){if(this.target.master)this.target.master[Ja]=Ta;else if(Ta){var Ka={};this.target.master=(Ka[Ja]=Ta,Ka)}Ja=this.target.master;Ta=Ja.hover;
Ka=Ja.click;Ja.auto||Ta||Ka||(this.target.master=null);this.update();this.target.withAllSubmorphsDo(function(Fa){return delete Fa._parametrizedProps});this.target.requestMasterStyling()}},{key:"componentsToMenu",value:function(Ja,Ta,Ka,Fa){var Xa=this;Ka=void 0===Ka?null:Ka;Fa=void 0===Fa?1:Fa;Ka||(Ka=Ja.map(function(jc){return{name:dd.arr.last(jc.name.split("/")),path:jc.name.split("/"),value:jc}}));if(0==Ka.length||100<Fa)return[];var Ib=this;return dd.arr.flatten(Object.entries(dd.arr.groupBy(Ka,
function(jc){return jc.path[Fa-1]})).map(function(jc){var lb=$jscomp.makeIterator(jc);jc=lb.next().value;lb=lb.next().value;var tb=$jscomp.makeIterator(dd.arr.partition(lb,function(nb){return nb.path.length<=Fa}));lb=tb.next().value;tb=tb.next().value;jc=[jc,Xa.componentsToMenu(null,Ta,tb,Fa+1)];return[].concat($jscomp.arrayFromIterable(lb.map(function(nb){return[nb.name,function(){Ib.adjustMasterComponent(Ta,nb.value)}]})),$jscomp.arrayFromIterable(jc[1].length?[jc]:[]))}),1)}},{key:"update",value:function(){if(this.target){for(var Ja=
$jscomp.makeIterator(["auto","hover","click"]),Ta=Ja.next();!Ta.done;Ta=Ja.next()){Ta=Ta.value;var Ka=this.getSubmorphNamed(Ta+" master selection"),Fa=this.getSubmorphNamed(Ta+" master checkbox");dd.Path(["master",Ta]).get(this.target)?Fa.checked=!0:Fa.checked=!1;Ka.label=dd.string.truncateLeft(dd.Path(["master",Ta,"name"]).get(this.target)||"select master",15,"...")}this.refreshButtons()}}},{key:"refreshButtons",value:function(){for(var Ja=$jscomp.makeIterator(["auto","hover","click"]),Ta=Ja.next();!Ta.done;Ta=
Ja.next()){Ta=Ta.value;var Ka=this.getSubmorphNamed(Ta+" master selection"),Fa=this.getSubmorphNamed(Ta+" master checkbox");Ka=Ka.deactivated=!Fa.checked;this.getSubmorphNamed(Ta+" master selection").opacity=Ka?.5:1}Ja=this.getSubmorphNamed("overridden props list");Ja.items=this.getOverriddenProps();this.getSubmorphNamed("clear overridden prop button").deactivated=!Ja.selection}},{key:"getMasterForTarget",value:function(){if(this.target.isMorph)return[this.target].concat($jscomp.arrayFromIterable(this.target.ownerChain())).map(function(Ja){return Ja.master}).find(Boolean)}},
{key:"clearSelectedProperty",value:function(){var Ja=this.getSubmorphNamed("overridden props list").selection;this.getMasterForTarget().clearOverriddenPropertiesFor(this.target,[Ja]);this.refreshButtons()}},{key:"getOverriddenProps",value:function(){var Ja=this.getMasterForTarget();return Ja&&Ja._overriddenProps?(Ja=Ja._overriddenProps.get(this.target))?Object.keys(Ja):[]:[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"MasterComponentControl"}}],jb,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"MasterComponentControl",version:"0.1.1-108"}}},{start:315,end:6096})}(dd.Morph);Gb=dd.MasterComponentControl;dd.default=Gb}}});

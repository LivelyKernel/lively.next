System.register("./__rootModule___commonjs-entry-71573ff5.js ./index-d18accbd.js ./list.cp-8569fe93.js @babel/plugin-syntax-import-meta ./loading-indicator.cp-b18e3b89.js ./tooltips.cp-6a2406c0.js".split(" "),function(Lc){var pd,Nd,Tc,Jc,$d,Bb,rd,Id,Ac,Pc,gd,nd,Fd,ic,vd,sb,Xb,Nb,bc,hb,cb,Hb,ec,ub,yb,ba,wb,Xa,Za,Sb,Cb,Da,zb,db,ib;return{setters:[function(Ea){pd=Ea.R;Nd=Ea.b;Tc=Ea.r;Jc=Ea.C;$d=Ea.w;Bb=Ea.u;rd=Ea.h;Id=Ea.aZ;Ac=Ea.I;Pc=Ea.H;gd=Ea.O;nd=Ea.M;Fd=Ea.a;ic=Ea.i;vd=Ea._;sb=Ea.x;Xb=Ea.y;Nb=Ea.G;
bc=Ea.c;hb=Ea.Q;cb=Ea.p;Hb=Ea.T;ec=Ea.S;ub=Ea.m;yb=Ea.L;ba=Ea.a_;wb=Ea.l;Xa=Ea.g},function(Ea){Za=Ea.f;Sb=Ea.C;Cb=Ea.R;Da=Ea.G;zb=Ea.g},function(Ea){db=Ea.b;ib=Ea.D},function(){},function(){},function(){}],execute:function(){function Ea(){return W.apply(this,arguments)}function W(){W=vd(regeneratorRuntime.mark(function La(){return regeneratorRuntime.wrap(function(eb){for(;;)switch(eb.prev=eb.next){case 0:return eb.t0=ka,eb.next=3,ka.MorphicDB.wellKnownMorphicDBs();case 3:return eb.t1=eb.sent,eb.abrupt("return",
eb.t0.currentMorphicDBConsideringLocalStorage.call(eb.t0,eb.t1));case 5:case "end":return eb.stop()}},La)}));return W.apply(this,arguments)}function T(){return ia.apply(this,arguments)}function ia(){ia=vd(regeneratorRuntime.mark(function La(){var eb,jb,E,Wb,R,xb;return regeneratorRuntime.wrap(function(Ja){for(;;)switch(Ja.prev=Ja.next){case 0:return Ja.next=2,ka.MorphicDB.wellKnownMorphicDBs();case 2:return eb=Ja.sent,jb=ka.lastChoiceFromLocalStorage()||"default",E=Object.keys(eb).map(function(Ga){var sa=
eb[Ga];return{alias:Ga,name:sa.name,serverURL:sa.serverURL,snapshotLocation:sa.snapshotLocation,selected:Ga===jb}}),Ja.next=7,ka.MorphicDBSelectionPrompt.open(E,{});case 7:return Wb=Ja.sent,R=sb(Wb.selectedDBs,1),(xb=R[0])?"default"===xb.alias?delete localStorage["lively.morphic-morphicdb/current"]:localStorage["lively.morphic-morphicdb/current"]=xb.alias:delete localStorage["lively.morphic-morphicdb/current"],Ja.abrupt("return",{db:xb,dbs:eb});case 12:case "end":return Ja.stop()}},La)}));return ia.apply(this,
arguments)}var ka=window.lively.FreezerRuntime.recorderFor("lively.morphic/morphicdb/tools.js");ka.lastChoiceFromLocalStorage=function(){if("undefined"===typeof localStorage)return null;try{return localStorage["lively.morphic-morphicdb/current"]}catch(pb){return null}};ka.currentMorphicDBConsideringLocalStorage=function(pb){var La=ka.lastChoiceFromLocalStorage();return La&&pb[La]||pb["default"]};ka.interactivelyChosenCurrentMorphicDB=Ea;ka.interactivelyChooseMorphicDB=T;ka.Rectangle=pd;ka.pt=Nd;ka.rect=
Tc;ka.Color=Jc;ka.connect=$d;ka.noUpdate=Bb;ka.signal=rd;ka.ProportionalLayout=Id;ka.Icon=Ac;ka.HorizontalLayout=Pc;ka.VerticalLayout=gd;ka.Morph=nd;ka.MorphicDB=Fd;ka.interactivelyChosenCurrentMorphicDB=Ea;ka.interactivelyChooseMorphicDB=T;var K=function(pb){var La=window.lively.FreezerRuntime.recorderFor("lively.morphic/morphicdb/tools.js"),eb=La.hasOwnProperty("MorphicDBPrompt")&&"function"===typeof La.MorphicDBPrompt?La.MorphicDBPrompt:La.MorphicDBPrompt=function(jb){if(!jb||!jb[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,
arguments)};return ic(eb,pb,[{key:"build",value:function(){var jb=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},E=jb.serverURL,Wb=jb.snapshotLocation,R=jb.dbName,xb=jb.extent,Ja=jb.historyId;jb=jb.alias;this.submorphs=[{name:"alias label",type:"label",value:"alias",fill:null,padding:ka.Rectangle.inset(3),fontSize:14,fontColor:ka.Color.gray},{name:"dbname label",type:"label",value:"db name",fill:null,padding:ka.Rectangle.inset(3),fontSize:14,fontColor:ka.Color.gray},{name:"snapshot location label",
type:"label",value:"snapshot location",fill:null,padding:ka.Rectangle.inset(3),fontSize:14,fontColor:ka.Color.gray},{name:"server url label",type:"label",value:"server url",fill:null,padding:ka.Rectangle.inset(3),fontSize:14,fontColor:ka.Color.gray},{name:"alias input",type:"input",historyId:Ja?Ja+"-alias":null,padding:ka.Rectangle.inset(3),fontSize:11},{name:"dbname input",type:"input",historyId:Ja?Ja+"-dbname":null,padding:ka.Rectangle.inset(3),fontSize:11},{name:"snapshot location input",type:"input",
historyId:Ja?Ja+"-snapshot":null,padding:ka.Rectangle.inset(3),fontSize:11},{name:"server url input",type:"input",historyId:Ja?Ja+"-server":null,padding:ka.Rectangle.inset(3),fontSize:11},{master:{auto:"styleguide://SystemPrompts/prompts/buttons/ok/default",click:"styleguide://SystemPrompts/prompts/buttons/ok/pressed"},name:"ok button",type:"button"},{master:{auto:"styleguide://SystemPrompts/prompts/buttons/cancel/default",click:"styleguide://SystemPrompts/prompts/buttons/cancel/pressed"},name:"cancel button",
type:"button"}];var Ga=sb(this.submorphs,6);Ja=Ga[0];var sa=Ga[1],Ub=Ga[2],vc=Ga[3],Oc=Ga[4];Ga=Ga[5];jb&&(Ja.input=jb);R&&(sa.input=R);Wb&&(Ub.input=Wb);E&&(vc.input=E);ka.connect(Oc,"fire",this,"resolve");ka.connect(Ga,"fire",this,"reject");this.extent=ka.pt(600,128);this.initLayout(!!jb);xb&&(this.extent=xb)}},{key:"resolve",value:function(){var jb=this.get("alias input"),E=this.get("dbname input"),Wb=this.get("snapshot location input"),R=this.get("server url input");R.acceptInput();Wb.acceptInput();
E.acceptInput();ic._get(Object.getPrototypeOf(eb.prototype),"resolve",this).call(this,{alias:jb.input,dbName:E.input,snapshotLocation:Wb.input,serverURL:R.input,status:"accepted"})}},{key:"reject",value:function(){ic._get(Object.getPrototypeOf(eb.prototype),"resolve",this).call(this,{status:"rejected"})}},{key:"initLayout",value:function(){var jb=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,E=this.innerBounds(),Wb=[ka.rect(.02,.05,.15,.19),ka.rect(.02,.23,.22,.19),ka.rect(.02,.42,.16,
.19),ka.rect(.02,.6,.16,.19),ka.rect(.23,.05,.76,.15),ka.rect(.23,.23,.76,.15),ka.rect(.23,.42,.76,.15),ka.rect(.23,.6,.76,.15),ka.rect(.31,.79,.18,.17),ka.rect(.51,.8,.18,.16)],R=E.divide(Wb);jb||(Wb.splice(3,1),Wb.splice(7,1));this.submorphs.map(function(xb,Ja){return xb.setBounds(R[Ja])});this.layout=new ka.ProportionalLayout({submorphSettings:[["alias label","fixed"],["server url label","fixed"],["snapshot location label","fixed"],["dbname label","fixed"],["alias input",{x:"resize",y:"fixed"}],
["server url input",{x:"resize",y:"fixed"}],["snapshot location input",{x:"resize",y:"fixed"}],["dbname input",{x:"resize",y:"fixed"}]]})}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"MorphicDBPrompt"}},{key:"open",value:function(jb,E,Wb,R){var xb=4<arguments.length&&void 0!==arguments[4]?arguments[4]:$world;R=Object.assign({},R,{serverURL:Wb,snapshotLocation:E,dbName:jb});return xb.openPrompt(new this(R),R)}}],La,{pathInPackage:function(){return"./morphicdb/tools.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.morphic",version:"0.1.2"}}},{start:1646,end:6220})}(ka.Morph);ka.MorphicDBPrompt=K;ka.MorphicDBPrompt=K;K=function(pb){var La=window.lively.FreezerRuntime.recorderFor("lively.morphic/morphicdb/tools.js"),eb=La.hasOwnProperty("MorphicDBSelectionPrompt")&&"function"===typeof La.MorphicDBSelectionPrompt?La.MorphicDBSelectionPrompt:La.MorphicDBSelectionPrompt=function(jb){if(!jb||!jb[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,
arguments)};return ic(eb,pb,[{key:"build",value:function(){var jb=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},E=jb.extent;jb=new ka.MorphicDBList({itemSettings:{showSelect:!0},allowMultipleSelections:jb.allowMultipleSelections,dbInfos:jb.dbList,draggable:!1});this.submorphs=[jb];jb.fill=null;ka.connect(jb,"closed",this,"reject");ka.connect(jb,"accepted",this,"resolve");E?this.extent=E:ka.connect(jb,"extent",this,"extent")}},{key:"resolve",value:function(){var jb=this.submorphs[0];ic._get(Object.getPrototypeOf(eb.prototype),
"resolve",this).call(this,{dbs:jb.dbs(),selectedDBs:jb.selectedDBs(),status:"accepted"})}},{key:"reject",value:function(){ic._get(Object.getPrototypeOf(eb.prototype),"resolve",this).call(this,{status:"rejected",dbs:[],selectedDBs:[]})}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"MorphicDBSelectionPrompt"}},{key:"open",value:function(jb){var E=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Wb=2<arguments.length&&void 0!==arguments[2]?arguments[2]:$world;E=Object.assign({allowMultipleSelections:!1,
dbList:jb},E);return Wb.openPrompt(new this(E),E)}}],La,{pathInPackage:function(){return"./morphicdb/tools.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.morphic",version:"0.1.2"}}},{start:6228,end:7322})}(ka.Morph);ka.MorphicDBSelectionPrompt=K;ka.MorphicDBSelectionPrompt=K;(function(pb){var La=window.lively.FreezerRuntime.recorderFor("lively.morphic/morphicdb/tools.js"),
eb=La.hasOwnProperty("MorphicDBWidget")&&"function"===typeof La.MorphicDBWidget?La.MorphicDBWidget:La.MorphicDBWidget=function(jb){if(!jb||!jb[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return ic(eb,pb,[{key:"isMorphicDBWidget",get:function(){return!0}},{key:"updateView",value:function(){var jb=[],E=this.showEdit,Wb=this.showRemove,R=this.showSelect,xb=this.dbInfo||{},Ja=xb.alias;Ja=void 0===Ja?"":Ja;var Ga=xb.serverURL;
Ga=void 0===Ga?"":Ga;var sa=xb.snapshotLocation;sa=void 0===sa?"":sa;var Ub=xb.removable;xb.editable||(E=!1);Ub||(Wb=!1);E&&jb.push({master:{auto:"styleguide://SystemPrompts/prompts/buttons/ok/default",click:"styleguide://SystemPrompts/prompts/buttons/ok/pressed"},type:"button",name:"edit button",label:"edit"});Wb&&jb.push({master:{auto:"styleguide://SystemPrompts/prompts/buttons/cancel/default",click:"styleguide://SystemPrompts/prompts/buttons/cancel/pressed"},type:"button",name:"remove button",
label:"remove"});this.submorphs=[{type:"label",name:"alias",value:["alias: ",null,Ja,{fontWeight:"bold"}]},{type:"label",name:"snapshotLocation",value:"snapshots: ".concat(sa)},{type:"label",name:"serverURL",value:"backend: ".concat(Ga)}].concat(Xb(jb.length?[{name:"controls",layout:new ka.HorizontalLayout({spacing:2}),fill:null,submorphs:jb}]:[]));E&&(jb=this.getSubmorphNamed("edit button"),ka.connect(jb,"fire",this,"triggerDBEdit"));Wb&&(jb=this.getSubmorphNamed("remove button"),ka.connect(jb,"fire",
this,"triggerDBRemove"));R&&(E=this.addMorph({name:"selected",type:"checkbox",checked:!1,isLayoutable:!1,leftCenter:ka.pt(5,this.height/2-(Wb||E?10:20))}),ka.connect(E,"checked",this,"onDBSelectionChange"))}},{key:"onDBSelectionChange",value:function(jb){ka.signal(this,"selected",this,jb)}},{key:"triggerDBEdit",value:function(){ka.signal(this,"edit",this)}},{key:"triggerDBRemove",value:function(){ka.signal(this,"remove",this)}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"MorphicDBWidget"}},
{key:"properties",get:function(){return{extent:{defaultValue:ka.pt(120,90)},fill:{defaultValue:ka.Color.rgb(230,230,230)},dbInfo:{defaultValue:null},showSelect:{defaultValue:!0},showEdit:{defaultValue:!0},showRemove:{defaultValue:!0},selected:{after:["submorphs"],derived:!0,get:function(){var jb=this.getSubmorphNamed("selected");return jb&&jb.checked},set:function(jb){var E=this.getSubmorphNamed("selected");E&&(E.checked=jb)}},submorphs:{after:["showSelect","showEdit","showRemove","dbInfo"],initialize:function(){this.updateView()}}}}}],
La,{pathInPackage:function(){return"./morphicdb/tools.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.morphic",version:"0.1.2"}}},{start:7324,end:10597})})(ka.Morph);K=function(pb){var La=window.lively.FreezerRuntime.recorderFor("lively.morphic/morphicdb/tools.js"),eb=La.hasOwnProperty("MorphicDBList")&&"function"===typeof La.MorphicDBList?La.MorphicDBList:La.MorphicDBList=
function(jb){if(!jb||!jb[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return ic(eb,pb,[{key:"updateView",value:function(){var jb=this,E=this.layout,Wb=this.itemSettings,R=this.dbInfos,xb=this.showAddButton,Ja=this.showCloseButton,Ga=this.showOKButton;E||(E=this.layout=new ka.VerticalLayout({align:"center",spacing:4,autoResize:!0}));this.submorphs=R.map(function(sa){return new ka.MorphicDBWidget(Object.assign({},Wb,{selected:sa.selected,
dbInfo:sa}))});this.submorphs.forEach(function(sa){return ka.connect(sa,"selected",jb,"onDBSelected")});if(xb||Ga)R=xb&&this.addMorph({type:"button",label:ka.Icon.makeLabel("plus")}),Ga=Ga&&this.addMorph({type:"button",label:ka.Icon.makeLabel("check")}),this.addMorph({name:"buttons",fill:null,layout:new ka.HorizontalLayout({spacing:5}),submorphs:[Ga,R].filter(Boolean)}),R&&ka.connect(R,"fire",this,"interactivelyAddDB"),Ga&&ka.connect(Ga,"fire",this,"accept");Ja&&(Ja=this.addMorph({name:"close button",
type:"button",label:Object.assign(ka.Icon.makeLabel("times-circle"),{fontSize:18}),tooltip:"close",fill:null,extent:ka.pt(16,16),borderColor:ka.Color.transparent,isLayoutable:!1}),ka.connect(this,"extent",Ja,"center",{converter:function(sa){return sa.withY(0).addXY(-3,3)}}),Ja.center=this.innerBounds().topRight(),ka.connect(Ja,"fire",this,"close"));this.whenRendered(50).then(function(){return E.apply()})}},{key:"close",value:function(){ka.signal(this,"closed",this);this.remove()}},{key:"accept",value:function(){ka.signal(this,
"accepted",this);this.remove()}},{key:"dbs",value:function(){return this.submorphs.map(function(jb){return jb.isMorphicDBWidget&&jb.dbInfo}).filter(Boolean)}},{key:"selectedDBs",value:function(){return this.submorphs.map(function(jb){return jb.isMorphicDBWidget&&jb.selected&&jb.dbInfo}).filter(Boolean)}},{key:"onDBSelected",value:function(jb,E){var Wb=this;E&&!this.allowMultipleSelections&&ka.noUpdate(function(){var R=Nb(Wb.submorphs),xb;try{for(R.s();!(xb=R.n()).done;){var Ja=xb.value;Ja.isMorphicDBWidget&&
Ja!==jb&&(Ja.selected=!1)}}catch(Ga){R.e(Ga)}finally{R.f()}});ka.signal(this,"dbSelected",jb)}},{key:"interactivelyAddDB",value:function(){}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"MorphicDBList"}},{key:"properties",get:function(){return{dbInfos:{after:["itemSettings","showAddButton"],set:function(jb){this.setProperty("dbInfos",jb);this.updateView()}},allowMultipleSelections:{defaultValue:!1},showCloseButton:{defaultValue:!0},showOKButton:{defaultValue:!0},showAddButton:{defaultValue:!0},
itemSettings:{},name:{defaultValue:"db list"},extent:{defaultValue:ka.pt(400,300)}}}}],La,{pathInPackage:function(){return"./morphicdb/tools.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.morphic",version:"0.1.2"}}},{start:10606,end:13727})}(ka.Morph);ka.MorphicDBList=K;ka.MorphicDBList=K;var ya=window.lively.FreezerRuntime.recorderFor("lively.ide/studio/dialogs.cp.js");
ya.DarkPrompt=Za;ya.ConfirmPromptModel=Sb;ya.RedButton=Cb;ya.GreenButton=Da;ya.DarkDropDownList=db;ya.DarkList=ib;ya.component=bc;ya.add=hb;ya.part=cb;ya.pt=Nd;ya.rect=Tc;ya.Color=Jc;ya.ProportionalLayout=Id;ya.TilingLayout=Hb;ya.MorphicDB=Fd;ya.HorizontalLayout=Pc;ya.ShadowObject=ec;ya.Text=ub;ya.Label=yb;ya.InputLineDark=zb;ya.interactivelyChooseMorphicDB=T;ya.interactivelyChosenCurrentMorphicDB=Ea;ya.ensureCommitInfo=ba;ya.Path=wb;ya.resource=Xa;(function(pb){var La=window.lively.FreezerRuntime.recorderFor("lively.ide/studio/dialogs.cp.js"),
eb=La.hasOwnProperty("SaveWorldDialogModel")&&"function"===typeof La.SaveWorldDialogModel?La.SaveWorldDialogModel:La.SaveWorldDialogModel=function(jb){if(!jb||!jb[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return ic(eb,pb,[{key:"bindings",get:function(){return[].concat(Xb(ic._get(Object.getPrototypeOf(eb.prototype),"bindings",this)),[{model:"storage type selector",signal:"selection",handler:"refresh"}])}},{key:"alignInWorld",
value:function(){var jb=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.world();jb.addMorph(this);var E=jb.visibleBounds(),Wb=E.height;this.width=1*E.width/2-5;this.height=1*Wb/2-10;this.center=jb.visibleBounds().center();return this}},{key:"viewDidLoad",value:function(){this.ui.nameInput.input=this.worldName;this.ui.tagInput.input=this.tags;this.ui.description.textString=this.description}},{key:"refresh",value:function(){this.setStorageMode(this.ui.storageTypeSelector.selection)}},{key:"setStorageMode",
value:function(jb){"json"===jb&&(this.ui.filePathInput.visible=!0,this.ui.chooseDbButton.visible=!1);"db"===jb&&(this.ui.filePathInput.visible=!1,this.ui.chooseDbButton.visible=!0)}},{key:"activate",value:function(){var jb=vd(regeneratorRuntime.mark(function R(Wb){var xb,Ja,Ga,sa,Ub,vc,Oc,aa,Ma,qb;return regeneratorRuntime.wrap(function(Vb){for(;;)switch(Vb.prev=Vb.next){case 0:xb=this.ui.nameInput;Ja="db";if(!Wb||!Wb.targetWorld){Vb.next=17;break}xb.input=Wb.targetWorld.name;Vb.next=6;return ya.ensureCommitInfo(ya.Path("metadata.commit").get(Wb.targetWorld));
case 6:Vb.t0=Vb.sent;if(Vb.t0){Vb.next=9;break}Vb.t0={};case 9:Ga=Vb.t0,sa=Ga.tags,Ub=Ga.description,(vc=ya.Path("metadata.file").get(Wb.targetWorld)||ya.resource(document.location).query().file)&&(Ja="json"),this.ui.filePathInput.input=vc,this.ui.tagInput.value=(sa||[]).join(" "),this.ui.description.textString=Ub||"";case 17:return Vb.next=19,ya.interactivelyChosenCurrentMorphicDB();case 19:return Oc=Vb.sent,aa=Oc.name,Ma=Oc.serverURL,qb=Oc.snapshotLocation,this.morphicDBName=aa,this.serverURL=Ma,
this.snapshotLocation=qb,this.ui.storageTypeSelector.selection=Ja,Vb.abrupt("return",ic._get(Object.getPrototypeOf(eb.prototype),"activate",this).call(this));case 28:case "end":return Vb.stop()}},R,this)}));return function(Wb){return jb.apply(this,arguments)}}()},{key:"reject",value:function(){ic._get(Object.getPrototypeOf(eb.prototype),"reject",this).call(this,{name:null})}},{key:"resolve",value:function(){var jb=this.ui.nameInput.input;if(!jb)return this.reject();this.ui.nameInput.acceptInput();
var E=this.ui.tagInput.input.split(" ").map(function(Wb){return Wb.trim()}).filter(Boolean);return this.answer.resolve({db:this.morphicDB,mode:this.ui.storageTypeSelector.selection,filePath:this.filePath,commit:{name:jb,tags:E,description:this.ui.description.textString||"no description yet"}})}},{key:"focus",value:function(){this.ui.nameInput.focus()}},{key:"morphicDB",get:function(){var jb=this.morphicDBName,E=this.serverURL;if(!jb)return ya.MorphicDB["default"];E||(E=ya.MorphicDB["default"].serverURL);
return ya.MorphicDB.named(jb,{serverURL:E})}},{key:"changeDB",value:function(){var jb=vd(regeneratorRuntime.mark(function Wb(){var R,xb,Ja,Ga,sa;return regeneratorRuntime.wrap(function(Ub){for(;;)switch(Ub.prev=Ub.next){case 0:return Ub.next=2,ya.interactivelyChooseMorphicDB();case 2:R=Ub.sent;if(xb=R.db){Ub.next=6;break}return Ub.abrupt("return");case 6:Ja=xb.name,Ga=xb.serverURL,sa=xb.snapshotLocation,this.morphicDBName=Ja,this.serverURL=Ga,this.snapshotLocation=sa;case 10:case "end":return Ub.stop()}},
Wb,this)}));return function(){return jb.apply(this,arguments)}}()}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"SaveWorldDialogModel"}},{key:"properties",get:function(){return{morphicDBName:{},serverURL:{},snapshotLocation:{},worldName:{defaultValue:""},tags:{defaultValue:""},description:{defaultValue:""},filePath:{derived:!0,get:function(){return this.ui.filePathInput.input}}}}}],La,{pathInPackage:function(){return"./studio/dialogs.cp.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.ide",version:"0.1.0"}}},{start:884,end:4702})})(ya.ConfirmPromptModel);ya.SaveWorldDialog=ya.component["for"](function(){return ya.component(ya.DarkPrompt,{defaultViewModel:ya.SaveWorldDialogModel,name:"save world dialog",extent:ya.pt(470,320),submorphs:[{name:"prompt title",textString:"Save world"},ya.add({name:"prompt controls",clipMode:"hidden",height:210,width:450,fill:ya.Color.transparent,
layout:new ya.ProportionalLayout({lastExtent:{x:450,y:210},reactToSubmorphAnimations:!1,submorphSettings:[["storage type",{x:"fixed",y:"fixed"}],["storage type selector",{x:"fixed",y:"fixed"}],["file path input",{x:"fixed",y:"fixed"}],["name input",{x:"resize",y:"fixed"}],["tag input",{x:"resize",y:"fixed"}],["description",{x:"resize",y:"fixed"}],["name label",{x:"fixed",y:"fixed"}],["name label copy",{x:"fixed",y:"fixed"}],["destination chooser label",{x:"fixed",y:"fixed"}],["choose db button",{x:"move",
y:"fixed"}]]}),submorphs:[{type:ya.Label,name:"name label",fill:ya.Color.rgba(255,255,255,0),fontColor:ya.Color.rgb(255,255,255),fontFamily:"IBM Plex Sans",fontSize:15,nativeCursor:"pointer",position:ya.pt(1,40.1),textAndAttributes:["save as: ",{}]},{type:ya.Label,name:"destination chooser label",fontFamily:"IBM Plex Sans",fill:ya.Color.rgba(255,255,255,0),fontColor:ya.Color.rgb(255,255,255),fontSize:15,nativeCursor:"pointer",position:ya.pt(1,116),textAndAttributes:["description:",null]},ya.part(ya.InputLineDark,
{name:"name input",fontSize:15,extent:ya.pt(336.5,24.6),padding:ya.rect(4,4,0,0),historyId:"lively.morphic-save-world-names",position:ya.pt(97,38.4),submorphs:[{name:"placeholder",extent:ya.pt(48,24.6),fontSize:15,padding:ya.rect(4,4,0,0)}]}),{type:ya.Text,name:"description",borderRadius:5,clipMode:"auto",dropShadow:new ya.ShadowObject({distance:3,rotation:75,color:ya.Color.rgba(0,0,0,.2)}),extent:ya.pt(336.5,89.9),fill:ya.Color.rgb(229,231,233),fixedHeight:!0,fixedWidth:!0,fontFamily:"IBM Plex Sans",
fontSize:15,haloShadow:new ya.ShadowObject({distance:4,color:ya.Color.rgba(0,0,0,.26),blur:10}),highlightWhenFocused:!0,lineWrapping:!0,nativeCursor:"auto",padding:ya.rect(4,4,0,0),position:ya.pt(97,115)},ya.part(ya.InputLineDark,{name:"tag input",fontSize:15,placeholder:"tag1 tag2 tag3 ...",extent:ya.pt(336.5,24.5),highlightWhenFocused:!0,historyId:"lively.morphic-save-world-names",padding:ya.rect(4,4,0,0),position:ya.pt(97,76),scroll:ya.pt(0,1)}),{type:ya.Label,name:"name label copy",fill:ya.Color.rgba(255,
255,255,0),fontColor:ya.Color.rgb(255,255,255),fontFamily:"IBM Plex Sans",fontSize:15,nativeCursor:"pointer",position:ya.pt(1,79.8),textAndAttributes:["tags:",null]},{type:ya.Label,name:"choose db button",fill:ya.Color.rgba(255,255,255,0),fontColor:ya.Color.rgb(204,204,204),fontSize:15,fontStyle:"bold",nativeCursor:"pointer",padding:ya.rect(0,3,0,-1),position:ya.pt(250,0),reactsToPointer:!1,textAndAttributes:["Change DB  ",{fontFamily:"IBM Plex Sans"},"\uf233",{fontFamily:'"Font Awesome 5 Free", "Font Awesome 5 Brands"',
paddingTop:"2px",textStyleClasses:["fa"]}]},{type:ya.Label,name:"storage type",fill:ya.Color.rgba(255,255,255,0),fontColor:ya.Color.rgb(255,255,255),fontFamily:"IBM Plex Sans",fontSize:15,nativeCursor:"pointer",position:ya.pt(1.4,3.4),textAndAttributes:["store as:",null]},ya.part(ya.DarkDropDownList,{name:"storage type selector",layout:new ya.TilingLayout({axisAlign:"center",orderByIndex:!0,padding:ya.rect(5,0,-5,0),wrapSubmorphs:!1}),extent:ya.pt(105.1,23),position:ya.pt(96,3),viewModel:{listMaster:ya.DarkList,
openListInWorld:!0,listAlign:"selection",selection:"Morphic DB",items:[{string:"JSON",value:"json",isListItem:!0},{string:"Morphic DB",value:"db",isListItem:!0}]}}),ya.part(ya.InputLineDark,{name:"file path input",position:ya.pt(211.2,.5),extent:ya.pt(210,25),fontSize:15,highlightWhenFocused:!0,historyId:"lively.morphic-save-world-names",placeholder:"./path/to/snapshot.json",visible:!1})]}),ya.add({name:"button wrapper",extent:ya.pt(470.3,61.1),fill:ya.Color.rgba(0,0,0,0),layout:new ya.HorizontalLayout({align:"center",
autoResize:!1,direction:"centered",orderByIndex:!0,padding:{height:0,width:0,x:12,y:12},reactToSubmorphAnimations:!1,renderViaCSS:!0,resizeSubmorphs:!1,spacing:12}),position:ya.pt(-.5,251),submorphs:[ya.part(ya.GreenButton,{name:"ok button",extent:ya.pt(90,38),label:"OK"}),ya.part(ya.RedButton,{name:"cancel button",extent:ya.pt(94,38),label:"CANCEL"})]})]})},{module:"lively.ide/studio/dialogs.cp.js","export":"SaveWorldDialog",range:{start:4744,end:10742}},ya.SaveWorldDialog);K=Lc("SaveWorldDialog",
ya.SaveWorldDialog);ya.SaveWorldDialog=K}}});
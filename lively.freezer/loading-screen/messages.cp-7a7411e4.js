System.register(["./__rootModule___commonjs-entry-71573ff5.js","./loading-indicator.cp-b18e3b89.js","@babel/plugin-syntax-import-meta"],function(Lc){var pd,Nd,Tc,Jc,$d,Bb,rd,Id,Ac,Pc,gd,nd,Fd,ic,vd,sb,Xb,Nb;return{setters:[function(bc){pd=bc.V;Nd=bc.C;Tc=bc.b;Jc=bc.k;$d=bc.e;Bb=bc.i;rd=bc._;Id=bc.O;Ac=bc.T;Pc=bc.L;gd=bc.I;nd=bc.m;Fd=bc.S;ic=bc.c;vd=bc.p;sb=bc.K;Xb=bc.r},function(bc){Nb=bc.b},function(){}],execute:function(){var bc=window.lively.FreezerRuntime.recorderFor("lively.halos/components/messages.js");
bc.ViewModel=pd;bc.Color=Nd;bc.pt=Tc;bc.string=Jc;bc.easings=$d;var hb=function(yb){var ba=window.lively.FreezerRuntime.recorderFor("lively.halos/components/messages.js"),wb=ba.hasOwnProperty("StatusMessage")&&"function"===typeof ba.StatusMessage?ba.StatusMessage:ba.StatusMessage=function(Xa){if(!Xa||!Xa[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return Bb(wb,yb,[{key:"sanitizeString",value:function(Xa){Array.isArray(Xa)&&
(Xa=Xa[0]);return Xa.split("\n").join("")}},{key:"alignAtBottomOf",value:function(Xa){var Za=this.view,Sb=this.world();Sb&&(Za.bringToFront(),Za.width=Xa.bounds().width,Xa.world()&&(Za.position=Xa.owner.worldPoint(Xa.bounds().bottomLeft())),Xa=Sb.visibleBounds(),Xa=Za.bounds().top()+Za.height-Xa.bottom(),0<Xa&&Za.moveBy(bc.pt(0,-Xa)))}},{key:"close",value:function(){this.view.remove()}},{key:"onRefresh",value:function(Xa){this.view&&(this.ui.messageText.isLayoutable=!this.isCompact,this.ui.messageText.visible=
!this.isCompact,"message"===Xa&&this.updateMessage(),"title"===Xa&&this.updateTitle())}},{key:"viewDidLoad",value:function(){this.updateMessage();this.updateTitle()}},{key:"updateTitle",value:function(){this.ui.messageTitle.textString=this.title}},{key:"updateMessage",value:function(){var Xa=this.ui.messageText,Za=this.message;Xa.value=Za;var Sb=Xa.documentRange.end;Sb.row>this.maxLines&&(Xa.replace({start:{row:this.maxLines,column:0},end:Sb},"...\n"),this.expandedContent||(this.expandedContent=Za));
var Cb=!1;this.isMaximized||Xa.modifyLines(0,Math.min(Xa.lineCount(),this.maxLines)-1,function(Da){Cb=120<Da.length;return bc.string.truncate(Da,120,"...")});Cb&&(this.expandedContent=Za);Sb=Xa.documentEndPosition;0!==Sb.column&&Xa.insertText("\n",Sb);this.title=bc.string.truncate(Xa.textString||"",(this.view.width/10).toFixed(),"...");this.updateTitle()}},{key:"onViewResize",value:function(){this.onRefresh()}},{key:"isEpiMorph",value:function(){return!0}},{key:"isStatusMessage",value:function(){return!0}},
{key:"setMessage",value:function(Xa){var Za=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.color;this.message=Xa;this.color=Za}},{key:"slideTo",value:function(){var Xa=rd(regeneratorRuntime.mark(function Cb(Sb){var Da=this,zb;return regeneratorRuntime.wrap(function(db){for(;;)switch(db.prev=db.next){case 0:return zb=this.view.position,this.sliding=this.view.animate({customTween:function(ib){Da.view.position=zb.interpolate(ib,Sb)},duration:500}),db.next=4,this.sliding;case 4:this.sliding=
!1;case 5:case "end":return db.stop()}},Cb,this)}));return function(Sb){return Xa.apply(this,arguments)}}()},{key:"expand",value:function(){var Xa=rd(regeneratorRuntime.mark(function Sb(){var Cb,Da,zb,db;return regeneratorRuntime.wrap(function(ib){for(;;)switch(ib.prev=ib.next){case 0:if(this.expandable){ib.next=2;break}return ib.abrupt("return");case 2:if(!this.sliding){ib.next=5;break}ib.next=5;return this.sliding;case 5:if((Cb=this.view.world())&&!this.isMaximized){ib.next=8;break}return ib.abrupt("return");
case 8:this.stayOpen=this.isMaximized=!0,this.isCompact=!1,Da=this.ui.messageText,Da.lineWrapping=!1,Object.assign(Da,{clipMode:"auto",readOnly:!0,reactsToPointer:!0}),Da.fixedWidth=!1,this.expandedContent&&(Da.value=this.expandedContent),Da.document.getLine(0).hasEstimatedExtent=!0,zb=Da.textBounds().extent(),db=Cb.visibleBounds(),zb.y>db.extent().y&&(zb.y=db.extent().y-200),zb.x>db.extent().x&&(zb.x=db.extent().x-200),Da.animate({height:zb.y+25,duration:200,easing:bc.easings.outExpo}),this.view.animate({width:zb.x+
50,center:db.center(),easing:bc.easings.outExpo,duration:200}),this.focus();case 24:case "end":return ib.stop()}},Sb,this)}));return function(){return Xa.apply(this,arguments)}}()},{key:"fit",value:function(){var Xa=this.ui.messageText;Xa&&(this.view.extent=bc.pt(100,55).maxPt(Xa.textBounds().extent()),this.relayout())}},{key:"focus",value:function(){var Xa=this.ui.messageText;Xa&&Xa.focus()}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"StatusMessage"}},{key:"properties",get:function(){return{stayOpen:{defaultValue:!1},
slidable:{defaultValue:!0},isMaximized:{defaultValue:!1},expandable:{defaultValue:!0},maxLines:{defaultValue:3},isCompact:{defaultValue:!1},message:{after:["view"]},title:{isStyleProp:!0,defaultValue:"Something to think about...",set:function(Xa){this.setProperty("title",this.sanitizeString(Xa))}},color:{derived:!0,get:function(){return this.view.fill},set:function(){var Xa=0<arguments.length&&void 0!==arguments[0]?arguments[0]:bc.Color.rgba(209,209,209,.9);if(this.view.fill=Xa).5<Xa.luma()?this.fontColor=
bc.Color.rgb(66,73,73):this.fontColor=bc.Color.white}},compactHeight:{readOnly:!0,get:function(){return 55}},fontColor:{after:["view"],defaultValue:bc.Color.rgb(66,73,73)},expose:{readOnly:!0,get:function(){return"isStatusMessage isMaximized slideTo slidable stayOpen alignAtBottomOf".split(" ")}},bindings:{readOnly:!0,get:function(){return[{model:"close button",signal:"fire",handler:"close"},{signal:"onMouseUp",handler:"expand"},{signal:"extent",handler:"onViewResize"}]}}}}}],ba,{pathInPackage:function(){return"./components/messages.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.halos",version:"0.1.0"}}},{start:195,end:6265})}(bc.ViewModel);bc.StatusMessage=hb;bc.StatusMessage=hb;var cb=window.lively.FreezerRuntime.recorderFor("lively.halos/components/messages.cp.js");cb.VerticalLayout=Id;cb.TilingLayout=Ac;cb.Label=Pc;cb.Icon=gd;cb.Text=nd;cb.ShadowObject=Fd;cb.component=ic;cb.part=vd;cb.ButtonDefault=
Nb;cb.Color=Nd;cb.LinearGradient=sb;cb.rect=Xb;cb.pt=Tc;cb.StatusMessage=hb;cb.MessageButton=cb.component["for"](function(){return cb.component(cb.ButtonDefault,{viewModel:{label:{value:cb.Icon.textAttribute("times"),fontColor:cb.Color.rgb(66,73,73),fontSize:20,padding:cb.rect(1,1,0,0)}},name:"message button",borderColor:cb.Color.rgb(149,165,166),borderRadius:25,borderWidth:0,extent:cb.pt(25,25),halosEnabled:!1,fill:cb.Color.rgba(255,255,255,0)})},{module:"lively.halos/components/messages.cp.js",
"export":"MessageButton",range:{start:298,end:703}},cb.MessageButton);cb.MessageButtonHover=cb.component["for"](function(){return cb.component(cb.MessageButton,{name:"message button/hover",fill:cb.Color.black.withA(.1)})},{module:"lively.halos/components/messages.cp.js","export":"MessageButtonHover",range:{start:711,end:823}},cb.MessageButtonHover);cb.MessageButtonClick=cb.component["for"](function(){return cb.component(cb.MessageButton,{name:"message button/click",fill:cb.Color.black.withA(.2)})},
{module:"lively.halos/components/messages.cp.js","export":"MessageButtonClick",range:{start:831,end:943}},cb.MessageButtonClick);cb.StatusMessageDefault=cb.component["for"](function(){return cb.component({name:"status message default",defaultViewModel:cb.StatusMessage,borderRadius:5,clipMode:"hidden",dropShadow:new cb.ShadowObject({distance:8,rotation:90,color:cb.Color.rgba(0,0,0,.3),blur:25}),extent:cb.pt(669,128),fill:cb.Color.rgba(209,209,209,.9),layout:new cb.VerticalLayout({autoResize:!0,axis:"column",
direction:"topToBottom",orderByIndex:!0,resizeSubmorphs:!0,wrapSubmorphs:!1}),submorphs:[{name:"horizontal float",extent:cb.pt(669,40),fill:cb.Color.rgba(0,0,0,0),reactsToPointer:!1,halosEnabled:!1,layout:new cb.TilingLayout({axisAlign:"center",orderByIndex:!0,padding:cb.rect(10,5,-5,0),wrapSubmorphs:!1,resizePolicies:[["message title",{height:"fill",width:"fill"}],["close button",{height:"fill",width:"fixed"}]]}),submorphs:[{type:cb.Label,name:"message icon",extent:cb.pt(22,23),fontColor:cb.Color.rgb(66,
73,73),fontSize:20,padding:cb.rect(1,1,0,0),reactsToPointer:!1,halosEnabled:!1,textAndAttributes:cb.Icon.textAttribute("info-circle")},{type:cb.Text,name:"message title",extent:cb.pt(597,37),fill:cb.Color.rgba(0,0,0,0),fixedWidth:!0,fixedHeight:!0,fontColor:cb.Color.rgb(66,73,73),fontFamily:'"IBM Plex Sans",Sans-Serif',fontSize:15,fontWeight:"bold",lineWrapping:!0,padding:cb.rect(8,5,0,3),reactsToPointer:!1,halosEnabled:!1,textAndAttributes:["Something to think about...",null]},cb.part(cb.ButtonDefault,
{master:{auto:cb.MessageButton,click:cb.MessageButtonClick,hover:cb.MessageButtonHover},viewModel:{label:{value:cb.Icon.textAttribute("times"),fontColor:cb.Color.rgb(66,73,73),fontSize:20,padding:cb.rect(1,1,0,0)}},name:"close button",position:cb.pt(465.2,.2),width:30,tooltip:"Close this status message.",halosEnabled:!1})]},{type:cb.Text,name:"message text",clipMode:"auto",extent:cb.pt(669,87.5),fill:cb.Color.rgba(0,0,0,0),fixedHeight:!0,fixedWidth:!0,fontColor:cb.Color.rgb(66,73,73),fontFamily:'"IBM Plex Sans",Sans-Serif',
fontSize:15,lineWrapping:!0,padding:cb.rect(10,10,0,0),reactsToPointer:!1,halosEnabled:!1,textAndAttributes:['The module "lively.morphic/morph.js" you are viewing is frozen. You are not able to make changes to this module unless you reload the world with dynamic load enabled for the package "lively.morphic".',null]}]})},{module:"lively.halos/components/messages.cp.js","export":"StatusMessageDefault",range:{start:951,end:3880}},cb.StatusMessageDefault);cb.StatusMessageConfirm=cb.component["for"](function(){return cb.component(cb.StatusMessageDefault,
{extent:cb.pt(669,128),name:"status message confirm",fill:new cb.LinearGradient({stops:[{offset:0,color:cb.Color.rgb(46,204,113)},{offset:1,color:cb.Color.rgb(39,174,96)}],vector:cb.rect(0,0,0,1)}),submorphs:[{name:"horizontal float",submorphs:[{type:cb.Label,name:"message icon",fontColor:cb.Color.rgb(255,255,255),fontSize:20,textAndAttributes:cb.Icon.textAttribute("check-circle")},{type:cb.Text,name:"message title",fontColor:cb.Color.white,textAndAttributes:["Saved file...",null]},{name:"close button",
viewModel:{label:{fontColor:cb.Color.white}}}]},{name:"message text",fontColor:cb.Color.white}]})},{module:"lively.halos/components/messages.cp.js","export":"StatusMessageConfirm",range:{start:3888,end:4772}},cb.StatusMessageConfirm);cb.StatusMessageError=cb.component["for"](function(){return cb.component(cb.StatusMessageDefault,{name:"status message error",fill:new cb.LinearGradient({stops:[{offset:0,color:cb.Color.rgb(231,76,60)},{offset:1,color:cb.Color.rgb(192,57,43)}],vector:cb.rect(0,0,0,1)}),
submorphs:[{name:"horizontal float",submorphs:[{name:"message icon",fontColor:cb.Color.rgb(255,255,255),fontSize:20,textAndAttributes:cb.Icon.textAttribute("times-circle")},{name:"message title",fontColor:cb.Color.white,textAndAttributes:["An error occured",null]},{name:"close button",viewModel:{label:{fontColor:cb.Color.white}}}]},{name:"message text",fontColor:cb.Color.white}]})},{module:"lively.halos/components/messages.cp.js","export":"StatusMessageError",range:{start:4780,end:5601}},cb.StatusMessageError);
cb.StatusMessageWarning=cb.component["for"](function(){return cb.component(cb.StatusMessageDefault,{name:"status message warning",borderColor:cb.Color.rgbHex("DA9819"),fill:new cb.LinearGradient({stops:[{offset:0,color:cb.Color.rgb(249,213,68)},{offset:1,color:cb.Color.rgb(219,162,18)}],vector:cb.rect(.5,1,0,1)})})},{module:"lively.halos/components/messages.cp.js","export":"StatusMessageWarning",range:{start:5648,end:5984}},cb.StatusMessageWarning);hb=Lc("StatusMessageDefault",cb.StatusMessageDefault);
var Hb=Lc("StatusMessageConfirm",cb.StatusMessageConfirm),ec=Lc("StatusMessageError",cb.StatusMessageError),ub=Lc("StatusMessageWarning",cb.StatusMessageWarning);cb.StatusMessageDefault=hb;cb.StatusMessageConfirm=Hb;cb.StatusMessageError=ec;cb.StatusMessageWarning=ub}}});
System.register(["./__root_module__-39b2be6e.js","./world-477420c5.js","./index-bc3e9fbd.js"],function(){var wa,bb,ib,Qb,Ib,ed,qc,pd,uc,Ac,dd,Ad,le,Le,ae,lc,Wc,Ed,Tb,Bd,Sd,hc,mc,Hb,ec,vc,gd,Zc,Za;return{setters:[function(Xa){wa=Xa.aO;bb=Xa.a7;ib=Xa.a8;Qb=Xa.bi;Ib=Xa.a6;ed=Xa.ac;qc=Xa.ad;pd=Xa.ay;uc=Xa.ax;Ac=Xa.ab;dd=Xa.av;Ad=Xa.aK;le=Xa.a3;Le=Xa.a1;ae=Xa.C;lc=Xa.aF;Wc=Xa.ak;Ed=Xa.bQ;Tb=Xa.bz;Bd=Xa.af;Sd=Xa.aJ;hc=Xa.aP;mc=Xa.by;Hb=Xa.bw;ec=Xa.bp;vc=Xa.bS},function(Xa){gd=Xa.b},function(Xa){Zc=
Xa.N;Za=Xa.I}],execute:function(){var Xa=lively.FreezerRuntime.recorderFor("lively.ide/text/ui.js");Xa.fun=wa;Xa.string=bb;Xa.obj=ib;Xa.properties=Qb;Xa.arr=Ib;Xa.Text=ed;Xa.config=qc;Xa.HorizontalLayout=pd;Xa.VerticalLayout=uc;Xa.morph=Ac;Xa.Morph=dd;Xa.Icon=Ad;Xa.pt=le;Xa.Rectangle=Le;Xa.Color=ae;Xa.connect=lc;Xa.once=Wc;Xa.noUpdate=Ed;Xa.ColorPicker=gd;Xa.DropDownList=Tb;Xa.loadObjectFromPartsbinFolder=Bd;Xa.cachedControls=new WeakMap;var jb=function(Ca){var mb=lively.FreezerRuntime.recorderFor("lively.ide/text/ui.js"),
Ub=mb.hasOwnProperty("RichTextControl")&&"function"===typeof mb.RichTextControl?mb.RichTextControl:mb.RichTextControl=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Sd(Ub,Ca,[{key:"toggleButton",value:function(Ya,$a){Ya.master=$a?{auto:"styleguide://SystemIDE/selected button"}:{auto:"styleguide://System/dark button"}}},{key:"reset",value:function(){var Ya=this.ui.fontSelection;Ya.items=Xa.RichTextControl.basicFontItems();
Ya.selection=Ya.items[0].value;Xa.connect(this.target,"selectionChange",this,"update")}},{key:"alignAtTarget",value:function(Ya){Ya=void 0===Ya?!!this.world():Ya;var $a=this.target,Ua=$a.world()||$world,U=this.globalBounds();$a=($a.selection.isEmpty()?$a.globalBounds():$a.getGlobalTransform().transformRectToRect($a.selectionBounds().translatedBy($a.scroll.negated()))).bottomCenter().subPt(U.topCenter());Ua=Ua.visibleBounds().translateForInclusion(U.translatedBy($a)).topLeft().subPt(U.topLeft());Ua=
this.position.addPt(Ua);Ya?this.animate({duration:300,position:Ua}):this.position=Ua}},{key:"removeFocus",value:function(){this.autoRemove&&this.target&&(this.remove(),this.target=null)}},{key:"focusOn",value:function(Ya,$a){$a=void 0===$a?!0:$a;var Ua=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(U){if(1==U.nextAddress)return Ua.target=Ya,Ua.update(),U.yield(Ua.whenRendered(),2);Ua.ui.fontSizeField.relayout();$a&&Ua.alignAtTarget();U.jumpToEnd()})}},{key:"setupConnections",value:function(){Xa.connect(this.ui.paddingField,
"number",this,"setPadding");Xa.connect(this.ui.paddingFieldTop,"number",this,"setPaddingTop");Xa.connect(this.ui.paddingFieldBottom,"number",this,"setPaddingBottom");Xa.connect(this.ui.paddingFieldLeft,"number",this,"setPaddingLeft");Xa.connect(this.ui.paddingFieldRight,"number",this,"setPaddingRight")}},{key:"update",value:function(){var Ya=this,$a=this.target,Ua=this.updateSpec,U=$a.selection;U=U?U.isEmpty()?$a.textAttributeAt(U.start):$a.getStyleInRange(U):{};var Ba=this.managedProps,K=Xa.obj.select($a,
Ba);$a=$jscomp.makeIterator(Object.entries(Xa.obj.select(U||{},Ba)));for(U=$a.next();!U.done;U=$a.next())Ba=$jscomp.makeIterator(U.value),U=Ba.next().value,Ba=Ba.next().value,"undefined"!==typeof Ba&&(K[U]=Ba);Xa.noUpdate(function(){for(var V=$jscomp.makeIterator(Object.entries(Ya.ui)),ra=V.next();!ra.done;ra=V.next()){var Ja=$jscomp.makeIterator(ra.value);ra=Ja.next().value;Ja=Ja.next().value;if(Ua[ra])Ua[ra](K,Ja)}})}},{key:"relayout",value:function(){}},{key:"changeAttributeInSelectionOrMorph",
value:function(Ya,$a){var Ua=this.target,U=Ua.selection;Ua.isLabel||U.isEmpty()?Ua[Ya]="function"===typeof $a?$a(Ua[Ya]):$a:(Ua.undoManager.group(),Ua.changeStyleProperty(Ya,function(Ba){return"function"===typeof $a?$a(Ba):$a}),Ua.undoManager.group())}},{key:"changeFont",value:function(Ya){var $a=this,Ua;return $jscomp.asyncExecutePromiseGeneratorProgram(function(U){if(1==U.nextAddress)return $a._last=Ya,(Ua="custom..."===Ya)?U.yield($world.prompt("Enter font family name",{requester:$a.target,historyId:"lively.morphic-rich-text-font-names",
useLastInput:!0}),3):U.jumpTo(2);if(2!=U.nextAddress&&(Ya=U.yieldResult,!Ya))return U.return();$a.changeAttributeInSelectionOrMorph("fontFamily",Ya);U.jumpToEnd()})}},{key:"setPadding",value:function(Ya){this.target.padding=Xa.Rectangle.inset(Ya)}},{key:"setPaddingTop",value:function(Ya){var $a=this.target.padding;this.target.padding=Xa.Rectangle.inset($a.left(),Ya,$a.right(),$a.bottom())}},{key:"setPaddingLeft",value:function(Ya){var $a=this.target.padding;this.target.padding=Xa.Rectangle.inset(Ya,
$a.top(),$a.right(),$a.bottom())}},{key:"setPaddingRight",value:function(Ya){var $a=this.target.padding;this.target.padding=Xa.Rectangle.inset($a.left(),$a.top(),Ya,$a.bottom())}},{key:"setPaddingBottom",value:function(Ya){var $a=this.target.padding;this.target.padding=Xa.Rectangle.inset($a.left(),$a.top(),$a.right(),Ya)}},{key:"setLineWrapping",value:function(Ya){this.target.lineWrapping=Ya}},{key:"changeFontWeight",value:function(Ya){this.changeAttributeInSelectionOrMorph("fontWeight",Ya)}},{key:"changeTextAlign",
value:function(Ya){this.changeAttributeInSelectionOrMorph("textAlign",Ya)}},{key:"changeFontColor",value:function(Ya){this.changeAttributeInSelectionOrMorph("fontColor",Ya)}},{key:"changeFontSize",value:function(Ya){this.changeAttributeInSelectionOrMorph("fontSize",Ya)}},{key:"changeFixedWidth",value:function(Ya){this.target.fixedWidth=Ya}},{key:"changeFixedHeight",value:function(Ya){this.target.fixedHeight=Ya}},{key:"changeLink",value:function(){var Ya=this,$a,Ua,U,Ba,K;return $jscomp.asyncExecutePromiseGeneratorProgram(function(V){if(1==
V.nextAddress)return $a=Ya.target,Ua=$a.selection,U=$a.getStyleInRange(Ua),Ba=U.link,V.yield(Ya.world().prompt("Set link",{input:Ba||"https://"}),2);K=V.yieldResult;$a.undoManager.group();$a.setStyleInRange({link:K||void 0},Ua);$a.undoManager.group();Ya.autoRemove&&Ya.remove();V.jumpToEnd()})}},{key:"toggleUnderline",value:function(){this.changeAttributeInSelectionOrMorph("textDecoration",function(Ya){return"underline"===Ya?"none":"underline"})}},{key:"toggleItalic",value:function(){this.changeAttributeInSelectionOrMorph("fontStyle",
function(Ya){return"italic"===Ya?"normal":"italic"})}},{key:"toggleBold",value:function(){this.changeAttributeInSelectionOrMorph("fontWeight",function(Ya){return"bold"===Ya||"700"===Ya?"normal":"bold"})}},{key:"copyStyle",value:function(){var Ya=this,$a=this.target,Ua=this.ui.applyStyleButton;$a=$a.selection.isEmpty()?$a.defaultTextStyle:$a.getStyleInRange($a.selection);var U=JSON.stringify($a,null,2);this.constructor.copiedStyle=$a;Ua.tooltip="paste style\n"+U;this.env.eventDispatcher.doCopyWithMimeTypes([{type:"text/plain",
data:U},{type:"application/morphic-text-style",styleString:U}]).then(function(){return Ya.setStatusMessage("Copied style\n"+U)}).catch(function(Ba){return Ya.showError(Ba)})}},{key:"pasteStyle",value:function(){var Ya=this,$a=this.target,Ua=this.constructor.copiedStyle;$a.selection.isEmpty()?Object.assign($a,Ua):$a.selections.forEach(function(U){return $a.addTextAttribute(Ya.constructor.copiedStyle,U)});this.update()}},{key:"clearStyle",value:function(){var Ya=this.target;Ya.selections.forEach(function($a){return Ya.resetStyleInRange($a)});
this.update()}},{key:"configureRichTextOptions",value:function(){this.getSubmorphNamed("config panel")&&this.getSubmorphNamed("config panel").remove();var Ya=this.defaultSpec,$a=this.uiSpec;Ya=this.addMorph({name:"config panel",layout:new Xa.VerticalLayout({spacing:5}),epiMorph:!0,submorphs:[].concat($jscomp.arrayFromIterable(Object.keys(Ya).map(function(Ua){var U=$a.rows.some(function(Ba){return Ba.some(function(K){return K===Ua})});return{type:"labeledcheckbox",label:Ua,name:Ua,checked:U}})),[{layout:new Xa.HorizontalLayout({spacing:3}),
submorphs:[{type:"button",name:"OK button",label:"OK"},{type:"button",name:"cancel button",label:"Cancel"}]}])});Ya.center=this.innerBounds().center();Xa.connect(Ya.getSubmorphNamed("OK button"),"fire",this,"configureAccepted");Xa.connect(Ya.getSubmorphNamed("cancel button"),"fire",this,"configureCanceled")}},{key:"configureAccepted",value:function(){var Ya=this.getSubmorphNamed("config panel");Ya&&(Ya.remove(),Ya.submorphs.filter(function($a){return"LabeledCheckBox"===$a.constructor.name}))}},{key:"configureCanceled",
value:function(){var Ya=this.getSubmorphNamed("config panel");Ya&&Ya.remove()}},{key:"close",value:function(){var Ya=this;this.target&&this.target.attributeConnections&&this.target.attributeConnections.forEach(function($a){return $a.targetObj===Ya&&$a.disconnect()});this.remove()}},{key:"alwaysTargetFocusedMorph",value:function(){this.startStepping(1500,"updateTarget")}},{key:"updateTarget",value:function(){var Ya=this.world();Ya&&(Ya=Ya.focusedMorph)&&(Ya.isLabel||Ya.isText)&&!this.isAncestorOf(Ya)&&
this.target!==Ya&&this.focusOn(Ya,!1)}},{key:"onMouseUp",value:function(Ya){var $a=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ua){if(1==Ua.nextAddress)return Ua.yield($a.whenRendered(),2);$a.update();Ua.jumpToEnd()})}},{key:"attachToWorld",value:function(){Xa.connect($world,"onMouseDown",this,"updateTarget",{garbageCollect:!0})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RichTextControl"}},{key:"properties",get:function(){return{autoRemove:{defaultValue:!1},
target:{},toggleColor:{},managedProps:{readOnly:!0,get:function(){return"fontFamily fontWeight fontSize fontStyle isText fontColor textAlign link textDecoration fixedWidth fixedHeight lineWrapping padding".split(" ")}},updateSpec:{get:function(){var Ya=this;return Object.assign({fontSelection:function($a,Ua){var U=$a.fontFamily;($a=U&&Ua.items.find(function(Ba){return Ba.value.toLowerCase()===U.toLowerCase()}))?Ua.selection=$a.value:U&&(Ua.items=Ua.items.concat({isListItem:!0,label:[U,{fontFamily:U}],
value:U}),Ua.selection=Xa.arr.last(Ua.items));Ua.fit();Ua.width=Math.max(Ua.width,170)},fontWeightSelection:function($a,Ua){Ua.selection="normal"==$a.fontWeight?"Medium":$a.fontWeight?Xa.string.capitalize($a.fontWeight):"Medium"},boldButton:function($a,Ua){Ya.toggleButton(Ua,"bold"===$a.fontWeight)},italicButton:function($a,Ua){Ya.toggleButton(Ua,"italic"===$a.fontStyle)},underlineButton:function($a,Ua){Ya.toggleButton(Ua,"underline"===$a.textDecoration)},linkButton:function($a,Ua){Ya.toggleButton(Ua,
!!$a.link)},colorPicker:function($a,Ua){Ua.colorValue=$a.fontColor},fontSizeField:function($a,Ua){Ua.number=$a.fontSize},fixedWidthControl:function($a,Ua){$a.isText?Ua.enable():Ua.disable();Ua.checked=$a.fixedWidth},fixedHeightControl:function($a,Ua){$a.isText?Ua.enable():Ua.disable();Ua.checked=$a.fixedHeight},lineWrappingControl:function($a,Ua){var U=$jscomp.makeIterator(Ua.submorphs);Ua=U.next().value;U=U.next().value;Ua.checked=!!$a.lineWrapping;$a.isText?Ua.enable():Ua.disable();U.deactivated=
!$a.lineWrapping;U.deactivated?U.opacity=.5:(U.opacity=1,U.selection=$a.lineWrapping)},paddingControl:function($a,Ua){var U=$a.padding,Ba=U.left();$a=U.top();var K=U.right();U=U.bottom();var V=!Xa.arr.every([Ba,$a,K,U],function(ra){return ra==Ba});Ua.get("multi value indicator").visible=V;Xa.connect(Ua.get("multi value indicator"),"onMouseDown",Ua.get("padding field"),"number",{converter:"() => left",varMapping:{left:Ba}});Ua.get("padding field").number=Ba;Ua.get("padding field").visible=!V;Ua.get("padding field top").number=
$a;Ua.get("padding field left").number=Ba;Ua.get("padding field right").number=K;Ua.get("padding field bottom").number=U}},["left","center","right","block"].reduce(function($a,Ua){$a[Ua+"Align"]=function(U,Ba){Ba.deactivated=!U.isText;Ya.toggleButton(Ba,U.textAlign==Ua)};return $a},{}))}},ui:{get:function(){var Ya=this,$a={fontSelection:"font selection",fontWeightSelection:"font weight selection",boldButton:"bold button",italicButton:"italic button",underlineButton:"underline button",linkButton:"link button",
leftAlign:"left align",centerAlign:"center align",rightAlign:"right align",blockAlign:"block align",fontSizeField:"font size field",colorPicker:"color picker",copyStyleButton:"copy style",applyStyleButton:"apply style",removeStyleButton:"remove style",fixedHeightControl:"fixed height control",fixedWidthControl:"fixed width control",lineWrappingControl:"line wrapping control",paddingControl:"padding control",paddingField:"padding field",paddingFieldTop:"padding field top",paddingFieldLeft:"padding field left",
paddingFieldRight:"padding field right",paddingFieldBottom:"padding field bottom"};return Xa.obj.extract($a,Xa.obj.keys($a),function(Ua,U){return Ya.getSubmorphNamed(U)})}}}}},{key:"openDebouncedFor",value:function(Ya){var $a=Ya.selection;if($a.isEmpty()){var Ua=Xa.cachedControls.get(Ya);Ua&&(Ua.update(),Ua.alignAtTarget(),Ua.world()||Ya.world().addMorph(Ua))}else Xa.fun.debounceNamed(Ya.id+"openRichTextControl",600,function(){var U=Xa.cachedControls.get(Ya);$a.isEmpty()?U&&U.removeFocus():(U&&U.world()||
(U=new Xa.RichTextControl,Xa.cachedControls.set(Ya,U)),Ya.world().addMorph(U),U.focusOn(Ya,!0),U.alwaysTargetFocusedMorph())})()}},{key:"openFor",value:function(Ya){var $a=Xa.cachedControls.get(Ya);$a?$a.update():($a=new Xa.RichTextControl,Xa.cachedControls.set(Ya,$a),$a.focusOn(Ya,!0),$a.alwaysTargetFocusedMorph());$a.alignAtTarget();$a.world()||Ya.world().addMorph($a);return $a}}],mb,{pathInPackage:function(){return"text/ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:624,end:17067})}(Xa.Morph);Xa.RichTextControl=jb;Xa.RichTextControl=jb;Xa.RichTextControl=jb;jb=lively.FreezerRuntime.recorderFor("ProtoSearchField/index.js");jb.SearchField=hc;var Fa=function(Ca){var mb=lively.FreezerRuntime.recorderFor("ProtoSearchField/index.js"),Ub=mb.hasOwnProperty("ProtoSearchField")&&"function"===typeof mb.ProtoSearchField?mb.ProtoSearchField:
mb.ProtoSearchField=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Sd(Ub,Ca,void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ProtoSearchField"}},{key:"properties",get:function(){return{master:{initialize:function(){}}}}}],mb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"ProtoSearchField",version:"0.1.1-0"}}},{start:76,end:221})}(jb.SearchField);Fa=jb.ProtoSearchField;jb.default=Fa;var Ea=lively.FreezerRuntime.recorderFor("ProtoTree/index.js");Ea.Tree=mc;Ea.TreeData=Hb;jb=function(Ca){var mb=lively.FreezerRuntime.recorderFor("ProtoTree/index.js"),Ub=mb.hasOwnProperty("TestTreeData")&&"function"===typeof mb.TestTreeData?mb.TestTreeData:mb.TestTreeData=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Sd(Ub,Ca,[{key:"display",value:function(Ya){return Ya.name}},{key:"isCollapsed",value:function(Ya){return Ya.isCollapsed}},{key:"collapse",value:function(Ya,$a){Ya.isCollapsed=$a}},{key:"getChildren",value:function(Ya){return Ya.isLeaf?null:Ya.isCollapsed?[]:Ya.children}},{key:"isLeaf",value:function(Ya){return Ya.isLeaf}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TestTreeData"}}],mb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ProtoTree",version:"0.1.1-2"}}},{start:113,end:417})}(Ea.TreeData);Ea.TestTreeData=jb;Ea.TestTreeData=jb;Ea.TestTreeData=jb;jb=function(Ca){var mb=lively.FreezerRuntime.recorderFor("ProtoTree/index.js"),Ub=mb.hasOwnProperty("ProtoTree")&&"function"===typeof mb.ProtoTree?mb.ProtoTree:mb.ProtoTree=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Sd(Ub,Ca,void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ProtoTree"}},{key:"properties",get:function(){return{treeData:{initialize:function(){this.treeData=new Ea.TestTreeData({name:"root",isCollapsed:!1,isLeaf:!1,children:[{name:"child 1",isLeaf:!0},{name:"child 2",isLeaf:!1,isCollapsed:!0,children:[{name:"child 2 - 1",isLeaf:!0}]},{name:"child 3",isLeaf:!1,isCollapsed:!1,children:[{name:"child 3 - 1",isLeaf:!0},{name:"child 3 - 2",isLeaf:!0}]},{name:"child 4",
isLeaf:!0}]})}},master:{initialize:function(){}}}}}],mb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ProtoTree",version:"0.1.1-2"}}},{start:434,end:1297})}(Ea.Tree);jb=Ea.ProtoTree;Ea.default=jb;var ka=lively.FreezerRuntime.recorderFor("RadioButton/index.js");ka.Morph=dd;ka.Color=ae;ka.pt=le;ka.connect=lc;ka.Closure=ec;jb=function(Ca){var mb=
lively.FreezerRuntime.recorderFor("RadioButton/index.js"),Ub=mb.hasOwnProperty("RadioButton")&&"function"===typeof mb.RadioButton?mb.RadioButton:mb.RadioButton=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Sd(Ub,Ca,[{key:"reset",value:function(){var Ya=this.indicator;Ya.borderWidth=1;Ya.borderColor=ka.Color.gray;this.selected=!1;ka.connect(Ya,"onMouseUp",this,"select")}},{key:"morph",get:function(){var Ya=
this.indicator;return this.submorphs.find(function($a){return $a!==Ya})}},{key:"morph",set:function(Ya){var $a=this.indicator;this.submorphs.forEach(function(Ua){Ua!==$a&&Ua.remove()});Ya.position=ka.pt(50,0);this.addMorph(Ya)}},{key:"value",get:function(){if(!this.valueFn){try{var Ya=JSON.parse(this.valueFunctionString)}catch($a){Ya=this.valueFunctionString}this.valueFn=ka.Closure.fromSource(Ya).recreateFunc()}return this.morph?this.valueFn(this.morph):void 0}},{key:"onMouseDown",value:function(Ya){this.select()}},
{key:"select",value:function(){this.selected=!0;this.owner.setSelection(this)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RadioButton"}},{key:"properties",get:function(){return{indicator:{get:function(){return this.getSubmorphNamed("indicator")}},selectionColor:{},selectionStyle:{},selected:{after:["indicator"],defaultValue:!1,set:function(Ya){var $a=this;this.whenRendered().then(function(Ua){Ya?($a.indicator.fill=$a.selectionColor,$a.animate({opacity:1,duration:200})):($a.indicator.fill=
ka.Color.transparant,$a.animate({opacity:.5,duration:200}))});this.setProperty("selected",!!Ya)}},valueFunctionString:{defaultValue:'"function (morph) { return morph.value; }"',set:function(Ya){this.setProperty("valueFunctionString",Ya.toString());this.valueFn=void 0}}}}}],mb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"RadioButton",
version:"0.1.1-48"}}},{start:210,end:2235})}(ka.Morph);jb=ka.RadioButton;ka.default=jb;jb=lively.FreezerRuntime.recorderFor("ProtoNumberWidget/index.js");jb.NumberWidget=Zc;Fa=function(Ca){var mb=lively.FreezerRuntime.recorderFor("ProtoNumberWidget/index.js"),Ub=mb.hasOwnProperty("ProtoNumberWidget")&&"function"===typeof mb.ProtoNumberWidget?mb.ProtoNumberWidget:mb.ProtoNumberWidget=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Sd(Ub,Ca,void 0,[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ProtoNumberWidget"}},{key:"properties",get:function(){return{master:{initialize:function(){}}}}}],mb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ProtoNumberWidget",version:"0.1.1-0"}}},{start:76,end:224})}(jb.NumberWidget);Fa=jb.ProtoNumberWidget;
jb.default=Fa;jb=lively.FreezerRuntime.recorderFor("FrameResizer/index.js");jb.Morph=dd;Fa=function(Ca){var mb=lively.FreezerRuntime.recorderFor("FrameResizer/index.js"),Ub=mb.hasOwnProperty("FrameResizer")&&"function"===typeof mb.FrameResizer?mb.FrameResizer:mb.FrameResizer=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Sd(Ub,Ca,[{key:"onDrag",value:function(Ya){var $a=this.owner.left;Ya=Ya.positionIn(this).x;
Ya*="left"==this.direction?-1:1;this.owner.width+=Ya;350>this.owner.width&&(Ya+=350-this.owner.width,this.owner.width=350);this.owner.left="left"==this.direction?$a-Ya:$a}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FrameResizer"}},{key:"properties",get:function(){return{direction:{type:"Enum",values:["left","right"]}}}}],mb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"FrameResizer",version:"0.1.1-24"}}},{start:56,end:840})}(jb.Morph);Fa=jb.FrameResizer;jb.default=Fa;var ja=lively.FreezerRuntime.recorderFor("ShapeLayoutControl/index.js");ja.Morph=dd;ja.morph=Ac;ja.layouts=vc;ja.string=bb;ja.connect=lc;ja.noUpdate=Ed;ja.InteractiveMorphSelector=Za;ja.Color=ae;ja.pt=le;jb=function(Ca){var mb=lively.FreezerRuntime.recorderFor("ShapeLayoutControl/index.js"),Ub=mb.hasOwnProperty("ShapeLayoutControl")&&"function"===typeof mb.ShapeLayoutControl?
mb.ShapeLayoutControl:mb.ShapeLayoutControl=function(Ya){Ya&&Ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Sd(Ub,Ca,[{key:"focusOn",value:function(Ya){this.target=Ya;this.update(!1)}},{key:"setupConnections",value:function(){var Ya=this.ui;ja.connect(Ya.submorphSettingsControl,"fire",this,"chooseSubmorphToChangeLayoutSettings");ja.connect(Ya.dragmeControl,"onDragStart",this,"onSubmorphSettingsDragStart");ja.connect(Ya.xAxisPolicyControl,
"selection",this,"updateSubmorphProportionalLayoutSettings",{converter:'policy => ({\n        policy,\n        axis: "x",\n        submorph: self.selectedSubmorph,\n      })',varMapping:{self:this}});ja.connect(Ya.yAxisPolicyControl,"selection",this,"updateSubmorphProportionalLayoutSettings",{converter:'policy => ({\n        policy,\n        axis: "y",\n        submorph: self.selectedSubmorph,\n      })',varMapping:{self:this}});for(var $a={},Ua=$jscomp.makeIterator(this.managedProps),U=Ua.next();!U.done;$a=
{$jscomp$loop$prop$prop$2697:$a.$jscomp$loop$prop$prop$2697},U=Ua.next()){var Ba=$jscomp.makeIterator(U.value),K=Ba.next().value;U=Ba.next().value;Ba.next().value||($a.$jscomp$loop$prop$prop$2697=this.join(K),Ba=Ya[this.join(K,"control")],ja.connect(Ba,U,this,"updateLayout",{updater:function(V){return function(ra,Ja){ra(V.$jscomp$loop$prop$prop$2697,Ja)}}($a),varMapping:{prop:$a.$jscomp$loop$prop$prop$2697}}))}}},{key:"lower",value:function(Ya){return Ya.charAt(0).toLowerCase()+Ya.slice(1)}},{key:"join",
value:function(Ya,$a){return this.lower(ja.string.camelCaseString(Ya+($a?" "+$a:"")))}},{key:"updateLayoutOfTarget",value:function(Ya){Ya=ja.layouts[ja.string.camelCaseString(Ya)];this.target.layout=Ya?new Ya({autoResize:!1}):null;this.update()}},{key:"updateLayout",value:function(Ya,$a){this.target.layout[Ya]=$a}},{key:"update",value:function(Ya){var $a=this;this.target&&ja.noUpdate(function(){for(var Ua=$a.ui,U=$a.target.layout||{name:function(){return"No"}},Ba=$jscomp.makeIterator($a.managedProps),
K=Ba.next();!K.done;K=Ba.next()){var V=$jscomp.makeIterator(K.value);K=V.next().value;var ra=V.next().value;V.next();V=Ua[$a.join(K,"control")];var Ja=Ua[$a.join(K,"label")];if(ra)if("type"===K)V.selection=U.name()+" Layout";else{var hb=U[$a.join(K)],dc="undefined"!==typeof hb;if(dc){switch(K){case "align":V.items=U.possibleAlignValues;break;case "direction":V.items=U.possibleDirectionValues;break;case "axis":V.items=U.possibleAxisValues}V[ra]=hb}Ja.isLayoutable=Ja.visible=dc}}$a.showGridLayoutControl("Grid"===
U.name());$a.showProportionalControl("Proportional"===U.name())})}},{key:"updateSubmorphProportionalLayoutSettings",value:function(Ya){var $a={};this.target.layout.changeSettingsFor(Ya.submorph,($a[Ya.axis]=Ya.policy,$a),!0)}},{key:"onSubmorphSettingsDragStart",value:function(Ya){var $a=this;Ya.stop();var Ua=this.target.layout,U=Ua.settingsFor(this.selectedSubmorph),Ba=[],K;for(K in U)Ba=[].concat($jscomp.arrayFromIterable(Ba),[K+": ",{fontWeight:"bold"},U[K]+" ",{}]);var V=ja.morph({type:"label",
fontColor:ja.Color.white,value:Ba,fill:ja.Color.black.withA(.7),padding:5,borderRadius:10,isLayoutable:!1});V.wantsToBeDroppedOn=function(ra){return Ua.layoutableSubmorphs.includes(ra)};V.onBeingDroppedOn=function(ra,Ja){V.remove();if(ra=Ua.layoutableSubmorphs.includes(Ja)?Ja:Ya.world.morphsContainingPoint(Ya.hand.position).find(function(hb){return Ua.layoutableSubmorphs.includes(hb)}))$a.updateSubmorphProportionalLayoutSettings({policy:U.x,axis:"x",submorph:ra}),$a.updateSubmorphProportionalLayoutSettings({policy:U.y,
axis:"y",submorph:ra}),ra.show(),$world.setStatusMessage("layout settings applied")};Ya.hand.grab(V);V.moveBy(ja.pt(10,10))}},{key:"chooseSubmorphToChangeLayoutSettings",value:function(){var Ya=this,$a,Ua,U,Ba,K,V,ra,Ja,hb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dc){switch(dc.nextAddress){case 1:return $a=Ya.target.layout.layoutableSubmorphs,Ya.manageFocus=!0,Ya.env.eventDispatcher.isKeyPressed("Shift")?(U=$a.map(function(na){return{isListItem:!0,string:String(na),value:na}}),
dc.yield($world.listPrompt("Select morph",U,{onSelection:function(na){return na.show()}}),5)):dc.yield(ja.InteractiveMorphSelector.selectMorph(Ya.world(),Ya,function(na){return $a.includes(na)}),4);case 4:Ua=dc.yieldResult;dc.jumpTo(3);break;case 5:Ba=dc.yieldResult,K=$jscomp.makeIterator(Ba.selected),Ua=K.next().value;case 3:Ya.manageFocus=!1;Ya.selectedSubmorph=Ua;if(!Ua)return dc.return();V=Ya.ui;ra=V.xAxisPolicyControl;Ja=V.yAxisPolicyControl;hb=Ya.target.layout.settingsFor(Ua);ja.noUpdate(function(){ra.selection=
hb.x;Ja.selection=hb.y});dc.jumpToEnd()}})}},{key:"showProportionalControl",value:function(Ya){var $a=this.ui;[$a.submorphSettingsControl,$a.dragmeControl,$a.xAxisPolicyControl,$a.xAxisPolicyLabel,$a.yAxisPolicyControl,$a.yAxisPolicyLabel].forEach(function(Ua){Ua.isLayoutable=Ya;Ua.visible=Ya})}},{key:"showGridLayoutHalo",value:function(){$world.showLayoutHaloFor(this.target)}},{key:"showGridLayoutControl",value:function(Ya){var $a=this.ui.configureGridLayoutControl;$a.visible=$a.isLayoutable=Ya}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShapeLayoutControl"}},{key:"properties",get:function(){return{managedProps:{get:function(){return[["type","selection",!0],["align","selection"],["direction","selection"],["axis","selection"],["spacing","number"],["auto resize","checked"],["resize submorphs","checked"],["x axis policy","selection",!0],["y axis policy","selection",!0],["react to submorph animations","checked"],["submorph settings",!1,!0],["order by index","checked"],["dragme",
!1,!0],["configure grid layout",!1,!0]]}},ui:{readOnly:!0,get:function(){for(var Ya={labelContainer:this.getSubmorphNamed("label container"),controlContainer:this.getSubmorphNamed("control container")},$a=$jscomp.makeIterator(this.managedProps),Ua=$a.next();!Ua.done;Ua=$a.next()){var U=$jscomp.makeIterator(Ua.value).next().value;Ua=U+" label";U+=" control";Ya[this.join(Ua)]=this.getSubmorphNamed(Ua);Ya[this.join(U)]=this.getSubmorphNamed(U)}return Ya}}}}}],mb,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeLayoutControl",version:"0.1.1-166"}}},{start:345,end:7771})}(ja.Morph);jb=ja.ShapeLayoutControl;ja.default=jb}}});
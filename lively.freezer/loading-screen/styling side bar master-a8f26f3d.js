System.register("./__root_module__-7487a13e.js kld-intersections ./index-e37496ed.js ./index-217a7911.js ./color-picker-62758da8.js ./index-51aaa4bb.js".split(" "),function(){var ta,ob,ub,Tb,Jb,rd,yc,vd,zc,Ec,Mc,zd,ne,De,Xd,Qb,qc,ld,Pb,ud,Ed,vc;return{setters:[function(ac){ta=ac.an;ob=ac.aC;ub=ac.ab;Tb=ac.as;Jb=ac.aa;rd=ac.a3;yc=ac.C;vd=ac.ax;zc=ac.au;Ec=ac.bp;Mc=ac.aw;zd=ac.a8;ne=ac.a7;De=ac.bP;Xd=ac.aj;Qb=ac.av;qc=ac.r;ld=ac.a6;Pb=ac.P;ud=ac.bS;Ed=ac.bT},function(){},function(){},function(){},
function(ac){vc=ac.S},function(){}],execute:function(){var ac=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js");ac.Morph=ta;ac.touchInputDevice=ob;ac.morph=ub;ac.Icon=Tb;ac.easings=Jb;ac.pt=rd;ac.Color=yc;ac.fun=vd;ac.connect=zc;ac.TreeData=Ec;var Eb=function(pc){var cb=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),fb=cb.hasOwnProperty("SettingsTree")&&"function"===typeof cb.SettingsTree?cb.SettingsTree:cb.SettingsTree=function(ya){ya&&ya[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Mc(fb,pc,[{key:"display",value:function(ya){return ya.panel?[ya.panel,{}]:ya.name}},{key:"collapse",value:function(ya,Ea){ya.isCollapsed=Ea}},{key:"isCollapsed",value:function(ya){return ya.isCollapsed}},{key:"isLeaf",value:function(ya){return!ya.children}},{key:"getChildren",value:function(ya){var Ea=this;return ya===this.root?ya.children.filter(function(Ba){return Ea.target&&Ba.applicabilityCheck?eval(Ba.applicabilityCheck)(Ea.target):
!0}):ya.children}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SettingsTree"}},{key:"default",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" ",{}].concat($jscomp.arrayFromIterable(ac.Icon.textAttribute("font")),[" Rich Text",{fontWeight:"bold"}]),children:[{panel:ac.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(ac.Icon.textAttribute("image")),[" Shape",{fontWeight:"bold"}]),children:[{panel:ac.morph({})}]},{isCollapsed:!1,
name:[" ",{}].concat($jscomp.arrayFromIterable(ac.Icon.textAttribute("border-style")),[" Border",{paddingLeft:"2px",fontWeight:"bold"}]),children:[{panel:ac.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(ac.Icon.textAttribute("grip-vertical")),[" Layout",{paddingLeft:"4px",fontWeight:"bold"}]),children:[{panel:ac.morph({})}]}]})}},{key:"border",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" Type    ",{},ac.morph({height:20}),{}],children:[{panel:ac.morph({})}]},
{isCollapsed:!1,name:[" Color   ",{},ac.morph({height:20}),{}],children:[{panel:ac.morph({})}]},{isCollapsed:!1,name:[" Width  ",{},ac.morph({height:20}),{}],children:[{panel:ac.morph({})}]},{isCollapsed:!1,name:[" Radius ",{},ac.morph({height:20}),{}],children:[{panel:ac.morph({})}]}]})}}],cb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",
version:"0.1.1-67"}}},{start:284,end:2663})}(ac.TreeData);ac.SettingsTree=Eb;ac.SettingsTree=Eb;ac.SettingsTree=Eb;Eb=function(pc){var cb=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),fb=cb.hasOwnProperty("StylingSideBar")&&"function"===typeof cb.StylingSideBar?cb.StylingSideBar:cb.StylingSideBar=function(ya){ya&&ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Mc(fb,pc,[{key:"relayout",value:function(){this.onWorldResize()}},
{key:"collapseAll",value:function(){this.getSubmorphsByStyleClassName("Tree").forEach(function(ya){ya.nodes.forEach(function(Ea){return ya.treeData.root==Ea?ya.uncollapse(Ea):ya.collapse(Ea)})})}},{key:"onWorldResize",value:function(ya){ya=void 0===ya?!0:ya;if(this.respondsToVisibleWindow){var Ea=$world.visibleBounds(),Ba=navigator.standalone&&ac.touchInputDevice?25:0,xa=this.getSubmorphNamed("horizontal resizer");this.height=Ea.height-Ba;this.top=Ba+Ea.top();xa.height=this.height;xa.left=0;xa.top=
0;ya&&(this.visible?this.topRight=Ea.topRight():this.topLeft=Ea.topRight())}}},{key:"toggle",value:function(ya){var Ea=this,Ba,xa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){switch(Qa.nextAddress){case 1:Ba=$world.visibleBounds().withTopLeft(ac.pt(0,0));xa=navigator.standalone&&ac.touchInputDevice?25:0;Ea.height=Ba.height-xa;Ea.top=xa+Ba.top();if(ya)return $world.addMorph(Ea,$world.get("lively top bar")),Ea.topLeft=Ba.topRight(),Ea.visible=!0,Qa.yield(Ea.whenRendered(),5);Ea.detachFromWorld($world);
return Qa.yield(Ea.animate({opacity:0,topLeft:Ba.topRight(),duration:300}),4);case 4:Ea.visible=!1;Ea.remove();Qa.jumpTo(0);break;case 5:return Ea.onWorldResize(!1),Qa.yield(Ea.animate({opacity:1,easing:ac.easings.outCirc,topRight:Ba.topRight(),duration:300}),6);case 6:Ea.attachToWorld($world),Qa.jumpToEnd()}})}},{key:"cleanupAnchors",value:function(){for(var ya=this.withAllSubmorphsSelect(function(Qa){return Qa.anchors&&Qa.anchors.filter(function(wb){return!wb.id}).length}),Ea={},Ba=$jscomp.makeIterator(ya),
xa=Ba.next();!xa.done;Ea={$jscomp$loop$prop$m$2659:Ea.$jscomp$loop$prop$m$2659},xa=Ba.next())Ea.$jscomp$loop$prop$m$2659=xa.value,Ea.$jscomp$loop$prop$m$2659.anchors.forEach(function(Qa){return function(wb){return!wb.id&&Qa.$jscomp$loop$prop$m$2659.removeAnchor(wb)}}(Ea));return ya.length}},{key:"attachToWorld",value:function(ya){ac.connect(ya,"showHaloFor",this,"focusMorph",{garbageCollect:!0})}},{key:"detachFromWorld",value:function(ya){var Ea=this;ya.attributeConnections.forEach(function(Ba){Ba.targetObj===
Ea&&Ba.disconnect()})}},{key:"focusMorph",value:function(ya){if(!ya.isMorph||!ya.ownerChain().includes(this)){(ya.isLabel||ya.isText||ya.isButton)&&this.richTextControl.focusOn(ya,!1);var Ea=this.getSubmorphNamed("style settings tree");Ea.treeData.target=ya;Ea.update(!0);Object.values(this.controls).forEach(function(Ba){return Ba&&Ba.focusOn(ya)})}}},{key:"onHierarchyChange",value:function(){Object.values(this.controls).forEach(function(ya){return ya&&ya.update()})}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"StylingSideBar"}},{key:"properties",get:function(){return{controls:{},richTextControl:{},isHaloItem:{get:function(){return!0}}}}}],cb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-67"}}},{start:2682,end:5749})}(ac.Morph);Eb=ac.StylingSideBar;ac.default=Eb;var ec=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js");
ec.Morph=ta;ec.obj=zd;ec.string=ne;ec.connect=zc;ec.noUpdate=De;ec.once=Xd;Eb=function(pc){var cb=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js"),fb=cb.hasOwnProperty("ShapeFormatStyler")&&"function"===typeof cb.ShapeFormatStyler?cb.ShapeFormatStyler:cb.ShapeFormatStyler=function(ya){ya&&ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Mc(fb,pc,[{key:Symbol.for("lively-instance-initialize"),value:function(ya){Mc._get(Object.getPrototypeOf(fb.prototype),
Symbol.for("lively-instance-initialize"),this).call(this,ya);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var ya=this.ui,Ea={},Ba=$jscomp.makeIterator(Object.entries(this.uiSpec)),xa=Ba.next();!xa.done;Ea={$jscomp$loop$prop$control$2661:Ea.$jscomp$loop$prop$control$2661,$jscomp$loop$prop$prop$2662:Ea.$jscomp$loop$prop$prop$2662},xa=Ba.next()){var Qa=$jscomp.makeIterator(xa.value);xa=Qa.next().value;Qa=$jscomp.makeIterator(Qa.next().value);Qa.next();
var wb=Qa.next().value;Ea.$jscomp$loop$prop$prop$2662=Qa.next().value;Ea.$jscomp$loop$prop$control$2661=ya[xa];ec.connect(Ea.$jscomp$loop$prop$control$2661,wb,this,"updateTarget",{updater:function(fc){return function($a,ib){fc.$jscomp$loop$prop$control$2661._updating=!0;$a(fc.$jscomp$loop$prop$prop$2662,ib);fc.$jscomp$loop$prop$control$2661._updating=!1}}(Ea),varMapping:{prop:Ea.$jscomp$loop$prop$prop$2662,control:Ea.$jscomp$loop$prop$control$2661}})}}},{key:"update",value:function(){var ya=this,
Ea=this.target,Ba=Ea.top,xa=Ea.left,Qa=Ea.clipMode,wb=Ea.fill,fc=Ea.dropShadow,$a=Ea.opacity,ib=Ea.height,ab=Ea.width;Ea=this.ui;var U=Ea.clipModeSelector,ua=Ea.fillPicker,M=Ea.opacityField,ea=Ea.shadowPicker,Ka=Ea.heightField,Za=Ea.widthField,$b=Ea.posXField,Qc=Ea.posYField;ec.noUpdate(function(){ya.updateControl(ea,"shadowValue",fc);ya.updateControl(U,"selection",Qa);ya.updateControl(ua,"colorValue",wb);ya.updateControl(M,"number",$a);ya.updateControl(Ka,"number",ib);ya.updateControl(Za,"number",
ab);ya.updateControl($b,"number",xa);ya.updateControl(Qc,"number",Ba)})}},{key:"updateTarget",value:function(ya,Ea){this.target[ya]=Ea;this.update()}},{key:"updateControl",value:function(ya,Ea,Ba){ya._updating||ec.obj.equals(ya[Ea],Ba)||(ya[Ea]=Ba)}},{key:"updateMultiValue",value:function(ya,Ea,Ba){var xa=this.ui,Qa=xa[this.join(ya)],wb=Qa.get("multi value indicator"),fc=ec.obj.values(Ea).some(function($a){return!ec.obj.isFunction($a)&&!ec.obj.equals($a,Ea.valueOf())});wb.left=0;Qa.visible=Qa.isLayoutable=
!fc;if(fc&&wb.visible!=fc)ec.once(wb,"onMouseDown",Qa,Ba,{converter:function(){return Ea.valueOf()},varMapping:{value:Ea}});wb.visible=wb.isLayoutable=fc;wb.left=fc?200:0;this.updateControl(Qa,Ba,Ea.valueOf());Qa=$jscomp.makeIterator(["top","left","bottom","right"]);for(wb=Qa.next();!wb.done;wb=Qa.next())wb=wb.value,fc=xa[this.join(ya,wb)],this.updateControl(fc,Ba,Ea[wb])}},{key:"lower",value:function(ya){return ya.charAt(0).toLowerCase()+ya.slice(1)}},{key:"join",value:function(ya,Ea){return this.lower(ec.string.camelCaseString(ya+
(Ea?" "+Ea:"")))}},{key:"unwrap",value:function(ya,Ea,Ba){var xa={};xa=(xa[this.lower(ec.string.camelCaseString(ya))]=[ya,Ea,Ba],xa);for(var Qa=$jscomp.makeIterator(["top","left","bottom","right"]),wb=Qa.next();!wb.done;wb=Qa.next()){wb=wb.value;var fc=ya+" "+wb;xa[this.lower(ec.string.camelCaseString(fc))]=[fc,Ea,this.join(Ba,wb)]}return xa}},{key:"focusOn",value:function(ya){var Ea=this,Ba;return $jscomp.asyncExecutePromiseGeneratorProgram(function(xa){if(1==xa.nextAddress)return!ya||Ea.isAncestorOf(ya)||
Ea.target===ya||ec.obj.isArray(ya)||(Ea.target=ya),Ba=Ea.visible,Ea.visible=!0,xa.yield(Ea.whenRendered(),2);if(3!=xa.nextAddress)return Ea.update(),xa.yield(Ea.whenRendered(),3);Ea.getSubmorphsByStyleClassName("NumberWidget").map(function(Qa){return Qa.relayout()});Ea.visible=Ba;xa.jumpToEnd()})}},{key:"onHoverIn",value:function(ya){this.watchForTarget=!1}},{key:"onHoverOut",value:function(ya){this.watchForTarget=!0}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShapeFormatStyler"}},
{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||(this._uiSpec={clipModeSelector:["clip mode selector","selection","clipMode"],fillPicker:["fill picker","colorValue","fill"],shadowPicker:["shadow picker","shadowValue","dropShadow"],opacityField:["opacity field","number","opacity"],heightField:["height field","number","height"],widthField:["width field","number","width"],posXField:["pos x field","number","left"],posYField:["pos y field","number","top"]})}},ui:{readOnly:!0,
get:function(){var ya=this,Ea=this.uiSpec;return this._ui||(this._ui=ec.obj.extract(Ea,ec.obj.keys(Ea),function(Ba,xa){Ba=$jscomp.makeIterator(xa).next().value;return ya.getSubmorphNamed(Ba)}))}}}}}],cb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeFormatStyler",version:"0.1.1-147"}}},{start:176,end:4919})}(ec.Morph);Eb=ec.ShapeFormatStyler;
ec.default=Eb;var wc=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js");wc.Morph=ta;wc.ShadowPopover=vc;wc.connect=zc;wc.signal=Qb;Eb=function(pc){var cb=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js"),fb=cb.hasOwnProperty("ShadowWidget")&&"function"===typeof cb.ShadowWidget?cb.ShadowWidget:cb.ShadowWidget=function(ya){ya&&ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Mc(fb,pc,[{key:"onHoverIn",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:1,
duration:200})}},{key:"onHoverOut",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:0,duration:200})}},{key:"onMouseDown",value:function(ya){this.openPopover()}},{key:"update",value:function(ya){var Ea=this.submorphs[0];Ea&&(Ea.dropShadow=ya)}},{key:"openPopover",value:function(){var ya=this,Ea;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ba){if(1==Ba.nextAddress)return Ea=new wc.ShadowPopover({hasFixedPosition:!!ya.ownerChain().find(function(xa){return xa.hasFixedPosition}),
shadowValue:ya.shadowValue}),Ba.yield(Ea.fadeIntoWorld(ya.globalBounds().center()),2);wc.connect(Ea,"shadowValue",ya,"shadowValue");wc.connect(ya,"shadowValue",ya,"update");wc.signal(ya,"openWidget",Ea);Ba.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowWidget"}},{key:"properties",get:function(){return{shadowValue:{set:function(ya){this.setProperty("shadowValue",ya);this.update(ya)}}}}}],cb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShadowWidget",version:"0.1.1-7"}}},{start:194,end:1231})}(wc.Morph);Eb=wc.ShadowWidget;wc.default=Eb;var fd=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js");fd.Morph=ta;fd.obj=zd;fd.string=ne;fd.connect=zc;fd.noUpdate=De;fd.once=Xd;Eb=function(pc){var cb=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js"),fb=cb.hasOwnProperty("BorderFormatStyler")&&"function"===typeof cb.BorderFormatStyler?
cb.BorderFormatStyler:cb.BorderFormatStyler=function(ya){ya&&ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Mc(fb,pc,[{key:"setupUI",value:function(){var ya=this;this.getSubmorphsByStyleClassName("NumberWidget").map(function(Ea){var Ba=fd.string.camelCaseString(Ea.name);Ba=Ba[0].toLowerCase()+Ba.slice(1);ya.ui[Ba]=Ea})}},{key:"cleanupAnchors",value:function(){var ya=this.withAllSubmorphsSelect(function(xa){return xa.anchors&&
xa.anchors.filter(function(Qa){return!Qa.id})}),Ea={};ya=$jscomp.makeIterator(ya);for(var Ba=ya.next();!Ba.done;Ea={$jscomp$loop$prop$m$2664:Ea.$jscomp$loop$prop$m$2664},Ba=ya.next())Ea.$jscomp$loop$prop$m$2664=Ba.value,Ea.$jscomp$loop$prop$m$2664.anchors.forEach(function(xa){return function(Qa){return!Qa.id&&xa.$jscomp$loop$prop$m$2664.removeAnchor(Qa)}}(Ea))}},{key:Symbol.for("lively-instance-initialize"),value:function(ya){Mc._get(Object.getPrototypeOf(fb.prototype),Symbol.for("lively-instance-initialize"),
this).call(this,ya);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var ya=this.ui,Ea={},Ba=$jscomp.makeIterator(Object.entries(this.uiSpec)),xa=Ba.next();!xa.done;Ea={$jscomp$loop$prop$control$2666:Ea.$jscomp$loop$prop$control$2666,$jscomp$loop$prop$prop$2667:Ea.$jscomp$loop$prop$prop$2667},xa=Ba.next()){var Qa=$jscomp.makeIterator(xa.value);xa=Qa.next().value;Qa=$jscomp.makeIterator(Qa.next().value);Qa.next();var wb=Qa.next().value;Ea.$jscomp$loop$prop$prop$2667=
Qa.next().value;Ea.$jscomp$loop$prop$control$2666=ya[xa];fd.connect(Ea.$jscomp$loop$prop$control$2666,wb,this,"updateTarget",{updater:function(fc){return function($a,ib){fc.$jscomp$loop$prop$control$2666._updating=!0;$a(fc.$jscomp$loop$prop$prop$2667,ib);fc.$jscomp$loop$prop$control$2666._updating=!1}}(Ea),varMapping:{prop:Ea.$jscomp$loop$prop$prop$2667,control:Ea.$jscomp$loop$prop$control$2666}})}}},{key:"update",value:function(){var ya=this,Ea=this.target,Ba=Ea.borderStyle,xa=Ea.borderColor,Qa=
Ea.borderRadius,wb=Ea.borderWidth;fd.noUpdate(function(){ya.updateMultiValue("border style selector",Ba,"selection");ya.updateMultiValue("border color picker",xa,"colorValue");ya.updateMultiValue("border radius field",Qa,"number");ya.updateMultiValue("border width field",wb,"number")})}},{key:"updateTarget",value:function(ya,Ea){this.target[ya]=Ea;this.update()}},{key:"updateControl",value:function(ya,Ea,Ba){ya._updating||fd.obj.equals(ya[Ea],Ba)||(ya[Ea]=Ba)}},{key:"updateMultiValue",value:function(ya,
Ea,Ba){var xa=this.ui,Qa=xa[this.join(ya)],wb=Qa.get("multi value indicator"),fc=fd.obj.values(Ea).some(function($a){return!fd.obj.isFunction($a)&&!fd.obj.equals($a,Ea.valueOf())});Qa.visible=Qa.isLayoutable=!fc;if(fc&&wb.visible!=fc)fd.once(wb,"onMouseDown",Qa,Ba,{converter:function(){return Ea.valueOf()},varMapping:{value:Ea}});wb.visible=wb.isLayoutable=fc;this.updateControl(Qa,Ba,Ea.valueOf());Qa=$jscomp.makeIterator(["top","left","bottom","right"]);for(wb=Qa.next();!wb.done;wb=Qa.next())wb=wb.value,
fc=xa[this.join(ya,wb)],this.updateControl(fc,Ba,Ea[wb])}},{key:"lower",value:function(ya){return ya.charAt(0).toLowerCase()+ya.slice(1)}},{key:"join",value:function(ya,Ea){return this.lower(fd.string.camelCaseString(ya+(Ea?" "+Ea:"")))}},{key:"unwrap",value:function(ya,Ea,Ba){var xa={};xa=(xa[this.lower(fd.string.camelCaseString(ya))]=[ya,Ea,Ba],xa);for(var Qa=$jscomp.makeIterator(["top","left","bottom","right"]),wb=Qa.next();!wb.done;wb=Qa.next()){wb=wb.value;var fc=ya+" "+wb;xa[this.lower(fd.string.camelCaseString(fc))]=
[fc,Ea,this.join(Ba,wb)]}return xa}},{key:"attachToWorld",value:function(){fd.connect($world,"showHaloFor",this,"focusOn",{garbageCollect:!0})}},{key:"focusOn",value:function(ya){var Ea=this,Ba;return $jscomp.asyncExecutePromiseGeneratorProgram(function(xa){if(1==xa.nextAddress)return!ya||Ea.isAncestorOf(ya)||Ea.target===ya||fd.obj.isArray(ya)||(Ea.target=ya),Ba=Ea.visible,Ea.visible=!0,xa.yield(Ea.whenRendered(),2);if(3!=xa.nextAddress)return Ea.update(),xa.yield(Ea.whenRendered(),3);Ea.getSubmorphsByStyleClassName("NumberWidget").map(function(Qa){return Qa.relayout()});
Ea.visible=Ba;xa.jumpToEnd()})}},{key:"onHoverIn",value:function(ya){this.watchForTarget=!1}},{key:"onHoverOut",value:function(ya){this.watchForTarget=!0}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"BorderFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{derived:!0,serialize:!1,get:function(){return this._uiSpec||(this._uiSpec=Object.assign({},this.unwrap("border style selector","selection","borderStyle"),{},this.unwrap("border color picker","colorValue","borderColor"),
{},this.unwrap("border radius field","number","borderRadius"),{},this.unwrap("border width field","number","borderWidth")))}},ui:{initialize:function(){this.setupUI()}}}}}],cb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"BorderFormatStyler",version:"0.1.1-16"}}},{start:185,end:5003})}(fd.Morph);Eb=fd.BorderFormatStyler;fd.default=
Eb;var cd=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js");cd.Morph=ta;cd.resource=qc;cd.arr=ld;cd.obj=zd;cd.string=ne;cd.Path=Pb;cd.connect=zc;cd.getMastersMenu=ud;cd.resolvedMasters=Ed;Eb=function(pc){var cb=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js"),fb=cb.hasOwnProperty("MasterComponentControl")&&"function"===typeof cb.MasterComponentControl?cb.MasterComponentControl:cb.MasterComponentControl=function(ya){ya&&ya[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Mc(fb,pc,[{key:"focusOn",value:function(ya){this.target=ya;this.update()}},{key:"onMouseUp",value:function(ya){var Ea=this,Ba,xa,Qa,wb,fc,$a;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ib){if(1==ib.nextAddress){"auto master selection"==ya.targetMorph.name&&(Ba="auto");"hover master selection"==ya.targetMorph.name&&(Ba="hover");"click master selection"==ya.targetMorph.name&&(Ba="click");Ea.refreshButtons();
if(!Ea.target)return ib.return();xa=$jscomp.makeIterator(["auto","hover","click"]);for(Qa=xa.next();!Qa.done;Qa=xa.next())wb=Qa.value,Ea.target.master&&Ea.target.master[wb]&&!Ea.get(wb+" master checkbox").checked&&Ea.adjustMasterComponent(wb,null);if(!Ba)return ib.jumpTo(0);fc=Ea;$a=fc.openMenu;return ib.yield(Ea.getMastersMenu(Ba),3)}$a.call(fc,ib.yieldResult,ya);ib.jumpToEnd()})}},{key:"getMastersMenu",value:function(ya){var Ea=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ba){return 1==
Ba.nextAddress?Ba.yield(Promise.all([].concat($jscomp.arrayFromIterable(Object.keys(cd.resolvedMasters)),[Ea.world().name]).map(function(xa){var Qa,wb,fc;return $jscomp.asyncExecutePromiseGeneratorProgram(function($a){return 1==$a.nextAddress?(Qa=xa,wb=Ea,fc=wb.componentsToMenu,$a.yield(cd.resource("styleguide://"+xa+"/").dirList(),2)):$a.return([Qa,fc.call(wb,$a.yieldResult,ya)])})})),2):Ba.return(Ba.yieldResult)})}},{key:"componentsToMenu",value:function(ya,Ea,Ba,xa){var Qa=this;Ba=void 0===Ba?
null:Ba;xa=void 0===xa?1:xa;Ba||(Ba=ya.map(function(fc){return{name:cd.arr.last(fc.name.split("/")),path:fc.name.split("/"),value:fc}}));if(0==Ba.length||100<xa)return[];var wb=this;return cd.arr.flatten(Object.entries(cd.arr.groupBy(Ba,function(fc){return fc.path[xa-1]})).map(function(fc){var $a=$jscomp.makeIterator(fc);fc=$a.next().value;$a=$a.next().value;var ib=$jscomp.makeIterator(cd.arr.partition($a,function(ab){return ab.path.length<=xa}));$a=ib.next().value;ib=ib.next().value;fc=[fc,Qa.componentsToMenu(null,
Ea,ib,xa+1)];return[].concat($jscomp.arrayFromIterable($a.map(function(ab){return[ab.name,function(){wb.adjustMasterComponent(Ea,ab.value)}]})),$jscomp.arrayFromIterable(fc[1].length?[fc]:[]))}),1)}},{key:"getComponentSelectionMenu",value:function(ya){var Ea=this,Ba,xa,Qa,wb,fc,$a;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ib){if(1==ib.nextAddress)return Ba=Ea.world().metadata.commit.name,xa=cd.resource("styleguide://"+Ba+"/"),ib.yield(xa.dirList(),2);if(3!=ib.nextAddress)return Qa=
ib.yieldResult,ib.yield(cd.resource("styleguide://System/").dirList(),3);wb=ib.yieldResult;fc=Ea.componentsToMenu(Qa,ya);$a=Ea.componentsToMenu(wb,ya);return ib.return([].concat($jscomp.arrayFromIterable(0<fc.length?[].concat($jscomp.arrayFromIterable(fc),[{isDivider:!0}]):[]),$jscomp.arrayFromIterable($a)))})}},{key:"adjustMasterComponent",value:function(ya,Ea){if(this.target.master)this.target.master[ya]=Ea;else if(Ea){var Ba={};this.target.master=(Ba[ya]=Ea,Ba)}ya=this.target.master;Ea=ya.hover;
Ba=ya.click;ya.auto||Ea||Ba||(this.target.master=null);this.update();this.target.withAllSubmorphsDo(function(xa){return delete xa._parametrizedProps});this.target.requestMasterStyling()}},{key:"componentsToMenu",value:function(ya,Ea,Ba,xa){var Qa=this;Ba=void 0===Ba?null:Ba;xa=void 0===xa?1:xa;Ba||(Ba=ya.map(function(fc){return{name:cd.arr.last(fc.name.split("/")),path:fc.name.split("/"),value:fc}}));if(0==Ba.length||100<xa)return[];var wb=this;return cd.arr.flatten(Object.entries(cd.arr.groupBy(Ba,
function(fc){return fc.path[xa-1]})).map(function(fc){var $a=$jscomp.makeIterator(fc);fc=$a.next().value;$a=$a.next().value;var ib=$jscomp.makeIterator(cd.arr.partition($a,function(ab){return ab.path.length<=xa}));$a=ib.next().value;ib=ib.next().value;fc=[fc,Qa.componentsToMenu(null,Ea,ib,xa+1)];return[].concat($jscomp.arrayFromIterable($a.map(function(ab){return[ab.name,function(){wb.adjustMasterComponent(Ea,ab.value)}]})),$jscomp.arrayFromIterable(fc[1].length?[fc]:[]))}),1)}},{key:"update",value:function(){if(this.target){for(var ya=
$jscomp.makeIterator(["auto","hover","click"]),Ea=ya.next();!Ea.done;Ea=ya.next()){Ea=Ea.value;var Ba=this.getSubmorphNamed(Ea+" master selection"),xa=this.getSubmorphNamed(Ea+" master checkbox");cd.Path(["master",Ea]).get(this.target)?xa.checked=!0:xa.checked=!1;Ba.label=cd.string.truncateLeft(cd.Path(["master",Ea,"name"]).get(this.target)||"select master",15,"...")}this.refreshButtons()}}},{key:"refreshButtons",value:function(){for(var ya=$jscomp.makeIterator(["auto","hover","click"]),Ea=ya.next();!Ea.done;Ea=
ya.next()){Ea=Ea.value;var Ba=this.getSubmorphNamed(Ea+" master selection"),xa=this.getSubmorphNamed(Ea+" master checkbox");Ba=Ba.deactivated=!xa.checked;this.getSubmorphNamed(Ea+" master selection").opacity=Ba?.5:1}ya=this.getSubmorphNamed("overridden props list");ya.items=this.getOverriddenProps();this.getSubmorphNamed("clear overridden prop button").deactivated=!ya.selection}},{key:"getMasterForTarget",value:function(){if(this.target.isMorph)return[this.target].concat($jscomp.arrayFromIterable(this.target.ownerChain())).map(function(ya){return ya.master}).find(Boolean)}},
{key:"clearSelectedProperty",value:function(){var ya=this.getSubmorphNamed("overridden props list").selection;this.getMasterForTarget().clearOverriddenPropertiesFor(this.target,[ya]);this.refreshButtons()}},{key:"getOverriddenProps",value:function(){var ya=this.getMasterForTarget();return ya&&ya._overriddenProps?(ya=ya._overriddenProps.get(this.target))?Object.keys(ya):[]:[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"MasterComponentControl"}}],cb,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"MasterComponentControl",version:"0.1.1-108"}}},{start:315,end:6096})}(cd.Morph);Eb=cd.MasterComponentControl;cd.default=Eb}}});

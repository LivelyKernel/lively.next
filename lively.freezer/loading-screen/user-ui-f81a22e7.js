System.register(["./__root_module__-be0d56fe.js","./object-classes-f8189235.js"],function(Pa,Lb){var Vb,Dc,jc,qd,id,Cd,bd,Wc,Zc,zd,me,te,Je,jd,Zd,gc,$c,Bd,fd,Jd,fe,Zb,Gc,xd,Ic,Ad,Mb,mb,Ac;return{setters:[function(vc){Vb=vc.p;Dc=vc.f;jc=vc.a;qd=vc.s;id=vc.r;Cd=vc.b;bd=vc.R;Wc=vc.C;Zc=vc.c;zd=vc.o;me=vc.d;te=vc.m;Je=vc.e;jd=vc.t;Zd=vc.I;gc=vc.g;$c=vc.M;Bd=vc.h;fd=vc.l;Jd=vc.j;fe=vc.U;Zb=vc.k;Gc=vc.n;xd=vc.q;Ic=vc.u;Ad=vc.i},function(vc){Mb=vc.default;mb=vc.interactivelyForkPackage;Ac=vc.addScript}],
execute:function(){var vc=window.gapi=window.gapi||{};vc._bs=(new Date).getTime();(function(){function Bc(ua){if(Error.captureStackTrace)Error.captureStackTrace(this,Bc);else{var Ia=Error().stack;Ia&&(this.stack=Ia)}ua&&(this.message=String(ua))}function Ua(ua){var Ia=ua.length;if(0<Ia){for(var jb=Array(Ia),Ub=0;Ub<Ia;Ub++)jb[Ub]=ua[Ub];return jb}return[]}function hc(ua,Ia){for(var jb in ua)Ia.call(void 0,ua[jb],jb,ua)}function Eb(ua,Ia){for(var jb,Ub,Ec=1;Ec<arguments.length;Ec++){Ub=arguments[Ec];
for(jb in Ub)ua[jb]=Ub[jb];for(var Mc=0;Mc<La.length;Mc++)jb=La[Mc],Object.prototype.hasOwnProperty.call(Ub,jb)&&(ua[jb]=Ub[jb])}}function qc(ua){if(0!==ua.indexOf("GCSC"))return null;var Ia={X:!1};ua=ua.substr(4);if(!ua)return Ia;var jb=ua.charAt(0);ua=ua.substr(1);var Ub=ua.lastIndexOf("_");if(-1==Ub)return Ia;var Ec=$r(ua.substr(Ub+1));if(null==Ec)return Ia;ua=ua.substring(0,Ub);if("_"!==ua.charAt(0))return Ia;Ub="E"===jb&&Ec.l;return!Ub&&("U"!==jb||Ec.l)||Ub&&!vv?Ia:{X:!0,l:Ub,la:ua.substr(1),
domain:Ec.domain,o:Ec.o}}var Cc=function(ua){var Ia=0;return function(){return Ia<ua.length?{done:!1,value:ua[Ia++]}:{done:!0}}},Yc="function"==typeof Object.defineProperties?Object.defineProperty:function(ua,Ia,jb){if(ua==Array.prototype||ua==Object.prototype)return ua;ua[Ia]=jb.value;return ua},rd=function(ua){ua=["object"==typeof globalThis&&globalThis,ua,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var Ia=0;Ia<ua.length;++Ia){var jb=ua[Ia];if(jb&&
jb.Math==Math)return jb}throw Error("Cannot find global object");}(this),fc=function(ua,Ia){if(Ia)a:{var jb=rd;ua=ua.split(".");for(var Ub=0;Ub<ua.length-1;Ub++){var Ec=ua[Ub];if(!(Ec in jb))break a;jb=jb[Ec]}ua=ua[ua.length-1];Ub=jb[ua];Ia=Ia(Ub);Ia!=Ub&&null!=Ia&&Yc(jb,ua,{configurable:!0,writable:!0,value:Ia})}};fc("Symbol",function(ua){if(ua)return ua;var Ia=function(Mc,Id){this.ca=Mc;Yc(this,"description",{configurable:!0,writable:!0,value:Id})};Ia.prototype.toString=function(){return this.ca};
var jb="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",Ub=0,Ec=function(Mc){if(this instanceof Ec)throw new TypeError("Symbol is not a constructor");return new Ia(jb+(Mc||"")+"_"+Ub++,Mc)};return Ec});fc("Symbol.iterator",function(ua){if(ua)return ua;ua=Symbol("Symbol.iterator");for(var Ia="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),jb=0;jb<Ia.length;jb++){var Ub=rd[Ia[jb]];"function"===typeof Ub&&"function"!=typeof Ub.prototype[ua]&&
Yc(Ub.prototype,ua,{configurable:!0,writable:!0,value:function(){return xc(Cc(this))}})}return ua});var xc=function(ua){ua={next:ua};ua[Symbol.iterator]=function(){return this};return ua},bc=function(ua,Ia){ua instanceof String&&(ua+="");var jb=0,Ub=!1,Ec={next:function(){if(!Ub&&jb<ua.length){var Mc=jb++;return{value:Ia(Mc,ua[Mc]),done:!1}}Ub=!0;return{done:!0,value:void 0}}};Ec[Symbol.iterator]=function(){return Ec};return Ec};fc("Array.prototype.keys",function(ua){return ua?ua:function(){return bc(this,
function(Ia){return Ia})}});var Qa=this||self,Da=function(ua){var Ia=typeof ua;return"object"!=Ia?Ia:ua?Array.isArray(ua)?"array":Ia:"null"},ja=function(ua){var Ia=Da(ua);return"array"==Ia||"object"==Ia&&"number"==typeof ua.length},Ba=function(ua){var Ia=typeof ua;return"object"==Ia&&null!=ua||"function"==Ia},Ja="closure_uid_"+(1E9*Math.random()>>>0),Fb=0,wa=function(ua,Ia,jb){return ua.call.apply(ua.bind,arguments)},Ka=function(ua,Ia,jb){if(!ua)throw Error();if(2<arguments.length){var Ub=Array.prototype.slice.call(arguments,
2);return function(){var Ec=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(Ec,Ub);return ua.apply(Ia,Ec)}}return function(){return ua.apply(Ia,arguments)}},Rb=function(ua,Ia,jb){Rb=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wa:Ka;return Rb.apply(null,arguments)},eb=function(ua,Ia){function jb(){}jb.prototype=Ia.prototype;ua.pa=Ia.prototype;ua.prototype=new jb;ua.prototype.constructor=ua;ua.B=function(Ub,Ec,Mc){for(var Id=Array(arguments.length-
2),Oe=2;Oe<arguments.length;Oe++)Id[Oe-2]=arguments[Oe];return Ia.prototype[Ec].apply(Ub,Id)}},Sc=function(ua){return ua},Ob=function(ua){var Ia=null,jb=Qa.trustedTypes;if(!jb||!jb.createPolicy)return Ia;try{Ia=jb.createPolicy(ua,{createHTML:Sc,createScript:Sc,createScriptURL:Sc})}catch(Ub){Qa.console&&Qa.console.error(Ub.message)}return Ia};eb(Bc,Error);Bc.prototype.name="CustomError";var pd,Uc=function(ua,Ia){ua=ua.split("%s");for(var jb="",Ub=ua.length-1,Ec=0;Ec<Ub;Ec++)jb+=ua[Ec]+(Ec<Ia.length?
Ia[Ec]:"%s");Bc.call(this,jb+ua[Ub])};eb(Uc,Bc);Uc.prototype.name="AssertionError";var Kc=function(ua,Ia,jb,Ub){var Ec="Assertion failed";if(jb){Ec+=": "+jb;var Mc=Ub}else ua&&(Ec+=": "+ua,Mc=Ia);throw new Uc(""+Ec,Mc||[]);},Hb=function(ua,Ia,jb){ua||Kc("",null,Ia,Array.prototype.slice.call(arguments,2));return ua},$d=function(ua,Ia){throw new Uc("Failure"+(ua?": "+ua:""),Array.prototype.slice.call(arguments,1));},Tb=function(ua,Ia,jb){"string"!==typeof ua&&Kc("Expected string but got %s: %s.",[Da(ua),
ua],Ia,Array.prototype.slice.call(arguments,2))},Gb=Array.prototype.forEach?function(ua,Ia){Hb(null!=ua.length);Array.prototype.forEach.call(ua,Ia,void 0)}:function(ua,Ia){for(var jb=ua.length,Ub="string"===typeof ua?ua.split(""):ua,Ec=0;Ec<jb;Ec++)Ec in Ub&&Ia.call(void 0,Ub[Ec],Ec,ua)},La="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),da,Ha=function(ua,Ia){this.S=ua===uc&&Ia||"";this.da=Qb};Ha.prototype.F=!0;Ha.prototype.D=function(){return this.S};
Ha.prototype.toString=function(){return"Const{"+this.S+"}"};var bb=function(ua){if(ua instanceof Ha&&ua.constructor===Ha&&ua.da===Qb)return ua.S;$d("expected object of type Const, got '"+ua+"'");return"type_error:Const"},Qb={},uc={},Tc=/&/g,vd=/</g,Wd=/>/g,ed=/"/g,He=/'/g,Rd=/\x00/g,Fe=/[\x00&<>"']/,z=function(ua,Ia){return-1!=ua.indexOf(Ia)},Ce=function(ua,Ia){this.P=Ia===Nd?ua:""};Ce.prototype.F=!0;Ce.prototype.D=function(){return this.P.toString()};Ce.prototype.toString=function(){return this.P.toString()};
var Ke=function(ua){if(ua instanceof Ce&&ua.constructor===Ce)return ua.P;$d("expected object of type SafeUrl, got '"+ua+"' of type "+Da(ua));return"type_error:SafeUrl"},eg=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,sf=function(ua){if(ua instanceof Ce)return ua;ua="object"==typeof ua&&ua.F?ua.D():String(ua);Hb(eg.test(ua),"%s does not match the safe URL pattern",ua)||(ua="about:invalid#zClosurez");return new Ce(ua,Nd)},Nd={},hf=function(){var ua=Qa.navigator;return ua?ua.userAgentData||null:
null};a:{var jf=Qa.navigator;if(jf){var Bf=jf.userAgent;if(Bf){var Xd=Bf;break a}}Xd=""}var ii={},Pc=function(ua,Ia,jb){this.O=jb===ii?ua:"";this.F=!0};Pc.prototype.D=function(){return this.O.toString()};Pc.prototype.toString=function(){return this.O.toString()};var Ud=function(ua){if(ua instanceof Pc&&ua.constructor===Pc)return ua.O;$d("expected object of type SafeHtml, got '"+ua+"' of type "+Da(ua));return"type_error:SafeHtml"},df=new Pc(Qa.trustedTypes&&Qa.trustedTypes.emptyHTML||"",0,ii),yd=function(ua,
Ia){a:{try{var jb=ua&&ua.ownerDocument,Ub=jb&&(jb.defaultView||jb.parentWindow);Ub=Ub||Qa;if(Ub.Element&&Ub.Location){jb=Ub;break a}}catch(Mc){}jb=null}if(jb&&"undefined"!=typeof jb[Ia]&&(!ua||!(ua instanceof jb[Ia])&&(ua instanceof jb.Location||ua instanceof jb.Element))){if(Ba(ua))try{var Ec=ua.constructor.displayName||ua.constructor.name||Object.prototype.toString.call(ua)}catch(Mc){Ec="<object could not be stringified>"}else Ec=void 0===ua?"undefined":null===ua?"null":typeof ua;$d("Argument is not a %s (or a non-Element, non-Location mock); got: %s",
Ia,Ec)}return ua},Pe={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Xa=function(ua){var Ia=!1,jb;return function(){Ia||(jb=ua(),Ia=!0);return jb}}(function(){if("undefined"===typeof document)return!1;var ua=document.createElement("div"),Ia=document.createElement("div");Ia.appendChild(document.createElement("div"));ua.appendChild(Ia);if(!ua.firstChild)return!1;Ia=ua.firstChild.firstChild;ua.innerHTML=Ud(df);return!Ia.parentElement}),hb=function(ua){Fe.test(ua)&&(-1!=ua.indexOf("&")&&(ua=ua.replace(Tc,
"&amp;")),-1!=ua.indexOf("<")&&(ua=ua.replace(vd,"&lt;")),-1!=ua.indexOf(">")&&(ua=ua.replace(Wd,"&gt;")),-1!=ua.indexOf('"')&&(ua=ua.replace(ed,"&quot;")),-1!=ua.indexOf("'")&&(ua=ua.replace(He,"&#39;")),-1!=ua.indexOf("\x00")&&(ua=ua.replace(Rd,"&#0;")));return ua},ab=hf()?!1:z(Xd,"Opera"),ma=hf()?!1:z(Xd,"Trident")||z(Xd,"MSIE"),X=z(Xd,"Edge"),Ra=z(Xd,"Gecko")&&!(z(Xd.toLowerCase(),"webkit")&&!z(Xd,"Edge"))&&!(z(Xd,"Trident")||z(Xd,"MSIE"))&&!z(Xd,"Edge"),na=z(Xd.toLowerCase(),"webkit")&&!z(Xd,
"Edge"),Fa=function(){var ua=Qa.document;return ua?ua.documentMode:void 0};a:{var Ma="",lb=function(){var ua=Xd;if(Ra)return/rv:([^\);]+)(\)|;)/.exec(ua);if(X)return/Edge\/([\d\.]+)/.exec(ua);if(ma)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ua);if(na)return/WebKit\/(\S+)/.exec(ua);if(ab)return/(?:Version)[ \/]?(\S+)/.exec(ua)}();lb&&(Ma=lb?lb[1]:"");if(ma){var Nb=Fa();if(null!=Nb&&Nb>parseFloat(Ma)){var ac=String(Nb);break a}}ac=Ma}var Hc=ac;if(Qa.document&&ma){var Lc=Fa();var kd=Lc?Lc:parseInt(Hc,
10)||void 0}else kd=void 0;var Sd=kd,ke;(ke=!ma)||(ke=9<=Number(Sd));var Gd=ke,ye=function(ua,Ia){hc(Ia,function(jb,Ub){jb&&"object"==typeof jb&&jb.F&&(jb=jb.D());"style"==Ub?ua.style.cssText=jb:"class"==Ub?ua.className=jb:"for"==Ub?ua.htmlFor=jb:xe.hasOwnProperty(Ub)?ua.setAttribute(xe[Ub],jb):0==Ub.lastIndexOf("aria-",0)||0==Ub.lastIndexOf("data-",0)?ua.setAttribute(Ub,jb):ua[Ub]=jb})},xe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",
maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},le=function(ua,Ia,jb,Ub){function Ec(Oe){Oe&&Ia.appendChild("string"===typeof Oe?ua.createTextNode(Oe):Oe)}for(;Ub<jb.length;Ub++){var Mc=jb[Ub];if(!ja(Mc)||Ba(Mc)&&0<Mc.nodeType)Ec(Mc);else{a:{if(Mc&&"number"==typeof Mc.length){if(Ba(Mc)){var Id="function"==typeof Mc.item||"string"==typeof Mc.item;break a}if("function"===typeof Mc){Id="function"==typeof Mc.item;break a}}Id=
!1}Gb(Id?Ua(Mc):Mc,Ec)}}},De=function(ua,Ia){Ia=String(Ia);"application/xhtml+xml"===ua.contentType&&(Ia=Ia.toLowerCase());return ua.createElement(Ia)},Gf=function(ua){Hb(ua,"Node cannot be null or undefined.");return 9==ua.nodeType?ua:ua.ownerDocument||ua.document},cg=function(ua){this.C=ua||Qa.document||document};var ng=cg.prototype;ng.getElementsByTagName=function(ua,Ia){return(Ia||this.C).getElementsByTagName(String(ua))};ng.ga=function(ua,Ia,jb){var Ub=this.C,Ec=arguments,Mc=String(Ec[0]),Id=
Ec[1];if(!Gd&&Id&&(Id.name||Id.type)){Mc=["<",Mc];Id.name&&Mc.push(' name="',hb(Id.name),'"');if(Id.type){Mc.push(' type="',hb(Id.type),'"');var Oe={};Eb(Oe,Id);delete Oe.type;Id=Oe}Mc.push(">");Mc=Mc.join("")}Mc=De(Ub,Mc);Id&&("string"===typeof Id?Mc.className=Id:Array.isArray(Id)?Mc.className=Id.join(" "):ye(Mc,Id));2<Ec.length&&le(Ub,Mc,Ec,2);return Mc};ng.createElement=function(ua){return De(this.C,ua)};ng.createTextNode=function(ua){return this.C.createTextNode(String(ua))};ng.appendChild=function(ua,
Ia){Hb(null!=ua&&null!=Ia,"goog.dom.appendChild expects non-null arguments");ua.appendChild(Ia)};ng.append=function(ua,Ia){le(Gf(ua),ua,arguments,1)};ng.canHaveChildren=function(ua){if(1!=ua.nodeType)return!1;switch(ua.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
ng.removeNode=function(ua){return ua&&ua.parentNode?ua.parentNode.removeChild(ua):null};ng.contains=function(ua,Ia){if(!ua||!Ia)return!1;if(ua.contains&&1==Ia.nodeType)return ua==Ia||ua.contains(Ia);if("undefined"!=typeof ua.compareDocumentPosition)return ua==Ia||!!(ua.compareDocumentPosition(Ia)&16);for(;Ia&&ua!=Ia;)Ia=Ia.parentNode;return Ia==ua};var Wf=window,wf=document,th=Wf.location,fi=function(){},Og=/\[native code\]/,xf=function(ua,Ia,jb){return ua[Ia]=ua[Ia]||jb},dg=function(ua){for(var Ia=
0;Ia<this.length;Ia++)if(this[Ia]===ua)return Ia;return-1},qg=function(ua){ua=ua.sort();for(var Ia=[],jb=void 0,Ub=0;Ub<ua.length;Ub++){var Ec=ua[Ub];Ec!=jb&&Ia.push(Ec);jb=Ec}return Ia},qh=/&/g,Me=/</g,gi=/>/g,sc=/"/g,nd=/'/g,ee=function(ua){return String(ua).replace(qh,"&amp;").replace(Me,"&lt;").replace(gi,"&gt;").replace(sc,"&quot;").replace(nd,"&#39;")},Hd=function(){var ua;if((ua=Object.create)&&Og.test(ua))ua=ua(null);else{ua={};for(var Ia in ua)ua[Ia]=void 0}return ua},rf=function(ua,Ia){return Object.prototype.hasOwnProperty.call(ua,
Ia)},$f=function(ua){if(Og.test(Object.keys))return Object.keys(ua);var Ia=[],jb;for(jb in ua)rf(ua,jb)&&Ia.push(jb);return Ia},fg=function(ua,Ia){ua=ua||{};for(var jb in ua)rf(ua,jb)&&(Ia[jb]=ua[jb])},sl=function(ua){return function(){Wf.setTimeout(ua,0)}},bl=function(ua,Ia){if(!ua)throw Error(Ia||"");},Oj=xf(Wf,"gapi",{}),Zj=function(ua,Ia,jb){var Ub=new RegExp("([#].*&|[#])"+Ia+"=([^&#]*)","g");Ia=new RegExp("([?#].*&|[?#])"+Ia+"=([^&#]*)","g");if(ua=ua&&(Ub.exec(ua)||Ia.exec(ua)))try{jb=decodeURIComponent(ua[2])}catch(Ec){}return jb},
Ck=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),qm=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,Sl=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),rm=/%([a-f]|[0-9a-fA-F][a-f])/g,Rl=/^(https?|ftp|file|chrome-extension):$/i,hi=function(ua){ua=String(ua);ua=ua.replace(qm,function(Ec){try{return encodeURIComponent(Ec)}catch(Mc){return encodeURIComponent(Ec.replace(/^[^%]+$/g,
"\ufffd"))}}).replace(Sl,function(Ec){return Ec.replace(/%/g,"%25")}).replace(rm,function(Ec){return Ec.toUpperCase()});ua=ua.match(Ck)||[];var Ia=Hd(),jb=function(Ec){return Ec.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},Ub=!!(ua[1]||"").match(Rl);Ia.B=jb((ua[1]||"")+(ua[2]||"")+(ua[3]||(ua[2]&&Ub?"/":"")));Ub=function(Ec){return jb(Ec.replace(/\?/g,"%3F").replace(/#/g,"%23"))};Ia.query=ua[5]?[Ub(ua[5])]:[];Ia.j=ua[7]?
[Ub(ua[7])]:[];return Ia},cl=function(ua){return ua.B+(0<ua.query.length?"?"+ua.query.join("&"):"")+(0<ua.j.length?"#"+ua.j.join("&"):"")},Qf=function(ua,Ia){var jb=[];if(ua)for(var Ub in ua)if(rf(ua,Ub)&&null!=ua[Ub]){var Ec=Ia?Ia(ua[Ub]):ua[Ub];jb.push(encodeURIComponent(Ub)+"="+encodeURIComponent(Ec))}return jb},Ui=function(ua,Ia,jb,Ub){ua=hi(ua);ua.query.push.apply(ua.query,Qf(Ia,Ub));ua.j.push.apply(ua.j,Qf(jb,Ub));return cl(ua)},Dk=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+
"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),Tl=function(ua,Ia){var jb=hi(Ia);Ia=jb.B;jb.query.length&&(Ia+="?"+jb.query.join(""));jb.j.length&&(Ia+="#"+jb.j.join(""));var Ub="";2E3<Ia.length&&(Ub=Ia,Ia=Ia.substr(0,2E3),Ia=Ia.replace(Dk,""),Ub=Ub.substr(Ia.length));var Ec=ua.createElement("div");ua=ua.createElement("a");jb=hi(Ia);Ia=jb.B;jb.query.length&&(Ia+="?"+jb.query.join(""));jb.j.length&&(Ia+="#"+jb.j.join(""));Ia=new Ce(Ia,Nd);yd(ua,"HTMLAnchorElement");
Ia=Ia instanceof Ce?Ia:sf(Ia);ua.href=Ke(Ia);Ec.appendChild(ua);Ia=Ec.innerHTML;jb=new Ha(uc,"Assignment to self.");Tb(bb(jb),"must provide justification");Hb(!/^[\s\xa0]*$/.test(bb(jb)),"must provide non-empty justification");void 0===da&&(da=Ob("gapi#html"));Ia=(jb=da)?jb.createHTML(Ia):Ia;Ia=new Pc(Ia,null,ii);if(Ec.tagName&&Pe[Ec.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+Ec.tagName+".");if(Xa())for(;Ec.lastChild;)Ec.removeChild(Ec.lastChild);
Ec.innerHTML=Ud(Ia);Ia=String(Ec.firstChild.href);Ec.parentNode&&Ec.parentNode.removeChild(Ec);jb=hi(Ia+Ub);Ub=jb.B;jb.query.length&&(Ub+="?"+jb.query.join(""));jb.j.length&&(Ub+="#"+jb.j.join(""));return Ub},Ym=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,xk=function(ua,Ia,jb,Ub){if(Wf[jb+"EventListener"])Wf[jb+"EventListener"](ua,Ia,!1);else if(Wf[Ub+"tachEvent"])Wf[Ub+"tachEvent"]("on"+ua,Ia)},Ek=function(){var ua=wf.readyState;return"complete"===ua||"interactive"===ua&&-1==navigator.userAgent.indexOf("MSIE")},
Ip=function(ua){var Ia=tt;if(!Ek())try{Ia()}catch(jb){}Zm(ua)},Zm=function(ua){if(Ek())ua();else{var Ia=!1,jb=function(){if(!Ia)return Ia=!0,ua.apply(this,arguments)};Wf.addEventListener?(Wf.addEventListener("load",jb,!1),Wf.addEventListener("DOMContentLoaded",jb,!1)):Wf.attachEvent&&(Wf.attachEvent("onreadystatechange",function(){Ek()&&jb.apply(this,arguments)}),Wf.attachEvent("onload",jb))}},rn=function(ua){for(;ua.firstChild;)ua.removeChild(ua.firstChild)},Qn={button:!0,div:!0,span:!0};var Rf=
xf(Wf,"___jsl",Hd());xf(Rf,"I",0);xf(Rf,"hel",10);var tl=function(ua){return Rf.dpo?Rf.h:Zj(ua,"jsh",Rf.h)},Rn=function(ua){var Ia=xf(Rf,"sws",[]);Ia.push.apply(Ia,ua)},Sn=function(ua){return xf(Rf,"watt",Hd())[ua]},tn=function(ua){var Ia=xf(Rf,"PQ",[]);Rf.PQ=[];var jb=Ia.length;if(0===jb)ua();else for(var Ub=0,Ec=function(){++Ub===jb&&ua()},Mc=0;Mc<jb;Mc++)Ia[Mc](Ec)},sm=function(ua){return xf(xf(Rf,"H",Hd()),ua,Hd())},sn=xf(Rf,"perf",Hd()),Jp=xf(sn,"g",Hd()),Kq=xf(sn,"i",Hd());xf(sn,"r",[]);Hd();
Hd();var Fc=function(ua,Ia,jb){var Ub=sn.r;"function"===typeof Ub?Ub(ua,Ia,jb):Ub.push([ua,Ia,jb])},Th=function(ua,Ia,jb){Jp[ua]=!Ia&&Jp[ua]||jb||(new Date).getTime();Fc(ua)},za=function(ua,Ia,jb){Ia&&0<Ia.length&&(Ia=A(Ia),jb&&0<jb.length&&(Ia+="___"+A(jb)),28<Ia.length&&(Ia=Ia.substr(0,28)+(Ia.length-28)),jb=Ia,Ia=xf(Kq,"_p",Hd()),xf(Ia,jb,Hd())[ua]=(new Date).getTime(),Fc(ua,"_p",jb))},A=function(ua){return ua.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},F=Hd(),K=[],D=function(ua){throw Error("Bad hint"+
(ua?": "+ua:""));};K.push(["jsl",function(ua){for(var Ia in ua)if(rf(ua,Ia)){var jb=ua[Ia];"object"==typeof jb?Rf[Ia]=xf(Rf,Ia,[]).concat(jb):xf(Rf,Ia,jb)}if(Ia=ua.u)ua=xf(Rf,"us",[]),ua.push(Ia),(Ia=/^https:(.*)$/.exec(Ia))&&ua.push("http:"+Ia[1])}]);var L=/^(\/[a-zA-Z0-9_\-]+)+$/,T=[/\/amp\//,/\/amp$/,/^\/amp$/],aa=/^[a-zA-Z0-9\-_\.,!]+$/,sa=/^gapi\.loaded_[0-9]+$/,Aa=/^[a-zA-Z0-9,._-]+$/,fa=function(ua,Ia,jb,Ub,Ec){var Mc=ua.split(";"),Id=Mc.shift(),Oe=F[Id],Ve=null;Oe?Ve=Oe(Mc,Ia,jb,Ub):D("no hint processor for: "+
Id);Ve||D("failed to generate load url");Ia=Ve;jb=Ia.match(gb);(Ub=Ia.match(ib))&&1===Ub.length&&Za.test(Ia)&&jb&&1===jb.length||D("failed sanity: "+ua);try{if(Ec&&0<Ec.length){Ia=ua=0;for(jb={};Ia<Ec.length;){var Re=Ec[Ia++];Ub=void 0;Ub=Ba(Re)?"o"+(Object.prototype.hasOwnProperty.call(Re,Ja)&&Re[Ja]||(Re[Ja]=++Fb)):(typeof Re).charAt(0)+Re;Object.prototype.hasOwnProperty.call(jb,Ub)||(jb[Ub]=!0,Ec[ua++]=Re)}Ec.length=ua;Ve=Ve+"?le="+Ec.join(",")}}catch(Df){}return Ve},ra=function(ua,Ia,jb,Ub){ua=
ya(ua);sa.test(jb)||D("invalid_callback");Ia=xa(Ia);Ub=Ub&&Ub.length?xa(Ub):null;var Ec=function(Mc){return encodeURIComponent(Mc).replace(/%2C/g,",")};return[encodeURIComponent(ua.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",Ec(ua.version),"/m=",Ec(Ia),Ub?"/exm="+Ec(Ub):"","/rt=j/sv=1/d=1/ed=1",ua.U?"/am="+Ec(ua.U):"",ua.$?"/rs="+Ec(ua.$):"",ua.ba?"/t="+Ec(ua.ba):"","/cb=",Ec(jb)].join("")},ya=function(ua){"/"!==ua.charAt(0)&&D("relative path");for(var Ia=ua.substring(1).split("/"),
jb=[];Ia.length;){ua=Ia.shift();if(!ua.length||0==ua.indexOf("."))D("empty/relative directory");else if(0<ua.indexOf("=")){Ia.unshift(ua);break}jb.push(ua)}ua={};for(var Ub=0,Ec=Ia.length;Ub<Ec;++Ub){var Mc=Ia[Ub].split("="),Id=decodeURIComponent(Mc[0]),Oe=decodeURIComponent(Mc[1]);2==Mc.length&&Id&&Oe&&(ua[Id]=ua[Id]||Oe)}Ia="/"+jb.join("/");L.test(Ia)||D("invalid_prefix");jb=0;for(Ub=T.length;jb<Ub;++jb)T[jb].test(Ia)&&D("invalid_prefix");jb=Oa(ua,"k",!0);Ub=Oa(ua,"am");Ec=Oa(ua,"rs");ua=Oa(ua,
"t");return{pathPrefix:Ia,version:jb,U:Ub,$:Ec,ba:ua}},xa=function(ua){for(var Ia=[],jb=0,Ub=ua.length;jb<Ub;++jb){var Ec=ua[jb].replace(/\./g,"_").replace(/-/g,"_");Aa.test(Ec)&&Ia.push(Ec)}return Ia.join(",")},Oa=function(ua,Ia,jb){ua=ua[Ia];!ua&&jb&&D("missing: "+Ia);if(ua){if(aa.test(ua))return ua;D("invalid: "+Ia)}return null},Za=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,ib=/\/cb=/g,gb=/\/\//g,pc=function(){var ua=tl(th.href);if(!ua)throw Error("Bad hint");return ua};
F.m=function(ua,Ia,jb,Ub){(ua=ua[0])||D("missing_hint");return"https://apis.google.com"+ra(ua,Ia,jb,Ub)};var Qc=decodeURI("%73cript"),gd=/^[-+_0-9\/A-Za-z]+={0,2}$/,cd=function(ua,Ia){for(var jb=[],Ub=0;Ub<ua.length;++Ub){var Ec=ua[Ub];Ec&&0>dg.call(Ia,Ec)&&jb.push(Ec)}return jb},ld=function(){var ua=Rf.nonce;return void 0!==ua?ua&&ua===String(ua)&&ua.match(gd)?ua:Rf.nonce=null:wf.querySelector?(ua=wf.querySelector("script[nonce]"))?(ua=ua.nonce||ua.getAttribute("nonce")||"",ua&&ua===String(ua)&&
ua.match(gd)?Rf.nonce=ua:Rf.nonce=null):null:null},Ld=function(ua){if("loading"!=wf.readyState)ae(ua);else{var Ia=ld(),jb="";null!==Ia&&(jb=' nonce="'+Ia+'"');ua="<"+Qc+' src="'+encodeURI(ua)+'"'+jb+"></"+Qc+">";wf.write(Tf?Tf.createHTML(ua):ua)}},ae=function(ua){var Ia=wf.createElement(Qc);Ia.setAttribute("src",Tf?Tf.createScriptURL(ua):ua);ua=ld();null!==ua&&Ia.setAttribute("nonce",ua);Ia.async="true";(ua=wf.getElementsByTagName(Qc)[0])?ua.parentNode.insertBefore(Ia,ua):(wf.head||wf.body||wf.documentElement).appendChild(Ia)},
rc=function(ua,Ia){var jb=Ia&&Ia._c;if(jb)for(var Ub=0;Ub<K.length;Ub++){var Ec=K[Ub][0],Mc=K[Ub][1];Mc&&rf(jb,Ec)&&Mc(jb[Ec],ua,Ia)}},ze=function(ua,Ia,jb){Xg(function(){var Ub=Ia===tl(th.href)?xf(Oj,"_",Hd()):Hd();Ub=xf(sm(Ia),"_",Ub);ua(Ub)},jb)},pf=function(ua,Ia){var jb=Ia||{};"function"==typeof Ia&&(jb={},jb.callback=Ia);rc(ua,jb);Ia=[];ua?Ia=ua.split(":"):jb.features&&(Ia=jb.features);var Ub=jb.h||pc(),Ec=xf(Rf,"ah",Hd());if(Ec["::"]&&Ia.length){ua=[];for(var Mc=null;Mc=Ia.shift();){var Id=
Mc.split(".");Id=Ec[Mc]||Ec[Id[1]&&"ns:"+Id[0]||""]||Ub;var Oe=ua.length&&ua[ua.length-1]||null,Ve=Oe;Oe&&Oe.hint==Id||(Ve={hint:Id,features:[]},ua.push(Ve));Ve.features.push(Mc)}var Re=ua.length;if(1<Re){var Df=jb.callback;Df&&(jb.callback=function(){0==--Re&&Df()})}for(;Ia=ua.shift();)od(Ia.features,jb,Ia.hint)}else od(Ia||[],jb,Ub)},od=function(ua,Ia,jb){ua=qg(ua)||[];var Ub=Ia.callback,Ec=Ia.config,Mc=Ia.timeout,Id=Ia.ontimeout,Oe=Ia.onerror,Ve=void 0;"function"==typeof Oe&&(Ve=Oe);var Re=null,
Df=!1;if(Mc&&!Id||!Mc&&Id)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";Oe=xf(sm(jb),"r",[]).sort();var Di=xf(sm(jb),"L",[]).sort(),pi=Rf.le,Hg=[].concat(Oe),Ij=function(Eh,Go){if(Df)return 0;Wf.clearTimeout(Re);Di.push.apply(Di,rk);var Xn=((Oj||{}).config||{}).update;Xn?Xn(Ec):Ec&&xf(Rf,"cu",[]).push(Ec);if(Go){za("me0",Eh,Hg);try{ze(Go,jb,Ve)}finally{za("me1",Eh,Hg)}}return 1};0<Mc&&(Re=Wf.setTimeout(function(){Df=!0;Id()},Mc));var rk=cd(ua,Di);if(rk.length){rk=
cd(ua,Oe);var Ei=xf(Rf,"CP",[]),vm=Ei.length;Ei[vm]=function(Eh){if(!Eh)return 0;za("ml1",rk,Hg);var Go=function(xt){Ei[vm]=null;Ij(rk,Eh)&&tn(function(){Ub&&Ub();xt()})},Xn=function(){var xt=Ei[vm+1];xt&&xt()};0<vm&&Ei[vm-1]?Ei[vm]=function(){Go(Xn)}:Go(Xn)};if(rk.length){var Km="loaded_"+Rf.I++;Oj[Km]=function(Eh){Ei[vm](Eh);Oj[Km]=null};ua=fa(jb,rk,"gapi."+Km,Oe,pi);Oe.push.apply(Oe,rk);za("ml0",rk,Hg);Ia.sync||Wf.___gapisync?Ld(ua):ae(ua)}else Ei[vm](fi)}else Ij(rk)&&Ub&&Ub()},Tf=Ob("gapi#gapi"),
Xg=function(ua,Ia){if(Rf.hee&&0<Rf.hel)try{return ua()}catch(jb){Ia&&Ia(jb),Rf.hel--,pf("debug_error",function(){try{window.___jsl.hefn(jb)}catch(Ub){throw jb;}})}else try{return ua()}catch(jb){throw Ia&&Ia(jb),jb;}};Oj.load=function(ua,Ia){return Xg(function(){return pf(ua,Ia)})};var Pf=function(ua){var Ia=window.___jsl=window.___jsl||{};Ia[ua]=Ia[ua]||[];return Ia[ua]},ff=function(ua){var Ia=window.___jsl=window.___jsl||{};Ia.cfg=!ua&&Ia.cfg||{};return Ia.cfg},se=function(ua){return"object"===typeof ua&&
/\[native code\]/.test(ua.push)},og=function(ua,Ia,jb){if(Ia&&"object"===typeof Ia)for(var Ub in Ia)!Object.prototype.hasOwnProperty.call(Ia,Ub)||jb&&"___goc"===Ub&&"undefined"===typeof Ia[Ub]||(ua[Ub]&&Ia[Ub]&&"object"===typeof ua[Ub]&&"object"===typeof Ia[Ub]&&!se(ua[Ub])&&!se(Ia[Ub])?og(ua[Ub],Ia[Ub]):Ia[Ub]&&"object"===typeof Ia[Ub]?(ua[Ub]=se(Ia[Ub])?[]:{},og(ua[Ub],Ia[Ub])):ua[Ub]=Ia[Ub])},oi=function(ua){if(ua&&!/^\s+$/.test(ua)){for(;0==ua.charCodeAt(ua.length-1);)ua=ua.substring(0,ua.length-
1);try{var Ia=window.JSON.parse(ua)}catch(jb){}if("object"===typeof Ia)return Ia;try{Ia=(new Function("return ("+ua+"\n)"))()}catch(jb){}if("object"===typeof Ia)return Ia;try{Ia=(new Function("return ({"+ua+"\n})"))()}catch(jb){}return"object"===typeof Ia?Ia:{}}},gg=function(ua,Ia){var jb={___goc:void 0};ua.length&&ua[ua.length-1]&&Object.hasOwnProperty.call(ua[ua.length-1],"___goc")&&"undefined"===typeof ua[ua.length-1].___goc&&(jb=ua.pop());og(jb,Ia);ua.push(jb)},ul=function(ua){ff(!0);var Ia=window.___gcfg,
jb=Pf("cu"),Ub=window.___gu;Ia&&Ia!==Ub&&(gg(jb,Ia),window.___gu=Ia);Ia=Pf("cu");var Ec=document.scripts||document.getElementsByTagName("script")||[];Ub=[];var Mc=[];Mc.push.apply(Mc,Pf("us"));for(var Id=0;Id<Ec.length;++Id)for(var Oe=Ec[Id],Ve=0;Ve<Mc.length;++Ve)Oe.src&&0==Oe.src.indexOf(Mc[Ve])&&Ub.push(Oe);0==Ub.length&&0<Ec.length&&Ec[Ec.length-1].src&&Ub.push(Ec[Ec.length-1]);for(Ec=0;Ec<Ub.length;++Ec)Ub[Ec].getAttribute("gapi_processed")||(Ub[Ec].setAttribute("gapi_processed",!0),(Mc=Ub[Ec])?
(Id=Mc.nodeType,Mc=3==Id||4==Id?Mc.nodeValue:Mc.textContent||""):Mc=void 0,(Mc=oi(Mc))&&Ia.push(Mc));ua&&gg(jb,ua);Ub=Pf("cd");ua=0;for(Ia=Ub.length;ua<Ia;++ua)og(ff(),Ub[ua],!0);Ub=Pf("ci");ua=0;for(Ia=Ub.length;ua<Ia;++ua)og(ff(),Ub[ua],!0);ua=0;for(Ia=jb.length;ua<Ia;++ua)og(ff(),jb[ua],!0)},dj=function(ua){var Ia=ff();if(!ua)return Ia;ua=ua.split("/");for(var jb=0,Ub=ua.length;Ia&&"object"===typeof Ia&&jb<Ub;++jb)Ia=Ia[ua[jb]];return jb===ua.length&&void 0!==Ia?Ia:void 0},ej=function(ua,Ia){var jb;
if("string"===typeof ua){var Ub=jb={};ua=ua.split("/");for(var Ec=0,Mc=ua.length;Ec<Mc-1;++Ec)Ub=Ub[ua[Ec]]={};Ub[ua[Ec]]=Ia}else jb=ua;ul(jb)},qe=function(){var ua=window.__GOOGLEAPIS;ua&&(ua.googleapis&&!ua["googleapis.config"]&&(ua["googleapis.config"]=ua.googleapis),xf(Rf,"ci",[]).push(ua),window.__GOOGLEAPIS=void 0)},Gg={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},Hj=!1,ak=Hd(),Tn=function(){if(!Hj){for(var ua=document.getElementsByTagName("meta"),
Ia=0;Ia<ua.length;++Ia){var jb=ua[Ia].name.toLowerCase();if(0==jb.lastIndexOf("google-signin-",0)){jb=jb.substring(14);var Ub=ua[Ia].content;Gg[jb]&&Ub&&(ak[jb]=Ub)}}if(window.self!==window.top){ua=document.location.toString();for(var Ec in Gg)0<Gg[Ec]&&(Ia=Zj(ua,Ec,""))&&(ak[Ec]=Ia)}Hj=!0}Ec=Hd();fg(ak,Ec);return Ec},Eo=function(ua){return!!(ua.clientid&&ua.scope&&ua.callback)},Cf=function(){this.i=window.console};Cf.prototype.log=function(ua){this.i&&this.i.log&&this.i.log(ua)};Cf.prototype.error=
function(ua){this.i&&(this.i.error?this.i.error(ua):this.i.log&&this.i.log(ua))};Cf.prototype.warn=function(ua){this.i&&(this.i.warn?this.i.warn(ua):this.i.log&&this.i.log(ua))};Cf.prototype.debug=function(){};var vj=new Cf,Uf=function(){return!!Rf.oa},uh=function(){},vh=xf(Rf,"rw",Hd()),tm=function(ua){for(var Ia in vh)ua(vh[Ia])},gt=function(ua,Ia){(ua=vh[ua])&&ua.state<Ia&&(ua.state=Ia)},Un=function(ua){var Ia=window.___jsl=window.___jsl||{};Ia.cfg=Ia.cfg||{};Ia=Ia.cfg;if(!ua)return Ia;ua=ua.split("/");
for(var jb=0,Ub=ua.length;Ia&&"object"===typeof Ia&&jb<Ub;++jb)Ia=Ia[ua[jb]];return jb===ua.length&&void 0!==Ia?Ia:void 0},tx=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,ux=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,Yu=function(ua){var Ia=Un("googleapis.config/sessionIndex");"string"===typeof Ia&&254<Ia.length&&(Ia=null);null==Ia&&(Ia=window.__X_GOOG_AUTHUSER);"string"===typeof Ia&&254<Ia.length&&(Ia=null);if(null==Ia){var jb=
window.google;jb&&(Ia=jb.authuser)}"string"===typeof Ia&&254<Ia.length&&(Ia=null);null==Ia&&(ua=ua||window.location.href,Ia=Zj(ua,"authuser")||null,null==Ia&&(Ia=(Ia=ua.match(tx))?Ia[1]:null));if(null==Ia)return null;Ia=String(Ia);254<Ia.length&&(Ia=null);return Ia},Zu=function(ua){var Ia=Un("googleapis.config/sessionDelegate");"string"===typeof Ia&&21<Ia.length&&(Ia=null);null==Ia&&(Ia=(ua=(ua||window.location.href).match(ux))?ua[1]:null);if(null==Ia)return null;Ia=String(Ia);21<Ia.length&&(Ia=null);
return Ia},Tr,Kp,Lp=void 0,Vn=function(ua){try{return Qa.JSON.parse.call(Qa.JSON,ua)}catch(Ia){return!1}},un=function(ua){return Object.prototype.toString.call(ua)},Ur=un(0),$u=un(new Date(0)),av=un(!0),bv=un(""),vx=un({}),cv=un([]),Mp=function(ua,Ia){if(Ia)for(var jb=0,Ub=Ia.length;jb<Ub;++jb)if(ua===Ia[jb])throw new TypeError("Converting circular structure to JSON");Ub=typeof ua;if("undefined"!==Ub){jb=Array.prototype.slice.call(Ia||[],0);jb[jb.length]=ua;Ia=[];var Ec=un(ua);if(null!=ua&&"function"===
typeof ua.toJSON&&(Object.prototype.hasOwnProperty.call(ua,"toJSON")||(Ec!==cv||ua.constructor!==Array&&ua.constructor!==Object)&&(Ec!==vx||ua.constructor!==Array&&ua.constructor!==Object)&&Ec!==bv&&Ec!==Ur&&Ec!==av&&Ec!==$u))return Mp(ua.toJSON.call(ua),jb);if(null==ua)Ia[Ia.length]="null";else if(Ec===Ur)ua=Number(ua),isNaN(ua)||isNaN(ua-ua)?ua="null":-0===ua&&0>1/ua&&(ua="-0"),Ia[Ia.length]=String(ua);else if(Ec===av)Ia[Ia.length]=String(!!Number(ua));else{if(Ec===$u)return Mp(ua.toISOString.call(ua),
jb);if(Ec===cv&&un(ua.length)===Ur){Ia[Ia.length]="[";var Mc=0;for(Ub=Number(ua.length)>>0;Mc<Ub;++Mc)Mc&&(Ia[Ia.length]=","),Ia[Ia.length]=Mp(ua[Mc],jb)||"null";Ia[Ia.length]="]"}else if(Ec==bv&&un(ua.length)===Ur){Ia[Ia.length]='"';Mc=0;for(jb=Number(ua.length)>>0;Mc<jb;++Mc)Ub=String.prototype.charAt.call(ua,Mc),Ec=String.prototype.charCodeAt.call(ua,Mc),Ia[Ia.length]="\b"===Ub?"\\b":"\f"===Ub?"\\f":"\n"===Ub?"\\n":"\r"===Ub?"\\r":"\t"===Ub?"\\t":"\\"===Ub||'"'===Ub?"\\"+Ub:31>=Ec?"\\u"+(Ec+65536).toString(16).substr(1):
32<=Ec&&65535>=Ec?Ub:"\ufffd";Ia[Ia.length]='"'}else if("object"===Ub){Ia[Ia.length]="{";Ub=0;for(Mc in ua)Object.prototype.hasOwnProperty.call(ua,Mc)&&(Ec=Mp(ua[Mc],jb),void 0!==Ec&&(Ub++&&(Ia[Ia.length]=","),Ia[Ia.length]=Mp(Mc),Ia[Ia.length]=":",Ia[Ia.length]=Ec));Ia[Ia.length]="}"}else return}return Ia.join("")}},wx=/[\0-\x07\x0b\x0e-\x1f]/,xx=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,yx=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,zx=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,
Ax=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,Bx=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,Cx=/[ \t\n\r]+/g,Dx=/[^"]:/,Ex=/""/g,Fx=/true|false|null/g,Gx=/00/,Hx=/[\{]([^0\}]|0[^:])/,Ix=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,Jx=/[^\[,:][\[\{]/,Kx=/^(\{|\}|\[|\]|,|:|0)+/,Lx=/\u2028/g,Mx=/\u2029/g,Nx=function(ua){ua=String(ua);if(wx.test(ua)||xx.test(ua)||yx.test(ua)||zx.test(ua))return!1;var Ia=ua.replace(Ax,'""');Ia=Ia.replace(Bx,"0");Ia=Ia.replace(Cx,"");if(Dx.test(Ia))return!1;Ia=Ia.replace(Ex,
"0");Ia=Ia.replace(Fx,"0");if(Gx.test(Ia)||Hx.test(Ia)||Ix.test(Ia)||Jx.test(Ia)||!Ia||Ia.replace(Kx,""))return!1;ua=ua.replace(Lx,"\\u2028").replace(Mx,"\\u2029");Ia=void 0;try{Ia=Lp?[Vn(ua)]:eval("(function (var_args) {\n  return Array.prototype.slice.call(arguments, 0);\n})(\n"+ua+"\n)")}catch(jb){return!1}return Ia&&1===Ia.length?Ia[0]:!1},dv=function(){var ua=((Qa.document||{}).scripts||[]).length;if((void 0===Tr||void 0===Lp||Kp!==ua)&&-1!==Kp){Tr=Lp=!1;Kp=-1;try{try{Lp=!!Qa.JSON&&'{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'===
Qa.JSON.stringify.call(Qa.JSON,{a:[3,!0,new Date(0)],c:function(){}})&&!0===Vn("true")&&3===Vn('[{"a":3}]')[0].a}catch(Ia){}Tr=Lp&&!Vn("[00]")&&!Vn('"\u0007"')&&!Vn('"\\0"')&&!Vn('"\\v"')}finally{Kp=ua}}},ev=function(ua){if(-1===Kp)return!1;dv();return(Tr?Vn:Nx)(ua)},fv=function(ua){if(-1!==Kp)return dv(),Lp?Qa.JSON.stringify.call(Qa.JSON,ua):Mp(ua)},Ox=!Date.prototype.toISOString||"function"!==typeof Date.prototype.toISOString||"1970-01-01T00:00:00.000Z"!==(new Date(0)).toISOString(),Px=function(){var ua=
Date.prototype.getUTCFullYear.call(this);return[0>ua?"-"+String(1E6-ua).substr(1):9999>=ua?String(1E4+ua).substr(1):"+"+String(1E6+ua).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1E3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),
"Z"].join("")};Date.prototype.toISOString=Ox?Px:Date.prototype.toISOString;var Lq=function(){this.blockSize=64;this.g=[];this.L=[];this.ea=[];this.H=[];this.H[0]=128;for(var ua=1;ua<this.blockSize;++ua)this.H[ua]=0;this.J=this.v=0;this.reset()};eb(Lq,function(){this.blockSize=-1});Lq.prototype.reset=function(){this.g[0]=1732584193;this.g[1]=4023233417;this.g[2]=2562383102;this.g[3]=271733878;this.g[4]=3285377520;this.J=this.v=0};var Vr=function(ua,Ia,jb){jb||(jb=0);var Ub=ua.ea;if("string"===typeof Ia)for(var Ec=
0;16>Ec;Ec++)Ub[Ec]=Ia.charCodeAt(jb)<<24|Ia.charCodeAt(jb+1)<<16|Ia.charCodeAt(jb+2)<<8|Ia.charCodeAt(jb+3),jb+=4;else for(Ec=0;16>Ec;Ec++)Ub[Ec]=Ia[jb]<<24|Ia[jb+1]<<16|Ia[jb+2]<<8|Ia[jb+3],jb+=4;for(Ec=16;80>Ec;Ec++){var Mc=Ub[Ec-3]^Ub[Ec-8]^Ub[Ec-14]^Ub[Ec-16];Ub[Ec]=(Mc<<1|Mc>>>31)&4294967295}Ia=ua.g[0];jb=ua.g[1];var Id=ua.g[2],Oe=ua.g[3],Ve=ua.g[4];for(Ec=0;80>Ec;Ec++){if(40>Ec)if(20>Ec){Mc=Oe^jb&(Id^Oe);var Re=1518500249}else Mc=jb^Id^Oe,Re=1859775393;else 60>Ec?(Mc=jb&Id|Oe&(jb|Id),Re=2400959708):
(Mc=jb^Id^Oe,Re=3395469782);Mc=(Ia<<5|Ia>>>27)+Mc+Ve+Re+Ub[Ec]&4294967295;Ve=Oe;Oe=Id;Id=(jb<<30|jb>>>2)&4294967295;jb=Ia;Ia=Mc}ua.g[0]=ua.g[0]+Ia&4294967295;ua.g[1]=ua.g[1]+jb&4294967295;ua.g[2]=ua.g[2]+Id&4294967295;ua.g[3]=ua.g[3]+Oe&4294967295;ua.g[4]=ua.g[4]+Ve&4294967295};Lq.prototype.update=function(ua,Ia){if(null!=ua){void 0===Ia&&(Ia=ua.length);for(var jb=Ia-this.blockSize,Ub=0,Ec=this.L,Mc=this.v;Ub<Ia;){if(0==Mc)for(;Ub<=jb;)Vr(this,ua,Ub),Ub+=this.blockSize;if("string"===typeof ua)for(;Ub<
Ia;){if(Ec[Mc]=ua.charCodeAt(Ub),++Mc,++Ub,Mc==this.blockSize){Vr(this,Ec);Mc=0;break}}else for(;Ub<Ia;)if(Ec[Mc]=ua[Ub],++Mc,++Ub,Mc==this.blockSize){Vr(this,Ec);Mc=0;break}}this.v=Mc;this.J+=Ia}};Lq.prototype.digest=function(){var ua=[],Ia=8*this.J;56>this.v?this.update(this.H,56-this.v):this.update(this.H,this.blockSize-(this.v-56));for(var jb=this.blockSize-1;56<=jb;jb--)this.L[jb]=Ia&255,Ia/=256;Vr(this,this.L);for(jb=Ia=0;5>jb;jb++)for(var Ub=24;0<=Ub;Ub-=8)ua[Ia]=this.g[jb]>>Ub&255,++Ia;return ua};
var gv=function(){this.R=new Lq};gv.prototype.reset=function(){this.R.reset()};var ht=Wf.crypto,hv=!1,Wr=0,Qx=0,it=1,xg=0,jt="",Rx=function(ua){ua=ua||Wf.event;var Ia=ua.screenX+ua.clientX<<16;Ia+=ua.screenY+ua.clientY;Ia*=(new Date).getTime()%1E6;it=it*Ia%xg;0<Wr&&++Qx==Wr&&xk("mousemove",Rx,"remove","de")},Sx=function(ua){var Ia=new gv;ua=unescape(encodeURIComponent(ua));for(var jb=[],Ub=0,Ec=ua.length;Ub<Ec;++Ub)jb.push(ua.charCodeAt(Ub));Ia.R.update(jb);Ia=Ia.R.digest();ua="";for(jb=0;jb<Ia.length;jb++)ua+=
"0123456789ABCDEF".charAt(Math.floor(Ia[jb]/16))+"0123456789ABCDEF".charAt(Ia[jb]%16);return ua};(hv=!!ht&&"function"==typeof ht.getRandomValues)||(xg=1E6*(screen.width*screen.width+screen.height),jt=Sx(wf.cookie+"|"+wf.location+"|"+(new Date).getTime()+"|"+Math.random()),Wr=Un("random/maxObserveMousemove")||0,0!=Wr&&xk("mousemove",Rx,"add","at"));var Tx=function(){var ua=Rf.onl;if(!ua){ua=Hd();Rf.onl=ua;var Ia=Hd();ua.e=function(jb){var Ub=Ia[jb];Ub&&(delete Ia[jb],Ub())};ua.a=function(jb,Ub){Ia[jb]=
Ub};ua.r=function(jb){delete Ia[jb]}}return ua},iv=function(ua,Ia){Ia=Ia.onload;return"function"===typeof Ia?(Tx().a(ua,Ia),Ia):null},XA=function(ua){bl(/^\w+$/.test(ua),"Unsupported id - "+ua);return'onload="window.___jsl.onl.e(&#34;'+ua+'&#34;)"'},YA=function(ua){Tx().r(ua)},ZA={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},TE={allowtransparency:!0,onload:!0},$A=0,aB=function(ua){bl(!ua||Ym.test(ua),
"Illegal url for new iframe - "+ua)},jv=function(ua,Ia,jb,Ub,Ec){aB(jb.src);var Mc,Id=iv(Ub,jb),Oe=Id?XA(Ub):"";try{document.all&&(Mc=ua.createElement('<iframe frameborder="'+ee(String(jb.frameborder))+'" scrolling="'+ee(String(jb.scrolling))+'" '+Oe+' name="'+ee(String(jb.name))+'"/>'))}catch(Re){}finally{Mc||(Mc=(ua?new cg(Gf(ua)):pd||(pd=new cg)).ga("IFRAME"),Id&&(Mc.onload=function(){Mc.onload=null;Id.call(this)},YA(Ub)))}Mc.setAttribute("ng-non-bindable","");for(var Ve in jb)ua=jb[Ve],"style"===
Ve&&"object"===typeof ua?fg(ua,Mc.style):TE[Ve]||Mc.setAttribute(Ve,String(ua));(Ve=Ec&&Ec.beforeNode||null)||Ec&&Ec.dontclear||rn(Ia);Ia.insertBefore(Mc,Ve);Mc=Ve?Ve.previousSibling:Ia.lastChild;jb.allowtransparency&&(Mc.allowTransparency=!0);return Mc},gh=/^:[\w]+$/,kv=/:([a-zA-Z_]+):/g,kt=function(){var ua=Yu()||"0",Ia=Zu(),jb=Yu(void 0)||ua,Ub=Zu(void 0),Ec="";jb&&(Ec+="u/"+encodeURIComponent(String(jb))+"/");Ub&&(Ec+="b/"+encodeURIComponent(String(Ub))+"/");jb=Ec||null;(Ec=(Ub=!1===Un("isLoggedIn"))?
"_/im/":"")&&(jb="");var Mc=Un("iframes/:socialhost:"),Id=Un("iframes/:im_socialhost:");return{socialhost:Mc,ctx_socialhost:Ub?Id:Mc,session_index:ua,session_delegate:Ia,session_prefix:jb,im_prefix:Ec}},Ux=function(ua,Ia){return kt()[Ia]||""},Vx=function(ua){return function(Ia,jb){return ua?kt()[jb]||ua[jb]||"":kt()[jb]||""}},lt=function(ua){var Ia;ua.match(/^https?%3A/i)&&(Ia=decodeURIComponent(ua));return Tl(document,Ia?Ia:ua)},mt=function(ua){ua=ua||"canonical";for(var Ia=document.getElementsByTagName("link"),
jb=0,Ub=Ia.length;jb<Ub;jb++){var Ec=Ia[jb],Mc=Ec.getAttribute("rel");if(Mc&&Mc.toLowerCase()==ua&&(Ec=Ec.getAttribute("href"))&&(Ec=lt(Ec))&&null!=Ec.match(/^https?:\/\/[\w\-_\.]+/i))return Ec}return window.location.href},nt={se:"0"},Wx={post:!0},Xx={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Yx="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),ot=xf(Rf,"WI",Hd()),lv=function(ua,Ia,jb){var Ub,Ec={},Mc=Ub=ua;"plus"==
ua&&Ia.action&&(Ub=ua+"_"+Ia.action,Mc=ua+"/"+Ia.action);(Ub=dj("iframes/"+Ub+"/url"))||(Ub=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+Mc+"?usegapi=1");for(var Id in nt)Ec[Id]=Id+"/"+(Ia[Id]||nt[Id])+"/";Ec=Tl(wf,Ub.replace(kv,Vx(Ec)));Id="iframes/"+ua+"/params/";Mc={};fg(Ia,Mc);(Ub=dj("lang")||dj("gwidget/lang"))&&(Mc.hl=Ub);Wx[ua]||(Mc.origin=window.location.origin||window.location.protocol+"//"+window.location.host);Mc.exp=dj(Id+"exp");if(Id=dj(Id+"location"))for(Ub=0;Ub<Id.length;Ub++){var Oe=
Id[Ub];Mc[Oe]=Wf.location[Oe]}switch(ua){case "plus":case "follow":Id=Mc.href;Ub=Ia.action?void 0:"publisher";Id=(Id="string"==typeof Id?Id:void 0)?lt(Id):mt(Ub);Mc.url=Id;delete Mc.href;break;case "plusone":Id=(Id=Ia.href)?lt(Id):mt();Mc.url=Id;Id=Ia.db;Ub=dj();null==Id&&Ub&&(Id=Ub.db,null==Id&&(Id=Ub.gwidget&&Ub.gwidget.db));Mc.db=Id||void 0;Id=Ia.ecp;Ub=dj();null==Id&&Ub&&(Id=Ub.ecp,null==Id&&(Id=Ub.gwidget&&Ub.gwidget.ecp));Mc.ecp=Id||void 0;delete Mc.href;break;case "signin":Mc.url=mt()}Rf.ILI&&
(Mc.iloader="1");delete Mc["data-onload"];delete Mc.rd;for(var Ve in nt)Mc[Ve]&&delete Mc[Ve];Mc.gsrc=dj("iframes/:source:");Ve=dj("inline/css");"undefined"!==typeof Ve&&0<jb&&Ve>=jb&&(Mc.ic="1");Ve=/^#|^fr-/;jb={};for(var Re in Mc)rf(Mc,Re)&&Ve.test(Re)&&(jb[Re.replace(Ve,"")]=Mc[Re],delete Mc[Re]);Re="q"==dj("iframes/"+ua+"/params/si")?Mc:jb;Ve=Tn();for(var Df in Ve)!rf(Ve,Df)||rf(Mc,Df)||rf(jb,Df)||(Re[Df]=Ve[Df]);Df=[].concat(Yx);(Re=dj("iframes/"+ua+"/methods"))&&"object"===typeof Re&&Og.test(Re.push)&&
(Df=Df.concat(Re));for(var Di in Ia)rf(Ia,Di)&&/^on/.test(Di)&&("plus"!=ua||"onconnect"!=Di)&&(Df.push(Di),delete Mc[Di]);delete Mc.callback;jb._methods=Df.join(",");return Ui(Ec,Mc,jb)},Zx=["style","data-gapiscan"],mv=function(ua){for(var Ia=Hd(),jb=0!=ua.nodeName.toLowerCase().indexOf("g:"),Ub=0,Ec=ua.attributes.length;Ub<Ec;Ub++){var Mc=ua.attributes[Ub],Id=Mc.name,Oe=Mc.value;0<=dg.call(Zx,Id)||jb&&0!=Id.indexOf("data-")||"null"===Oe||"specified"in Mc&&!Mc.specified||(jb&&(Id=Id.substr(5)),Ia[Id.toLowerCase()]=
Oe)}ua=ua.style;(jb=nv(ua&&ua.height))&&(Ia.height=String(jb));(ua=nv(ua&&ua.width))&&(Ia.width=String(ua));return Ia},nv=function(ua){var Ia=void 0;"number"===typeof ua?Ia=ua:"string"===typeof ua&&(Ia=parseInt(ua,10));return Ia},$x=function(){var ua=Rf.drw;tm(function(Ia){if(ua!==Ia.id&&4!=Ia.state&&"share"!=Ia.type){var jb=Ia.id,Ub=Ia.type,Ec=Ia.url;Ia=Ia.userParams;var Mc=wf.getElementById(jb);if(Mc){var Id=lv(Ub,Ia,0);Id?(Mc=Mc.parentNode,Ec.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==Id.replace(/#.*/,
"").replace(/(\?|&)ic=1/,"")&&(Ia.dontclear=!0,Ia.rd=!0,Ia.ri=!0,Ia.type=Ub,st(Mc,Ia),(Ub=vh[Mc.lastChild.id])&&(Ub.oid=jb),gt(jb,4))):delete vh[jb]}else delete vh[jb]}})},ay=/(?:^|\s)g-((\S)*)(?:$|\s)/,by={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};var Xr=xf(Rf,"SW",Hd());var Yr=xf(Rf,"SA",Hd());var Mq=xf(Rf,"SM",Hd());var pt=xf(Rf,"FW",[]);var ov=null;var pv=function(ua,Ia){qv(void 0,!1,ua,Ia)},qv=function(ua,Ia,jb,Ub){Th("ps0",!0);jb=("string"===typeof jb?document.getElementById(jb):
jb)||wf;var Ec=wf.documentMode;if(jb.querySelectorAll&&(!Ec||8<Ec)){Ec=Ub?[Ub]:$f(Xr).concat($f(Yr)).concat($f(Mq));for(var Mc=[],Id=0;Id<Ec.length;Id++){var Oe=Ec[Id];Mc.push(".g-"+Oe,"g\\:"+Oe)}Ec=jb.querySelectorAll(Mc.join(","))}else Ec=jb.getElementsByTagName("*");jb=Hd();for(Mc=0;Mc<Ec.length;Mc++){var Ve=Id=Ec[Mc];Oe=Ub;var Re=Ve.nodeName.toLowerCase(),Df=void 0;if(Ve.getAttribute("data-gapiscan"))Oe=null;else{var Di=Re.indexOf("g:");0==Di?Df=Re.substr(2):(Di=(Di=String(Ve.className||Ve.getAttribute("class")))&&
ay.exec(Di))&&(Df=Di[1]);Oe=!Df||!(Xr[Df]||Yr[Df]||Mq[Df])||Oe&&Df!==Oe?null:Df}Oe&&(by[Oe]||0==Id.nodeName.toLowerCase().indexOf("g:")||0!=$f(mv(Id)).length)&&(Id.setAttribute("data-gapiscan",!0),xf(jb,Oe,[]).push(Id))}if(Ia)for(var pi in jb)for(Ia=jb[pi],Ub=0;Ub<Ia.length;Ub++)Ia[Ub].setAttribute("data-onload",!0);for(var Hg in jb)pt.push(Hg);Th("ps1",!0);if((pi=pt.join(":"))||ua)try{Oj.load(pi,ua)}catch(rk){vj.log(rk);return}if(rv(ov||{}))for(var Ij in jb){ua=jb[Ij];Hg=0;for(Ia=ua.length;Hg<Ia;Hg++)ua[Hg].removeAttribute("data-gapiscan");
qt(Ij)}else{Ub=[];for(Ij in jb)for(ua=jb[Ij],Hg=0,Ia=ua.length;Hg<Ia;Hg++)Ec=ua[Hg],sv(Ij,Ec,mv(Ec),Ub,Ia);rt(pi,Ub)}},cy=function(ua){var Ia=xf(Oj,ua,{});Ia.go||(Ia.go=function(jb){return pv(jb,ua)},Ia.render=function(jb,Ub){Ub=Ub||{};Ub.type=ua;return st(jb,Ub)})},dy=function(ua){Xr[ua]=!0},ey=function(ua){Yr[ua]=!0},fy=function(ua){Mq[ua]=!0},qt=function(ua,Ia){var jb=Sn(ua);Ia&&jb?(jb(Ia),(jb=Ia.iframeNode)&&jb.setAttribute("data-gapiattached",!0)):Oj.load(ua,function(){var Ub=Sn(ua),Ec=Ia&&Ia.iframeNode,
Mc=Ia&&Ia.userParams;Ec&&Ub?(Ub(Ia),Ec.setAttribute("data-gapiattached",!0)):(Ub=Oj[ua].go,"signin2"==ua?Ub(Ec,Mc):Ub(Ec&&Ec.parentNode,Mc))})},rv=function(){return!1},rt=function(){},sv=function(ua,Ia,jb,Ub,Ec,Mc,Id){switch(gy(Ia,ua,Mc)){case 0:ua=Mq[ua]?ua+"_annotation":ua;Ub={};Ub.iframeNode=Ia;Ub.userParams=jb;qt(ua,Ub);break;case 1:if(Ia.parentNode){for(var Oe in jb){if(Mc=rf(jb,Oe))Mc=jb[Oe],Mc=!!Mc&&"object"===typeof Mc&&(!Mc.toString||Mc.toString===Object.prototype.toString||Mc.toString===
Array.prototype.toString);if(Mc)try{jb[Oe]=fv(jb[Oe])}catch(vm){delete jb[Oe]}}Mc=!0;jb.dontclear&&(Mc=!1);delete jb.dontclear;uh();Oe=lv(ua,jb,Ec);Ec=Id||{};Ec.allowPost=1;Ec.attributes=Xx;Ec.dontclear=!Mc;Id={};Id.userParams=jb;Id.url=Oe;Id.type=ua;if(jb.rd)var Ve=Ia;else Ve=document.createElement("div"),Ia.setAttribute("data-gapistub",!0),Ve.style.cssText="position:absolute;width:450px;left:-10000px;",Ia.parentNode.insertBefore(Ve,Ia);Id.siteElement=Ve;Ve.id||(Ia=Ve,xf(ot,ua,0),Mc="___"+ua+"_"+
ot[ua]++,Ia.id=Mc);Ia=Hd();Ia[">type"]=ua;fg(jb,Ia);Mc=Oe;jb=Ve;Oe=Ec||{};Ia=Oe.attributes||{};bl(!(Oe.allowPost||Oe.forcePost)||!Ia.onload,"onload is not supported by post iframe (allowPost or forcePost)");Ec=Ia=Mc;gh.test(Ia)&&(Ec=Un("iframes/"+Ec.substring(1)+"/url"),bl(!!Ec,"Unknown iframe url config for - "+Ia));Mc=Tl(wf,Ec.replace(kv,Ux));Ia=jb.ownerDocument||wf;Ec=Oe;var Re=0;do Ve=Ec.id||["I",$A++,"_",(new Date).getTime()].join("");while(Ia.getElementById(Ve)&&5>++Re);bl(5>Re,"Error creating iframe id");
Ec=Ve;Ve=Oe;Re={};var Df={};Ia.documentMode&&9>Ia.documentMode&&(Re.hostiemode=Ia.documentMode);fg(Ve.queryParams||{},Re);fg(Ve.fragmentParams||{},Df);var Di=Ve.pfname,pi=Hd();Un("iframes/dropLegacyIdParam")||(pi.id=Ec);pi._gfid=Ec;pi.parent=Ia.location.protocol+"//"+Ia.location.host;var Hg=Zj(Ia.location.href,"parent");Di=Di||"";!Di&&Hg&&(Hg=Zj(Ia.location.href,"_gfid","")||Zj(Ia.location.href,"id",""),Di=Zj(Ia.location.href,"pfname",""),Di=Hg?Di+"/"+Hg:"");Di||(Hg=ev(Zj(Ia.location.href,"jcp","")))&&
"object"==typeof Hg&&(Di=(Di=Hg.id)?Hg.pfname+"/"+Di:"");pi.pfname=Di;Ve.connectWithJsonParam&&(Hg={},Hg.jcp=fv(pi),pi=Hg);Hg=Zj(Mc,"rpctoken")||Re.rpctoken||Df.rpctoken;if(!Hg){if(!(Hg=Ve.rpctoken)){Hg=String;Di=Math;var Ij=Di.round;if(hv){var rk=new Wf.Uint32Array(1);ht.getRandomValues(rk);rk=Number("0."+rk[0])}else rk=it,rk+=parseInt(jt.substr(0,20),16),jt=Sx(jt),rk/=xg+Math.pow(16,20);Hg=Hg(Ij.call(Di,1E8*rk))}pi.rpctoken=Hg}Ve.rpctoken=Hg;fg(pi,Ve.connectWithQueryParams?Re:Df);Hg=Ia.location.href;
pi=Hd();(Di=Zj(Hg,"_bsh",Rf.bsh))&&(pi._bsh=Di);(Hg=tl(Hg))&&(pi.jsh=Hg);Ve.hintInFragment?fg(pi,Df):fg(pi,Re);Re=Ui(Mc,Re,Df,Ve.paramsSerializer);Mc=Oe;Df=Hd();fg(ZA,Df);fg(Mc.attributes,Df);Df.name=Df.id=Ec;Df.src=Re;Oe.eurl=Re;Oe=(Ve=Oe)||{};Mc=!!Oe.allowPost;if(Oe.forcePost||Mc&&2E3<Re.length){Mc=hi(Re);Df.src="";Ve.dropDataPostorigin||(Df["data-postorigin"]=Re);Oe=jv(Ia,jb,Df,Ec);if(-1!=navigator.userAgent.indexOf("WebKit")){var Ei=Oe.contentWindow.document;Ei.open();Re=Ei.createElement("div");
Df={};pi=Ec+"_inner";Df.name=pi;Df.src="";Df.style="display:none";jv(Ia,Re,Df,pi,Ve)}Re=(Ve=Mc.query[0])?Ve.split("&"):[];Ve=[];for(Df=0;Df<Re.length;Df++)pi=Re[Df].split("=",2),Ve.push([decodeURIComponent(pi[0]),decodeURIComponent(pi[1])]);Mc.query=[];Re=cl(Mc);bl(Ym.test(Re),"Invalid URL: "+Re);Mc=Ia.createElement("form");Mc.method="POST";Mc.target=Ec;Mc.style.display="none";Ec=Re instanceof Ce?Re:sf(Re);yd(Mc,"HTMLFormElement").action=Ke(Ec);for(Ec=0;Ec<Ve.length;Ec++)Re=Ia.createElement("input"),
Re.type="hidden",Re.name=Ve[Ec][0],Re.value=Ve[Ec][1],Mc.appendChild(Re);jb.appendChild(Mc);Mc.submit();Mc.parentNode.removeChild(Mc);Ei&&Ei.close();Ei=Oe}else Ei=jv(Ia,jb,Df,Ec,Ve);Id.iframeNode=Ei;Id.id=Ei.getAttribute("id");Ei=Id.id;jb=Hd();jb.id=Ei;jb.userParams=Id.userParams;jb.url=Id.url;jb.type=Id.type;jb.state=1;vh[Ei]=jb;Ei=Id}else Ei=null;Ei&&((Id=Ei.id)&&Ub.push(Id),qt(ua,Ei))}},gy=function(ua,Ia,jb){if(ua&&1===ua.nodeType&&Ia){if(jb)return 1;if(Mq[Ia]){if(Qn[ua.nodeName.toLowerCase()])return(ua=
ua.innerHTML)&&ua.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(Yr[Ia])return 0;if(Xr[Ia])return 1}}return null},st=function(ua,Ia){var jb=Ia.type;delete Ia.type;var Ub=("string"===typeof ua?document.getElementById(ua):ua)||void 0;if(Ub){ua={};for(var Ec in Ia)rf(Ia,Ec)&&(ua[Ec.toLowerCase()]=Ia[Ec]);ua.rd=1;(Ia=!!ua.ri)&&delete ua.ri;Ec=[];sv(jb,Ub,ua,Ec,0,Ia,void 0);rt(jb,Ec)}else vj.log("string"==="gapi."+jb+".render: missing element "+typeof ua?ua:"")};xf(Oj,"platform",{}).go=pv;rv=function(ua){for(var Ia=
["_c","jsl","h"],jb=0;jb<Ia.length&&ua;jb++)ua=ua[Ia[jb]];Ia=tl(th.href);return!ua||0!=ua.indexOf("n;")&&0!=Ia.indexOf("n;")&&ua!==Ia};rt=function(ua,Ia){hy(ua,Ia)};var tt=function(ua){qv(ua,!0)},Zr=function(ua,Ia){Ia=Ia||[];for(var jb=0;jb<Ia.length;++jb)ua(Ia[jb]);for(ua=0;ua<Ia.length;ua++)cy(Ia[ua])};K.push(["platform",function(ua,Ia,jb){ov=jb;Ia&&pt.push(Ia);Zr(dy,ua);Zr(ey,jb._c.annotation);Zr(fy,jb._c.bimodal);qe();ul();if("explicit"!=dj("parsetags")){Rn(ua);Eo(Tn())&&!dj("disableRealtimeCallback")&&
uh();if(jb&&(ua=jb.callback)){var Ub=sl(ua);delete jb.callback}Ip(function(){tt(Ub)})}}]);Oj._pl=!0;var ut=function(ua){if(ua=(ua=vh[ua])?ua.oid:void 0){var Ia=wf.getElementById(ua);Ia&&Ia.parentNode.removeChild(Ia);delete vh[ua];ut(ua)}},tv=/^\{h:'/,uv=/^!_/,vt="",hy=function(ua,Ia){function jb(){xk("message",Ub,"remove","de")}function Ub(Mc){var Id=Mc.data,Oe=Mc.origin;if(iy(Id,Ia)){var Ve=Ec;Ec=!1;Ve&&Th("rqe");jy(ua,function(){Ve&&Th("rqd");jb();for(var Re=xf(Rf,"RPMQ",[]),Df=0;Df<Re.length;Df++)Re[Df]({data:Id,
origin:Oe})})}}if(0!==Ia.length){vt=Zj(th.href,"pfname","");var Ec=!0;xk("message",Ub,"add","at");pf(ua,jb)}},iy=function(ua,Ia){ua=String(ua);if(tv.test(ua))return!0;var jb=!1;uv.test(ua)&&(jb=!0,ua=ua.substr(2));if(!/^\{/.test(ua))return!1;var Ub=ev(ua);if(!Ub)return!1;ua=Ub.f;if(Ub.s&&ua&&-1!=dg.call(Ia,ua)){if("_renderstart"===Ub.s||Ub.s===vt+"/"+ua+"::_renderstart")if(Ub=Ub.a&&Ub.a[jb?0:1],Ia=wf.getElementById(ua),gt(ua,2),Ub&&Ia&&Ub.width&&Ub.height){a:{jb=Ia.parentNode;ua=Ub||{};if(Uf()){var Ec=
Ia.id;if(Ec){Ub=(Ub=vh[Ec])?Ub.state:void 0;if(1===Ub||4===Ub)break a;ut(Ec)}}(Ub=jb.nextSibling)&&Ub.getAttribute&&Ub.getAttribute("data-gapistub")&&(jb.parentNode.removeChild(Ub),jb.style.cssText="");Ub=ua.width;var Mc=ua.height,Id=jb.style;Id.textIndent="0";Id.margin="0";Id.padding="0";Id.background="transparent";Id.borderStyle="none";Id.cssFloat="none";Id.styleFloat="none";Id.lineHeight="normal";Id.fontSize="1px";Id.verticalAlign="baseline";jb=jb.style;jb.display="inline-block";Id=Ia.style;Id.position=
"static";Id.left="0";Id.top="0";Id.visibility="visible";Ub&&(jb.width=Id.width=Ub+"px");Mc&&(jb.height=Id.height=Mc+"px");ua.verticalAlign&&(jb.verticalAlign=ua.verticalAlign);Ec&&gt(Ec,3)}Ia["data-csi-wdt"]=(new Date).getTime()}return!0}return!1},jy=function(ua,Ia){pf(ua,Ia)},Jm=function(ua,Ia){this.N=ua;ua=Ia||{};this.ha=Number(ua.maxAge)||0;this.W=ua.domain;this.Y=ua.path;this.ia=!!ua.secure};Jm.prototype.read=function(){for(var ua=this.N+"=",Ia=document.cookie.split(/;\s*/),jb=0;jb<Ia.length;++jb){var Ub=
Ia[jb];if(0==Ub.indexOf(ua))return Ub.substr(ua.length)}};Jm.prototype.write=function(ua,Ia){if(!ly.test(this.N))throw"Invalid cookie name";if(!ky.test(ua))throw"Invalid cookie value";ua=this.N+"="+ua;this.W&&(ua+=";domain="+this.W);this.Y&&(ua+=";path="+this.Y);Ia="number"===typeof Ia?Ia:this.ha;if(0<=Ia){var jb=new Date;jb.setSeconds(jb.getSeconds()+Ia);ua+=";expires="+jb.toUTCString()}this.ia&&(ua+=";secure");document.cookie=ua;return!0};Jm.prototype.clear=function(){this.write("",0)};var ky=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,
ly=/^[A-Z_][A-Z0-9_]{0,63}$/;Jm.iterate=function(ua){for(var Ia=document.cookie.split(/;\s*/),jb=0;jb<Ia.length;++jb){var Ub=Ia[jb].split("="),Ec=Ub.shift();ua(Ec,Ub.join("="))}};var Nq=function(ua){this.G=ua};Nq.prototype.read=function(){if(Np.hasOwnProperty(this.G))return Np[this.G]};Nq.prototype.write=function(ua){Np[this.G]=ua;return!0};Nq.prototype.clear=function(){delete Np[this.G]};var Np={};Nq.iterate=function(ua){for(var Ia in Np)Np.hasOwnProperty(Ia)&&ua(Ia,Np[Ia])};var vv="https:"===window.location.protocol,
wv=vv||"http:"===window.location.protocol?Jm:Nq,$r=function(ua){var Ia=ua.substr(1),jb="",Ub=window.location.hostname;if(""!==Ia){jb=parseInt(Ia,10);if(isNaN(jb))return null;Ia=Ub.split(".");if(Ia.length<jb-1)return null;Ia.length==jb-1&&(Ub="."+Ub)}else Ub="";return{l:"S"==ua.charAt(0),domain:Ub,o:jb}},my=function(){var ua,Ia=null;wv.iterate(function(jb,Ub){0===jb.indexOf("G_AUTHUSER_")&&(jb=$r(jb.substring(11)),!ua||jb.l&&!ua.l||jb.l==ua.l&&jb.o>ua.o)&&(ua=jb,Ia=Ub)});return{fa:ua,K:Ia}},as=function(ua){if(!ua)return[];
ua=ua.split("=");return ua[1]?ua[1].split("|"):[]},wt=function(ua){ua=ua.split(":");return{clientId:ua[0].split("=")[1],ka:as(ua[1]),na:as(ua[2]),ma:as(ua[3])}},ny=function(){var ua=my(),Ia=ua.fa;ua=ua.K;if(null!==ua){var jb;wv.iterate(function(Mc,Id){(Mc=qc(Mc))&&Mc.X&&Mc.l==Ia.l&&Mc.o==Ia.o&&(jb=Id)});if(jb){var Ub=wt(jb),Ec=Ub&&Ub.ka[Number(ua)];Ub=Ub&&Ub.clientId;if(Ec)return{K:ua,ja:Ec,clientId:Ub}}}return null},bB=function(){this.V=RN};ng=bB.prototype;ng.aa=function(){this.M||(this.A=0,this.M=
!0,this.Z())};ng.Z=function(){this.M&&(this.V()?this.A=this.T:this.A=Math.min(2*(this.A||this.T),120),window.setTimeout(Rb(this.Z,this),1E3*this.A))};ng.A=0;ng.T=2;ng.V=null;ng.M=!1;var oy=null;Uf=function(){return Rf.oa=!0};uh=function(){Rf.oa=!0;var ua=ny();(ua=ua&&ua.K)&&ej("googleapis.config/sessionIndex",ua);oy||(oy=xf(Rf,"ss",new bB));ua=oy;ua.aa&&ua.aa()};var RN=function(){var ua=ny(),Ia=ua&&ua.ja||null,jb=ua&&ua.clientId;pf("auth",{callback:function(){var Ub=Wf.gapi.auth,Ec={client_id:jb,
session_state:Ia};Ub.checkSessionState(Ec,function(Mc){var Id=Ec.session_state,Oe=!!dj("isLoggedIn");Mc=dj("debug/forceIm")?!1:Id&&Mc||!Id&&!Mc;if(Oe=Oe!==Mc)ej("isLoggedIn",Mc),uh(),$x(),Mc||((Mc=Ub.signOut)?Mc():(Mc=Ub.setToken)&&Mc(null));Mc=Tn();var Ve=dj("savedUserState");Id=Ub._guss(Mc.cookiepolicy);Ve=Ve!=Id&&"undefined"!=typeof Ve;ej("savedUserState",Id);(Oe||Ve)&&Eo(Mc)&&!dj("disableRealtimeCallback")&&Ub._pimf(Mc,!0)})}});return!0};Th("bs0",!0,window.gapi._bs);Th("bs1",!0);delete window.gapi._bs}).call(void 0);
vc.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!1}},inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},
csi:{rate:.01},client:{cors:!1},signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"en",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},
rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},
dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},
":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",
methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",
ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},
plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},
savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.en_US.UYHeVG_mX5s.O/am=AQ/d=1/rs=AGLTcCPDcESMLF74mIvk5CKxuCjzYIf5XA/m=__features__",u:"https://apis.google.com/js/platform.js",
hee:!0,dpo:!1,le:[]},platform:"additnow backdrop blogger comments commentcount community donation family_creation follow hangout health page partnersbadge person playemm playreview plus plusone post ratingbadge savetoandroidpay savetodrive savetowallet sharetoclassroom shortlists signin2 surveyoptin visibility youtube ytsubscribe zoomableimage".split(" "),annotation:["interactivepost","recobar","signin2","autocomplete","profile"]}});var ec=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js");
ec.notify=function(Bc,Ua){var hc,Eb,qc,Cc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Yc){switch(Yc.nextAddress){case 1:return hc=ec.morph({type:"text",textAlign:"center",textString:Ua,fill:null,padding:ec.Rectangle.inset(10),fontSize:30,fontColor:"white",fontWeight:"bold",readOnly:!0,grabbable:!1}),Eb=Math.max(Bc.width+40,hc.width),qc=Math.max(120,hc.height),Cc=Bc.addMorph({extent:ec.pt(Eb,qc),border:{radius:8},name:"notification",center:Bc.innerBounds().center(),origin:ec.pt(Eb/
2,qc/2),fill:ec.Color.gray,scale:.1,grabbable:!1,submorphs:[hc]}),Cc.submorphs[0].center=Cc.innerBounds().center().subPt(ec.pt(Eb/2,qc/2)),Yc.yield(Cc.animate({scale:1,duration:400}),2);case 2:return Yc.yield(ec.promise.delay(800),3);case 3:return Yc.yield(Cc.animate({opacity:0,duration:400}),4);case 4:Cc.remove(),Yc.jumpToEnd()}})};ec.promise=Vb;ec.fun=Dc;ec.arr=jc;ec.string=qd;ec.resource=id;ec.pt=Cd;ec.Rectangle=bd;ec.Color=Wc;ec.connect=Zc;ec.once=zd;ec.signal=me;ec.morph=te;ec.easings=Je;ec.touchInputDevice=
jd;ec.Icon=Zd;ec.config=gc;ec.Morph=$c;ec.Menu=Bd;ec.loadMorphFromSnapshot=fd;ec.createMorphSnapshot=Jd;ec.UserRegistry=fe;ec.ClientUser=Zb;ec.loadPart=Gc;ec.LoadingIndicator=xd;ec.gapi=_missingExportShim;ec.pathForBrowserHistory=Ic;ec.ObjectPackage=Mb;ec.interactivelyForkPackage=mb;ec.addScript=Ac;vc=Pa("UserUI",{getCurrentUser:function(){return ec.UserRegistry.current.loadUserFromLocalStorage(ec.config.users.authServerURL)},showUserFlap:function(Bc){Bc=void 0===Bc?$world:Bc;var Ua,hc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Eb){if(1==
Eb.nextAddress)return Eb.yield(ec.resource("part://SystemIDE/lively top bar master").read(),2);Ua=Eb.yieldResult;Ua.name="lively top bar";Ua.hasFixedPosition=!0;Ua.respondsToVisibleWindow=!0;Ua.openInWorld();Ua.relayout();Ua.top=-Ua.height;hc=Ua.dropShadow;Ua.dropShadow=null;Ua.attachToTarget(Bc);$world.onTopBarLoaded();Lb.import("./__root_module__-be0d56fe.js").then(function(qc){return qc.bR}).then(function(qc){var Cc,Yc,rd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(fc){switch(fc.nextAddress){case 1:return fc.yield(Ua.whenRendered(),
2);case 2:return fc.yield(Ua.animate({position:ec.pt(0,0),dropShadow:hc,duration:500}),3);case 3:if(Bc.metadata){fc.jumpTo(4);break}Bc.animate({customTween:function(xc){Ua.blur=Bc.blur=3*xc},duration:500});return fc.yield(Bc.askForName(),5);case 5:return Cc=fc.yieldResult,Bc.name=Cc,Bc.changeMetaData("commit",{name:Cc}),window.history&&window.history.pushState({},"lively.next",ec.pathForBrowserHistory(Cc)),Yc=ec.ObjectPackage.withId(ec.string.camelCaseString(Cc)),fc.yield(Yc.adoptObject(Bc),6);case 6:Bc.animate({customTween:function(xc){Ua.blur=
Bc.blur=3*(1-xc)},duration:500});case 4:return fc.yield(ec.resource("part://SystemUserUI/version checker").read(),7);case 7:rd=fc.yieldResult,rd.name="lively version checker",rd.openInWorld(),rd.relayout(),rd.checkVersion(),fc.jumpToEnd()}})});return Eb.return(Ua)})},hideUserFlap:function(Bc){Bc=void 0===Bc?$world:Bc;Bc.submorphs.filter(function(Ua){return"user flap"===Ua.name&&Ua.owner==Bc}).forEach(function(Ua){return Ua.remove()})},showWidget:function(Bc,Ua){Ua=void 0===Ua?{}:Ua;var hc=this,Eb,
qc,Cc,Yc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rd){if(1==rd.nextAddress)return Eb=Ua,qc=void 0===Eb.modal?!0:Eb.modal,Cc=void 0===Eb.user?hc.getCurrentUser():Eb.user,rd.yield(hc.loadMorph(Bc),2);Yc=rd.yieldResult;return rd.return(Yc.run(qc,Ua.world,Cc))})},showUserInfo:function(Bc){Bc=void 0===Bc?{}:Bc;var Ua=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(hc){return 1==hc.nextAddress?hc.yield(Ua.showWidget("user info",Bc),2):hc.return(hc.yieldResult)})},showLogin:function(Bc){Bc=
void 0===Bc?{}:Bc;var Ua=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(hc){return hc.return(Ua.showWidget("login widget",Bc))})},showRegister:function(Bc){Bc=void 0===Bc?{}:Bc;var Ua=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(hc){return hc.return(Ua.showWidget("register widget",Bc))})},loadMorph:function(Bc,Ua){var hc,Eb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qc){switch(qc.nextAddress){case 1:switch(Bc){case "login widget":return qc.jumpTo(2);
case "user info":return qc.jumpTo(3);case "register widget":return qc.jumpTo(4)}qc.jumpTo(5);break;case 2:return qc.yield(ec.resource("part://SystemUserUI/login widget").read(),6);case 6:return qc.return(qc.yieldResult);case 3:return qc.yield(ec.resource("part://SystemUserUI/user info").read(),7);case 7:return qc.return(qc.yieldResult);case 4:return qc.yield(ec.resource("part://SystemUserUI/register widget").read(),8);case 8:return qc.return(qc.yieldResult);case 5:return hc=System.decanonicalize("lively.user/morphic/"+
Bc+".json"),qc.yield(ec.resource(hc).readJson(),9);case 9:return Eb=qc.yieldResult,qc.return(ec.loadMorphFromSnapshot(Eb,Ua))}})}});ec.UserUI=vc;ec.UserUI=vc;ec.UserUI=vc;(function(Bc){var Ua=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),hc=Ua.hasOwnProperty("UserWidget")&&"function"===typeof Ua.UserWidget?Ua.UserWidget:Ua.UserWidget=function(Eb){Eb&&Eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ad(hc,
Bc,[{key:"run",value:function(Eb,qc,Cc){var Yc=this;qc=void 0===qc?$world:qc;if(void 0===Eb||Eb)var rd=qc.addMorph({name:this.name+" overlay",hasFixedPosition:!0,grabbable:!1,draggable:!1,extent:qc.extent,fill:ec.Color.black.withA(.4)});this.epiMorph=this.hasFixedPosition=!0;this.activate(Cc);return(new Promise(function(fc,xc){ec.once(Yc,"resolved",fc)})).then(function(fc){Yc.remove();rd&&rd.remove();return fc})}},{key:"activate",value:function(Eb){Eb=$world;Eb.addMorph(this);this.align(this.worldPoint(this.innerBounds().center()),
Eb.visibleBounds().center());this.focus()}},{key:"onKeyDown",value:function(Eb){"Enter"===Eb.keyCombo&&(this.onEnterPressed(),Eb.stop());"Escape"===Eb.keyCombo&&(this.onEscapePressed(),Eb.stop());"Tab"===Eb.keyCombo&&(this.focusNext(),Eb.stop());"Shift-Tab"===Eb.keyCombo&&(this.focusPrev(),Eb.stop())}},{key:"focusOrder",value:function(){return[]}},{key:"focusNext",value:function(){var Eb=this.focusOrder(),qc=this.world().focusedMorph;qc=Eb.indexOf(qc)+1;qc>Eb.length-1&&(qc=0);Eb[qc].focus()}},{key:"focusPrev",
value:function(){var Eb=this.focusOrder(),qc=this.world().focusedMorph;qc=Eb.indexOf(qc)-1;0>qc&&(qc=Eb.length-1);Eb[qc].focus()}},{key:"onEscapePressed",value:function(){this.close()}},{key:"onEnterPressed",value:function(){}},{key:"close",value:function(){}},{key:"_save",value:function(){var Eb=this,qc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cc){if(1==Cc.nextAddress)return Cc.yield(ec.createMorphSnapshot(Eb),2);qc=Cc.yieldResult;return Cc.yield(lively.modules.module("lively.user/morphic/"+
Eb.name+".json").changeSource(JSON.stringify(qc,null,2),{doEval:!1}),0)})}},{key:"_htmlExport",value:function(){var Eb=this,qc,Cc,Yc,rd,fc,xc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(bc){if(1==bc.nextAddress)return qc=lively.modules.module,Cc=qc("lively.user/html/"+Eb.name+".html").id,Yc=ec.resource(Cc),bc.yield(qc("lively.morphic/rendering/html-generator.js").load(),2);if(3!=bc.nextAddress)return rd=bc.yieldResult,fc=rd.generateHTML,bc.yield(fc(Eb,Yc,{isFragment:!0,addStyles:!1}),
3);xc=bc.yieldResult;return bc.return({resource:Yc,html:xc})})}},{key:"htmlExport_transformNode",value:function(Eb){this.focusOrder().forEach(function(qc,Cc){return Eb.querySelector("#"+qc.id).tabIndex=Cc+1});return Eb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserWidget"}},{key:"properties",get:function(){return{user:{}}}}],Ua,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:5359,end:8091})})(ec.Morph);vc=Pa("UserInfoWidget",function(Bc){var Ua=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),hc=Ua.hasOwnProperty("UserInfoWidget")&&"function"===typeof Ua.UserInfoWidget?Ua.UserInfoWidget:Ua.UserInfoWidget=function(Eb){Eb&&Eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ad(hc,Bc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),emailInput:this.getSubmorphNamed("email input"),saveButton:this.getSubmorphNamed("save button"),logoutButton:this.getSubmorphNamed("logout button"),closeButton:this.getSubmorphNamed("close button"),userAvatar:this.getSubmorphNamed("user avatar")}}},{key:"activate",value:function(Eb){Ad._get(Object.getPrototypeOf(hc.prototype),"activate",this).call(this,Eb);this.displayUser(Eb)}},{key:"focus",
value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){var Eb=this.ui;return[Eb.userNameInput,Eb.emailInput,Eb.passwordInput,Eb.passwordInput2]}},{key:"onEnterPressed",value:function(){this.trySave()}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(Eb){Eb.draggable=!1;Eb.grabbable=!1});ec.connect(this.ui.saveButton,"fire",this,"trySave");ec.connect(this.ui.logoutButton,"fire",this,"logout");ec.connect(this.ui.closeButton,"onMouseDown",this,"close");this.ui.userNameInput.readOnly=
!0;this.ui.userNameInput.selectable=!0;ec.notify(this,"OK")}},{key:"displayUser",value:function(Eb){Eb=(this.user=Eb)||{};var qc=Eb.email,Cc=this.ui,Yc=Cc.emailInput,rd=Cc.passwordInput,fc=Cc.passwordInput2,xc=Cc.userAvatar;Cc.userNameInput.input=Eb.name||"";Yc.input=qc||"";rd.input="";fc.input="";xc.imageUrl=ec.resource("https://s.gravatar.com/avatar").join(ec.string.md5(qc||"")).withQuery({s:320}).url}},{key:"trySave",value:function(){var Eb=this,qc,Cc,Yc,rd,fc,xc,bc,Qa,Da,ja,Ba,Ja,Fb,wa,Ka;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rb){switch(Rb.nextAddress){case 1:qc=
Eb;Cc=qc.user;Yc=qc.ui;rd=Yc.emailInput;fc=Yc.passwordInput;xc=Yc.passwordInput2;if(!Cc)return Rb.return(Eb.showError("no user object"));bc=rd.input;Qa=fc.input;Da=xc.input;if(Cc.email==bc&&!Qa&&!Da)return Rb.return(ec.signal(Eb,"resolved",Cc));if(!Qa&&!Da){Rb.jumpTo(2);break}return Qa!==Da?Rb.return(Eb.world().inform("Passwords do not match!",{requester:Eb})):Rb.yield(Eb.world().passwordPrompt("To set a new password, please enter your old one",{requester:Eb}),3);case 3:return(ja=Rb.yieldResult)?
Rb.yield(Cc.checkPassword(ja),4):Rb.return(Eb.world().inform("Old password needed to change password, aborting!",{requester:Eb}));case 4:if(Ba=Rb.yieldResult,!Ba)return Rb.return(Eb.world().inform("Old password is not correct, aborting!",{requester:Eb}));case 2:return Ja={},Qa&&(Ja.password=Qa),bc&&(Ja.email=bc),Rb.yield(Cc.modify(Ja),5);case 5:return Fb=Rb.yieldResult,wa=Fb.status,(Ka=Fb.error)?Rb.return(Eb.world().inform("Failed to modify: "+Ka,{requester:Eb})):Rb.yield(ec.UserRegistry.current.saveUserToLocalStorage(Cc),
6);case 6:return Rb.yield(ec.notify(Eb,wa),7);case 7:Eb.displayUser(Cc),ec.signal(Eb,"resolved",Cc),Rb.jumpToEnd()}})}},{key:"logout",value:function(){var Eb=this,qc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cc){if(1==Cc.nextAddress)return Cc.yield(ec.UserRegistry.current.logout(Eb.user),2);if(3!=Cc.nextAddress)return Eb.displayUser(Eb.user),Eb.remove(),Cc.yield(ec.UserUI.showLogin({modal:!1}),3);qc=Cc.yieldResult;ec.signal(Eb,"resolved",qc);Cc.jumpToEnd()})}},{key:"close",value:function(){ec.signal(this,
"resolved",this.user)}},{key:"onMouseUp",value:function(Eb){var qc=this.ui,Cc=qc.closeButton;qc=qc.saveButton;switch(Eb.targetMorph){case Cc:this.close();break;case qc:this.trySave()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserInfoWidget"}}],Ua,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",
version:"0.2.0"}}},{start:8100,end:12116})}(ec.UserWidget));ec.UserInfoWidget=vc;ec.UserInfoWidget=vc;ec.UserInfoWidget=vc;vc=Pa("LoginWidget",function(Bc){var Ua=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),hc=Ua.hasOwnProperty("LoginWidget")&&"function"===typeof Ua.LoginWidget?Ua.LoginWidget:Ua.LoginWidget=function(Eb){Eb&&Eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ad(hc,Bc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
passwordInput:this.getSubmorphNamed("password input"),loginButton:this.getSubmorphNamed("login button"),registerButton:this.getSubmorphNamed("register button"),guestButton:this.getSubmorphNamed("guest button"),emailLoginForm:this.getSubmorphNamed("email login form"),googleLogin:this.getSubmorphNamed("google login"),emailLogin:this.getSubmorphNamed("email login"),appleLogin:this.getSubmorphNamed("apple login")}}},{key:"signInWithGoogle",value:function(){ec.gapi.load("auth2",function(){var Eb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qc){if(1==
qc.nextAddress)return ec.gapi.auth2.init({client_id:"CLIENT_ID.apps.googleusercontent.com"}),Eb=ec.gapi.auth2.getAuthInstance(),qc.yield(Eb.signIn(),2);qc.jumpToEnd()})})}},{key:"signInWithEmail",value:function(){var Eb=this,qc,Cc,Yc,rd,fc,xc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(bc){qc=Eb.ui;Cc=qc.emailLoginForm;Yc=qc.googleLogin;rd=qc.emailLogin;fc=qc.appleLogin;xc=ec.easings.inOutExpo;[Yc,rd,fc].map(function(Qa){return Qa.animate({visible:!1,isLayoutable:!1,easing:xc,duration:300})});
Cc.animate({visible:!0,isLayoutable:!0,easing:xc,duration:300});bc.jumpToEnd()})}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.passwordInput]}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(Qa){Qa.draggable=!1;Qa.grabbable=!1});var Eb=this.ui,qc=Eb.registerButton,Cc=Eb.userNameInput,Yc=Eb.appleLogin,rd=Eb.passwordInput,fc=Eb.emailLoginForm,xc=Eb.googleLogin,bc=Eb.emailLogin;ec.connect(Eb.loginButton,
"fire",this,"tryLogin");ec.connect(qc,"fire",this,"switchToRegisterWidget");ec.connect(bc,"fire",this,"signInWithEmail");ec.connect(xc,"fire",this,"loginWithGoogle");Cc.input="";rd.input="";fc.isLayoutable=fc.visible=!1;[bc,Yc,xc].map(function(Qa){return Qa.visible=Qa.isLayoutable=!0})}},{key:"onEnterPressed",value:function(){this.tryLogin()}},{key:"tryLogin",value:function(){var Eb=this,qc,Cc,Yc,rd,fc,xc,bc,Qa,Da;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ja){switch(ja.nextAddress){case 1:qc=
Eb;Cc=qc.ui;Yc=Cc.userNameInput;rd=Cc.passwordInput;fc=Yc.input;xc=rd.input;if(!fc)return ja.return();bc=ec.ClientUser.named(fc,ec.config.users.authServerURL);ja.setCatchFinallyBlocks(2);return ja.yield(ec.UserRegistry.current.login(bc,xc),4);case 4:ja.leaveTryBlock(3);break;case 2:Da=ja.enterCatchBlock(),Qa=Da.message;case 3:if(Qa)return ec.signal(Eb,"loginFailed",Qa),Qa.includes("No user")&&Eb.indicateError(Eb.ui.userNameInput,Qa),Qa.includes("does not match")&&Eb.indicateError(Eb.ui.passwordInput,
"Password incorrect"),ja.return();ec.notify(Eb,"logged in");ec.signal(Eb,"loginSucceeded",bc);ec.signal(Eb,"resolved",bc);ja.jumpToEnd()}})}},{key:"switchToRegisterWidget",value:function(){var Eb=this,qc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cc){if(1==Cc.nextAddress)return Cc.yield(ec.UserUI.showRegister({modal:!1}),2);(qc=Cc.yieldResult)&&ec.signal(Eb,"resolved",qc);Cc.jumpToEnd()})}},{key:"continueAsGuest",value:function(){var Eb=this,qc,Cc,Yc,rd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(fc){if(1==
fc.nextAddress)return qc=ec.UserRegistry.current,Cc=qc.loadUserFromLocalStorage(ec.config.users.authServerURL),Cc.isGuestUser?(Yc=Cc,fc.jumpTo(2)):fc.yield(qc.login(ec.ClientUser.guest),3);2!=fc.nextAddress&&(Yc=fc.yieldResult);rd=Yc;ec.signal(Eb,"resolved",rd);fc.jumpToEnd()})}},{key:"indicateError",value:function(Eb,qc){Eb.indicateError(qc)}},{key:"clearErrors",value:function(){this.ui.userNameInput.clearError();this.ui.passwordInput.clearError()}},{key:"onMouseUp",value:function(Eb){var qc=this.ui,
Cc=qc.loginButton;qc=qc.registerButton;switch(Eb.targetMorph){case Cc:this.tryLogin();break;case qc:this.switchToRegisterWidget()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LoginWidget"}}],Ua,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:12125,end:16036})}(ec.UserWidget));
ec.LoginWidget=vc;ec.LoginWidget=vc;ec.LoginWidget=vc;vc=Pa("RegisterWidget",function(Bc){var Ua=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),hc=Ua.hasOwnProperty("RegisterWidget")&&"function"===typeof Ua.RegisterWidget?Ua.RegisterWidget:Ua.RegisterWidget=function(Eb){Eb&&Eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ad(hc,Bc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
emailInput:this.getSubmorphNamed("email input"),passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),registerButton:this.getSubmorphNamed("register button"),cancelButton:this.getSubmorphNamed("cancel button")}}},{key:"onEnterPressed",value:function(){this.tryRegister()}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.emailInput,this.ui.passwordInput,this.ui.passwordInput2]}},
{key:"reset",value:function(){this.withAllSubmorphsDo(function(Eb){Eb.draggable=!1;Eb.grabbable=!1});ec.connect(this.ui.registerButton,"fire",this,"tryRegister");ec.connect(this.ui.cancelButton,"fire",this,"close");this.ui.userNameInput.readOnly=!0;this.ui.userNameInput.selectable=!0;ec.notify(this,"OK")}},{key:"displayUser",value:function(Eb){this.user=Eb}},{key:"tryRegister",value:function(){var Eb=this,qc,Cc,Yc,rd,fc,xc,bc,Qa,Da,ja,Ba,Ja,Fb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(wa){switch(wa.nextAddress){case 1:qc=
Eb;Cc=qc.ui;Yc=Cc.userNameInput;rd=Cc.emailInput;fc=Cc.passwordInput;xc=Cc.passwordInput2;bc=Yc.input;Qa=rd.input;Da=fc.input;ja=xc.input;if(!(bc&&Da&&ja&&Qa))return bc||Yc.indicateError("Please enter a user name!"),Qa||rd.indicateError("Please enter E-Mail address!"),Da||fc.indicateError("Please enter a password!"),ja||xc.indicateError("Please repeat your password!"),wa.return();if(Da!==ja)return xc.indicateError("Passwords do not match!"),wa.return();Ba=ec.ClientUser.named(bc,ec.config.users.authServerURL);
Qa&&(Ba.email=Qa);wa.setCatchFinallyBlocks(2);return wa.yield(ec.UserRegistry.current.register(Ba,Da),4);case 4:wa.leaveTryBlock(3);break;case 2:Ja=Fb=wa.enterCatchBlock();case 3:return Ja?wa.return(Eb.world().inform("Failed to register: "+Ja,{requester:Eb})):wa.yield(ec.notify(Eb,"registered"),5);case 5:Eb.displayUser(Ba),ec.signal(Eb,"resolved",Ba),wa.jumpToEnd()}})}},{key:"close",value:function(){ec.signal(this,"resolved",this.user)}},{key:"onMouseUp",value:function(Eb){var qc=this.ui,Cc=qc.registerButton;
qc=qc.cancelButton;switch(Eb.targetMorph){case Cc:this.tryRegister();break;case qc:this.close()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RegisterWidget"}}],Ua,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:16045,end:18939})}(ec.UserWidget));ec.RegisterWidget=
vc;ec.RegisterWidget=vc;ec.RegisterWidget=vc;vc=Pa("UserFlap",function(Bc){var Ua=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),hc=Ua.hasOwnProperty("UserFlap")&&"function"===typeof Ua.UserFlap?Ua.UserFlap:Ua.UserFlap=function(Eb){Eb&&Eb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Ad(hc,Bc,[{key:"isUserFlap",get:function(){return!0}},{key:"isMaximized",get:function(){return 3<this.submorphs.length}},{key:"onLoad",
value:function(){var Eb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qc){if(1==qc.nextAddress)return qc.yield(Eb.whenRendered(),2);if([Eb].concat($jscomp.arrayFromIterable(Eb.ownerChain())).find(function(Cc){return Cc.isComponent}))return qc.return();Eb.showUser(Eb.currentUser());qc.jumpToEnd()})}},{key:"open",value:function(){var Eb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qc){Eb.openInWorld();Eb.showUser(Eb.currentUser(),!1);Eb.alignInWorld(!1);Eb.hasFixedPosition=
!0;return qc.return(Eb)})}},{key:"onMouseDown",value:function(Eb){var qc=this,Cc,Yc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rd){switch(rd.nextAddress){case 1:Cc=Eb.targetMorph.name;Yc=qc.currentUser();switch(Cc){case "profile item":return rd.return(qc.showUserInfo(Yc));case "logout item":return rd.jumpTo(2);case "login item":return rd.jumpTo(3);case "register item":qc.showRegister();break;case "user flap":qc.maximize();break;case "keyboard input":qc.toggleKeyboardInput()}rd.jumpTo(0);
break;case 2:return rd.yield(qc.minimize(),5);case 5:return rd.yield(qc.logout(Yc),6);case 6:return rd.return();case 3:return rd.yield(qc.showLogin(Yc),7);case 7:return rd.return()}})}},{key:"toggleKeyboardInput",value:function(Eb){Eb=void 0===Eb?!ec.touchInputDevice:Eb;ec.touchInputDevice=Eb;var qc=this.get("keyboard input");Eb?(qc.fontColor=ec.Color.rgb(0,176,255),qc.dropShadow=this.haloShadow):(qc.fontColor=this.fontColor,qc.dropShadow=!1)}},{key:"currentUser",value:function(){return ec.UserRegistry.current.loadUserFromLocalStorage(ec.config.users.authServerURL)}},
{key:"onUserChanged",value:function(Eb){this.showUser(Eb.user||{name:"???"},!1)}},{key:"onWorldResize",value:function(Eb){!this.isComponent&&this.alignInWorld()}},{key:"relayout",value:function(){this.alignInWorld()}},{key:"alignInWorld",value:function(Eb){var qc=this,Cc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Yc){if(1==Yc.nextAddress)return Yc.yield(qc.whenRendered(),2);qc.hasFixedPosition&&qc.owner.isWorld?qc.topRight=ec.pt(qc.world().visibleBounds().width,0):qc.owner.isWorld&&
(Cc=$world.visibleBounds().topRight().withY(0).subXY(10,0),Eb?qc.animate({topRight:Cc,duration:200}):qc.topRight=Cc);Yc.jumpToEnd()})}},{key:"minimize",value:function(){var Eb=this,qc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cc){if(1==Cc.nextAddress)return(qc=Eb.getSubmorphNamed("user menu"))?Cc.yield(qc.animate({opacity:0,scale:.8,duration:200}),2):Cc.return();qc.visible=!1;Cc.jumpToEnd()})}},{key:"ensureMenu",value:function(){var Eb=this,qc,Cc,Yc,rd,fc,xc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(bc){switch(bc.nextAddress){case 1:if(!Eb._menuFetch){bc.jumpTo(2);
break}return bc.yield(Eb._menuFetch,3);case 3:return bc.return(bc.yieldResult);case 2:qc=ec.promise.deferred();Eb._menuFetch=qc.promise;if(Cc=Eb.getSubmorphNamed("user menu")){bc.jumpTo(4);break}Yc=Eb;rd=Yc.addMorph;fc=Yc;return bc.yield(ec.resource("part://SystemIDE/user menu master").read(),5);case 5:Cc=rd.call(fc,bc.yieldResult);case 4:xc=Cc,xc.name="user menu",xc.visible=!1,xc.opacity=0,xc.scale=.8,xc.position=Eb.getSubmorphNamed("avatar").bottomCenter.addXY(0,10),qc.resolve(xc),bc.jumpToEnd()}})}},
{key:"maximize",value:function(){var Eb=this,qc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cc){if(1==Cc.nextAddress)return(qc=Eb.getSubmorphNamed("user menu"))?Cc.jumpTo(2):Cc.yield(Eb.ensureMenu(),3);2!=Cc.nextAddress&&(qc=Cc.yieldResult);qc.right=Eb.width-5;qc.visible=!0;return Cc.yield(qc.animate({opacity:1,scale:1,duration:200}),0)})}},{key:"changeWidthAndHeight",value:function(Eb,qc,Cc){var Yc=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rd){return Cc?rd.yield(Yc.animate({position:Yc.position.addXY(Yc.width-
Eb,0),extent:ec.pt(Eb,qc),duration:200}),0):(Yc.extent=ec.pt(Eb,qc),Yc.position=Yc.position.addXY(Yc.width-Eb,0),rd.jumpTo(0))})}},{key:"showMenuItems",value:function(Eb){var qc=this;ec.arr.withoutAll(["login item","logout item","profile item","register item"],Eb).map(function(Cc){return qc.getSubmorphNamed(Cc)}).forEach(function(Cc){Cc.visible=!1;Cc.bringToFront()});Eb.map(function(Cc){return qc.getSubmorphNamed(Cc)}).forEach(function(Cc){Cc.visible=!0})}},{key:"showUser",value:function(Eb,qc){var Cc=
this,Yc,rd,fc,xc,bc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){switch(Qa.nextAddress){case 1:return Yc=Cc.getSubmorphNamed("label"),rd=Cc.getSubmorphNamed("user menu"),fc=Cc.getSubmorphNamed("avatar"),Cc.getSubmorphNamed("login item"),Cc.getSubmorphNamed("logout item"),Cc.getSubmorphNamed("profile item"),xc=String(Eb.name),bc=ec.resource("https://s.gravatar.com/avatar").join(ec.string.md5(Eb.email||"")).withQuery({s:160}).url,Qa.yield(Cc.ensureMenu(),2);case 2:xc.startsWith("guest-")?
(Cc.showMenuItems(["login item","register item"]),xc="guest"):Cc.showMenuItems(["logout item","profile item"]);Yc.value=xc;fc.imageUrl=bc;if(!rd){Qa.jumpTo(3);break}return Qa.yield(rd.master.whenApplied(),4);case 4:rd.position=fc.bottomCenter.addXY(0,10);case 3:return Qa.yield(Cc.whenRendered(),5);case 5:Cc.alignInWorld(),Qa.jumpToEnd()}})}},{key:"showRegister",value:function(){return ec.UserUI.showRegister()}},{key:"showUserInfo",value:function(Eb){return ec.UserUI.showUserInfo({user:Eb})}},{key:"showLogin",
value:function(Eb){return ec.UserUI.showLogin({user:Eb})}},{key:"logout",value:function(Eb){return ec.UserRegistry.current.logout(Eb)}},{key:"onBlur",value:function(Eb){var qc=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cc){if(1==Cc.nextAddress)return qc.minimize(),Cc.yield(qc.whenRendered(),2);qc.world().focusedMorph.ownerChain().includes(qc)&&qc.focus();Cc.jumpToEnd()})}},{key:"showMenu",value:function(Eb,qc){qc=void 0===qc?!1:qc;var Cc=this,Yc,rd,fc,xc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(bc){Yc=
Cc.getSubmorphNamed("label");rd=Cc.getSubmorphNamed("avatar");fc=["open chat",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){Qa.jumpToEnd()})}];xc=Object.assign(ec.Menu.forItems(Eb.isGuestUser?[fc,["login",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){Cc.minimize();Cc.showLogin(Eb);Qa.jumpToEnd()})}]]:[["show user info",function(){Cc.minimize();Cc.showUserInfo(Eb)}],fc,["logout",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qa){if(1==
Qa.nextAddress)return Qa.yield(Cc.minimize(),2);Cc.logout(Eb);Qa.jumpToEnd()})}]]),{name:"menu",position:ec.pt(10,5),dropShadow:!1,opacity:qc?0:1,borderWidth:0,fontSize:12,fontFamily:"Helvetica Neue, Verdana, Sans Serif"});rd.visible=!1;Yc.visible=!1;Cc.addMorph(xc);qc&&xc.animate({opacity:1,duration:200});return bc.yield(Cc.changeWidthAndHeight(xc.width+20,xc.height+10,qc),0)})}},{key:"updateNetworkIndicator",value:function(Eb){var qc="red";Eb&&(Eb.isOnline()&&(qc="yellow"),Eb.isRegistered()&&(qc=
"green"));this.get("network-indicator").animate({fill:ec.Color[qc],duration:300})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserFlap"}},{key:"properties",get:function(){return{submorphs:{initialize:function(){this.submorphs=[{type:"label",name:"label",fontSize:12,fontFamliy:"Helvetica Neue, Verdana, Sans Serif",fontWeight:"bold",padding:ec.Rectangle.inset(4),reactsToPointer:!1},ec.Icon.makeLabel("user",{name:"avatar",fontColor:ec.Color.black.withA(.3),fontSize:12,clipMode:"hidden",
padding:ec.Rectangle.inset(2,2,4,0),borderWidth:1,borderColor:ec.Color.black.withA(.3),extent:ec.pt(20,20),borderRadius:10}),{name:"network-indicator",fill:ec.Color.red,borderRadius:5,extent:ec.pt(5,5),position:ec.pt(5,8),reactsToPointer:!1}]}},fontColor:{after:["submorphs"],set:function(Eb){this.setProperty("fontColor",Eb)}},name:{initialize:function(){this.name="user flap"}},epiMorph:{defaultValue:!0},clipMode:{defaultValue:"hidden"},draggable:{defaultValue:!1},grabbable:{defaultValue:!1},acceptsDrops:{defaultValue:!1},
fill:{defaultValue:ec.Color.white},borderRadiusBottom:{defaultValue:10},borderRadiusLeft:{defaultValue:10},borderRadiusRight:{defaultValue:10},nativeCursor:{defaultValue:"pointer"},respondsToVisibleWindow:{defaultValue:!0},haloColor:{readOnly:!0,get:function(){return ec.Color.rgb(0,176,255)}},haloShadow:{readOnly:!0,get:function(){return{distance:2,rotation:45,color:ec.Color.rgba(64,196,255,.4),inset:!1,blur:6,spread:0,fast:!1}}}}}}],Ua,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:18948,end:28078})}(ec.Morph));ec.UserFlap=vc;ec.UserFlap=vc;ec.UserFlap=vc}}});
System.register("./__rootModule___commonjs-entry-71573ff5.js ./index-d18accbd.js ./index-c79abca0.js ./index-ca98f65e.js @babel/plugin-syntax-import-meta ./loading-indicator.cp-b18e3b89.js ./tooltips.cp-6a2406c0.js ./value-widgets-6cb12552.js".split(" "),function(Lc){var pd,Nd,Tc,Jc,$d,Bb,rd,Id,Ac,Pc,gd,nd,Fd,ic,vd,sb;return{setters:[function(Xb){pd=Xb._;Nd=Xb.y;Tc=Xb.D;Jc=Xb.z;$d=Xb.w;Bb=Xb.v;rd=Xb.C;Id=Xb.r;Ac=Xb.b;Pc=Xb.j;gd=Xb.q},function(Xb){nd=Xb.i},function(Xb){Fd=Xb._;ic=Xb.s;vd=Xb.I},function(Xb){sb=
Xb.c},function(){},function(){},function(){},function(){}],execute:function(){function Xb(Sb){var Cb=Sb.sourceObj;Sb.sourceAttrName;var Da=Sb.targetObj;Sb.targetMethodName;Cb.isMorph&&Da.isMorph?(Cb.show(),Da.show(),Za.showConnector&&Za.showConnector(Cb,Da)):Za.show(String(Sb))}function Nb(Sb){var Cb=Sb.sourceObj,Da=Sb.sourceAttrName,zb=Sb.targetObj,db=Sb.targetMethodName,ib=Sb.getConverter();Sb=Sb.getUpdater();return Za.printConnectionElements(Cb,Da,zb,db,ib,Sb)}function bc(Sb,Cb,Da,zb,db,ib){Sb=
"/* global connect, source, target */\nconnect(source, '".concat(Cb,"', target, '").concat(zb,"'");if(db||ib)Sb+=", {\n";db&&(Sb+="  converter: ".concat(db));db&&ib&&(Sb+=",");db&&(Sb+="\n");ib&&(Sb+="  updater: ".concat(ib,"\n"));if(db||ib)Sb+="}";return Sb+");"}function hb(Sb,Cb){return cb.apply(this,arguments)}function cb(){cb=pd(regeneratorRuntime.mark(function zb(Cb,Da){var db;return regeneratorRuntime.wrap(function(ib){for(;;)switch(ib.prev=ib.next){case 0:return ib.next=2,Za.InteractiveMorphSelector.selectMorph();
case 2:return db=ib.sent,ib.abrupt("return",db?Za.interactiveConnectGivenSourceAndTarget(Cb,Da,db):null);case 4:case "end":return ib.stop()}},zb)}));return cb.apply(this,arguments)}function Hb(Sb,Cb,Da,zb){return ec.apply(this,arguments)}function ec(){ec=pd(regeneratorRuntime.mark(function ib(Cb,Da,zb,db){var Ea,W,T,ia,ka;return regeneratorRuntime.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:Ea=zb&&zb.world().targetDataBindings(zb);W=Cb.world();if(Ea&&Ea.length){K.next=6;break}W.setStatusMessage("connect canceled");
return K.abrupt("return");case 6:if(Da){K.next=15;break}T=[{isListItem:!0,string:"[Enter custom attribute..]",value:{custom:!0}}].concat(Nd(Cb.world().targetDataBindings(Cb).flat().map(function(ya){return{isListItem:!0,string:ya.signature||ya.name,value:ya}})));K.next=10;return W.listPrompt(["Select Source Attribute\n",{},"Choose the attribute of the morph that is supposed to invoke the connection. This can be a method, property or a custom signal that is invoked upon the morph.",{paddingTop:"10px",
fontSize:14,textAlign:"left",fontWeight:"normal"}],T,{filterable:!0});case 10:Da=K.sent;if("canceled"!=Da.status){K.next=13;break}return K.abrupt("return");case 13:Da=Da.selected[0],Da=Da.custom?"sourceAttribute":Da.name;case 15:return ia=[{isListItem:!0,string:"[Enter custom attribute...]",value:{custom:!0}}].concat(Nd(Ea.flat().map(function(ya){return{isListItem:!0,value:ya,string:ya.signature||ya.name}}))),K.next=18,W.listPrompt(["Select Target Attribute\n",{},"Choose the attribute of the morph that is supposed to invoked once the connection is triggered. This can be either a method or a property of the morph. When selecting a property, keep in mind that the value of the source attribute will be assigned to the property or passed to the method as an argument.",
{fontSize:14,textAlign:"left",fontWeight:"normal",paddingTop:"10px"}],ia,{filterable:!0});case 18:ka=K.sent;if("canceled"!=ka.status){K.next=21;break}return K.abrupt("return");case 21:return ka=ka.selected[0],K.next=24,Za.interactivelyEvaluateConnection({sourceObj:Cb,sourceAttr:Da,targetObj:zb,targetAttr:ka.custom?"targetAttribute":ka.name,onConnect:db,prompt:"Edit and confirm connection:"});case 24:case "end":return K.stop()}},ib)}));return ec.apply(this,arguments)}function ub(Sb){return yb.apply(this,
arguments)}function yb(){yb=pd(regeneratorRuntime.mark(function Da(Cb){var zb,db,ib,Ea,W,T,ia,ka,K,ya=arguments;return regeneratorRuntime.wrap(function(pb){for(;;)switch(pb.prev=pb.next){case 0:return zb=1<ya.length&&void 0!==ya[1]?ya[1]:"confirm connection",db=2<ya.length?ya[2]:void 0,ib=3<ya.length?ya[3]:void 0,Ea=Cb.sourceObj,W=Cb.sourceAttrName,T=Cb.targetObj,ia=Cb.targetMethodName,ka=Cb.getConverter(),K=Cb.getUpdater(),pb.abrupt("return",Za.interactivelyEvaluateConnection({sourceObj:Ea,sourceAttr:W,
targetObj:T,targetAttr:ia,converter:ka,updater:K,prompt:zb,highlight:db,onConnect:ib}));case 7:case "end":return pb.stop()}},Da)}));return yb.apply(this,arguments)}function ba(Sb,Cb,Da){var zb=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},db=Za.rect(0).sides.concat(Za.rect(0).corners);zb=Da||new Za.Leash(Object.assign({isSmooth:!0,styleClasses:["Halo"],borderColor:Za.Color.orange,epiMorph:!0,endpointStyle:{start:{fill:Za.Color.transparent,nativeCursor:"auto"},end:{fill:Za.Color.orange}}},
zb,{hasFixedPosition:!0}));zb.startPoint.attachTo(Sb,"rightCenter");if(Cb.isMorph){var ib=Cb.globalBounds().partNameNearest(db,Sb.globalPosition);Sb.globalPosition.equals(Cb.globalBounds().partNamed(ib))&&Cb.globalBounds().partNameNearest(Za.arr.without(db,ib),Sb.globalPosition);zb.endPoint.attachTo(Cb,"leftCenter")}else db=Sb.globalBounds().topRight().addPt(Za.pt(100,0)),db=Za.morph({type:"label",value:Cb.toString(),styleClasses:["Tooltip"],padding:Za.rect(8,4)}).openInWorld(db),db.position=Sb.world().bounds().translateForInclusion(db.bounds()).topLeft(),
Za.once(zb,"remove",db,"remove"),zb.endPoint.attachTo(db,"leftCenter");return zb}function wb(Sb){return Xa.apply(this,arguments)}function Xa(){Xa=pd(regeneratorRuntime.mark(function Da(Cb){var zb,db,ib,Ea,W,T,ia,ka,K,ya,pb,La,eb,jb,E,Wb,R,xb,Ja;return regeneratorRuntime.wrap(function(Ga){for(;;)switch(Ga.prev=Ga.next){case 0:zb=Cb.sourceObj;db=Cb.sourceAttr;ib=Cb.targetObj;Ea=Cb.targetAttr;W=Cb.converter;T=Cb.updater;ia=Cb.prompt;ka=Cb.highlight;K=void 0===ka?!0:ka;ya=Cb.onConnect;pb="lively://lively.bindings-interactive-connect/x"+
zb.id;La={context:window,format:"esm",targetModule:pb,classTransform:Za.classToFunctionTransform};eb=Za.printConnectionElements(zb,db,ib,Ea,W,T);ib.isMorph&&zb.isMorph&&(jb=ib.propertiesAndPropertySettings().properties[Ea]||{type:Tc(ib[Ea])},E=jb.type,Wb=zb.propertiesAndPropertySettings().properties[db]||{type:Tc(zb[db])},R=Wb.type,R!==E&&(ia=["Edit and confirm connection:\n",{},"Source: ",{fontSize:14,fontWeight:"normal"},zb.toString(),{fontSize:14,fontWeight:"normal",fontStyle:"italic"},"\nTarget: ",
{fontSize:14,fontWeight:"normal"},ib.toString(),{fontSize:14,fontWeight:"normal",fontStyle:"italic"}]));Object.assign(lively.modules.module(pb).recorder,Jc({source:zb,target:ib,connect:Za.connect,once:Za.once},db,zb[db]));if(!ia){Ga.next=15;break}Ga.next=9;return $world.editPrompt(ia,{input:eb,historyId:"lively.bindings-interactive-morph-connect",mode:"js",requester:$world,evalEnvironment:La,animated:!1});case 9:if(xb=Ga.sent){Ga.next=13;break}$world.setStatusMessage("connect canceled");return Ga.abrupt("return");
case 13:Ga.next=16;break;case 15:xb=eb;case 16:return Ga.next=18,lively.vm.runEval(xb,La);case 18:Ja=Ga.sent;if(!Ja.isError){Ga.next=22;break}$world.logError(Ja.value);return Ga.abrupt("return",wb({sourceObj:zb,sourceAttr:db,targetObj:ib,targetAttr:Ea,converter:W,updater:T,prompt:"confirm connection",highlight:K,onConnect:ya}));case 22:K&&($world.setStatusMessage("connected!",Za.Color.green),Za.interactivelyShowConnection(Ja.value)),"function"===typeof ya&&ya(Ja);case 24:case "end":return Ga.stop()}},
Da)}));return Xa.apply(this,arguments)}Lc({interactiveConnectGivenSource:hb,interactiveConnectGivenSourceAndTarget:Hb,interactivelyEvaluateConnection:wb,interactivelyReEvaluateConnection:ub,interactivelyShowConnection:Xb,printConnection:Nb,printConnectionElements:bc,visualizeConnection:ba});var Za=window.lively.FreezerRuntime.recorderFor("lively.ide/fabrik.js");Za.interactivelyShowConnection=Xb;Za.printConnection=Nb;Za.printConnectionElements=bc;Za.interactiveConnectGivenSource=hb;Za.interactiveConnectGivenSourceAndTarget=
Hb;Za.interactivelyReEvaluateConnection=ub;Za.visualizeConnection=ba;Za.interactivelyEvaluateConnection=wb;Za.connect=$d;Za.once=Bb;Za.Color=rd;Za.rect=Id;Za.pt=Ac;Za.arr=Pc;Za.morph=gd;Za.Leash=nd;Za.showConnector=Fd;Za.show=ic;Za.InteractiveMorphSelector=vd;Za.classToFunctionTransform=sb;Za.interactivelyShowConnection=Xb;Za.printConnection=Nb;Za.printConnectionElements=bc;Za.interactiveConnectGivenSource=hb;Za.interactiveConnectGivenSourceAndTarget=Hb;Za.interactivelyReEvaluateConnection=ub;Za.visualizeConnection=
ba;Za.interactivelyEvaluateConnection=wb}}});
System.register(["./__root_module__-7d3cbdeb.js","kld-intersections","./object-classes-e1436cbe.js"],function(Ka,wb){var Ab,gc,Kb,Zc,Kc,md,Fc,Bc,Nc,Uc,ce,Zd,pe,Mc,Kd,Jb,Dc,nd,Hc,wd,Qd,Eb,ic,jd,jc,kd,vb,db,ec;return{setters:[function(Mb){Ab=Mb.p;gc=Mb.f;Kb=Mb.a;Zc=Mb.s;Kc=Mb.r;md=Mb.b;Fc=Mb.R;Bc=Mb.C;Nc=Mb.c;Uc=Mb.o;ce=Mb.d;Zd=Mb.m;pe=Mb.e;Mc=Mb.t;Kd=Mb.I;Jb=Mb.g;Dc=Mb.M;nd=Mb.h;Hc=Mb.l;wd=Mb.j;Qd=Mb.U;Eb=Mb.k;ic=Mb.n;jd=Mb.q;jc=Mb.u;kd=Mb.i},function(){},function(Mb){vb=Mb.default;db=Mb.interactivelyForkPackage;
ec=Mb.addScript}],execute:function(){var Mb=window.gapi=window.gapi||{};Mb._bs=(new Date).getTime();(function(){function pc(ha){if(Error.captureStackTrace)Error.captureStackTrace(this,pc);else{var Aa=Error().stack;Aa&&(this.stack=Aa)}ha&&(this.message=String(ha))}function Ma(ha){var Aa=ha.length;if(0<Aa){for(var $a=Array(Aa),zb=0;zb<Aa;zb++)$a[zb]=ha[zb];return $a}return[]}function Ib(ha,Aa){for(var $a in ha)Aa.call(void 0,ha[$a],$a,ha)}function pb(ha,Aa){for(var $a,zb,bc=1;bc<arguments.length;bc++){zb=
arguments[bc];for($a in zb)ha[$a]=zb[$a];for(var tc=0;tc<Ia.length;tc++)$a=Ia[tc],Object.prototype.hasOwnProperty.call(zb,$a)&&(ha[$a]=zb[$a])}}function Ub(ha){if(0!==ha.indexOf("GCSC"))return null;var Aa={W:!1};ha=ha.substr(4);if(!ha)return Aa;var $a=ha.charAt(0);ha=ha.substr(1);var zb=ha.lastIndexOf("_");if(-1==zb)return Aa;var bc=bu(ha.substr(zb+1));if(null==bc)return Aa;ha=ha.substring(0,zb);if("_"!==ha.charAt(0))return Aa;zb="E"===$a&&bc.j;return!zb&&("U"!==$a||bc.j)||zb&&!au?Aa:{W:!0,j:zb,ka:ha.substr(1),
domain:bc.domain,l:bc.l}}var dc=function(ha){var Aa=0;return function(){return Aa<ha.length?{done:!1,value:ha[Aa++]}:{done:!0}}},vc="function"==typeof Object.defineProperties?Object.defineProperty:function(ha,Aa,$a){if(ha==Array.prototype||ha==Object.prototype)return ha;ha[Aa]=$a.value;return ha},gd=function(ha){ha=["object"==typeof globalThis&&globalThis,ha,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var Aa=0;Aa<ha.length;++Aa){var $a=ha[Aa];if($a&&
$a.Math==Math)return $a}throw Error("Cannot find global object");}(this),Nb=function(ha,Aa){if(Aa)a:{var $a=gd;ha=ha.split(".");for(var zb=0;zb<ha.length-1;zb++){var bc=ha[zb];if(!(bc in $a))break a;$a=$a[bc]}ha=ha[ha.length-1];zb=$a[ha];Aa=Aa(zb);Aa!=zb&&null!=Aa&&vc($a,ha,{configurable:!0,writable:!0,value:Aa})}};Nb("Symbol",function(ha){if(ha)return ha;var Aa=function(tc,vd){this.ba=tc;vc(this,"description",{configurable:!0,writable:!0,value:vd})};Aa.prototype.toString=function(){return this.ba};
var $a="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",zb=0,bc=function(tc){if(this instanceof bc)throw new TypeError("Symbol is not a constructor");return new Aa($a+(tc||"")+"_"+zb++,tc)};return bc});Nb("Symbol.iterator",function(ha){if(ha)return ha;ha=Symbol("Symbol.iterator");for(var Aa="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),$a=0;$a<Aa.length;$a++){var zb=gd[Aa[$a]];"function"===typeof zb&&"function"!=typeof zb.prototype[ha]&&
vc(zb.prototype,ha,{configurable:!0,writable:!0,value:function(){return Fb(dc(this))}})}return ha});var Fb=function(ha){ha={next:ha};ha[Symbol.iterator]=function(){return this};return ha},sb=function(ha,Aa){ha instanceof String&&(ha+="");var $a=0,zb=!1,bc={next:function(){if(!zb&&$a<ha.length){var tc=$a++;return{value:Aa(tc,ha[tc]),done:!1}}zb=!0;return{done:!0,value:void 0}}};bc[Symbol.iterator]=function(){return bc};return bc};Nb("Array.prototype.keys",function(ha){return ha?ha:function(){return sb(this,
function(Aa){return Aa})}});var Ea=this||self,ua=function(ha){var Aa=typeof ha;return"object"!=Aa?Aa:ha?Array.isArray(ha)?"array":Aa:"null"},V=function(ha){var Aa=ua(ha);return"array"==Aa||"object"==Aa&&"number"==typeof ha.length},ra=function(ha){var Aa=typeof ha;return"object"==Aa&&null!=ha||"function"==Aa},ja="closure_uid_"+(1E9*Math.random()>>>0),Ca=0,va=function(ha,Aa,$a){return ha.call.apply(ha.bind,arguments)},cb=function(ha,Aa,$a){if(!ha)throw Error();if(2<arguments.length){var zb=Array.prototype.slice.call(arguments,
2);return function(){var bc=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(bc,zb);return ha.apply(Aa,bc)}}return function(){return ha.apply(Aa,arguments)}},hc=function(ha,Aa,$a){hc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?va:cb;return hc.apply(null,arguments)},gb=function(ha,Aa){function $a(){}$a.prototype=Aa.prototype;ha.na=Aa.prototype;ha.prototype=new $a;ha.prototype.constructor=ha;ha.A=function(zb,bc,tc){for(var vd=Array(arguments.length-
2),ze=2;ze<arguments.length;ze++)vd[ze-2]=arguments[ze];return Aa.prototype[bc].apply(zb,vd)}},Oc=function(ha){return ha},Cb=function(ha){var Aa=null,$a=Ea.trustedTypes;if(!$a||!$a.createPolicy)return Aa;try{Aa=$a.createPolicy(ha,{createHTML:Oc,createScript:Oc,createScriptURL:Oc})}catch(zb){Ea.console&&Ea.console.error(zb.message)}return Aa};gb(pc,Error);pc.prototype.name="CustomError";var Gd,Ec=function(ha,Aa){ha=ha.split("%s");for(var $a="",zb=ha.length-1,bc=0;bc<zb;bc++)$a+=ha[bc]+(bc<Aa.length?
Aa[bc]:"%s");pc.call(this,$a+ha[zb])};gb(Ec,pc);Ec.prototype.name="AssertionError";var oc=function(ha,Aa,$a,zb){var bc="Assertion failed";if($a){bc+=": "+$a;var tc=zb}else ha&&(bc+=": "+ha,tc=Aa);throw new Ec(""+bc,tc||[]);},rb=function(ha,Aa,$a){ha||oc("",null,Aa,Array.prototype.slice.call(arguments,2));return ha},Md=function(ha,Aa){throw new Ec("Failure"+(ha?": "+ha:""),Array.prototype.slice.call(arguments,1));},yb=function(ha,Aa,$a){"string"!==typeof ha&&oc("Expected string but got %s: %s.",[ua(ha),
ha],Aa,Array.prototype.slice.call(arguments,2))},qb=Array.prototype.forEach?function(ha,Aa){rb(null!=ha.length);Array.prototype.forEach.call(ha,Aa,void 0)}:function(ha,Aa){for(var $a=ha.length,zb="string"===typeof ha?ha.split(""):ha,bc=0;bc<$a;bc++)bc in zb&&Aa.call(void 0,zb[bc],bc,ha)},Ia="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Q,za=function(ha,Aa){this.R=ha===Yb&&Aa||"";this.ca=xb};za.prototype.D=!0;za.prototype.C=function(){return this.R};
za.prototype.toString=function(){return"Const{"+this.R+"}"};var Ta=function(ha){if(ha instanceof za&&ha.constructor===za&&ha.ca===xb)return ha.R;Md("expected object of type Const, got '"+ha+"'");return"type_error:Const"},xb={},Yb={},Ac=/&/g,mc=/</g,qd=/>/g,zd=/"/g,Ee=/'/g,se=/\x00/g,ke=/[\x00&<>"']/,w=function(ha,Aa){return-1!=ha.indexOf(Aa)},we=function(ha,Aa){this.O=Aa===Te?ha:""};we.prototype.D=!0;we.prototype.C=function(){return this.O.toString()};we.prototype.toString=function(){return this.O.toString()};
var ue=function(ha){if(ha instanceof we&&ha.constructor===we)return ha.O;Md("expected object of type SafeUrl, got '"+ha+"' of type "+ua(ha));return"type_error:SafeUrl"},Od=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,He=function(ha){if(ha instanceof we)return ha;ha="object"==typeof ha&&ha.D?ha.C():String(ha);rb(Od.test(ha),"%s does not match the safe URL pattern",ha)||(ha="about:invalid#zClosurez");return new we(ha,Te)},Te={};a:{var Ue=Ea.navigator;if(Ue){var ff=Ue.userAgent;if(ff){var gf=ff;
break a}}gf=""}var Wb=function(ha,Aa,$a){this.N=$a===ef?ha:""};Wb.prototype.D=!0;Wb.prototype.C=function(){return this.N.toString()};Wb.prototype.toString=function(){return this.N.toString()};var Kh=function(ha){if(ha instanceof Wb&&ha.constructor===Wb)return ha.N;Md("expected object of type SafeHtml, got '"+ha+"' of type "+ua(ha));return"type_error:SafeHtml"},ef={},Fd=new Wb(Ea.trustedTypes&&Ea.trustedTypes.emptyHTML||"",0,ef),$d=function(ha,Aa){a:{try{var $a=ha&&ha.ownerDocument,zb=$a&&($a.defaultView||
$a.parentWindow);zb=zb||Ea;if(zb.Element&&zb.Location){$a=zb;break a}}catch(tc){}$a=null}if($a&&"undefined"!=typeof $a[Aa]&&(!ha||!(ha instanceof $a[Aa])&&(ha instanceof $a.Location||ha instanceof $a.Element))){if(ra(ha))try{var bc=ha.constructor.displayName||ha.constructor.name||Object.prototype.toString.call(ha)}catch(tc){bc="<object could not be stringified>"}else bc=void 0===ha?"undefined":null===ha?"null":typeof ha;Md("Argument is not a %s (or a non-Element, non-Location mock); got: %s",Aa,bc)}return ha},
Fa={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Wa=function(ha){var Aa=!1,$a;return function(){Aa||($a=ha(),Aa=!0);return $a}}(function(){if("undefined"===typeof document)return!1;var ha=document.createElement("div"),Aa=document.createElement("div");Aa.appendChild(document.createElement("div"));ha.appendChild(Aa);if(!ha.firstChild)return!1;Aa=ha.firstChild.firstChild;ha.innerHTML=Kh(Fd);return!Aa.parentElement}),Gb=function(ha){ke.test(ha)&&(-1!=ha.indexOf("&")&&(ha=ha.replace(Ac,"&amp;")),-1!=
ha.indexOf("<")&&(ha=ha.replace(mc,"&lt;")),-1!=ha.indexOf(">")&&(ha=ha.replace(qd,"&gt;")),-1!=ha.indexOf('"')&&(ha=ha.replace(zd,"&quot;")),-1!=ha.indexOf("'")&&(ha=ha.replace(Ee,"&#39;")),-1!=ha.indexOf("\x00")&&(ha=ha.replace(se,"&#0;")));return ha},pa=w(gf,"Opera"),xa=w(gf,"Trident")||w(gf,"MSIE"),Ha=w(gf,"Edge"),S=w(gf,"Gecko")&&!(w(gf.toLowerCase(),"webkit")&&!w(gf,"Edge"))&&!(w(gf,"Trident")||w(gf,"MSIE"))&&!w(gf,"Edge"),ob=w(gf.toLowerCase(),"webkit")&&!w(gf,"Edge"),fa=function(){var ha=
Ea.document;return ha?ha.documentMode:void 0};a:{var Ba="",Na=function(){var ha=gf;if(S)return/rv:([^\);]+)(\)|;)/.exec(ha);if(Ha)return/Edge\/([\d\.]+)/.exec(ha);if(xa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ha);if(ob)return/WebKit\/(\S+)/.exec(ha);if(pa)return/(?:Version)[ \/]?(\S+)/.exec(ha)}();Na&&(Ba=Na?Na[1]:"");if(xa){var tb=fa();if(null!=tb&&tb>parseFloat(Ba)){var Sb=String(tb);break a}}Sb=Ba}var lc=Sb;if(Ea.document&&xa){var uc=fa();var rc=uc?uc:parseInt(lc,10)||void 0}else rc=void 0;
var $c=rc,Jd;(Jd=!xa)||(Jd=9<=Number($c));var je=Jd,td=function(ha,Aa){Ib(Aa,function($a,zb){$a&&"object"==typeof $a&&$a.D&&($a=$a.C());"style"==zb?ha.style.cssText=$a:"class"==zb?ha.className=$a:"for"==zb?ha.htmlFor=$a:qe.hasOwnProperty(zb)?ha.setAttribute(qe[zb],$a):0==zb.lastIndexOf("aria-",0)||0==zb.lastIndexOf("data-",0)?ha.setAttribute(zb,$a):ha[zb]=$a})},qe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",
nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Wd=function(ha,Aa,$a,zb){function bc(ze){ze&&Aa.appendChild("string"===typeof ze?ha.createTextNode(ze):ze)}for(;zb<$a.length;zb++){var tc=$a[zb];if(!V(tc)||ra(tc)&&0<tc.nodeType)bc(tc);else{a:{if(tc&&"number"==typeof tc.length){if(ra(tc)){var vd="function"==typeof tc.item||"string"==typeof tc.item;break a}if("function"===typeof tc){vd="function"==typeof tc.item;break a}}vd=!1}qb(vd?Ma(tc):tc,bc)}}},
Ud=function(ha,Aa){Aa=String(Aa);"application/xhtml+xml"===ha.contentType&&(Aa=Aa.toLowerCase());return ha.createElement(Aa)},Re=function(ha){rb(ha,"Node cannot be null or undefined.");return 9==ha.nodeType?ha:ha.ownerDocument||ha.document},wf=function(ha){this.B=ha||Ea.document||document};var Bf=wf.prototype;Bf.getElementsByTagName=function(ha,Aa){return(Aa||this.B).getElementsByTagName(String(ha))};Bf.fa=function(ha,Aa,$a){var zb=this.B,bc=arguments,tc=String(bc[0]),vd=bc[1];if(!je&&vd&&(vd.name||
vd.type)){tc=["<",tc];vd.name&&tc.push(' name="',Gb(vd.name),'"');if(vd.type){tc.push(' type="',Gb(vd.type),'"');var ze={};pb(ze,vd);delete ze.type;vd=ze}tc.push(">");tc=tc.join("")}tc=Ud(zb,tc);vd&&("string"===typeof vd?tc.className=vd:Array.isArray(vd)?tc.className=vd.join(" "):td(tc,vd));2<bc.length&&Wd(zb,tc,bc,2);return tc};Bf.createElement=function(ha){return Ud(this.B,ha)};Bf.createTextNode=function(ha){return this.B.createTextNode(String(ha))};Bf.appendChild=function(ha,Aa){rb(null!=ha&&null!=
Aa,"goog.dom.appendChild expects non-null arguments");ha.appendChild(Aa)};Bf.append=function(ha,Aa){Wd(Re(ha),ha,arguments,1)};Bf.canHaveChildren=function(ha){if(1!=ha.nodeType)return!1;switch(ha.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
Bf.removeNode=function(ha){return ha&&ha.parentNode?ha.parentNode.removeChild(ha):null};Bf.contains=function(ha,Aa){if(!ha||!Aa)return!1;if(ha.contains&&1==Aa.nodeType)return ha==Aa||ha.contains(Aa);if("undefined"!=typeof ha.compareDocumentPosition)return ha==Aa||!!(ha.compareDocumentPosition(Aa)&16);for(;Aa&&ha!=Aa;)Aa=Aa.parentNode;return Aa==ha};var Wf=window,Gf=document,Mf=Wf.location,ph=function(){},uh=/\[native code\]/,Oe=function(ha,Aa,$a){return ha[Aa]=ha[Aa]||$a},Ch=function(ha){for(var Aa=
0;Aa<this.length;Aa++)if(this[Aa]===ha)return Aa;return-1},Nf=function(ha){ha=ha.sort();for(var Aa=[],$a=void 0,zb=0;zb<ha.length;zb++){var bc=ha[zb];bc!=$a&&Aa.push(bc);$a=bc}return Aa},Xf=/&/g,Qg=/</g,xe=/>/g,Jh=/"/g,Vb=/'/g,Pc=function(ha){return String(ha).replace(Xf,"&amp;").replace(Qg,"&lt;").replace(xe,"&gt;").replace(Jh,"&quot;").replace(Vb,"&#39;")},ud=function(){var ha;if((ha=Object.create)&&uh.test(ha))ha=ha(null);else{ha={};for(var Aa in ha)ha[Aa]=void 0}return ha},Ld=function(ha,Aa){return Object.prototype.hasOwnProperty.call(ha,
Aa)},mf=function(ha){if(uh.test(Object.keys))return Object.keys(ha);var Aa=[],$a;for($a in ha)Ld(ha,$a)&&Aa.push($a);return Aa},pf=function(ha,Aa){ha=ha||{};for(var $a in ha)Ld(ha,$a)&&(Aa[$a]=ha[$a])},rg=function(ha){return function(){Wf.setTimeout(ha,0)}},Gj=function(ha,Aa){if(!ha)throw Error(Aa||"");},qj=Oe(Wf,"gapi",{}),rj=function(ha,Aa,$a){var zb=new RegExp("([#].*&|[#])"+Aa+"=([^&#]*)","g");Aa=new RegExp("([?#].*&|[?#])"+Aa+"=([^&#]*)","g");if(ha=ha&&(zb.exec(ha)||Aa.exec(ha)))try{$a=decodeURIComponent(ha[2])}catch(bc){}return $a},
zl=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),Rj=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,Al=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),bl=/%([a-f]|[0-9a-fA-F][a-f])/g,Bl=/^(https?|ftp|file|chrome-extension):$/i,Sj=function(ha){ha=String(ha);ha=ha.replace(Rj,function(bc){try{return encodeURIComponent(bc)}catch(tc){return encodeURIComponent(bc.replace(/^[^%]+$/g,
"\ufffd"))}}).replace(Al,function(bc){return bc.replace(/%/g,"%25")}).replace(bl,function(bc){return bc.toUpperCase()});ha=ha.match(zl)||[];var Aa=ud(),$a=function(bc){return bc.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},zb=!!(ha[1]||"").match(Bl);Aa.A=$a((ha[1]||"")+(ha[2]||"")+(ha[3]||(ha[2]&&zb?"/":"")));zb=function(bc){return $a(bc.replace(/\?/g,"%3F").replace(/#/g,"%23"))};Aa.query=ha[5]?[zb(ha[5])]:[];Aa.i=ha[7]?
[zb(ha[7])]:[];return Aa},ci=function(ha){return ha.A+(0<ha.query.length?"?"+ha.query.join("&"):"")+(0<ha.i.length?"#"+ha.i.join("&"):"")},nk=function(ha,Aa){var $a=[];if(ha)for(var zb in ha)if(Ld(ha,zb)&&null!=ha[zb]){var bc=Aa?Aa(ha[zb]):ha[zb];$a.push(encodeURIComponent(zb)+"="+encodeURIComponent(bc))}return $a},vf=function(ha,Aa,$a,zb){ha=Sj(ha);ha.query.push.apply(ha.query,nk(Aa,zb));ha.i.push.apply(ha.i,nk($a,zb));return ci(ha)},Bi=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+
"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),Hj=function(ha,Aa){var $a=Sj(Aa);Aa=$a.A;$a.query.length&&(Aa+="?"+$a.query.join(""));$a.i.length&&(Aa+="#"+$a.i.join(""));var zb="";2E3<Aa.length&&(zb=Aa,Aa=Aa.substr(0,2E3),Aa=Aa.replace(Bi,""),zb=zb.substr(Aa.length));var bc=ha.createElement("div");ha=ha.createElement("a");$a=Sj(Aa);Aa=$a.A;$a.query.length&&(Aa+="?"+$a.query.join(""));$a.i.length&&(Aa+="#"+$a.i.join(""));Aa=new we(Aa,Te);$d(ha,"HTMLAnchorElement");
Aa=Aa instanceof we?Aa:He(Aa);ha.href=ue(Aa);bc.appendChild(ha);Aa=bc.innerHTML;$a=new za(Yb,"Assignment to self.");yb(Ta($a),"must provide justification");rb(!/^[\s\xa0]*$/.test(Ta($a)),"must provide non-empty justification");void 0===Q&&(Q=Cb("gapi#html"));Aa=($a=Q)?$a.createHTML(Aa):Aa;Aa=new Wb(Aa,null,ef);if(bc.tagName&&Fa[bc.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+bc.tagName+".");if(Wa())for(;bc.lastChild;)bc.removeChild(bc.lastChild);
bc.innerHTML=Kh(Aa);Aa=String(bc.firstChild.href);bc.parentNode&&bc.parentNode.removeChild(bc);$a=Sj(Aa+zb);zb=$a.A;$a.query.length&&(zb+="?"+$a.query.join(""));$a.i.length&&(zb+="#"+$a.i.join(""));return zb},Cl=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,Gk=function(ha,Aa,$a,zb){if(Wf[$a+"EventListener"])Wf[$a+"EventListener"](ha,Aa,!1);else if(Wf[zb+"tachEvent"])Wf[zb+"tachEvent"]("on"+ha,Aa)},ok=function(){var ha=Gf.readyState;return"complete"===ha||"interactive"===ha&&-1==navigator.userAgent.indexOf("MSIE")},
pk=function(ha){var Aa=gs;if(!ok())try{Aa()}catch($a){}Co(ha)},Co=function(ha){if(ok())ha();else{var Aa=!1,$a=function(){if(!Aa)return Aa=!0,ha.apply(this,arguments)};Wf.addEventListener?(Wf.addEventListener("load",$a,!1),Wf.addEventListener("DOMContentLoaded",$a,!1)):Wf.attachEvent&&(Wf.attachEvent("onreadystatechange",function(){ok()&&$a.apply(this,arguments)}),Wf.attachEvent("onload",$a))}},em=function(ha){for(;ha.firstChild;)ha.removeChild(ha.firstChild)},zm={button:!0,div:!0,span:!0};var $f=
Oe(Wf,"___jsl",ud());Oe($f,"I",0);Oe($f,"hel",10);var sj=function(ha){return $f.dpo?$f.h:rj(ha,"jsh",$f.h)},Ql=function(ha){var Aa=Oe($f,"sws",[]);Aa.push.apply(Aa,ha)},ym=function(ha){return Oe($f,"watt",ud())[ha]},Bn=function(ha){var Aa=Oe($f,"PQ",[]);$f.PQ=[];var $a=Aa.length;if(0===$a)ha();else for(var zb=0,bc=function(){++zb===$a&&ha()},tc=0;tc<$a;tc++)Aa[tc](bc)},Rl=function(ha){return Oe(Oe($f,"H",ud()),ha,ud())},fm=Oe($f,"perf",ud()),Am=Oe(fm,"g",ud()),Do=Oe(fm,"i",ud());Oe(fm,"r",[]);ud();
ud();var Eo=function(ha,Aa,$a){var zb=fm.r;"function"===typeof zb?zb(ha,Aa,$a):zb.push([ha,Aa,$a])},fc=function(ha,Aa,$a){Am[ha]=!Aa&&Am[ha]||$a||(new Date).getTime();Eo(ha)},Lh=function(ha,Aa,$a){Aa&&0<Aa.length&&(Aa=oa(Aa),$a&&0<$a.length&&(Aa+="___"+oa($a)),28<Aa.length&&(Aa=Aa.substr(0,28)+(Aa.length-28)),$a=Aa,Aa=Oe(Do,"_p",ud()),Oe(Aa,$a,ud())[ha]=(new Date).getTime(),Eo(ha,"_p",$a))},oa=function(ha){return ha.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},x=ud(),C=[],G=
function(ha){throw Error("Bad hint"+(ha?": "+ha:""));};C.push(["jsl",function(ha){for(var Aa in ha)if(Ld(ha,Aa)){var $a=ha[Aa];"object"==typeof $a?$f[Aa]=Oe($f,Aa,[]).concat($a):Oe($f,Aa,$a)}if(Aa=ha.u)ha=Oe($f,"us",[]),ha.push(Aa),(Aa=/^https:(.*)$/.exec(Aa))&&ha.push("http:"+Aa[1])}]);var z=/^(\/[a-zA-Z0-9_\-]+)+$/,J=[/\/amp\//,/\/amp$/,/^\/amp$/],M=/^[a-zA-Z0-9\-_\.,!]+$/,O=/^gapi\.loaded_[0-9]+$/,ca=/^[a-zA-Z0-9,._-]+$/,qa=function(ha,Aa,$a,zb,bc){var tc=ha.split(";"),vd=tc.shift(),ze=x[vd],le=
null;ze?le=ze(tc,Aa,$a,zb):G("no hint processor for: "+vd);le||G("failed to generate load url");Aa=le;$a=Aa.match(ab);(zb=Aa.match(Ra))&&1===zb.length&&Ja.test(Aa)&&$a&&1===$a.length||G("failed sanity: "+ha);try{if(bc&&0<bc.length){Aa=ha=0;for($a={};Aa<bc.length;){var Pe=bc[Aa++];zb=void 0;zb=ra(Pe)?"o"+(Object.prototype.hasOwnProperty.call(Pe,ja)&&Pe[ja]||(Pe[ja]=++Ca)):(typeof Pe).charAt(0)+Pe;Object.prototype.hasOwnProperty.call($a,zb)||($a[zb]=!0,bc[ha++]=Pe)}bc.length=ha;le=le+"?le="+bc.join(",")}}catch(Rf){}return le},
R=function(ha,Aa,$a,zb){ha=ba(ha);O.test($a)||G("invalid_callback");Aa=la(Aa);zb=zb&&zb.length?la(zb):null;var bc=function(tc){return encodeURIComponent(tc).replace(/%2C/g,",")};return[encodeURIComponent(ha.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",bc(ha.version),"/m=",bc(Aa),zb?"/exm="+bc(zb):"","/rt=j/sv=1/d=1/ed=1",ha.T?"/am="+bc(ha.T):"",ha.Z?"/rs="+bc(ha.Z):"",ha.aa?"/t="+bc(ha.aa):"","/cb=",bc($a)].join("")},ba=function(ha){"/"!==ha.charAt(0)&&G("relative path");for(var Aa=ha.substring(1).split("/"),
$a=[];Aa.length;){ha=Aa.shift();if(!ha.length||0==ha.indexOf("."))G("empty/relative directory");else if(0<ha.indexOf("=")){Aa.unshift(ha);break}$a.push(ha)}ha={};for(var zb=0,bc=Aa.length;zb<bc;++zb){var tc=Aa[zb].split("="),vd=decodeURIComponent(tc[0]),ze=decodeURIComponent(tc[1]);2==tc.length&&vd&&ze&&(ha[vd]=ha[vd]||ze)}Aa="/"+$a.join("/");z.test(Aa)||G("invalid_prefix");$a=0;for(zb=J.length;$a<zb;++$a)J[$a].test(Aa)&&G("invalid_prefix");$a=ka(ha,"k",!0);zb=ka(ha,"am");bc=ka(ha,"rs");ha=ka(ha,
"t");return{pathPrefix:Aa,version:$a,T:zb,Z:bc,aa:ha}},la=function(ha){for(var Aa=[],$a=0,zb=ha.length;$a<zb;++$a){var bc=ha[$a].replace(/\./g,"_").replace(/-/g,"_");ca.test(bc)&&Aa.push(bc)}return Aa.join(",")},ka=function(ha,Aa,$a){ha=ha[Aa];!ha&&$a&&G("missing: "+Aa);if(ha){if(M.test(ha))return ha;G("invalid: "+Aa)}return null},Ja=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,Ra=/\/cb=/g,ab=/\/\//g,Ya=function(){var ha=sj(Mf.href);if(!ha)throw Error("Bad hint");return ha};
x.m=function(ha,Aa,$a,zb){(ha=ha[0])||G("missing_hint");return"https://apis.google.com"+R(ha,Aa,$a,zb)};var Qb=decodeURI("%73cript"),xc=/^[-+_0-9\/A-Za-z]+={0,2}$/,Ic=function(ha,Aa){for(var $a=[],zb=0;zb<ha.length;++zb){var bc=ha[zb];bc&&0>Ch.call(Aa,bc)&&$a.push(bc)}return $a},Gc=function(){var ha=$f.nonce;return void 0!==ha?ha&&ha===String(ha)&&ha.match(xc)?ha:$f.nonce=null:Gf.querySelector?(ha=Gf.querySelector("script[nonce]"))?(ha=ha.nonce||ha.getAttribute("nonce")||"",ha&&ha===String(ha)&&ha.match(xc)?
$f.nonce=ha:$f.nonce=null):null:null},Sc=function(ha){if("loading"!=Gf.readyState)xd(ha);else{var Aa=Gc(),$a="";null!==Aa&&($a=' nonce="'+Aa+'"');ha="<"+Qb+' src="'+encodeURI(ha)+'"'+$a+"></"+Qb+">";Gf.write(Tc?Tc.createHTML(ha):ha)}},xd=function(ha){var Aa=Gf.createElement(Qb);Aa.setAttribute("src",Tc?Tc.createScriptURL(ha):ha);ha=Gc();null!==ha&&Aa.setAttribute("nonce",ha);Aa.async="true";(ha=Gf.getElementsByTagName(Qb)[0])?ha.parentNode.insertBefore(Aa,ha):(Gf.head||Gf.body||Gf.documentElement).appendChild(Aa)},
Nd=function(ha,Aa){var $a=Aa&&Aa._c;if($a)for(var zb=0;zb<C.length;zb++){var bc=C[zb][0],tc=C[zb][1];tc&&Ld($a,bc)&&tc($a[bc],ha,Aa)}},Tb=function(ha,Aa,$a){Cf(function(){var zb=Aa===sj(Mf.href)?Oe(qj,"_",ud()):ud();zb=Oe(Rl(Aa),"_",zb);ha(zb)},$a)},fe=function(ha,Aa){var $a=Aa||{};"function"==typeof Aa&&($a={},$a.callback=Aa);Nd(ha,$a);Aa=ha?ha.split(":"):[];var zb=$a.h||Ya(),bc=Oe($f,"ah",ud());if(bc["::"]&&Aa.length){ha=[];for(var tc=null;tc=Aa.shift();){var vd=tc.split(".");vd=bc[tc]||bc[vd[1]&&
"ns:"+vd[0]||""]||zb;var ze=ha.length&&ha[ha.length-1]||null,le=ze;ze&&ze.hint==vd||(le={hint:vd,features:[]},ha.push(le));le.features.push(tc)}var Pe=ha.length;if(1<Pe){var Rf=$a.callback;Rf&&($a.callback=function(){0==--Pe&&Rf()})}for(;Aa=ha.shift();)df(Aa.features,$a,Aa.hint)}else df(Aa||[],$a,zb)},df=function(ha,Aa,$a){ha=Nf(ha)||[];var zb=Aa.callback,bc=Aa.config,tc=Aa.timeout,vd=Aa.ontimeout,ze=Aa.onerror,le=void 0;"function"==typeof ze&&(le=ze);var Pe=null,Rf=!1;if(tc&&!vd||!tc&&vd)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";
ze=Oe(Rl($a),"r",[]).sort();var fh=Oe(Rl($a),"L",[]).sort(),vh=$f.le,Yf=[].concat(ze),Dm=function(Em,Zm){if(Rf)return 0;Wf.clearTimeout(Pe);fh.push.apply(fh,Pi);var Oq=((qj||{}).config||{}).update;Oq?Oq(bc):bc&&Oe($f,"cu",[]).push(bc);if(Zm){Lh("me0",Em,Yf);try{Tb(Zm,$a,le)}finally{Lh("me1",Em,Yf)}}return 1};0<tc&&(Pe=Wf.setTimeout(function(){Rf=!0;vd()},tc));var Pi=Ic(ha,fh);if(Pi.length){Pi=Ic(ha,ze);var ui=Oe($f,"CP",[]),Uj=ui.length;ui[Uj]=function(Em){if(!Em)return 0;Lh("ml1",Pi,Yf);var Zm=function(Qw){ui[Uj]=
null;Dm(Pi,Em)&&Bn(function(){zb&&zb();Qw()})},Oq=function(){var Qw=ui[Uj+1];Qw&&Qw()};0<Uj&&ui[Uj-1]?ui[Uj]=function(){Zm(Oq)}:Zm(Oq)};if(Pi.length){var Dh="loaded_"+$f.I++;qj[Dh]=function(Em){ui[Uj](Em);qj[Dh]=null};ha=qa($a,Pi,"gapi."+Dh,ze,vh);ze.push.apply(ze,Pi);Lh("ml0",Pi,Yf);Aa.sync||Wf.___gapisync?Sc(ha):xd(ha)}else ui[Uj](ph)}else Dm(Pi)&&zb&&zb()},Tc=Cb("gapi#gapi"),Cf=function(ha,Aa){if($f.hee&&0<$f.hel)try{return ha()}catch($a){Aa&&Aa($a),$f.hel--,fe("debug_error",function(){try{window.___jsl.hefn($a)}catch(zb){throw $a;
}})}else try{return ha()}catch($a){throw Aa&&Aa($a),$a;}};qj.load=function(ha,Aa){return Cf(function(){return fe(ha,Aa)})};var qg=function(ha){var Aa=window.___jsl=window.___jsl||{};Aa[ha]=Aa[ha]||[];return Aa[ha]},uf=function(ha){var Aa=window.___jsl=window.___jsl||{};Aa.cfg=!ha&&Aa.cfg||{};return Aa.cfg},Qe=function(ha){return"object"===typeof ha&&/\[native code\]/.test(ha.push)},ae=function(ha,Aa,$a){if(Aa&&"object"===typeof Aa)for(var zb in Aa)!Object.prototype.hasOwnProperty.call(Aa,zb)||$a&&
"___goc"===zb&&"undefined"===typeof Aa[zb]||(ha[zb]&&Aa[zb]&&"object"===typeof ha[zb]&&"object"===typeof Aa[zb]&&!Qe(ha[zb])&&!Qe(Aa[zb])?ae(ha[zb],Aa[zb]):Aa[zb]&&"object"===typeof Aa[zb]?(ha[zb]=Qe(Aa[zb])?[]:{},ae(ha[zb],Aa[zb])):ha[zb]=Aa[zb])},fg=function(ha){if(ha&&!/^\s+$/.test(ha)){for(;0==ha.charCodeAt(ha.length-1);)ha=ha.substring(0,ha.length-1);try{var Aa=window.JSON.parse(ha)}catch($a){}if("object"===typeof Aa)return Aa;try{Aa=(new Function("return ("+ha+"\n)"))()}catch($a){}if("object"===
typeof Aa)return Aa;try{Aa=(new Function("return ({"+ha+"\n})"))()}catch($a){}return"object"===typeof Aa?Aa:{}}},Mh=function(ha,Aa){var $a={___goc:void 0};ha.length&&ha[ha.length-1]&&Object.hasOwnProperty.call(ha[ha.length-1],"___goc")&&"undefined"===typeof ha[ha.length-1].___goc&&($a=ha.pop());ae($a,Aa);ha.push($a)},Hf=function(ha){uf(!0);var Aa=window.___gcfg,$a=qg("cu"),zb=window.___gu;Aa&&Aa!==zb&&(Mh($a,Aa),window.___gu=Aa);Aa=qg("cu");var bc=document.scripts||document.getElementsByTagName("script")||
[];zb=[];var tc=[];tc.push.apply(tc,qg("us"));for(var vd=0;vd<bc.length;++vd)for(var ze=bc[vd],le=0;le<tc.length;++le)ze.src&&0==ze.src.indexOf(tc[le])&&zb.push(ze);0==zb.length&&0<bc.length&&bc[bc.length-1].src&&zb.push(bc[bc.length-1]);for(bc=0;bc<zb.length;++bc)zb[bc].getAttribute("gapi_processed")||(zb[bc].setAttribute("gapi_processed",!0),(tc=zb[bc])?(vd=tc.nodeType,tc=3==vd||4==vd?tc.nodeValue:tc.textContent||""):tc=void 0,(tc=fg(tc))&&Aa.push(tc));ha&&Mh($a,ha);zb=qg("cd");ha=0;for(Aa=zb.length;ha<
Aa;++ha)ae(uf(),zb[ha],!0);zb=qg("ci");ha=0;for(Aa=zb.length;ha<Aa;++ha)ae(uf(),zb[ha],!0);ha=0;for(Aa=$a.length;ha<Aa;++ha)ae(uf(),$a[ha],!0)},li=function(ha){var Aa=uf();if(!ha)return Aa;ha=ha.split("/");for(var $a=0,zb=ha.length;Aa&&"object"===typeof Aa&&$a<zb;++$a)Aa=Aa[ha[$a]];return $a===ha.length&&void 0!==Aa?Aa:void 0},Dl=function(ha,Aa){var $a;if("string"===typeof ha){var zb=$a={};ha=ha.split("/");for(var bc=0,tc=ha.length;bc<tc-1;++bc)zb=zb[ha[bc]]={};zb[ha[bc]]=Aa}else $a=ha;Hf($a)},Wi=
function(){var ha=window.__GOOGLEAPIS;ha&&(ha.googleapis&&!ha["googleapis.config"]&&(ha["googleapis.config"]=ha.googleapis),Oe($f,"ci",[]).push(ha),window.__GOOGLEAPIS=void 0)},ee={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},sg=!1,mi=ud(),tj=function(){if(!sg){for(var ha=document.getElementsByTagName("meta"),Aa=0;Aa<ha.length;++Aa){var $a=ha[Aa].name.toLowerCase();if(0==$a.lastIndexOf("google-signin-",0)){$a=$a.substring(14);var zb=
ha[Aa].content;ee[$a]&&zb&&(mi[$a]=zb)}}if(window.self!==window.top){ha=document.location.toString();for(var bc in ee)0<ee[bc]&&(Aa=rj(ha,bc,""))&&(mi[bc]=Aa)}sg=!0}bc=ud();pf(mi,bc);return bc},Cn=function(ha){return!!(ha.clientid&&ha.scope&&ha.callback)},Sl=window.console,rf=function(){},Ci=["gapi","logutil","enableDebugLogging"],kf=Ea;Ci[0]in kf||"undefined"==typeof kf.execScript||kf.execScript("var "+Ci[0]);for(var Mg;Ci.length&&(Mg=Ci.shift());)Ci.length||void 0===rf?kf=kf[Mg]&&kf[Mg]!==Object.prototype[Mg]?
kf[Mg]:kf[Mg]={}:kf[Mg]=rf;var Xh=function(){return!!$f.oa},qk=function(){},gm=Oe($f,"rw",ud()),Wv=function(ha){for(var Aa in gm)ha(gm[Aa])},Vr=function(ha,Aa){(ha=gm[ha])&&ha.state<Aa&&(ha.state=Aa)},Wm=function(ha){var Aa=window.___jsl=window.___jsl||{};Aa.cfg=Aa.cfg||{};Aa=Aa.cfg;if(!ha)return Aa;ha=ha.split("/");for(var $a=0,zb=ha.length;Aa&&"object"===typeof Aa&&$a<zb;++$a)Aa=Aa[ha[$a]];return $a===ha.length&&void 0!==Aa?Aa:void 0},Xv=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,
Yv=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,At=function(ha){var Aa=Wm("googleapis.config/sessionIndex");"string"===typeof Aa&&254<Aa.length&&(Aa=null);null==Aa&&(Aa=window.__X_GOOG_AUTHUSER);"string"===typeof Aa&&254<Aa.length&&(Aa=null);if(null==Aa){var $a=window.google;$a&&(Aa=$a.authuser)}"string"===typeof Aa&&254<Aa.length&&(Aa=null);null==Aa&&(ha=ha||window.location.href,Aa=rj(ha,"authuser")||null,null==Aa&&(Aa=(Aa=ha.match(Xv))?Aa[1]:null));if(null==
Aa)return null;Aa=String(Aa);254<Aa.length&&(Aa=null);return Aa},Bt=function(ha){var Aa=Wm("googleapis.config/sessionDelegate");"string"===typeof Aa&&21<Aa.length&&(Aa=null);null==Aa&&(Aa=(ha=(ha||window.location.href).match(Yv))?ha[1]:null);if(null==Aa)return null;Aa=String(Aa);21<Aa.length&&(Aa=null);return Aa},Fq,Fo,Go=void 0,Xm=function(ha){try{return Ea.JSON.parse.call(Ea.JSON,ha)}catch(Aa){return!1}},Bm=function(ha){return Object.prototype.toString.call(ha)},Gq=Bm(0),Ct=Bm(new Date(0)),Dt=Bm(!0),
Et=Bm(""),Zv=Bm({}),Ft=Bm([]),Ho=function(ha,Aa){if(Aa)for(var $a=0,zb=Aa.length;$a<zb;++$a)if(ha===Aa[$a])throw new TypeError("Converting circular structure to JSON");zb=typeof ha;if("undefined"!==zb){$a=Array.prototype.slice.call(Aa||[],0);$a[$a.length]=ha;Aa=[];var bc=Bm(ha);if(null!=ha&&"function"===typeof ha.toJSON&&(Object.prototype.hasOwnProperty.call(ha,"toJSON")||(bc!==Ft||ha.constructor!==Array&&ha.constructor!==Object)&&(bc!==Zv||ha.constructor!==Array&&ha.constructor!==Object)&&bc!==Et&&
bc!==Gq&&bc!==Dt&&bc!==Ct))return Ho(ha.toJSON.call(ha),$a);if(null==ha)Aa[Aa.length]="null";else if(bc===Gq)ha=Number(ha),isNaN(ha)||isNaN(ha-ha)?ha="null":-0===ha&&0>1/ha&&(ha="-0"),Aa[Aa.length]=String(ha);else if(bc===Dt)Aa[Aa.length]=String(!!Number(ha));else{if(bc===Ct)return Ho(ha.toISOString.call(ha),$a);if(bc===Ft&&Bm(ha.length)===Gq){Aa[Aa.length]="[";var tc=0;for(zb=Number(ha.length)>>0;tc<zb;++tc)tc&&(Aa[Aa.length]=","),Aa[Aa.length]=Ho(ha[tc],$a)||"null";Aa[Aa.length]="]"}else if(bc==
Et&&Bm(ha.length)===Gq){Aa[Aa.length]='"';tc=0;for($a=Number(ha.length)>>0;tc<$a;++tc)zb=String.prototype.charAt.call(ha,tc),bc=String.prototype.charCodeAt.call(ha,tc),Aa[Aa.length]="\b"===zb?"\\b":"\f"===zb?"\\f":"\n"===zb?"\\n":"\r"===zb?"\\r":"\t"===zb?"\\t":"\\"===zb||'"'===zb?"\\"+zb:31>=bc?"\\u"+(bc+65536).toString(16).substr(1):32<=bc&&65535>=bc?zb:"\ufffd";Aa[Aa.length]='"'}else if("object"===zb){Aa[Aa.length]="{";zb=0;for(tc in ha)Object.prototype.hasOwnProperty.call(ha,tc)&&(bc=Ho(ha[tc],
$a),void 0!==bc&&(zb++&&(Aa[Aa.length]=","),Aa[Aa.length]=Ho(tc),Aa[Aa.length]=":",Aa[Aa.length]=bc));Aa[Aa.length]="}"}else return}return Aa.join("")}},$v=/[\0-\x07\x0b\x0e-\x1f]/,aw=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,bw=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,cw=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,dw=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,ew=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,fw=/[ \t\n\r]+/g,
gw=/[^"]:/,hw=/""/g,iw=/true|false|null/g,jw=/00/,kw=/[\{]([^0\}]|0[^:])/,lw=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,mw=/[^\[,:][\[\{]/,nw=/^(\{|\}|\[|\]|,|:|0)+/,ow=/\u2028/g,pw=/\u2029/g,qw=function(ha){ha=String(ha);if($v.test(ha)||aw.test(ha)||bw.test(ha)||cw.test(ha))return!1;var Aa=ha.replace(dw,'""');Aa=Aa.replace(ew,"0");Aa=Aa.replace(fw,"");if(gw.test(Aa))return!1;Aa=Aa.replace(hw,"0");Aa=Aa.replace(iw,"0");if(jw.test(Aa)||kw.test(Aa)||lw.test(Aa)||mw.test(Aa)||!Aa||Aa.replace(nw,""))return!1;ha=
ha.replace(ow,"\\u2028").replace(pw,"\\u2029");Aa=void 0;try{Aa=Go?[Xm(ha)]:eval("(function (var_args) {\n  return Array.prototype.slice.call(arguments, 0);\n})(\n"+ha+"\n)")}catch($a){return!1}return Aa&&1===Aa.length?Aa[0]:!1},Gt=function(){var ha=((Ea.document||{}).scripts||[]).length;if((void 0===Fq||void 0===Go||Fo!==ha)&&-1!==Fo){Fq=Go=!1;Fo=-1;try{try{Go=!!Ea.JSON&&'{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'===Ea.JSON.stringify.call(Ea.JSON,{a:[3,!0,new Date(0)],c:function(){}})&&!0===Xm("true")&&
3===Xm('[{"a":3}]')[0].a}catch(Aa){}Fq=Go&&!Xm("[00]")&&!Xm('"\u0007"')&&!Xm('"\\0"')&&!Xm('"\\v"')}finally{Fo=ha}}},Ht=function(ha){if(-1===Fo)return!1;Gt();return(Fq?Xm:qw)(ha)},It=function(ha){if(-1!==Fo)return Gt(),Go?Ea.JSON.stringify.call(Ea.JSON,ha):Ho(ha)},rw=!Date.prototype.toISOString||"function"!==typeof Date.prototype.toISOString||"1970-01-01T00:00:00.000Z"!==(new Date(0)).toISOString(),sw=function(){var ha=Date.prototype.getUTCFullYear.call(this);return[0>ha?"-"+String(1E6-ha).substr(1):
9999>=ha?String(1E4+ha).substr(1):"+"+String(1E6+ha).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1E3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=rw?
sw:Date.prototype.toISOString;var Bp=function(){this.blockSize=64;this.g=[];this.K=[];this.da=[];this.G=[];this.G[0]=128;for(var ha=1;ha<this.blockSize;++ha)this.G[ha]=0;this.H=this.o=0;this.reset()};gb(Bp,function(){this.blockSize=-1});Bp.prototype.reset=function(){this.g[0]=1732584193;this.g[1]=4023233417;this.g[2]=2562383102;this.g[3]=271733878;this.g[4]=3285377520;this.H=this.o=0};var Hq=function(ha,Aa,$a){$a||($a=0);var zb=ha.da;if("string"===typeof Aa)for(var bc=0;16>bc;bc++)zb[bc]=Aa.charCodeAt($a)<<
24|Aa.charCodeAt($a+1)<<16|Aa.charCodeAt($a+2)<<8|Aa.charCodeAt($a+3),$a+=4;else for(bc=0;16>bc;bc++)zb[bc]=Aa[$a]<<24|Aa[$a+1]<<16|Aa[$a+2]<<8|Aa[$a+3],$a+=4;for(bc=16;80>bc;bc++){var tc=zb[bc-3]^zb[bc-8]^zb[bc-14]^zb[bc-16];zb[bc]=(tc<<1|tc>>>31)&4294967295}Aa=ha.g[0];$a=ha.g[1];var vd=ha.g[2],ze=ha.g[3],le=ha.g[4];for(bc=0;80>bc;bc++){if(40>bc)if(20>bc){tc=ze^$a&(vd^ze);var Pe=1518500249}else tc=$a^vd^ze,Pe=1859775393;else 60>bc?(tc=$a&vd|ze&($a|vd),Pe=2400959708):(tc=$a^vd^ze,Pe=3395469782);tc=
(Aa<<5|Aa>>>27)+tc+le+Pe+zb[bc]&4294967295;le=ze;ze=vd;vd=($a<<30|$a>>>2)&4294967295;$a=Aa;Aa=tc}ha.g[0]=ha.g[0]+Aa&4294967295;ha.g[1]=ha.g[1]+$a&4294967295;ha.g[2]=ha.g[2]+vd&4294967295;ha.g[3]=ha.g[3]+ze&4294967295;ha.g[4]=ha.g[4]+le&4294967295};Bp.prototype.update=function(ha,Aa){if(null!=ha){void 0===Aa&&(Aa=ha.length);for(var $a=Aa-this.blockSize,zb=0,bc=this.K,tc=this.o;zb<Aa;){if(0==tc)for(;zb<=$a;)Hq(this,ha,zb),zb+=this.blockSize;if("string"===typeof ha)for(;zb<Aa;){if(bc[tc]=ha.charCodeAt(zb),
++tc,++zb,tc==this.blockSize){Hq(this,bc);tc=0;break}}else for(;zb<Aa;)if(bc[tc]=ha[zb],++tc,++zb,tc==this.blockSize){Hq(this,bc);tc=0;break}}this.o=tc;this.H+=Aa}};Bp.prototype.digest=function(){var ha=[],Aa=8*this.H;56>this.o?this.update(this.G,56-this.o):this.update(this.G,this.blockSize-(this.o-56));for(var $a=this.blockSize-1;56<=$a;$a--)this.K[$a]=Aa&255,Aa/=256;Hq(this,this.K);for($a=Aa=0;5>$a;$a++)for(var zb=24;0<=zb;zb-=8)ha[Aa]=this.g[$a]>>zb&255,++Aa;return ha};var Jt=function(){this.P=
new Bp};Jt.prototype.reset=function(){this.P.reset()};var Wr=Wf.crypto,Kt=!1,Iq=0,tw=0,bg=1,Lt=0,Xr="",uw=function(ha){ha=ha||Wf.event;var Aa=ha.screenX+ha.clientX<<16;Aa+=ha.screenY+ha.clientY;Aa*=(new Date).getTime()%1E6;bg=bg*Aa%Lt;0<Iq&&++tw==Iq&&Gk("mousemove",uw,"remove","de")},vw=function(ha){var Aa=new Jt;ha=unescape(encodeURIComponent(ha));for(var $a=[],zb=0,bc=ha.length;zb<bc;++zb)$a.push(ha.charCodeAt(zb));Aa.P.update($a);Aa=Aa.P.digest();ha="";for($a=0;$a<Aa.length;$a++)ha+="0123456789ABCDEF".charAt(Math.floor(Aa[$a]/
16))+"0123456789ABCDEF".charAt(Aa[$a]%16);return ha};(Kt=!!Wr&&"function"==typeof Wr.getRandomValues)||(Lt=1E6*(screen.width*screen.width+screen.height),Xr=vw(Gf.cookie+"|"+Gf.location+"|"+(new Date).getTime()+"|"+Math.random()),Iq=Wm("random/maxObserveMousemove")||0,0!=Iq&&Gk("mousemove",uw,"add","at"));var Yr=function(){var ha=$f.onl;if(!ha){ha=ud();$f.onl=ha;var Aa=ud();ha.e=function($a){var zb=Aa[$a];zb&&(delete Aa[$a],zb())};ha.a=function($a,zb){Aa[$a]=zb};ha.r=function($a){delete Aa[$a]}}return ha},
jz=function(ha,Aa){Aa=Aa.onload;return"function"===typeof Aa?(Yr().a(ha,Aa),Aa):null},kz=function(ha){Gj(/^\w+$/.test(ha),"Unsupported id - "+ha);return'onload="window.___jsl.onl.e(&#34;'+ha+'&#34;)"'},lz=function(ha){Yr().r(ha)},$C={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},mz={allowtransparency:!0,onload:!0},nz=0,oz=function(ha){Gj(!ha||Cl.test(ha),"Illegal url for new iframe - "+ha)},Eg=function(ha,
Aa,$a,zb,bc){oz($a.src);var tc,vd=jz(zb,$a),ze=vd?kz(zb):"";try{document.all&&(tc=ha.createElement('<iframe frameborder="'+Pc(String($a.frameborder))+'" scrolling="'+Pc(String($a.scrolling))+'" '+ze+' name="'+Pc(String($a.name))+'"/>'))}catch(Pe){}finally{tc||(tc=(ha?new wf(Re(ha)):Gd||(Gd=new wf)).fa("IFRAME"),vd&&(tc.onload=function(){tc.onload=null;vd.call(this)},lz(zb)))}tc.setAttribute("ng-non-bindable","");for(var le in $a)ha=$a[le],"style"===le&&"object"===typeof ha?pf(ha,tc.style):mz[le]||
tc.setAttribute(le,String(ha));(le=bc&&bc.beforeNode||null)||bc&&bc.dontclear||em(Aa);Aa.insertBefore(tc,le);tc=le?le.previousSibling:Aa.lastChild;$a.allowtransparency&&(tc.allowTransparency=!0);return tc},ww=/^:[\w]+$/,Mt=/:([a-zA-Z_]+):/g,Zr=function(){var ha=At()||"0",Aa=Bt(),$a=At(void 0)||ha,zb=Bt(void 0),bc="";$a&&(bc+="u/"+encodeURIComponent(String($a))+"/");zb&&(bc+="b/"+encodeURIComponent(String(zb))+"/");$a=bc||null;(bc=(zb=!1===Wm("isLoggedIn"))?"_/im/":"")&&($a="");var tc=Wm("iframes/:socialhost:"),
vd=Wm("iframes/:im_socialhost:");return{socialhost:tc,ctx_socialhost:zb?vd:tc,session_index:ha,session_delegate:Aa,session_prefix:$a,im_prefix:bc}},xw=function(ha,Aa){return Zr()[Aa]||""},yw=function(ha){return function(Aa,$a){return ha?Zr()[$a]||ha[$a]||"":Zr()[$a]||""}},$r=function(ha){var Aa;ha.match(/^https?%3A/i)&&(Aa=decodeURIComponent(ha));return Hj(document,Aa?Aa:ha)},as=function(ha){ha=ha||"canonical";for(var Aa=document.getElementsByTagName("link"),$a=0,zb=Aa.length;$a<zb;$a++){var bc=Aa[$a],
tc=bc.getAttribute("rel");if(tc&&tc.toLowerCase()==ha&&(bc=bc.getAttribute("href"))&&(bc=$r(bc))&&null!=bc.match(/^https?:\/\/[\w\-_\.]+/i))return bc}return window.location.href},bs={se:"0"},zw={post:!0},Aw={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Nt="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Ot=Oe($f,"WI",ud()),Pt=function(ha,Aa,$a){var zb,bc={},tc=zb=ha;"plus"==ha&&Aa.action&&(zb=ha+"_"+Aa.action,tc=ha+"/"+
Aa.action);(zb=li("iframes/"+zb+"/url"))||(zb=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+tc+"?usegapi=1");for(var vd in bs)bc[vd]=vd+"/"+(Aa[vd]||bs[vd])+"/";bc=Hj(Gf,zb.replace(Mt,yw(bc)));vd="iframes/"+ha+"/params/";tc={};pf(Aa,tc);(zb=li("lang")||li("gwidget/lang"))&&(tc.hl=zb);zw[ha]||(tc.origin=window.location.origin||window.location.protocol+"//"+window.location.host);tc.exp=li(vd+"exp");if(vd=li(vd+"location"))for(zb=0;zb<vd.length;zb++){var ze=vd[zb];tc[ze]=Wf.location[ze]}switch(ha){case "plus":case "follow":vd=
tc.href;zb=Aa.action?void 0:"publisher";vd=(vd="string"==typeof vd?vd:void 0)?$r(vd):as(zb);tc.url=vd;delete tc.href;break;case "plusone":vd=(vd=Aa.href)?$r(vd):as();tc.url=vd;vd=Aa.db;zb=li();null==vd&&zb&&(vd=zb.db,null==vd&&(vd=zb.gwidget&&zb.gwidget.db));tc.db=vd||void 0;vd=Aa.ecp;zb=li();null==vd&&zb&&(vd=zb.ecp,null==vd&&(vd=zb.gwidget&&zb.gwidget.ecp));tc.ecp=vd||void 0;delete tc.href;break;case "signin":tc.url=as()}$f.ILI&&(tc.iloader="1");delete tc["data-onload"];delete tc.rd;for(var le in bs)tc[le]&&
delete tc[le];tc.gsrc=li("iframes/:source:");le=li("inline/css");"undefined"!==typeof le&&0<$a&&le>=$a&&(tc.ic="1");le=/^#|^fr-/;$a={};for(var Pe in tc)Ld(tc,Pe)&&le.test(Pe)&&($a[Pe.replace(le,"")]=tc[Pe],delete tc[Pe]);Pe="q"==li("iframes/"+ha+"/params/si")?tc:$a;le=tj();for(var Rf in le)!Ld(le,Rf)||Ld(tc,Rf)||Ld($a,Rf)||(Pe[Rf]=le[Rf]);Rf=[].concat(Nt);(Pe=li("iframes/"+ha+"/methods"))&&"object"===typeof Pe&&uh.test(Pe.push)&&(Rf=Rf.concat(Pe));for(var fh in Aa)Ld(Aa,fh)&&/^on/.test(fh)&&("plus"!=
ha||"onconnect"!=fh)&&(Rf.push(fh),delete tc[fh]);delete tc.callback;$a._methods=Rf.join(",");return vf(bc,tc,$a)},Bw=["style","data-gapiscan"],Qt=function(ha){for(var Aa=ud(),$a=0!=ha.nodeName.toLowerCase().indexOf("g:"),zb=0,bc=ha.attributes.length;zb<bc;zb++){var tc=ha.attributes[zb],vd=tc.name,ze=tc.value;0<=Ch.call(Bw,vd)||$a&&0!=vd.indexOf("data-")||"null"===ze||"specified"in tc&&!tc.specified||($a&&(vd=vd.substr(5)),Aa[vd.toLowerCase()]=ze)}ha=ha.style;($a=Rt(ha&&ha.height))&&(Aa.height=String($a));
(ha=Rt(ha&&ha.width))&&(Aa.width=String(ha));return Aa},Rt=function(ha){var Aa=void 0;"number"===typeof ha?Aa=ha:"string"===typeof ha&&(Aa=parseInt(ha,10));return Aa},Cw=function(){var ha=$f.drw;Wv(function(Aa){if(ha!==Aa.id&&4!=Aa.state&&"share"!=Aa.type){var $a=Aa.id,zb=Aa.type,bc=Aa.url;Aa=Aa.userParams;var tc=Gf.getElementById($a);if(tc){var vd=Pt(zb,Aa,0);vd?(tc=tc.parentNode,bc.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==vd.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(Aa.dontclear=!0,Aa.rd=
!0,Aa.ri=!0,Aa.type=zb,fs(tc,Aa),(zb=gm[tc.lastChild.id])&&(zb.oid=$a),Vr($a,4))):delete gm[$a]}else delete gm[$a]}})},Dw=/(?:^|\s)g-((\S)*)(?:$|\s)/,Ew={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};var Jq=Oe($f,"SW",ud());var Kq=Oe($f,"SA",ud());var Cp=Oe($f,"SM",ud());var cs=Oe($f,"FW",[]);var St=null;var Tt=function(ha,Aa){Ut(void 0,!1,ha,Aa)},Ut=function(ha,Aa,$a,zb){fc("ps0",!0);$a=("string"===typeof $a?document.getElementById($a):$a)||Gf;var bc=Gf.documentMode;if($a.querySelectorAll&&
(!bc||8<bc)){bc=zb?[zb]:mf(Jq).concat(mf(Kq)).concat(mf(Cp));for(var tc=[],vd=0;vd<bc.length;vd++){var ze=bc[vd];tc.push(".g-"+ze,"g\\:"+ze)}bc=$a.querySelectorAll(tc.join(","))}else bc=$a.getElementsByTagName("*");$a=ud();for(tc=0;tc<bc.length;tc++){var le=vd=bc[tc];ze=zb;var Pe=le.nodeName.toLowerCase(),Rf=void 0;if(le.getAttribute("data-gapiscan"))ze=null;else{var fh=Pe.indexOf("g:");0==fh?Rf=Pe.substr(2):(fh=(fh=String(le.className||le.getAttribute("class")))&&Dw.exec(fh))&&(Rf=fh[1]);ze=!Rf||
!(Jq[Rf]||Kq[Rf]||Cp[Rf])||ze&&Rf!==ze?null:Rf}ze&&(Ew[ze]||0==vd.nodeName.toLowerCase().indexOf("g:")||0!=mf(Qt(vd)).length)&&(vd.setAttribute("data-gapiscan",!0),Oe($a,ze,[]).push(vd))}if(Aa)for(var vh in $a)for(Aa=$a[vh],zb=0;zb<Aa.length;zb++)Aa[zb].setAttribute("data-onload",!0);for(var Yf in $a)cs.push(Yf);fc("ps1",!0);if((vh=cs.join(":"))||ha)try{qj.load(vh,ha)}catch(Pi){Sl&&Sl.log&&Sl.log(Pi);return}if(Vt(St||{}))for(var Dm in $a){ha=$a[Dm];Yf=0;for(Aa=ha.length;Yf<Aa;Yf++)ha[Yf].removeAttribute("data-gapiscan");
ds(Dm)}else{zb=[];for(Dm in $a)for(ha=$a[Dm],Yf=0,Aa=ha.length;Yf<Aa;Yf++)bc=ha[Yf],Wt(Dm,bc,Qt(bc),zb,Aa);es(vh,zb)}},Fw=function(ha){var Aa=Oe(qj,ha,{});Aa.go||(Aa.go=function($a){return Tt($a,ha)},Aa.render=function($a,zb){zb=zb||{};zb.type=ha;return fs($a,zb)})},Gw=function(ha){Jq[ha]=!0},Hw=function(ha){Kq[ha]=!0},Iw=function(ha){Cp[ha]=!0},ds=function(ha,Aa){var $a=ym(ha);Aa&&$a?($a(Aa),($a=Aa.iframeNode)&&$a.setAttribute("data-gapiattached",!0)):qj.load(ha,function(){var zb=ym(ha),bc=Aa&&Aa.iframeNode,
tc=Aa&&Aa.userParams;bc&&zb?(zb(Aa),bc.setAttribute("data-gapiattached",!0)):(zb=qj[ha].go,"signin2"==ha?zb(bc,tc):zb(bc&&bc.parentNode,tc))})},Vt=function(){return!1},es=function(){},Wt=function(ha,Aa,$a,zb,bc,tc,vd){switch(Xt(Aa,ha,tc)){case 0:ha=Cp[ha]?ha+"_annotation":ha;zb={};zb.iframeNode=Aa;zb.userParams=$a;ds(ha,zb);break;case 1:if(Aa.parentNode){for(var ze in $a){if(tc=Ld($a,ze))tc=$a[ze],tc=!!tc&&"object"===typeof tc&&(!tc.toString||tc.toString===Object.prototype.toString||tc.toString===
Array.prototype.toString);if(tc)try{$a[ze]=It($a[ze])}catch(Uj){delete $a[ze]}}tc=!0;$a.dontclear&&(tc=!1);delete $a.dontclear;qk();ze=Pt(ha,$a,bc);bc=vd||{};bc.allowPost=1;bc.attributes=Aw;bc.dontclear=!tc;vd={};vd.userParams=$a;vd.url=ze;vd.type=ha;if($a.rd)var le=Aa;else le=document.createElement("div"),Aa.setAttribute("data-gapistub",!0),le.style.cssText="position:absolute;width:450px;left:-10000px;",Aa.parentNode.insertBefore(le,Aa);vd.siteElement=le;le.id||(Aa=le,Oe(Ot,ha,0),tc="___"+ha+"_"+
Ot[ha]++,Aa.id=tc);Aa=ud();Aa[">type"]=ha;pf($a,Aa);tc=ze;$a=le;ze=bc||{};Aa=ze.attributes||{};Gj(!(ze.allowPost||ze.forcePost)||!Aa.onload,"onload is not supported by post iframe (allowPost or forcePost)");bc=Aa=tc;ww.test(Aa)&&(bc=Wm("iframes/"+bc.substring(1)+"/url"),Gj(!!bc,"Unknown iframe url config for - "+Aa));tc=Hj(Gf,bc.replace(Mt,xw));Aa=$a.ownerDocument||Gf;bc=ze;var Pe=0;do le=bc.id||["I",nz++,"_",(new Date).getTime()].join("");while(Aa.getElementById(le)&&5>++Pe);Gj(5>Pe,"Error creating iframe id");
bc=le;le=ze;Pe={};var Rf={};Aa.documentMode&&9>Aa.documentMode&&(Pe.hostiemode=Aa.documentMode);pf(le.queryParams||{},Pe);pf(le.fragmentParams||{},Rf);var fh=le.pfname,vh=ud();Wm("iframes/dropLegacyIdParam")||(vh.id=bc);vh._gfid=bc;vh.parent=Aa.location.protocol+"//"+Aa.location.host;var Yf=rj(Aa.location.href,"parent");fh=fh||"";!fh&&Yf&&(Yf=rj(Aa.location.href,"_gfid","")||rj(Aa.location.href,"id",""),fh=rj(Aa.location.href,"pfname",""),fh=Yf?fh+"/"+Yf:"");fh||(Yf=Ht(rj(Aa.location.href,"jcp","")))&&
"object"==typeof Yf&&(fh=(fh=Yf.id)?Yf.pfname+"/"+fh:"");vh.pfname=fh;le.connectWithJsonParam&&(Yf={},Yf.jcp=It(vh),vh=Yf);Yf=rj(tc,"rpctoken")||Pe.rpctoken||Rf.rpctoken;if(!Yf){if(!(Yf=le.rpctoken)){Yf=String;fh=Math;var Dm=fh.round;if(Kt){var Pi=new Wf.Uint32Array(1);Wr.getRandomValues(Pi);Pi=Number("0."+Pi[0])}else Pi=bg,Pi+=parseInt(Xr.substr(0,20),16),Xr=vw(Xr),Pi/=Lt+Math.pow(16,20);Yf=Yf(Dm.call(fh,1E8*Pi))}vh.rpctoken=Yf}le.rpctoken=Yf;pf(vh,le.connectWithQueryParams?Pe:Rf);Yf=Aa.location.href;
vh=ud();(fh=rj(Yf,"_bsh",$f.bsh))&&(vh._bsh=fh);(Yf=sj(Yf))&&(vh.jsh=Yf);le.hintInFragment?pf(vh,Rf):pf(vh,Pe);Pe=vf(tc,Pe,Rf,le.paramsSerializer);tc=ze;Rf=ud();pf($C,Rf);pf(tc.attributes,Rf);Rf.name=Rf.id=bc;Rf.src=Pe;ze.eurl=Pe;ze=(le=ze)||{};tc=!!ze.allowPost;if(ze.forcePost||tc&&2E3<Pe.length){tc=Sj(Pe);Rf.src="";le.dropDataPostorigin||(Rf["data-postorigin"]=Pe);ze=Eg(Aa,$a,Rf,bc);if(-1!=navigator.userAgent.indexOf("WebKit")){var ui=ze.contentWindow.document;ui.open();Pe=ui.createElement("div");
Rf={};vh=bc+"_inner";Rf.name=vh;Rf.src="";Rf.style="display:none";Eg(Aa,Pe,Rf,vh,le)}Pe=(le=tc.query[0])?le.split("&"):[];le=[];for(Rf=0;Rf<Pe.length;Rf++)vh=Pe[Rf].split("=",2),le.push([decodeURIComponent(vh[0]),decodeURIComponent(vh[1])]);tc.query=[];Pe=ci(tc);Gj(Cl.test(Pe),"Invalid URL: "+Pe);tc=Aa.createElement("form");tc.method="POST";tc.target=bc;tc.style.display="none";bc=Pe instanceof we?Pe:He(Pe);$d(tc,"HTMLFormElement").action=ue(bc);for(bc=0;bc<le.length;bc++)Pe=Aa.createElement("input"),
Pe.type="hidden",Pe.name=le[bc][0],Pe.value=le[bc][1],tc.appendChild(Pe);$a.appendChild(tc);tc.submit();tc.parentNode.removeChild(tc);ui&&ui.close();ui=ze}else ui=Eg(Aa,$a,Rf,bc,le);vd.iframeNode=ui;vd.id=ui.getAttribute("id");ui=vd.id;$a=ud();$a.id=ui;$a.userParams=vd.userParams;$a.url=vd.url;$a.type=vd.type;$a.state=1;gm[ui]=$a;ui=vd}else ui=null;ui&&((vd=ui.id)&&zb.push(vd),ds(ha,ui))}},Xt=function(ha,Aa,$a){if(ha&&1===ha.nodeType&&Aa){if($a)return 1;if(Cp[Aa]){if(zm[ha.nodeName.toLowerCase()])return(ha=
ha.innerHTML)&&ha.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(Kq[Aa])return 0;if(Jq[Aa])return 1}}return null},fs=function(ha,Aa){var $a=Aa.type;delete Aa.type;var zb=("string"===typeof ha?document.getElementById(ha):ha)||void 0;if(zb){ha={};for(var bc in Aa)Ld(Aa,bc)&&(ha[bc.toLowerCase()]=Aa[bc]);ha.rd=1;(Aa=!!ha.ri)&&delete ha.ri;bc=[];Wt($a,zb,ha,bc,0,Aa,void 0);es($a,bc)}else Sl&&Sl.log&&Sl.log("string"==="gapi."+$a+".render: missing element "+typeof ha?ha:"")};Oe(qj,"platform",{}).go=Tt;
Vt=function(ha){for(var Aa=["_c","jsl","h"],$a=0;$a<Aa.length&&ha;$a++)ha=ha[Aa[$a]];Aa=sj(Mf.href);return!ha||0!=ha.indexOf("n;")&&0!=Aa.indexOf("n;")&&ha!==Aa};es=function(ha,Aa){Jw(ha,Aa)};var gs=function(ha){Ut(ha,!0)},Lq=function(ha,Aa){Aa=Aa||[];for(var $a=0;$a<Aa.length;++$a)ha(Aa[$a]);for(ha=0;ha<Aa.length;ha++)Fw(Aa[ha])};C.push(["platform",function(ha,Aa,$a){St=$a;Aa&&cs.push(Aa);Lq(Gw,ha);Lq(Hw,$a._c.annotation);Lq(Iw,$a._c.bimodal);Wi();Hf();if("explicit"!=li("parsetags")){Ql(ha);Cn(tj())&&
!li("disableRealtimeCallback")&&qk();if($a&&(ha=$a.callback)){var zb=rg(ha);delete $a.callback}pk(function(){gs(zb)})}}]);qj._pl=!0;var hs=function(ha){if(ha=(ha=gm[ha])?ha.oid:void 0){var Aa=Gf.getElementById(ha);Aa&&Aa.parentNode.removeChild(Aa);delete gm[ha];hs(ha)}},Yt=/^\{h:'/,Zt=/^!_/,$t="",Jw=function(ha,Aa){function $a(){Gk("message",zb,"remove","de")}function zb(tc){var vd=tc.data,ze=tc.origin;if(Kw(vd,Aa)){var le=bc;bc=!1;le&&fc("rqe");Dn(ha,function(){le&&fc("rqd");$a();for(var Pe=Oe($f,
"RPMQ",[]),Rf=0;Rf<Pe.length;Rf++)Pe[Rf]({data:vd,origin:ze})})}}if(0!==Aa.length){$t=rj(Mf.href,"pfname","");var bc=!0;Gk("message",zb,"add","at");fe(ha,$a)}},Kw=function(ha,Aa){ha=String(ha);if(Yt.test(ha))return!0;var $a=!1;Zt.test(ha)&&($a=!0,ha=ha.substr(2));if(!/^\{/.test(ha))return!1;var zb=Ht(ha);if(!zb)return!1;ha=zb.f;if(zb.s&&ha&&-1!=Ch.call(Aa,ha)){if("_renderstart"===zb.s||zb.s===$t+"/"+ha+"::_renderstart")if(zb=zb.a&&zb.a[$a?0:1],Aa=Gf.getElementById(ha),Vr(ha,2),zb&&Aa&&zb.width&&zb.height){a:{$a=
Aa.parentNode;ha=zb||{};if(Xh()){var bc=Aa.id;if(bc){zb=(zb=gm[bc])?zb.state:void 0;if(1===zb||4===zb)break a;hs(bc)}}(zb=$a.nextSibling)&&zb.getAttribute&&zb.getAttribute("data-gapistub")&&($a.parentNode.removeChild(zb),$a.style.cssText="");zb=ha.width;var tc=ha.height,vd=$a.style;vd.textIndent="0";vd.margin="0";vd.padding="0";vd.background="transparent";vd.borderStyle="none";vd.cssFloat="none";vd.styleFloat="none";vd.lineHeight="normal";vd.fontSize="1px";vd.verticalAlign="baseline";$a=$a.style;
$a.display="inline-block";vd=Aa.style;vd.position="static";vd.left="0";vd.top="0";vd.visibility="visible";zb&&($a.width=vd.width=zb+"px");tc&&($a.height=vd.height=tc+"px");ha.verticalAlign&&($a.verticalAlign=ha.verticalAlign);bc&&Vr(bc,3)}Aa["data-csi-wdt"]=(new Date).getTime()}return!0}return!1},Dn=function(ha,Aa){fe(ha,Aa)},Dp=function(ha,Aa){this.M=ha;ha=Aa||{};this.ga=Number(ha.maxAge)||0;this.V=ha.domain;this.X=ha.path;this.ha=!!ha.secure};Dp.prototype.read=function(){for(var ha=this.M+"=",Aa=
document.cookie.split(/;\s*/),$a=0;$a<Aa.length;++$a){var zb=Aa[$a];if(0==zb.indexOf(ha))return zb.substr(ha.length)}};Dp.prototype.write=function(ha,Aa){if(!Mw.test(this.M))throw"Invalid cookie name";if(!Lw.test(ha))throw"Invalid cookie value";ha=this.M+"="+ha;this.V&&(ha+=";domain="+this.V);this.X&&(ha+=";path="+this.X);Aa="number"===typeof Aa?Aa:this.ga;if(0<=Aa){var $a=new Date;$a.setSeconds($a.getSeconds()+Aa);ha+=";expires="+$a.toUTCString()}this.ha&&(ha+=";secure");document.cookie=ha;return!0};
Dp.prototype.clear=function(){this.write("",0)};var Lw=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,Mw=/^[A-Z_][A-Z0-9_]{0,63}$/;Dp.iterate=function(ha){for(var Aa=document.cookie.split(/;\s*/),$a=0;$a<Aa.length;++$a){var zb=Aa[$a].split("="),bc=zb.shift();ha(bc,zb.join("="))}};var Mq=function(ha){this.F=ha};Mq.prototype.read=function(){if(En.hasOwnProperty(this.F))return En[this.F]};Mq.prototype.write=function(ha){En[this.F]=ha;return!0};Mq.prototype.clear=function(){delete En[this.F]};var En={};Mq.iterate=function(ha){for(var Aa in En)En.hasOwnProperty(Aa)&&
ha(Aa,En[Aa])};var au="https:"===window.location.protocol,Nq=au||"http:"===window.location.protocol?Dp:Mq,bu=function(ha){var Aa=ha.substr(1),$a="",zb=window.location.hostname;if(""!==Aa){$a=parseInt(Aa,10);if(isNaN($a))return null;Aa=zb.split(".");if(Aa.length<$a-1)return null;Aa.length==$a-1&&(zb="."+zb)}else zb="";return{j:"S"==ha.charAt(0),domain:zb,l:$a}},cu=function(){var ha,Aa=null;Nq.iterate(function($a,zb){0===$a.indexOf("G_AUTHUSER_")&&($a=bu($a.substring(11)),!ha||$a.j&&!ha.j||$a.j==ha.j&&
$a.l>ha.l)&&(ha=$a,Aa=zb)});return{ea:ha,J:Aa}},Ep=function(ha){if(!ha)return[];ha=ha.split("=");return ha[1]?ha[1].split("|"):[]},pz=function(ha){ha=ha.split(":");return{clientId:ha[0].split("=")[1],ja:Ep(ha[1]),ma:Ep(ha[2]),la:Ep(ha[3])}},qz=function(){var ha=cu(),Aa=ha.ea;ha=ha.J;if(null!==ha){var $a;Nq.iterate(function(tc,vd){(tc=Ub(tc))&&tc.W&&tc.j==Aa.j&&tc.l==Aa.l&&($a=vd)});if($a){var zb=pz($a),bc=zb&&zb.ja[Number(ha)];zb=zb&&zb.clientId;if(bc)return{J:ha,ia:bc,clientId:zb}}}return null},
rz=function(){this.U=BL};Bf=rz.prototype;Bf.$=function(){this.L||(this.v=0,this.L=!0,this.Y())};Bf.Y=function(){this.L&&(this.U()?this.v=this.S:this.v=Math.min(2*(this.v||this.S),120),window.setTimeout(hc(this.Y,this),1E3*this.v))};Bf.v=0;Bf.S=2;Bf.U=null;Bf.L=!1;var sz=null;Xh=function(){return $f.oa=!0};qk=function(){$f.oa=!0;var ha=qz();(ha=ha&&ha.J)&&Dl("googleapis.config/sessionIndex",ha);sz||(sz=Oe($f,"ss",new rz));ha=sz;ha.$&&ha.$()};var BL=function(){var ha=qz(),Aa=ha&&ha.ia||null,$a=ha&&
ha.clientId;fe("auth",{callback:function(){var zb=Wf.gapi.auth,bc={client_id:$a,session_state:Aa};zb.checkSessionState(bc,function(tc){var vd=bc.session_state,ze=!!li("isLoggedIn");tc=li("debug/forceIm")?!1:vd&&tc||!vd&&!tc;if(ze=ze!==tc)Dl("isLoggedIn",tc),qk(),Cw(),tc||((tc=zb.signOut)?tc():(tc=zb.setToken)&&tc(null));tc=tj();var le=li("savedUserState");vd=zb._guss(tc.cookiepolicy);le=le!=vd&&"undefined"!=typeof le;Dl("savedUserState",vd);(ze||le)&&Cn(tc)&&!li("disableRealtimeCallback")&&zb._pimf(tc,
!0)})}});return!0};fc("bs0",!0,window.gapi._bs);fc("bs1",!0);delete window.gapi._bs}).call(void 0);Mb.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,
"googleapis.config":{auth:{useFirstPartyAuthV2:!1}},inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"en",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},
plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll",
"openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},
plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},
plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},
url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},
sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},
zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},
h:"m;/_/scs/apps-static/_/js/k=oz.gapi.en_US.4sn9RO63fqo.O/am=AQ/d=1/rs=AGLTcCO5GqPeHrbNQGs79bP09BnjVkdwag/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"0f1abc58d350516bb217d384b46f49a849cf7c3a",dpo:!1,le:["ili","ipu"]},platform:"additnow backdrop blogger comments commentcount community donation family_creation follow hangout health page partnersbadge person playemm playreview plus plusone post ratingbadge savetoandroidpay savetodrive savetowallet sharetoclassroom shortlists signin2 surveyoptin visibility youtube ytsubscribe zoomableimage".split(" "),
fp:"0f1abc58d350516bb217d384b46f49a849cf7c3a",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});var Hb=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js");Hb.notify=function(pc,Ma){var Ib,pb,Ub,dc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vc){switch(vc.nextAddress){case 1:return Ib=Hb.morph({type:"text",textAlign:"center",textString:Ma,fill:null,padding:Hb.Rectangle.inset(10),fontSize:30,fontColor:"white",fontWeight:"bold",
readOnly:!0,grabbable:!1}),pb=Math.max(pc.width+40,Ib.width),Ub=Math.max(120,Ib.height),dc=pc.addMorph({extent:Hb.pt(pb,Ub),border:{radius:8},name:"notification",center:pc.innerBounds().center(),origin:Hb.pt(pb/2,Ub/2),fill:Hb.Color.gray,scale:.1,grabbable:!1,submorphs:[Ib]}),dc.submorphs[0].center=dc.innerBounds().center().subPt(Hb.pt(pb/2,Ub/2)),vc.yield(dc.animate({scale:1,duration:400}),2);case 2:return vc.yield(Hb.promise.delay(800),3);case 3:return vc.yield(dc.animate({opacity:0,duration:400}),
4);case 4:dc.remove(),vc.jumpToEnd()}})};Hb.promise=Ab;Hb.fun=gc;Hb.arr=Kb;Hb.string=Zc;Hb.resource=Kc;Hb.pt=md;Hb.Rectangle=Fc;Hb.Color=Bc;Hb.connect=Nc;Hb.once=Uc;Hb.signal=ce;Hb.morph=Zd;Hb.easings=pe;Hb.touchInputDevice=Mc;Hb.Icon=Kd;Hb.config=Jb;Hb.Morph=Dc;Hb.Menu=nd;Hb.loadMorphFromSnapshot=Hc;Hb.createMorphSnapshot=wd;Hb.UserRegistry=Qd;Hb.ClientUser=Eb;Hb.loadPart=ic;Hb.LoadingIndicator=jd;Hb.gapi=_missingExportShim;Hb.pathForBrowserHistory=jc;Hb.ObjectPackage=vb;Hb.interactivelyForkPackage=
db;Hb.addScript=ec;Mb=Ka("UserUI",{getCurrentUser:function(){return Hb.UserRegistry.current.loadUserFromLocalStorage(Hb.config.users.authServerURL)},showUserFlap:function(pc){pc=void 0===pc?$world:pc;var Ma,Ib;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pb){if(1==pb.nextAddress)return pb.yield(Hb.resource("part://SystemIDE/lively top bar master").read(),2);Ma=pb.yieldResult;Ma.name="lively top bar";Ma.hasFixedPosition=!0;Ma.respondsToVisibleWindow=!0;Ma.openInWorld();Ma.relayout();
Ma.top=-Ma.height;Ib=Ma.dropShadow;Ma.dropShadow=null;Ma.attachToTarget(pc);$world.onTopBarLoaded();wb.import("./__root_module__-7d3cbdeb.js").then(function(Ub){return Ub.bQ}).then(function(Ub){var dc,vc,gd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Nb){switch(Nb.nextAddress){case 1:return Nb.yield(Ma.whenRendered(),2);case 2:return Nb.yield(Ma.animate({position:Hb.pt(0,0),dropShadow:Ib,duration:500}),3);case 3:if(pc.metadata){Nb.jumpTo(4);break}pc.animate({customTween:function(Fb){Ma.blur=
pc.blur=3*Fb},duration:500});return Nb.yield(pc.askForName(),5);case 5:return dc=Nb.yieldResult,pc.name=dc,pc.changeMetaData("commit",{name:dc}),window.history&&window.history.pushState({},"lively.next",Hb.pathForBrowserHistory(dc)),vc=Hb.ObjectPackage.withId(Hb.string.camelCaseString(dc)),Nb.yield(vc.adoptObject(pc),6);case 6:pc.animate({customTween:function(Fb){Ma.blur=pc.blur=3*(1-Fb)},duration:500});case 4:return Nb.yield(Hb.resource("part://SystemUserUI/version checker").read(),7);case 7:gd=
Nb.yieldResult,gd.name="lively version checker",gd.openInWorld(),gd.relayout(),gd.checkVersion(),Nb.jumpToEnd()}})});return pb.return(Ma)})},hideUserFlap:function(pc){pc=void 0===pc?$world:pc;pc.submorphs.filter(function(Ma){return"user flap"===Ma.name&&Ma.owner==pc}).forEach(function(Ma){return Ma.remove()})},showWidget:function(pc,Ma){Ma=void 0===Ma?{}:Ma;var Ib=this,pb,Ub,dc,vc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(gd){if(1==gd.nextAddress)return pb=Ma,Ub=void 0===pb.modal?
!0:pb.modal,dc=void 0===pb.user?Ib.getCurrentUser():pb.user,gd.yield(Ib.loadMorph(pc),2);vc=gd.yieldResult;return gd.return(vc.run(Ub,Ma.world,dc))})},showUserInfo:function(pc){pc=void 0===pc?{}:pc;var Ma=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ib){return 1==Ib.nextAddress?Ib.yield(Ma.showWidget("user info",pc),2):Ib.return(Ib.yieldResult)})},showLogin:function(pc){pc=void 0===pc?{}:pc;var Ma=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ib){return Ib.return(Ma.showWidget("login widget",
pc))})},showRegister:function(pc){pc=void 0===pc?{}:pc;var Ma=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ib){return Ib.return(Ma.showWidget("register widget",pc))})},loadMorph:function(pc,Ma){var Ib,pb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ub){switch(Ub.nextAddress){case 1:switch(pc){case "login widget":return Ub.jumpTo(2);case "user info":return Ub.jumpTo(3);case "register widget":return Ub.jumpTo(4)}Ub.jumpTo(5);break;case 2:return Ub.yield(Hb.resource("part://SystemUserUI/login widget").read(),
6);case 6:return Ub.return(Ub.yieldResult);case 3:return Ub.yield(Hb.resource("part://SystemUserUI/user info").read(),7);case 7:return Ub.return(Ub.yieldResult);case 4:return Ub.yield(Hb.resource("part://SystemUserUI/register widget").read(),8);case 8:return Ub.return(Ub.yieldResult);case 5:return Ib=System.decanonicalize("lively.user/morphic/"+pc+".json"),Ub.yield(Hb.resource(Ib).readJson(),9);case 9:return pb=Ub.yieldResult,Ub.return(Hb.loadMorphFromSnapshot(pb,Ma))}})}});Hb.UserUI=Mb;Hb.UserUI=
Mb;Hb.UserUI=Mb;(function(pc){var Ma=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Ib=Ma.hasOwnProperty("UserWidget")&&"function"===typeof Ma.UserWidget?Ma.UserWidget:Ma.UserWidget=function(pb){pb&&pb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kd(Ib,pc,[{key:"run",value:function(pb,Ub,dc){var vc=this;Ub=void 0===Ub?$world:Ub;if(void 0===pb||pb)var gd=Ub.addMorph({name:this.name+" overlay",hasFixedPosition:!0,
grabbable:!1,draggable:!1,extent:Ub.extent,fill:Hb.Color.black.withA(.4)});this.epiMorph=this.hasFixedPosition=!0;this.activate(dc);return(new Promise(function(Nb,Fb){Hb.once(vc,"resolved",Nb)})).then(function(Nb){vc.remove();gd&&gd.remove();return Nb})}},{key:"activate",value:function(pb){pb=$world;pb.addMorph(this);this.align(this.worldPoint(this.innerBounds().center()),pb.visibleBounds().center());this.focus()}},{key:"onKeyDown",value:function(pb){"Enter"===pb.keyCombo&&(this.onEnterPressed(),
pb.stop());"Escape"===pb.keyCombo&&(this.onEscapePressed(),pb.stop());"Tab"===pb.keyCombo&&(this.focusNext(),pb.stop());"Shift-Tab"===pb.keyCombo&&(this.focusPrev(),pb.stop())}},{key:"focusOrder",value:function(){return[]}},{key:"focusNext",value:function(){var pb=this.focusOrder(),Ub=this.world().focusedMorph;Ub=pb.indexOf(Ub)+1;Ub>pb.length-1&&(Ub=0);pb[Ub].focus()}},{key:"focusPrev",value:function(){var pb=this.focusOrder(),Ub=this.world().focusedMorph;Ub=pb.indexOf(Ub)-1;0>Ub&&(Ub=pb.length-1);
pb[Ub].focus()}},{key:"onEscapePressed",value:function(){this.close()}},{key:"onEnterPressed",value:function(){}},{key:"close",value:function(){}},{key:"_save",value:function(){var pb=this,Ub;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dc){if(1==dc.nextAddress)return dc.yield(Hb.createMorphSnapshot(pb),2);Ub=dc.yieldResult;return dc.yield(lively.modules.module("lively.user/morphic/"+pb.name+".json").changeSource(JSON.stringify(Ub,null,2),{doEval:!1}),0)})}},{key:"_htmlExport",value:function(){var pb=
this,Ub,dc,vc,gd,Nb,Fb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(sb){if(1==sb.nextAddress)return Ub=lively.modules.module,dc=Ub("lively.user/html/"+pb.name+".html").id,vc=Hb.resource(dc),sb.yield(Ub("lively.morphic/rendering/html-generator.js").load(),2);if(3!=sb.nextAddress)return gd=sb.yieldResult,Nb=gd.generateHTML,sb.yield(Nb(pb,vc,{isFragment:!0,addStyles:!1}),3);Fb=sb.yieldResult;return sb.return({resource:vc,html:Fb})})}},{key:"htmlExport_transformNode",value:function(pb){this.focusOrder().forEach(function(Ub,
dc){return pb.querySelector("#"+Ub.id).tabIndex=dc+1});return pb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserWidget"}},{key:"properties",get:function(){return{user:{}}}}],Ma,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:5359,end:8091})})(Hb.Morph);Mb=Ka("UserInfoWidget",
function(pc){var Ma=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Ib=Ma.hasOwnProperty("UserInfoWidget")&&"function"===typeof Ma.UserInfoWidget?Ma.UserInfoWidget:Ma.UserInfoWidget=function(pb){pb&&pb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kd(Ib,pc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),
emailInput:this.getSubmorphNamed("email input"),saveButton:this.getSubmorphNamed("save button"),logoutButton:this.getSubmorphNamed("logout button"),closeButton:this.getSubmorphNamed("close button"),userAvatar:this.getSubmorphNamed("user avatar")}}},{key:"activate",value:function(pb){kd._get(Object.getPrototypeOf(Ib.prototype),"activate",this).call(this,pb);this.displayUser(pb)}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){var pb=this.ui;return[pb.userNameInput,
pb.emailInput,pb.passwordInput,pb.passwordInput2]}},{key:"onEnterPressed",value:function(){this.trySave()}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(pb){pb.draggable=!1;pb.grabbable=!1});Hb.connect(this.ui.saveButton,"fire",this,"trySave");Hb.connect(this.ui.logoutButton,"fire",this,"logout");Hb.connect(this.ui.closeButton,"onMouseDown",this,"close");this.ui.userNameInput.readOnly=!0;this.ui.userNameInput.selectable=!0;Hb.notify(this,"OK")}},{key:"displayUser",value:function(pb){pb=
(this.user=pb)||{};var Ub=pb.email,dc=this.ui,vc=dc.emailInput,gd=dc.passwordInput,Nb=dc.passwordInput2,Fb=dc.userAvatar;dc.userNameInput.input=pb.name||"";vc.input=Ub||"";gd.input="";Nb.input="";Fb.imageUrl=Hb.resource("https://s.gravatar.com/avatar").join(Hb.string.md5(Ub||"")).withQuery({s:320}).url}},{key:"trySave",value:function(){var pb=this,Ub,dc,vc,gd,Nb,Fb,sb,Ea,ua,V,ra,ja,Ca,va,cb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(hc){switch(hc.nextAddress){case 1:Ub=pb;dc=Ub.user;
vc=Ub.ui;gd=vc.emailInput;Nb=vc.passwordInput;Fb=vc.passwordInput2;if(!dc)return hc.return(pb.showError("no user object"));sb=gd.input;Ea=Nb.input;ua=Fb.input;if(dc.email==sb&&!Ea&&!ua)return hc.return(Hb.signal(pb,"resolved",dc));if(!Ea&&!ua){hc.jumpTo(2);break}return Ea!==ua?hc.return(pb.world().inform("Passwords do not match!",{requester:pb})):hc.yield(pb.world().passwordPrompt("To set a new password, please enter your old one",{requester:pb}),3);case 3:return(V=hc.yieldResult)?hc.yield(dc.checkPassword(V),
4):hc.return(pb.world().inform("Old password needed to change password, aborting!",{requester:pb}));case 4:if(ra=hc.yieldResult,!ra)return hc.return(pb.world().inform("Old password is not correct, aborting!",{requester:pb}));case 2:return ja={},Ea&&(ja.password=Ea),sb&&(ja.email=sb),hc.yield(dc.modify(ja),5);case 5:return Ca=hc.yieldResult,va=Ca.status,(cb=Ca.error)?hc.return(pb.world().inform("Failed to modify: "+cb,{requester:pb})):hc.yield(Hb.UserRegistry.current.saveUserToLocalStorage(dc),6);
case 6:return hc.yield(Hb.notify(pb,va),7);case 7:pb.displayUser(dc),Hb.signal(pb,"resolved",dc),hc.jumpToEnd()}})}},{key:"logout",value:function(){var pb=this,Ub;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dc){if(1==dc.nextAddress)return dc.yield(Hb.UserRegistry.current.logout(pb.user),2);if(3!=dc.nextAddress)return pb.displayUser(pb.user),pb.remove(),dc.yield(Hb.UserUI.showLogin({modal:!1}),3);Ub=dc.yieldResult;Hb.signal(pb,"resolved",Ub);dc.jumpToEnd()})}},{key:"close",value:function(){Hb.signal(this,
"resolved",this.user)}},{key:"onMouseUp",value:function(pb){var Ub=this.ui,dc=Ub.closeButton;Ub=Ub.saveButton;switch(pb.targetMorph){case dc:this.close();break;case Ub:this.trySave()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserInfoWidget"}}],Ma,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",
version:"0.2.0"}}},{start:8100,end:12116})}(Hb.UserWidget));Hb.UserInfoWidget=Mb;Hb.UserInfoWidget=Mb;Hb.UserInfoWidget=Mb;Mb=Ka("LoginWidget",function(pc){var Ma=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Ib=Ma.hasOwnProperty("LoginWidget")&&"function"===typeof Ma.LoginWidget?Ma.LoginWidget:Ma.LoginWidget=function(pb){pb&&pb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kd(Ib,pc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
passwordInput:this.getSubmorphNamed("password input"),loginButton:this.getSubmorphNamed("login button"),registerButton:this.getSubmorphNamed("register button"),guestButton:this.getSubmorphNamed("guest button"),emailLoginForm:this.getSubmorphNamed("email login form"),googleLogin:this.getSubmorphNamed("google login"),emailLogin:this.getSubmorphNamed("email login"),appleLogin:this.getSubmorphNamed("apple login")}}},{key:"signInWithGoogle",value:function(){Hb.gapi.load("auth2",function(){var pb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ub){if(1==
Ub.nextAddress)return Hb.gapi.auth2.init({client_id:"CLIENT_ID.apps.googleusercontent.com"}),pb=Hb.gapi.auth2.getAuthInstance(),Ub.yield(pb.signIn(),2);Ub.jumpToEnd()})})}},{key:"signInWithEmail",value:function(){var pb=this,Ub,dc,vc,gd,Nb,Fb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(sb){Ub=pb.ui;dc=Ub.emailLoginForm;vc=Ub.googleLogin;gd=Ub.emailLogin;Nb=Ub.appleLogin;Fb=Hb.easings.inOutExpo;[vc,gd,Nb].map(function(Ea){return Ea.animate({visible:!1,isLayoutable:!1,easing:Fb,duration:300})});
dc.animate({visible:!0,isLayoutable:!0,easing:Fb,duration:300});sb.jumpToEnd()})}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.passwordInput]}},{key:"reset",value:function(){this.withAllSubmorphsDo(function(Ea){Ea.draggable=!1;Ea.grabbable=!1});var pb=this.ui,Ub=pb.registerButton,dc=pb.userNameInput,vc=pb.appleLogin,gd=pb.passwordInput,Nb=pb.emailLoginForm,Fb=pb.googleLogin,sb=pb.emailLogin;Hb.connect(pb.loginButton,
"fire",this,"tryLogin");Hb.connect(Ub,"fire",this,"switchToRegisterWidget");Hb.connect(sb,"fire",this,"signInWithEmail");Hb.connect(Fb,"fire",this,"loginWithGoogle");dc.input="";gd.input="";Nb.isLayoutable=Nb.visible=!1;[sb,vc,Fb].map(function(Ea){return Ea.visible=Ea.isLayoutable=!0})}},{key:"onEnterPressed",value:function(){this.tryLogin()}},{key:"tryLogin",value:function(){var pb=this,Ub,dc,vc,gd,Nb,Fb,sb,Ea,ua;return $jscomp.asyncExecutePromiseGeneratorProgram(function(V){switch(V.nextAddress){case 1:Ub=
pb;dc=Ub.ui;vc=dc.userNameInput;gd=dc.passwordInput;Nb=vc.input;Fb=gd.input;if(!Nb)return V.return();sb=Hb.ClientUser.named(Nb,Hb.config.users.authServerURL);V.setCatchFinallyBlocks(2);return V.yield(Hb.UserRegistry.current.login(sb,Fb),4);case 4:V.leaveTryBlock(3);break;case 2:ua=V.enterCatchBlock(),Ea=ua.message;case 3:if(Ea)return Hb.signal(pb,"loginFailed",Ea),Ea.includes("No user")&&pb.indicateError(pb.ui.userNameInput,Ea),Ea.includes("does not match")&&pb.indicateError(pb.ui.passwordInput,"Password incorrect"),
V.return();Hb.notify(pb,"logged in");Hb.signal(pb,"loginSucceeded",sb);Hb.signal(pb,"resolved",sb);V.jumpToEnd()}})}},{key:"switchToRegisterWidget",value:function(){var pb=this,Ub;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dc){if(1==dc.nextAddress)return dc.yield(Hb.UserUI.showRegister({modal:!1}),2);(Ub=dc.yieldResult)&&Hb.signal(pb,"resolved",Ub);dc.jumpToEnd()})}},{key:"continueAsGuest",value:function(){var pb=this,Ub,dc,vc,gd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Nb){if(1==
Nb.nextAddress)return Ub=Hb.UserRegistry.current,dc=Ub.loadUserFromLocalStorage(Hb.config.users.authServerURL),dc.isGuestUser?(vc=dc,Nb.jumpTo(2)):Nb.yield(Ub.login(Hb.ClientUser.guest),3);2!=Nb.nextAddress&&(vc=Nb.yieldResult);gd=vc;Hb.signal(pb,"resolved",gd);Nb.jumpToEnd()})}},{key:"indicateError",value:function(pb,Ub){pb.indicateError(Ub)}},{key:"clearErrors",value:function(){this.ui.userNameInput.clearError();this.ui.passwordInput.clearError()}},{key:"onMouseUp",value:function(pb){var Ub=this.ui,
dc=Ub.loginButton;Ub=Ub.registerButton;switch(pb.targetMorph){case dc:this.tryLogin();break;case Ub:this.switchToRegisterWidget()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LoginWidget"}}],Ma,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:12125,end:16036})}(Hb.UserWidget));
Hb.LoginWidget=Mb;Hb.LoginWidget=Mb;Hb.LoginWidget=Mb;Mb=Ka("RegisterWidget",function(pc){var Ma=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Ib=Ma.hasOwnProperty("RegisterWidget")&&"function"===typeof Ma.RegisterWidget?Ma.RegisterWidget:Ma.RegisterWidget=function(pb){pb&&pb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kd(Ib,pc,[{key:"ui",get:function(){return{userNameInput:this.getSubmorphNamed("user name input"),
emailInput:this.getSubmorphNamed("email input"),passwordInput:this.getSubmorphNamed("password input"),passwordInput2:this.getSubmorphNamed("password input 2"),registerButton:this.getSubmorphNamed("register button"),cancelButton:this.getSubmorphNamed("cancel button")}}},{key:"onEnterPressed",value:function(){this.tryRegister()}},{key:"focus",value:function(){this.ui.userNameInput.focus()}},{key:"focusOrder",value:function(){return[this.ui.userNameInput,this.ui.emailInput,this.ui.passwordInput,this.ui.passwordInput2]}},
{key:"reset",value:function(){this.withAllSubmorphsDo(function(pb){pb.draggable=!1;pb.grabbable=!1});Hb.connect(this.ui.registerButton,"fire",this,"tryRegister");Hb.connect(this.ui.cancelButton,"fire",this,"close");this.ui.userNameInput.readOnly=!0;this.ui.userNameInput.selectable=!0;Hb.notify(this,"OK")}},{key:"displayUser",value:function(pb){this.user=pb}},{key:"tryRegister",value:function(){var pb=this,Ub,dc,vc,gd,Nb,Fb,sb,Ea,ua,V,ra,ja,Ca;return $jscomp.asyncExecutePromiseGeneratorProgram(function(va){switch(va.nextAddress){case 1:Ub=
pb;dc=Ub.ui;vc=dc.userNameInput;gd=dc.emailInput;Nb=dc.passwordInput;Fb=dc.passwordInput2;sb=vc.input;Ea=gd.input;ua=Nb.input;V=Fb.input;if(!(sb&&ua&&V&&Ea))return sb||vc.indicateError("Please enter a user name!"),Ea||gd.indicateError("Please enter E-Mail address!"),ua||Nb.indicateError("Please enter a password!"),V||Fb.indicateError("Please repeat your password!"),va.return();if(ua!==V)return Fb.indicateError("Passwords do not match!"),va.return();ra=Hb.ClientUser.named(sb,Hb.config.users.authServerURL);
Ea&&(ra.email=Ea);va.setCatchFinallyBlocks(2);return va.yield(Hb.UserRegistry.current.register(ra,ua),4);case 4:va.leaveTryBlock(3);break;case 2:ja=Ca=va.enterCatchBlock();case 3:return ja?va.return(pb.world().inform("Failed to register: "+ja,{requester:pb})):va.yield(Hb.notify(pb,"registered"),5);case 5:pb.displayUser(ra),Hb.signal(pb,"resolved",ra),va.jumpToEnd()}})}},{key:"close",value:function(){Hb.signal(this,"resolved",this.user)}},{key:"onMouseUp",value:function(pb){var Ub=this.ui,dc=Ub.registerButton;
Ub=Ub.cancelButton;switch(pb.targetMorph){case dc:this.tryRegister();break;case Ub:this.close()}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RegisterWidget"}}],Ma,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:16045,end:18939})}(Hb.UserWidget));Hb.RegisterWidget=
Mb;Hb.RegisterWidget=Mb;Hb.RegisterWidget=Mb;Mb=Ka("UserFlap",function(pc){var Ma=lively.FreezerRuntime.recorderFor("lively.user/morphic/user-ui.js"),Ib=Ma.hasOwnProperty("UserFlap")&&"function"===typeof Ma.UserFlap?Ma.UserFlap:Ma.UserFlap=function(pb){pb&&pb[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return kd(Ib,pc,[{key:"isUserFlap",get:function(){return!0}},{key:"isMaximized",get:function(){return 3<this.submorphs.length}},{key:"onLoad",
value:function(){var pb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ub){if(1==Ub.nextAddress)return Ub.yield(pb.whenRendered(),2);if([pb].concat($jscomp.arrayFromIterable(pb.ownerChain())).find(function(dc){return dc.isComponent}))return Ub.return();pb.showUser(pb.currentUser());Ub.jumpToEnd()})}},{key:"open",value:function(){var pb=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ub){pb.openInWorld();pb.showUser(pb.currentUser(),!1);pb.alignInWorld(!1);pb.hasFixedPosition=
!0;return Ub.return(pb)})}},{key:"onMouseDown",value:function(pb){var Ub=this,dc,vc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(gd){switch(gd.nextAddress){case 1:dc=pb.targetMorph.name;vc=Ub.currentUser();switch(dc){case "profile item":return gd.return(Ub.showUserInfo(vc));case "logout item":return gd.jumpTo(2);case "login item":return gd.jumpTo(3);case "register item":Ub.showRegister();break;case "user flap":Ub.maximize();break;case "keyboard input":Ub.toggleKeyboardInput()}gd.jumpTo(0);
break;case 2:return gd.yield(Ub.minimize(),5);case 5:return gd.yield(Ub.logout(vc),6);case 6:return gd.return();case 3:return gd.yield(Ub.showLogin(vc),7);case 7:return gd.return()}})}},{key:"toggleKeyboardInput",value:function(pb){pb=void 0===pb?!Hb.touchInputDevice:pb;Hb.touchInputDevice=pb;var Ub=this.get("keyboard input");pb?(Ub.fontColor=Hb.Color.rgb(0,176,255),Ub.dropShadow=this.haloShadow):(Ub.fontColor=this.fontColor,Ub.dropShadow=!1)}},{key:"currentUser",value:function(){return Hb.UserRegistry.current.loadUserFromLocalStorage(Hb.config.users.authServerURL)}},
{key:"onUserChanged",value:function(pb){this.showUser(pb.user||{name:"???"},!1)}},{key:"onWorldResize",value:function(pb){!this.isComponent&&this.alignInWorld()}},{key:"relayout",value:function(){this.alignInWorld()}},{key:"alignInWorld",value:function(pb){var Ub=this,dc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vc){if(1==vc.nextAddress)return vc.yield(Ub.whenRendered(),2);Ub.hasFixedPosition&&Ub.owner.isWorld?Ub.topRight=Hb.pt(Ub.world().visibleBounds().width,0):Ub.owner.isWorld&&
(dc=$world.visibleBounds().topRight().withY(0).subXY(10,0),pb?Ub.animate({topRight:dc,duration:200}):Ub.topRight=dc);vc.jumpToEnd()})}},{key:"minimize",value:function(){var pb=this,Ub;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dc){if(1==dc.nextAddress)return(Ub=pb.getSubmorphNamed("user menu"))?dc.yield(Ub.animate({opacity:0,scale:.8,duration:200}),2):dc.return();Ub.visible=!1;dc.jumpToEnd()})}},{key:"ensureMenu",value:function(){var pb=this,Ub,dc,vc,gd,Nb,Fb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(sb){switch(sb.nextAddress){case 1:if(!pb._menuFetch){sb.jumpTo(2);
break}return sb.yield(pb._menuFetch,3);case 3:return sb.return(sb.yieldResult);case 2:Ub=Hb.promise.deferred();pb._menuFetch=Ub.promise;if(dc=pb.getSubmorphNamed("user menu")){sb.jumpTo(4);break}vc=pb;gd=vc.addMorph;Nb=vc;return sb.yield(Hb.resource("part://SystemIDE/user menu master").read(),5);case 5:dc=gd.call(Nb,sb.yieldResult);case 4:Fb=dc,Fb.name="user menu",Fb.visible=!1,Fb.opacity=0,Fb.scale=.8,Fb.position=pb.getSubmorphNamed("avatar").bottomCenter.addXY(0,10),Ub.resolve(Fb),sb.jumpToEnd()}})}},
{key:"maximize",value:function(){var pb=this,Ub;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dc){if(1==dc.nextAddress)return(Ub=pb.getSubmorphNamed("user menu"))?dc.jumpTo(2):dc.yield(pb.ensureMenu(),3);2!=dc.nextAddress&&(Ub=dc.yieldResult);Ub.right=pb.width-5;Ub.visible=!0;return dc.yield(Ub.animate({opacity:1,scale:1,duration:200}),0)})}},{key:"changeWidthAndHeight",value:function(pb,Ub,dc){var vc=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(gd){return dc?gd.yield(vc.animate({position:vc.position.addXY(vc.width-
pb,0),extent:Hb.pt(pb,Ub),duration:200}),0):(vc.extent=Hb.pt(pb,Ub),vc.position=vc.position.addXY(vc.width-pb,0),gd.jumpTo(0))})}},{key:"showMenuItems",value:function(pb){var Ub=this;Hb.arr.withoutAll(["login item","logout item","profile item","register item"],pb).map(function(dc){return Ub.getSubmorphNamed(dc)}).forEach(function(dc){dc.visible=!1;dc.bringToFront()});pb.map(function(dc){return Ub.getSubmorphNamed(dc)}).forEach(function(dc){dc.visible=!0})}},{key:"showUser",value:function(pb,Ub){var dc=
this,vc,gd,Nb,Fb,sb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ea){switch(Ea.nextAddress){case 1:return vc=dc.getSubmorphNamed("label"),gd=dc.getSubmorphNamed("user menu"),Nb=dc.getSubmorphNamed("avatar"),dc.getSubmorphNamed("login item"),dc.getSubmorphNamed("logout item"),dc.getSubmorphNamed("profile item"),Fb=String(pb.name),sb=Hb.resource("https://s.gravatar.com/avatar").join(Hb.string.md5(pb.email||"")).withQuery({s:160}).url,Ea.yield(dc.ensureMenu(),2);case 2:Fb.startsWith("guest-")?
(dc.showMenuItems(["login item","register item"]),Fb="guest"):dc.showMenuItems(["logout item","profile item"]);vc.value=Fb;Nb.imageUrl=sb;if(!gd){Ea.jumpTo(3);break}return Ea.yield(gd.master.whenApplied(),4);case 4:gd.position=Nb.bottomCenter.addXY(0,10);case 3:return Ea.yield(dc.whenRendered(),5);case 5:dc.alignInWorld(),Ea.jumpToEnd()}})}},{key:"showRegister",value:function(){return Hb.UserUI.showRegister()}},{key:"showUserInfo",value:function(pb){return Hb.UserUI.showUserInfo({user:pb})}},{key:"showLogin",
value:function(pb){return Hb.UserUI.showLogin({user:pb})}},{key:"logout",value:function(pb){return Hb.UserRegistry.current.logout(pb)}},{key:"onBlur",value:function(pb){var Ub=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dc){if(1==dc.nextAddress)return Ub.minimize(),dc.yield(Ub.whenRendered(),2);Ub.world().focusedMorph.ownerChain().includes(Ub)&&Ub.focus();dc.jumpToEnd()})}},{key:"showMenu",value:function(pb,Ub){Ub=void 0===Ub?!1:Ub;var dc=this,vc,gd,Nb,Fb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(sb){vc=
dc.getSubmorphNamed("label");gd=dc.getSubmorphNamed("avatar");Nb=["open chat",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ea){Ea.jumpToEnd()})}];Fb=Object.assign(Hb.Menu.forItems(pb.isGuestUser?[Nb,["login",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ea){dc.minimize();dc.showLogin(pb);Ea.jumpToEnd()})}]]:[["show user info",function(){dc.minimize();dc.showUserInfo(pb)}],Nb,["logout",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ea){if(1==
Ea.nextAddress)return Ea.yield(dc.minimize(),2);dc.logout(pb);Ea.jumpToEnd()})}]]),{name:"menu",position:Hb.pt(10,5),dropShadow:!1,opacity:Ub?0:1,borderWidth:0,fontSize:12,fontFamily:"Helvetica Neue, Verdana, Sans Serif"});gd.visible=!1;vc.visible=!1;dc.addMorph(Fb);Ub&&Fb.animate({opacity:1,duration:200});return sb.yield(dc.changeWidthAndHeight(Fb.width+20,Fb.height+10,Ub),0)})}},{key:"updateNetworkIndicator",value:function(pb){var Ub="red";pb&&(pb.isOnline()&&(Ub="yellow"),pb.isRegistered()&&(Ub=
"green"));this.get("network-indicator").animate({fill:Hb.Color[Ub],duration:300})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"UserFlap"}},{key:"properties",get:function(){return{submorphs:{initialize:function(){this.submorphs=[{type:"label",name:"label",fontSize:12,fontFamliy:"Helvetica Neue, Verdana, Sans Serif",fontWeight:"bold",padding:Hb.Rectangle.inset(4),reactsToPointer:!1},Hb.Icon.makeLabel("user",{name:"avatar",fontColor:Hb.Color.black.withA(.3),fontSize:12,clipMode:"hidden",
padding:Hb.Rectangle.inset(2,2,4,0),borderWidth:1,borderColor:Hb.Color.black.withA(.3),extent:Hb.pt(20,20),borderRadius:10}),{name:"network-indicator",fill:Hb.Color.red,borderRadius:5,extent:Hb.pt(5,5),position:Hb.pt(5,8),reactsToPointer:!1}]}},fontColor:{after:["submorphs"],set:function(pb){this.setProperty("fontColor",pb)}},name:{initialize:function(){this.name="user flap"}},epiMorph:{defaultValue:!0},clipMode:{defaultValue:"hidden"},draggable:{defaultValue:!1},grabbable:{defaultValue:!1},acceptsDrops:{defaultValue:!1},
fill:{defaultValue:Hb.Color.white},borderRadiusBottom:{defaultValue:10},borderRadiusLeft:{defaultValue:10},borderRadiusRight:{defaultValue:10},nativeCursor:{defaultValue:"pointer"},respondsToVisibleWindow:{defaultValue:!0},haloColor:{readOnly:!0,get:function(){return Hb.Color.rgb(0,176,255)}},haloShadow:{readOnly:!0,get:function(){return{distance:2,rotation:45,color:Hb.Color.rgba(64,196,255,.4),inset:!1,blur:6,spread:0,fast:!1}}}}}}],Ma,{pathInPackage:function(){return"morphic/user-ui.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.user",version:"0.2.0"}}},{start:18948,end:28078})}(Hb.Morph));Hb.UserFlap=Mb;Hb.UserFlap=Mb;Hb.UserFlap=Mb}}});
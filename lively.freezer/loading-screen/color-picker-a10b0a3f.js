System.register(["./__root_module__-82dea728.js","./index-862abc4b.js"],function(ta){var mb,tb,Tb,Jb,rd,yc,vd,zc,Ec,Mc,zd,ne,De,Xd,Qb,qc,ld,Pb,ud,Ed,vc,ac,Eb,ec,wc,fd,cd,pc,cb,fb,ya,Ea,Ba,xa,Qa,wb,fc,$a,ib,ab,U,ua,M,ea,Ka,Za,$b,Qc,Ub,vb,pd,$c,Ta;return{setters:[function(nb){mb=nb.C;tb=nb.a2;Tb=nb.b7;Jb=nb.b8;rd=nb.b9;yc=nb.ba;vd=nb.bb;zc=nb.bc;Ec=nb.a3;Mc=nb.al;zd=nb.bd;ne=nb.be;De=nb.bf;Xd=nb.an;Qb=nb.b0;qc=nb.ap;ld=nb.aD;Pb=nb.ac;ud=nb.b1;Ed=nb.ar;vc=nb.I;ac=nb.aZ;Eb=nb.b5;ec=nb.bg;wc=nb.bh;
fd=nb.au;cd=nb.av;pc=nb.at;cb=nb.a6;fb=nb.bi;ya=nb.aw;Ea=nb.as;Ba=nb.aE;xa=nb.ad;Qa=nb.bj;wb=nb.aq;fc=nb.ab;$a=nb.ae;ib=nb.$;ab=nb.ax;U=nb.a7;ua=nb.a8;M=nb.a1;ea=nb.bk;Ka=nb.bl;Za=nb.bm;$b=nb.am;Qc=nb.aj;Ub=nb.aP},function(nb){vb=nb.p;pd=nb.P;$c=nb._;Ta=nb.N}],execute:function(){var nb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");nb.Color=mb;nb.rect=tb;nb.Complementary=Tb;nb.Triadic=Jb;nb.Tetradic=rd;nb.Quadratic=yc;nb.Analogous=vd;nb.Neutral=zc;nb.pt=Ec;nb.Point=Mc;nb.flatDesignColors=
zd;nb.materialDesignColors=ne;nb.webSafeColors=De;nb.Morph=Xd;nb.CustomLayout=Qb;nb.VerticalLayout=qc;nb.HorizontalLayout=ld;nb.Text=Pb;nb.TilingLayout=ud;nb.Ellipse=Ed;nb.Image=vc;nb.StyleSheet=ac;nb.DropDownSelector=Eb;nb.ModeSelector=ec;nb.Slider=wc;nb.connect=fd;nb.signal=cd;nb.num=pc;nb.arr=cb;nb.SnapLayout=fb;nb.WHEEL_URL="/lively.ide/assets/color-wheel.png";nb.duration=200;(function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),oc=Na.hasOwnProperty("ColorPaletteField")&&
"function"===typeof Na.ColorPaletteField?Na.ColorPaletteField:Na.ColorPaletteField=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"onHoverIn",value:function(){if(this.color){var aa=$jscomp.makeIterator(this.color.isGradient?nb.Color.blue.toHSB():this.color.toHSB()),na=aa.next().value,gb=aa.next().value;aa=aa.next().value;this.borderColor=nb.Color.hsb(na,1<gb+.5?gb-.5:gb+.5,1<aa+.5?aa-.5:aa+.5)}}},
{key:"onHoverOut",value:function(){this.borderColor=nb.Color.transparent}},{key:"onMouseDown",value:function(){nb.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:nb.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||nb.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||
nb.Color.transparent}},styleClasses:{after:["color"],initialize:function(){this.styleClasses=this.color?["colorField"]:["vacantColorField"]}}}}}],Na,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:638,end:1652})})(nb.Morph);(function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
oc=Na.hasOwnProperty("ColorHarmonyField")&&"function"===typeof Na.ColorHarmonyField?Na.ColorHarmonyField:Na.ColorHarmonyField=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"onMouseDown",value:function(){nb.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:nb.pt(80,
60)},fill:{defaultValue:nb.Color.transparent},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color harmony field"}}},color:{set:function(aa){var na=$jscomp.makeIterator(this.submorphs),gb=na.next().value;na=na.next().value;var H=$jscomp.makeIterator(aa?aa.toHSB():[]),ha=H.next().value,Ga=H.next().value;H=H.next().value;this.setProperty("color",aa);aa&&gb&&na&&(gb.fill=aa,na.textString=aa.toHexString(),na.fontColor=nb.Color.hsb(ha,1<Ga+.5?Ga-.5:Ga+.5,1<H+.5?H-.5:H+.5))}},
submorphs:{after:["color"],initialize:function(){var aa=$jscomp.makeIterator((this.color||nb.Color.transparent).toHSB()),na=aa.next().value,gb=aa.next().value;aa=aa.next().value;this.submorphs=[new nb.Morph({fill:this.color,extent:nb.pt(80,50)}),new nb.Text({textString:na.toFixed()+", "+gb.toFixed(2)+", "+aa.toFixed(2),fill:nb.Color.transparent,fontColor:nb.Color.gray.darker(),bottomLeft:nb.pt(0,50)})]}}}}}],Na,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:1654,end:3046})})(nb.Morph);(function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),oc=Na.hasOwnProperty("HarmonyDisplay")&&"function"===typeof Na.HarmonyDisplay?Na.HarmonyDisplay:Na.HarmonyDisplay=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return ya(oc,Ya,[{key:"update",value:function(aa){var na=$jscomp.makeIterator(aa.pivotColor.toHSB()),gb=na.next().value,H=na.next().value;na=na.next().value;gb=aa.harmony.chord({hue:gb,saturation:H,brightness:na});gb.length!=this.submorphs.length?this.submorphs=gb.map(function(ha){ha=new nb.ColorHarmonyField({color:ha});nb.connect(ha,"updateColor",aa,"color");return ha}):nb.arr.zip(this.submorphs,gb).forEach(function(ha){var Ga=$jscomp.makeIterator(ha);ha=Ga.next().value;Ga=Ga.next().value;ha.color=
Ga})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyDisplay"}}],Na,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3048,end:3626})})(nb.Morph);(function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),oc=Na.hasOwnProperty("PivotColorControl")&&
"function"===typeof Na.PivotColorControl?Na.PivotColorControl:Na.PivotColorControl=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"update",value:function(aa){this.pivotColor=aa.pivotColor}},{key:"onDrag",value:function(aa){var na=$jscomp.makeIterator(this.pivotColor.toHSB()),gb=na.next().value,H=na.next().value;na=na.next().value;gb=nb.num.toRadians(gb);aa=nb.Point.polar(50*H,gb).addPt(aa.state.dragDelta);
gb=nb.num.toDegrees(aa.theta());gb=0>gb?gb+360:gb;H=Math.min(aa.r()/50,1);this.pivotColor=nb.Color.hsb(gb,H,na)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:nb.Color.blue},draggable:{defaultValue:!0}}}}],Na,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3628,end:4262})})(nb.Ellipse);(function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),oc=Na.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof Na.HarmonyVisualizer?Na.HarmonyVisualizer:Na.HarmonyVisualizer=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"update",value:function(aa){var na=
$jscomp.makeIterator(this.submorphs).next().value,gb=this.get("pivot control"),H=$jscomp.makeIterator(aa.pivotColor.toHSB()),ha=H.next().value,Ga=H.next().value;H=H.next().value;var lb=nb.num.toRadians(ha);ha=aa.harmony.chord({hue:ha,saturation:Ga,brightness:H}).map(function(Sb){var Ab=$jscomp.makeIterator(Sb.toHSB()),sc=Ab.next().value;Sb=Ab.next().value;Ab.next();Ab=nb.num.toRadians(sc);return nb.Point.polar(50*Sb,Ab)});na.fill=nb.Color.black.withA(1-H);gb.update(aa);na.submorphs.length-1!=ha.length?
na.submorphs=[].concat($jscomp.arrayFromIterable(ha.map(function(Sb){return new nb.Ellipse({center:Sb,fill:nb.Color.transparent,draggable:!1,borderWidth:1,borderColor:nb.Color.black})})),[gb]):(nb.arr.zip(na.submorphs,ha).forEach(function(Sb){var Ab=$jscomp.makeIterator(Sb);Sb=Ab.next().value;if(Ab=Ab.next().value)Sb.center=Ab}),gb.center=nb.Point.polar(50*Ga,lb))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},
submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new nb.PivotColorControl({name:"pivot control"})]}]}}}}}],Na,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4264,end:5726})})(nb.Image);(function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
oc=Na.hasOwnProperty("HarmonyPalette")&&"function"===typeof Na.HarmonyPalette?Na.HarmonyPalette:Na.HarmonyPalette=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"update",value:function(aa){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=aa.pivotBrightness,this.harmony=aa.harmony,this.get("harmonies").update(aa),this.get("harmony visualizer").update(aa),this.updateInProgress=
!1)}},{key:"harmonyControl",value:function(){var aa,na,gb=new nb.Morph({name:"harmonyControl",submorphs:[new nb.HarmonyVisualizer({name:"harmony visualizer"}),na=new nb.Slider({min:0,max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),aa=new nb.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new nb.Complementary,Triadic:new nb.Triadic,Tetradic:new nb.Tetradic,
Quadratic:new nb.Quadratic,Analogous:new nb.Analogous,Neutral:new nb.Neutral}})]});nb.connect(na,"value",this,"pivotBrightness");nb.connect(aa,"selectedValue",this,"harmony");return gb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new nb.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],
initialize:function(){this.submorphs=[new nb.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],Na,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5728,end:7655})})(nb.Morph);var xc=ta("C",function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
oc=Na.hasOwnProperty("ColorPalette")&&"function"===typeof Na.ColorPalette?Na.ColorPalette:Na.ColorPalette=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"fadeIntoWorld",value:function(aa){ya._get(Object.getPrototypeOf(oc.prototype),"fadeIntoWorld",this).call(this,aa);this.initPosition=aa;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function(aa){"Escape"==
aa.key&&this.close()}},{key:"close",value:function(aa){aa?this.fadeOut(aa):this.remove();nb.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",extent:nb.pt(400,253),submorphs:[this.solidColorPalette(),new nb.HarmonyPalette({name:"harmony palette",isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var aa=this.get("solidColorPalette"),na=this.get("paletteView");aa.visible||(na.submorphs.forEach(function(gb){return gb.animate({isLayoutable:!1,
visible:!1,duration:200})}),aa.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var aa=this.get("paletteView");this.get("harmony palette").visible||(aa.submorphs.forEach(function(na){return na.animate({isLayoutable:!1,visible:!1,duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var aa=new nb.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette",
"Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});nb.connect(aa,"Color Palette",this,"selectSolidMode");nb.connect(aa,"Color Harmonies",this,"selectHarmonyMode");return aa}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var aa=this.getColorsFor(this.colorPalette),na=aa.colors,
gb=aa.mod;return this.cachedPalette[aa.name]||this.getPalette(na,gb)}},{key:"getPalette",value:function(aa,na){var gb=this,H=Math.max(Math.ceil(aa.length/na),15),ha=H*this.colorFieldWidth,Ga=na*this.colorFieldWidth;aa=[].concat($jscomp.arrayFromIterable(aa),$jscomp.arrayFromIterable(nb.arr.withN(H*na-aa.length,null)));return{extent:nb.pt(ha,Ga),name:"paletteContainer",submorphs:aa.map(function(lb){lb=new nb.ColorPaletteField({color:lb&&nb.Color.rgbHex(lb),extent:nb.pt(gb.colorFieldWidth,gb.colorFieldWidth)});
nb.connect(lb,"updateColor",gb,"color");return lb})}}},{key:"switchPalette",value:function(aa){var na=aa.name,gb=aa.colors;aa=aa.mod;var H=this.get("solidColorPalette"),ha=$jscomp.makeIterator(H.submorphs);ha.next();ha=ha.next().value;this.cachedPalette[na]=this.cachedPalette[na]||this.getPalette(gb,aa,na);H.submorphs=[this.cachedPalette[na],ha]}},{key:"getPaletteDescription",value:function(aa){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",
custom:"Your personal set of customly defined colors.",materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[aa]}},
{key:"updatePaletteDescription",value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function(aa){return Object.assign({name:aa},{flatDesign:{colors:nb.flatDesignColors,mod:11},materialDesign:{colors:nb.materialDesignColors,mod:15},webSafe:{colors:nb.webSafeColors,mod:12}}[aa])}},{key:"paletteConfig",value:function(){var aa,na={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[aa=new nb.DropDownSelector({isHaloItem:!0,
name:"paletteSelector",selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};nb.connect(aa,"selectedValue",this,"colorPalette");return na}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:nb.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function(aa){this.setProperty("colorPalette",
aa);this.switchPalette(this.getColorsFor(aa));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function(aa){this.setProperty("pivotColor",aa);this.get("harmony palette").update(this)}},color:{set:function(aa){this.setProperty("color",aa);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var aa=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());aa.next();aa.next();return aa.next().value},
set:function(aa){var na=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),gb=na.next().value;na=na.next().value;this.pivotColor=nb.Color.hsb(gb,na,aa)}},harmony:{after:["submorphs","pivotColor"],defaultValue:new nb.Complementary,set:function(aa){this.setProperty("harmony",aa);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var aa=
$jscomp.makeIterator((this.color.isGradient?nb.Color.blue:this.color).toHSB()),na=aa.next().value,gb=aa.next().value;aa.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=nb.Color.hsb(na,gb,1);nb.connect(this.get("harmony palette"),"harmony",this,"harmony");nb.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");nb.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],
Na,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:7721,end:15551})}(nb.Morph));nb.ColorPalette=xc;nb.ColorPalette=xc;nb.ColorPalette=xc;var bb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");bb.Morph=Xd;bb.Icon=Ea;bb.ProportionalLayout=Ba;bb.config=xa;
bb.Text=Pb;bb.ShadowObject=Qa;bb.GridLayout=wb;bb.TilingLayout=ud;bb.StyleSheet=ac;bb.morph=fc;bb.HorizontalLayout=ld;bb.VerticalLayout=qc;bb.KeyHandler=$a;bb.connect=fd;bb.signal=cd;bb.arr=cb;bb.promise=ib;bb.fun=ab;bb.string=U;bb.obj=ua;bb.Color=mb;bb.rect=tb;bb.Rectangle=M;bb.pt=Ec;bb.popovers=vb;bb.ModeSelector=ec;bb.DropDownSelector=Eb;bb.SearchField=ea;bb.CheckBox=Ka;bb.Popover=pd;bb.SvgStyleHalo=$c;bb.NumberWidget=Ta;bb.Icons=Za;bb.duration=200;var Bc=ta("c",bb.colorWidgets||{});bb.colorWidgets=
Bc;bb.colorWidgets=Bc;bb.colorWidgets=Bc;(function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),oc=Na.hasOwnProperty("SelectableControl")&&"function"===typeof Na.SelectableControl?Na.SelectableControl:Na.SelectableControl=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"select",value:function(aa){var na=this,gb,H,ha;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ga){if(1==
Ga.nextAddress)return na.target?Ga.yield(na.target.execCommand(aa),2):Ga.return();gb=Ga.yieldResult;H=na.get("modeSelector");gb.opacity=0;na.lastLabel&&(ha=H.submorphs.indexOf(na.lastLabel)<H.submorphs.indexOf(H.currentLabel),gb.topLeft=H.bottomLeft.addXY(ha?20:-20,10));na.lastLabel=H.currentLabel;na.animate({submorphs:[H,gb],duration:bb.duration});gb.animate({opacity:1,duration:bb.duration});Ga.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SelectableControl"}},{key:"properties",
get:function(){return{target:{type:"Morph"},selectableControls:{},selectedControl:{},fill:{defaultValue:bb.Color.transparent},layout:{initialize:function(){this.layout=new bb.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function(aa){return this.container.submorphs.indexOf(aa)}})}},submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var aa=new bb.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});this.submorphs=[aa];
aa.width=100;bb.connect(aa,"switchLabel",this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],Na,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:948,end:2579})})(bb.Morph);(function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
oc=Na.hasOwnProperty("ToggledControl")&&"function"===typeof Na.ToggledControl?Na.ToggledControl:Na.ToggledControl=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"toggle",value:function(aa){var na=$jscomp.makeIterator(this.submorphs).next().value,gb=this.toggledControl(aa);na=[na].concat($jscomp.arrayFromIterable(gb?[gb]:[]));bb.signal(this,"update",aa&&gb.value);gb&&(gb.opacity=0);this.animate({submorphs:na,
duration:bb.duration});gb&&gb.animate({opacity:1,duration:bb.duration})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:bb.Color.transparent},layout:{initialize:function(){this.layout=new bb.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var aa=new bb.CheckBox({checked:this.checked});this.submorphs=
[{fill:bb.Color.transparent,layout:new bb.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:bb.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},aa]}];this.toggle(this.checked);bb.connect(aa,"toggle",this,"toggle")}}}}}],Na,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2581,end:4273})})(bb.Morph);(function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),oc=Na.hasOwnProperty("StylePopover")&&"function"===typeof Na.StylePopover?Na.StylePopover:Na.StylePopover=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"setupConnections",value:function(){}},{key:"controls",
value:function(){return[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=bb.morph({layout:new bb.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:bb.Color.transparent,submorphs:this.controls()});this.setupConnections()}}}}}],Na,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4275,end:4825})})(bb.Popover);var uc=function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),oc=Na.hasOwnProperty("IconPopover")&&"function"===typeof Na.IconPopover?Na.IconPopover:Na.IconPopover=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"onDrop",value:function(aa){var na=this;aa.hand.grabbedMorphs.find(function(gb){return gb===
na.iconLabel})&&(aa.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new bb.VerticalLayout({spacing:4}),fill:bb.Color.transparent,submorphs:[new bb.SearchField({name:"searchInput",width:200,placeHolder:"Search Icons"}),bb.morph({textAndAttributes:this.iconAsTextAttributes(),name:"iconList",draggable:!0,type:"text",extent:bb.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var aa=
this.ui,na=aa.iconList;bb.connect(aa.searchInput,"searchInput",this,"filterIcons");bb.connect(na,"onMouseUp",this,"iconSelectClick");bb.connect(na,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",value:function(aa){aa=this.ui.iconList.textPositionFromPoint(aa.positionIn(this.ui.iconList));aa=this.iconAtTextPos(aa);this.iconLabel=bb.Icon.makeLabel(aa,{fontSize:this.ui.iconList.fontSize,name:aa});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",
value:function(aa){var na=Object.keys(bb.Icons);aa&&(na=na.filter(aa));return bb.arr.flatmap(na,function(gb,H){return[bb.Icons[gb].code,{iconCode:bb.Icons[gb].code,iconName:gb}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",value:function(){var aa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(na){if(1==na.nextAddress)return na.yield(bb.promise.delay(250),2);bb.fun.debounceNamed("filterIcons",200,function(){aa.ui.iconList.textAndAttributes=aa.iconAsTextAttributes(function(gb){return aa.ui.searchInput.matches(gb.toLowerCase())})})();
na.jumpToEnd()})}},{key:"iconSelectClick",value:function(aa){aa=this.ui.iconList.textPositionFromPoint(aa.positionIn(this.ui.iconList));aa=this.iconAtTextPos(aa);this.setStatusMessage(aa);bb.signal(this,"select",aa)}},{key:"iconAtTextPos",value:function(aa){var na=aa.row;aa=aa.column;--aa;for(var gb=this.ui.iconList,H=gb.textAndAttributesInRange({start:{row:na,column:Math.max(0,aa)},end:{row:na,column:aa+2}});H.length&&!H[1].iconName;)aa++,H=H.slice(2);var ha={start:{row:na,column:aa},end:{row:na,
column:aa+1}};gb.addTextAttribute({backgroundColor:gb.selectionColor.darker().withA(.5)},ha);bb.promise.delay(1E3).then(function(){return gb.addTextAttribute({backgroundColor:bb.Color.transparent},ha)});return H.length?H[1].iconName:null}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"IconPopover"}},{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:bb.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),
iconList:this.get("iconList")}}}}}}],Na,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4834,end:8444})}(bb.StylePopover);bb.IconPopover=uc;bb.IconPopover=uc;bb.IconPopover=uc;uc=function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),oc=Na.hasOwnProperty("LayoutPopover")&&
"function"===typeof Na.LayoutPopover?Na.LayoutPopover:Na.LayoutPopover=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"getLayoutObjects",value:function(){return[null,new bb.HorizontalLayout({autoResize:!1}),new bb.VerticalLayout({autoResize:!1}),new bb.TilingLayout,new bb.ProportionalLayout,new bb.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){ya._get(Object.getPrototypeOf(oc.prototype),
"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:bb.Color.transparent,layout:new bb.VerticalLayout({spacing:5,layoutOrder:function(aa){return this.container.submorphs.indexOf(aa)}}),submorphs:[this.layoutPicker(),this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),
duration:300}:{isLayoutable:!1,extent:bb.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function(aa){this.clearLayoutHalo();aa&&aa.layout&&(this.layoutHalo=(aa.world()||aa.env.world).showLayoutHaloFor(aa))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function(aa){return aa?aa.name()+" Layout":
"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function(aa){this.container.animate({layout:aa});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());bb.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var aa=this,na=this.getLayoutObjects().map(function(gb){var H={};return H[aa.getLayoutName(gb)]=gb,H});na=this.get("Layout Type")||new bb.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return aa.getCurrentLayoutName()},
selectedValue:this.container.layout,values:bb.obj.merge(na)});bb.connect(na,"selectedValue",this,"applyLayout");return na}},{key:"layoutControls",value:function(){return{name:"controlContainer",fill:bb.Color.transparent,layout:new bb.VerticalLayout,isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:bb.Color.gray.lighter()}}}}],
Na,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:8453,end:11192})}(bb.StylePopover);bb.LayoutPopover=uc;bb.LayoutPopover=uc;bb.LayoutPopover=uc;uc=function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),oc=Na.hasOwnProperty("FillPopover")&&
"function"===typeof Na.FillPopover?Na.FillPopover:Na.FillPopover=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"openHandle",value:function(aa){aa.openInWorld();this.openHandles.push(aa)}},{key:"close",value:function(){ya._get(Object.getPrototypeOf(oc.prototype),"close",this).call(this);this.openHandles.forEach(function(aa){return aa.remove()})}},{key:"setupConnections",value:function(){var aa=
this.ui,na=aa.fillSelector,gb=aa.colorField;aa=aa.gradientEditor;na&&bb.connect(this,"fillValue",na,"value");aa&&(bb.connect(aa,"gradientValue",this,"fillValue"),bb.connect(aa,"openHandle",this,"openHandle"));gb&&(bb.connect(this,"close",gb,"remove"),bb.connect(gb,"update",this,"fillValue"),bb.connect(this,"onMouseDown",gb,"removeWidgets"))}},{key:"commands",get:function(){var aa=this;return ya._get(Object.getPrototypeOf(oc.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var na=
new bb.colorWidgets.ColorPickerField({name:"colorField",colorValue:aa.fillValue.isGradient?bb.Color.blue:aa.fillValue});na.whenRendered().then(function(){aa.setupConnections()});return na}},{name:"switch to gradient",exec:function(){var na=new bb.colorWidgets.GradientEditor({name:"gradient editor",gradientValue:aa.fillValue});na.whenRendered().then(function(){aa.setupConnections();aa.handleMorph&&na.showGradientHandlesOn(aa.handleMorph);na.update()});return na}}])}},{key:"controls",value:function(){return this.gradientEnabled?
[new bb.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]:[{fill:bb.Color.transparent,layout:new bb.VerticalLayout({spacing:0}),submorphs:[new bb.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue})]}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},
fillValue:{defaultValue:bb.Color.blue},popoverColor:{defaultValue:bb.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],Na,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:11201,end:14064})}(bb.StylePopover);bb.FillPopover=uc;bb.FillPopover=uc;bb.FillPopover=uc;var Sa=ta("S",function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),oc=Na.hasOwnProperty("ShadowPopover")&&"function"===typeof Na.ShadowPopover?Na.ShadowPopover:Na.ShadowPopover=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"controls",value:function(){var aa=
this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",na=[{layout:new bb.VerticalLayout({resizeContainer:!0,spacing:5}),fill:bb.Color.transparent,name:"control container",submorphs:[aa=new bb.DropDownSelector({name:"shadow type",borderRadius:2,padding:3,selectedValue:aa,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?this.shadowControls():[])}];bb.connect(aa,"selectedValue",this,"changeShadowType");return na}},{key:"shadowControls",value:function(){var aa=
this.shadowValue,na=new bb.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:aa.distance,unit:"px"}),gb=new bb.NumberWidget({name:"angleSlider",min:0,max:360,number:aa.rotation,autofit:!1}),H=new bb.NumberWidget({name:"spreadSlider",min:0,number:aa.spread,autofit:!1}),ha=new bb.NumberWidget({name:"blurSlider",min:0,number:aa.blur,autofit:!1});aa=new bb.colorWidgets.ColorPickerField({name:"colorPicker",colorValue:aa.color});bb.connect(aa,"colorValue",this,"updateShadow",{converter:function(Ga){return{color:Ga}}});
bb.connect(this,"onMouseDown",aa,"removeWidgets");bb.connect(this,"close",aa,"remove");bb.connect(H,"update",this,"updateShadow",{converter:function(Ga){return{spread:Ga}}});bb.connect(na,"update",this,"updateShadow",{converter:function(Ga){return{distance:Ga}}});bb.connect(ha,"update",this,"updateShadow",{converter:function(Ga){return{blur:Ga}}});bb.connect(gb,"update",this,"updateShadow",{converter:function(Ga){return{rotation:Ga}}});return new bb.Morph({layout:new bb.GridLayout({autoAssign:!1,
fitToCell:!1,columns:[0,{paddingLeft:1}],rows:bb.arr.flatten(bb.arr.range(0,3).map(function(Ga){return[Ga,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",null,"distanceSlider"],["blurLabel",null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:bb.Color.transparent,submorphs:bb.arr.flatten([["distance",na],["spread",H],["blur",ha],["angle",gb],["color",aa]].map(function(Ga){var lb=$jscomp.makeIterator(Ga);
Ga=lb.next().value;lb=lb.next().value;return[{type:"label",styleClasses:["controlName"],value:bb.string.capitalize(Ga)+":",name:Ga+"Label"},lb]}))})}},{key:"changeShadowType",value:function(aa){"No Shadow"==aa?this.toggleShadow(!1):"Inset Shadow"==aa?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?this.shadowControls():[]),duration:300})}},{key:"updateShadow",
value:function(aa){var na=this.shadowValue;aa=Object.assign({fast:na.fast,color:na.color,spread:na.spread,blur:na.blur,distance:na.distance,rotation:na.rotation,inset:na.inset},aa);this.shadowValue=new bb.ShadowObject(aa)}},{key:"toggleShadow",value:function(aa){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=aa&&this.cachedShadow}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowPopover"}},{key:"properties",get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new bb.ShadowObject({fast:!0})},
popoverColor:{defaultValue:bb.Color.gray.lighter()}}}}],Na,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:14073,end:18507})}(bb.StylePopover));bb.ShadowPopover=Sa;bb.ShadowPopover=Sa;bb.ShadowPopover=Sa;bb.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";
Sa=function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),oc=Na.hasOwnProperty("PointPopover")&&"function"===typeof Na.PointPopover?Na.PointPopover:Na.PointPopover=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"refineResolution",value:function(aa){this.resolution=.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function(aa){this.pointValue=
this.pointValue.addPt(aa.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){ya._get(Object.getPrototypeOf(oc.prototype),"relayout",this).call(this);var aa=this.getSubmorphNamed("mesh"),na=this.getSubmorphNamed("point value view");aa.origin=aa.innerBounds().center().addXY(4,1);aa.position=this.get("body").innerBounds().center();aa.scale=this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";
na.value=bb.obj.safeToString(this.pointValue);na.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function(aa){var na=this;ya._get(Object.getPrototypeOf(oc.prototype),Symbol.for("lively-instance-initialize"),this).call(this,aa);this.whenRendered().then(function(){return na.relayout()})}},{key:"calibrate",value:function(){var aa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(na){if(1==na.nextAddress)return aa.get("knob").animate({center:aa.innerBounds().center(),
duration:200}),na.yield(aa.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);aa.relayout();na.jumpToEnd()})}},{key:"showPointValue",value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},{key:"controls",value:function(){this.extent=bb.pt(200,200);var aa,na,gb=[bb.morph({extent:bb.pt(200,200),clipMode:"hidden",fill:bb.Color.transparent,submorphs:[{type:"image",name:"mesh",fill:bb.Color.transparent,opacity:.5,imageUrl:bb.milimeter,autoResize:!0},
{extent:bb.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:bb.Color.gray},fill:bb.Color.transparent},aa=bb.morph({name:"scroller",extent:bb.pt(200,200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),na=bb.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:bb.Color.red,borderColor:bb.Color.black,borderWidth:1,center:bb.pt(100,100)}),{type:"label",name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:bb.pt(10,10),
type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];aa.scroll=bb.pt(0,120);bb.connect(na,"onDragStart",this,"showPointValue");bb.connect(na,"onDrag",this,"adjustPoint");bb.connect(na,"onDragEnd",this,"calibrate");bb.connect(this,"extent",this,"relayout");bb.connect(aa,"onScroll",this,"refineResolution");return gb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"PointPopover"}},{key:"properties",get:function(){return{pointValue:{defaultValue:bb.pt(0,0)},resolution:{defaultValue:1}}}}],
Na,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:18622,end:21799})}(bb.StylePopover);bb.PointPopover=Sa;bb.PointPopover=Sa;bb.PointPopover=Sa;Sa=function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),oc=Na.hasOwnProperty("RectanglePopover")&&
"function"===typeof Na.RectanglePopover?Na.RectanglePopover:Na.RectanglePopover=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"controls",value:function(){var aa=this;return[{fill:bb.Color.transparent,extent:bb.pt(120,120),layout:new bb.GridLayout({grid:[["top","top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],columns:[0,{paddingLeft:4},1,{paddingRight:4,
fixed:!0,width:60}],rows:bb.arr.flatten(bb.arr.range(0,3).map(function(na){return[na,{paddingTop:0==na?4:2,paddingBottom:3==na?4:2}]}))}),submorphs:bb.arr.flatten(["top","right","bottom","left"].map(function(na){var gb=new bb.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},name:na+" scrubber",autofit:!1,number:aa.rectangle.partNamed(na)});bb.connect(gb,"update",aa,"rectangle",{updater:function(H,ha){var Ga=this.targetObj.rectangle,lb={};ha=(lb.left=Ga.left(),lb.top=Ga.top(),
lb.right=Ga.right(),lb.bottom=Ga.bottom(),lb[na]=ha,lb);H(bb.Rectangle.inset(ha.left,ha.top,ha.right,ha.bottom))},varMapping:{side:na,Rectangle:bb.Rectangle}});return[{type:"label",styleClasses:["controlName"],name:na,value:na,padding:3},gb]}))}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RectanglePopover"}},{key:"properties",get:function(){return{popoverColor:{defaultValue:bb.Color.gray.lighter()},rectangle:{defaultValue:bb.rect(0)}}}}],Na,{pathInPackage:function(){return"styling/style-popover.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:21808,end:23792})}(bb.StylePopover);bb.RectanglePopover=Sa;bb.RectanglePopover=Sa;bb.RectanglePopover=Sa;Sa=function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),oc=Na.hasOwnProperty("TextPopover")&&"function"===typeof Na.TextPopover?Na.TextPopover:Na.TextPopover=
function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"controls",value:function(){var aa=new bb.Text(Object.assign({name:"editor",extent:bb.pt(300,200),textString:this.text,lineWrapping:"by-chars"},bb.config.codeEditor.defaultStyle));return[{layout:new bb.HorizontalLayout,fill:bb.Color.transparent,borderColor:bb.Color.gray,borderWidth:1,borderRadius:4,clipMode:"hidden",submorphs:[aa]}]}},{key:"commands",
get:function(){return ya._get(Object.getPrototypeOf(oc.prototype),"commands",this).concat([{name:"save string",exec:function(aa){return $jscomp.asyncExecutePromiseGeneratorProgram(function(na){aa.text=aa.get("editor").textString;bb.signal(aa,"save",aa.text);aa.setStatusMessage("String saved!",bb.Color.green);na.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return ya._get(Object.getPrototypeOf(oc.prototype),"keybindings",this).concat([{keys:{mac:"Command-S",win:"Ctrl-S"},command:"save string"}])}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],Na,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:23801,end:24876})}(bb.StylePopover);bb.TextPopover=Sa;bb.TextPopover=
Sa;bb.TextPopover=Sa;Object.assign(bb.popovers,{FillPopover:bb.FillPopover,IconPopover:bb.IconPopover,RectanglePopover:bb.RectanglePopover,ShadowPopover:bb.ShadowPopover,PointPopover:bb.PointPopover,LayoutPopover:bb.LayoutPopover});var Da=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");Da.Morph=Xd;Da.morph=fc;Da.StyleSheet=ac;Da.Text=Pb;Da.Icon=Ea;Da.VerticalLayout=qc;Da.GridLayout=wb;Da.HorizontalLayout=ld;Da.pt=Ec;Da.Rectangle=M;Da.Color=mb;Da.LinearGradient=$b;Da.rect=tb;
Da.signal=cd;Da.once=Qc;Da.connect=fd;Da.obj=ua;Da.Window=Ub;Da.ColorPalette=xc;Da.FillPopover=uc;Da.colorWidgets=Bc;Da.Slider=wc;Da.Popover=pd;Da.WHEEL_URL="/lively.ide/assets/color-wheel.png";xc=function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),oc=Na.hasOwnProperty("ColorPickerField")&&"function"===typeof Na.ColorPickerField?Na.ColorPickerField:Na.ColorPickerField=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return ya(oc,Ya,[{key:"testAttr",get:function(){return[42]}},{key:"spec",value:function(){return Da.obj.dissoc(ya._get(Object.getPrototypeOf(oc.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function(aa){"Escape"==aa.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,duration:300})}},{key:"onHoverOut",value:function(){this.get("dropDownIndicator").animate({opacity:0,
duration:300})}},{key:"update",value:function(aa){this._updating=!0;var na=this.submorphs[1];this.colorValue=aa;this.get("topLeft").fill=aa;this.get("bottomRight").fill=aa.isGradient?Da.Color.transparent:aa.withA(1);na.visible=na.isLayoutable=!this.gradientEnabled;this.gradientEnabled?this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=this.get("topLeft").width=this.width-na.width;this.get("bottomRight").left=0;this.get("dropDownIndicator").right=
this.get("paletteButton").width-5;this._updating=!1}},{key:"openPicker",value:function(aa){var na=this,gb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(H){gb=na.picker||new Da.ColorPicker({color:na.colorValue});gb.position=Da.pt(0,-gb.height/2);Da.connect(gb,"color",na,"update");na.picker=gb.openInWorld();na.picker.topLeft=na.globalBounds().bottomCenter();na.picker.topLeft=na.world().visibleBounds().translateForInclusion(na.picker.globalBounds()).topLeft();na.removePalette();H.jumpToEnd()})}},
{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function(aa){var na=this,gb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(H){if(1==H.nextAddress)return gb=na.gradientEnabled?na.fillWidget:na.palette,na.gradientEnabled?Da.connect(gb,"fillValue",na,"update"):Da.connect(gb.targetMorph,"color",na,"update"),gb.isLayoutable=!1,H.yield(gb.openInWorld(),2);gb.topCenter=na.get("paletteButton").globalBounds().center();gb.topCenter=na.world().visibleBounds().translateForInclusion(gb.globalBounds()).topCenter();
na.removePicker();Da.once(gb,"remove",gb,"topLeft",{converter:function(){return Da.pt(0,0)},varMapping:{pt:Da.pt}});H.jumpToEnd()})}},{key:"removePalette",value:function(){this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove()}},{key:"removeWidgets",value:function(){this.removePalette();this.removePicker()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,after:["colorValue"],
set:function(aa){this.setProperty("gradientEnabled",aa);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new Da.FillPopover({fillValue:this.colorValue})}},testProp:{get:function(){return[42]}},palette:{serialize:!1,get:function(){return this._palette||(this._palette=new Da.Popover({position:Da.pt(0,0),name:"Color Palette",targetMorph:new Da.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function(aa){aa&&(aa.isColor||aa.isGradient)||
(aa=Da.Color.blue);if(!this._updating)return this.update(aa);this.setProperty("colorValue",aa)},get:function(){return this.getProperty("colorValue")||Da.Color.white}},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color field"}}},submorphs:{initialize:function(){this.innerBounds().topRight();this.innerBounds().bottomLeft();var aa=Da.pt(40,25);this.submorphs=[{extent:aa,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:aa},{name:"bottomRight",type:"polygon",
extent:aa,origin:Da.pt(0,0),vertices:[Da.pt(0,0),aa.withX(0),aa]},Da.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:Da.pt(30,12.5)})]},{fill:Da.Color.transparent,extent:Da.pt(25,25),onHoverIn:function(){this.fill=Da.Color.black.withA(.2)},onHoverOut:function(){this.fill=Da.Color.transparent},submorphs:[{name:"pickerButton",type:"image",autoResize:!1,imageUrl:Da.WHEEL_URL}]}];Da.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",this,"openPicker");Da.connect(this.getSubmorphNamed("paletteButton"),
"onMouseDown",this,"openPalette");Da.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],Na,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:630,end:6351})}(Da.Morph);Da.ColorPickerField=xc;Da.ColorPickerField=xc;Da.ColorPickerField=xc;
Da.colorWidgets.ColorPickerField=Da.ColorPickerField;(function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),oc=Na.hasOwnProperty("FieldPicker")&&"function"===typeof Na.FieldPicker?Na.FieldPicker:Na.FieldPicker=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"update",value:function(aa){this.getSubmorphNamed("hue").fill=Da.Color.hsb(aa.hue,1,1);this.brightness=
aa.brightness;this.saturation=aa.saturation;this.get("picker").center=this.pickerPosition}},{key:"onMouseDown",value:function(aa){this.pickerPosition=aa.positionIn(this);Da.signal(this,"pickerPosition",this.pickerPosition)}},{key:"onDrag",value:function(aa){this.pickerPosition=aa.positionIn(this)}},{key:"relayout",value:function(){var aa=this.innerBounds();this.getSubmorphNamed("hue").setBounds(aa);this.getSubmorphNamed("shade").setBounds(aa);this.getSubmorphNamed("light").setBounds(aa)}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:Da.Color.transparent},saturation:{defaultValue:0},brightness:{defaultValue:0},draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var aa=this.saturation,na=this.brightness;return void 0===aa||void 0===na?Da.pt(0,0):Da.pt(this.getSubmorphNamed("hue").width*aa,this.getSubmorphNamed("hue").height*(1-na))},set:function(aa){var na=aa.x;aa=aa.y;
var gb=this.getSubmorphNamed("hue"),H=gb.height;this.saturation=Math.max(0,Math.min(na/gb.width,1));this.brightness=Math.max(0,Math.min(1-aa/H,1));Da.signal(this,"saturation",this.saturation);Da.signal(this,"brightness",this.brightness)}},submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new Da.LinearGradient({stops:[{color:Da.Color.white,offset:0},{color:Da.Color.transparent,offset:1}],vector:"eastwest"})},
{borderRadius:3,name:"light",reactsToPointer:!1,fill:new Da.LinearGradient({stops:[{color:Da.Color.black,offset:0},{color:Da.Color.transparent,offset:1}],vector:"southnorth"})},{name:"picker",type:"ellipse",reactsToPointer:!1,fill:Da.Color.transparent,borderColor:Da.Color.black,borderWidth:3,extent:Da.pt(16,16),submorphs:[{type:"ellipse",fill:Da.Color.transparent,borderColor:Da.Color.white,reactsToPointer:!1,borderWidth:3,center:Da.pt(8,8),extent:Da.pt(12,12)}]}];Da.connect(this,"extent",this,"relayout")}}}}}],
Na,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:6404,end:9755})})(Da.Morph);(function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),oc=Na.hasOwnProperty("ColorPropertyView")&&"function"===typeof Na.ColorPropertyView?Na.ColorPropertyView:Na.ColorPropertyView=
function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=["key"].concat($jscomp.arrayFromIterable(this.readOnly?[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=[!this.readOnly&&
"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function(aa){"Enter"!=aa.keyCombo||this.readOnly?ya._get(Object.getPrototypeOf(oc.prototype),"onKeyDown",this).call(this,aa):(this.owner.focus(),aa.stop(),Da.signal(this,"updateValue",this.value))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},value:{derived:[!0],set:function(aa){this.textString=
Da.obj.safeToString(aa)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:Da.Color.gray.darker()}}}}],Na,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},
{start:9757,end:10927})})(Da.Text);(function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),oc=Na.hasOwnProperty("HuePicker")&&"function"===typeof Na.HuePicker?Na.HuePicker:Na.HuePicker=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"onMouseDown",value:function(aa){this.sliderPosition=Da.pt(0,aa.positionIn(this).y)}},{key:"onDrag",value:function(aa){this.sliderPosition=
Da.pt(0,aa.positionIn(this).y)}},{key:"update",value:function(aa){this.hue=aa.hue;this.get("slider").center=this.sliderPosition}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new Da.LinearGradient({stops:[{color:Da.Color.rgb(255,0,0),offset:0},{color:Da.Color.rgb(255,255,0),offset:.17},{color:Da.Color.limeGreen,offset:.33},{color:Da.Color.cyan,offset:.5},{color:Da.Color.blue,offset:.66},{color:Da.Color.magenta,
offset:.83},{color:Da.Color.rgb(255,0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return Da.pt(this.width/2,this.hue/360*this.height)},set:function(aa){this.hue=Math.max(0,Math.min(aa.y/this.height*360,359));Da.signal(this,"hue",this.hue)}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:Da.Color.black,
fill:Da.Color.transparent,borderWidth:2}]}}}}}],Na,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:10929,end:12576})})(Da.Morph);(function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),oc=Na.hasOwnProperty("ColorDetails")&&"function"===typeof Na.ColorDetails?
Na.ColorDetails:Na.ColorDetails=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"update",value:function(aa){aa=aa.color;var na=$jscomp.makeIterator(aa.toTuple8Bit()),gb=na.next().value,H=na.next().value;na=na.next().value;var ha=$jscomp.makeIterator(aa.toHSB()),Ga=ha.next().value,lb=ha.next().value;ha=ha.next().value;var Sb=this.get("hashViewer");this.get("colorViewer").fill=aa;Sb.replace(Sb.documentRange,
aa.toHexString(),!1,!1);this.get("R").value="R "+gb.toFixed(0)+"\n\nG "+H.toFixed(0)+"\n\nB "+na.toFixed(0)+"\n\nH "+Ga.toFixed(0)+"\n\nS "+lb.toFixed(2)+"\n\nV "+ha.toFixed(2)}},{key:"onHashViewerChanged",value:function(aa){aa=Da.Color.rgbHex(aa);this.owner.owner.color=aa}},{key:"keyValue",value:function(aa){var na=aa.name,gb=aa.key,H=aa.value,ha=aa.update;aa=aa.editable;return new Da.Morph({fill:Da.Color.transparent,layout:new Da.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",
styleClasses:[aa&&"large","key"],value:gb},new Da.ColorPropertyView({name:na||gb,readOnly:!aa,value:H,update:ha})]})}},{key:"hashViewer",value:function(){var aa=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});Da.connect(aa.get("hashViewer"),"updateValue",this,"onHashViewerChanged");return aa}},{key:"rgbViewer",value:function(){var aa=$jscomp.makeIterator(this.color.toTuple8Bit()),na=aa.next().value,gb=aa.next().value;aa=aa.next().value;return new Da.Morph({name:"rgbViewer",
fill:Da.Color.transparent,submorphs:[this.keyValue({key:"R",value:na.toFixed()}),this.keyValue({key:"G",value:gb.toFixed()}),this.keyValue({key:"B",value:aa.toFixed()})]})}},{key:"hsbViewer",value:function(){var aa=$jscomp.makeIterator(this.color.toHSB()),na=aa.next().value,gb=aa.next().value;aa=aa.next().value;return new Da.Morph({name:"hsbViewer",fill:Da.Color.transparent,submorphs:[this.keyValue({key:"H",value:na.toFixed()}),this.keyValue({key:"S",value:gb.toFixed(2)}),this.keyValue({key:"V",value:aa.toFixed(2)})]})}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorDetails"}},{key:"properties",get:function(){return{color:{defaultValue:Da.Color.blue},width:{defaultValue:80},fill:{defaultValue:Da.Color.transparent},layout:{initialize:function(){this.layout=new Da.VerticalLayout({spacing:9,layoutOrder:function(aa){return this.container.submorphs.indexOf(aa)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:Da.pt(50,50),name:"colorViewer",fill:this.color},
this.hashViewer(),{type:"label",name:"R",autofit:!0,padding:Da.rect(10,0,0,0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],Na,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12578,end:15353})})(Da.Morph);xc=ta("a",function(Ya){var Na=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),
oc=Na.hasOwnProperty("ColorPicker")&&"function"===typeof Na.ColorPicker?Na.ColorPicker:Na.ColorPicker=function(aa){aa&&aa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ya(oc,Ya,[{key:"onKeyDown",value:function(aa){"Escape"==aa.key&&this.close()}},{key:"close",value:function(){ya._get(Object.getPrototypeOf(oc.prototype),"close",this).call(this);Da.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&
(this.get("header").fill=Da.Color.transparent,this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),Da.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var aa=this.colorDetails(),na=this.fieldPicker(),gb=this.huePicker(),H=this.alphaSlider();aa=new Da.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[na,gb,aa,H]});Da.connect(na,
"brightness",this,"brightness");Da.connect(na,"saturation",this,"saturation");Da.connect(gb,"hue",this,"hue");return aa}},{key:"alphaSlider",value:function(){var aa,na=Da.morph({name:"alphaSlider",fill:Da.Color.transparent,layout:new Da.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:Da.Rectangle.inset(3),value:"Alpha",fontColor:Da.Color.gray,fontWeight:"bold"},aa=new Da.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});Da.connect(aa,"value",this,"alpha");return na}},
{key:"fieldPicker",value:function(){return new Da.FieldPicker({name:"field picker",saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new Da.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new Da.ColorDetails({name:"details",color:this.color})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:Da.pt(400,320)},fill:{defaultValue:Da.Color.black.withA(.7)},
isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},hasFixedPosition:{defaultValue:!0},color:{defaultValue:Da.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return Da.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function(aa){var na=$jscomp.makeIterator(aa.toHSB()),gb=na.next().value,H=na.next().value;na=na.next().value;this.hue=gb;this.saturation=H;this.brightness=na;this.alpha=aa.a}},alpha:{set:function(aa){this.setProperty("alpha",aa);
this.update()}},saturation:{},brightness:{set:function(aa){this.setProperty("brightness",aa);this.update()}},hue:{set:function(aa){this.setProperty("hue",aa);this.update()}},targetMorph:{initialize:function(){var aa=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=Da.Color.gray;this.ui.header.fill=Da.Color.transparent;this.whenRendered().then(function(){aa.fill=Da.Color.black.withA(.7);aa.update()})}}}}}],Na,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15362,end:19200})}(Da.Window));Da.ColorPicker=xc;Da.ColorPicker=xc;Da.ColorPicker=xc}}});
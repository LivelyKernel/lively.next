System.register(["./__root_module__-be0d56fe.js","./index-2aae95d3.js"],function(Pa){var Lb,Vb,Dc,jc,qd,id,Cd,bd,Wc,Zc,zd,me,te,Je,jd,Zd,gc,$c,Bd,fd,Jd,fe,Zb,Gc,xd,Ic,Ad,Mb,mb,Ac,vc,ec,Bc,Ua,hc,Eb,qc,Cc,Yc,rd,fc,xc,bc,Qa,Da,ja,Ba,Ja,Fb,wa,Ka,Rb;return{setters:[function(eb){Lb=eb.C;Vb=eb.bd;Dc=eb.be;jc=eb.bf;qd=eb.bg;id=eb.bh;Cd=eb.bi;bd=eb.b;Wc=eb.a8;Zc=eb.bj;zd=eb.bk;me=eb.bl;te=eb.M;Je=eb.K;jd=eb.W;Zd=eb.S;gc=eb.aC;$c=eb.bm;Bd=eb.bn;fd=eb.c;Jd=eb.d;fe=eb.ac;Zb=eb.a;Gc=eb.i;xd=eb.I;Ic=eb.ag;
Ad=eb.g;Mb=eb.bo;mb=eb.ab;Ac=eb.ay;vc=eb.bp;ec=eb.m;Bc=eb.af;Ua=eb.aa;hc=eb.a3;Eb=eb.p;qc=eb.f;Cc=eb.s;Yc=eb.Y;rd=eb.$;fc=eb.R;xc=eb.bq;bc=eb.br;Qa=eb.bs;Da=eb.a9;ja=eb.o;Ba=eb.aq;Ja=eb.r},function(eb){Fb=eb.p;wa=eb.P;Ka=eb.d;Rb=eb.N}],execute:function(){var eb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");eb.Color=Lb;eb.Complementary=Vb;eb.Triadic=Dc;eb.Tetradic=jc;eb.Quadratic=qd;eb.Analogous=id;eb.Neutral=Cd;eb.pt=bd;eb.Point=Wc;eb.flatDesignColors=Zc;eb.materialDesignColors=
zd;eb.webSafeColors=me;eb.Morph=te;eb.Text=Je;eb.Ellipse=jd;eb.Image=Zd;eb.DropDownSelector=gc;eb.ModeSelector=$c;eb.Slider=Bd;eb.connect=fd;eb.signal=Jd;eb.num=fe;eb.arr=Zb;eb.WHEEL_URL="/lively.ide/assets/color-wheel.png";eb.duration=200;(function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Tb.hasOwnProperty("ColorPaletteField")&&"function"===typeof Tb.ColorPaletteField?Tb.ColorPaletteField:Tb.ColorPaletteField=function(La){La&&La[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"onHoverIn",value:function(){if(this.color){var La=$jscomp.makeIterator(this.color.isGradient?eb.Color.blue.toHSB():this.color.toHSB()),da=La.next().value,Ha=La.next().value;La=La.next().value;this.borderColor=eb.Color.hsb(da,1<Ha+.5?Ha-.5:Ha+.5,1<La+.5?La-.5:La+.5)}}},{key:"onHoverOut",value:function(){this.borderColor=eb.Color.transparent}},{key:"onMouseDown",value:function(){eb.signal(this,"updateColor",
this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:eb.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||eb.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||eb.Color.transparent}},styleClasses:{after:["color"],initialize:function(){this.styleClasses=this.color?["colorField"]:["vacantColorField"]}}}}}],
Tb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:525,end:1539})})(eb.Morph);(function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Tb.hasOwnProperty("ColorHarmonyField")&&"function"===typeof Tb.ColorHarmonyField?Tb.ColorHarmonyField:
Tb.ColorHarmonyField=function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"onMouseDown",value:function(){eb.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:eb.pt(80,60)},fill:{defaultValue:eb.Color.transparent},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color harmony field"}}},
color:{set:function(La){var da=$jscomp.makeIterator(this.submorphs),Ha=da.next().value;da=da.next().value;var bb=$jscomp.makeIterator(La?La.toHSB():[]),Qb=bb.next().value,uc=bb.next().value;bb=bb.next().value;this.setProperty("color",La);La&&Ha&&da&&(Ha.fill=La,da.textString=La.toHexString(),da.fontColor=eb.Color.hsb(Qb,1<uc+.5?uc-.5:uc+.5,1<bb+.5?bb-.5:bb+.5))}},submorphs:{after:["color"],initialize:function(){var La=$jscomp.makeIterator((this.color||eb.Color.transparent).toHSB()),da=La.next().value,
Ha=La.next().value;La=La.next().value;this.submorphs=[new eb.Morph({fill:this.color,extent:eb.pt(80,50)}),new eb.Text({textString:da.toFixed()+", "+Ha.toFixed(2)+", "+La.toFixed(2),fill:eb.Color.transparent,fontColor:eb.Color.gray.darker(),bottomLeft:eb.pt(0,50)})]}}}}}],Tb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:1541,end:2933})})(eb.Morph);(function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Tb.hasOwnProperty("HarmonyDisplay")&&"function"===typeof Tb.HarmonyDisplay?Tb.HarmonyDisplay:Tb.HarmonyDisplay=function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"update",value:function(La){var da=$jscomp.makeIterator(La.pivotColor.toHSB()),Ha=da.next().value,
bb=da.next().value;da=da.next().value;Ha=La.harmony.chord({hue:Ha,saturation:bb,brightness:da});Ha.length!=this.submorphs.length?this.submorphs=Ha.map(function(Qb){Qb=new eb.ColorHarmonyField({color:Qb});eb.connect(Qb,"updateColor",La,"color");return Qb}):eb.arr.zip(this.submorphs,Ha).forEach(function(Qb){var uc=$jscomp.makeIterator(Qb);Qb=uc.next().value;uc=uc.next().value;Qb.color=uc})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyDisplay"}}],Tb,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2935,end:3513})})(eb.Morph);(function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Tb.hasOwnProperty("PivotColorControl")&&"function"===typeof Tb.PivotColorControl?Tb.PivotColorControl:Tb.PivotColorControl=function(La){La&&La[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"update",value:function(La){this.pivotColor=La.pivotColor}},{key:"onDrag",value:function(La){var da=$jscomp.makeIterator(this.pivotColor.toHSB()),Ha=da.next().value,bb=da.next().value;da=da.next().value;Ha=eb.num.toRadians(Ha);La=eb.Point.polar(50*bb,Ha).addPt(La.state.dragDelta);Ha=eb.num.toDegrees(La.theta());Ha=0>Ha?Ha+360:Ha;bb=Math.min(La.r()/50,1);this.pivotColor=eb.Color.hsb(Ha,bb,da)}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:eb.Color.blue},draggable:{defaultValue:!0}}}}],Tb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3515,end:4149})})(eb.Ellipse);(function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
Gb=Tb.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof Tb.HarmonyVisualizer?Tb.HarmonyVisualizer:Tb.HarmonyVisualizer=function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"update",value:function(La){var da=$jscomp.makeIterator(this.submorphs).next().value,Ha=this.get("pivot control"),bb=$jscomp.makeIterator(La.pivotColor.toHSB()),Qb=bb.next().value,uc=bb.next().value;bb=bb.next().value;var Tc=
eb.num.toRadians(Qb);Qb=La.harmony.chord({hue:Qb,saturation:uc,brightness:bb}).map(function(vd){var Wd=$jscomp.makeIterator(vd.toHSB()),ed=Wd.next().value;vd=Wd.next().value;Wd.next();Wd=eb.num.toRadians(ed);return eb.Point.polar(50*vd,Wd)});da.fill=eb.Color.black.withA(1-bb);Ha.update(La);da.submorphs.length-1!=Qb.length?da.submorphs=[].concat($jscomp.arrayFromIterable(Qb.map(function(vd){return new eb.Ellipse({center:vd,fill:eb.Color.transparent,draggable:!1,borderWidth:1,borderColor:eb.Color.black})})),
[Ha]):(eb.arr.zip(da.submorphs,Qb).forEach(function(vd){var Wd=$jscomp.makeIterator(vd);vd=Wd.next().value;if(Wd=Wd.next().value)vd.center=Wd}),Ha.center=eb.Point.polar(50*uc,Tc))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new eb.PivotColorControl({name:"pivot control"})]}]}}}}}],
Tb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4151,end:5613})})(eb.Image);(function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Tb.hasOwnProperty("HarmonyPalette")&&"function"===typeof Tb.HarmonyPalette?Tb.HarmonyPalette:Tb.HarmonyPalette=
function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"update",value:function(La){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=La.pivotBrightness,this.harmony=La.harmony,this.get("harmonies").update(La),this.get("harmony visualizer").update(La),this.updateInProgress=!1)}},{key:"harmonyControl",value:function(){var La,da,Ha=new eb.Morph({name:"harmonyControl",submorphs:[new eb.HarmonyVisualizer({name:"harmony visualizer"}),
da=new eb.Slider({min:0,max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),La=new eb.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new eb.Complementary,Triadic:new eb.Triadic,Tetradic:new eb.Tetradic,Quadratic:new eb.Quadratic,Analogous:new eb.Analogous,Neutral:new eb.Neutral}})]});eb.connect(da,"value",this,"pivotBrightness");eb.connect(La,"selectedValue",
this,"harmony");return Ha}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new eb.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],initialize:function(){this.submorphs=[new eb.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],Tb,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5615,end:7542})})(eb.Morph);var Sc=Pa("C",function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Gb=Tb.hasOwnProperty("ColorPalette")&&"function"===typeof Tb.ColorPalette?Tb.ColorPalette:Tb.ColorPalette=function(La){La&&La[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"fadeIntoWorld",value:function(La){Gc._get(Object.getPrototypeOf(Gb.prototype),"fadeIntoWorld",this).call(this,La);this.initPosition=La;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function(La){"Escape"==La.key&&this.close()}},{key:"close",value:function(La){La?this.fadeOut(La):this.remove();eb.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",
extent:eb.pt(400,253),submorphs:[this.solidColorPalette(),new eb.HarmonyPalette({name:"harmony palette",isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var La=this.get("solidColorPalette"),da=this.get("paletteView");La.visible||(da.submorphs.forEach(function(Ha){return Ha.animate({isLayoutable:!1,visible:!1,duration:200})}),La.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var La=this.get("paletteView");this.get("harmony palette").visible||
(La.submorphs.forEach(function(da){return da.animate({isLayoutable:!1,visible:!1,duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var La=new eb.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette","Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});eb.connect(La,"Color Palette",this,"selectSolidMode");eb.connect(La,"Color Harmonies",this,"selectHarmonyMode");
return La}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var La=this.getColorsFor(this.colorPalette),da=La.colors,Ha=La.mod;return this.cachedPalette[La.name]||this.getPalette(da,Ha)}},{key:"getPalette",value:function(La,da){var Ha=this,bb=Math.max(Math.ceil(La.length/da),15),Qb=bb*this.colorFieldWidth,uc=
da*this.colorFieldWidth;La=[].concat($jscomp.arrayFromIterable(La),$jscomp.arrayFromIterable(eb.arr.withN(bb*da-La.length,null)));return{extent:eb.pt(Qb,uc),name:"paletteContainer",submorphs:La.map(function(Tc){Tc=new eb.ColorPaletteField({color:Tc&&eb.Color.rgbHex(Tc),extent:eb.pt(Ha.colorFieldWidth,Ha.colorFieldWidth)});eb.connect(Tc,"updateColor",Ha,"color");return Tc})}}},{key:"switchPalette",value:function(La){var da=La.name,Ha=La.colors;La=La.mod;var bb=this.get("solidColorPalette"),Qb=$jscomp.makeIterator(bb.submorphs);
Qb.next();Qb=Qb.next().value;this.cachedPalette[da]=this.cachedPalette[da]||this.getPalette(Ha,La,da);bb.submorphs=[this.cachedPalette[da],Qb]}},{key:"getPaletteDescription",value:function(La){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",custom:"Your personal set of customly defined colors.",
materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[La]}},{key:"updatePaletteDescription",
value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function(La){return Object.assign({name:La},{flatDesign:{colors:eb.flatDesignColors,mod:11},materialDesign:{colors:eb.materialDesignColors,mod:15},webSafe:{colors:eb.webSafeColors,mod:12}}[La])}},{key:"paletteConfig",value:function(){var La,da={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[La=new eb.DropDownSelector({isHaloItem:!0,name:"paletteSelector",
selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};eb.connect(La,"selectedValue",this,"colorPalette");return da}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:eb.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function(La){this.setProperty("colorPalette",
La);this.switchPalette(this.getColorsFor(La));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function(La){this.setProperty("pivotColor",La);this.get("harmony palette").update(this)}},color:{set:function(La){this.setProperty("color",La);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var La=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());La.next();La.next();return La.next().value},
set:function(La){var da=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),Ha=da.next().value;da=da.next().value;this.pivotColor=eb.Color.hsb(Ha,da,La)}},harmony:{after:["submorphs","pivotColor"],defaultValue:new eb.Complementary,set:function(La){this.setProperty("harmony",La);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var La=
$jscomp.makeIterator((this.color.isGradient?eb.Color.blue:this.color).toHSB()),da=La.next().value,Ha=La.next().value;La.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=eb.Color.hsb(da,Ha,1);eb.connect(this.get("harmony palette"),"harmony",this,"harmony");eb.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");eb.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],
Tb,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:7608,end:15438})}(eb.Morph));eb.ColorPalette=Sc;eb.ColorPalette=Sc;eb.ColorPalette=Sc;var Ob=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");Ob.Morph=te;Ob.Icon=xd;Ob.ProportionalLayout=Ic;Ob.config=Ad;
Ob.Text=Je;Ob.ShadowObject=Mb;Ob.GridLayout=mb;Ob.TilingLayout=Ac;Ob.StyleSheet=vc;Ob.morph=ec;Ob.HorizontalLayout=Bc;Ob.VerticalLayout=Ua;Ob.KeyHandler=hc;Ob.connect=fd;Ob.signal=Jd;Ob.arr=Zb;Ob.promise=Eb;Ob.fun=qc;Ob.string=Cc;Ob.obj=Yc;Ob.Color=Lb;Ob.rect=rd;Ob.Rectangle=fc;Ob.pt=bd;Ob.popovers=Fb;Ob.ModeSelector=$c;Ob.DropDownSelector=gc;Ob.SearchField=xc;Ob.CheckBox=bc;Ob.Popover=wa;Ob.SvgStyleHalo=Ka;Ob.NumberWidget=Rb;Ob.Icons=Qa;Ob.duration=200;var pd=Pa("c",Ob.colorWidgets||{});Ob.colorWidgets=
pd;Ob.colorWidgets=pd;Ob.colorWidgets=pd;(function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Tb.hasOwnProperty("SelectableControl")&&"function"===typeof Tb.SelectableControl?Tb.SelectableControl:Tb.SelectableControl=function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"select",value:function(La){var da=this,Ha,bb,Qb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(uc){if(1==
uc.nextAddress)return da.target?uc.yield(da.target.execCommand(La),2):uc.return();Ha=uc.yieldResult;bb=da.get("modeSelector");Ha.opacity=0;da.lastLabel&&(Qb=bb.submorphs.indexOf(da.lastLabel)<bb.submorphs.indexOf(bb.currentLabel),Ha.topLeft=bb.bottomLeft.addXY(Qb?20:-20,10));da.lastLabel=bb.currentLabel;da.animate({submorphs:[bb,Ha],duration:Ob.duration});Ha.animate({opacity:1,duration:Ob.duration});uc.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SelectableControl"}},
{key:"properties",get:function(){return{target:{type:"Morph"},selectableControls:{},selectedControl:{},fill:{defaultValue:Ob.Color.transparent},layout:{initialize:function(){this.layout=new Ob.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function(La){return this.container.submorphs.indexOf(La)}})}},submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var La=new Ob.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});
this.submorphs=[La];La.width=100;Ob.connect(La,"switchLabel",this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:948,end:2579})})(Ob.Morph);(function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
Gb=Tb.hasOwnProperty("ToggledControl")&&"function"===typeof Tb.ToggledControl?Tb.ToggledControl:Tb.ToggledControl=function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"toggle",value:function(La){var da=$jscomp.makeIterator(this.submorphs).next().value,Ha=this.toggledControl(La);da=[da].concat($jscomp.arrayFromIterable(Ha?[Ha]:[]));Ob.signal(this,"update",La&&Ha.value);Ha&&(Ha.opacity=0);this.animate({submorphs:da,
duration:Ob.duration});Ha&&Ha.animate({opacity:1,duration:Ob.duration})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:Ob.Color.transparent},layout:{initialize:function(){this.layout=new Ob.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var La=new Ob.CheckBox({checked:this.checked});this.submorphs=
[{fill:Ob.Color.transparent,layout:new Ob.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:Ob.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},La]}];this.toggle(this.checked);Ob.connect(La,"toggle",this,"toggle")}}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2581,end:4273})})(Ob.Morph);(function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Tb.hasOwnProperty("StylePopover")&&"function"===typeof Tb.StylePopover?Tb.StylePopover:Tb.StylePopover=function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"setupConnections",value:function(){}},{key:"controls",
value:function(){return[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=Ob.morph({layout:new Ob.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:Ob.Color.transparent,submorphs:this.controls()});this.setupConnections()}}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4275,end:4825})})(Ob.Popover);var Uc=function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Tb.hasOwnProperty("IconPopover")&&"function"===typeof Tb.IconPopover?Tb.IconPopover:Tb.IconPopover=function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"onDrop",value:function(La){var da=this;La.hand.grabbedMorphs.find(function(Ha){return Ha===
da.iconLabel})&&(La.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new Ob.VerticalLayout({spacing:4}),fill:Ob.Color.transparent,submorphs:[new Ob.SearchField({name:"searchInput",width:200,placeHolder:"Search Icons"}),Ob.morph({textAndAttributes:this.iconAsTextAttributes(),name:"iconList",draggable:!0,type:"text",extent:Ob.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var La=
this.ui,da=La.iconList;Ob.connect(La.searchInput,"searchInput",this,"filterIcons");Ob.connect(da,"onMouseUp",this,"iconSelectClick");Ob.connect(da,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",value:function(La){La=this.ui.iconList.textPositionFromPoint(La.positionIn(this.ui.iconList));La=this.iconAtTextPos(La);this.iconLabel=Ob.Icon.makeLabel(La,{fontSize:this.ui.iconList.fontSize,name:La});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",
value:function(La){var da=Object.keys(Ob.Icons);La&&(da=da.filter(La));return Ob.arr.flatmap(da,function(Ha,bb){return[Ob.Icons[Ha].code,{iconCode:Ob.Icons[Ha].code,iconName:Ha}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",value:function(){var La=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(da){if(1==da.nextAddress)return da.yield(Ob.promise.delay(250),2);Ob.fun.debounceNamed("filterIcons",200,function(){La.ui.iconList.textAndAttributes=La.iconAsTextAttributes(function(Ha){return La.ui.searchInput.matches(Ha.toLowerCase())})})();
da.jumpToEnd()})}},{key:"iconSelectClick",value:function(La){La=this.ui.iconList.textPositionFromPoint(La.positionIn(this.ui.iconList));La=this.iconAtTextPos(La);this.setStatusMessage(La);Ob.signal(this,"select",La)}},{key:"iconAtTextPos",value:function(La){var da=La.row;La=La.column;--La;for(var Ha=this.ui.iconList,bb=Ha.textAndAttributesInRange({start:{row:da,column:Math.max(0,La)},end:{row:da,column:La+2}});bb.length&&!bb[1].iconName;)La++,bb=bb.slice(2);var Qb={start:{row:da,column:La},end:{row:da,
column:La+1}};Ha.addTextAttribute({backgroundColor:Ha.selectionColor.darker().withA(.5)},Qb);Ob.promise.delay(1E3).then(function(){return Ha.addTextAttribute({backgroundColor:Ob.Color.transparent},Qb)});return bb.length?bb[1].iconName:null}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"IconPopover"}},{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:Ob.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),
iconList:this.get("iconList")}}}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4834,end:8444})}(Ob.StylePopover);Ob.IconPopover=Uc;Ob.IconPopover=Uc;Ob.IconPopover=Uc;Uc=function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Tb.hasOwnProperty("LayoutPopover")&&
"function"===typeof Tb.LayoutPopover?Tb.LayoutPopover:Tb.LayoutPopover=function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"getLayoutObjects",value:function(){return[null,new Ob.HorizontalLayout({autoResize:!1}),new Ob.VerticalLayout({autoResize:!1}),new Ob.TilingLayout,new Ob.ProportionalLayout,new Ob.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){Gc._get(Object.getPrototypeOf(Gb.prototype),
"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:Ob.Color.transparent,layout:new Ob.VerticalLayout({spacing:5,layoutOrder:function(La){return this.container.submorphs.indexOf(La)}}),submorphs:[this.layoutPicker(),this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),
duration:300}:{isLayoutable:!1,extent:Ob.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function(La){this.clearLayoutHalo();La&&La.layout&&(this.layoutHalo=(La.world()||La.env.world).showLayoutHaloFor(La))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function(La){return La?La.name()+" Layout":
"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function(La){this.container.animate({layout:La});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());Ob.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var La=this,da=this.getLayoutObjects().map(function(Ha){var bb={};return bb[La.getLayoutName(Ha)]=Ha,bb});da=this.get("Layout Type")||new Ob.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return La.getCurrentLayoutName()},
selectedValue:this.container.layout,values:Ob.obj.merge(da)});Ob.connect(da,"selectedValue",this,"applyLayout");return da}},{key:"layoutControls",value:function(){return{name:"controlContainer",fill:Ob.Color.transparent,layout:new Ob.VerticalLayout,isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:Ob.Color.gray.lighter()}}}}],
Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:8453,end:11240})}(Ob.StylePopover);Ob.LayoutPopover=Uc;Ob.LayoutPopover=Uc;Ob.LayoutPopover=Uc;Uc=function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Tb.hasOwnProperty("FillPopover")&&
"function"===typeof Tb.FillPopover?Tb.FillPopover:Tb.FillPopover=function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"openHandle",value:function(La){La.openInWorld();this.openHandles.push(La)}},{key:"close",value:function(){Gc._get(Object.getPrototypeOf(Gb.prototype),"close",this).call(this);this.openHandles.forEach(function(La){return La.remove()})}},{key:"setupConnections",value:function(){var La=
this.ui,da=La.fillSelector,Ha=La.colorField;La=La.gradientEditor;da&&Ob.connect(this,"fillValue",da,"value");La&&(Ob.connect(La,"gradientValue",this,"fillValue"),Ob.connect(La,"openHandle",this,"openHandle"));Ha&&(Ob.connect(this,"close",Ha,"remove"),Ob.connect(Ha,"update",this,"fillValue"),Ob.connect(this,"onMouseDown",Ha,"removeWidgets"))}},{key:"commands",get:function(){var La=this;return Gc._get(Object.getPrototypeOf(Gb.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var da=
new Ob.colorWidgets.ColorPickerField({name:"colorField",colorValue:La.fillValue.isGradient?Ob.Color.blue:La.fillValue});da.whenRendered().then(function(){La.setupConnections()});return da}},{name:"switch to gradient",exec:function(){var da=new Ob.colorWidgets.GradientEditor({name:"gradient editor",gradientValue:La.fillValue});da.whenRendered().then(function(){La.setupConnections();La.handleMorph&&da.showGradientHandlesOn(La.handleMorph);da.update()});return da}}])}},{key:"controls",value:function(){var La=
this;if(!this.gradientEnabled){var da=new Ob.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue});da.whenRendered().then(function(){da.update(La.fillValue)});return[{fill:Ob.Color.transparent,layout:new Ob.VerticalLayout({spacing:0}),submorphs:[da]}]}return[new Ob.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},fillValue:{defaultValue:Ob.Color.blue},popoverColor:{defaultValue:Ob.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:11249,end:14234})}(Ob.StylePopover);Ob.FillPopover=Uc;Ob.FillPopover=Uc;Ob.FillPopover=Uc;var Kc=Pa("S",function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Tb.hasOwnProperty("ShadowPopover")&&"function"===typeof Tb.ShadowPopover?Tb.ShadowPopover:Tb.ShadowPopover=function(La){La&&La[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"controls",value:function(){var La=this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",da=[{layout:new Ob.VerticalLayout({resizeContainer:!0,spacing:5}),fill:Ob.Color.transparent,name:"control container",submorphs:[La=new Ob.DropDownSelector({name:"shadow type",borderRadius:2,padding:3,selectedValue:La,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?
this.shadowControls():[])}];Ob.connect(La,"selectedValue",this,"changeShadowType");return da}},{key:"shadowControls",value:function(){var La=this.shadowValue,da=new Ob.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:La.distance,unit:"px"}),Ha=new Ob.NumberWidget({name:"angleSlider",min:0,max:360,number:La.rotation,autofit:!1}),bb=new Ob.NumberWidget({name:"spreadSlider",min:0,number:La.spread,autofit:!1}),Qb=new Ob.NumberWidget({name:"blurSlider",min:0,number:La.blur,autofit:!1});La=new Ob.colorWidgets.ColorPickerField({name:"colorPicker",
colorValue:La.color});Ob.connect(La,"colorValue",this,"updateShadow",{converter:function(uc){return{color:uc}}});Ob.connect(this,"onMouseDown",La,"removeWidgets");Ob.connect(this,"close",La,"remove");Ob.connect(bb,"update",this,"updateShadow",{converter:function(uc){return{spread:uc}}});Ob.connect(da,"update",this,"updateShadow",{converter:function(uc){return{distance:uc}}});Ob.connect(Qb,"update",this,"updateShadow",{converter:function(uc){return{blur:uc}}});Ob.connect(Ha,"update",this,"updateShadow",
{converter:function(uc){return{rotation:uc}}});return new Ob.Morph({layout:new Ob.GridLayout({autoAssign:!1,fitToCell:!1,columns:[0,{paddingLeft:1}],rows:Ob.arr.flatten(Ob.arr.range(0,3).map(function(uc){return[uc,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",null,"distanceSlider"],["blurLabel",null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:Ob.Color.transparent,submorphs:Ob.arr.flatten([["distance",
da],["spread",bb],["blur",Qb],["angle",Ha],["color",La]].map(function(uc){var Tc=$jscomp.makeIterator(uc);uc=Tc.next().value;Tc=Tc.next().value;return[{type:"label",styleClasses:["controlName"],value:Ob.string.capitalize(uc)+":",name:uc+"Label"},Tc]}))})}},{key:"changeShadowType",value:function(La){"No Shadow"==La?this.toggleShadow(!1):"Inset Shadow"==La?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?
this.shadowControls():[]),duration:300})}},{key:"updateShadow",value:function(La){var da=this.shadowValue;La=Object.assign({fast:da.fast,color:da.color,spread:da.spread,blur:da.blur,distance:da.distance,rotation:da.rotation,inset:da.inset},La);this.shadowValue=new Ob.ShadowObject(La)}},{key:"toggleShadow",value:function(La){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=La&&this.cachedShadow}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowPopover"}},
{key:"properties",get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new Ob.ShadowObject({fast:!0})},popoverColor:{defaultValue:Ob.Color.gray.lighter()}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:14243,end:18677})}(Ob.StylePopover));Ob.ShadowPopover=Kc;
Ob.ShadowPopover=Kc;Ob.ShadowPopover=Kc;Ob.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";Kc=function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Tb.hasOwnProperty("PointPopover")&&"function"===typeof Tb.PointPopover?Tb.PointPopover:Tb.PointPopover=function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"refineResolution",
value:function(La){this.resolution=.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function(La){this.pointValue=this.pointValue.addPt(La.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){Gc._get(Object.getPrototypeOf(Gb.prototype),"relayout",this).call(this);var La=this.getSubmorphNamed("mesh"),da=this.getSubmorphNamed("point value view");La.origin=La.innerBounds().center().addXY(4,1);La.position=this.get("body").innerBounds().center();
La.scale=this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";da.value=Ob.obj.safeToString(this.pointValue);da.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function(La){var da=this;Gc._get(Object.getPrototypeOf(Gb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,La);this.whenRendered().then(function(){return da.relayout()})}},{key:"calibrate",value:function(){var La=
this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(da){if(1==da.nextAddress)return La.get("knob").animate({center:La.innerBounds().center(),duration:200}),da.yield(La.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);La.relayout();da.jumpToEnd()})}},{key:"showPointValue",value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},{key:"controls",value:function(){this.extent=Ob.pt(200,200);var La,da,Ha=[Ob.morph({extent:Ob.pt(200,
200),clipMode:"hidden",fill:Ob.Color.transparent,submorphs:[{type:"image",name:"mesh",fill:Ob.Color.transparent,opacity:.5,imageUrl:Ob.milimeter,autoResize:!0},{extent:Ob.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:Ob.Color.gray},fill:Ob.Color.transparent},La=Ob.morph({name:"scroller",extent:Ob.pt(200,200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),da=Ob.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:Ob.Color.red,borderColor:Ob.Color.black,
borderWidth:1,center:Ob.pt(100,100),draggable:!0}),{type:"label",name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:Ob.pt(10,10),type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];La.scroll=Ob.pt(0,120);Ob.connect(da,"onDragStart",this,"showPointValue");Ob.connect(da,"onDrag",this,"adjustPoint");Ob.connect(da,"onDragEnd",this,"calibrate");Ob.connect(this,"extent",this,"relayout");Ob.connect(La,"onScroll",this,"refineResolution");return Ha}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"PointPopover"}},{key:"properties",get:function(){return{pointValue:{defaultValue:Ob.pt(0,0)},resolution:{defaultValue:1}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:18792,end:21996})}(Ob.StylePopover);Ob.PointPopover=Kc;Ob.PointPopover=Kc;Ob.PointPopover=
Kc;Kc=function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Gb=Tb.hasOwnProperty("RectanglePopover")&&"function"===typeof Tb.RectanglePopover?Tb.RectanglePopover:Tb.RectanglePopover=function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"controls",value:function(){var La=this;return[{fill:Ob.Color.transparent,extent:Ob.pt(120,120),layout:new Ob.GridLayout({grid:[["top",
"top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],columns:[0,{paddingLeft:4},1,{paddingRight:4,fixed:!0,width:60}],rows:Ob.arr.flatten(Ob.arr.range(0,3).map(function(da){return[da,{paddingTop:0==da?4:2,paddingBottom:3==da?4:2}]}))}),submorphs:Ob.arr.flatten(["top","right","bottom","left"].map(function(da){var Ha=new Ob.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},name:da+" scrubber",autofit:!1,number:La.rectangle.partNamed(da)});
Ob.connect(Ha,"update",La,"rectangle",{updater:function(bb,Qb){var uc=this.targetObj.rectangle,Tc={};Qb=(Tc.left=uc.left(),Tc.top=uc.top(),Tc.right=uc.right(),Tc.bottom=uc.bottom(),Tc[da]=Qb,Tc);bb(Ob.Rectangle.inset(Qb.left,Qb.top,Qb.right,Qb.bottom))},varMapping:{side:da,Rectangle:Ob.Rectangle}});return[{type:"label",styleClasses:["controlName"],name:da,value:da,padding:3},Ha]}))}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RectanglePopover"}},{key:"properties",get:function(){return{popoverColor:{defaultValue:Ob.Color.gray.lighter()},
rectangle:{defaultValue:Ob.rect(0)}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:22005,end:23989})}(Ob.StylePopover);Ob.RectanglePopover=Kc;Ob.RectanglePopover=Kc;Ob.RectanglePopover=Kc;Kc=function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
Gb=Tb.hasOwnProperty("TextPopover")&&"function"===typeof Tb.TextPopover?Tb.TextPopover:Tb.TextPopover=function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"controls",value:function(){var La=new Ob.Text(Object.assign({name:"editor",extent:Ob.pt(300,200),textString:this.text,lineWrapping:"by-chars"},Ob.config.codeEditor.defaultStyle));return[{layout:new Ob.HorizontalLayout,fill:Ob.Color.transparent,borderColor:Ob.Color.gray,
borderWidth:1,borderRadius:4,clipMode:"hidden",submorphs:[La]}]}},{key:"commands",get:function(){return Gc._get(Object.getPrototypeOf(Gb.prototype),"commands",this).concat([{name:"save string",exec:function(La){return $jscomp.asyncExecutePromiseGeneratorProgram(function(da){La.text=La.get("editor").textString;Ob.signal(La,"save",La.text);La.setStatusMessage("String saved!",Ob.Color.green);da.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return Gc._get(Object.getPrototypeOf(Gb.prototype),"keybindings",
this).concat([{keys:{mac:"Command-S",win:"Ctrl-S"},command:"save string"}])}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],Tb,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},
{start:23998,end:25073})}(Ob.StylePopover);Ob.TextPopover=Kc;Ob.TextPopover=Kc;Ob.TextPopover=Kc;Object.assign(Ob.popovers,{FillPopover:Ob.FillPopover,IconPopover:Ob.IconPopover,RectanglePopover:Ob.RectanglePopover,ShadowPopover:Ob.ShadowPopover,PointPopover:Ob.PointPopover,LayoutPopover:Ob.LayoutPopover});var Hb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");Hb.Morph=te;Hb.morph=ec;Hb.StyleSheet=vc;Hb.Text=Je;Hb.Icon=xd;Hb.VerticalLayout=Ua;Hb.GridLayout=mb;Hb.HorizontalLayout=
Bc;Hb.pt=bd;Hb.Rectangle=fc;Hb.Color=Lb;Hb.LinearGradient=Da;Hb.rect=rd;Hb.signal=Jd;Hb.once=ja;Hb.connect=fd;Hb.obj=Yc;Hb.num=fe;Hb.Window=Ba;Hb.ColorPalette=Sc;Hb.FillPopover=Uc;Hb.colorWidgets=pd;Hb.Slider=Bd;Hb.Popover=wa;Hb.resource=Ja;Hb.WHEEL_URL="/lively.ide/assets/color-wheel.png";Sc=function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Gb=Tb.hasOwnProperty("ColorPickerField")&&"function"===typeof Tb.ColorPickerField?Tb.ColorPickerField:Tb.ColorPickerField=
function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"spec",value:function(){return Hb.obj.dissoc(Gc._get(Object.getPrototypeOf(Gb.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function(La){"Escape"==La.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,
duration:300})}},{key:"onHoverOut",value:function(){this.get("dropDownIndicator").animate({opacity:0,duration:300})}},{key:"update",value:function(La){this._updating=!0;var da=this.submorphs[1];this.colorValue=La;this.get("topLeft").fill=La;this.get("bottomRight").fill=La.isGradient?Hb.Color.transparent:La.withA(1);da.visible=da.isLayoutable=!this.gradientEnabled;this.gradientEnabled?this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=
this.get("topLeft").width=Math.max(1,this.width-da.width);this.get("bottomRight").left=0;this.get("dropDownIndicator").right=this.get("paletteButton").width-5;this._updating=!1}},{key:"openPicker",value:function(La){var da=this,Ha,bb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qb){if(1==Qb.nextAddress)return(Ha=da.picker)?Qb.jumpTo(2):Qb.yield(Hb.resource("part://SystemWidgets/new color picker").read(),3);2!=Qb.nextAddress&&(Ha=Qb.yieldResult);bb=Ha;bb.solidOnly=!da.gradientEnabled;
bb.hasFixedPosition=!0;bb.focusOnMorph(da.context,da.colorValue);bb.toggleHalos(!1);bb.position=Hb.pt(0,-bb.height/2);Hb.connect(bb,"value",da,"update");da.picker=bb.openInWorld();da.picker.topLeft=da.globalBounds().bottomCenter();da.picker.topLeft=da.world().visibleBounds().translateForInclusion(da.picker.globalBounds()).topLeft();Qb.jumpToEnd()})}},{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function(La){var da=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ha){da.openPicker(La);
Ha.jumpToEnd()})}},{key:"removeWidgets",value:function(){this.removePicker()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,after:["colorValue"],set:function(La){this.setProperty("gradientEnabled",La);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new Hb.FillPopover({fillValue:this.colorValue})}},testProp:{get:function(){return[42]}},palette:{serialize:!1,
get:function(){return this._palette||(this._palette=new Hb.Popover({position:Hb.pt(0,0),name:"Color Palette",targetMorph:new Hb.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function(La){La&&(La.isColor||La.isGradient)||(La=Hb.Color.blue);if(!this._updating)return this.update(La);this.setProperty("colorValue",La)},get:function(){return this.getProperty("colorValue")||Hb.Color.white}},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color field"}}},
submorphs:{initialize:function(){this.innerBounds().topRight();this.innerBounds().bottomLeft();var La=Hb.pt(40,25);this.submorphs=[{extent:La,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:La},{name:"bottomRight",type:"polygon",extent:La,origin:Hb.pt(0,0),vertices:[Hb.pt(0,0),La.withX(0),La]},Hb.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:Hb.pt(30,12.5)})]},{fill:Hb.Color.transparent,extent:Hb.pt(25,25),onHoverIn:function(){this.fill=Hb.Color.black.withA(.2)},
onHoverOut:function(){this.fill=Hb.Color.transparent},submorphs:[{name:"pickerButton",type:"image",autoResize:!1,imageUrl:Hb.WHEEL_URL}]}];Hb.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",this,"openPicker");Hb.connect(this.getSubmorphNamed("paletteButton"),"onMouseDown",this,"openPalette");Hb.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],Tb,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:689,end:5910})}(Hb.Morph);Hb.ColorPickerField=Sc;Hb.ColorPickerField=Sc;Hb.ColorPickerField=Sc;Hb.colorWidgets.ColorPickerField=Hb.ColorPickerField;(function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Gb=Tb.hasOwnProperty("FieldPicker")&&"function"===typeof Tb.FieldPicker?Tb.FieldPicker:Tb.FieldPicker=function(La){La&&La[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"confirm",value:function(){Hb.signal(this,"shadeChanged",[this.brightness,this.saturation])}},{key:"update",value:function(La){var da=$jscomp.makeIterator(La.color.toHSB());La=da.next().value;var Ha=da.next().value;da=da.next().value;this.getSubmorphNamed("hue").fill=Hb.Color.hsb(La,1,1);this.brightness=da;this.saturation=Ha;this.refresh()}},{key:"refresh",value:function(){this.get("picker").center=this.pickerPosition}},
{key:"onMouseDown",value:function(La){this.pickerPosition=La.positionIn(this);this.confirm()}},{key:"onDrag",value:function(La){this.pickerPosition=La.positionIn(this);this.confirm()}},{key:"relayout",value:function(){var La=this.innerBounds();this.getSubmorphNamed("hue").setBounds(La);this.getSubmorphNamed("shade").setBounds(La);this.getSubmorphNamed("light").setBounds(La)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:Hb.Color.transparent},
saturation:{defaultValue:0},brightness:{defaultValue:0},draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var La=this.saturation,da=this.brightness;return void 0===La||void 0===da?Hb.pt(0,0):Hb.pt(this.getSubmorphNamed("hue").width*La,this.getSubmorphNamed("hue").height*(1-da))},set:function(La){var da=La.x;La=La.y;var Ha=this.getSubmorphNamed("hue"),bb=Ha.height;this.saturation=Hb.num.clamp(da/Ha.width,0,1);this.brightness=Hb.num.clamp(1-
La/bb,0,1);this.refresh()}},submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new Hb.LinearGradient({stops:[{color:Hb.Color.white,offset:0},{color:Hb.Color.transparent,offset:1}],vector:"eastwest"})},{borderRadius:3,name:"light",reactsToPointer:!1,fill:new Hb.LinearGradient({stops:[{color:Hb.Color.black,offset:0},{color:Hb.Color.transparent,offset:1}],vector:"southnorth"})},{name:"picker",type:"ellipse",
reactsToPointer:!1,fill:Hb.Color.transparent,borderColor:Hb.Color.black,borderWidth:3,extent:Hb.pt(16,16),submorphs:[{type:"ellipse",fill:Hb.Color.transparent,borderColor:Hb.Color.white,reactsToPointer:!1,borderWidth:3,center:Hb.pt(8,8),extent:Hb.pt(12,12)}]}];Hb.connect(this,"extent",this,"relayout")}}}}}],Tb,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5964,end:9331})})(Hb.Morph);(function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Gb=Tb.hasOwnProperty("ColorPropertyView")&&"function"===typeof Tb.ColorPropertyView?Tb.ColorPropertyView:Tb.ColorPropertyView=function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=
["key"].concat($jscomp.arrayFromIterable(this.readOnly?[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=[!this.readOnly&&"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function(La){"Enter"!=La.keyCombo||this.readOnly?Gc._get(Object.getPrototypeOf(Gb.prototype),
"onKeyDown",this).call(this,La):(this.owner.focus(),La.stop(),Hb.signal(this,"updateValue",this.value))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},value:{derived:[!0],set:function(La){this.textString=Hb.obj.safeToString(La)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:Hb.Color.gray.darker()}}}}],
Tb,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:9340,end:10510})})(Hb.Text);(function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Gb=Tb.hasOwnProperty("HuePicker")&&"function"===typeof Tb.HuePicker?Tb.HuePicker:Tb.HuePicker=function(La){La&&
La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"confirm",value:function(){Hb.signal(this,"hueChanged",this.hue)}},{key:"onMouseDown",value:function(La){var da=this.get("slider").width;this.sliderPosition=Hb.pt(0,La.positionIn(this).y-da/2);this.confirm()}},{key:"onDrag",value:function(La){var da=this.get("slider").width;this.sliderPosition=Hb.pt(0,La.positionIn(this).y-da/2);this.confirm()}},{key:"update",value:function(La){this.hue=
La.hsb[0];this.refresh()}},{key:"refresh",value:function(){this.get("slider").center=this.sliderPosition}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new Hb.LinearGradient({stops:[{color:Hb.Color.rgb(255,0,0),offset:0},{color:Hb.Color.rgb(255,255,0),offset:.17},{color:Hb.Color.limeGreen,offset:.33},{color:Hb.Color.cyan,offset:.5},{color:Hb.Color.blue,offset:.66},{color:Hb.Color.magenta,offset:.83},{color:Hb.Color.rgb(255,
0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return Hb.pt(this.width/2,5+this.hue/360*(this.height-10))},set:function(La){this.hue=Math.max(0,Math.min(La.y/(this.height-10)*360,359));this.refresh()}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:Hb.Color.black,fill:Hb.Color.transparent,
borderWidth:2}]}}}}}],Tb,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:10512,end:12485})})(Hb.Morph);(function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Gb=Tb.hasOwnProperty("ColorDetails")&&"function"===typeof Tb.ColorDetails?Tb.ColorDetails:
Tb.ColorDetails=function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"update",value:function(La){La=La.color;var da=$jscomp.makeIterator(La.toTuple8Bit()),Ha=da.next().value,bb=da.next().value;da=da.next().value;var Qb=$jscomp.makeIterator(La.toHSB()),uc=Qb.next().value,Tc=Qb.next().value;Qb=Qb.next().value;var vd=this.get("hashViewer");this.get("colorViewer").fill=La;vd.replace(vd.documentRange,La.toHexString(),
!1,!1);this.get("R").value="R "+Ha.toFixed(0)+"\n\nG "+bb.toFixed(0)+"\n\nB "+da.toFixed(0)+"\n\nH "+uc.toFixed(0)+"\n\nS "+Tc.toFixed(2)+"\n\nV "+Qb.toFixed(2)}},{key:"onHashViewerChanged",value:function(La){La=Hb.Color.rgbHex(La);this.owner.owner.color=La}},{key:"keyValue",value:function(La){var da=La.name,Ha=La.key,bb=La.value,Qb=La.update;La=La.editable;return new Hb.Morph({fill:Hb.Color.transparent,layout:new Hb.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",styleClasses:[La&&
"large","key"],value:Ha},new Hb.ColorPropertyView({name:da||Ha,readOnly:!La,value:bb,update:Qb})]})}},{key:"hashViewer",value:function(){var La=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});Hb.connect(La.get("hashViewer"),"updateValue",this,"onHashViewerChanged");return La}},{key:"rgbViewer",value:function(){var La=$jscomp.makeIterator(this.color.toTuple8Bit()),da=La.next().value,Ha=La.next().value;La=La.next().value;return new Hb.Morph({name:"rgbViewer",fill:Hb.Color.transparent,
submorphs:[this.keyValue({key:"R",value:da.toFixed()}),this.keyValue({key:"G",value:Ha.toFixed()}),this.keyValue({key:"B",value:La.toFixed()})]})}},{key:"hsbViewer",value:function(){var La=$jscomp.makeIterator(this.color.toHSB()),da=La.next().value,Ha=La.next().value;La=La.next().value;return new Hb.Morph({name:"hsbViewer",fill:Hb.Color.transparent,submorphs:[this.keyValue({key:"H",value:da.toFixed()}),this.keyValue({key:"S",value:Ha.toFixed(2)}),this.keyValue({key:"V",value:La.toFixed(2)})]})}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorDetails"}},{key:"properties",get:function(){return{color:{defaultValue:Hb.Color.blue},width:{defaultValue:80},fill:{defaultValue:Hb.Color.transparent},layout:{initialize:function(){this.layout=new Hb.VerticalLayout({spacing:9,layoutOrder:function(La){return this.container.submorphs.indexOf(La)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:Hb.pt(50,50),name:"colorViewer",fill:this.color},
this.hashViewer(),{type:"label",name:"R",autofit:!0,padding:Hb.rect(10,0,0,0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],Tb,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12494,end:15269})})(Hb.Morph);Sc=Pa("a",function($d){var Tb=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),
Gb=Tb.hasOwnProperty("ColorPicker")&&"function"===typeof Tb.ColorPicker?Tb.ColorPicker:Tb.ColorPicker=function(La){La&&La[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(Gb,$d,[{key:"onKeyDown",value:function(La){"Escape"==La.key&&this.close()}},{key:"close",value:function(){Gc._get(Object.getPrototypeOf(Gb.prototype),"close",this).call(this);Hb.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&
(this.get("header").fill=Hb.Color.transparent,this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),Hb.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var La=this.colorDetails(),da=this.fieldPicker(),Ha=this.huePicker(),bb=this.alphaSlider();La=new Hb.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[da,Ha,La,bb]});Hb.connect(da,
"brightness",this,"brightness");Hb.connect(da,"saturation",this,"saturation");Hb.connect(Ha,"hue",this,"hue");return La}},{key:"alphaSlider",value:function(){var La,da=Hb.morph({name:"alphaSlider",fill:Hb.Color.transparent,layout:new Hb.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:Hb.Rectangle.inset(3),value:"Alpha",fontColor:Hb.Color.gray,fontWeight:"bold"},La=new Hb.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});Hb.connect(La,"value",this,"alpha");return da}},
{key:"fieldPicker",value:function(){return new Hb.FieldPicker({name:"field picker",saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new Hb.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new Hb.ColorDetails({name:"details",color:this.color})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:Hb.pt(400,320)},fill:{defaultValue:Hb.Color.black.withA(.7)},
isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},hasFixedPosition:{defaultValue:!0},color:{defaultValue:Hb.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return Hb.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function(La){var da=$jscomp.makeIterator(La.toHSB()),Ha=da.next().value,bb=da.next().value;da=da.next().value;this.hue=Ha;this.saturation=bb;this.brightness=da;this.alpha=La.a}},alpha:{set:function(La){this.setProperty("alpha",La);
this.update()}},saturation:{},brightness:{set:function(La){this.setProperty("brightness",La);this.update()}},hue:{set:function(La){this.setProperty("hue",La);this.update()}},targetMorph:{initialize:function(){var La=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=Hb.Color.gray;this.ui.header.fill=Hb.Color.transparent;this.whenRendered().then(function(){La.fill=Hb.Color.black.withA(.7);La.update()})}}}}}],Tb,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15278,end:19116})}(Hb.Window));Hb.ColorPicker=Sc;Hb.ColorPicker=Sc;Hb.ColorPicker=Sc}}});
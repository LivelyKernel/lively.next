System.register("./__root_module__-11543d52.js kld-intersections ./index-82fd0049.js ./index-5413fdc6.js ./index-0748ee4b.js ./color-picker-cc396a95.js ./index-23146fe6.js".split(" "),function(){var sa,lb,Eb,Vb,Wb,qd,Ec,vd,Ic,Jc,Zc,$c,Fd,md,Vc,Ra,tb,dc,bc,Yc;return{setters:[function(Oc){sa=Oc.ag;lb=Oc.ay;Eb=Oc.al;Vb=Oc.am;Wb=Oc.at;qd=Oc.a1;Ec=Oc.C;vd=Oc.ar;Ic=Oc.ao;Jc=Oc.bn;Zc=Oc.aq;$c=Oc.a5;Fd=Oc.s;md=Oc.bS;Vc=Oc.as;Ra=Oc.ap;tb=Oc.r;dc=Oc.a4;bc=Oc.P},function(){},function(){},function(){},function(){},
function(Oc){Yc=Oc.S},function(){}],execute:function(){var Oc=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js");Oc.Morph=sa;Oc.touchInputDevice=lb;Oc.morph=Eb;Oc.Icon=Vb;Oc.easings=Wb;Oc.pt=qd;Oc.Color=Ec;Oc.fun=vd;Oc.connect=Ic;Oc.TreeData=Jc;var $b=function(Pc){var xb=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),db=xb.hasOwnProperty("SettingsTree")&&"function"===typeof xb.SettingsTree?xb.SettingsTree:xb.SettingsTree=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Zc(db,Pc,[{key:"display",value:function(Ta){return Ta.panel?[Ta.panel,{}]:Ta.name}},{key:"collapse",value:function(Ta,cb){Ta.isCollapsed=cb}},{key:"isCollapsed",value:function(Ta){return Ta.isCollapsed}},{key:"isLeaf",value:function(Ta){return!Ta.children}},{key:"getChildren",value:function(Ta){return Ta.children}}],[{key:"className",get:function(){return"SettingsTree"}},{key:"default",value:function(){return new this({isCollapsed:!1,
children:[{isCollapsed:!0,name:[" ",{}].concat($jscomp.arrayFromIterable(Oc.Icon.textAttribute("font")),[" Rich Text",{fontWeight:"bold"}]),children:[{panel:Oc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Oc.Icon.textAttribute("image")),[" Shape",{fontWeight:"bold"}]),children:[{panel:Oc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Oc.Icon.textAttribute("border-style")),[" Border",{paddingLeft:"2px",fontWeight:"bold"}]),children:[{panel:Oc.morph({})}]},
{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(Oc.Icon.textAttribute("grip-vertical")),[" Layout",{paddingLeft:"4px",fontWeight:"bold"}]),children:[{panel:Oc.morph({})}]}]})}},{key:"border",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" Type    ",{},Oc.morph({height:20}),{}],children:[{panel:Oc.morph({})}]},{isCollapsed:!1,name:[" Color   ",{},Oc.morph({height:20}),{}],children:[{panel:Oc.morph({})}]},{isCollapsed:!1,name:[" Width  ",{},Oc.morph({height:20}),
{}],children:[{panel:Oc.morph({})}]},{isCollapsed:!1,name:[" Radius ",{},Oc.morph({height:20}),{}],children:[{panel:Oc.morph({})}]}]})}}],xb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-55"}}},{start:284,end:2453})}(Oc.TreeData);Oc.SettingsTree=$b;Oc.SettingsTree=$b;Oc.SettingsTree=$b;$b=function(Pc){var xb=
lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),db=xb.hasOwnProperty("StylingSideBar")&&"function"===typeof xb.StylingSideBar?xb.StylingSideBar:xb.StylingSideBar=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Zc(db,Pc,[{key:"onWorldResize",value:function(Ta){Ta=void 0===Ta?!0:Ta;if(this.respondsToVisibleWindow){var cb=$world.visibleBounds(),la=navigator.standalone&&Oc.touchInputDevice?25:0,La=this.getSubmorphNamed("horizontal resizer");
this.height=cb.height-la;this.top=la+cb.top();La.height=this.height;La.left=0;La.top=0;Ta&&(this.visible?this.topRight=cb.topRight():this.topLeft=cb.topRight())}}},{key:"toggle",value:function(Ta){var cb=this,la,La;return $jscomp.asyncExecutePromiseGeneratorProgram(function(fb){switch(fb.nextAddress){case 1:la=$world.visibleBounds();La=navigator.standalone&&Oc.touchInputDevice?25:0;cb.height=la.height-La;cb.top=La+la.top();if(Ta)return $world.addMorph(cb,$world.get("lively top bar")),cb.left=la.width,
cb.visible=!0,fb.yield(cb.whenRendered(),5);cb.detachFromWorld($world);return fb.yield(cb.animate({opacity:0,left:la.width,duration:300}),4);case 4:cb.visible=!1;cb.remove();fb.jumpTo(0);break;case 5:return cb.onWorldResize(!1),fb.yield(cb.animate({opacity:1,easing:Oc.easings.outCirc,right:la.width,duration:300}),6);case 6:cb.attachToWorld($world),fb.jumpToEnd()}})}},{key:"attachToWorld",value:function(Ta){Oc.connect(Ta,"showHaloFor",this,"focusMorph",{garbageCollect:!0})}},{key:"detachFromWorld",
value:function(Ta){var cb=this;Ta.attributeConnections.forEach(function(la){la.targetObj===cb&&la.disconnect()})}},{key:"focusMorph",value:function(Ta){Ta.isMorph&&Ta.ownerChain().includes(this)||((Ta.isLabel||Ta.isText||Ta.isButton)&&this.richTextControl.focusOn(Ta,!1),Object.values(this.controls).forEach(function(cb){return cb&&cb.focusOn(Ta)}))}},{key:"onHierarchyChange",value:function(){Object.values(this.controls).forEach(function(Ta){return Ta&&Ta.update()})}}],[{key:"className",get:function(){return"StylingSideBar"}},
{key:"properties",get:function(){return{controls:{},richTextControl:{},isHaloItem:{get:function(){return!0}}}}}],xb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-55"}}},{start:2470,end:4827})}(Oc.Morph);$b=Oc.StylingSideBar;Oc.default=$b;var zc=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js");
zc.Morph=sa;zc.obj=$c;zc.string=Fd;zc.connect=Ic;zc.noUpdate=md;zc.once=Vc;$b=function(Pc){var xb=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js"),db=xb.hasOwnProperty("ShapeFormatStyler")&&"function"===typeof xb.ShapeFormatStyler?xb.ShapeFormatStyler:xb.ShapeFormatStyler=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Zc(db,Pc,[{key:Symbol.for("lively-instance-initialize"),value:function(Ta){Zc._get(Object.getPrototypeOf(db.prototype),
Symbol.for("lively-instance-initialize"),this).call(this,Ta);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var Ta=this.ui,cb={},la=$jscomp.makeIterator(Object.entries(this.uiSpec)),La=la.next();!La.done;cb={$jscomp$loop$prop$control$2285:cb.$jscomp$loop$prop$control$2285,$jscomp$loop$prop$prop$2286:cb.$jscomp$loop$prop$prop$2286},La=la.next()){var fb=$jscomp.makeIterator(La.value);La=fb.next().value;fb=$jscomp.makeIterator(fb.next().value);fb.next();
var pb=fb.next().value;cb.$jscomp$loop$prop$prop$2286=fb.next().value;cb.$jscomp$loop$prop$control$2285=Ta[La];zc.connect(cb.$jscomp$loop$prop$control$2285,pb,this,"updateTarget",{updater:function(Cb){return function(Wa,Xa){Cb.$jscomp$loop$prop$control$2285._updating=!0;Wa(Cb.$jscomp$loop$prop$prop$2286,Xa);Cb.$jscomp$loop$prop$control$2285._updating=!1}}(cb),varMapping:{prop:cb.$jscomp$loop$prop$prop$2286,control:cb.$jscomp$loop$prop$control$2285}})}}},{key:"update",value:function(){var Ta=this,
cb=this.target,la=cb.clipMode,La=cb.fill,fb=cb.dropShadow,pb=cb.opacity,Cb=cb.height,Wa=cb.width;cb=this.ui;var Xa=cb.clipModeSelector,zb=cb.fillPicker,kc=cb.opacityField,Tb=cb.shadowPicker,qc=cb.heightField,wc=cb.widthField;zc.noUpdate(function(){Ta.updateControl(Tb,"shadowValue",fb);Ta.updateControl(Xa,"selection",la);Ta.updateControl(zb,"colorValue",La);Ta.updateControl(kc,"number",pb);Ta.updateControl(qc,"number",Cb);Ta.updateControl(wc,"number",Wa)})}},{key:"updateTarget",value:function(Ta,cb){this.target[Ta]=
cb;this.update()}},{key:"updateControl",value:function(Ta,cb,la){Ta._updating||zc.obj.equals(Ta[cb],la)||(Ta[cb]=la)}},{key:"updateMultiValue",value:function(Ta,cb,la){var La=this.ui,fb=La[this.join(Ta)],pb=fb.get("multi value indicator"),Cb=zc.obj.values(cb).some(function(Wa){return!zc.obj.isFunction(Wa)&&!zc.obj.equals(Wa,cb.valueOf())});pb.left=0;fb.visible=fb.isLayoutable=!Cb;if(Cb&&pb.visible!=Cb)zc.once(pb,"onMouseDown",fb,la,{converter:function(){return cb.valueOf()},varMapping:{value:cb}});
pb.visible=pb.isLayoutable=Cb;pb.left=Cb?200:0;this.updateControl(fb,la,cb.valueOf());fb=$jscomp.makeIterator(["top","left","bottom","right"]);for(pb=fb.next();!pb.done;pb=fb.next())pb=pb.value,Cb=La[this.join(Ta,pb)],this.updateControl(Cb,la,cb[pb])}},{key:"lower",value:function(Ta){return Ta.charAt(0).toLowerCase()+Ta.slice(1)}},{key:"join",value:function(Ta,cb){return this.lower(zc.string.camelCaseString(Ta+(cb?" "+cb:"")))}},{key:"unwrap",value:function(Ta,cb,la){var La={};La=(La[this.lower(zc.string.camelCaseString(Ta))]=
[Ta,cb,la],La);for(var fb=$jscomp.makeIterator(["top","left","bottom","right"]),pb=fb.next();!pb.done;pb=fb.next()){pb=pb.value;var Cb=Ta+" "+pb;La[this.lower(zc.string.camelCaseString(Cb))]=[Cb,cb,this.join(la,pb)]}return La}},{key:"focusOn",value:function(Ta){var cb=this,la;return $jscomp.asyncExecutePromiseGeneratorProgram(function(La){if(1==La.nextAddress)return!Ta||cb.isAncestorOf(Ta)||cb.target===Ta||zc.obj.isArray(Ta)||(cb.target=Ta),la=cb.visible,cb.visible=!0,La.yield(cb.whenRendered(),2);
if(3!=La.nextAddress)return cb.update(),La.yield(cb.whenRendered(),3);cb.getSubmorphsByStyleClassName("NumberWidget").map(function(fb){return fb.relayout()});cb.visible=la;La.jumpToEnd()})}},{key:"onHoverIn",value:function(Ta){this.watchForTarget=!1}},{key:"onHoverOut",value:function(Ta){this.watchForTarget=!0}}],[{key:"className",get:function(){return"ShapeFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||(this._uiSpec={clipModeSelector:["clip mode selector",
"selection","clipMode"],fillPicker:["fill picker","colorValue","fill"],shadowPicker:["shadow picker","shadowValue","dropShadow"],opacityField:["opacity field","number","opacity"],heightField:["height field","number","height"],widthField:["width field","number","width"]})}},ui:{readOnly:!0,get:function(){var Ta=this,cb=this.uiSpec;return this._ui||(this._ui=zc.obj.extract(cb,zc.obj.keys(cb),function(la,La){la=$jscomp.makeIterator(La).next().value;return Ta.getSubmorphNamed(la)}))}}}}}],xb,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeFormatStyler",version:"0.1.1-144"}}},{start:176,end:4600})}(zc.Morph);$b=zc.ShapeFormatStyler;zc.default=$b;var Fb=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js");Fb.Morph=sa;Fb.ShadowPopover=Yc;Fb.connect=Ic;Fb.signal=Ra;$b=function(Pc){var xb=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js"),db=xb.hasOwnProperty("ShadowWidget")&&
"function"===typeof xb.ShadowWidget?xb.ShadowWidget:xb.ShadowWidget=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Zc(db,Pc,[{key:"onHoverIn",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:1,duration:200})}},{key:"onHoverOut",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:0,duration:200})}},{key:"onMouseDown",value:function(Ta){this.openPopover()}},
{key:"update",value:function(Ta){var cb=this.submorphs[0];cb&&(cb.dropShadow=Ta)}},{key:"openPopover",value:function(){var Ta=this,cb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(la){if(1==la.nextAddress)return cb=new Fb.ShadowPopover({hasFixedPosition:!!Ta.ownerChain().find(function(La){return La.hasFixedPosition}),shadowValue:Ta.shadowValue}),la.yield(cb.fadeIntoWorld(Ta.globalBounds().center()),2);Fb.connect(cb,"shadowValue",Ta,"shadowValue");Fb.connect(Ta,"shadowValue",Ta,"update");
Fb.signal(Ta,"openWidget",cb);la.jumpToEnd()})}}],[{key:"className",get:function(){return"ShadowWidget"}},{key:"properties",get:function(){return{shadowValue:{set:function(Ta){this.setProperty("shadowValue",Ta);this.update(Ta)}}}}}],xb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShadowWidget",version:"0.1.1-7"}}},{start:194,end:1231})}(Fb.Morph);
$b=Fb.ShadowWidget;Fb.default=$b;var Bb=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js");Bb.Morph=sa;Bb.obj=$c;Bb.string=Fd;Bb.connect=Ic;Bb.noUpdate=md;Bb.once=Vc;$b=function(Pc){var xb=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js"),db=xb.hasOwnProperty("BorderFormatStyler")&&"function"===typeof xb.BorderFormatStyler?xb.BorderFormatStyler:xb.BorderFormatStyler=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return Zc(db,Pc,[{key:Symbol.for("lively-instance-initialize"),value:function(Ta){Zc._get(Object.getPrototypeOf(db.prototype),Symbol.for("lively-instance-initialize"),this).call(this,Ta);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var Ta=this.ui,cb={},la=$jscomp.makeIterator(Object.entries(this.uiSpec)),La=la.next();!La.done;cb={$jscomp$loop$prop$control$2288:cb.$jscomp$loop$prop$control$2288,$jscomp$loop$prop$prop$2289:cb.$jscomp$loop$prop$prop$2289},
La=la.next()){var fb=$jscomp.makeIterator(La.value);La=fb.next().value;fb=$jscomp.makeIterator(fb.next().value);fb.next();var pb=fb.next().value;cb.$jscomp$loop$prop$prop$2289=fb.next().value;cb.$jscomp$loop$prop$control$2288=Ta[La];Bb.connect(cb.$jscomp$loop$prop$control$2288,pb,this,"updateTarget",{updater:function(Cb){return function(Wa,Xa){Cb.$jscomp$loop$prop$control$2288._updating=!0;Wa(Cb.$jscomp$loop$prop$prop$2289,Xa);Cb.$jscomp$loop$prop$control$2288._updating=!1}}(cb),varMapping:{prop:cb.$jscomp$loop$prop$prop$2289,
control:cb.$jscomp$loop$prop$control$2288}})}}},{key:"update",value:function(){var Ta=this,cb=this.target,la=cb.borderStyle,La=cb.borderColor,fb=cb.borderRadius,pb=cb.borderWidth;Bb.noUpdate(function(){Ta.updateMultiValue("border style selector",la,"selection");Ta.updateMultiValue("border color picker",La,"colorValue");Ta.updateMultiValue("border radius field",fb,"number");Ta.updateMultiValue("border width field",pb,"number")})}},{key:"updateTarget",value:function(Ta,cb){this.target[Ta]=cb;this.update()}},
{key:"updateControl",value:function(Ta,cb,la){Ta._updating||Bb.obj.equals(Ta[cb],la)||(Ta[cb]=la)}},{key:"updateMultiValue",value:function(Ta,cb,la){var La=this.ui,fb=La[this.join(Ta)],pb=fb.get("multi value indicator"),Cb=Bb.obj.values(cb).some(function(Wa){return!Bb.obj.isFunction(Wa)&&!Bb.obj.equals(Wa,cb.valueOf())});fb.visible=fb.isLayoutable=!Cb;if(Cb&&pb.visible!=Cb)Bb.once(pb,"onMouseDown",fb,la,{converter:function(){return cb.valueOf()},varMapping:{value:cb}});pb.visible=pb.isLayoutable=
Cb;this.updateControl(fb,la,cb.valueOf());fb=$jscomp.makeIterator(["top","left","bottom","right"]);for(pb=fb.next();!pb.done;pb=fb.next())pb=pb.value,Cb=La[this.join(Ta,pb)],this.updateControl(Cb,la,cb[pb])}},{key:"lower",value:function(Ta){return Ta.charAt(0).toLowerCase()+Ta.slice(1)}},{key:"join",value:function(Ta,cb){return this.lower(Bb.string.camelCaseString(Ta+(cb?" "+cb:"")))}},{key:"unwrap",value:function(Ta,cb,la){var La={};La=(La[this.lower(Bb.string.camelCaseString(Ta))]=[Ta,cb,la],La);
for(var fb=$jscomp.makeIterator(["top","left","bottom","right"]),pb=fb.next();!pb.done;pb=fb.next()){pb=pb.value;var Cb=Ta+" "+pb;La[this.lower(Bb.string.camelCaseString(Cb))]=[Cb,cb,this.join(la,pb)]}return La}},{key:"attachToWorld",value:function(){Bb.connect($world,"showHaloFor",this,"focusOn",{garbageCollect:!0})}},{key:"focusOn",value:function(Ta){var cb=this,la;return $jscomp.asyncExecutePromiseGeneratorProgram(function(La){if(1==La.nextAddress)return!Ta||cb.isAncestorOf(Ta)||cb.target===Ta||
Bb.obj.isArray(Ta)||(cb.target=Ta),la=cb.visible,cb.visible=!0,La.yield(cb.whenRendered(),2);if(3!=La.nextAddress)return cb.update(),La.yield(cb.whenRendered(),3);cb.getSubmorphsByStyleClassName("NumberWidget").map(function(fb){return fb.relayout()});cb.visible=la;La.jumpToEnd()})}},{key:"onHoverIn",value:function(Ta){this.watchForTarget=!1}},{key:"onHoverOut",value:function(Ta){this.watchForTarget=!0}}],[{key:"className",get:function(){return"BorderFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||
(this._uiSpec=Object.assign({},this.unwrap("border style selector","selection","borderStyle"),{},this.unwrap("border color picker","colorValue","borderColor"),{},this.unwrap("border radius field","number","borderRadius"),{},this.unwrap("border width field","number","borderWidth")))}},ui:{}}}}],xb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"BorderFormatStyler",
version:"0.1.1-10"}}},{start:185,end:4385})}(Bb.Morph);$b=Bb.BorderFormatStyler;Bb.default=$b;var pc=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js");pc.Morph=sa;pc.resource=tb;pc.arr=dc;pc.obj=$c;pc.string=Fd;pc.Path=bc;pc.connect=Ic;$b=function(Pc){var xb=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js"),db=xb.hasOwnProperty("MasterComponentControl")&&"function"===typeof xb.MasterComponentControl?xb.MasterComponentControl:xb.MasterComponentControl=function(Ta){Ta&&
Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Zc(db,Pc,[{key:"focusOn",value:function(Ta){this.target=Ta;this.update()}},{key:"onMouseUp",value:function(Ta){var cb=this,la,La,fb,pb,Cb,Wa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Xa){if(1==Xa.nextAddress){"auto master selection"==Ta.targetMorph.name&&(la="auto");"hover master selection"==Ta.targetMorph.name&&(la="hover");"click master selection"==Ta.targetMorph.name&&
(la="click");cb.refreshButtons();if(!cb.target)return Xa.return();La=$jscomp.makeIterator(["auto","hover","click"]);for(fb=La.next();!fb.done;fb=La.next())pb=fb.value,cb.target.master&&cb.target.master[pb]&&!cb.get(pb+" master checkbox").checked&&cb.adjustMasterComponent(pb,null);if(!la)return Xa.jumpTo(0);Cb=cb;Wa=Cb.openMenu;return Xa.yield(cb.getComponentSelectionMenu(la),3)}Wa.call(Cb,Xa.yieldResult,Ta);Xa.jumpToEnd()})}},{key:"getComponentSelectionMenu",value:function(Ta){var cb=this,la,La,fb,
pb,Cb,Wa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Xa){if(1==Xa.nextAddress)return la=cb.world().metadata.commit.name,La=pc.resource("styleguide://"+la+"/"),Xa.yield(La.dirList(),2);if(3!=Xa.nextAddress)return fb=Xa.yieldResult,Xa.yield(pc.resource("styleguide://System/").dirList(),3);pb=Xa.yieldResult;Cb=cb.componentsToMenu(fb,Ta);Wa=cb.componentsToMenu(pb,Ta);return Xa.return([].concat($jscomp.arrayFromIterable(0<Cb.length?[].concat($jscomp.arrayFromIterable(Cb),[{isDivider:!0}]):
[]),$jscomp.arrayFromIterable(Wa)))})}},{key:"adjustMasterComponent",value:function(Ta,cb){if(this.target.master)this.target.master[Ta]=cb;else if(cb){var la={};this.target.master=(la[Ta]=cb,la)}Ta=this.target.master;cb=Ta.hover;la=Ta.click;Ta.auto||cb||la||(this.target.master=null);this.update();this.target.requestMasterStyling()}},{key:"componentsToMenu",value:function(Ta,cb,la,La){var fb=this;la=void 0===la?null:la;La=void 0===La?1:La;la||(la=Ta.map(function(Cb){return{name:pc.arr.last(Cb.name.split("/")),
path:Cb.name.split("/"),value:Cb}}));if(0==la.length||100<La)return[];var pb=this;return pc.arr.flatten(Object.entries(pc.arr.groupBy(la,function(Cb){return Cb.path[La-1]})).map(function(Cb){var Wa=$jscomp.makeIterator(Cb);Cb=Wa.next().value;Wa=Wa.next().value;var Xa=$jscomp.makeIterator(pc.arr.partition(Wa,function(zb){return zb.path.length<=La}));Wa=Xa.next().value;Xa=Xa.next().value;Cb=[Cb,fb.componentsToMenu(null,cb,Xa,La+1)];return[].concat($jscomp.arrayFromIterable(Wa.map(function(zb){return[zb.name,
function(){pb.adjustMasterComponent(cb,zb.value)}]})),$jscomp.arrayFromIterable(Cb[1].length?[Cb]:[]))}),1)}},{key:"update",value:function(){if(this.target){for(var Ta=$jscomp.makeIterator(["auto","hover","click"]),cb=Ta.next();!cb.done;cb=Ta.next()){cb=cb.value;var la=this.getSubmorphNamed(cb+" master selection"),La=this.getSubmorphNamed(cb+" master checkbox");pc.Path(["master",cb]).get(this.target)?La.checked=!0:La.checked=!1;la.label=pc.string.truncateLeft(pc.Path(["master",cb,"name"]).get(this.target)||
"select master",15,"...")}this.refreshButtons()}}},{key:"refreshButtons",value:function(){for(var Ta=$jscomp.makeIterator(["auto","hover","click"]),cb=Ta.next();!cb.done;cb=Ta.next()){cb=cb.value;var la=this.getSubmorphNamed(cb+" master selection"),La=this.getSubmorphNamed(cb+" master checkbox");la=la.deactivated=!La.checked;this.getSubmorphNamed(cb+" master selection").opacity=la?.5:1}Ta=this.getSubmorphNamed("overridden props list");Ta.items=this.getOverriddenProps();this.getSubmorphNamed("clear overridden prop button").deactivated=
!Ta.selection}},{key:"getMasterForTarget",value:function(){if(this.target.isMorph)return[this.target].concat($jscomp.arrayFromIterable(this.target.ownerChain())).map(function(Ta){return Ta.master}).find(Boolean)}},{key:"clearSelectedProperty",value:function(){var Ta=this.getSubmorphNamed("overridden props list").selection;this.getMasterForTarget().clearOverriddenPropertiesFor(this.target,[Ta]);this.refreshButtons()}},{key:"getOverriddenProps",value:function(){var Ta=this.getMasterForTarget();return Ta&&
Ta._overriddenProps?(Ta=Ta._overriddenProps.get(this.target))?Object.keys(Ta):[]:[]}}],[{key:"className",get:function(){return"MasterComponentControl"}}],xb,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"MasterComponentControl",version:"0.1.1-103"}}},{start:234,end:4759})}(pc.Morph);$b=pc.MasterComponentControl;pc.default=$b}}});

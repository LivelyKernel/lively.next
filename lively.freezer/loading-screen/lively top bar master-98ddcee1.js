System.register("./__root_module__-be0d56fe.js ./index-22c86a41.js ./world-80333b24.js ./index-2aae95d3.js ./index-6e2ebca5.js ./color-picker-f9089dd8.js ./object-classes-f8189235.js ./user-ui-f81a22e7.js ./index-77312472.js".split(" "),function(){var Pa,Lb,Vb,Dc,jc,qd,id,Cd,bd,Wc,Zc,zd,me,te,Je,jd,Zd,gc,$c,Bd,fd,Jd,fe,Zb,Gc,xd,Ic,Ad,Mb;return{setters:[function(mb){Pa=mb.M;Lb=mb.I;Vb=mb.T;Dc=mb.m;jc=mb.K;qd=mb.N;id=mb.O;Cd=mb.Q;bd=mb.S;Wc=mb.V;Zc=mb.W;zd=mb.b;me=mb.R;te=mb.C;Je=mb.a;jd=mb.X;
Zd=mb.Y;gc=mb.q;$c=mb.r;Bd=mb.Z;fd=mb.c;Jd=mb.d;fe=mb.o;Zb=mb._;Gc=mb.i},function(){},function(mb){xd=mb.C;Ic=mb.S;Ad=mb.a},function(mb){Mb=mb._},function(){},function(){},function(){},function(){},function(){}],execute:function(){var mb=lively.FreezerRuntime.recorderFor("LivelyTopBar/index.js");mb.Morph=Pa;mb.Icon=Lb;mb.Tooltip=Vb;mb.morph=Dc;mb.Text=jc;mb.Polygon=qd;mb.Label=id;mb.Path=Cd;mb.Image=bd;mb.HTMLMorph=Wc;mb.Ellipse=Zc;mb.pt=zd;mb.Rectangle=me;mb.Color=te;mb.arr=Je;mb.Closure=jd;mb.obj=
Zd;mb.LoadingIndicator=gc;mb.resource=$c;mb.Canvas=xd;mb.getClassName=Bd;mb.Selection=Ic;mb.SelectionElement=Ad;mb.connect=fd;mb.signal=Jd;mb.once=fe;mb.disconnect=Zb;mb.CommentBrowser=Mb;var Ac=function(vc){var ec=lively.FreezerRuntime.recorderFor("LivelyTopBar/index.js"),Bc=ec.hasOwnProperty("LivelyTopBar")&&"function"===typeof ec.LivelyTopBar?ec.LivelyTopBar:ec.LivelyTopBar=function(Ua){Ua&&Ua[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return Gc(Bc,vc,[{key:"__additionally_serialize__",value:function(Ua,hc,Eb,qc){Gc._get(Object.getPrototypeOf(Bc.prototype),"__additionally_serialize__",this).call(this,Ua,hc,Eb,qc);qc("haloFilterFn",this.getProperty("haloFilterFn"))}},{key:"registerCustomShape",value:function(Ua,hc,Eb,qc){this.shapeToClass[Ua]=hc;this.keyToShape[Eb]=Ua;this.shapeToIcon[Ua]={shortcut:Eb,args:qc};this.shapesCreatedViaDrag.push(hc)}},{key:"beforePublish",value:function(){this.activeSideBars=[];this.currentShapeMode=
"Rectangle";this.setEditMode("Halo")}},{key:"onLoad",value:function(){var Ua=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(hc){if(1==hc.nextAddress)return Ua.isComponent?hc.return():hc.yield(Ua.whenRendered(),2);delete Ua.shapeToIcon._rev;document.body.style.background="black";Ua.setEditMode("Halo");Ua.userFlap.getSubmorphNamed("fast load toggler").refresh();hc.jumpToEnd()})}},{key:"onUserChanged",value:function(Ua){this.userFlap.onUserChanged(Ua)}},{key:"relayout",value:function(){this.respondsToVisibleWindow&&
(this.width=this.world().visibleBounds().width,this.position=mb.pt(0,0))}},{key:"adjustElements",value:function(){var Ua=this.get("ipad status bar");Ua&&(Ua.width=this.width);this.userFlap.owner==this&&(this.userFlap.right=this.width-10,this.userFlap.visible=750<this.width)}},{key:"getShapeMenuItems",value:function(){var Ua=this;return Object.entries(this.shapeToIcon).map(function(hc){hc=$jscomp.makeIterator(hc);var Eb=hc.next().value,qc=hc.next().value;hc=qc.shortcut;qc=qc.args;return[[].concat($jscomp.arrayFromIterable(Ua.currentShapeMode===
Eb?[].concat($jscomp.arrayFromIterable(mb.Icon.textAttribute("check",{fontSize:11,paddingTop:"2px"})),["   ",{}]):["     ",{}]),$jscomp.arrayFromIterable(mb.Icon.textAttribute.apply(mb.Icon,$jscomp.arrayFromIterable(qc))),["   "+Eb+" ",{float:"none"},"      "+hc,{float:"right",fontSize:11,opacity:.5,fontFamily:"IBM Plex Mono"}]),function(){Ua.currentShapeMode=Eb;Ua.setEditMode("Shape")}]})}},{key:"getSideBarMenuItems",value:function(){var Ua=this;return Object.entries(this.sideBarToIcon).map(function(hc){hc=
$jscomp.makeIterator(hc);var Eb=hc.next().value;hc=hc.next().value.args;return[[].concat($jscomp.arrayFromIterable(Ua.activeSideBars.includes(Eb)?[].concat($jscomp.arrayFromIterable(mb.Icon.textAttribute("check",{fontSize:11,paddingTop:"2px"})),["   ",{}]):["     ",{}]),$jscomp.arrayFromIterable(mb.Icon.textAttribute.apply(mb.Icon,$jscomp.arrayFromIterable(hc))),["   "+Eb+" ",{float:"none"}]),function(){return Ua.openSideBar(Eb)}]})}},{key:"reloadSidebar",value:function(){this.sideBar.remove();this.sideBar=
null;this.stylingPalette.remove();this.stylingPalette=null;this.openSideBar("Scene Graph");this.openSideBar("Styling Palette")}},{key:"onKeyUp",value:function(Ua){"Hand"==this._tmpEditMode&&this.setEditMode("Hand",!0)}},{key:"onKeyDown",value:function(Ua){Gc._get(Object.getPrototypeOf(Bc.prototype),"onKeyDown",this).call(this,Ua);if(Ua.isCommandKey()&&"Hand"==this._tmpEditMode)this.setEditMode("Halo",!0);else if(!Ua.isAltDown()){var hc=this.keyToShape;if(hc[Ua.key])this.currentShapeMode=hc[Ua.key],
this.setEditMode("Shape");else switch(Ua.key){case "Escape":this.setEditMode("Halo");break;case "T":this.setEditMode("Text")}}}},{key:"openSideBar",value:function(Ua){var hc=this,Eb,qc,Cc,Yc,rd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(fc){switch(fc.nextAddress){case 1:hc.activeSideBars.includes(Ua)?mb.arr.remove(hc.activeSideBars,Ua):hc.activeSideBars.push(Ua);if("Scene Graph"!=Ua){fc.jumpTo(2);break}if(hc.sideBar){fc.jumpTo(3);break}Eb=mb.LoadingIndicator.open("loading side bar");
return fc.yield(Eb.whenRendered(),4);case 4:return qc=hc,fc.yield(mb.resource("part://SystemIDE/scene graph side bar master").read(),5);case 5:return qc.sideBar=fc.yieldResult,hc.sideBar.hasFixedPosition=!0,hc.sideBar.respondsToVisibleWindow=!0,hc.sideBar.openInWorld(),hc.sideBar.right=0,fc.yield(hc.sideBar.whenRendered(),6);case 6:Eb.remove();case 3:return fc.yield(hc.sideBar.toggle(hc.activeSideBars.includes("Scene Graph")),2);case 2:if("Styling Palette"!=Ua){fc.jumpTo(8);break}if(hc.stylingPalette){fc.jumpTo(9);
break}Cc=mb.LoadingIndicator.open("loading side bar");return fc.yield(Cc.whenRendered(),10);case 10:return Yc=hc,fc.yield(mb.resource("part://SystemIDE/styling side bar master").read(),11);case 11:return Yc.stylingPalette=fc.yieldResult,hc.stylingPalette.collapseAll(),hc.stylingPalette.hasFixedPosition=!0,hc.stylingPalette.respondsToVisibleWindow=!0,hc.stylingPalette.openInWorld(),hc.stylingPalette.left=hc.world().width,hc.stylingPalette.relayout(),fc.yield(hc.stylingPalette.whenRendered(),12);case 12:Cc.remove();
case 9:return fc.yield(hc.stylingPalette.toggle(hc.activeSideBars.includes("Styling Palette")),8);case 8:(rd=hc.get("lively version checker"))&&rd.owner==$world&&rd.relayout(),fc.jumpToEnd()}})}},{key:"onMouseDown",value:function(Ua){var hc=this.get("select shape type"),Eb=this.get("shape mode button"),qc=this.get("side bar selector"),Cc=this.primaryTarget||this.world();Ua.targetMorph==hc&&(this.world().openWorldMenu(Ua,this.getShapeMenuItems()).position=Eb.globalBounds().bottomLeft().subPt(this.world().scroll));
"undo button"==Ua.targetMorph.name&&Cc.execCommand("undo");"redo button"==Ua.targetMorph.name&&Cc.execCommand("redo");"save button"==Ua.targetMorph.name&&$world.execCommand("save world");Ua.targetMorph==Eb&&this.setEditMode("Shape");"text mode button"==Ua.targetMorph.name&&this.setEditMode("Text");"hand mode button"==Ua.targetMorph.name&&this.setEditMode("Hand");"halo mode button"==Ua.targetMorph.name&&this.setEditMode("Halo");"open component browser"==Ua.targetMorph.name&&this.interactivelyLoadComponent();
"load world button"==Ua.targetMorph.name&&this.world().execCommand("load world");"comment browser button"==Ua.targetMorph.name&&this.toggleCommentBrowser();Ua.targetMorph==qc&&(this.world().openWorldMenu(Ua,this.getSideBarMenuItems()).position=qc.globalBounds().bottomLeft().subPt(this.world().scroll))}},{key:"colorCommentBrowserButton",value:function(){var Ua=this.get("user flap"),hc=Ua.haloShadow;Ua=Ua.haloColor;var Eb=this.get("comment browser button");Eb.fontColor=Ua;Eb.dropShadow=hc}},{key:"uncolorCommentBrowserButton",
value:function(){var Ua=this.get("comment browser button"),hc=mb.Color.rgb(102,102,102);Ua.dropShadow=!1;Ua.fontColor=hc}},{key:"toggleCommentBrowser",value:function(){var Ua=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(hc){mb.CommentBrowser.isOpen()?Ua.uncolorCommentBrowserButton():Ua.colorCommentBrowserButton();return hc.yield(Ua.world().execCommand("toggle comment browser"),0)})}},{key:"commentCountBadge",get:function(){return this.get("comment browser button").get("comment count badge")}},
{key:"interactivelyLoadComponent",value:function(){var Ua=this,hc,Eb,qc,Cc,Yc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rd){if(1==rd.nextAddress)return hc=Ua.get("open component browser"),Eb=Ua.userFlap,qc=Eb.haloShadow,Cc=Eb.haloColor,Yc=mb.Color.rgb(102,102,102),hc.fontColor=Cc,hc.dropShadow=qc,rd.yield(Ua.world().execCommand("browse and load component"),2);hc.dropShadow=!1;hc.fontColor=Yc;rd.jumpToEnd()})}},{key:"setEditMode",value:function(Ua,hc){var Eb=this;hc=void 0===hc?!1:
hc;this.editMode=Ua;var qc=this.primaryTarget||this.world(),Cc=this.userFlap,Yc=Cc.haloShadow,rd=Cc.haloColor,fc=mb.Color.rgb(102,102,102);hc||(this._tmpEditMode=Ua);Cc=this.get("shape mode button");var xc=this.get("text mode button"),bc=this.get("hand mode button"),Qa=this.get("halo mode button");[["Shape",Cc.submorphs],["Text",[xc]],["Hand",[bc]],["Halo",[Qa]]].forEach(function(Da){var ja=$jscomp.makeIterator(Da);Da=ja.next().value;ja=ja.next().value;"Shape"==Ua?Eb.toggleShapeMode(qc,!0,Eb.currentShapeMode):
"Text"==Ua?Eb.toggleShapeMode(qc,!0,"Text"):Eb.toggleShapeMode(qc,!1);Eb.showHaloPreviews("Halo"==Ua);hc||"Halo"==Ua||Eb.world().halos().forEach(function(Ba){return Ba.remove()});Da==Ua?ja.forEach(function(Ba){Ba.dropShadow=Yc;Ba.fontColor=rd}):ja.forEach(function(Ba){Ba.dropShadow=null;Ba.fontColor=fc})})}},{key:"canBeCreatedViaDrag",value:function(Ua){return this.shapesCreatedViaDrag.includes(Ua)}},{key:"toggleShapeMode",value:function(Ua,hc,Eb){var qc=this.shapeToClass;hc?(Ua.nativeCursor="crosshair",
Ua._yieldShapeOnClick=qc[Eb]):(Ua._yieldShapeOnClick=!1,Ua.nativeCursor="auto")}},{key:"handleShapeCreation",value:function(Ua){var hc=this.primaryTarget||this.world(),Eb=hc._yieldShapeOnClick;if(!Eb)return!1;hc._sizeTooltip&&hc._sizeTooltip.remove();if(Ua.targetMorph!=hc)return!1;if(hc._shapeRequest&&Eb&&!hc._yieldedShape){var qc=hc.localize(this.world().firstHand.position);switch(Eb){case mb.Image:hc.addMorph(mb.morph({type:Eb,position:qc,extent:mb.pt(150,150),fill:mb.Color.transparent,imageUrl:"https://i.imgur.com/uGRFZEs.jpg"}));
break;case mb.Label:hc.addMorph(mb.morph({type:Eb,position:qc,value:"I am a label!",fill:mb.Color.transparent}));break;case mb.Text:if(Ua.targetMorph.isText)return;hc.addMorph(mb.morph({type:Eb,position:qc,readOnly:!0,textString:"I am a text field!",fill:mb.Color.transparent}))}}Eb==mb.Text&&hc._yieldedShape?hc._yieldedShape.focus():hc._yieldedShape&&hc._yieldedShape.owner&&this.showHaloFor(hc._yieldedShape);hc._yieldedShape=null;hc._shapeRequest=!1}},{key:"prepareShapeCreation",value:function(Ua){var hc=
this.primaryTarget||this.world(),Eb=hc._yieldShapeOnClick;if(!Eb||!this.canBeCreatedViaDrag(Eb))return!1;hc._yieldedShape=mb.morph(Object.assign({type:Eb,position:Ua.positionIn(hc),extent:mb.pt(1,1),fill:mb.Color.transparent,borderWidth:1,borderColor:mb.Color.rgb(23,160,251),fixedHeight:!0,fixedWidth:!0,lineWrapping:!0},Eb==mb.Text?this.getDefaultTextAttrs():{},{},Eb==mb.Image?this.getImageDefaultAttrs():{},{},Eb==mb.Polygon?this.getPolyDefaultAttrs():{},{},Eb==mb.Path?this.getPathDefaultAttrs():
{}));hc._sizeTooltip=mb.morph({type:mb.Tooltip,padding:mb.Rectangle.inset(5,5,5,5),styleClasses:["Tooltip"]}).openInWorld();return!0}},{key:"getPolyDefaultAttrs",value:function(){return{vertices:[mb.pt(131.4,86.3),mb.pt(171,139.6),mb.pt(105.9,119.9),mb.pt(65.3,172.5),mb.pt(64.7,107),mb.pt(0,86.3),mb.pt(64.7,65.5),mb.pt(65.3,0),mb.pt(105.9,52.6),mb.pt(171,32.9),mb.pt(131.4,86.3)],borderWidth:1}}},{key:"getPathDefaultAttrs",value:function(){return{vertices:[mb.pt(0,0),mb.pt(1,1)],borderWidth:1}}},{key:"getImageDefaultAttrs",
value:function(){return{imageUrl:"https://i.imgur.com/uGRFZEs.jpg"}}},{key:"getDefaultTextAttrs",value:function(){return{readOnly:!0}}},{key:"yieldShapeIfNeeded",value:function(Ua){var hc=this.primaryTarget||this.world();return hc._yieldedShape?(!hc._yieldedShape.owner&&10<Ua.state.absDragDelta.r()&&hc.addMorph(hc._yieldedShape),hc._yieldedShape.extent=Ua.positionIn(hc.world()).subPt(Ua.state.dragStartPosition).subPt(mb.pt(1,1)).maxPt(mb.pt(1,1)),hc._sizeTooltip.description=hc._yieldShapeOnClick[Symbol.for("__LivelyClassName__")]+
": "+hc._yieldedShape.width.toFixed(0)+"x"+hc._yieldedShape.height.toFixed(0),hc._sizeTooltip.topLeft=Ua.positionIn(hc.world()).addXY(15,15),!0):!1}},{key:"handleHaloSelection",value:function(Ua){var hc=this.world(),Eb=this.primaryTarget||hc,qc=$jscomp.makeIterator(hc.halos()).next().value;this._showHaloPreview&&this._currentlyHighlighted&&0==hc.halos().length&&(Ua.stop(),hc.getSubmorphsByStyleClassName("HaloPreview").forEach(function(Cc){return Cc.remove()}),this.showHaloFor(this._currentlyHighlighted));
qc&&qc.target==Ua.state.prevClick.clickedOnMorph&&"border-box"==Ua.targetMorph.name&&50>Ua.state.timeOfLastActivity-Ua.state.prevClick.clickedAtTime?qc.temporaryEditTextMorph(Ua):Ua.targetMorph==Eb&&(Eb._shapeRequest=!0)}},{key:"showHaloFor",value:function(Ua){var hc=this;if(Ua){if(mb.obj.isArray(Ua)){if(0==Ua.length)return;var Eb=this.world().showHaloForSelection(Ua)}else Eb=this.world().showHaloFor(Ua);mb.once(Eb,"remove",function(){Eb.target!=hc.world().focusedMorph&&mb.signal(hc.primaryTarget,
"onHaloRemoved",Ua)});this.activeHaloItems.includes("*")||(Eb.activeItems=this.activeHaloItems);Eb.topBar=this;mb.signal(this.primaryTarget,"onHaloOpened",Ua)}}},{key:"handleHaloPreview",value:function(Ua){var hc=this;if(this._showHaloPreview){var Eb=this.haloFilterFn,qc=this.primaryTarget||this.world(),Cc=qc.morphsContainingPoint(Ua.positionIn(qc.world()));"hoverout"==Ua.type&&(Cc=[qc]);Ua=Cc.filter(function(Yc){return Eb(Yc)&&Yc.halosEnabled&&[Yc].concat($jscomp.arrayFromIterable(Yc.ownerChain())).every(function(rd){return rd.visible&&
0<rd.opacity&&!rd.styleClasses.includes("HaloPreview")})})[0];Cc.find(function(Yc){return Yc.isMenuItem||Yc==hc.sideBar||Yc==hc.stylingPalette})?(this._currentlyHighlighted=!1,this.clearHaloPreviews()):this.showHaloPreviewFor(Ua)}}},{key:"showHaloPreviewFor",value:function(Ua){var hc=this.primaryTarget||this.world();if(Ua&&(![Ua].concat($jscomp.arrayFromIterable(Ua.ownerChain())).find(function(Eb){return Eb.isComponent})&&Ua.getWindow()?Ua=null:[Ua].concat($jscomp.arrayFromIterable(Ua.ownerChain())).find(function(Eb){return Eb.isEpiMorph})?
Ua=null:Ua==hc&&(Ua=null),this._currentlyHighlighted!=Ua&&(this.clearHaloPreviews(),this._currentlyHighlighted=Ua),!(0<this.world().halos().length)&&Ua)){this._previewCache||(this._previewCache=new WeakMap);hc=mb.Morph;switch(mb.getClassName(Ua)){case "Ellipse":hc=mb.Ellipse}hc=this._previewCache.get(Ua)||mb.morph({type:hc,styleClasses:["HaloPreview"],epiMorph:!0,fill:mb.Color.transparent,reactsToPointer:!1,halosEnabled:!1,acceptsDrops:!1,border:{color:mb.Color.rgb(23,160,251),width:1}});hc.owner||
this.world().addMorph(hc);hc.setBounds(Ua.globalBounds());hc.borderColor=mb.Color.rgb(23,160,251);hc.borderStyle="solid";Ua.master&&(hc.borderColor=mb.Color.purple);Ua.ownerChain().find(function(Eb){return Eb.master&&Eb.master.managesMorph(Ua)})&&(hc.borderColor=mb.Color.purple,hc.borderStyle="dotted");Ua.isComponent&&(hc.borderColor=mb.Color.magenta);this._previewCache.set(Ua,hc)}}},{key:"showHaloPreviews",value:function(Ua){Ua||this.clearHaloPreviews();this._showHaloPreview=Ua}},{key:"clearHaloPreviews",
value:function(){this.world().getSubmorphsByStyleClassName("HaloPreview").forEach(function(Ua){return Ua.remove()})}},{key:"prepareDragSelection",value:function(Ua){var hc=(this.primaryTarget||this.world()).world();this._selectionStartPos=Ua.positionIn(hc);this._morphSelection=hc.addMorph({type:mb.Selection,epiMorph:!0,reactsToPointer:!1,position:this._selectionStartPos,extent:Ua.state.dragDelta});this._selectedMorphs={}}},{key:"adjustDragSelection",value:function(Ua){var hc=this,Eb=this.primaryTarget||
this.world(),qc=Eb.world(),Cc=mb.Rectangle.fromAny(Ua.position,this._selectionStartPos);this._morphSelection.setBounds(Cc);Eb.submorphs.forEach(function(Yc){if(!Yc.isSelectionElement&&!Yc.isHand){var rd=Yc.globalBounds(),fc=Cc.containsRect(rd);!hc._selectedMorphs[Yc.id]&&fc&&(hc._selectedMorphs[Yc.id]=qc.addMorph({type:mb.SelectionElement,bounds:rd},hc._morphSelection));hc._selectedMorphs[Yc.id]&&!fc&&(hc._selectedMorphs[Yc.id].remove(),delete hc._selectedMorphs[Yc.id])}})}},{key:"finishDragSelectionIfNeeded",
value:function(Ua){if(this._morphSelection){var hc=this.world();this._morphSelection.fadeOut(200);mb.obj.values(this._selectedMorphs).map(function(Eb){return Eb.remove()});this.showHaloFor(Object.keys(this._selectedMorphs).map(function(Eb){return hc.getMorphWithId(Eb)}));this._selectedMorphs={};this._morphSelection=null}}},{key:"onTargetDragStart",value:function(Ua){!this.prepareShapeCreation(Ua)&&Ua.leftMouseButtonPressed()&&this.prepareDragSelection(Ua)}},{key:"onTargetDrag",value:function(Ua){!this.yieldShapeIfNeeded(Ua)&&
this._morphSelection&&this.adjustDragSelection(Ua)}},{key:"detachFromTarget",value:function(Ua){mb.disconnect(Ua,"onMouseMove",this,"handleHaloPreview");mb.disconnect(Ua,"onMouseDown",this,"handleHaloSelection");mb.disconnect(Ua,"onMouseUp",this,"handleShapeCreation");mb.disconnect(Ua,"onDragStart",this,"onTargetDragStart");mb.disconnect(Ua,"onDrag",this,"onTargetDrag");mb.disconnect(Ua,"onDragEnd",this,"finishDragSelectionIfNeeded")}},{key:"attachToTarget",value:function(Ua){this.primaryTarget&&
this.detachFromTarget(this.primaryTarget);this.primaryTarget=Ua;this.setEditMode("Halo");mb.connect(Ua,"onMouseMove",this,"handleHaloPreview",{garbageCollect:!0});mb.connect(Ua,"onHoverOut",this,"handleHaloPreview",{garbageCollect:!0});mb.connect(Ua,"onMouseDown",this,"handleHaloSelection",{garbageCollect:!0});mb.connect(Ua,"onMouseUp",this,"handleShapeCreation",{garbageCollect:!0});mb.connect(Ua,"onDragStart",this,"onTargetDragStart",{garbageCollect:!0});mb.connect(Ua,"onDrag",this,"onTargetDrag",
{garbageCollect:!0});mb.connect(Ua,"onDragEnd",this,"finishDragSelectionIfNeeded",{garbageCollect:!0})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LivelyTopBar"}},{key:"properties",get:function(){return{isTopBar:{readOnly:!0,get:function(){return!0}},activeHaloItems:{initialize:function(Ua){Ua||(this.activeHaloItems=["*"])}},primaryTarget:{doc:"A reference to the morph that the top bar considers its primary target",defaultValue:null},haloFilterFn:{defaultValue:"() => true",derived:!0,
set:function(Ua){this.setProperty("haloFilterFn",Ua)},get:function(){return mb.Closure.fromSource(this.getProperty("haloFilterFn"),{target:this.primaryTarget}).asFunction()}},userFlap:{},activeSideBars:{},currentShapeMode:{after:["submorphs"],set:function(Ua){this.setProperty("currentShapeMode",Ua);this.get("shape status icon").textAndAttributes=mb.Icon.textAttribute(this.shapeToIcon[Ua].args[0])}},sideBarToIcon:{readOnly:!0,get:function(){return{"Scene Graph":{args:["sitemap",{textStyleClasses:["fas"]}]},
"Styling Palette":{args:["palette",{textStyleClasses:["fas"]}]}}}},shapeToIcon:{initialize:function(Ua){this.shapeToIcon=Ua||{Rectangle:{shortcut:"R",args:["square",{textStyleClasses:["fas"]}]},Ellipse:{shortcut:"E",args:["circle",{textStyleClasses:["fas"]}]},Image:{shortcut:"I",args:["image",{textStyleClasses:["fas"],paddingTop:"1px"}]},Path:{shortcut:"P",args:["bezier-curve",{fontSize:13,paddingTop:"3px"}]},Polygon:{shortcut:"Q",args:["draw-polygon",{fontSize:17}]},Label:{shortcut:"L",args:["tag",
{paddingTop:"1px"}]},Canvas:{shortcut:"C",args:["chess-board",{paddingTop:"1px"}]},HTML:{shortcut:"H",args:["code",{paddingTop:"1px"}]}}}},keyToShape:{initialize:function(Ua){this.keyToShape=Ua||{R:"Rectangle",E:"Ellipse",I:"Image",P:"Path",Q:"Polygon",L:"Label",C:"Canvas",H:"HTML"}}},shapeToClass:{serialize:!1,defaultValue:{Rectangle:mb.Morph,Ellipse:mb.Ellipse,HTML:mb.HTMLMorph,Canvas:mb.Canvas,Image:mb.Image,Path:mb.Path,Label:mb.Label,Polygon:mb.Polygon,Text:mb.Text}},shapesCreatedViaDrag:{serialize:!1,
initialize:function(){this.shapesCreatedViaDrag=[mb.Morph,mb.Ellipse,mb.HTMLMorph,mb.Canvas,mb.Text,mb.Polygon,mb.Path,mb.Image]}}}}}],ec,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"LivelyTopBar",version:"0.1.1-281"}}},{start:740,end:25196})}(mb.Morph);Ac=mb.LivelyTopBar;mb.default=Ac}}});
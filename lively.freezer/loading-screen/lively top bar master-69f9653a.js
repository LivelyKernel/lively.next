System.register("./__root_module__-7d3cbdeb.js ./index-2d023b08.js kld-intersections ./world-68a8c34d.js ./index-f2f18556.js ./index-00525174.js ./color-picker-8d65425e.js ./object-classes-e1436cbe.js ./user-ui-a47e164e.js ./index-e9feef73.js".split(" "),function(){var Ka,wb,Ab,gc,Kb,Zc,Kc,md,Fc,Bc,Nc,Uc,ce,Zd,pe,Mc,Kd,Jb,Dc,nd,Hc,wd,Qd,Eb,ic,jd,jc,kd,vb;return{setters:[function(db){Ka=db.M;wb=db.I;Ab=db.T;gc=db.m;Kb=db.K;Zc=db.N;Kc=db.O;md=db.Q;Fc=db.S;Bc=db.V;Nc=db.W;Uc=db.b;ce=db.R;Zd=db.C;
pe=db.a;Mc=db.X;Kd=db.Y;Jb=db.q;Dc=db.r;nd=db.Z;Hc=db.c;wd=db.d;Qd=db.o;Eb=db._;ic=db.i},function(){},function(){},function(db){jd=db.C;jc=db.S;kd=db.a},function(db){vb=db._},function(){},function(){},function(){},function(){},function(){}],execute:function(){var db=lively.FreezerRuntime.recorderFor("LivelyTopBar/index.js");db.Morph=Ka;db.Icon=wb;db.Tooltip=Ab;db.morph=gc;db.Text=Kb;db.Polygon=Zc;db.Label=Kc;db.Path=md;db.Image=Fc;db.HTMLMorph=Bc;db.Ellipse=Nc;db.pt=Uc;db.Rectangle=ce;db.Color=Zd;
db.arr=pe;db.Closure=Mc;db.obj=Kd;db.LoadingIndicator=Jb;db.resource=Dc;db.Canvas=jd;db.getClassName=nd;db.Selection=jc;db.SelectionElement=kd;db.connect=Hc;db.signal=wd;db.once=Qd;db.disconnect=Eb;db.CommentBrowser=vb;var ec=function(Mb){var Hb=lively.FreezerRuntime.recorderFor("LivelyTopBar/index.js"),pc=Hb.hasOwnProperty("LivelyTopBar")&&"function"===typeof Hb.LivelyTopBar?Hb.LivelyTopBar:Hb.LivelyTopBar=function(Ma){Ma&&Ma[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return ic(pc,Mb,[{key:"__additionally_serialize__",value:function(Ma,Ib,pb,Ub){ic._get(Object.getPrototypeOf(pc.prototype),"__additionally_serialize__",this).call(this,Ma,Ib,pb,Ub);Ub("haloFilterFn",this.getProperty("haloFilterFn"))}},{key:"registerCustomShape",value:function(Ma,Ib,pb,Ub){this.shapeToClass[Ma]=Ib;this.keyToShape[pb]=Ma;this.shapeToIcon[Ma]={shortcut:pb,args:Ub};this.shapesCreatedViaDrag.push(Ib)}},{key:"beforePublish",value:function(){this.activeSideBars=[];this.currentShapeMode=
"Rectangle";this.setEditMode("Halo")}},{key:"onLoad",value:function(){var Ma=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ib){if(1==Ib.nextAddress)return Ma.isComponent?Ib.return():Ib.yield(Ma.whenRendered(),2);delete Ma.shapeToIcon._rev;document.body.style.background="black";Ma.setEditMode("Halo");Ma.userFlap.getSubmorphNamed("fast load toggler").refresh();Ib.jumpToEnd()})}},{key:"onUserChanged",value:function(Ma){this.userFlap.onUserChanged(Ma)}},{key:"relayout",value:function(){this.respondsToVisibleWindow&&
(this.width=this.world().visibleBounds().width,this.position=db.pt(0,0))}},{key:"adjustElements",value:function(){var Ma=this.get("ipad status bar");Ma&&(Ma.width=this.width);this.userFlap.owner==this&&(this.userFlap.right=this.width-10)}},{key:"getShapeMenuItems",value:function(){var Ma=this;return Object.entries(this.shapeToIcon).map(function(Ib){Ib=$jscomp.makeIterator(Ib);var pb=Ib.next().value,Ub=Ib.next().value;Ib=Ub.shortcut;Ub=Ub.args;return[[].concat($jscomp.arrayFromIterable(Ma.currentShapeMode===
pb?[].concat($jscomp.arrayFromIterable(db.Icon.textAttribute("check",{fontSize:11,paddingTop:"2px"})),["   ",{}]):["     ",{}]),$jscomp.arrayFromIterable(db.Icon.textAttribute.apply(db.Icon,$jscomp.arrayFromIterable(Ub))),["   "+pb+" ",{float:"none"},"      "+Ib,{float:"right",fontSize:11,opacity:.5,fontFamily:"IBM Plex Mono"}]),function(){Ma.currentShapeMode=pb;Ma.setEditMode("Shape")}]})}},{key:"getSideBarMenuItems",value:function(){var Ma=this;return Object.entries(this.sideBarToIcon).map(function(Ib){Ib=
$jscomp.makeIterator(Ib);var pb=Ib.next().value;Ib=Ib.next().value.args;return[[].concat($jscomp.arrayFromIterable(Ma.activeSideBars.includes(pb)?[].concat($jscomp.arrayFromIterable(db.Icon.textAttribute("check",{fontSize:11,paddingTop:"2px"})),["   ",{}]):["     ",{}]),$jscomp.arrayFromIterable(db.Icon.textAttribute.apply(db.Icon,$jscomp.arrayFromIterable(Ib))),["   "+pb+" ",{float:"none"}]),function(){return Ma.openSideBar(pb)}]})}},{key:"reloadSidebar",value:function(){this.sideBar.remove();this.sideBar=
null;this.stylingPalette.remove();this.stylingPalette=null;this.openSideBar("Scene Graph");this.openSideBar("Styling Palette")}},{key:"onKeyUp",value:function(Ma){"Hand"==this._tmpEditMode&&this.setEditMode("Hand",!0)}},{key:"onKeyDown",value:function(Ma){ic._get(Object.getPrototypeOf(pc.prototype),"onKeyDown",this).call(this,Ma);if(Ma.isCommandKey()&&"Hand"==this._tmpEditMode)this.setEditMode("Halo",!0);else if(!Ma.isAltDown()){var Ib=this.keyToShape;if(Ib[Ma.key])this.currentShapeMode=Ib[Ma.key],
this.setEditMode("Shape");else switch(Ma.key){case "Escape":this.setEditMode("Halo");break;case "T":this.setEditMode("Text")}}}},{key:"openSideBar",value:function(Ma){var Ib=this,pb,Ub,dc,vc,gd;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Nb){switch(Nb.nextAddress){case 1:Ib.activeSideBars.includes(Ma)?db.arr.remove(Ib.activeSideBars,Ma):Ib.activeSideBars.push(Ma);if("Scene Graph"!=Ma){Nb.jumpTo(2);break}if(Ib.sideBar){Nb.jumpTo(3);break}pb=db.LoadingIndicator.open("loading side bar");
return Nb.yield(pb.whenRendered(),4);case 4:return Ub=Ib,Nb.yield(db.resource("part://SystemIDE/scene graph side bar master").read(),5);case 5:return Ub.sideBar=Nb.yieldResult,Ib.sideBar.hasFixedPosition=!0,Ib.sideBar.respondsToVisibleWindow=!0,Ib.sideBar.openInWorld(),Ib.sideBar.right=0,Nb.yield(Ib.sideBar.whenRendered(),6);case 6:pb.remove();case 3:return Nb.yield(Ib.sideBar.toggle(Ib.activeSideBars.includes("Scene Graph")),2);case 2:if("Styling Palette"!=Ma){Nb.jumpTo(8);break}if(Ib.stylingPalette){Nb.jumpTo(9);
break}dc=db.LoadingIndicator.open("loading side bar");return Nb.yield(dc.whenRendered(),10);case 10:return vc=Ib,Nb.yield(db.resource("part://SystemIDE/styling side bar master").read(),11);case 11:return vc.stylingPalette=Nb.yieldResult,Ib.stylingPalette.collapseAll(),Ib.stylingPalette.hasFixedPosition=!0,Ib.stylingPalette.respondsToVisibleWindow=!0,Ib.stylingPalette.openInWorld(),Ib.stylingPalette.left=Ib.world().width,Ib.stylingPalette.relayout(),Nb.yield(Ib.stylingPalette.whenRendered(),12);case 12:dc.remove();
case 9:return Nb.yield(Ib.stylingPalette.toggle(Ib.activeSideBars.includes("Styling Palette")),8);case 8:(gd=Ib.get("lively version checker"))&&gd.owner==$world&&gd.relayout(),Nb.jumpToEnd()}})}},{key:"onMouseDown",value:function(Ma){var Ib=this.get("select shape type"),pb=this.get("shape mode button"),Ub=this.get("side bar selector"),dc=this.primaryTarget||this.world();Ma.targetMorph==Ib&&(this.world().openWorldMenu(Ma,this.getShapeMenuItems()).position=pb.globalBounds().bottomLeft().subPt(this.world().scroll));
"undo button"==Ma.targetMorph.name&&dc.execCommand("undo");"redo button"==Ma.targetMorph.name&&dc.execCommand("redo");"save button"==Ma.targetMorph.name&&$world.execCommand("save world");Ma.targetMorph==pb&&this.setEditMode("Shape");"text mode button"==Ma.targetMorph.name&&this.setEditMode("Text");"hand mode button"==Ma.targetMorph.name&&this.setEditMode("Hand");"halo mode button"==Ma.targetMorph.name&&this.setEditMode("Halo");"open component browser"==Ma.targetMorph.name&&this.interactivelyLoadComponent();
"load world button"==Ma.targetMorph.name&&this.world().execCommand("load world");"comment browser button"==Ma.targetMorph.name&&this.toggleCommentBrowser();Ma.targetMorph==Ub&&(this.world().openWorldMenu(Ma,this.getSideBarMenuItems()).position=Ub.globalBounds().bottomLeft().subPt(this.world().scroll))}},{key:"colorCommentBrowserButton",value:function(){var Ma=this.get("user flap"),Ib=Ma.haloShadow;Ma=Ma.haloColor;var pb=this.get("comment browser button");pb.fontColor=Ma;pb.dropShadow=Ib}},{key:"uncolorCommentBrowserButton",
value:function(){var Ma=this.get("comment browser button"),Ib=db.Color.rgb(102,102,102);Ma.dropShadow=!1;Ma.fontColor=Ib}},{key:"toggleCommentBrowser",value:function(){var Ma=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ib){db.CommentBrowser.isOpen()?Ma.uncolorCommentBrowserButton():Ma.colorCommentBrowserButton();return Ib.yield(Ma.world().execCommand("toggle comment browser"),0)})}},{key:"commentCountBadge",get:function(){return this.get("comment browser button").get("comment count badge")}},
{key:"interactivelyLoadComponent",value:function(){var Ma=this,Ib,pb,Ub,dc,vc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(gd){if(1==gd.nextAddress)return Ib=Ma.get("open component browser"),pb=Ma.userFlap,Ub=pb.haloShadow,dc=pb.haloColor,vc=db.Color.rgb(102,102,102),Ib.fontColor=dc,Ib.dropShadow=Ub,gd.yield(Ma.world().execCommand("browse and load component"),2);Ib.dropShadow=!1;Ib.fontColor=vc;gd.jumpToEnd()})}},{key:"setEditMode",value:function(Ma,Ib){var pb=this;Ib=void 0===Ib?!1:
Ib;this.editMode=Ma;var Ub=this.primaryTarget||this.world(),dc=this.userFlap,vc=dc.haloShadow,gd=dc.haloColor,Nb=db.Color.rgb(102,102,102);Ib||(this._tmpEditMode=Ma);dc=this.get("shape mode button");var Fb=this.get("text mode button"),sb=this.get("hand mode button"),Ea=this.get("halo mode button");[["Shape",dc.submorphs],["Text",[Fb]],["Hand",[sb]],["Halo",[Ea]]].forEach(function(ua){var V=$jscomp.makeIterator(ua);ua=V.next().value;V=V.next().value;"Shape"==Ma?pb.toggleShapeMode(Ub,!0,pb.currentShapeMode):
"Text"==Ma?pb.toggleShapeMode(Ub,!0,"Text"):pb.toggleShapeMode(Ub,!1);pb.showHaloPreviews("Halo"==Ma);Ib||"Halo"==Ma||pb.world().halos().forEach(function(ra){return ra.remove()});ua==Ma?V.forEach(function(ra){ra.dropShadow=vc;ra.fontColor=gd}):V.forEach(function(ra){ra.dropShadow=null;ra.fontColor=Nb})})}},{key:"canBeCreatedViaDrag",value:function(Ma){return this.shapesCreatedViaDrag.includes(Ma)}},{key:"toggleShapeMode",value:function(Ma,Ib,pb){var Ub=this.shapeToClass;Ib?(Ma.nativeCursor="crosshair",
Ma._yieldShapeOnClick=Ub[pb]):(Ma._yieldShapeOnClick=!1,Ma.nativeCursor="auto")}},{key:"handleShapeCreation",value:function(Ma){var Ib=this.primaryTarget||this.world(),pb=Ib._yieldShapeOnClick;if(!pb)return!1;Ib._sizeTooltip&&Ib._sizeTooltip.remove();if(Ma.targetMorph!=Ib)return!1;if(Ib._shapeRequest&&pb&&!Ib._yieldedShape){var Ub=Ib.localize(this.world().firstHand.position);switch(pb){case db.Image:Ib.addMorph(db.morph({type:pb,position:Ub,extent:db.pt(150,150),fill:db.Color.transparent,imageUrl:"https://i.imgur.com/uGRFZEs.jpg"}));
break;case db.Label:Ib.addMorph(db.morph({type:pb,position:Ub,value:"I am a label!",fill:db.Color.transparent}));break;case db.Text:if(Ma.targetMorph.isText)return;Ib.addMorph(db.morph({type:pb,position:Ub,readOnly:!0,textString:"I am a text field!",fill:db.Color.transparent}))}}pb==db.Text&&Ib._yieldedShape?Ib._yieldedShape.focus():Ib._yieldedShape&&Ib._yieldedShape.owner&&this.showHaloFor(Ib._yieldedShape);Ib._yieldedShape=null;Ib._shapeRequest=!1}},{key:"prepareShapeCreation",value:function(Ma){var Ib=
this.primaryTarget||this.world(),pb=Ib._yieldShapeOnClick;if(!pb||!this.canBeCreatedViaDrag(pb))return!1;Ib._yieldedShape=db.morph(Object.assign({type:pb,position:Ma.positionIn(Ib),extent:db.pt(1,1),fill:db.Color.transparent,borderWidth:1,borderColor:db.Color.rgb(23,160,251),fixedHeight:!0,fixedWidth:!0,lineWrapping:!0},pb==db.Text?this.getDefaultTextAttrs():{},{},pb==db.Image?this.getImageDefaultAttrs():{},{},pb==db.Polygon?this.getPolyDefaultAttrs():{},{},pb==db.Path?this.getPathDefaultAttrs():
{}));Ib._sizeTooltip=db.morph({type:db.Tooltip,padding:db.Rectangle.inset(5,5,5,5),styleClasses:["Tooltip"]}).openInWorld();return!0}},{key:"getPolyDefaultAttrs",value:function(){return{vertices:[db.pt(131.4,86.3),db.pt(171,139.6),db.pt(105.9,119.9),db.pt(65.3,172.5),db.pt(64.7,107),db.pt(0,86.3),db.pt(64.7,65.5),db.pt(65.3,0),db.pt(105.9,52.6),db.pt(171,32.9),db.pt(131.4,86.3)],borderWidth:1}}},{key:"getPathDefaultAttrs",value:function(){return{vertices:[db.pt(0,0),db.pt(1,1)],borderWidth:1}}},{key:"getImageDefaultAttrs",
value:function(){return{imageUrl:"https://i.imgur.com/uGRFZEs.jpg"}}},{key:"getDefaultTextAttrs",value:function(){return{readOnly:!0}}},{key:"yieldShapeIfNeeded",value:function(Ma){var Ib=this.primaryTarget||this.world();return Ib._yieldedShape?(!Ib._yieldedShape.owner&&10<Ma.state.absDragDelta.r()&&Ib.addMorph(Ib._yieldedShape),Ib._yieldedShape.extent=Ma.positionIn(Ib.world()).subPt(Ma.state.dragStartPosition).subPt(db.pt(1,1)).maxPt(db.pt(1,1)),Ib._sizeTooltip.description=Ib._yieldShapeOnClick[Symbol.for("__LivelyClassName__")]+
": "+Ib._yieldedShape.width.toFixed(0)+"x"+Ib._yieldedShape.height.toFixed(0),Ib._sizeTooltip.topLeft=Ma.positionIn(Ib.world()).addXY(15,15),!0):!1}},{key:"handleHaloSelection",value:function(Ma){var Ib=this.world(),pb=this.primaryTarget||Ib,Ub=$jscomp.makeIterator(Ib.halos()).next().value;this._showHaloPreview&&this._currentlyHighlighted&&0==Ib.halos().length&&(Ma.stop(),Ib.getSubmorphsByStyleClassName("HaloPreview").forEach(function(dc){return dc.remove()}),this.showHaloFor(this._currentlyHighlighted));
Ma.targetMorph&&console.log(Ma.targetMorph);Ub&&Ub.target==Ma.state.prevClick.clickedOnMorph&&"border-box"==Ma.targetMorph.name&&50>Ma.state.timeOfLastActivity-Ma.state.prevClick.clickedAtTime?Ub.temporaryEditTextMorph(Ma):Ma.targetMorph==pb&&(pb._shapeRequest=!0)}},{key:"showHaloFor",value:function(Ma){var Ib=this;if(Ma){if(db.obj.isArray(Ma)){if(0==Ma.length)return;var pb=this.world().showHaloForSelection(Ma)}else pb=this.world().showHaloFor(Ma);db.once(pb,"remove",function(){pb.target!=Ib.world().focusedMorph&&
db.signal(Ib.primaryTarget,"onHaloRemoved",Ma)});this.activeHaloItems.includes("*")||(pb.activeItems=this.activeHaloItems);pb.topBar=this;db.signal(this.primaryTarget,"onHaloOpened",Ma)}}},{key:"handleHaloPreview",value:function(Ma){if(this._showHaloPreview){var Ib=this.haloFilterFn,pb=this.primaryTarget||this.world(),Ub=pb.morphsContainingPoint(Ma.positionIn(pb.world()));"hoverout"==Ma.type&&(Ub=[pb]);Ma=Ub.filter(function(dc){return Ib(dc)&&dc.halosEnabled&&[dc].concat($jscomp.arrayFromIterable(dc.ownerChain())).every(function(vc){return vc.visible&&
0<vc.opacity&&!vc.styleClasses.includes("HaloPreview")})})[0];Ub.find(function(dc){return dc.isMenuItem})||this.showHaloPreviewFor(Ma)}}},{key:"showHaloPreviewFor",value:function(Ma){var Ib=this.primaryTarget||this.world();if(Ma&&(![Ma].concat($jscomp.arrayFromIterable(Ma.ownerChain())).find(function(pb){return pb.isComponent})&&Ma.getWindow()?Ma=null:[Ma].concat($jscomp.arrayFromIterable(Ma.ownerChain())).find(function(pb){return pb.isEpiMorph})?Ma=null:Ma==Ib&&(Ma=null),this._currentlyHighlighted!=
Ma&&(this.clearHaloPreviews(),this._currentlyHighlighted=Ma),!(0<this.world().halos().length)&&Ma)){this._previewCache||(this._previewCache=new WeakMap);Ib=db.Morph;switch(db.getClassName(Ma)){case "Ellipse":Ib=db.Ellipse}Ib=this._previewCache.get(Ma)||db.morph({type:Ib,styleClasses:["HaloPreview"],epiMorph:!0,fill:db.Color.transparent,reactsToPointer:!1,halosEnabled:!1,acceptsDrops:!1,border:{color:db.Color.rgb(23,160,251),width:1}});Ib.owner||this.world().addMorph(Ib);Ib.setBounds(Ma.globalBounds());
Ib.borderColor=db.Color.rgb(23,160,251);Ib.borderStyle="solid";Ma.master&&(Ib.borderColor=db.Color.purple);Ma.ownerChain().find(function(pb){return pb.master&&pb.master.managesMorph(Ma)})&&(Ib.borderColor=db.Color.purple,Ib.borderStyle="dotted");Ma.isComponent&&(Ib.borderColor=db.Color.magenta);this._previewCache.set(Ma,Ib)}}},{key:"showHaloPreviews",value:function(Ma){Ma||this.clearHaloPreviews();this._showHaloPreview=Ma}},{key:"clearHaloPreviews",value:function(){this.world().getSubmorphsByStyleClassName("HaloPreview").forEach(function(Ma){return Ma.remove()})}},
{key:"prepareDragSelection",value:function(Ma){var Ib=(this.primaryTarget||this.world()).world();this._selectionStartPos=Ma.positionIn(Ib);this._morphSelection=Ib.addMorph({type:db.Selection,epiMorph:!0,reactsToPointer:!1,position:this._selectionStartPos,extent:Ma.state.dragDelta});this._selectedMorphs={}}},{key:"adjustDragSelection",value:function(Ma){var Ib=this,pb=this.primaryTarget||this.world(),Ub=pb.world(),dc=db.Rectangle.fromAny(Ma.position,this._selectionStartPos);this._morphSelection.setBounds(dc);
pb.submorphs.forEach(function(vc){if(!vc.isSelectionElement&&!vc.isHand){var gd=vc.globalBounds(),Nb=dc.containsRect(gd);!Ib._selectedMorphs[vc.id]&&Nb&&(Ib._selectedMorphs[vc.id]=Ub.addMorph({type:db.SelectionElement,bounds:gd},Ib._morphSelection));Ib._selectedMorphs[vc.id]&&!Nb&&(Ib._selectedMorphs[vc.id].remove(),delete Ib._selectedMorphs[vc.id])}})}},{key:"finishDragSelectionIfNeeded",value:function(Ma){if(this._morphSelection){var Ib=this.world();this._morphSelection.fadeOut(200);db.obj.values(this._selectedMorphs).map(function(pb){return pb.remove()});
this.showHaloFor(Object.keys(this._selectedMorphs).map(function(pb){return Ib.getMorphWithId(pb)}));this._selectedMorphs={};this._morphSelection=null}}},{key:"onTargetDragStart",value:function(Ma){!this.prepareShapeCreation(Ma)&&Ma.leftMouseButtonPressed()&&this.prepareDragSelection(Ma)}},{key:"onTargetDrag",value:function(Ma){!this.yieldShapeIfNeeded(Ma)&&this._morphSelection&&this.adjustDragSelection(Ma)}},{key:"detachFromTarget",value:function(Ma){db.disconnect(Ma,"onMouseMove",this,"handleHaloPreview");
db.disconnect(Ma,"onMouseDown",this,"handleHaloSelection");db.disconnect(Ma,"onMouseUp",this,"handleShapeCreation");db.disconnect(Ma,"onDragStart",this,"onTargetDragStart");db.disconnect(Ma,"onDrag",this,"onTargetDrag");db.disconnect(Ma,"onDragEnd",this,"finishDragSelectionIfNeeded")}},{key:"attachToTarget",value:function(Ma){this.primaryTarget&&this.detachFromTarget(this.primaryTarget);this.primaryTarget=Ma;this.setEditMode("Halo");db.connect(Ma,"onMouseMove",this,"handleHaloPreview",{garbageCollect:!0});
db.connect(Ma,"onHoverOut",this,"handleHaloPreview",{garbageCollect:!0});db.connect(Ma,"onMouseDown",this,"handleHaloSelection",{garbageCollect:!0});db.connect(Ma,"onMouseUp",this,"handleShapeCreation",{garbageCollect:!0});db.connect(Ma,"onDragStart",this,"onTargetDragStart",{garbageCollect:!0});db.connect(Ma,"onDrag",this,"onTargetDrag",{garbageCollect:!0});db.connect(Ma,"onDragEnd",this,"finishDragSelectionIfNeeded",{garbageCollect:!0})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LivelyTopBar"}},
{key:"properties",get:function(){return{isTopBar:{readOnly:!0,get:function(){return!0}},activeHaloItems:{initialize:function(Ma){Ma||(this.activeHaloItems=["*"])}},primaryTarget:{doc:"A reference to the morph that the top bar considers its primary target",defaultValue:null},haloFilterFn:{defaultValue:"() => true",derived:!0,set:function(Ma){this.setProperty("haloFilterFn",Ma)},get:function(){return db.Closure.fromSource(this.getProperty("haloFilterFn"),{target:this.primaryTarget}).asFunction()}},
userFlap:{},activeSideBars:{},currentShapeMode:{after:["submorphs"],set:function(Ma){this.setProperty("currentShapeMode",Ma);this.get("shape status icon").textAndAttributes=db.Icon.textAttribute(this.shapeToIcon[Ma].args[0])}},sideBarToIcon:{readOnly:!0,get:function(){return{"Scene Graph":{args:["sitemap",{textStyleClasses:["fas"]}]},"Styling Palette":{args:["palette",{textStyleClasses:["fas"]}]}}}},shapeToIcon:{initialize:function(Ma){this.shapeToIcon=Ma||{Rectangle:{shortcut:"R",args:["square",
{textStyleClasses:["fas"]}]},Ellipse:{shortcut:"E",args:["circle",{textStyleClasses:["fas"]}]},Image:{shortcut:"I",args:["image",{textStyleClasses:["fas"],paddingTop:"1px"}]},Path:{shortcut:"P",args:["bezier-curve",{fontSize:13,paddingTop:"3px"}]},Polygon:{shortcut:"Q",args:["draw-polygon",{fontSize:17}]},Label:{shortcut:"L",args:["tag",{paddingTop:"1px"}]},Canvas:{shortcut:"C",args:["chess-board",{paddingTop:"1px"}]},HTML:{shortcut:"H",args:["code",{paddingTop:"1px"}]}}}},keyToShape:{initialize:function(Ma){this.keyToShape=
Ma||{R:"Rectangle",E:"Ellipse",I:"Image",P:"Path",Q:"Polygon",L:"Label",C:"Canvas",H:"HTML"}}},shapeToClass:{serialize:!1,defaultValue:{Rectangle:db.Morph,Ellipse:db.Ellipse,HTML:db.HTMLMorph,Canvas:db.Canvas,Image:db.Image,Path:db.Path,Label:db.Label,Polygon:db.Polygon,Text:db.Text}},shapesCreatedViaDrag:{serialize:!1,initialize:function(){this.shapesCreatedViaDrag=[db.Morph,db.Ellipse,db.HTMLMorph,db.Canvas,db.Text,db.Polygon,db.Path,db.Image]}}}}}],Hb,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"LivelyTopBar",version:"0.1.1-275"}}},{start:740,end:24994})}(db.Morph);ec=db.LivelyTopBar;db.default=ec}}});
System.register(["./__rootModule___commonjs-entry-71573ff5.js","./index-c79abca0.js","./editor-modes-5e094c88.js"],function(Lc,pd){var Nd,Tc,Jc,$d,Bb,rd,Id,Ac,Pc,gd,nd,Fd,ic,vd,sb,Xb,Nb,bc;return{setters:[function(hb){Nd=hb.w;Tc=hb.X;Jc=hb.k;$d=hb.b1;Bb=hb.aD;rd=hb.i;Id=hb.x;Ac=hb.y;Pc=hb._;gd=hb.j;nd=hb.d;Fd=hb.ag;ic=hb.D},function(hb){vd=hb.s},function(hb){sb=hb.passIndent;Xb=hb.defineMode;Nb=hb.defineMIME;bc=hb.registerHelper}],execute:function(){var hb=window.lively.FreezerRuntime.recorderFor("lively.ide/text/snippets.js");
hb.addIndexToTextPos=function(ba,wb,Xa){return ba.indexToPosition(ba.positionToIndex(wb)+Xa)};hb.connect=Nd;hb.disconnect=Tc;hb.string=Jc;hb.KeyHandler=$d;hb.Range=Bb;var cb=Lc("S",function(ba){var wb=window.lively.FreezerRuntime.recorderFor("lively.ide/text/snippets.js"),Xa=wb.hasOwnProperty("Snippet")&&"function"===typeof wb.Snippet?wb.Snippet:wb.Snippet=function(Za){if(!Za||!Za[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};
return rd(Xa,ba,[{key:Symbol["for"]("lively-instance-initialize"),value:function(){var Za=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{trigger:null,expansion:""},Sb=Za.expansion;this.trigger=Za.trigger;this.expansion=Sb;this.resetExpansionState()}},{key:"isTextSnippet",get:function(){return!0}},{key:"attach",value:function(Za){this.isExpanding&&(this.textMorph=Za,hb.connect(this.textMorph,"selectionChange",this,"onCursorMove"))}},{key:"detach",value:function(Za){this.isExpanding&&(hb.disconnect(Za,
"selectionChange",this,"onCursorMove"),this.textMorph=null)}},{key:"onCursorMove",value:function(){var Za=this.expansionState,Sb=Za.startAnchor,Cb=Za.endAnchor;Za.isExpanding?hb.Range.fromPositions(Sb.position,Cb.position).containsPosition(this.textMorph.cursorPosition)||this.resetExpansionState():this.resetExpansionState()}},{key:"resetExpansionState",value:function(){var Za=this.textMorph;if(Za){var Sb=this.expansionState||{},Cb=Sb.marker,Da=Sb.startAnchor,zb=Sb.endAnchor;Sb=Sb.steps;Da&&Za.removeAnchor(Da);
zb&&Za.removeAnchor(zb);Cb&&Za.removeMarker(Cb);Sb.forEach(function(db){return Za.removeAnchor(db.anchor)})}this.expansionState={stepIndex:-1,steps:[],isExpanding:!1,startMarker:null,endMarker:null};Za&&Za.removePlugin(this)}},{key:"isExpanding",get:function(){return this.expansionState.isExpanding}},{key:"createExpansionSteps",value:function(Za){var Sb=[],Cb=0;hb.string.reMatches(Za,/\$[0-9]+|\$\{[0-9]+:[^\}]*\}/g).forEach(function(Da){var zb=Da.start,db=Da.end;Da=Da.match;var ib="";Da.startsWith("${")?
(Da=Da.match(/^\$\{([0-9]+):([^\}]*)\}/),Da=Id(Da,3),Da[0],ib=Da[2],Da=Number(Da[1])):Da=Number(Da.replace(/^\$/,""));Za=Za.slice(0,zb-Cb)+ib+Za.slice(db-Cb);Sb[Da]={index:zb-Cb,prefill:ib,anchor:null};Cb+=db-zb-ib.length});return{steps:Sb,expansion:Za}}},{key:"expandAtCursor",value:function(Za){var Sb=Za.selection;"function"===typeof this.expansion&&(this.expansion=this.expansion(Za.document.textInRange({start:Za.cursorPosition,end:Za.document.endPosition})));var Cb=Za.cursorPosition.column,Da=this.expansion;
this.trigger&&(Cb-=this.trigger.length);if(Cb=Math.max(0,Cb))Da=hb.string.lines(Da),Da=[Da[0]].concat(Ac(Da.slice(1).map(function(T){return hb.string.indent(T," ",Cb)}))),Da=Da.join("\n");var zb=this.createExpansionSteps(Da);Da=zb.expansion;zb=zb.steps;this.trigger&&Sb.growLeft(this.trigger.length);Sb.text=Da;var db=Sb.start;Da=Sb.end;Sb.collapseToEnd();if(zb.length){var ib=hb.string.newUUID();zb.forEach(function(T,ia){return T.anchor=Za.addAnchor(Object.assign({id:"snippet-step-".concat(ia,"-")+
ib},hb.addIndexToTextPos(Za,db,T.index)))});var Ea=Za.addAnchor(Object.assign({id:"snippet-start-"+ib},db,{insertBehavior:"stay"})),W=Za.addAnchor(Object.assign({id:"snippet-end-"+ib},Da));this.expansionState={marker:Za.addMarker({id:"snippet-marker-"+ib,get range(){return{start:Ea.position,end:W.position}},style:{"border-radius":"4px","background-color":"rgba(30, 200, 140, 0.3)","box-shadow":"0 0 4px rgba(30, 200, 140, 0.3)","pointer-events":"none",content:"fooooo"}}),startAnchor:Ea,endAnchor:W,
stepIndex:0,steps:zb,isExpanding:!0};Za.addPlugin(this);this.nextStep()}}},{key:"nextStep",value:function(){var Za=this.expansionState,Sb=Za.steps,Cb=this.textMorph;if(Za.isExpanding&&Cb){Cb=Cb.selection;Za=Sb[Za.stepIndex];var Da=Za.prefill;Cb.lead=Cb.anchor=Za.anchor.position;Cb.growRight(Da.length);this.expansionState.stepIndex++;this.expansionState.stepIndex>=Sb.length&&(this.resetExpansionState(),console.log("[snippet] expansion of ".concat(this.expansion," done")))}}},{key:"canExpand",value:function(Za){1<
arguments.length&&void 0!==arguments[1]?arguments[1]:Za.cursorPosition;var Sb=Za.positionToIndex(Za.cursorPosition);return Za.textString.slice(Sb-this.trigger.length,Sb)===this.trigger}},{key:"tryTrigger",value:function(Za){1<arguments.length&&void 0!==arguments[1]?arguments[1]:Za.cursorPosition;if(!this.canExpand(Za,Za.cursorPosition))return!1;this.expandAtCursor(Za);return!0}},{key:"getCommands",value:function(Za){var Sb=this;return Za.concat([{name:"[snippet] next expansion step",exec:function(Cb){Sb.nextStep();
return!0}},{name:"[snippet] cancel expansion",exec:function(Cb){Sb.resetExpansionState();return!0}}])}},{key:"getKeyHandlers",value:function(Za){return Za.concat(hb.KeyHandler.withBindings([{keys:"Tab",command:"[snippet] next expansion step"},{keys:"Escape",command:"[snippet] cancel expansion"}]))}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"Snippet"}}],wb,{pathInPackage:function(){return"./text/snippets.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.ide",version:"0.1.0"}}},{start:356,end:7245})}(void 0));hb.Snippet=cb;hb.Snippet=cb;var Hb=[{name:"get snippets",exec:function(ba){return ba.pluginCollect("getSnippets",[])}}];hb.snippetCommands=Hb;hb.snippetCommands=Hb;var ec=window.lively.FreezerRuntime.recorderFor("lively.ide/js/completers.js");ec.buildEvalOpts=function(ba,wb){return ba.plugins.find(function(Xa){return Xa.isJSEditorPlugin}).sanatizedJsEnv(wb)};
ec.Snippet=cb;cb=function(ba){var wb=window.lively.FreezerRuntime.recorderFor("lively.ide/js/completers.js"),Xa=wb.hasOwnProperty("ModuleTopLevelVarCompleter")&&"function"===typeof wb.ModuleTopLevelVarCompleter?wb.ModuleTopLevelVarCompleter:wb.ModuleTopLevelVarCompleter=function(Za){if(!Za||!Za[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return rd(Xa,ba,[{key:"compute",value:function(){var Za=Pc(regeneratorRuntime.mark(function zb(Cb,
Da){var db,ib,Ea,W,T,ia;return regeneratorRuntime.wrap(function(ka){for(;;)switch(ka.prev=ka.next){case 0:if(ib=(db=Cb.pluginFind(function(K){return K.isJSEditorPlugin}))&&db.systemInterface()){ka.next=4;break}return ka.abrupt("return",[]);case 4:Ea=ec.buildEvalOpts(Cb);W=Ea.targetModule;if("local"===ib.name){ka.next=15;break}ka.next=9;return ib.runEval('\n        var result, livelySystem = typeof System !== "undefined"\n                      && System.get(System.decanonicalize("lively-system-interface"));\n        if (livelySystem) {\n          result = JSON.stringify(\n            Object.getOwnPropertyNames(livelySystem.localInterface.getModule("'.concat(W,
'").recorder));\n        } else {\n          var G = typeof window !== "undefined" ?\n            window : typeof global !== "undefined" ? global : this;\n          result = JSON.stringify(Object.getOwnPropertyNames(G));\n        }\n        result;\n      '),{targetModule:"lively://module-recorder-completer"});case 9:ia=ka.sent;if(!ia.isError){ka.next=12;break}return ka.abrupt("return",[]);case 12:T=JSON.parse(ia.value);ka.next=16;break;case 15:T=Object.getOwnPropertyNames(ib.getModule(W).recorder);
case 16:return T=T.filter(function(K){return!K.startsWith("defVar_")&&!["System","__currentLivelyModule","initializeES6ClassForLively","_moduleExport","_moduleImport"].includes(K)}),ka.abrupt("return",T.map(function(K){return{priority:1100,completion:K}}));case 19:case "end":return ka.stop()}},zb)}));return function(Cb,Da){return Za.apply(this,arguments)}}()}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"ModuleTopLevelVarCompleter"}}],wb,{pathInPackage:function(){return"./js/completers.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.ide",version:"0.1.0"}}},{start:226,end:1705})}(void 0);ec.ModuleTopLevelVarCompleter=cb;ec.ModuleTopLevelVarCompleter=cb;cb=function(ba){var wb=window.lively.FreezerRuntime.recorderFor("lively.ide/js/completers.js"),Xa=wb.hasOwnProperty("DynamicJavaScriptCompleter")&&"function"===typeof wb.DynamicJavaScriptCompleter?
wb.DynamicJavaScriptCompleter:wb.DynamicJavaScriptCompleter=function(Za){if(!Za||!Za[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return rd(Xa,ba,[{key:"isValidPrefix",value:function(Za){return/\.[a-z0-9_]*$/i.test(Za)}},{key:"isMethodCallCompletion",value:function(Za){return Za.endsWith(")")&&0<Za.indexOf("(")}},{key:"isValidIdentifier",value:function(Za){if("string"!==typeof Za)return!1;this.isMethodCallCompletion(Za)&&
(Za=Za.slice(0,Za.indexOf("(")));return/^[a-z_\$][0-9a-z_\$]*$/i.test(Za)?!0:!1}},{key:"wrapInBrackets",value:function(Za){if(!isNaN(Number(Za))||Za.startsWith("Symbol."))return"[".concat(Za,"]");var Sb="";this.isMethodCallCompletion(Za)&&(Sb=Za.slice(Za.indexOf("(")),Za=Za.slice(0,Za.indexOf("(")));return'["'.concat(Za.replace(/"/g,'\\"'),'"]').concat(Sb)}},{key:"compute",value:function(){var Za=Pc(regeneratorRuntime.mark(function Da(Cb){var zb=this,db,ib,Ea,W,T,ia,ka,K,ya,pb,La;return regeneratorRuntime.wrap(function(eb){for(;;)switch(eb.prev=
eb.next){case 0:db=Cb.selection;db.isEmpty()?(ib=Cb.getLine(db.lead.row),ib=ib.slice(ib.lastIndexOf(":")+1,db.lead.column)):ib=db.text.slice(Math.max(0,db.text.indexOf(":")),0);if(this.isValidPrefix(ib)){eb.next=4;break}return eb.abrupt("return",[]);case 4:if(W=(Ea=Cb.pluginFind(function(jb){return jb.isJSEditorPlugin}))&&Ea.systemInterface()){eb.next=8;break}return eb.abrupt("return",[]);case 8:return T=ec.buildEvalOpts(Cb),eb.next=11,W.dynamicCompletionsForPrefix(T.targetModule,ib,T);case 11:ia=
eb.sent;ka=ia.isError;K=ia.value;ya=ia.completions;pb=ia.prefix;if(!ka){eb.next=19;break}console.warn("javascript completer encountered error: ".concat(K.stack||K));return eb.abrupt("return",[]);case 19:return ya.reduce(function(jb,E){E=Id(E,2);E[0];return jb+E[1].length},0),La=ya.reduce(function(jb,E,Wb){E=Id(E,2);var R=E[0];return jb.concat(E[1].map(function(xb){var Ja=zb.isValidIdentifier(xb);return{info:R,completion:xb,prefix:Ja?pb:"."+pb,customInsertionFn:Ja?zb.isMethodCallCompletion(xb)?function(Ga,
sa,Ub,vc){sa=vc.start;vc=vc.end;Ga=Ga.replace(/\((.*)\)/,function(Oc){return"(".concat(Oc.slice(1,-1).split(", ").map(function(aa,Ma){return"${".concat(Ma,":").concat(aa,"}")}).join(", "),")")});Ga=new ec.Snippet({expansion:Ga});Ub.replace({start:sa,end:vc},"");Ga.expandAtCursor(Ub)}:null:function(Ga,sa,Ub,vc){Ga=vc.start;vc=vc.end;sa={row:Ga.row,column:Ga.column-1};vc="."===Ub.textInRange({start:sa,end:Ga})?{start:sa,end:vc}:{start:Ga,end:vc};Ub.replace(vc,zb.wrapInBrackets(xb))}}}))},[]),La.forEach(function(jb,
E){return Object.assign(jb,{priority:2E3+La.length-E})}),eb.abrupt("return",La);case 24:case "end":return eb.stop()}},Da,this)}));return function(Cb){return Za.apply(this,arguments)}}()}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"DynamicJavaScriptCompleter"}}],wb,{pathInPackage:function(){return"./js/completers.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:1713,end:5202})}(void 0);ec.DynamicJavaScriptCompleter=cb;ec.DynamicJavaScriptCompleter=cb;ec.keywords="arguments boolean break case catch class const continue debugger default delete eval export import extends false true finally instanceof static super this throw typeof while with yield await Array Date eval function hasOwnProperty Infinity isFinite isNaN isPrototypeOf length Math NaN name Number Object prototype String toString undefined valueOf alert assign clearInterval clearTimeout decodeURI decodeURIComponent document encodeURI encodeURIComponent escape navigator parseFloat parseInt setInterval setTimeout window document requestAnimationFrame cancelAnimationFrame".split(" ");
cb=function(ba){var wb=window.lively.FreezerRuntime.recorderFor("lively.ide/js/completers.js"),Xa=wb.hasOwnProperty("JavaScriptKeywordCompleter")&&"function"===typeof wb.JavaScriptKeywordCompleter?wb.JavaScriptKeywordCompleter:wb.JavaScriptKeywordCompleter=function(Za){if(!Za||!Za[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return rd(Xa,ba,[{key:"compute",value:function(Za,Sb){return ec.keywords.map(function(Cb){return{completion:Cb,
priority:0}})}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"JavaScriptKeywordCompleter"}}],wb,{pathInPackage:function(){return"./js/completers.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.ide",version:"0.1.0"}}},{start:6064,end:6218})}(void 0);ec.JavaScriptKeywordCompleter=cb;ec.JavaScriptKeywordCompleter=cb;cb=Lc("c",[new ec.DynamicJavaScriptCompleter,
new ec.JavaScriptKeywordCompleter,new ec.ModuleTopLevelVarCompleter]);ec.completers=cb;ec.completers=cb;var ub=window.lively.FreezerRuntime.recorderFor("lively.ide/js/commands.js");ub.setEvalEnv=function(ba,wb){(ba=ba.pluginFind(function(Xa){return Xa.isJSEditorPlugin}))&&Object.assign(ba.evalEnvironment,wb);return ba.evalEnvironment};ub.iToP=function(ba,wb){return ba.indexToPosition(wb)};ub.arr=gd;ub.promise=nd;ub.show=vd;ub.Range=Bb;ub.query=Fd;cb=Lc("a",[{name:"undefine variable",doc:"Finds the variable at cursor position (or position passed) and undefines it in the module toplevel scope.",
exec:function(){var ba=Pc(regeneratorRuntime.mark(function Za(Xa){var Sb,Cb,Da,zb,db,ib,Ea,W,T,ia,ka=arguments;return regeneratorRuntime.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:Cb=Sb=1<ka.length&&void 0!==ka[1]?ka[1]:{varName:null,position:null};Da=Cb.varName;zb=Cb.position;if(Da){K.next=11;break}zb||(zb=Xa.cursorPosition);db=Xa.pluginInvokeFirst("getNavigator");ib=db.ensureAST(Xa);if(Ea=ub.query.nodesAt(Xa.positionToIndex(zb),ib).reverse().find(function(ya){return"Identifier"===ya.type})){K.next=
10;break}Xa.showError(Error("no identifier found!"));return K.abrupt("return",!0);case 10:Da=Ea.name;case 11:return Sb=Xa.pluginFind(function(ya){return ya.isJSEditorPlugin}).sanatizedJsEnv(),W='lively.modules.module("'.concat(Sb.targetModule,'").undefine("').concat(Da,'")'),K.prev=13,K.next=16,Xa.doEval(null,Sb,W);case 16:T=K.sent;ia=T.error?T.error:T.isError?T.value:null;K.next=23;break;case 20:K.prev=20,K.t0=K["catch"](13),ia=K.t0;case 23:return ia?Xa.showError(ia):Xa.setStatusMessage("".concat(Da,
" undefined")),K.abrupt("return",!0);case 25:case "end":return K.stop()}},Za,null,[[13,20]])}));return function(Xa){return ba.apply(this,arguments)}}()},{name:"change doitContext",exec:function(){var ba=Pc(regeneratorRuntime.mark(function Za(Xa){var Sb,Cb,Da,zb;return regeneratorRuntime.wrap(function(db){for(;;)switch(db.prev=db.next){case 0:return db.next=2,Xa.world().execCommand("select morph",{prompt:"select morph for doitContext",justReturn:!0,prependItems:["reset"],filterFn:function(ib){return!ib.isUsedAsEpiMorph()}});
case 2:Sb=db.sent;Cb=Id(Sb,1);if(Da=Cb[0])zb="reset"===Da,Xa.doitContext=zb?null:Da,Xa.setStatusMessage(zb?"doitContext is now\n"+Da:"doitContext reset");return db.abrupt("return",!0);case 7:case "end":return db.stop()}},Za)}));return function(Xa){return ba.apply(this,arguments)}}()},{name:"change eval backend",exec:function(){var ba=Pc(regeneratorRuntime.mark(function Za(Xa){var Sb,Cb,Da=arguments;return regeneratorRuntime.wrap(function(zb){for(;;)switch(zb.prev=zb.next){case 0:Sb=1<Da.length&&void 0!==
Da[1]?Da[1]:{backend:void 0};Cb=Sb.backend;if(void 0!==Cb){zb.next=9;break}zb.next=5;return Xa.world().prompt("choose eval backend",{historyId:"js-eval-backend-history"});case 5:if(Cb=zb.sent){zb.next=9;break}Xa.setStatusMessage("Canceled");return zb.abrupt("return",!0);case 9:return"local"===Cb&&(Cb=null),Xa.setStatusMessage("Eval backend is now ".concat(Cb||"local")),zb.abrupt("return",ub.setEvalEnv(Xa,{remote:Cb}));case 12:case "end":return zb.stop()}},Za)}));return function(Xa){return ba.apply(this,
arguments)}}()},{name:"copy current module name to clipboard",exec:function(ba){var wb=ba.evalEnvironment.targetModule;ba.setStatusMessage(wb||"Cannot find module name");ba.env.eventDispatcher.killRing.add(ba);ba.env.eventDispatcher.doCopy(wb);return!0}}]);ub.jsEditorCommands=cb;ub.jsEditorCommands=cb;cb=Lc("j",[{name:"[javascript] list errors and warnings",exec:function(){var ba=Pc(regeneratorRuntime.mark(function Za(Xa){var Sb,Cb,Da,zb,db;return regeneratorRuntime.wrap(function(ib){for(;;)switch(ib.prev=
ib.next){case 0:Sb=(Xa.markers||[]).filter(function(Ea){Ea=Ea.type;return"js-undeclared-var"===Ea||"js-syntax-error"===Ea});if(Sb.length){ib.next=4;break}ub.show("no warnings or errors");return ib.abrupt("return",!0);case 4:return Cb=Sb.map(function(Ea){var W=Ea.range;return{isListItem:!0,string:"[".concat(Ea.type.split("-").slice(1).join(" "),"] ").concat(Xa.textInRange(W)),value:W}}),ib.next=7,Xa.world().filterableListPrompt("jump to warning or error",Cb);case 7:Da=ib.sent;zb=Id(Da.selected,1);
if(db=zb[0])Xa.saveMark(),Xa.selection=db,Xa.centerRow(db.start.row);return ib.abrupt("return",!0);case 12:case "end":return ib.stop()}},Za)}));return function(Xa){return ba.apply(this,arguments)}}()},{name:"[javascript] inject import",exec:function(){var ba=Pc(regeneratorRuntime.mark(function Za(Xa){var Sb,Cb,Da,zb,db=arguments;return regeneratorRuntime.wrap(function(ib){for(;;)switch(ib.prev=ib.next){case 0:return Sb=1<db.length&&void 0!==db[1]?db[1]:{gotoImport:!1,insertImportAtCursor:!0},ib.next=
3,ub.promise.delay(0);case 3:return ib.next=5,pd.import("./import-helper-2f69328f.js");case 5:return Cb=ib.sent,Da=Cb.interactivelyInjectImportIntoText,ib.next=9,Da(Xa,Sb);case 9:return(zb=ib.sent)||Xa.setStatusMessage("canceled"),ib.abrupt("return",zb);case 12:case "end":return ib.stop()}},Za)}));return function(Xa){return ba.apply(this,arguments)}}()},{name:"[javascript] fix undeclared variables",exec:function(){var ba=Pc(regeneratorRuntime.mark(function Za(Xa){var Sb,Cb,Da,zb,db=arguments;return regeneratorRuntime.wrap(function(ib){for(;;)switch(ib.prev=
ib.next){case 0:return Sb=1<db.length&&void 0!==db[1]?db[1]:{ignore:[],autoApplyIfSingleChoice:!1,requester:Xa},ib.next=3,pd.import("./import-helper-2f69328f.js");case 3:return Cb=ib.sent,Da=Cb.interactivlyFixUndeclaredVariables,ib.next=7,Da(Xa,Sb);case 7:return zb=ib.sent,Xa.focus(),ib.abrupt("return",zb);case 10:case "end":return ib.stop()}},Za)}));return function(Xa){return ba.apply(this,arguments)}}()},{name:"[javascript] remove unused imports",exec:function(){var ba=Pc(regeneratorRuntime.mark(function Za(Xa){var Sb,
Cb,Da,zb,db=arguments;return regeneratorRuntime.wrap(function(ib){for(;;)switch(ib.prev=ib.next){case 0:return Sb=1<db.length&&void 0!==db[1]?db[1]:{query:!0},ib.next=3,pd.import("./import-helper-2f69328f.js");case 3:return Cb=ib.sent,Da=Cb.cleanupUnusedImports,ib.next=7,Da(Xa,Sb);case 7:return zb=ib.sent,Xa.setStatusMessage(zb),ib.abrupt("return",!0);case 10:case "end":return ib.stop()}},Za)}));return function(Xa){return ba.apply(this,arguments)}}()}]);ub.jsIdeCommands=cb;ub.jsIdeCommands=cb;cb=
Lc("b",[{name:"selectDefinition",readOnly:!0,bindKey:"Alt-.",exec:function(ba,wb){wb=ba.pluginInvokeFirst("getNavigator");if(!wb)return!0;wb=wb.resolveIdentifierAt(ba,ba.cursorPosition);if(!wb||!wb.id)return ub.show("No symbol identifier selected"),!0;if(!wb.decl)return ub.show("Cannot find declaration of "+wb.name),!0;ba.saveMark();ba.selection={start:ba.indexToPosition(wb.decl.start),end:ba.indexToPosition(wb.decl.end)};ba.scrollCursorIntoView();return!0}},{name:"selectSymbolReferenceOrDeclarationNext",
readOnly:!0,multiSelectAction:"single",exec:function(ba){ba.execCommand("selectSymbolReferenceOrDeclaration",{direction:"next"})}},{name:"selectSymbolReferenceOrDeclarationPrev",readOnly:!0,multiSelectAction:"single",exec:function(ba){ba.execCommand("selectSymbolReferenceOrDeclaration",{direction:"prev"})}},{name:"selectSymbolReferenceOrDeclaration",doc:"Finds the name of the currently selected symbol and will use the JS ast to select references and declarations whose name matches the symbol in the current scope.",
readOnly:!0,multiSelectAction:"single",exec:function(ba){var wb=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{direction:null},Xa=ba.pluginInvokeFirst("getNavigator");if(!Xa)return!0;Xa=Xa.resolveIdentifierAt(ba,ba.cursorPosition);if(!Xa||!Xa.refs)return ub.show("No symbol identifier selected"),!0;var Za=ba.selection;Xa=Xa.refs.map(function(Cb){var Da=Cb.end;return ub.Range.fromPositions(ub.iToP(ba,Cb.start),ub.iToP(ba,Da))}).concat(Xa.decl?ub.Range.fromPositions(ub.iToP(ba,Xa.decl.start),
ub.iToP(ba,Xa.decl.end)):[]).sort(ub.Range.compare);if(!Xa.length)return!0;var Sb=Xa.map(String).indexOf(String(Za.range));if("next"===wb.direction||"prev"===wb.direction)-1===Sb&&Xa.length?Xa=[Xa[0]]:(wb=Sb+("next"===wb.direction?1:-1),0>wb?wb=Xa.length-1:wb>=Xa.length&&(wb=0),Xa=[Xa[wb]]);Xa.forEach(function(Cb){var Da=Za.selections.findIndex(function(db){return db.range.equals(Cb)}),zb=Za.selections.length-1;-1<Da?ub.arr.swap(Za.selections,Da,zb):Za.addRange(Cb,!1)});Za.mergeSelections();return!0}}]);
ub.astEditorCommands=cb;ub.astEditorCommands=cb;lively.modules&&!lively.FreezerRuntime&&lively.modules.module("lively.ide/js/editor-plugin.js").reload({reloadDeps:!1,resetEnv:!1});var yb=window.lively.FreezerRuntime.recorderFor("lively.ide/js/mode.js");yb.expressionAllowed=function(ba,wb,Xa){return/^(?:operator|sof|keyword c|case|new|export|default|[\[{}\(,;:]|=>)$/.test(wb.lastType)||"quasi"==wb.lastType&&/\{\s*$/.test(ba.string.slice(0,ba.pos-(Xa||0)))};yb.passIndent=sb;yb.defineMode=Xb;yb.defineMIME=
Nb;yb.registerHelper=bc;yb.defaultConfig={indentUnit:2};yb.defaultParserConfig={name:"javascript",statementIndent:2,jsonld:!1,json:!1,typescript:!1,wordCharacters:/[\w$\xa1-\uffff]/,globalVars:[],localVars:[],doubleIndentSwitch:null};yb.defineMode("javascript",function(ba,wb){function Xa(fc,wd,Ie){af=fc;yf=Ie;return wd}function Za(fc,wd){var Ie=fc.next();if('"'==Ie||"'"==Ie)return wd.tokenize=Sb(Ie),wd.tokenize(fc,wd);if("."==Ie&&fc.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return Xa("number","number");
if("."==Ie&&fc.match(".."))return Xa("spread","meta");if(/[\[\]{}\(\),;:\.]/.test(Ie))return Xa(Ie);if("="==Ie&&fc.eat(">"))return Xa("=>","operator");if("0"==Ie&&fc.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return Xa("number","number");if(/\d/.test(Ie))return fc.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),Xa("number","number");if("/"==Ie){if(fc.eat("*"))return wd.tokenize=Cb,Xa("comment","comment");if(fc.eat("/"))return wd.tokenize=Da,Xa("comment","comment");if(mc(fc,wd,1)){a:for(var ff=
wd=!1;null!=(Ie=fc.next());){if(!wd){if("/"==Ie&&!ff)break a;"["==Ie?ff=!0:ff&&"]"==Ie&&(ff=!1)}wd=!wd&&"\\"==Ie}fc.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/);return Xa("regexp","string-2")}fc.eat("=");return Xa("operator","operator",fc.current())}if("`"==Ie)return wd.tokenize=zb,zb(fc,wd);if("#"==Ie&&"!"==fc.peek())return fc.skipToEnd(),Xa("meta","meta");if("#"==Ie&&fc.eatWhile(Be))return Xa("variable","property");if("<"==Ie&&fc.match("!--")||"-"==Ie&&fc.match("->")&&!/\S/.test(fc.string.slice(0,
fc.start)))return fc.skipToEnd(),Xa("comment","comment");if(Re.test(Ie))return">"==Ie&&wd.lexical&&">"==wd.lexical.type||(fc.eat("=")?"!"!=Ie&&"="!=Ie||fc.eat("="):/[<>*+\-|&?]/.test(Ie)&&(fc.eat(Ie),">"==Ie&&fc.eat(Ie))),"?"==Ie&&fc.eat(".")?Xa("."):Xa("operator","operator",fc.current());if(Be.test(Ie)){fc.eatWhile(Be);Ie=fc.current();if("."!=wd.lastType){if(Ne.propertyIsEnumerable(Ie))return fc=Ne[Ie],Xa(fc.type,fc.style,Ie);if("async"==Ie&&fc.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return Xa("async",
"keyword",Ie)}return Xa("variable","variable",Ie)}}function Sb(fc){return function(wd,Ie){var ff=!1,Pe;if(Pd&&"@"==wd.peek()&&wd.match(nf))return Ie.tokenize=Za,Xa("jsonld-keyword","meta");for(;null!=(Pe=wd.next())&&(Pe!=fc||ff);)ff=!ff&&"\\"==Pe;ff||(Ie.tokenize=Za);return Xa("string","string")}}function Cb(fc,wd){for(var Ie=!1,ff,Pe=!1;ff=fc.eat(/[^\w\$_\xa1-\uffff]/);){Pe=!0;if("/"==ff&&Ie){wd.tokenize=Za;break}Ie="*"==ff}if(Pe)return Xa("comment","comment");if(fc.eatWhile(/[\w\$_\xa1-\uffff]/)&&
(fc=fc.current(),"TODO"==fc||"FIXME"==fc))return Xa("commentHighlight","commentHighlight");Xa("comment","comment")}function Da(fc,wd){return fc.eatWhile(/[^\w\$_\xa1-\uffff]/)?(fc.eol()&&(wd.tokenize=Za),"comment"):fc.eatWhile(/[\w\$_\xa1-\uffff]/)&&(fc.eol()&&(wd.tokenize=Za),fc=fc.current(),"TODO"==fc||"FIXME"==fc)?Xa("commentHighlight","commentHighlight"):Xa("comment","comment")}function zb(fc,wd){for(var Ie=!1,ff;null!=(ff=fc.next());){if(!Ie&&("`"==ff||"$"==ff&&fc.eat("{"))){wd.tokenize=Za;break}Ie=
!Ie&&"\\"==ff}return Xa("quasi","string-2",fc.current())}function db(fc,wd){wd.fatArrowAt&&(wd.fatArrowAt=null);var Ie=fc.string.indexOf("=>",fc.start);if(!(0>Ie)){if(le){var ff=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(fc.string.slice(fc.start,Ie));ff&&(Ie=ff.index)}ff=0;var Pe=!1;for(--Ie;0<=Ie;--Ie){var Gf=fc.string.charAt(Ie),Vf="([{}])".indexOf(Gf);if(0<=Vf&&3>Vf){if(!ff){++Ie;break}if(0==--ff){"("==Gf&&(Pe=!0);break}}else if(3<=Vf&&6>Vf)++ff;else if(Be.test(Gf))Pe=!0;else if(/["'\/`]/.test(Gf))for(;;--Ie){if(0==
Ie)return;if(fc.string.charAt(Ie-1)==Gf&&"\\"!=fc.string.charAt(Ie-2)){Ie--;break}}else if(Pe&&!ff){++Ie;break}}Pe&&!ff&&(wd.fatArrowAt=Ie)}}function ib(fc,wd,Ie,ff,Pe,Gf){this.indented=fc;this.column=wd;this.type=Ie;this.prev=Pe;this.info=Gf;null!=ff&&(this.align=ff)}function Ea(){for(var fc=arguments.length-1;0<=fc;fc--)re.cc.push(arguments[fc])}function W(){Ea.apply(null,arguments);return!0}function T(fc,wd){for(;wd;wd=wd.next)if(wd.name==fc)return!0;return!1}function ia(fc){var wd=re.state;re.marked=
"def";if(Yd){if(wd.context)if("var"==wd.lexical.info&&wd.context&&wd.context.block){var Ie=ka(fc,wd.context);if(null!=Ie){wd.context=Ie;return}}else if(!T(fc,wd.localVars)){wd.localVars=new pb(fc,wd.localVars);return}wb.globalVars&&!T(fc,wd.globalVars)&&(wd.globalVars=new pb(fc,wd.globalVars))}}function ka(fc,wd){return wd?wd.block?(fc=ka(fc,wd.prev))?fc==wd.prev?wd:new ya(fc,wd.vars,!0):null:T(fc,wd.vars)?wd:new ya(wd.prev,new pb(fc,wd.vars),!1):null}function K(fc){return"public"==fc||"private"==
fc||"protected"==fc||"abstract"==fc||"readonly"==fc}function ya(fc,wd,Ie){this.prev=fc;this.vars=wd;this.block=Ie}function pb(fc,wd){this.name=fc;this.next=wd}function La(){re.state.context=new ya(re.state.context,re.state.localVars,!1);re.state.localVars=Ld}function eb(){re.state.context=new ya(re.state.context,re.state.localVars,!0);re.state.localVars=null}function jb(){re.state.localVars=re.state.context.vars;re.state.context=re.state.context.prev}function E(fc,wd){var Ie=function(){var ff=re.state,
Pe=ff.indented;if("stat"==ff.lexical.type)Pe=ff.lexical.indented;else for(var Gf=ff.lexical;Gf&&")"==Gf.type&&Gf.align;Gf=Gf.prev)Pe=Gf.indented;ff.lexical=new ib(Pe,re.stream.column(),fc,null,ff.lexical,wd)};Ie.lex=!0;return Ie}function Wb(){var fc=re.state;fc.lexical.prev&&(")"==fc.lexical.type&&(fc.indented=fc.lexical.indented),fc.lexical=fc.lexical.prev)}function R(fc){function wd(Ie){return Ie==fc?W():";"==fc||"}"==Ie||")"==Ie||"]"==Ie?Ea():W(wd)}return wd}function xb(fc,wd){return"var"==fc?
W(E("vardef",wd),cc,R(";"),Wb):"keyword a"==fc?W(E("form"),Ub,xb,Wb):"keyword b"==fc?W(E("form"),xb,Wb):"keyword d"==fc?re.stream.match(/^\s*$/,!1)?W():W(E("stat"),Oc,R(";"),Wb):"debugger"==fc?W(R(";")):"{"==fc?W(E("}"),eb,Ta,Wb,jb):";"==fc?W():"if"==fc?("else"==re.state.lexical.info&&re.state.cc[re.state.cc.length-1]==Wb&&re.state.cc.pop()(),W(E("form"),Ub,xb,Wb,nc)):"function"==fc?W(Ab):"for"==fc?W(E("form"),eb,Yc,xb,jb,Wb):"class"==fc||le&&"interface"==wd?(re.marked="keyword",W(E("form","class"==
fc?fc:wd),C,Wb)):"variable"==fc?le&&"declare"==wd?(re.marked="keyword",W(xb)):le&&("module"==wd||"enum"==wd||"type"==wd)&&re.stream.match(/^\s*\w/,!1)?(re.marked="keyword","enum"==wd?W(Gb):"type"==wd?W(za,R("operator"),Hd,R(";")):W(E("form"),ob,R("{"),E("}"),Ta,Wb,Wb)):le&&"namespace"==wd?(re.marked="keyword",W(E("form"),Ga,xb,Wb)):le&&"abstract"==wd?(re.marked="keyword",W(xb)):W(E("stat"),va):"switch"==fc?W(E("form"),Ub,R("{"),E("}","switch"),eb,Ta,Wb,Wb,jb):"case"==fc?W(Ga,R(":")):"default"==fc?
W(R(":")):"catch"==fc?W(E("form"),La,Ja,xb,Wb,jb):"export"==fc?W(E("stat"),ca,Wb):"import"==fc?W(E("stat"),u,Wb):"async"==fc?W(xb):"@"==wd?W(Ga,xb):Ea(E("stat"),Ga,R(";"),Wb)}function Ja(fc){if("("==fc)return W(Ka,R(")"))}function Ga(fc,wd){return vc(fc,wd,!1)}function sa(fc,wd){return vc(fc,wd,!0)}function Ub(fc){return"("!=fc?Ea():W(E(")"),Oc,R(")"),Wb)}function vc(fc,wd,Ie){if(re.state.fatArrowAt==re.stream.start){var ff=Ie?Kb:Lb;if("("==fc)return W(La,E(")"),Ob(Ka,")"),Wb,R("=>"),ff,jb);if("variable"==
fc)return Ea(La,ob,R("=>"),ff,jb)}ff=Ie?Ma:aa;return Ig.hasOwnProperty(fc)?W(ff):"function"==fc?W(Ab,ff):"class"==fc||le&&"interface"==wd?(re.marked="keyword",W(E("form"),Ib,Wb)):"keyword c"==fc||"async"==fc?W(Ie?sa:Ga):"("==fc?W(E(")"),Oc,R(")"),Wb,ff):"operator"==fc||"spread"==fc?W(Ie?sa:Ga):"["==fc?W(E("]"),Ua,Wb,ff):"{"==fc?yc(pa,"}",null,ff):"quasi"==fc?Ea(qb,ff):"new"==fc?W(Db(Ie)):W()}function Oc(fc){return fc.match(/[;\}\)\],]/)?Ea():Ea(Ga)}function aa(fc,wd){return","==fc?W(Oc):Ma(fc,wd,
!1)}function Ma(fc,wd,Ie){var ff=0==Ie?aa:Ma,Pe=0==Ie?Ga:sa;if("=>"==fc)return W(La,Ie?Kb:Lb,jb);if("operator"==fc)return/\+\+|--/.test(wd)||le&&"!"==wd?W(ff):le&&"<"==wd&&re.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?W(E(">"),Ob(Hd,">"),Wb,ff):"?"==wd?W(Ga,R(":"),Pe):W(Pe);if("quasi"==fc)return Ea(qb,ff);if(";"!=fc){if("("==fc)return yc(sa,")","call",ff);if("."==fc)return W(Wa,ff);if("["==fc)return W(E("]"),Oc,R("]"),Wb,ff);if(le&&"as"==wd)return re.marked="keyword",W(Hd,ff);if("regexp"==fc)return re.state.lastType=
re.marked="operator",re.stream.backUp(re.stream.pos-re.stream.start-1),W(Pe)}}function qb(fc,wd){return"quasi"!=fc?Ea():"${"!=wd.slice(wd.length-2)?W(qb):W(Oc,Vb)}function Vb(fc){if("}"==fc)return re.marked="string-2",re.state.tokenize=zb,W(qb)}function Lb(fc){db(re.stream,re.state);return Ea("{"==fc?xb:Ga)}function Kb(fc){db(re.stream,re.state);return Ea("{"==fc?xb:sa)}function Db(fc){return function(wd){return"."==wd?W(fc?N:Ra):"variable"==wd&&le?W(gb,fc?Ma:aa):Ea(fc?sa:Ga)}}function Ra(fc,wd){if("target"==
wd)return re.marked="keyword",W(aa)}function N(fc,wd){if("target"==wd)return re.marked="keyword",W(Ma)}function va(fc){return":"==fc?W(Wb,xb):Ea(aa,R(";"),Wb)}function Wa(fc){if("variable"==fc)return re.marked="property",W()}function pa(fc,wd){if("async"==fc)return re.marked="property",W(pa);if("variable"==fc||"keyword"==re.style){re.marked="property";if("get"==wd||"set"==wd)return W(tb);var Ie;le&&re.state.fatArrowAt==re.stream.start&&(Ie=re.stream.match(/^\s*:\s*/,!1))&&(re.state.fatArrowAt=re.stream.pos+
Ie[0].length);return W(ab)}if("number"==fc||"string"==fc)return re.marked=Pd?"property":re.style+" property",W(ab);if("jsonld-keyword"==fc)return W(ab);if(le&&K(wd))return re.marked="keyword",W(pa);if("["==fc)return W(Ga,Bd,R("]"),ab);if("spread"==fc)return W(sa,ab);if("*"==wd)return re.marked="keyword",W(pa);if(":"==fc)return Ea(ab)}function tb(fc){if("variable"!=fc)return Ea(ab);re.marked="property";return W(Ab)}function ab(fc){if(":"==fc)return W(sa);if("("==fc)return Ea(Ab)}function Ob(fc,wd,
Ie){function ff(Pe,Gf){return(Ie?-1<Ie.indexOf(Pe):","==Pe)?(Pe=re.state.lexical,"call"==Pe.info&&(Pe.pos=(Pe.pos||0)+1),W(function(Vf,cd){return Vf==wd||cd==wd?Ea():Ea(fc)},ff)):Pe==wd||Gf==wd?W():Ie&&-1<Ie.indexOf(";")?Ea(fc):W(R(wd))}return function(Pe,Gf){return Pe==wd||Gf==wd?W():Ea(fc,ff)}}function yc(fc,wd,Ie){for(var ff=3;ff<arguments.length;ff++)re.cc.push(arguments[ff]);return W(E(wd,Ie),Ob(fc,wd),Wb)}function Ta(fc){return"}"==fc?W():Ea(xb,Ta)}function Bd(fc,wd){if(le){if(":"==fc)return W(Hd);
if("?"==wd)return W(Bd)}}function Eb(fc,wd){if(le&&(":"==fc||"in"==wd))return W(Hd)}function fe(fc){if(le&&":"==fc)return re.stream.match(/^\s*\w+\s+is\b/,!1)?W(Ga,Od,Hd):W(Hd)}function Od(fc,wd){if("is"==wd)return re.marked="keyword",W()}function Hd(fc,wd){if("keyof"==wd||"typeof"==wd||"infer"==wd||"readonly"==wd)return re.marked="keyword",W("typeof"==wd?sa:Hd);if("variable"==fc||"void"==wd)return re.marked="type",W(Td);if("|"==wd||"&"==wd)return W(Hd);if("string"==fc||"number"==fc||"atom"==fc)return W(Td);
if("["==fc)return W(E("]"),Ob(Hd,"]",","),Wb,Td);if("{"==fc)return W(E("}"),Xd,Wb,Td);if("("==fc)return W(Ob(ld,")"),Qc,Td);if("<"==fc)return W(Ob(Hd,">"),Hd);if("quasi"==fc)return Ea(rf,Td)}function Qc(fc){if("=>"==fc)return W(Hd)}function Xd(fc){return fc.match(/[\}\)\]]/)?W():","==fc||";"==fc?W(Xd):Ea(oc,Xd)}function oc(fc,wd){if("variable"==fc||"keyword"==re.style)return re.marked="property",W(oc);if("?"==wd||"number"==fc||"string"==fc)return W(oc);if(":"==fc)return W(Hd);if("["==fc)return W(R("variable"),
Eb,R("]"),oc);if("("==fc)return Ea(Fa,oc);if(!fc.match(/[;\}\)\],]/))return W()}function rf(fc,wd){return"quasi"!=fc?Ea():"${"!=wd.slice(wd.length-2)?W(rf):W(Hd,Dd)}function Dd(fc){if("}"==fc)return re.marked="string-2",re.state.tokenize=zb,W(rf)}function ld(fc,wd){return"variable"==fc&&re.stream.match(/^\s*[?:]/,!1)||"?"==wd?W(ld):":"==fc?W(Hd):"spread"==fc?W(ld):Ea(Hd)}function Td(fc,wd){if("<"==wd)return W(E(">"),Ob(Hd,">"),Wb,Td);if("|"==wd||"."==fc||"&"==wd)return W(Hd);if("["==fc)return W(Hd,
R("]"),Td);if("extends"==wd||"implements"==wd)return re.marked="keyword",W(Hd);if("?"==wd)return W(Hd,R(":"),Hd)}function gb(fc,wd){if("<"==wd)return W(E(">"),Ob(Hd,">"),Wb,Td)}function Vc(){return Ea(Hd,vb)}function vb(fc,wd){if("="==wd)return W(Hd)}function cc(fc,wd){return"enum"==wd?(re.marked="keyword",W(Gb)):Ea(ob,Bd,qe,lc)}function ob(fc,wd){if(le&&K(wd))return re.marked="keyword",W(ob);if("variable"==fc)return ia(wd),W();if("spread"==fc)return W(ob);if("["==fc)return yc(ae,"]");if("{"==fc)return yc(ac,
"}")}function ac(fc,wd){if("variable"==fc&&!re.stream.match(/^\s*:/,!1))return ia(wd),W(qe);"variable"==fc&&(re.marked="property");return"spread"==fc?W(ob):"}"==fc?Ea():"["==fc?W(Ga,R("]"),R(":"),ac):W(R(":"),ob,qe)}function ae(){return Ea(ob,qe)}function qe(fc,wd){if("="==wd)return W(sa)}function lc(fc){if(","==fc)return W(cc)}function nc(fc,wd){if("keyword b"==fc&&"else"==wd)return W(E("form","else"),xb,Wb)}function Yc(fc,wd){if("await"==wd)return W(Yc);if("("==fc)return W(E(")"),fd,Wb)}function fd(fc){return"var"==
fc?W(cc,ua):"variable"==fc?W(ua):Ea(ua)}function ua(fc,wd){return")"==fc?W():";"==fc?W(ua):"in"==wd||"of"==wd?(re.marked="keyword",W(Ga,ua)):Ea(Ga,ua)}function Ab(fc,wd){if("*"==wd)return re.marked="keyword",W(Ab);if("variable"==fc)return ia(wd),W(Ab);if("("==fc)return W(La,E(")"),Ob(Ka,")"),Wb,fe,xb,jb);if(le&&"<"==wd)return W(E(">"),Ob(Vc,">"),Wb,Ab)}function Fa(fc,wd){if("*"==wd)return re.marked="keyword",W(Fa);if("variable"==fc)return ia(wd),W(Fa);if("("==fc)return W(La,E(")"),Ob(Ka,")"),Wb,fe,
jb);if(le&&"<"==wd)return W(E(">"),Ob(Vc,">"),Wb,Fa)}function za(fc,wd){if("keyword"==fc||"variable"==fc)return re.marked="type",W(za);if("<"==wd)return W(E(">"),Ob(Vc,">"),Wb)}function Ka(fc,wd){"@"==wd&&W(Ga,Ka);return"spread"==fc?W(Ka):le&&K(wd)?(re.marked="keyword",W(Ka)):le&&"this"==fc?W(Bd,qe):Ea(ob,Bd,qe)}function Ib(fc,wd){return"variable"==fc?C(fc,wd):Pb(fc,wd)}function C(fc,wd){if("variable"==fc)return ia(wd),W(Pb)}function Pb(fc,wd){if("<"==wd)return W(E(">"),Ob(Vc,">"),Wb,Pb);if("extends"==
wd||"implements"==wd||le&&","==fc)return"implements"==wd&&(re.marked="keyword"),W(le?Hd:Ga,Pb);if("{"==fc)return W(E("}"),da,Wb)}function da(fc,wd){if("async"==fc||"variable"==fc&&("static"==wd||"get"==wd||"set"==wd||le&&K(wd))&&re.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return re.marked="keyword",W(da);if("variable"==fc||"keyword"==re.style)return re.marked="property",W(wa,da);if("number"==fc||"string"==fc)return W(wa,da);if("["==fc)return W(Ga,Bd,R("]"),wa,da);if("*"==wd)return re.marked="keyword",
W(da);if(le&&"("==fc)return Ea(Fa,da);if(";"==fc||","==fc)return W(da);if("}"==fc)return W();if("@"==wd)return W(Ga,da)}function wa(fc,wd){if("!"==wd||"?"==wd)return W(wa);if(":"==fc)return W(Hd,qe);if("="==wd)return W(sa);fc=re.state.lexical.prev;return Ea(fc&&"interface"==fc.info?Fa:Ab)}function ca(fc,wd){return"*"==wd?(re.marked="keyword",W(Qa,R(";"))):"default"==wd?(re.marked="keyword",W(Ga,R(";"))):"{"==fc?W(Ob(ma,"}"),Qa,R(";")):Ea(xb)}function ma(fc,wd){if("as"==wd)return re.marked="keyword",
W(R("variable"));if("variable"==fc)return Ea(sa,ma)}function u(fc){return"string"==fc?W():"("==fc?Ea(Ga):"."==fc?Ea(aa):Ea(O,P,Qa)}function O(fc,wd){if("{"==fc)return yc(O,"}");"variable"==fc&&ia(wd);"*"==wd&&(re.marked="keyword");return W(fa)}function P(fc){if(","==fc)return W(O,P)}function fa(fc,wd){if("as"==wd)return re.marked="keyword",W(O)}function Qa(fc,wd){if("from"==wd)return re.marked="keyword",W(Ga)}function Ua(fc){return"]"==fc?W():Ea(Ob(sa,"]"))}function Gb(){return Ea(E("form"),ob,R("{"),
E("}"),Ob(ta,"}"),Wb,Wb)}function ta(){return Ea(ob,qe)}function mc(fc,wd,Ie){return wd.tokenize==Za&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(wd.lastType)||"quasi"==wd.lastType&&/\{\s*$/.test(fc.string.slice(0,fc.pos-(Ie||0)))}var pc=ba.indentUnit,zd=wb.statementIndent,Pd=wb.jsonld,bd=wb.json||Pd,Yd=!1!==wb.trackScope,le=wb.typescript,Be=wb.wordCharacters||/[\w$\xa1-\uffff]/,Ne=function(){function fc(cd){return{type:cd,style:"keyword"}}var wd=fc("keyword a"),
Ie=fc("keyword b"),ff=fc("keyword c"),Pe=fc("keyword d"),Gf=fc("operator"),Vf={type:"atom",style:"atom"};return{"if":fc("if"),"while":wd,"with":wd,"else":Ie,"do":Ie,"try":Ie,"finally":Ie,"return":Pe,"break":Pe,"continue":Pe,"new":fc("new"),"delete":ff,"void":ff,"throw":ff,"debugger":fc("debugger"),"var":fc("var"),"const":fc("var"),let:fc("var"),"function":fc("function"),"catch":fc("catch"),"for":fc("for"),"switch":fc("switch"),"case":fc("case"),"default":fc("default"),"in":Gf,"typeof":Gf,"instanceof":Gf,
"true":Vf,"false":Vf,"null":Vf,undefined:Vf,NaN:Vf,Infinity:Vf,"this":fc("this"),"class":fc("class"),"super":fc("atom"),yield:ff,"export":fc("export"),"import":fc("import"),"extends":ff,await:ff}}(),Re=/[+\-*&%=<>!?|~^@]/,nf=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,af,yf,Ig={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"import":!0,"jsonld-keyword":!0},re={state:null,column:null,marked:null,cc:null},Ld=new pb("this",new pb("arguments",null));
La.lex=eb.lex=!0;jb.lex=!0;Wb.lex=!0;return{startState:function(fc){fc={tokenize:Za,lastType:"sof",cc:[],lexical:new ib((fc||0)-pc,0,"block",!1),localVars:wb.localVars,context:wb.localVars&&new ya(null,null,!1),indented:fc||0};wb.globalVars&&"object"==ic(wb.globalVars)&&(fc.globalVars=wb.globalVars);return fc},token:function(fc,wd){fc.sol()&&(wd.lexical.hasOwnProperty("align")||(wd.lexical.align=!1),wd.indented=fc.indentation(),db(fc,wd));if(wd.tokenize!=Cb&&fc.eatSpace())return null;var Ie=wd.tokenize(fc,
wd);if("comment"==af)return Ie;wd.lastType="operator"!=af||"++"!=yf&&"--"!=yf?af:"incdec";a:{var ff=af,Pe=yf,Gf=wd.cc;re.state=wd;re.stream=fc;re.marked=null;re.cc=Gf;re.style=Ie;wd.lexical.hasOwnProperty("align")||(wd.lexical.align=!0);for(;;)if((Gf.length?Gf.pop():bd?Ga:xb)(ff,Pe)){for(;Gf.length&&Gf[Gf.length-1].lex;)Gf.pop()();if(re.marked){Ie=re.marked;break a}if(fc="variable"==ff)b:if(Yd){for(fc=wd.localVars;fc;fc=fc.next)if(fc.name==Pe){fc=!0;break b}for(wd=wd.context;wd;wd=wd.prev)for(fc=
wd.vars;fc;fc=fc.next)if(fc.name==Pe){fc=!0;break b}fc=void 0}else fc=!1;if(fc){Ie="variable-2";break a}break a}}return Ie},indent:function(fc,wd){if(fc.tokenize==Cb||fc.tokenize==zb)return yb.passIndent;if(fc.tokenize!=Za)return 0;var Ie=wd&&wd.charAt(0),ff=fc.lexical,Pe;if(!/^\s*else\b/.test(wd))for(var Gf=fc.cc.length-1;0<=Gf;--Gf){var Vf=fc.cc[Gf];if(Vf==Wb)ff=ff.prev;else if(Vf!=nc&&Vf!=jb)break}for(;!("stat"!=ff.type&&"form"!=ff.type||"}"!=Ie&&(!(Pe=fc.cc[fc.cc.length-1])||Pe!=aa&&Pe!=Ma||/^[,\.=+\-*:?[\(]/.test(wd)));)ff=
ff.prev;zd&&")"==ff.type&&"stat"==ff.prev.type&&(ff=ff.prev);Pe=ff.type;Gf=Ie==Pe;return"vardef"==Pe?ff.indented+("operator"==fc.lastType||","==fc.lastType?ff.info.length+1:0):"form"==Pe&&"{"==Ie?ff.indented:"form"==Pe?ff.indented+pc:"stat"==Pe?(Ie=ff.indented,fc="operator"==fc.lastType||","==fc.lastType||Re.test(wd.charAt(0))||/[,.]/.test(wd.charAt(0)),Ie+(fc?zd||pc:0)):"switch"!=ff.info||Gf||0==wb.doubleIndentSwitch?ff.align?ff.column+(Gf?0:1):ff.indented+(Gf?0:pc):ff.indented+(/^(?:case|default)\b/.test(wd)?
pc:2*pc)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:bd?null:"/*",blockCommentEnd:bd?null:"*/",blockCommentContinue:bd?null:" * ",lineComment:bd?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:bd?"json":"javascript",jsonldMode:Pd,jsonMode:bd,expressionAllowed:mc,skipExpression:function(fc){var wd=fc.cc[fc.cc.length-1];wd!=Ga&&wd!=sa||fc.cc.pop()}}});yb.registerHelper("wordChars","javascript",/[\w$]/);yb.defineMIME("text/javascript","javascript");yb.defineMIME("text/ecmascript",
"javascript");yb.defineMIME("application/javascript","javascript");yb.defineMIME("application/x-javascript","javascript");yb.defineMIME("application/ecmascript","javascript");yb.defineMIME("application/json",{name:"javascript",json:!0});yb.defineMIME("application/x-json",{name:"javascript",json:!0});yb.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});yb.defineMIME("text/typescript",{name:"javascript",typescript:!0});yb.defineMIME("application/typescript",{name:"javascript",typescript:!0})}}});

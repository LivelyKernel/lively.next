System.register("./__root_module__-590131e3.js ./index-c8605e13.js ./world-c5059203.js ./index-2bc8c0f4.js ./index-1bb77cad.js ./color-picker-88b3ebcc.js ./object-classes-19c034e8.js ./user-ui-f568f4c6.js ./index-a9bf0ea0.js".split(" "),function(){var Sa,Lb,Vb,Fc,jc,sd,kd,Cd,ed,Zc,bd,yd,ke,ue,He,ld,Wd,gc,cd,Bd,hd,Jd,de,Zb,Ic,Ad,Jc,zd,Mb;return{setters:[function(mb){Sa=mb.M;Lb=mb.I;Vb=mb.T;Fc=mb.m;jc=mb.K;sd=mb.N;kd=mb.O;Cd=mb.Q;ed=mb.S;Zc=mb.V;bd=mb.W;yd=mb.b;ke=mb.R;ue=mb.C;He=mb.a;ld=mb.X;
Wd=mb.Y;gc=mb.q;cd=mb.r;Bd=mb.Z;hd=mb.c;Jd=mb.d;de=mb.o;Zb=mb._;Ic=mb.i},function(){},function(mb){Ad=mb.C;Jc=mb.S;zd=mb.a},function(mb){Mb=mb._},function(){},function(){},function(){},function(){},function(){}],execute:function(){var mb=lively.FreezerRuntime.recorderFor("LivelyTopBar/index.js");mb.Morph=Sa;mb.Icon=Lb;mb.Tooltip=Vb;mb.morph=Fc;mb.Text=jc;mb.Polygon=sd;mb.Label=kd;mb.Path=Cd;mb.Image=ed;mb.HTMLMorph=Zc;mb.Ellipse=bd;mb.pt=yd;mb.Rectangle=ke;mb.Color=ue;mb.arr=He;mb.Closure=ld;mb.obj=
Wd;mb.LoadingIndicator=gc;mb.resource=cd;mb.Canvas=Ad;mb.getClassName=Bd;mb.Selection=Jc;mb.SelectionElement=zd;mb.connect=hd;mb.signal=Jd;mb.once=de;mb.disconnect=Zb;mb.CommentBrowser=Mb;var Bc=function(xc){var ec=lively.FreezerRuntime.recorderFor("LivelyTopBar/index.js"),Dc=ec.hasOwnProperty("LivelyTopBar")&&"function"===typeof ec.LivelyTopBar?ec.LivelyTopBar:ec.LivelyTopBar=function(Ta){Ta&&Ta[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return Ic(Dc,xc,[{key:"__additionally_serialize__",value:function(Ta,hc,Eb,tc){Ic._get(Object.getPrototypeOf(Dc.prototype),"__additionally_serialize__",this).call(this,Ta,hc,Eb,tc);tc("haloFilterFn",this.getProperty("haloFilterFn"))}},{key:"registerCustomShape",value:function(Ta,hc,Eb,tc){this.shapeToClass[Ta]=hc;this.keyToShape[Eb]=Ta;this.shapeToIcon[Ta]={shortcut:Eb,args:tc};this.shapesCreatedViaDrag.push(hc)}},{key:"beforePublish",value:function(){this.activeSideBars=[];this.currentShapeMode=
"Rectangle";this.setEditMode("Halo")}},{key:"onLoad",value:function(){var Ta=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(hc){if(1==hc.nextAddress)return Ta.isComponent?hc.return():hc.yield(Ta.whenRendered(),2);delete Ta.shapeToIcon._rev;document.body.style.background="black";Ta.setEditMode("Halo");Ta.userFlap.getSubmorphNamed("fast load toggler").refresh();hc.jumpToEnd()})}},{key:"onUserChanged",value:function(Ta){this.userFlap.onUserChanged(Ta)}},{key:"relayout",value:function(){this.respondsToVisibleWindow&&
(this.width=this.world().visibleBounds().width,this.position=mb.pt(0,0))}},{key:"adjustElements",value:function(){var Ta=this.get("ipad status bar");Ta&&(Ta.width=this.width);this.userFlap.owner==this&&(this.userFlap.right=this.width-10,this.userFlap.visible=750<this.width)}},{key:"getShapeMenuItems",value:function(){var Ta=this;return Object.entries(this.shapeToIcon).map(function(hc){hc=$jscomp.makeIterator(hc);var Eb=hc.next().value,tc=hc.next().value;hc=tc.shortcut;tc=tc.args;return[[].concat($jscomp.arrayFromIterable(Ta.currentShapeMode===
Eb?[].concat($jscomp.arrayFromIterable(mb.Icon.textAttribute("check",{fontSize:11,paddingTop:"2px"})),["   ",{}]):["     ",{}]),$jscomp.arrayFromIterable(mb.Icon.textAttribute.apply(mb.Icon,$jscomp.arrayFromIterable(tc))),["   "+Eb+" ",{float:"none"},"      "+hc,{float:"right",fontSize:11,opacity:.5,fontFamily:"IBM Plex Mono"}]),function(){Ta.currentShapeMode=Eb;Ta.setEditMode("Shape")}]})}},{key:"getSideBarMenuItems",value:function(){var Ta=this;return Object.entries(this.sideBarToIcon).map(function(hc){hc=
$jscomp.makeIterator(hc);var Eb=hc.next().value;hc=hc.next().value.args;return[[].concat($jscomp.arrayFromIterable(Ta.activeSideBars.includes(Eb)?[].concat($jscomp.arrayFromIterable(mb.Icon.textAttribute("check",{fontSize:11,paddingTop:"2px"})),["   ",{}]):["     ",{}]),$jscomp.arrayFromIterable(mb.Icon.textAttribute.apply(mb.Icon,$jscomp.arrayFromIterable(hc))),["   "+Eb+" ",{float:"none"}]),function(){return Ta.openSideBar(Eb)}]})}},{key:"reloadSidebar",value:function(){this.sideBar.remove();this.sideBar=
null;this.stylingPalette.remove();this.stylingPalette=null;this.openSideBar("Scene Graph");this.openSideBar("Styling Palette")}},{key:"onKeyUp",value:function(Ta){"Hand"==this._tmpEditMode&&this.setEditMode("Hand",!0)}},{key:"onKeyDown",value:function(Ta){Ic._get(Object.getPrototypeOf(Dc.prototype),"onKeyDown",this).call(this,Ta);if(Ta.isCommandKey()&&"Hand"==this._tmpEditMode)this.setEditMode("Halo",!0);else if(!Ta.isAltDown()){var hc=this.keyToShape;if(hc[Ta.key])this.currentShapeMode=hc[Ta.key],
this.setEditMode("Shape");else switch(Ta.key){case "Escape":this.setEditMode("Halo");break;case "T":this.setEditMode("Text")}}}},{key:"openSideBar",value:function(Ta){var hc=this,Eb,tc,Ec,ad,td;return $jscomp.asyncExecutePromiseGeneratorProgram(function(fc){switch(fc.nextAddress){case 1:hc.activeSideBars.includes(Ta)?mb.arr.remove(hc.activeSideBars,Ta):hc.activeSideBars.push(Ta);if("Scene Graph"!=Ta){fc.jumpTo(2);break}if(hc.sideBar){fc.jumpTo(3);break}Eb=mb.LoadingIndicator.open("loading side bar");
return fc.yield(Eb.whenRendered(),4);case 4:return tc=hc,fc.yield(mb.resource("part://SystemIDE/scene graph side bar master").read(),5);case 5:return tc.sideBar=fc.yieldResult,hc.sideBar.hasFixedPosition=!0,hc.sideBar.respondsToVisibleWindow=!0,hc.sideBar.openInWorld(),hc.sideBar.right=0,fc.yield(hc.sideBar.whenRendered(),6);case 6:Eb.remove();case 3:return fc.yield(hc.sideBar.toggle(hc.activeSideBars.includes("Scene Graph")),2);case 2:if("Styling Palette"!=Ta){fc.jumpTo(8);break}if(hc.stylingPalette){fc.jumpTo(9);
break}Ec=mb.LoadingIndicator.open("loading side bar");return fc.yield(Ec.whenRendered(),10);case 10:return ad=hc,fc.yield(mb.resource("part://SystemIDE/styling side bar master").read(),11);case 11:return ad.stylingPalette=fc.yieldResult,hc.stylingPalette.collapseAll(),hc.stylingPalette.hasFixedPosition=!0,hc.stylingPalette.respondsToVisibleWindow=!0,hc.stylingPalette.openInWorld(),hc.stylingPalette.left=hc.world().width,hc.stylingPalette.relayout(),fc.yield(hc.stylingPalette.whenRendered(),12);case 12:Ec.remove();
case 9:return fc.yield(hc.stylingPalette.toggle(hc.activeSideBars.includes("Styling Palette")),8);case 8:(td=hc.get("lively version checker"))&&td.owner==$world&&td.relayout(),fc.jumpToEnd()}})}},{key:"onMouseDown",value:function(Ta){var hc=this.get("select shape type"),Eb=this.get("shape mode button"),tc=this.get("side bar selector"),Ec=this.primaryTarget||this.world();Ta.targetMorph==hc&&(this.world().openWorldMenu(Ta,this.getShapeMenuItems()).position=Eb.globalBounds().bottomLeft().subPt(this.world().scroll));
"undo button"==Ta.targetMorph.name&&Ec.execCommand("undo");"redo button"==Ta.targetMorph.name&&Ec.execCommand("redo");"save button"==Ta.targetMorph.name&&$world.execCommand("save world");Ta.targetMorph==Eb&&this.setEditMode("Shape");"text mode button"==Ta.targetMorph.name&&this.setEditMode("Text");"hand mode button"==Ta.targetMorph.name&&this.setEditMode("Hand");"halo mode button"==Ta.targetMorph.name&&this.setEditMode("Halo");"open component browser"==Ta.targetMorph.name&&this.interactivelyLoadComponent();
"load world button"==Ta.targetMorph.name&&this.world().execCommand("load world");"comment browser button"==Ta.targetMorph.name&&this.toggleCommentBrowser();Ta.targetMorph==tc&&(this.world().openWorldMenu(Ta,this.getSideBarMenuItems()).position=tc.globalBounds().bottomLeft().subPt(this.world().scroll))}},{key:"colorCommentBrowserButton",value:function(){var Ta=this.get("user flap"),hc=Ta.haloShadow;Ta=Ta.haloColor;var Eb=this.get("comment browser button");Eb.fontColor=Ta;Eb.dropShadow=hc}},{key:"uncolorCommentBrowserButton",
value:function(){var Ta=this.get("comment browser button"),hc=mb.Color.rgb(102,102,102);Ta.dropShadow=!1;Ta.fontColor=hc}},{key:"toggleCommentBrowser",value:function(){var Ta=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(hc){mb.CommentBrowser.isOpen()?Ta.uncolorCommentBrowserButton():Ta.colorCommentBrowserButton();return hc.yield(Ta.world().execCommand("toggle comment browser"),0)})}},{key:"commentCountBadge",get:function(){return this.get("comment browser button").get("comment count badge")}},
{key:"interactivelyLoadComponent",value:function(){var Ta=this,hc,Eb,tc,Ec,ad;return $jscomp.asyncExecutePromiseGeneratorProgram(function(td){if(1==td.nextAddress)return hc=Ta.get("open component browser"),Eb=Ta.userFlap,tc=Eb.haloShadow,Ec=Eb.haloColor,ad=mb.Color.rgb(102,102,102),hc.fontColor=Ec,hc.dropShadow=tc,td.yield(Ta.world().execCommand("browse and load component"),2);hc.dropShadow=!1;hc.fontColor=ad;td.jumpToEnd()})}},{key:"setEditMode",value:function(Ta,hc){var Eb=this;hc=void 0===hc?!1:
hc;this.editMode=Ta;var tc=this.primaryTarget||this.world(),Ec=this.userFlap,ad=Ec.haloShadow,td=Ec.haloColor,fc=mb.Color.rgb(102,102,102);hc||(this._tmpEditMode=Ta);Ec=this.get("shape mode button");var zc=this.get("text mode button"),ac=this.get("hand mode button"),Oa=this.get("halo mode button");[["Shape",Ec.submorphs],["Text",[zc]],["Hand",[ac]],["Halo",[Oa]]].forEach(function(Da){var ka=$jscomp.makeIterator(Da);Da=ka.next().value;ka=ka.next().value;"Shape"==Ta?Eb.toggleShapeMode(tc,!0,Eb.currentShapeMode):
"Text"==Ta?Eb.toggleShapeMode(tc,!0,"Text"):Eb.toggleShapeMode(tc,!1);Eb.showHaloPreviews("Halo"==Ta);hc||"Halo"==Ta||Eb.world().halos().forEach(function(Ba){return Ba.remove()});Da==Ta?ka.forEach(function(Ba){Ba.dropShadow=ad;Ba.fontColor=td}):ka.forEach(function(Ba){Ba.dropShadow=null;Ba.fontColor=fc})})}},{key:"canBeCreatedViaDrag",value:function(Ta){return this.shapesCreatedViaDrag.includes(Ta)}},{key:"toggleShapeMode",value:function(Ta,hc,Eb){var tc=this.shapeToClass;hc?(Ta.nativeCursor="crosshair",
Ta._yieldShapeOnClick=tc[Eb]):(Ta._yieldShapeOnClick=!1,Ta.nativeCursor="auto")}},{key:"handleShapeCreation",value:function(Ta){var hc=this.primaryTarget||this.world(),Eb=hc._yieldShapeOnClick;if(!Eb)return!1;hc._sizeTooltip&&hc._sizeTooltip.remove();if(Ta.targetMorph!=hc)return!1;if(hc._shapeRequest&&Eb&&!hc._yieldedShape){var tc=hc.localize(this.world().firstHand.position);switch(Eb){case mb.Image:hc.addMorph(mb.morph({type:Eb,position:tc,extent:mb.pt(150,150),fill:mb.Color.transparent,imageUrl:"https://i.imgur.com/uGRFZEs.jpg"}));
break;case mb.Label:hc.addMorph(mb.morph({type:Eb,position:tc,value:"I am a label!",fill:mb.Color.transparent}));break;case mb.Text:if(Ta.targetMorph.isText)return;hc.addMorph(mb.morph({type:Eb,position:tc,readOnly:!0,textString:"I am a text field!",fill:mb.Color.transparent}))}}Eb==mb.Text&&hc._yieldedShape?hc._yieldedShape.focus():hc._yieldedShape&&hc._yieldedShape.owner&&this.showHaloFor(hc._yieldedShape);hc._yieldedShape=null;hc._shapeRequest=!1}},{key:"prepareShapeCreation",value:function(Ta){var hc=
this.primaryTarget||this.world(),Eb=hc._yieldShapeOnClick;if(!Eb||!this.canBeCreatedViaDrag(Eb))return!1;hc._yieldedShape=mb.morph(Object.assign({type:Eb,position:Ta.positionIn(hc),extent:mb.pt(1,1),fill:mb.Color.transparent,borderWidth:1,borderColor:mb.Color.rgb(23,160,251),fixedHeight:!0,fixedWidth:!0,lineWrapping:!0},Eb==mb.Text?this.getDefaultTextAttrs():{},{},Eb==mb.Image?this.getImageDefaultAttrs():{},{},Eb==mb.Polygon?this.getPolyDefaultAttrs():{},{},Eb==mb.Path?this.getPathDefaultAttrs():
{}));hc._sizeTooltip=mb.morph({type:mb.Tooltip,padding:mb.Rectangle.inset(5,5,5,5),styleClasses:["Tooltip"]}).openInWorld();return!0}},{key:"getPolyDefaultAttrs",value:function(){return{vertices:[mb.pt(131.4,86.3),mb.pt(171,139.6),mb.pt(105.9,119.9),mb.pt(65.3,172.5),mb.pt(64.7,107),mb.pt(0,86.3),mb.pt(64.7,65.5),mb.pt(65.3,0),mb.pt(105.9,52.6),mb.pt(171,32.9),mb.pt(131.4,86.3)],borderWidth:1}}},{key:"getPathDefaultAttrs",value:function(){return{vertices:[mb.pt(0,0),mb.pt(1,1)],borderWidth:1}}},{key:"getImageDefaultAttrs",
value:function(){return{imageUrl:"https://i.imgur.com/uGRFZEs.jpg"}}},{key:"getDefaultTextAttrs",value:function(){return{readOnly:!0}}},{key:"yieldShapeIfNeeded",value:function(Ta){var hc=this.primaryTarget||this.world();return hc._yieldedShape?(!hc._yieldedShape.owner&&10<Ta.state.absDragDelta.r()&&hc.addMorph(hc._yieldedShape),hc._yieldedShape.extent=Ta.positionIn(hc.world()).subPt(Ta.state.dragStartPosition).subPt(mb.pt(1,1)).maxPt(mb.pt(1,1)),hc._sizeTooltip.description=hc._yieldShapeOnClick[Symbol.for("__LivelyClassName__")]+
": "+hc._yieldedShape.width.toFixed(0)+"x"+hc._yieldedShape.height.toFixed(0),hc._sizeTooltip.topLeft=Ta.positionIn(hc.world()).addXY(15,15),!0):!1}},{key:"handleHaloSelection",value:function(Ta){var hc=this.world(),Eb=this.primaryTarget||hc,tc=$jscomp.makeIterator(hc.halos()).next().value;this._showHaloPreview&&this._currentlyHighlighted&&0==hc.halos().length&&(Ta.stop(),hc.getSubmorphsByStyleClassName("HaloPreview").forEach(function(Ec){return Ec.remove()}),this.showHaloFor(this._currentlyHighlighted));
Ta.targetMorph&&console.log(Ta.targetMorph);tc&&tc.target==Ta.state.prevClick.clickedOnMorph&&"border-box"==Ta.targetMorph.name&&50>Ta.state.timeOfLastActivity-Ta.state.prevClick.clickedAtTime?tc.temporaryEditTextMorph(Ta):Ta.targetMorph==Eb&&(Eb._shapeRequest=!0)}},{key:"showHaloFor",value:function(Ta){var hc=this;if(Ta){if(mb.obj.isArray(Ta)){if(0==Ta.length)return;var Eb=this.world().showHaloForSelection(Ta)}else Eb=this.world().showHaloFor(Ta);mb.once(Eb,"remove",function(){Eb.target!=hc.world().focusedMorph&&
mb.signal(hc.primaryTarget,"onHaloRemoved",Ta)});this.activeHaloItems.includes("*")||(Eb.activeItems=this.activeHaloItems);Eb.topBar=this;mb.signal(this.primaryTarget,"onHaloOpened",Ta)}}},{key:"handleHaloPreview",value:function(Ta){var hc=this;if(this._showHaloPreview){var Eb=this.haloFilterFn,tc=this.primaryTarget||this.world(),Ec=tc.morphsContainingPoint(Ta.positionIn(tc.world()));"hoverout"==Ta.type&&(Ec=[tc]);Ta=Ec.filter(function(ad){return Eb(ad)&&ad.halosEnabled&&[ad].concat($jscomp.arrayFromIterable(ad.ownerChain())).every(function(td){return td.visible&&
0<td.opacity&&!td.styleClasses.includes("HaloPreview")})})[0];Ec.find(function(ad){return ad.isMenuItem||ad==hc.sideBar||ad==hc.stylingPalette})?(this._currentlyHighlighted=!1,this.clearHaloPreviews()):this.showHaloPreviewFor(Ta)}}},{key:"showHaloPreviewFor",value:function(Ta){var hc=this.primaryTarget||this.world();if(Ta&&(![Ta].concat($jscomp.arrayFromIterable(Ta.ownerChain())).find(function(Eb){return Eb.isComponent})&&Ta.getWindow()?Ta=null:[Ta].concat($jscomp.arrayFromIterable(Ta.ownerChain())).find(function(Eb){return Eb.isEpiMorph})?
Ta=null:Ta==hc&&(Ta=null),this._currentlyHighlighted!=Ta&&(this.clearHaloPreviews(),this._currentlyHighlighted=Ta),!(0<this.world().halos().length)&&Ta)){this._previewCache||(this._previewCache=new WeakMap);hc=mb.Morph;switch(mb.getClassName(Ta)){case "Ellipse":hc=mb.Ellipse}hc=this._previewCache.get(Ta)||mb.morph({type:hc,styleClasses:["HaloPreview"],epiMorph:!0,fill:mb.Color.transparent,reactsToPointer:!1,halosEnabled:!1,acceptsDrops:!1,border:{color:mb.Color.rgb(23,160,251),width:1}});hc.owner||
this.world().addMorph(hc);hc.setBounds(Ta.globalBounds());hc.borderColor=mb.Color.rgb(23,160,251);hc.borderStyle="solid";Ta.master&&(hc.borderColor=mb.Color.purple);Ta.ownerChain().find(function(Eb){return Eb.master&&Eb.master.managesMorph(Ta)})&&(hc.borderColor=mb.Color.purple,hc.borderStyle="dotted");Ta.isComponent&&(hc.borderColor=mb.Color.magenta);this._previewCache.set(Ta,hc)}}},{key:"showHaloPreviews",value:function(Ta){Ta||this.clearHaloPreviews();this._showHaloPreview=Ta}},{key:"clearHaloPreviews",
value:function(){this.world().getSubmorphsByStyleClassName("HaloPreview").forEach(function(Ta){return Ta.remove()})}},{key:"prepareDragSelection",value:function(Ta){var hc=(this.primaryTarget||this.world()).world();this._selectionStartPos=Ta.positionIn(hc);this._morphSelection=hc.addMorph({type:mb.Selection,epiMorph:!0,reactsToPointer:!1,position:this._selectionStartPos,extent:Ta.state.dragDelta});this._selectedMorphs={}}},{key:"adjustDragSelection",value:function(Ta){var hc=this,Eb=this.primaryTarget||
this.world(),tc=Eb.world(),Ec=mb.Rectangle.fromAny(Ta.position,this._selectionStartPos);this._morphSelection.setBounds(Ec);Eb.submorphs.forEach(function(ad){if(!ad.isSelectionElement&&!ad.isHand){var td=ad.globalBounds(),fc=Ec.containsRect(td);!hc._selectedMorphs[ad.id]&&fc&&(hc._selectedMorphs[ad.id]=tc.addMorph({type:mb.SelectionElement,bounds:td},hc._morphSelection));hc._selectedMorphs[ad.id]&&!fc&&(hc._selectedMorphs[ad.id].remove(),delete hc._selectedMorphs[ad.id])}})}},{key:"finishDragSelectionIfNeeded",
value:function(Ta){if(this._morphSelection){var hc=this.world();this._morphSelection.fadeOut(200);mb.obj.values(this._selectedMorphs).map(function(Eb){return Eb.remove()});this.showHaloFor(Object.keys(this._selectedMorphs).map(function(Eb){return hc.getMorphWithId(Eb)}));this._selectedMorphs={};this._morphSelection=null}}},{key:"onTargetDragStart",value:function(Ta){!this.prepareShapeCreation(Ta)&&Ta.leftMouseButtonPressed()&&this.prepareDragSelection(Ta)}},{key:"onTargetDrag",value:function(Ta){!this.yieldShapeIfNeeded(Ta)&&
this._morphSelection&&this.adjustDragSelection(Ta)}},{key:"detachFromTarget",value:function(Ta){mb.disconnect(Ta,"onMouseMove",this,"handleHaloPreview");mb.disconnect(Ta,"onMouseDown",this,"handleHaloSelection");mb.disconnect(Ta,"onMouseUp",this,"handleShapeCreation");mb.disconnect(Ta,"onDragStart",this,"onTargetDragStart");mb.disconnect(Ta,"onDrag",this,"onTargetDrag");mb.disconnect(Ta,"onDragEnd",this,"finishDragSelectionIfNeeded")}},{key:"attachToTarget",value:function(Ta){this.primaryTarget&&
this.detachFromTarget(this.primaryTarget);this.primaryTarget=Ta;this.setEditMode("Halo");mb.connect(Ta,"onMouseMove",this,"handleHaloPreview",{garbageCollect:!0});mb.connect(Ta,"onHoverOut",this,"handleHaloPreview",{garbageCollect:!0});mb.connect(Ta,"onMouseDown",this,"handleHaloSelection",{garbageCollect:!0});mb.connect(Ta,"onMouseUp",this,"handleShapeCreation",{garbageCollect:!0});mb.connect(Ta,"onDragStart",this,"onTargetDragStart",{garbageCollect:!0});mb.connect(Ta,"onDrag",this,"onTargetDrag",
{garbageCollect:!0});mb.connect(Ta,"onDragEnd",this,"finishDragSelectionIfNeeded",{garbageCollect:!0})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LivelyTopBar"}},{key:"properties",get:function(){return{isTopBar:{readOnly:!0,get:function(){return!0}},activeHaloItems:{initialize:function(Ta){Ta||(this.activeHaloItems=["*"])}},primaryTarget:{doc:"A reference to the morph that the top bar considers its primary target",defaultValue:null},haloFilterFn:{defaultValue:"() => true",derived:!0,
set:function(Ta){this.setProperty("haloFilterFn",Ta)},get:function(){return mb.Closure.fromSource(this.getProperty("haloFilterFn"),{target:this.primaryTarget}).asFunction()}},userFlap:{},activeSideBars:{},currentShapeMode:{after:["submorphs"],set:function(Ta){this.setProperty("currentShapeMode",Ta);this.get("shape status icon").textAndAttributes=mb.Icon.textAttribute(this.shapeToIcon[Ta].args[0])}},sideBarToIcon:{readOnly:!0,get:function(){return{"Scene Graph":{args:["sitemap",{textStyleClasses:["fas"]}]},
"Styling Palette":{args:["palette",{textStyleClasses:["fas"]}]}}}},shapeToIcon:{initialize:function(Ta){this.shapeToIcon=Ta||{Rectangle:{shortcut:"R",args:["square",{textStyleClasses:["fas"]}]},Ellipse:{shortcut:"E",args:["circle",{textStyleClasses:["fas"]}]},Image:{shortcut:"I",args:["image",{textStyleClasses:["fas"],paddingTop:"1px"}]},Path:{shortcut:"P",args:["bezier-curve",{fontSize:13,paddingTop:"3px"}]},Polygon:{shortcut:"Q",args:["draw-polygon",{fontSize:17}]},Label:{shortcut:"L",args:["tag",
{paddingTop:"1px"}]},Canvas:{shortcut:"C",args:["chess-board",{paddingTop:"1px"}]},HTML:{shortcut:"H",args:["code",{paddingTop:"1px"}]}}}},keyToShape:{initialize:function(Ta){this.keyToShape=Ta||{R:"Rectangle",E:"Ellipse",I:"Image",P:"Path",Q:"Polygon",L:"Label",C:"Canvas",H:"HTML"}}},shapeToClass:{serialize:!1,defaultValue:{Rectangle:mb.Morph,Ellipse:mb.Ellipse,HTML:mb.HTMLMorph,Canvas:mb.Canvas,Image:mb.Image,Path:mb.Path,Label:mb.Label,Polygon:mb.Polygon,Text:mb.Text}},shapesCreatedViaDrag:{serialize:!1,
initialize:function(){this.shapesCreatedViaDrag=[mb.Morph,mb.Ellipse,mb.HTMLMorph,mb.Canvas,mb.Text,mb.Polygon,mb.Path,mb.Image]}}}}}],ec,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"LivelyTopBar",version:"0.1.1-280"}}},{start:740,end:25265})}(mb.Morph);Bc=mb.LivelyTopBar;mb.default=Bc}}});
System.register("./__rootModule___commonjs-entry-71573ff5.js ./index-d18accbd.js ./text-editor-408ce72a.js @babel/plugin-syntax-import-meta ./loading-indicator.cp-b18e3b89.js ./tooltips.cp-6a2406c0.js ./editor-plugin-0a8dd45b.js ./ui.cp-6289a670.js ./index-1c08552a.js ./interface-dc23a2c8.js ./index-ca98f65e.js ./index-c79abca0.js ./value-widgets-6cb12552.js ./list.cp-8569fe93.js ./popups.cp-68dc8a4a.js ./editor-modes-5e094c88.js ./messages.cp-7a7411e4.js".split(" "),function(Lc){var pd,Nd,Tc,Jc,
$d,Bb,rd,Id,Ac,Pc,gd,nd,Fd,ic,vd,sb,Xb,Nb,bc,hb,cb;return{setters:[function(Hb){pd=Hb.M;Nd=Hb.a$;Tc=Hb.L;Jc=Hb.o;$d=Hb.j;Bb=Hb.f;rd=Hb.d;Id=Hb.n;Ac=Hb.b8;Pc=Hb.k;gd=Hb.b;nd=Hb.R;Fd=Hb.C;ic=Hb.w;vd=Hb.g;sb=Hb._;Xb=Hb.i;Nb=Hb.x},function(Hb){bc=Hb.b;hb=Hb.T},function(Hb){cb=Hb["default"]},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var Hb=window.lively.FreezerRuntime.recorderFor("lively.ide/http-file-browser.js");
Hb.Morph=pd;Hb.Image=Nd;Hb.Label=Tc;Hb.InputLine=Jc;Hb.Tree=bc;Hb.TreeData=hb;Hb.arr=$d;Hb.fun=Bb;Hb.promise=rd;Hb.num=Id;Hb.date=Ac;Hb.string=Pc;Hb.pt=gd;Hb.Rectangle=nd;Hb.Color=Fd;Hb.connect=ic;Hb.resource=vd;Hb.TextEditor=cb;Hb.browserCommands=[{name:"open selected file",exec:function(ub){var yb=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{openInNewBrowser:!1};if(ub.ui.locationInput.isFocused())return!1;var ba=ub.selectedFile;if(ba){if(yb.openInNewBrowser){var wb=ub.ui.fileTree.buildViewState(function(Sb){return Sb.resource.url}),
Xa=Hb.HTTPFileBrowser.forFile(ub.selectedFile,ub.location);yb=ub.getWindow().position.addXY(10,10);ub.world().openInWindow(Xa,{position:yb}).activate();return Xa.whenFinishedLoading().then(function(){return Xa.ui.fileTree.applyViewState(wb,function(Sb){return Sb.resource.url})}).then(function(){return Xa})}if(ba.isDirectory())ub.execCommand("set location to selection");else if(ba.url.endsWith(".svg")||ba.url.endsWith(".png"))(new Hb.Image({name:ba.url,imageUrl:ba.url,autoResize:!0})).openInWorld();
else{var Za=Hb.TextEditor.openURL(ba.url,{extent:Hb.pt(600,800)});setTimeout(function(){return Za.getWindow().activate()},100)}}else ub.setStatusMessage("No file selected");return!0}},{name:"focus file tree",exec:function(ub){ub=ub.ui.fileTree;ub.show();ub.focus();return!0}},{name:"focus location input",exec:function(ub){ub=ub.ui.locationInput;ub.show();ub.focus();return!0}},{name:"set location to selection",exec:function(){var ub=sb(regeneratorRuntime.mark(function wb(ba){var Xa;return regeneratorRuntime.wrap(function(Za){for(;;)switch(Za.prev=
Za.next){case 0:Xa=ba.selectedFile;Za.t0=Xa;if(!Za.t0){Za.next=5;break}Za.next=5;return ba.keepFileTreeStateWhile(function(){return ba.location=Xa.isDirectory()?Xa:Xa.parent()});case 5:return Za.abrupt("return",!0);case 6:case "end":return Za.stop()}},wb)}));return function(ba){return ub.apply(this,arguments)}}()},{name:"set location to parent dir",exec:function(){var ub=sb(regeneratorRuntime.mark(function wb(ba){var Xa;return regeneratorRuntime.wrap(function(Za){for(;;)switch(Za.prev=Za.next){case 0:Xa=
ba.location;if(!Xa.isRoot()){Za.next=3;break}return Za.abrupt("return",!0);case 3:return Za.next=5,ba.keepFileTreeStateWhile(sb(regeneratorRuntime.mark(function Cb(){return regeneratorRuntime.wrap(function(Da){for(;;)switch(Da.prev=Da.next){case 0:return Da.next=2,ba.openLocation(Xa.parent());case 2:return ba.selectedFile=Xa,Da.next=5,ba.ui.fileTree.execCommand("uncollapse selected node");case 5:case "end":return Da.stop()}},Cb)})));case 5:return Za.abrupt("return",!0);case 6:case "end":return Za.stop()}},
wb)}));return function(ba){return ub.apply(this,arguments)}}()},{name:"copy file path to clipboard",exec:function(){var ub=sb(regeneratorRuntime.mark(function wb(ba){var Xa;return regeneratorRuntime.wrap(function(Za){for(;;)switch(Za.prev=Za.next){case 0:if(!ba.ui.locationInput.isFocused()){Za.next=2;break}return Za.abrupt("return",!1);case 2:if(!ba.selectedFile){Za.next=8;break}Xa=ba.get("selectedFileName");ba.env.eventDispatcher.doCopy(Xa.textString);Xa.fontColor=Hb.Color.rgb(52,152,219);Za.next=
8;return Xa.animate({customTween:function(Sb){return Xa.fontColor=Hb.Color.rgb(52,152,219).interpolate(Sb,Hb.Color.black)}});case 8:return Za.abrupt("return",!0);case 9:case "end":return Za.stop()}},wb)}));return function(ba){return ub.apply(this,arguments)}}()},{name:"refresh contents",exec:function(ub,yb,ba,wb){return wb&&"input-g"===wb.keyCombo&&ub.ui.locationInput.isFocused()?!1:sb(regeneratorRuntime.mark(function Za(){var Sb;return regeneratorRuntime.wrap(function(Cb){for(;;)switch(Cb.prev=Cb.next){case 0:return Sb=
ub.ui.fileTree.scroll,Cb.next=3,ub.keepFileTreeStateWhile(function(){return ub.location=ub.location});case 3:return ub.ui.fileTree.scroll=Sb,Cb.abrupt("return",!0);case 5:case "end":return Cb.stop()}},Za)}))()}},{name:"set file filter",exec:function(){var ub=sb(regeneratorRuntime.mark(function wb(ba){var Xa,Za;return regeneratorRuntime.wrap(function(Sb){for(;;)switch(Sb.prev=Sb.next){case 0:return ba.excludeFiles=ba.excludeFiles||[],Sb.next=3,ba.world().editListPrompt("Add or remove items to be excluded from the file list",
ba.excludeFiles,{requester:ba});case 3:Xa=Sb.sent;Za=Xa.list;if(!Za){Sb.next=9;break}ba.excludeFiles=Za;Sb.next=9;return ba.execCommand("refresh contents");case 9:return Sb.abrupt("return",!0);case 10:case "end":return Sb.stop()}},wb)}));return function(ba){return ub.apply(this,arguments)}}()},{name:"add directory",exec:function(){var ub=sb(regeneratorRuntime.mark(function wb(ba){var Xa,Za,Sb;return regeneratorRuntime.wrap(function(Cb){for(;;)switch(Cb.prev=Cb.next){case 0:return Xa=ba.selectedFile||
ba.location,Xa.isDirectory()||(Xa=Xa.parent()),Cb.next=4,ba.world().prompt("Enter name of new directory:",{input:Xa.url,requester:ba,historyId:"lively.ide/http-file-browser-file-name-query"});case 4:if(Za=Cb.sent){Cb.next=9;break}ba.world().inform("Add directory canceled",{requester:ba});Cb.next=16;break;case 9:return Sb=Hb.resource(Za),Sb.isDirectory()||(Sb=Sb.asDirectory()),Cb.next=13,Sb.ensureExistance();case 13:return Cb.next=15,ba.execCommand("refresh contents");case 15:ba.selectedFile=Sb;case 16:return Cb.abrupt("return",
!0);case 17:case "end":return Cb.stop()}},wb)}));return function(ba){return ub.apply(this,arguments)}}()},{name:"add file",exec:function(){var ub=sb(regeneratorRuntime.mark(function wb(ba){var Xa,Za,Sb;return regeneratorRuntime.wrap(function(Cb){for(;;)switch(Cb.prev=Cb.next){case 0:return Xa=ba.selectedFile||ba.location,Xa.isDirectory()||(Xa=Xa.parent()),Cb.next=4,ba.world().prompt("Enter name of new file:",{input:Xa.url,requester:ba,historyId:"lively.ide/http-file-browser-file-name-query"});case 4:if(Za=
Cb.sent){Cb.next=9;break}ba.world().inform("Add file canceled",{requester:ba});Cb.next=16;break;case 9:return Sb=Hb.resource(Za),Sb.isDirectory()&&(Sb=Sb.asFile()),Cb.next=13,Sb.ensureExistance("");case 13:return Cb.next=15,ba.execCommand("refresh contents");case 15:ba.selectedFile=Sb;case 16:return Cb.abrupt("return",!0);case 17:case "end":return Cb.stop()}},wb)}));return function(ba){return ub.apply(this,arguments)}}()},{name:"delete file or directory",exec:function(ub){return ub.ui.locationInput.isFocused()?
!1:ub.selectedFile?sb(regeneratorRuntime.mark(function ba(){var wb,Xa,Za;return regeneratorRuntime.wrap(function(Sb){for(;;)switch(Sb.prev=Sb.next){case 0:return Sb.next=2,ub.world().confirm(["Confirm Delete\n",{},"Do you really want to remove\n",{fontWeight:"normal",fontSize:16},"".concat(ub.selectedFile.url,"?"),{fontStyle:"italic",fontWeight:"normal",fontSize:16}],{requester:ub,lineWrapping:!1});case 2:wb=Sb.sent;if(!wb){Sb.next=15;break}Xa=ub.selectedFile;Za=ub.ui.fileTree.selectedIndex;Sb.next=
8;return Xa.remove();case 8:return Sb.next=10,ub.execCommand("refresh contents");case 10:return Sb.next=12,ub.whenFinishedLoading();case 12:ub.ui.fileTree.selectedIndex=Za;Sb.next=16;break;case 15:ub.world().inform("Delete canceled",{requester:ub});case 16:case "end":return Sb.stop()}},ba)}))():(ub.setStatusMessage("Nothing selected"),!0)}},{name:"rename file",exec:function(ub){return ub.selectedFile?sb(regeneratorRuntime.mark(function ba(){var wb,Xa,Za,Sb,Cb;return regeneratorRuntime.wrap(function(Da){for(;;)switch(Da.prev=
Da.next){case 0:return Da.next=2,ub.world().prompt(["Rename\n",{},"".concat(ub.selectedFile.url),{fontStyle:"italic",fontWeight:"normal",fontSize:16}],{input:ub.selectedFile.url,requester:ub,historyId:"lively.ide/http-file-browser-file-name-query"});case 2:if(wb=Da.sent){Da.next=6;break}ub.world().inform("Rename canceled",{requester:ub});return Da.abrupt("return",!0);case 6:Xa=ub.selectedFile;Za=Hb.resource(wb);if(!Xa.isDirectory()){Da.next=14;break}Za.isDirectory()||(Za=Za.asDirectory());Da.next=
12;return Za.ensureExistance();case 12:Da.next=20;break;case 14:return Da.next=16,Xa.read();case 16:return Sb=Da.sent,Za.isDirectory()&&(Za=Za.asFile()),Da.next=20,Za.ensureExistance(Sb);case 20:return Da.next=22,Xa.remove();case 22:return Da.next=24,ub.execCommand("refresh contents");case 24:Cb=ub.location;if(Cb.isParentOf(Za)){Da.next=28;break}Da.next=28;return ub.keepFileTreeStateWhile(sb(regeneratorRuntime.mark(function db(){return regeneratorRuntime.wrap(function(ib){for(;;)switch(ib.prev=ib.next){case 0:return ib.next=
2,ub.openLocation(Cb.commonDirectory(Za));case 2:return ib.abrupt("return",ib.sent);case 3:case "end":return ib.stop()}},db)})));case 28:return Da.prev=28,Da.next=31,ub.gotoFile(Za);case 31:ub.ui.fileTree.centerSelection();Da.next=38;break;case 34:return Da.prev=34,Da.t0=Da["catch"](28),ub.showError(Da.t0),Da.abrupt("return",!0);case 38:case "end":return Da.stop()}},ba,null,[[28,34]])}))():(ub.setStatusMessage("Nothing selected"),!0)}},{name:"find file and select",handlesCount:!0,exec:function(){var ub=
sb(regeneratorRuntime.mark(function Za(ba,wb,Xa){var Sb,Cb,Da,zb,db,ib;return regeneratorRuntime.wrap(function(Ea){for(;;)switch(Ea.prev=Ea.next){case 0:return Sb={exclude:ba.excludeFiles||[]},Cb=ba.location,Ea.next=4,Cb.dirList(Xa||"infinity",Sb);case 4:return Ea.t0=function(W){return{isListItem:!0,string:W.url.slice(Cb.url.length),value:W.url}},Da=Ea.sent.map(Ea.t0),Ea.next=8,ba.world().filterableListPrompt("Choose module to open",Da,{historyId:"lively.ide/http-file-browser-find-file",requester:ba,
width:700,multiSelect:!1});case 8:zb=Ea.sent;db=Nb(zb.selected,1);if(ib=db[0]){Ea.next=14;break}ba.setStatusMessage("Canceled");return Ea.abrupt("return",!0);case 14:return Ea.prev=14,Ea.next=17,ba.gotoFile(ib);case 17:ba.ui.fileTree.centerSelection();Ea.next=24;break;case 20:return Ea.prev=20,Ea.t1=Ea["catch"](14),ba.showError(Ea.t1),Ea.abrupt("return",!0);case 24:case "end":return Ea.stop()}},Za,null,[[14,20]])}));return function(ba,wb,Xa){return ub.apply(this,arguments)}}()}];var ec=Lc("HTTPFileBrowserNode",
function(ub){var yb=window.lively.FreezerRuntime.recorderFor("lively.ide/http-file-browser.js"),ba=yb.hasOwnProperty("HTTPFileBrowserNode")&&"function"===typeof yb.HTTPFileBrowserNode?yb.HTTPFileBrowserNode:yb.HTTPFileBrowserNode=function(wb){if(!wb||!wb[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return Xb(ba,ub,[{key:"display",value:function(wb){wb=wb.resource;var Xa=this.root.browser,Za=wb.lastModified,Sb=wb.size;Za=
Za?Hb.date.format(Za,"yyyy-mm-dd HH:MM:ss"):" ".repeat(19);Sb=Sb?Hb.num.humanReadableByteSize(Sb):"";return[Xa.truncateNameIfNeeded(wb.name()),null,"\t".concat(Sb," ").concat(Za),{paddingTop:"3px",opacity:.5,fontSize:"70%",textStyleClasses:["annotation"]}]}},{key:"isCollapsed",value:function(wb){return wb.isCollapsed}},{key:"collapse",value:function(){var wb=sb(regeneratorRuntime.mark(function Cb(Za,Sb){var Da,zb,db,ib,Ea;return regeneratorRuntime.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(Za.resource){W.next=
2;break}return W.abrupt("return");case 2:Za===this.root&&(Sb=!1);if(Sb||Za.subResources){W.next=17;break}Da=this.root.browser.excludeFiles||[];W.t0=Hb.arr;W.next=8;return Za.resource.dirList(1,{exclude:Da});case 8:W.t1=W.sent,W.t2=function(T){return T.isDirectory()},zb=W.t0.partition.call(W.t0,W.t1,W.t2),db=Nb(zb,2),ib=db[0],Ea=db[1],ib=Hb.arr.sortBy(ib,function(T){return T.name().toLowerCase()}),Ea=Hb.arr.sortBy(Ea,function(T){return T.name().toLowerCase()}),Za.subNodes=ib.concat(Ea).map(function(T){return{isCollapsed:!0,
resource:T}});case 17:Za.isCollapsed=Sb;case 18:case "end":return W.stop()}},Cb,this)}));return function(Za,Sb){return wb.apply(this,arguments)}}()},{key:"getChildren",value:function(wb){var Xa=this,Za=wb.resource,Sb=wb.isCollapsed,Cb=wb.subNodes;(Za=Za?Za.isDirectory()?Sb?[]:Cb||[]:null:[])&&Za.forEach(function(Da){return Xa.parentMap.set(Da,wb)});return Za}},{key:"isLeaf",value:function(wb){return(wb=wb.resource)?!wb.isDirectory():!0}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"HTTPFileBrowserNode"}}],
yb,{pathInPackage:function(){return"./http-file-browser.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.ide",version:"0.1.0"}}},{start:9492,end:11243})}(Hb.TreeData));Hb.HTTPFileBrowserNode=ec;Hb.HTTPFileBrowserNode=ec;ec=Lc("default",function(ub){var yb=window.lively.FreezerRuntime.recorderFor("lively.ide/http-file-browser.js"),ba=yb.hasOwnProperty("HTTPFileBrowser")&&
"function"===typeof yb.HTTPFileBrowser?yb.HTTPFileBrowser:yb.HTTPFileBrowser=function(wb){if(!wb||!wb[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return Xb(ba,ub,[{key:"isFileBrowser",get:function(){return!0}},{key:"relayout",value:function(){var wb=this;if(!(0>=this.height)){var Xa=this.ui,Za=Xa.selectedFileName,Sb=Xa.locationInput,Cb=Xa.fileTree,Da=[Xa.searchButton,Xa.filterButton,Xa.reloadButton];Xa=[Xa.openFileButton,
Xa.addFileButton,Xa.addDirectoryButton,Xa.renameFileButton,Xa.deleteFileButton];Sb.position=Hb.pt(0,0);Sb.extent=Hb.pt(this.width-60,20);Da.forEach(function(db){return db.extent=Hb.pt(20,20)});Da[0].topLeft=Sb.topRight;for(var zb=1;zb<Da.length;zb++)Da[zb].topLeft=Da[zb-1].topRight;Cb.topLeft=Sb.bottomLeft;Cb.extent=Hb.pt(this.width,this.height-20-20-20);Za.topLeft=Cb.bottomLeft;Za.extent=Hb.pt(this.width,20);Xa.forEach(function(db){return db.extent=Hb.pt(wb.width/5,20)});Xa[0].topLeft=Za.bottomLeft;
for(zb=1;zb<Xa.length;zb++)Xa[zb].topLeft=Xa[zb-1].topRight}}},{key:"truncateNameIfNeeded",value:function(wb){var Xa=this.ui.fileTree,Za=Xa.env.fontMetric.sizeFor(Xa.defaultTextStyle,wb,!0).width;Za>Xa.width-200&&(Xa=(Za-(Xa.width-200))/(Za/wb.length),1<=Xa&&(wb=wb.slice(0,-Xa)+"..."));return wb}},{key:"whenFinishedLoading",value:function(){var wb=this;return Hb.promise.waitFor(3E3,function(){return!1===wb._isLoading})["catch"](function(Xa){})}},{key:"hideBaseURL",value:function(wb){var Xa=this.ui.selectedFileName;
wb.isShiftDown()?Xa.textString=Xa.textString.replace(System.baseURL,"/"):this.showSelectedFile()}},{key:"openLocation",value:function(wb){wb="string"===typeof wb?Hb.resource(wb):wb;var Xa=this.ui.locationInput;Xa.input=wb.url;Xa.acceptInput();return this}},{key:"showMenuFor",value:function(){var wb=sb(regeneratorRuntime.mark(function Sb(Za){var Cb,Da,zb;return regeneratorRuntime.wrap(function(db){for(;;)switch(db.prev=db.next){case 0:return Cb=Za.node,Da=Za.evt,Da.stop(),zb=[],Cb.resource.isFile()&&
zb.push({alias:"Open File in Text Editor",command:"open file",target:this.world(),args:{url:Cb.resource.url}}),db.abrupt("return",this.world().openWorldMenu(Da,zb));case 5:case "end":return db.stop()}},Sb,this)}));return function(Za){return wb.apply(this,arguments)}}()},{key:"showSelectedFile",value:function(){var wb=this.selectedFile;this.get("selectedFileName").textString=wb?wb.url:""}},{key:"gotoFile",value:function(){var wb=sb(regeneratorRuntime.mark(function Sb(Za){var Cb,Da,zb,db;return regeneratorRuntime.wrap(function(ib){for(;;)switch(ib.prev=
ib.next){case 0:return ib.next=2,this.whenFinishedLoading();case 2:return Cb="string"===typeof Za?Hb.resource(Za):Za,Da=Cb.parents().concat(Cb),zb=this.ui.fileTree.treeData,ib.next=7,zb.followPath(Da,function(Ea,W){return Ea.equals(W.resource)});case 7:return db=ib.sent,ib.abrupt("return",db?this.selectedFile=db.resource:null);case 9:case "end":return ib.stop()}},Sb,this)}));return function(Za){return wb.apply(this,arguments)}}()},{key:"onLocationChanged",value:function(){var wb=sb(regeneratorRuntime.mark(function Za(){var Sb,
Cb,Da,zb;return regeneratorRuntime.wrap(function(db){for(;;)switch(db.prev=db.next){case 0:Sb=this.ui.fileTree.treeData;if(Cb=this.ui.locationInput.input){db.next=5;break}this._isLoading=!1;return db.abrupt("return");case 5:Da=Hb.resource(Cb);Da.isDirectory()||(Da=Da.asDirectory());Sb.root={browser:this,resource:Da,isCollapsed:!0};if(zb=this.getWindow())zb.title="file browser \u2013 "+Cb;db.next=12;return this.ui.fileTree.uncollapse(Sb.root);case 12:this._isLoading=!1,this.ui.fileTree.focus();case 14:case "end":return db.stop()}},
Za,this)}));return function(){return wb.apply(this,arguments)}}()},{key:"keepFileTreeStateWhile",value:function(wb){var Xa=this;return this.ui.fileTree.maintainViewStateWhile(function(){return wb.call(Xa)},function(Za){return Za.resource.url})}},{key:"focus",value:function(){this.ui.fileTree.focus()}},{key:"commands",get:function(){return Hb.browserCommands.concat(Xb._get(Object.getPrototypeOf(ba.prototype),"commands",this))}},{key:"keybindings",get:function(){return[{keys:"Enter",command:"open selected file"},
{keys:{mac:"Meta-Enter",win:"Ctrl-Enter"},command:{command:"open selected file",args:{openInNewBrowser:!0}}},{keys:"Alt-Up",command:"focus location input"},{keys:"Alt-Down",command:"focus file tree"},{keys:"Alt-.",command:"set location to selection"},{keys:"Shift-6",command:"set location to parent dir"},{keys:{mac:"Meta-C|Alt-W",win:"Ctrl-C|Alt-W"},command:"copy file path to clipboard"},{keys:"Shift-=",command:"add directory"},{keys:{mac:"Meta-Shift-=",win:"Ctrl-Shift-="},command:"add file"},{keys:"F2",
command:"set file filter"},{keys:"F3",command:"rename file"},{keys:"Backspace|Delete",command:"delete file or directory"},{keys:"g",command:"refresh contents"}].concat(Xb._get(Object.getPrototypeOf(ba.prototype),"keybindings",this))}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"HTTPFileBrowser"}},{key:"forLocation",value:function(wb,Xa){Xa=new this(Xa);Xa.location=wb;return Xa}},{key:"forFile",value:function(wb,Xa){try{var Za=Hb.resource(wb)}catch(Cb){Za=Hb.resource(Hb.string.joinPath(Xa||
"",wb))}var Sb=this.forLocation(Xa||Za.root());Sb.gotoFile(Za).then(function(){return Sb.ui.fileTree.centerSelection()});return Sb}},{key:"properties",get:function(){return{name:{defaultValue:"file browser"},clipMode:{defaultValue:"visible"},extent:{defaultValue:Hb.pt(500,500)},excludeFiles:{defaultValue:[".git",".DS_Store"]},draggable:{defaultValue:!1},submorphs:{initialize:function(){var wb={type:"button",borderRadius:5,padding:Hb.Rectangle.inset(0),fontSize:12,grabbable:!1,draggable:!1};this.submorphs=
[new Hb.Tree({name:"fileTree",treeData:new Hb.HTTPFileBrowserNode({browser:this,resource:null,isCollapsed:!0}),extent:this.extent,lineHeight:1.6,fontSize:14,activateOnHover:!1,clipMode:"auto",resizeNodes:!0,fill:Hb.Color.white,borderWidth:{top:1,bottom:1,right:0,left:0},borderColor:Hb.Color.gray,padding:Hb.Rectangle.inset(4)}),new Hb.InputLine({name:"locationInput",textString:"",historyId:"http-file-browser-location-input-history",padding:Hb.Rectangle.inset(4,2)}),{type:"label",name:"selectedFileName",
padding:Hb.Rectangle.inset(2,2),fontSize:14,fontFamily:"Inconsolata, monospace",readOnly:!0,clipMode:"hidden",nativeCursor:"pointer",tooltip:"click to copy",fontWeight:"bold"},Object.assign({name:"searchButton"},wb,{label:Hb.Label.icon("search"),tooltip:"search for files"}),Object.assign({name:"reloadButton"},wb,{label:Hb.Label.icon("redo"),tooltip:"reload list"}),Object.assign({name:"filterButton"},wb,{label:Hb.Label.icon("filter"),tooltip:"set file filter"}),Object.assign({name:"openFileButton"},
wb,{label:Hb.Label.icon("edit",{textStyleClasses:["far"]}),tooltip:"open selected file"}),Object.assign({name:"addDirectoryButton"},wb,{label:Hb.Label.icon("folder",{textStyleClasses:["far"]}),tooltip:"add directory"}),Object.assign({name:"addFileButton"},wb,{label:Hb.Label.icon("file",{textStyleClasses:["far"]}),tooltip:"add file"}),Object.assign({name:"renameFileButton"},wb,{label:Hb.Label.icon("clone",{textStyleClasses:["far"]}),tooltip:"rename selected file"}),Object.assign({name:"deleteFileButton"},
wb,{label:Hb.Label.icon("trash-alt",{textStyleClasses:["far"]}),tooltip:"delete selected file"})];var Xa=this.ui;wb=Xa.fileTree;var Za=Xa.locationInput,Sb=Xa.searchButton,Cb=Xa.reloadButton,Da=Xa.filterButton,zb=Xa.openFileButton,db=Xa.addDirectoryButton,ib=Xa.addFileButton,Ea=Xa.renameFileButton,W=Xa.deleteFileButton;Xa=Xa.selectedFileName;Hb.connect(this,"extent",this,"relayout");Hb.connect(Za,"inputAccepted",this,"onLocationChanged");Hb.connect(wb,"selectedNode",this,"showSelectedFile");Hb.connect(wb,
"contextMenuRequested",this,"showMenuFor");Hb.connect(Sb,"fire",this,"execCommand",{converter:function(){return"find file and select"}});Hb.connect(Cb,"fire",this,"execCommand",{converter:function(){return"refresh contents"}});Hb.connect(Da,"fire",this,"execCommand",{converter:function(){return"set file filter"}});Hb.connect(zb,"fire",this,"execCommand",{converter:function(){return"open selected file"}});Hb.connect(Ea,"fire",this,"execCommand",{converter:function(){return"rename file"}});Hb.connect(W,
"fire",this,"execCommand",{converter:function(){return"delete file or directory"}});Hb.connect(ib,"fire",this,"execCommand",{converter:function(){return"add file"}});Hb.connect(db,"fire",this,"execCommand",{converter:function(){return"add directory"}});Hb.connect(Xa,"onMouseDown",this,"execCommand",{converter:function(){return"copy file path to clipboard"}});Hb.connect(this,"onMouseMove",this,"hideBaseURL");this.onLocationChanged();this.relayout()}},ui:{derived:!0,readOnly:!0,after:["submorphs"],
get:function(){return{fileTree:this.getSubmorphNamed("fileTree"),locationInput:this.getSubmorphNamed("locationInput"),searchButton:this.getSubmorphNamed("searchButton"),reloadButton:this.getSubmorphNamed("reloadButton"),filterButton:this.getSubmorphNamed("filterButton"),openFileButton:this.getSubmorphNamed("openFileButton"),addDirectoryButton:this.getSubmorphNamed("addDirectoryButton"),addFileButton:this.getSubmorphNamed("addFileButton"),renameFileButton:this.getSubmorphNamed("renameFileButton"),
deleteFileButton:this.getSubmorphNamed("deleteFileButton"),selectedFileName:this.getSubmorphNamed("selectedFileName")}}},location:{derived:!0,after:["submorphs"],get:function(){return Hb.resource(this.ui.locationInput.input)},set:function(wb){this._isLoading=!0;wb="string"===typeof wb?Hb.resource(wb):wb;wb.isDirectory()||(wb=wb.asDirectory());this.ui.locationInput.input=wb.url;this.ui.locationInput.acceptInput()}},selectedFile:{derived:!0,after:["submorphs"],get:function(){var wb=this.ui.fileTree.selectedNode;
return wb?wb.resource:null},set:function(wb){if(wb){var Xa="string"===typeof wb?Hb.resource(wb):wb;wb=this.ui.fileTree.nodes.find(function(Za){return Za.resource.url===Xa.url});this.ui.fileTree.selectedNode=wb}else this.ui.fileTree.selectedNode=null;this.ui.fileTree.focus()}},treeState:{derived:!0,after:["submorphs"],get:function(){return this.ui.fileTree.buildViewState(function(wb){return wb.url})},set:function(wb){this.ui.fileTree.applyViewState(wb,function(Xa){return Xa.url})}}}}}],yb,{pathInPackage:function(){return"./http-file-browser.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.ide",version:"0.1.0"}}},{start:11259,end:25274})}(Hb.Morph));Hb["default"]=ec}}});
System.register("./__root_module__-a4bfb546.js kld-intersections ./index-8925a56f.js ./index-164fc5db.js ./color-picker-60ab8665.js ./index-a97ff283.js".split(" "),function(){var ta,cb,mb,Sb,Jb,sd,vc,wd,wc,Cc,Gc,Cd,pe,Je,ce,Qb,pc,ld,Rb,xd,Hd,Dc;return{setters:[function(bc){ta=bc.an;cb=bc.aC;mb=bc.ab;Sb=bc.as;Jb=bc.aa;sd=bc.a3;vc=bc.C;wd=bc.ax;wc=bc.au;Cc=bc.bp;Gc=bc.aw;Cd=bc.a8;pe=bc.a7;Je=bc.bP;ce=bc.aj;Qb=bc.av;pc=bc.r;ld=bc.a6;Rb=bc.P;xd=bc.bS;Hd=bc.bT},function(){},function(){},function(){},
function(bc){Dc=bc.S},function(){}],execute:function(){var bc=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js");bc.Morph=ta;bc.touchInputDevice=cb;bc.morph=mb;bc.Icon=Sb;bc.easings=Jb;bc.pt=sd;bc.Color=vc;bc.fun=wd;bc.connect=wc;bc.TreeData=Cc;var Ib=function(oc){var $a=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),fb=$a.hasOwnProperty("SettingsTree")&&"function"===typeof $a.SettingsTree?$a.SettingsTree:$a.SettingsTree=function(ya){ya&&ya[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(fb,oc,[{key:"display",value:function(ya){return ya.panel?[ya.panel,{}]:ya.name}},{key:"collapse",value:function(ya,Ca){ya.isCollapsed=Ca}},{key:"isCollapsed",value:function(ya){return ya.isCollapsed}},{key:"isLeaf",value:function(ya){return!ya.children}},{key:"getChildren",value:function(ya){var Ca=this;return ya===this.root?ya.children.filter(function(Aa){return Ca.target&&Aa.applicabilityCheck?eval(Aa.applicabilityCheck)(Ca.target):
!0}):ya.children}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SettingsTree"}},{key:"default",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" ",{}].concat($jscomp.arrayFromIterable(bc.Icon.textAttribute("font")),[" Rich Text",{fontWeight:"bold"}]),children:[{panel:bc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(bc.Icon.textAttribute("image")),[" Shape",{fontWeight:"bold"}]),children:[{panel:bc.morph({})}]},{isCollapsed:!1,
name:[" ",{}].concat($jscomp.arrayFromIterable(bc.Icon.textAttribute("border-style")),[" Border",{paddingLeft:"2px",fontWeight:"bold"}]),children:[{panel:bc.morph({})}]},{isCollapsed:!1,name:[" ",{}].concat($jscomp.arrayFromIterable(bc.Icon.textAttribute("grip-vertical")),[" Layout",{paddingLeft:"4px",fontWeight:"bold"}]),children:[{panel:bc.morph({})}]}]})}},{key:"border",value:function(){return new this({isCollapsed:!1,children:[{isCollapsed:!0,name:[" Type    ",{},bc.morph({height:20}),{}],children:[{panel:bc.morph({})}]},
{isCollapsed:!1,name:[" Color   ",{},bc.morph({height:20}),{}],children:[{panel:bc.morph({})}]},{isCollapsed:!1,name:[" Width  ",{},bc.morph({height:20}),{}],children:[{panel:bc.morph({})}]},{isCollapsed:!1,name:[" Radius ",{},bc.morph({height:20}),{}],children:[{panel:bc.morph({})}]}]})}}],$a,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",
version:"0.1.1-67"}}},{start:284,end:2663})}(bc.TreeData);bc.SettingsTree=Ib;bc.SettingsTree=Ib;bc.SettingsTree=Ib;Ib=function(oc){var $a=lively.FreezerRuntime.recorderFor("StylingSideBar/index.js"),fb=$a.hasOwnProperty("StylingSideBar")&&"function"===typeof $a.StylingSideBar?$a.StylingSideBar:$a.StylingSideBar=function(ya){ya&&ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(fb,oc,[{key:"relayout",value:function(){this.onWorldResize()}},
{key:"collapseAll",value:function(){this.getSubmorphsByStyleClassName("Tree").forEach(function(ya){ya.nodes.forEach(function(Ca){return ya.treeData.root==Ca?ya.uncollapse(Ca):ya.collapse(Ca)})})}},{key:"onWorldResize",value:function(ya){ya=void 0===ya?!0:ya;if(this.respondsToVisibleWindow){var Ca=$world.visibleBounds(),Aa=navigator.standalone&&bc.touchInputDevice?25:0,xa=this.getSubmorphNamed("horizontal resizer");this.height=Ca.height-Aa;this.top=Aa+Ca.top();xa.height=this.height;xa.left=0;xa.top=
0;ya&&(this.visible?this.topRight=Ca.topRight():this.topLeft=Ca.topRight())}}},{key:"toggle",value:function(ya){var Ca=this,Aa,xa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Oa){switch(Oa.nextAddress){case 1:Aa=$world.visibleBounds().withTopLeft(bc.pt(0,0));xa=navigator.standalone&&bc.touchInputDevice?25:0;Ca.height=Aa.height-xa;Ca.top=xa+Aa.top();if(ya)return $world.addMorph(Ca,$world.get("lively top bar")),Ca.topLeft=Aa.topRight(),Ca.visible=!0,Oa.yield(Ca.whenRendered(),5);Ca.detachFromWorld($world);
return Oa.yield(Ca.animate({opacity:0,topLeft:Aa.topRight(),duration:300}),4);case 4:Ca.visible=!1;Ca.remove();Oa.jumpTo(0);break;case 5:return Ca.onWorldResize(!1),Oa.yield(Ca.animate({opacity:1,easing:bc.easings.outCirc,topRight:Aa.topRight(),duration:300}),6);case 6:Ca.attachToWorld($world),Oa.jumpToEnd()}})}},{key:"cleanupAnchors",value:function(){for(var ya=this.withAllSubmorphsSelect(function(Oa){return Oa.anchors&&Oa.anchors.filter(function(wb){return!wb.id}).length}),Ca={},Aa=$jscomp.makeIterator(ya),
xa=Aa.next();!xa.done;Ca={$jscomp$loop$prop$m$2618:Ca.$jscomp$loop$prop$m$2618},xa=Aa.next())Ca.$jscomp$loop$prop$m$2618=xa.value,Ca.$jscomp$loop$prop$m$2618.anchors.forEach(function(Oa){return function(wb){return!wb.id&&Oa.$jscomp$loop$prop$m$2618.removeAnchor(wb)}}(Ca));return ya.length}},{key:"attachToWorld",value:function(ya){bc.connect(ya,"showHaloFor",this,"focusMorph",{garbageCollect:!0})}},{key:"detachFromWorld",value:function(ya){var Ca=this;ya.attributeConnections.forEach(function(Aa){Aa.targetObj===
Ca&&Aa.disconnect()})}},{key:"focusMorph",value:function(ya){if(!ya.isMorph||!ya.ownerChain().includes(this)){(ya.isLabel||ya.isText||ya.isButton)&&this.richTextControl.focusOn(ya,!1);var Ca=this.getSubmorphNamed("style settings tree");Ca.treeData.target=ya;Ca.update(!0);Object.values(this.controls).forEach(function(Aa){return Aa&&Aa.focusOn(ya)})}}},{key:"onHierarchyChange",value:function(){Object.values(this.controls).forEach(function(ya){return ya&&ya.update()})}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"StylingSideBar"}},{key:"properties",get:function(){return{controls:{},richTextControl:{},isHaloItem:{get:function(){return!0}}}}}],$a,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"StylingSideBar",version:"0.1.1-67"}}},{start:2682,end:5749})}(bc.Morph);Ib=bc.StylingSideBar;bc.default=Ib;var gc=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js");
gc.Morph=ta;gc.obj=Cd;gc.string=pe;gc.connect=wc;gc.noUpdate=Je;gc.once=ce;Ib=function(oc){var $a=lively.FreezerRuntime.recorderFor("ShapeFormatStyler/index.js"),fb=$a.hasOwnProperty("ShapeFormatStyler")&&"function"===typeof $a.ShapeFormatStyler?$a.ShapeFormatStyler:$a.ShapeFormatStyler=function(ya){ya&&ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(fb,oc,[{key:Symbol.for("lively-instance-initialize"),value:function(ya){Gc._get(Object.getPrototypeOf(fb.prototype),
Symbol.for("lively-instance-initialize"),this).call(this,ya);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var ya=this.ui,Ca={},Aa=$jscomp.makeIterator(Object.entries(this.uiSpec)),xa=Aa.next();!xa.done;Ca={$jscomp$loop$prop$control$2620:Ca.$jscomp$loop$prop$control$2620,$jscomp$loop$prop$prop$2621:Ca.$jscomp$loop$prop$prop$2621},xa=Aa.next()){var Oa=$jscomp.makeIterator(xa.value);xa=Oa.next().value;Oa=$jscomp.makeIterator(Oa.next().value);Oa.next();
var wb=Oa.next().value;Ca.$jscomp$loop$prop$prop$2621=Oa.next().value;Ca.$jscomp$loop$prop$control$2620=ya[xa];gc.connect(Ca.$jscomp$loop$prop$control$2620,wb,this,"updateTarget",{updater:function(dc){return function(Ya,jb){dc.$jscomp$loop$prop$control$2620._updating=!0;Ya(dc.$jscomp$loop$prop$prop$2621,jb);dc.$jscomp$loop$prop$control$2620._updating=!1}}(Ca),varMapping:{prop:Ca.$jscomp$loop$prop$prop$2621,control:Ca.$jscomp$loop$prop$control$2620}})}}},{key:"update",value:function(){var ya=this,
Ca=this.target,Aa=Ca.top,xa=Ca.left,Oa=Ca.clipMode,wb=Ca.fill,dc=Ca.dropShadow,Ya=Ca.opacity,jb=Ca.height,Za=Ca.width;Ca=this.ui;var U=Ca.clipModeSelector,va=Ca.fillPicker,M=Ca.opacityField,da=Ca.shadowPicker,Ia=Ca.heightField,Wa=Ca.widthField,Zb=Ca.posXField,Oc=Ca.posYField;gc.noUpdate(function(){ya.updateControl(da,"shadowValue",dc);ya.updateControl(U,"selection",Oa);ya.updateControl(va,"colorValue",wb);ya.updateControl(M,"number",Ya);ya.updateControl(Ia,"number",jb);ya.updateControl(Wa,"number",
Za);ya.updateControl(Zb,"number",xa);ya.updateControl(Oc,"number",Aa)})}},{key:"updateTarget",value:function(ya,Ca){this.target[ya]=Ca;this.update()}},{key:"updateControl",value:function(ya,Ca,Aa){ya._updating||gc.obj.equals(ya[Ca],Aa)||(ya[Ca]=Aa)}},{key:"updateMultiValue",value:function(ya,Ca,Aa){var xa=this.ui,Oa=xa[this.join(ya)],wb=Oa.get("multi value indicator"),dc=gc.obj.values(Ca).some(function(Ya){return!gc.obj.isFunction(Ya)&&!gc.obj.equals(Ya,Ca.valueOf())});wb.left=0;Oa.visible=Oa.isLayoutable=
!dc;if(dc&&wb.visible!=dc)gc.once(wb,"onMouseDown",Oa,Aa,{converter:function(){return Ca.valueOf()},varMapping:{value:Ca}});wb.visible=wb.isLayoutable=dc;wb.left=dc?200:0;this.updateControl(Oa,Aa,Ca.valueOf());Oa=$jscomp.makeIterator(["top","left","bottom","right"]);for(wb=Oa.next();!wb.done;wb=Oa.next())wb=wb.value,dc=xa[this.join(ya,wb)],this.updateControl(dc,Aa,Ca[wb])}},{key:"lower",value:function(ya){return ya.charAt(0).toLowerCase()+ya.slice(1)}},{key:"join",value:function(ya,Ca){return this.lower(gc.string.camelCaseString(ya+
(Ca?" "+Ca:"")))}},{key:"unwrap",value:function(ya,Ca,Aa){var xa={};xa=(xa[this.lower(gc.string.camelCaseString(ya))]=[ya,Ca,Aa],xa);for(var Oa=$jscomp.makeIterator(["top","left","bottom","right"]),wb=Oa.next();!wb.done;wb=Oa.next()){wb=wb.value;var dc=ya+" "+wb;xa[this.lower(gc.string.camelCaseString(dc))]=[dc,Ca,this.join(Aa,wb)]}return xa}},{key:"focusOn",value:function(ya){var Ca=this,Aa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(xa){if(1==xa.nextAddress)return!ya||Ca.isAncestorOf(ya)||
Ca.target===ya||gc.obj.isArray(ya)||(Ca.target=ya),Aa=Ca.visible,Ca.visible=!0,xa.yield(Ca.whenRendered(),2);if(3!=xa.nextAddress)return Ca.update(),xa.yield(Ca.whenRendered(),3);Ca.getSubmorphsByStyleClassName("NumberWidget").map(function(Oa){return Oa.relayout()});Ca.visible=Aa;xa.jumpToEnd()})}},{key:"onHoverIn",value:function(ya){this.watchForTarget=!1}},{key:"onHoverOut",value:function(ya){this.watchForTarget=!0}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShapeFormatStyler"}},
{key:"properties",get:function(){return{uiSpec:{get:function(){return this._uiSpec||(this._uiSpec={clipModeSelector:["clip mode selector","selection","clipMode"],fillPicker:["fill picker","colorValue","fill"],shadowPicker:["shadow picker","shadowValue","dropShadow"],opacityField:["opacity field","number","opacity"],heightField:["height field","number","height"],widthField:["width field","number","width"],posXField:["pos x field","number","left"],posYField:["pos y field","number","top"]})}},ui:{readOnly:!0,
get:function(){var ya=this,Ca=this.uiSpec;return this._ui||(this._ui=gc.obj.extract(Ca,gc.obj.keys(Ca),function(Aa,xa){Aa=$jscomp.makeIterator(xa).next().value;return ya.getSubmorphNamed(Aa)}))}}}}}],$a,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShapeFormatStyler",version:"0.1.1-147"}}},{start:176,end:4919})}(gc.Morph);Ib=gc.ShapeFormatStyler;
gc.default=Ib;var sc=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js");sc.Morph=ta;sc.ShadowPopover=Dc;sc.connect=wc;sc.signal=Qb;Ib=function(oc){var $a=lively.FreezerRuntime.recorderFor("ShadowWidget/index.js"),fb=$a.hasOwnProperty("ShadowWidget")&&"function"===typeof $a.ShadowWidget?$a.ShadowWidget:$a.ShadowWidget=function(ya){ya&&ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(fb,oc,[{key:"onHoverIn",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:1,
duration:200})}},{key:"onHoverOut",value:function(){this.getSubmorphNamed("drop down indicator").animate({opacity:0,duration:200})}},{key:"onMouseDown",value:function(ya){this.openPopover()}},{key:"update",value:function(ya){var Ca=this.submorphs[0];Ca&&(Ca.dropShadow=ya)}},{key:"openPopover",value:function(){var ya=this,Ca;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){if(1==Aa.nextAddress)return Ca=new sc.ShadowPopover({hasFixedPosition:!!ya.ownerChain().find(function(xa){return xa.hasFixedPosition}),
shadowValue:ya.shadowValue}),Aa.yield(Ca.fadeIntoWorld(ya.globalBounds().center()),2);sc.connect(Ca,"shadowValue",ya,"shadowValue");sc.connect(ya,"shadowValue",ya,"update");sc.signal(ya,"openWidget",Ca);Aa.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowWidget"}},{key:"properties",get:function(){return{shadowValue:{set:function(ya){this.setProperty("shadowValue",ya);this.update(ya)}}}}}],$a,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"ShadowWidget",version:"0.1.1-7"}}},{start:194,end:1231})}(sc.Morph);Ib=sc.ShadowWidget;sc.default=Ib;var dd=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js");dd.Morph=ta;dd.obj=Cd;dd.string=pe;dd.connect=wc;dd.noUpdate=Je;dd.once=ce;Ib=function(oc){var $a=lively.FreezerRuntime.recorderFor("BorderFormatStyler/index.js"),fb=$a.hasOwnProperty("BorderFormatStyler")&&"function"===typeof $a.BorderFormatStyler?
$a.BorderFormatStyler:$a.BorderFormatStyler=function(ya){ya&&ya[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(fb,oc,[{key:"setupUI",value:function(){var ya=this;this.getSubmorphsByStyleClassName("NumberWidget").map(function(Ca){var Aa=dd.string.camelCaseString(Ca.name);Aa=Aa[0].toLowerCase()+Aa.slice(1);ya.ui[Aa]=Ca})}},{key:"cleanupAnchors",value:function(){var ya=this.withAllSubmorphsSelect(function(xa){return xa.anchors&&
xa.anchors.filter(function(Oa){return!Oa.id})}),Ca={};ya=$jscomp.makeIterator(ya);for(var Aa=ya.next();!Aa.done;Ca={$jscomp$loop$prop$m$2623:Ca.$jscomp$loop$prop$m$2623},Aa=ya.next())Ca.$jscomp$loop$prop$m$2623=Aa.value,Ca.$jscomp$loop$prop$m$2623.anchors.forEach(function(xa){return function(Oa){return!Oa.id&&xa.$jscomp$loop$prop$m$2623.removeAnchor(Oa)}}(Ca))}},{key:Symbol.for("lively-instance-initialize"),value:function(ya){Gc._get(Object.getPrototypeOf(fb.prototype),Symbol.for("lively-instance-initialize"),
this).call(this,ya);0<this.submorphs.length&&this.setupConnections()}},{key:"setupConnections",value:function(){for(var ya=this.ui,Ca={},Aa=$jscomp.makeIterator(Object.entries(this.uiSpec)),xa=Aa.next();!xa.done;Ca={$jscomp$loop$prop$control$2625:Ca.$jscomp$loop$prop$control$2625,$jscomp$loop$prop$prop$2626:Ca.$jscomp$loop$prop$prop$2626},xa=Aa.next()){var Oa=$jscomp.makeIterator(xa.value);xa=Oa.next().value;Oa=$jscomp.makeIterator(Oa.next().value);Oa.next();var wb=Oa.next().value;Ca.$jscomp$loop$prop$prop$2626=
Oa.next().value;Ca.$jscomp$loop$prop$control$2625=ya[xa];dd.connect(Ca.$jscomp$loop$prop$control$2625,wb,this,"updateTarget",{updater:function(dc){return function(Ya,jb){dc.$jscomp$loop$prop$control$2625._updating=!0;Ya(dc.$jscomp$loop$prop$prop$2626,jb);dc.$jscomp$loop$prop$control$2625._updating=!1}}(Ca),varMapping:{prop:Ca.$jscomp$loop$prop$prop$2626,control:Ca.$jscomp$loop$prop$control$2625}})}}},{key:"update",value:function(){var ya=this,Ca=this.target,Aa=Ca.borderStyle,xa=Ca.borderColor,Oa=
Ca.borderRadius,wb=Ca.borderWidth;dd.noUpdate(function(){ya.updateMultiValue("border style selector",Aa,"selection");ya.updateMultiValue("border color picker",xa,"colorValue");ya.updateMultiValue("border radius field",Oa,"number");ya.updateMultiValue("border width field",wb,"number")})}},{key:"updateTarget",value:function(ya,Ca){this.target[ya]=Ca;this.update()}},{key:"updateControl",value:function(ya,Ca,Aa){ya._updating||dd.obj.equals(ya[Ca],Aa)||(ya[Ca]=Aa)}},{key:"updateMultiValue",value:function(ya,
Ca,Aa){var xa=this.ui,Oa=xa[this.join(ya)],wb=Oa.get("multi value indicator"),dc=dd.obj.values(Ca).some(function(Ya){return!dd.obj.isFunction(Ya)&&!dd.obj.equals(Ya,Ca.valueOf())});Oa.visible=Oa.isLayoutable=!dc;if(dc&&wb.visible!=dc)dd.once(wb,"onMouseDown",Oa,Aa,{converter:function(){return Ca.valueOf()},varMapping:{value:Ca}});wb.visible=wb.isLayoutable=dc;this.updateControl(Oa,Aa,Ca.valueOf());Oa=$jscomp.makeIterator(["top","left","bottom","right"]);for(wb=Oa.next();!wb.done;wb=Oa.next())wb=wb.value,
dc=xa[this.join(ya,wb)],this.updateControl(dc,Aa,Ca[wb])}},{key:"lower",value:function(ya){return ya.charAt(0).toLowerCase()+ya.slice(1)}},{key:"join",value:function(ya,Ca){return this.lower(dd.string.camelCaseString(ya+(Ca?" "+Ca:"")))}},{key:"unwrap",value:function(ya,Ca,Aa){var xa={};xa=(xa[this.lower(dd.string.camelCaseString(ya))]=[ya,Ca,Aa],xa);for(var Oa=$jscomp.makeIterator(["top","left","bottom","right"]),wb=Oa.next();!wb.done;wb=Oa.next()){wb=wb.value;var dc=ya+" "+wb;xa[this.lower(dd.string.camelCaseString(dc))]=
[dc,Ca,this.join(Aa,wb)]}return xa}},{key:"attachToWorld",value:function(){dd.connect($world,"showHaloFor",this,"focusOn",{garbageCollect:!0})}},{key:"focusOn",value:function(ya){var Ca=this,Aa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(xa){if(1==xa.nextAddress)return!ya||Ca.isAncestorOf(ya)||Ca.target===ya||dd.obj.isArray(ya)||(Ca.target=ya),Aa=Ca.visible,Ca.visible=!0,xa.yield(Ca.whenRendered(),2);if(3!=xa.nextAddress)return Ca.update(),xa.yield(Ca.whenRendered(),3);Ca.getSubmorphsByStyleClassName("NumberWidget").map(function(Oa){return Oa.relayout()});
Ca.visible=Aa;xa.jumpToEnd()})}},{key:"onHoverIn",value:function(ya){this.watchForTarget=!1}},{key:"onHoverOut",value:function(ya){this.watchForTarget=!0}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"BorderFormatStyler"}},{key:"properties",get:function(){return{uiSpec:{derived:!0,serialize:!1,get:function(){return this._uiSpec||(this._uiSpec=Object.assign({},this.unwrap("border style selector","selection","borderStyle"),{},this.unwrap("border color picker","colorValue","borderColor"),
{},this.unwrap("border radius field","number","borderRadius"),{},this.unwrap("border width field","number","borderWidth")))}},ui:{initialize:function(){this.setupUI()}}}}}],$a,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"BorderFormatStyler",version:"0.1.1-16"}}},{start:185,end:5003})}(dd.Morph);Ib=dd.BorderFormatStyler;dd.default=
Ib;var bd=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js");bd.Morph=ta;bd.resource=pc;bd.arr=ld;bd.obj=Cd;bd.string=pe;bd.Path=Rb;bd.connect=wc;bd.getMastersMenu=xd;bd.resolvedMasters=Hd;Ib=function(oc){var $a=lively.FreezerRuntime.recorderFor("MasterComponentControl/index.js"),fb=$a.hasOwnProperty("MasterComponentControl")&&"function"===typeof $a.MasterComponentControl?$a.MasterComponentControl:$a.MasterComponentControl=function(ya){ya&&ya[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return Gc(fb,oc,[{key:"focusOn",value:function(ya){this.target=ya;this.update()}},{key:"onMouseUp",value:function(ya){var Ca=this,Aa,xa,Oa,wb,dc,Ya;return $jscomp.asyncExecutePromiseGeneratorProgram(function(jb){if(1==jb.nextAddress){"auto master selection"==ya.targetMorph.name&&(Aa="auto");"hover master selection"==ya.targetMorph.name&&(Aa="hover");"click master selection"==ya.targetMorph.name&&(Aa="click");Ca.refreshButtons();
if(!Ca.target)return jb.return();xa=$jscomp.makeIterator(["auto","hover","click"]);for(Oa=xa.next();!Oa.done;Oa=xa.next())wb=Oa.value,Ca.target.master&&Ca.target.master[wb]&&!Ca.get(wb+" master checkbox").checked&&Ca.adjustMasterComponent(wb,null);if(!Aa)return jb.jumpTo(0);dc=Ca;Ya=dc.openMenu;return jb.yield(Ca.getMastersMenu(Aa),3)}Ya.call(dc,jb.yieldResult,ya);jb.jumpToEnd()})}},{key:"getMastersMenu",value:function(ya){var Ca=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){return 1==
Aa.nextAddress?Aa.yield(Promise.all([].concat($jscomp.arrayFromIterable(Object.keys(bd.resolvedMasters)),[Ca.world().name]).map(function(xa){var Oa,wb,dc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ya){return 1==Ya.nextAddress?(Oa=xa,wb=Ca,dc=wb.componentsToMenu,Ya.yield(bd.resource("styleguide://"+xa+"/").dirList(),2)):Ya.return([Oa,dc.call(wb,Ya.yieldResult,ya)])})})),2):Aa.return(Aa.yieldResult)})}},{key:"componentsToMenu",value:function(ya,Ca,Aa,xa){var Oa=this;Aa=void 0===Aa?
null:Aa;xa=void 0===xa?1:xa;Aa||(Aa=ya.map(function(dc){return{name:bd.arr.last(dc.name.split("/")),path:dc.name.split("/"),value:dc}}));if(0==Aa.length||100<xa)return[];var wb=this;return bd.arr.flatten(Object.entries(bd.arr.groupBy(Aa,function(dc){return dc.path[xa-1]})).map(function(dc){var Ya=$jscomp.makeIterator(dc);dc=Ya.next().value;Ya=Ya.next().value;var jb=$jscomp.makeIterator(bd.arr.partition(Ya,function(Za){return Za.path.length<=xa}));Ya=jb.next().value;jb=jb.next().value;dc=[dc,Oa.componentsToMenu(null,
Ca,jb,xa+1)];return[].concat($jscomp.arrayFromIterable(Ya.map(function(Za){return[Za.name,function(){wb.adjustMasterComponent(Ca,Za.value)}]})),$jscomp.arrayFromIterable(dc[1].length?[dc]:[]))}),1)}},{key:"getComponentSelectionMenu",value:function(ya){var Ca=this,Aa,xa,Oa,wb,dc,Ya;return $jscomp.asyncExecutePromiseGeneratorProgram(function(jb){if(1==jb.nextAddress)return Aa=Ca.world().metadata.commit.name,xa=bd.resource("styleguide://"+Aa+"/"),jb.yield(xa.dirList(),2);if(3!=jb.nextAddress)return Oa=
jb.yieldResult,jb.yield(bd.resource("styleguide://System/").dirList(),3);wb=jb.yieldResult;dc=Ca.componentsToMenu(Oa,ya);Ya=Ca.componentsToMenu(wb,ya);return jb.return([].concat($jscomp.arrayFromIterable(0<dc.length?[].concat($jscomp.arrayFromIterable(dc),[{isDivider:!0}]):[]),$jscomp.arrayFromIterable(Ya)))})}},{key:"adjustMasterComponent",value:function(ya,Ca){if(this.target.master)this.target.master[ya]=Ca;else if(Ca){var Aa={};this.target.master=(Aa[ya]=Ca,Aa)}ya=this.target.master;Ca=ya.hover;
Aa=ya.click;ya.auto||Ca||Aa||(this.target.master=null);this.update();this.target.withAllSubmorphsDo(function(xa){return delete xa._parametrizedProps});this.target.requestMasterStyling()}},{key:"componentsToMenu",value:function(ya,Ca,Aa,xa){var Oa=this;Aa=void 0===Aa?null:Aa;xa=void 0===xa?1:xa;Aa||(Aa=ya.map(function(dc){return{name:bd.arr.last(dc.name.split("/")),path:dc.name.split("/"),value:dc}}));if(0==Aa.length||100<xa)return[];var wb=this;return bd.arr.flatten(Object.entries(bd.arr.groupBy(Aa,
function(dc){return dc.path[xa-1]})).map(function(dc){var Ya=$jscomp.makeIterator(dc);dc=Ya.next().value;Ya=Ya.next().value;var jb=$jscomp.makeIterator(bd.arr.partition(Ya,function(Za){return Za.path.length<=xa}));Ya=jb.next().value;jb=jb.next().value;dc=[dc,Oa.componentsToMenu(null,Ca,jb,xa+1)];return[].concat($jscomp.arrayFromIterable(Ya.map(function(Za){return[Za.name,function(){wb.adjustMasterComponent(Ca,Za.value)}]})),$jscomp.arrayFromIterable(dc[1].length?[dc]:[]))}),1)}},{key:"update",value:function(){if(this.target){for(var ya=
$jscomp.makeIterator(["auto","hover","click"]),Ca=ya.next();!Ca.done;Ca=ya.next()){Ca=Ca.value;var Aa=this.getSubmorphNamed(Ca+" master selection"),xa=this.getSubmorphNamed(Ca+" master checkbox");bd.Path(["master",Ca]).get(this.target)?xa.checked=!0:xa.checked=!1;Aa.label=bd.string.truncateLeft(bd.Path(["master",Ca,"name"]).get(this.target)||"select master",15,"...")}this.refreshButtons()}}},{key:"refreshButtons",value:function(){for(var ya=$jscomp.makeIterator(["auto","hover","click"]),Ca=ya.next();!Ca.done;Ca=
ya.next()){Ca=Ca.value;var Aa=this.getSubmorphNamed(Ca+" master selection"),xa=this.getSubmorphNamed(Ca+" master checkbox");Aa=Aa.deactivated=!xa.checked;this.getSubmorphNamed(Ca+" master selection").opacity=Aa?.5:1}ya=this.getSubmorphNamed("overridden props list");ya.items=this.getOverriddenProps();this.getSubmorphNamed("clear overridden prop button").deactivated=!ya.selection}},{key:"getMasterForTarget",value:function(){if(this.target.isMorph)return[this.target].concat($jscomp.arrayFromIterable(this.target.ownerChain())).map(function(ya){return ya.master}).find(Boolean)}},
{key:"clearSelectedProperty",value:function(){var ya=this.getSubmorphNamed("overridden props list").selection;this.getMasterForTarget().clearOverriddenPropertiesFor(this.target,[ya]);this.refreshButtons()}},{key:"getOverriddenProps",value:function(){var ya=this.getMasterForTarget();return ya&&ya._overriddenProps?(ya=ya._overriddenProps.get(this.target))?Object.keys(ya):[]:[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"MasterComponentControl"}}],$a,{pathInPackage:function(){return"index.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"MasterComponentControl",version:"0.1.1-108"}}},{start:315,end:6096})}(bd.Morph);Ib=bd.MasterComponentControl;bd.default=Ib}}});

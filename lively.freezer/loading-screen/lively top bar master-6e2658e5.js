System.register("./__root_module__-884b54f8.js ./index-b01a734e.js kld-intersections ./world-778a409e.js ./index-9ec474a0.js ./index-27557bc7.js ./color-picker-efbd7363.js ./object-classes-27c453f9.js ./user-ui-2bb4d74a.js ./index-79249939.js".split(" "),function(){var za,cb,mb,Pb,tb,Fc,vc,Qc,mc,ic,zc,Dc,Gd,Hd,Zd,xc,od,qb,kc,Uc,tc,cd,td,nb,cc,wc,dc,Nc,$a;return{setters:[function(Xa){za=Xa.M;cb=Xa.I;mb=Xa.T;Pb=Xa.m;tb=Xa.K;Fc=Xa.N;vc=Xa.O;Qc=Xa.Q;mc=Xa.S;ic=Xa.V;zc=Xa.W;Dc=Xa.b;Gd=Xa.R;Hd=Xa.C;
Zd=Xa.a;xc=Xa.X;od=Xa.Y;qb=Xa.q;kc=Xa.r;Uc=Xa.Z;tc=Xa.c;cd=Xa.d;td=Xa.o;nb=Xa._;cc=Xa.i},function(){},function(){},function(Xa){wc=Xa.C;dc=Xa.S;Nc=Xa.a},function(Xa){$a=Xa._},function(){},function(){},function(){},function(){},function(){}],execute:function(){var Xa=lively.FreezerRuntime.recorderFor("LivelyTopBar/index.js");Xa.Morph=za;Xa.Icon=cb;Xa.Tooltip=mb;Xa.morph=Pb;Xa.Text=tb;Xa.Polygon=Fc;Xa.Label=vc;Xa.Path=Qc;Xa.Image=mc;Xa.HTMLMorph=ic;Xa.Ellipse=zc;Xa.pt=Dc;Xa.Rectangle=Gd;Xa.Color=Hd;
Xa.arr=Zd;Xa.Closure=xc;Xa.obj=od;Xa.LoadingIndicator=qb;Xa.resource=kc;Xa.Canvas=wc;Xa.getClassName=Uc;Xa.Selection=dc;Xa.SelectionElement=Nc;Xa.connect=tc;Xa.signal=cd;Xa.once=td;Xa.disconnect=nb;Xa.CommentBrowser=$a;var Gb=function(ub){var db=lively.FreezerRuntime.recorderFor("LivelyTopBar/index.js"),Xb=db.hasOwnProperty("LivelyTopBar")&&"function"===typeof db.LivelyTopBar?db.LivelyTopBar:db.LivelyTopBar=function(Fa){Fa&&Fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return cc(Xb,ub,[{key:"__additionally_serialize__",value:function(Fa,sb,Ya,pb){cc._get(Object.getPrototypeOf(Xb.prototype),"__additionally_serialize__",this).call(this,Fa,sb,Ya,pb);pb("haloFilterFn",this.getProperty("haloFilterFn"))}},{key:"registerCustomShape",value:function(Fa,sb,Ya,pb){this.shapeToClass[Fa]=sb;this.keyToShape[Ya]=Fa;this.shapeToIcon[Fa]={shortcut:Ya,args:pb};this.shapesCreatedViaDrag.push(sb)}},{key:"beforePublish",value:function(){this.activeSideBars=[];this.currentShapeMode=
"Rectangle";this.setEditMode("Halo")}},{key:"onLoad",value:function(){var Fa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(sb){if(1==sb.nextAddress)return Fa.isComponent?sb.return():sb.yield(Fa.whenRendered(),2);delete Fa.shapeToIcon._rev;document.body.style.background="black";Fa.setEditMode("Halo");Fa.userFlap.getSubmorphNamed("fast load toggler").refresh();sb.jumpToEnd()})}},{key:"onUserChanged",value:function(Fa){this.userFlap.onUserChanged(Fa)}},{key:"relayout",value:function(){this.respondsToVisibleWindow&&
(this.width=this.world().visibleBounds().width,this.position=Xa.pt(0,0))}},{key:"adjustElements",value:function(){var Fa=this.get("ipad status bar");Fa&&(Fa.width=this.width);this.userFlap.owner==this&&(this.userFlap.right=this.width-10)}},{key:"getShapeMenuItems",value:function(){var Fa=this;return Object.entries(this.shapeToIcon).map(function(sb){sb=$jscomp.makeIterator(sb);var Ya=sb.next().value,pb=sb.next().value;sb=pb.shortcut;pb=pb.args;return[[].concat($jscomp.arrayFromIterable(Fa.currentShapeMode===
Ya?[].concat($jscomp.arrayFromIterable(Xa.Icon.textAttribute("check",{fontSize:11,paddingTop:"2px"})),["   ",{}]):["     ",{}]),$jscomp.arrayFromIterable(Xa.Icon.textAttribute.apply(Xa.Icon,$jscomp.arrayFromIterable(pb))),["   "+Ya+" ",{float:"none"},"      "+sb,{float:"right",fontSize:11,opacity:.5,fontFamily:"IBM Plex Mono"}]),function(){Fa.currentShapeMode=Ya;Fa.setEditMode("Shape")}]})}},{key:"getSideBarMenuItems",value:function(){var Fa=this;return Object.entries(this.sideBarToIcon).map(function(sb){sb=
$jscomp.makeIterator(sb);var Ya=sb.next().value;sb=sb.next().value.args;return[[].concat($jscomp.arrayFromIterable(Fa.activeSideBars.includes(Ya)?[].concat($jscomp.arrayFromIterable(Xa.Icon.textAttribute("check",{fontSize:11,paddingTop:"2px"})),["   ",{}]):["     ",{}]),$jscomp.arrayFromIterable(Xa.Icon.textAttribute.apply(Xa.Icon,$jscomp.arrayFromIterable(sb))),["   "+Ya+" ",{float:"none"}]),function(){return Fa.openSideBar(Ya)}]})}},{key:"reloadSidebar",value:function(){this.sideBar.remove();this.sideBar=
null;this.stylingPalette.remove();this.stylingPalette=null;this.openSideBar("Scene Graph");this.openSideBar("Styling Palette")}},{key:"onKeyUp",value:function(Fa){"Hand"==this._tmpEditMode&&this.setEditMode("Hand",!0)}},{key:"onKeyDown",value:function(Fa){cc._get(Object.getPrototypeOf(Xb.prototype),"onKeyDown",this).call(this,Fa);if(Fa.isCommandKey()&&"Hand"==this._tmpEditMode)this.setEditMode("Halo",!0);else if(!Fa.isAltDown()){var sb=this.keyToShape;if(sb[Fa.key])this.currentShapeMode=sb[Fa.key],
this.setEditMode("Shape");else switch(Fa.key){case "Escape":this.setEditMode("Halo");break;case "T":this.setEditMode("Text")}}}},{key:"openSideBar",value:function(Fa){var sb=this,Ya,pb,$b,lc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Jb){switch(Jb.nextAddress){case 1:sb.activeSideBars.includes(Fa)?Xa.arr.remove(sb.activeSideBars,Fa):sb.activeSideBars.push(Fa);if("Scene Graph"!=Fa){Jb.jumpTo(2);break}if(sb.sideBar){Jb.jumpTo(3);break}Ya=Xa.LoadingIndicator.open("loading side bar");
return Jb.yield(Ya.whenRendered(),4);case 4:return pb=sb,Jb.yield(Xa.resource("part://SystemIDE/scene graph side bar master").read(),5);case 5:return pb.sideBar=Jb.yieldResult,sb.sideBar.hasFixedPosition=!0,sb.sideBar.respondsToVisibleWindow=!0,sb.sideBar.openInWorld(),sb.sideBar.right=0,Jb.yield(sb.sideBar.whenRendered(),6);case 6:Ya.remove();case 3:sb.sideBar.toggle(sb.activeSideBars.includes("Scene Graph"));case 2:if("Styling Palette"!=Fa){Jb.jumpTo(0);break}if(sb.stylingPalette){Jb.jumpTo(8);
break}$b=Xa.LoadingIndicator.open("loading side bar");return Jb.yield($b.whenRendered(),9);case 9:return lc=sb,Jb.yield(Xa.resource("part://SystemIDE/styling side bar master").read(),10);case 10:return lc.stylingPalette=Jb.yieldResult,sb.stylingPalette.collapseAll(),sb.stylingPalette.hasFixedPosition=!0,sb.stylingPalette.respondsToVisibleWindow=!0,sb.stylingPalette.openInWorld(),sb.stylingPalette.left=sb.world().width,Jb.yield(sb.stylingPalette.whenRendered(),11);case 11:$b.remove();case 8:sb.stylingPalette.toggle(sb.activeSideBars.includes("Styling Palette")),
Jb.jumpToEnd()}})}},{key:"onMouseDown",value:function(Fa){var sb=this.get("select shape type"),Ya=this.get("shape mode button"),pb=this.get("side bar selector"),$b=this.primaryTarget||this.world();Fa.targetMorph==sb&&(this.world().openWorldMenu(Fa,this.getShapeMenuItems()).position=Ya.globalBounds().bottomLeft().subPt(this.world().scroll));"undo button"==Fa.targetMorph.name&&$b.execCommand("undo");"redo button"==Fa.targetMorph.name&&$b.execCommand("redo");"save button"==Fa.targetMorph.name&&$world.execCommand("save world");
Fa.targetMorph==Ya&&this.setEditMode("Shape");"text mode button"==Fa.targetMorph.name&&this.setEditMode("Text");"hand mode button"==Fa.targetMorph.name&&this.setEditMode("Hand");"halo mode button"==Fa.targetMorph.name&&this.setEditMode("Halo");"open component browser"==Fa.targetMorph.name&&this.interactivelyLoadComponent();"load world button"==Fa.targetMorph.name&&this.world().execCommand("load world");"comment browser button"==Fa.targetMorph.name&&this.toggleCommentBrowser();Fa.targetMorph==pb&&
(this.world().openWorldMenu(Fa,this.getSideBarMenuItems()).position=pb.globalBounds().bottomLeft().subPt(this.world().scroll))}},{key:"colorCommentBrowserButton",value:function(){var Fa=this.get("user flap"),sb=Fa.haloShadow;Fa=Fa.haloColor;var Ya=this.get("comment browser button");Ya.fontColor=Fa;Ya.dropShadow=sb}},{key:"uncolorCommentBrowserButton",value:function(){var Fa=this.get("comment browser button"),sb=Xa.Color.rgb(102,102,102);Fa.dropShadow=!1;Fa.fontColor=sb}},{key:"toggleCommentBrowser",
value:function(){var Fa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(sb){Xa.CommentBrowser.isOpen()?Fa.uncolorCommentBrowserButton():Fa.colorCommentBrowserButton();return sb.yield(Fa.world().execCommand("toggle comment browser"),0)})}},{key:"commentCountBadge",get:function(){return this.get("comment browser button").get("comment count badge")}},{key:"interactivelyLoadComponent",value:function(){var Fa=this,sb,Ya,pb,$b,lc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Jb){if(1==
Jb.nextAddress)return sb=Fa.get("open component browser"),Ya=Fa.userFlap,pb=Ya.haloShadow,$b=Ya.haloColor,lc=Xa.Color.rgb(102,102,102),sb.fontColor=$b,sb.dropShadow=pb,Jb.yield(Fa.world().execCommand("browse and load component"),2);sb.dropShadow=!1;sb.fontColor=lc;Jb.jumpToEnd()})}},{key:"setEditMode",value:function(Fa,sb){var Ya=this;sb=void 0===sb?!1:sb;this.editMode=Fa;var pb=this.primaryTarget||this.world(),$b=this.userFlap,lc=$b.haloShadow,Jb=$b.haloColor,Cb=Xa.Color.rgb(102,102,102);sb||(this._tmpEditMode=
Fa);$b=this.get("shape mode button");var Bb=this.get("text mode button"),sa=this.get("hand mode button"),Ta=this.get("halo mode button");[["Shape",$b.submorphs],["Text",[Bb]],["Hand",[sa]],["Halo",[Ta]]].forEach(function(O){var U=$jscomp.makeIterator(O);O=U.next().value;U=U.next().value;"Shape"==Fa?Ya.toggleShapeMode(pb,!0,Ya.currentShapeMode):"Text"==Fa?Ya.toggleShapeMode(pb,!0,"Text"):Ya.toggleShapeMode(pb,!1);Ya.showHaloPreviews("Halo"==Fa);sb||"Halo"==Fa||Ya.world().halos().forEach(function(ra){return ra.remove()});
O==Fa?U.forEach(function(ra){ra.dropShadow=lc;ra.fontColor=Jb}):U.forEach(function(ra){ra.dropShadow=null;ra.fontColor=Cb})})}},{key:"canBeCreatedViaDrag",value:function(Fa){return this.shapesCreatedViaDrag.includes(Fa)}},{key:"toggleShapeMode",value:function(Fa,sb,Ya){var pb=this.shapeToClass;sb?(Fa.nativeCursor="crosshair",Fa._yieldShapeOnClick=pb[Ya]):(Fa._yieldShapeOnClick=!1,Fa.nativeCursor="auto")}},{key:"handleShapeCreation",value:function(Fa){var sb=this.primaryTarget||this.world(),Ya=sb._yieldShapeOnClick;
if(!Ya)return!1;sb._sizeTooltip&&sb._sizeTooltip.remove();if(Fa.targetMorph!=sb)return!1;if(sb._shapeRequest&&Ya&&!sb._yieldedShape){var pb=sb.localize(this.world().firstHand.position);switch(Ya){case Xa.Image:sb.addMorph(Xa.morph({type:Ya,position:pb,extent:Xa.pt(150,150),fill:Xa.Color.transparent,imageUrl:"https://i.imgur.com/uGRFZEs.jpg"}));break;case Xa.Label:sb.addMorph(Xa.morph({type:Ya,position:pb,value:"I am a label!",fill:Xa.Color.transparent}));break;case Xa.Text:if(Fa.targetMorph.isText)return;
sb.addMorph(Xa.morph({type:Ya,position:pb,readOnly:!0,textString:"I am a text field!",fill:Xa.Color.transparent}))}}Ya==Xa.Text&&sb._yieldedShape?sb._yieldedShape.focus():sb._yieldedShape&&sb._yieldedShape.owner&&this.showHaloFor(sb._yieldedShape);sb._yieldedShape=null;sb._shapeRequest=!1}},{key:"prepareShapeCreation",value:function(Fa){var sb=this.primaryTarget||this.world(),Ya=sb._yieldShapeOnClick;if(!Ya||!this.canBeCreatedViaDrag(Ya))return!1;sb._yieldedShape=Xa.morph(Object.assign({type:Ya,position:Fa.positionIn(sb),
extent:Xa.pt(1,1),fill:Xa.Color.transparent,borderWidth:1,borderColor:Xa.Color.rgb(23,160,251),fixedHeight:!0,fixedWidth:!0,lineWrapping:!0},Ya==Xa.Text?this.getDefaultTextAttrs():{},{},Ya==Xa.Image?this.getImageDefaultAttrs():{},{},Ya==Xa.Polygon?this.getPolyDefaultAttrs():{},{},Ya==Xa.Path?this.getPathDefaultAttrs():{}));sb._sizeTooltip=Xa.morph({type:Xa.Tooltip,padding:Xa.Rectangle.inset(5,5,5,5),styleClasses:["Tooltip"]}).openInWorld();return!0}},{key:"getPolyDefaultAttrs",value:function(){return{vertices:[Xa.pt(131.4,
86.3),Xa.pt(171,139.6),Xa.pt(105.9,119.9),Xa.pt(65.3,172.5),Xa.pt(64.7,107),Xa.pt(0,86.3),Xa.pt(64.7,65.5),Xa.pt(65.3,0),Xa.pt(105.9,52.6),Xa.pt(171,32.9),Xa.pt(131.4,86.3)],borderWidth:1}}},{key:"getPathDefaultAttrs",value:function(){return{vertices:[Xa.pt(0,0),Xa.pt(1,1)],borderWidth:1}}},{key:"getImageDefaultAttrs",value:function(){return{imageUrl:"https://i.imgur.com/uGRFZEs.jpg"}}},{key:"getDefaultTextAttrs",value:function(){return{readOnly:!0}}},{key:"yieldShapeIfNeeded",value:function(Fa){var sb=
this.primaryTarget||this.world();return sb._yieldedShape?(!sb._yieldedShape.owner&&10<Fa.state.absDragDelta.r()&&sb.addMorph(sb._yieldedShape),sb._yieldedShape.extent=Fa.positionIn(sb.world()).subPt(Fa.state.dragStartPosition).subPt(Xa.pt(1,1)).maxPt(Xa.pt(1,1)),sb._sizeTooltip.description=sb._yieldShapeOnClick[Symbol.for("__LivelyClassName__")]+": "+sb._yieldedShape.width.toFixed(0)+"x"+sb._yieldedShape.height.toFixed(0),sb._sizeTooltip.topLeft=Fa.positionIn(sb.world()).addXY(15,15),!0):!1}},{key:"handleHaloSelection",
value:function(Fa){var sb=this.world(),Ya=this.primaryTarget||sb;this._showHaloPreview&&this._currentlyHighlighted&&0==sb.halos().length&&(Fa.stop(),sb.getSubmorphsByStyleClassName("HaloPreview").forEach(function(pb){return pb.remove()}),this.showHaloFor(this._currentlyHighlighted));Fa.targetMorph==Ya&&(Ya._shapeRequest=!0)}},{key:"showHaloFor",value:function(Fa){var sb=this;if(Fa){if(Xa.obj.isArray(Fa)){if(0==Fa.length)return;var Ya=this.world().showHaloForSelection(Fa)}else Ya=this.world().showHaloFor(Fa);
Xa.once(Ya,"remove",function(){Ya.target!=sb.world().focusedMorph&&Xa.signal(sb.primaryTarget,"onHaloRemoved",Fa)});this.activeHaloItems.includes("*")||(Ya.activeItems=this.activeHaloItems);Ya.topBar=this;Xa.signal(this.primaryTarget,"onHaloOpened",Fa)}}},{key:"handleHaloPreview",value:function(Fa){if(this._showHaloPreview){var sb=this.haloFilterFn,Ya=this.primaryTarget||this.world(),pb=Ya.morphsContainingPoint(Fa.positionIn(Ya.world()));"hoverout"==Fa.type&&(pb=[Ya]);Fa=pb.filter(function($b){return sb($b)&&
$b.halosEnabled&&[$b].concat($jscomp.arrayFromIterable($b.ownerChain())).every(function(lc){return lc.visible&&0<lc.opacity&&!lc.styleClasses.includes("HaloPreview")})})[0];pb.find(function($b){return $b.isMenuItem})||this.showHaloPreviewFor(Fa)}}},{key:"showHaloPreviewFor",value:function(Fa){var sb=this.primaryTarget||this.world();if(Fa&&(![Fa].concat($jscomp.arrayFromIterable(Fa.ownerChain())).find(function(Ya){return Ya.isComponent})&&Fa.getWindow()?Fa=null:[Fa].concat($jscomp.arrayFromIterable(Fa.ownerChain())).find(function(Ya){return Ya.isEpiMorph})?
Fa=null:Fa==sb&&(Fa=null),this._currentlyHighlighted!=Fa&&(this.clearHaloPreviews(),this._currentlyHighlighted=Fa),!(0<this.world().halos().length)&&Fa)){this._previewCache||(this._previewCache=new WeakMap);sb=Xa.Morph;switch(Xa.getClassName(Fa)){case "Ellipse":sb=Xa.Ellipse}sb=this._previewCache.get(Fa)||Xa.morph({type:sb,styleClasses:["HaloPreview"],epiMorph:!0,fill:Xa.Color.transparent,reactsToPointer:!1,halosEnabled:!1,acceptsDrops:!1,border:{color:Xa.Color.rgb(23,160,251),width:1}});sb.owner||
this.world().addMorph(sb);sb.setBounds(Fa.globalBounds());sb.borderColor=Xa.Color.rgb(23,160,251);sb.borderStyle="solid";Fa.master&&(sb.borderColor=Xa.Color.purple);Fa.ownerChain().find(function(Ya){return Ya.master&&Ya.master.managesMorph(Fa)})&&(sb.borderColor=Xa.Color.purple,sb.borderStyle="dotted");Fa.isComponent&&(sb.borderColor=Xa.Color.magenta);this._previewCache.set(Fa,sb)}}},{key:"showHaloPreviews",value:function(Fa){Fa||this.clearHaloPreviews();this._showHaloPreview=Fa}},{key:"clearHaloPreviews",
value:function(){this.world().getSubmorphsByStyleClassName("HaloPreview").forEach(function(Fa){return Fa.remove()})}},{key:"prepareDragSelection",value:function(Fa){var sb=(this.primaryTarget||this.world()).world();this._selectionStartPos=Fa.positionIn(sb);this._morphSelection=sb.addMorph({type:Xa.Selection,epiMorph:!0,reactsToPointer:!1,position:this._selectionStartPos,extent:Fa.state.dragDelta});this._selectedMorphs={}}},{key:"adjustDragSelection",value:function(Fa){var sb=this,Ya=this.primaryTarget||
this.world(),pb=Ya.world(),$b=Xa.Rectangle.fromAny(Fa.position,this._selectionStartPos);this._morphSelection.setBounds($b);Ya.submorphs.forEach(function(lc){if(!lc.isSelectionElement&&!lc.isHand){var Jb=lc.globalBounds(),Cb=$b.containsRect(Jb);!sb._selectedMorphs[lc.id]&&Cb&&(sb._selectedMorphs[lc.id]=pb.addMorph({type:Xa.SelectionElement,bounds:Jb},sb._morphSelection));sb._selectedMorphs[lc.id]&&!Cb&&(sb._selectedMorphs[lc.id].remove(),delete sb._selectedMorphs[lc.id])}})}},{key:"finishDragSelectionIfNeeded",
value:function(Fa){if(this._morphSelection){var sb=this.world();this._morphSelection.fadeOut(200);Xa.obj.values(this._selectedMorphs).map(function(Ya){return Ya.remove()});this.showHaloFor(Object.keys(this._selectedMorphs).map(function(Ya){return sb.getMorphWithId(Ya)}));this._selectedMorphs={};this._morphSelection=null}}},{key:"onTargetDragStart",value:function(Fa){!this.prepareShapeCreation(Fa)&&Fa.leftMouseButtonPressed()&&this.prepareDragSelection(Fa)}},{key:"onTargetDrag",value:function(Fa){!this.yieldShapeIfNeeded(Fa)&&
this._morphSelection&&this.adjustDragSelection(Fa)}},{key:"detachFromTarget",value:function(Fa){Xa.disconnect(Fa,"onMouseMove",this,"handleHaloPreview");Xa.disconnect(Fa,"onMouseDown",this,"handleHaloSelection");Xa.disconnect(Fa,"onMouseUp",this,"handleShapeCreation");Xa.disconnect(Fa,"onDragStart",this,"onTargetDragStart");Xa.disconnect(Fa,"onDrag",this,"onTargetDrag");Xa.disconnect(Fa,"onDragEnd",this,"finishDragSelectionIfNeeded")}},{key:"attachToTarget",value:function(Fa){this.primaryTarget&&
this.detachFromTarget(this.primaryTarget);this.primaryTarget=Fa;this.setEditMode("Halo");Xa.connect(Fa,"onMouseMove",this,"handleHaloPreview",{garbageCollect:!0});Xa.connect(Fa,"onHoverOut",this,"handleHaloPreview",{garbageCollect:!0});Xa.connect(Fa,"onMouseDown",this,"handleHaloSelection",{garbageCollect:!0});Xa.connect(Fa,"onMouseUp",this,"handleShapeCreation",{garbageCollect:!0});Xa.connect(Fa,"onDragStart",this,"onTargetDragStart",{garbageCollect:!0});Xa.connect(Fa,"onDrag",this,"onTargetDrag",
{garbageCollect:!0});Xa.connect(Fa,"onDragEnd",this,"finishDragSelectionIfNeeded",{garbageCollect:!0})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LivelyTopBar"}},{key:"properties",get:function(){return{isTopBar:{readOnly:!0,get:function(){return!0}},activeHaloItems:{initialize:function(Fa){Fa||(this.activeHaloItems=["*"])}},primaryTarget:{doc:"A reference to the morph that the top bar considers its primary target",defaultValue:null},haloFilterFn:{defaultValue:"() => true",derived:!0,
set:function(Fa){this.setProperty("haloFilterFn",Fa)},get:function(){return Xa.Closure.fromSource(this.getProperty("haloFilterFn"),{target:this.primaryTarget}).asFunction()}},userFlap:{},activeSideBars:{},currentShapeMode:{after:["submorphs"],set:function(Fa){this.setProperty("currentShapeMode",Fa);this.get("shape status icon").textAndAttributes=Xa.Icon.textAttribute(this.shapeToIcon[Fa].args[0])}},sideBarToIcon:{readOnly:!0,get:function(){return{"Scene Graph":{args:["sitemap",{textStyleClasses:["fas"]}]},
"Styling Palette":{args:["palette",{textStyleClasses:["fas"]}]}}}},shapeToIcon:{initialize:function(Fa){this.shapeToIcon=Fa||{Rectangle:{shortcut:"R",args:["square",{textStyleClasses:["fas"]}]},Ellipse:{shortcut:"E",args:["circle",{textStyleClasses:["fas"]}]},Image:{shortcut:"I",args:["image",{textStyleClasses:["fas"],paddingTop:"1px"}]},Path:{shortcut:"P",args:["bezier-curve",{fontSize:13,paddingTop:"3px"}]},Polygon:{shortcut:"Q",args:["draw-polygon",{fontSize:17}]},Label:{shortcut:"L",args:["tag",
{paddingTop:"1px"}]},Canvas:{shortcut:"C",args:["chess-board",{paddingTop:"1px"}]},HTML:{shortcut:"H",args:["code",{paddingTop:"1px"}]}}}},keyToShape:{initialize:function(Fa){this.keyToShape=Fa||{R:"Rectangle",E:"Ellipse",I:"Image",P:"Path",Q:"Polygon",L:"Label",C:"Canvas",H:"HTML"}}},shapeToClass:{serialize:!1,defaultValue:{Rectangle:Xa.Morph,Ellipse:Xa.Ellipse,HTML:Xa.HTMLMorph,Canvas:Xa.Canvas,Image:Xa.Image,Path:Xa.Path,Label:Xa.Label,Polygon:Xa.Polygon,Text:Xa.Text}},shapesCreatedViaDrag:{serialize:!1,
initialize:function(){this.shapesCreatedViaDrag=[Xa.Morph,Xa.Ellipse,Xa.HTMLMorph,Xa.Canvas,Xa.Text,Xa.Polygon,Xa.Path,Xa.Image]}}}}}],db,{pathInPackage:function(){return"index.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"LivelyTopBar",version:"0.1.1-269"}}},{start:740,end:24410})}(Xa.Morph);Gb=Xa.LivelyTopBar;Xa.default=Gb}}});
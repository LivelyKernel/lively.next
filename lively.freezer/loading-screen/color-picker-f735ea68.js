System.register(["./__root_module__-c4d7431e.js","./index-ad3a1066.js"],function(ta){var nb,Bb,Vb,Qb,Dd,Ic,ud,Nc,Jc,Xc,id,Fd,nd,Yc,Ta,sb,dc,ac,Vc,Hd,hc,kc,xb,yb,wc,Kc,zb,ab,Kb,nc,da,qa,Va,cb,kb,Ma,Oa,lb,Wb,Nb,rc,xc,I,T,ua,Da,Lb,ub,Ja,Rb,Mc,Rc,yc;return{setters:[function(Ga){nb=Ga.C;Bb=Ga.a1;Vb=Ga.b3;Qb=Ga.b4;Dd=Ga.b5;Ic=Ga.b6;ud=Ga.b7;Nc=Ga.b8;Jc=Ga.a2;Xc=Ga.af;id=Ga.b9;Fd=Ga.ba;nd=Ga.bb;Yc=Ga.ah;Ta=Ga.aY;sb=Ga.aj;dc=Ga.aA;ac=Ga.a8;Vc=Ga.aZ;Hd=Ga.al;hc=Ga.I;kc=Ga.aT;xb=Ga.b1;yb=Ga.bc;wc=Ga.bd;
Kc=Ga.ap;zb=Ga.aq;ab=Ga.ao;Kb=Ga.a5;nc=Ga.be;da=Ga.ar;qa=Ga.an;Va=Ga.aB;cb=Ga.a9;kb=Ga.bf;Ma=Ga.ak;Oa=Ga.am;lb=Ga.aa;Wb=Ga._;Nb=Ga.as;rc=Ga.s;xc=Ga.a6;I=Ga.a0;T=Ga.bg;ua=Ga.bh;Da=Ga.bi;Lb=Ga.ag;ub=Ga.at;Ja=Ga.aM},function(Ga){Rb=Ga.p;Mc=Ga.P;Rc=Ga._;yc=Ga.N}],execute:function(){var Ga=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");Ga.Color=nb;Ga.rect=Bb;Ga.Complementary=Vb;Ga.Triadic=Qb;Ga.Tetradic=Dd;Ga.Quadratic=Ic;Ga.Analogous=ud;Ga.Neutral=Nc;Ga.pt=Jc;Ga.Point=Xc;Ga.flatDesignColors=
id;Ga.materialDesignColors=Fd;Ga.webSafeColors=nd;Ga.Morph=Yc;Ga.CustomLayout=Ta;Ga.VerticalLayout=sb;Ga.HorizontalLayout=dc;Ga.Text=ac;Ga.TilingLayout=Vc;Ga.Ellipse=Hd;Ga.Image=hc;Ga.StyleSheet=kc;Ga.DropDownSelector=xb;Ga.ModeSelector=yb;Ga.Slider=wc;Ga.connect=Kc;Ga.signal=zb;Ga.num=ab;Ga.arr=Kb;Ga.SnapLayout=nc;Ga.WHEEL_URL="/lively.ide/assets/color-wheel.png";Ga.duration=200;(function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Ib=fd.hasOwnProperty("ColorPaletteField")&&
"function"===typeof fd.ColorPaletteField?fd.ColorPaletteField:fd.ColorPaletteField=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"onHoverIn",value:function(){if(this.color){var fa=$jscomp.makeIterator(this.color.toHSB()),ma=fa.next().value,tb=fa.next().value;fa=fa.next().value;this.borderColor=Ga.Color.hsb(ma,1<tb+.5?tb-.5:tb+.5,1<fa+.5?fa-.5:fa+.5)}}},{key:"onHoverOut",value:function(){this.borderColor=
Ga.Color.transparent}},{key:"onMouseDown",value:function(){Ga.signal(this,"updateColor",this.color)}}],[{key:"className",get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:Ga.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||Ga.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||Ga.Color.transparent}},styleClasses:{after:["color"],initialize:function(){this.styleClasses=
this.color?["colorField"]:["vacantColorField"]}}}}}],fd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:653,end:1603})})(Ga.Morph);(function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Ib=fd.hasOwnProperty("ColorHarmonyField")&&"function"===
typeof fd.ColorHarmonyField?fd.ColorHarmonyField:fd.ColorHarmonyField=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"onMouseDown",value:function(){Ga.signal(this,"updateColor",this.color)}}],[{key:"className",get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:Ga.pt(80,60)},fill:{defaultValue:Ga.Color.transparent},master:{initialize:function(){this.master=
{auto:"styleguide://SystemWidgets/color harmony field"}}},color:{set:function(fa){var ma=$jscomp.makeIterator(this.submorphs),tb=ma.next().value;ma=ma.next().value;var H=$jscomp.makeIterator(fa?fa.toHSB():[]),ka=H.next().value,Ca=H.next().value;H=H.next().value;this.setProperty("color",fa);fa&&tb&&ma&&(tb.fill=fa,ma.textString=fa.toHexString(),ma.fontColor=Ga.Color.hsb(ka,1<Ca+.5?Ca-.5:Ca+.5,1<H+.5?H-.5:H+.5))}},submorphs:{after:["color"],initialize:function(){var fa=$jscomp.makeIterator((this.color||
Ga.Color.transparent).toHSB()),ma=fa.next().value,tb=fa.next().value;fa=fa.next().value;this.submorphs=[new Ga.Morph({fill:this.color,extent:Ga.pt(80,50)}),new Ga.Text({textString:ma.toFixed()+", "+tb.toFixed(2)+", "+fa.toFixed(2),fill:Ga.Color.transparent,fontColor:Ga.Color.gray.darker(),bottomLeft:Ga.pt(0,50)})]}}}}}],fd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:1605,end:3066})})(Ga.Morph);(function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Ib=fd.hasOwnProperty("HarmonyDisplay")&&"function"===typeof fd.HarmonyDisplay?fd.HarmonyDisplay:fd.HarmonyDisplay=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"update",value:function(fa){var ma=$jscomp.makeIterator(fa.pivotColor.toHSB()),
tb=ma.next().value,H=ma.next().value;ma=ma.next().value;tb=fa.harmony.chord({hue:tb,saturation:H,brightness:ma});tb.length!=this.submorphs.length?this.submorphs=tb.map(function(ka){ka=new Ga.ColorHarmonyField({color:ka});Ga.connect(ka,"updateColor",fa,"color");return ka}):Ga.arr.zip(this.submorphs,tb).forEach(function(ka){var Ca=$jscomp.makeIterator(ka);ka=Ca.next().value;Ca=Ca.next().value;ka.color=Ca})}}],[{key:"className",get:function(){return"HarmonyDisplay"}}],fd,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3068,end:3642})})(Ga.Morph);(function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Ib=fd.hasOwnProperty("PivotColorControl")&&"function"===typeof fd.PivotColorControl?fd.PivotColorControl:fd.PivotColorControl=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"update",value:function(fa){this.pivotColor=fa.pivotColor}},{key:"onDrag",value:function(fa){var ma=$jscomp.makeIterator(this.pivotColor.toHSB()),tb=ma.next().value,H=ma.next().value;ma=ma.next().value;tb=Ga.num.toRadians(tb);fa=Ga.Point.polar(50*H,tb).addPt(fa.state.dragDelta);tb=Ga.num.toDegrees(fa.theta());tb=0>tb?tb+360:tb;H=Math.min(fa.r()/50,1);this.pivotColor=Ga.Color.hsb(tb,H,ma)}}],[{key:"className",
get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:Ga.Color.blue},draggable:{defaultValue:!0}}}}],fd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3644,end:4288})})(Ga.Ellipse);(function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
Ib=fd.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof fd.HarmonyVisualizer?fd.HarmonyVisualizer:fd.HarmonyVisualizer=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"update",value:function(fa){var ma=$jscomp.makeIterator(this.submorphs).next().value,tb=this.get("pivot control"),H=$jscomp.makeIterator(fa.pivotColor.toHSB()),ka=H.next().value,Ca=H.next().value;H=H.next().value;var rb=Ga.num.toRadians(ka);
ka=fa.harmony.chord({hue:ka,saturation:Ca,brightness:H}).map(function(sc){var Ac=$jscomp.makeIterator(sc.toHSB()),Bd=Ac.next().value;sc=Ac.next().value;Ac.next();Ac=Ga.num.toRadians(Bd);return Ga.Point.polar(50*sc,Ac)});ma.fill=Ga.Color.black.withA(1-H);tb.update(fa);ma.submorphs.length-1!=ka.length?ma.submorphs=[].concat($jscomp.arrayFromIterable(ka.map(function(sc){return new Ga.Ellipse({center:sc,fill:Ga.Color.transparent,draggable:!1,borderWidth:1,borderColor:Ga.Color.black})})),[tb]):(Ga.arr.zip(ma.submorphs,
ka).forEach(function(sc){var Ac=$jscomp.makeIterator(sc);sc=Ac.next().value;if(Ac=Ac.next().value)sc.center=Ac}),tb.center=Ga.Point.polar(50*Ca,rb))}}],[{key:"className",get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new Ga.PivotColorControl({name:"pivot control"})]}]}}}}}],fd,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4290,end:5783})})(Ga.Image);(function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Ib=fd.hasOwnProperty("HarmonyPalette")&&"function"===typeof fd.HarmonyPalette?fd.HarmonyPalette:fd.HarmonyPalette=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"update",value:function(fa){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=fa.pivotBrightness,this.harmony=fa.harmony,this.get("harmonies").update(fa),this.get("harmony visualizer").update(fa),this.updateInProgress=!1)}},{key:"harmonyControl",value:function(){var fa,ma,tb=new Ga.Morph({name:"harmonyControl",submorphs:[new Ga.HarmonyVisualizer({name:"harmony visualizer"}),ma=new Ga.Slider({min:0,
max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),fa=new Ga.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new Ga.Complementary,Triadic:new Ga.Triadic,Tetradic:new Ga.Tetradic,Quadratic:new Ga.Quadratic,Analogous:new Ga.Analogous,Neutral:new Ga.Neutral}})]});Ga.connect(ma,"value",this,"pivotBrightness");Ga.connect(fa,"selectedValue",this,"harmony");return tb}}],
[{key:"className",get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new Ga.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],initialize:function(){this.submorphs=[new Ga.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],fd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5785,end:7880})})(Ga.Morph);var qc=ta("C",function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),Ib=fd.hasOwnProperty("ColorPalette")&&"function"===typeof fd.ColorPalette?fd.ColorPalette:fd.ColorPalette=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return da(Ib,Md,[{key:"fadeIntoWorld",value:function(fa){da._get(Object.getPrototypeOf(Ib.prototype),"fadeIntoWorld",this).call(this,fa);this.initPosition=fa;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function(fa){"Escape"==fa.key&&this.close()}},{key:"close",value:function(fa){fa?this.fadeOut(fa):this.remove();Ga.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",extent:Ga.pt(400,253),submorphs:[this.solidColorPalette(),new Ga.HarmonyPalette({name:"harmony palette",
isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var fa=this.get("solidColorPalette"),ma=this.get("paletteView");fa.visible||(ma.submorphs.forEach(function(tb){return tb.animate({isLayoutable:!1,visible:!1,duration:200})}),fa.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var fa=this.get("paletteView");this.get("harmony palette").visible||(fa.submorphs.forEach(function(ma){return ma.animate({isLayoutable:!1,visible:!1,
duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var fa=new Ga.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette","Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});Ga.connect(fa,"Color Palette",this,"selectSolidMode");Ga.connect(fa,"Color Harmonies",this,"selectHarmonyMode");return fa}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",
master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var fa=this.getColorsFor(this.colorPalette),ma=fa.colors,tb=fa.mod;return this.cachedPalette[fa.name]||this.getPalette(ma,tb)}},{key:"getPalette",value:function(fa,ma){var tb=this,H=Math.max(Math.ceil(fa.length/ma),15),ka=H*this.colorFieldWidth,Ca=ma*this.colorFieldWidth;fa=[].concat($jscomp.arrayFromIterable(fa),$jscomp.arrayFromIterable(Ga.arr.withN(H*
ma-fa.length,null)));return{extent:Ga.pt(ka,Ca),name:"paletteContainer",submorphs:fa.map(function(rb){rb=new Ga.ColorPaletteField({color:rb&&Ga.Color.rgbHex(rb),extent:Ga.pt(tb.colorFieldWidth,tb.colorFieldWidth)});Ga.connect(rb,"updateColor",tb,"color");return rb})}}},{key:"switchPalette",value:function(fa){var ma=fa.name,tb=fa.colors;fa=fa.mod;var H=this.get("solidColorPalette"),ka=$jscomp.makeIterator(H.submorphs);ka.next();ka=ka.next().value;this.cachedPalette[ma]=this.cachedPalette[ma]||this.getPalette(tb,
fa,ma);H.submorphs=[this.cachedPalette[ma],ka]}},{key:"getPaletteDescription",value:function(fa){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",custom:"Your personal set of customly defined colors.",materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",
flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[fa]}},{key:"updatePaletteDescription",value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function(fa){return Object.assign({name:fa},
{flatDesign:{colors:Ga.flatDesignColors,mod:11},materialDesign:{colors:Ga.materialDesignColors,mod:15},webSafe:{colors:Ga.webSafeColors,mod:12}}[fa])}},{key:"paletteConfig",value:function(){var fa,ma={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[fa=new Ga.DropDownSelector({isHaloItem:!0,name:"paletteSelector",selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};
Ga.connect(fa,"selectedValue",this,"colorPalette");return ma}}],[{key:"className",get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:Ga.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function(fa){this.setProperty("colorPalette",fa);this.switchPalette(this.getColorsFor(fa));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function(fa){this.setProperty("pivotColor",fa);this.get("harmony palette").update(this)}},
color:{set:function(fa){this.setProperty("color",fa);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var fa=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());fa.next();fa.next();return fa.next().value},set:function(fa){var ma=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),tb=ma.next().value;ma=ma.next().value;this.pivotColor=Ga.Color.hsb(tb,ma,fa)}},harmony:{after:["submorphs","pivotColor"],
defaultValue:new Ga.Complementary,set:function(fa){this.setProperty("harmony",fa);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var fa=$jscomp.makeIterator(this.color.toHSB()),ma=fa.next().value,tb=fa.next().value;fa.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=Ga.Color.hsb(ma,
tb,1);Ga.connect(this.get("harmony palette"),"harmony",this,"harmony");Ga.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");Ga.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],fd,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:7946,end:15967})}(Ga.Morph));Ga.ColorPalette=qc;Ga.ColorPalette=qc;Ga.ColorPalette=qc;var Za=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");Za.Morph=Yc;Za.Icon=qa;Za.ProportionalLayout=Va;Za.config=cb;Za.Text=ac;Za.ShadowObject=kb;Za.GridLayout=Ma;Za.TilingLayout=Vc;Za.StyleSheet=kc;Za.morph=Oa;Za.HorizontalLayout=dc;Za.VerticalLayout=sb;Za.KeyHandler=lb;Za.connect=Kc;Za.signal=zb;Za.arr=Kb;Za.promise=Wb;Za.fun=Nb;Za.string=rc;Za.obj=xc;Za.Color=
nb;Za.rect=Bb;Za.Rectangle=I;Za.pt=Jc;Za.popovers=Rb;Za.ModeSelector=yb;Za.DropDownSelector=xb;Za.SearchField=T;Za.CheckBox=ua;Za.Popover=Mc;Za.SvgStyleHalo=Rc;Za.NumberWidget=yc;Za.Icons=Da;Za.duration=200;var Pa=ta("c",Za.colorWidgets||{});Za.colorWidgets=Pa;Za.colorWidgets=Pa;Za.colorWidgets=Pa;(function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Ib=fd.hasOwnProperty("SelectableControl")&&"function"===typeof fd.SelectableControl?fd.SelectableControl:fd.SelectableControl=
function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"select",value:function(fa){var ma=this,tb,H,ka;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ca){if(1==Ca.nextAddress)return ma.target?Ca.yield(ma.target.execCommand(fa),2):Ca.return();tb=Ca.yieldResult;H=ma.get("modeSelector");tb.opacity=0;ma.lastLabel&&(ka=H.submorphs.indexOf(ma.lastLabel)<H.submorphs.indexOf(H.currentLabel),tb.topLeft=
H.bottomLeft.addXY(ka?20:-20,10));ma.lastLabel=H.currentLabel;ma.animate({submorphs:[H,tb],duration:Za.duration});tb.animate({opacity:1,duration:Za.duration});Ca.jumpToEnd()})}}],[{key:"className",get:function(){return"SelectableControl"}},{key:"properties",get:function(){return{target:{type:"Morph"},selectableControls:{},selectedControl:{},fill:{defaultValue:Za.Color.transparent},layout:{initialize:function(){this.layout=new Za.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function(fa){return this.container.submorphs.indexOf(fa)}})}},
submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var fa=new Za.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});this.submorphs=[fa];fa.width=100;Za.connect(fa,"switchLabel",this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],fd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:946,end:2555})})(Za.Morph);(function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Ib=fd.hasOwnProperty("ToggledControl")&&"function"===typeof fd.ToggledControl?fd.ToggledControl:fd.ToggledControl=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"toggle",value:function(fa){var ma=$jscomp.makeIterator(this.submorphs).next().value,
tb=this.toggledControl(fa);ma=[ma].concat($jscomp.arrayFromIterable(tb?[tb]:[]));Za.signal(this,"update",fa&&tb.value);tb&&(tb.opacity=0);this.animate({submorphs:ma,duration:Za.duration});tb&&tb.animate({opacity:1,duration:Za.duration})}}],[{key:"className",get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:Za.Color.transparent},layout:{initialize:function(){this.layout=
new Za.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var fa=new Za.CheckBox({checked:this.checked});this.submorphs=[{fill:Za.Color.transparent,layout:new Za.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:Za.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},fa]}];this.toggle(this.checked);Za.connect(fa,"toggle",this,"toggle")}}}}}],fd,{pathInPackage:function(){return"styling/style-popover.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2557,end:4228})})(Za.Morph);(function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Ib=fd.hasOwnProperty("StylePopover")&&"function"===typeof fd.StylePopover?fd.StylePopover:fd.StylePopover=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"setupConnections",value:function(){}},{key:"controls",value:function(){return[]}}],[{key:"className",get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=Za.morph({layout:new Za.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:Za.Color.transparent,submorphs:this.controls()});this.setupConnections()}}}}}],fd,{pathInPackage:function(){return"styling/style-popover.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4230,end:4772})})(Za.Popover);var Qa=function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Ib=fd.hasOwnProperty("IconPopover")&&"function"===typeof fd.IconPopover?fd.IconPopover:fd.IconPopover=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"onDrop",value:function(fa){var ma=this;fa.hand.grabbedMorphs.find(function(tb){return tb===ma.iconLabel})&&(fa.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new Za.VerticalLayout({spacing:4}),fill:Za.Color.transparent,submorphs:[new Za.SearchField({name:"searchInput",width:200,placeHolder:"Search Icons"}),Za.morph({textAndAttributes:this.iconAsTextAttributes(),
name:"iconList",draggable:!0,type:"text",extent:Za.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var fa=this.ui,ma=fa.iconList;Za.connect(fa.searchInput,"searchInput",this,"filterIcons");Za.connect(ma,"onMouseUp",this,"iconSelectClick");Za.connect(ma,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",value:function(fa){fa=this.ui.iconList.textPositionFromPoint(fa.positionIn(this.ui.iconList));
fa=this.iconAtTextPos(fa);this.iconLabel=Za.Icon.makeLabel(fa,{fontSize:this.ui.iconList.fontSize,name:fa});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",value:function(fa){var ma=Object.keys(Za.Icons);fa&&(ma=ma.filter(fa));return Za.arr.flatmap(ma,function(tb,H){return[Za.Icons[tb].code,{iconCode:Za.Icons[tb].code,iconName:tb}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",value:function(){var fa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ma){if(1==
ma.nextAddress)return ma.yield(Za.promise.delay(250),2);Za.fun.debounceNamed("filterIcons",200,function(){fa.ui.iconList.textAndAttributes=fa.iconAsTextAttributes(function(tb){return fa.ui.searchInput.matches(tb.toLowerCase())})})();ma.jumpToEnd()})}},{key:"iconSelectClick",value:function(fa){fa=this.ui.iconList.textPositionFromPoint(fa.positionIn(this.ui.iconList));fa=this.iconAtTextPos(fa);this.setStatusMessage(fa);Za.signal(this,"select",fa)}},{key:"iconAtTextPos",value:function(fa){var ma=fa.row;
fa=fa.column;--fa;for(var tb=this.ui.iconList,H=tb.textAndAttributesInRange({start:{row:ma,column:Math.max(0,fa)},end:{row:ma,column:fa+2}});H.length&&!H[1].iconName;)fa++,H=H.slice(2);var ka={start:{row:ma,column:fa},end:{row:ma,column:fa+1}};tb.addTextAttribute({backgroundColor:tb.selectionColor.darker().withA(.5)},ka);Za.promise.delay(1E3).then(function(){return tb.addTextAttribute({backgroundColor:Za.Color.transparent},ka)});return H.length?H[1].iconName:null}}],[{key:"className",get:function(){return"IconPopover"}},
{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:Za.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),iconList:this.get("iconList")}}}}}}],fd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4781,
end:8324})}(Za.StylePopover);Za.IconPopover=Qa;Za.IconPopover=Qa;Za.IconPopover=Qa;var Hb=function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Ib=fd.hasOwnProperty("LayoutPopover")&&"function"===typeof fd.LayoutPopover?fd.LayoutPopover:fd.LayoutPopover=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"getLayoutObjects",value:function(){return[null,new Za.HorizontalLayout({autoResize:!1}),
new Za.VerticalLayout({autoResize:!1}),new Za.TilingLayout,new Za.ProportionalLayout,new Za.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){da._get(Object.getPrototypeOf(Ib.prototype),"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:Za.Color.transparent,layout:new Za.VerticalLayout({spacing:5,layoutOrder:function(fa){return this.container.submorphs.indexOf(fa)}}),submorphs:[this.layoutPicker(),
this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),duration:300}:{isLayoutable:!1,extent:Za.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function(fa){this.clearLayoutHalo();fa&&fa.layout&&(this.layoutHalo=(fa.world()||fa.env.world).showLayoutHaloFor(fa))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&
(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function(fa){return fa?fa.name()+" Layout":"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function(fa){this.container.animate({layout:fa});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());Za.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var fa=
this,ma=this.getLayoutObjects().map(function(tb){var H={};return H[fa.getLayoutName(tb)]=tb,H});ma=this.get("Layout Type")||new Za.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return fa.getCurrentLayoutName()},selectedValue:this.container.layout,values:Za.obj.merge(ma)});Za.connect(ma,"selectedValue",this,"applyLayout");return ma}},{key:"layoutControls",value:function(){return{name:"controlContainer",fill:Za.Color.transparent,layout:new Za.VerticalLayout,
isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:"className",get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:Za.Color.gray.lighter()}}}}],fd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:8333,end:11030})}(Za.StylePopover);Za.LayoutPopover=Hb;Za.LayoutPopover=Hb;Za.LayoutPopover=Hb;var Gb=function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Ib=fd.hasOwnProperty("FillPopover")&&"function"===typeof fd.FillPopover?fd.FillPopover:fd.FillPopover=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"openHandle",value:function(fa){fa.openInWorld();
this.openHandles.push(fa)}},{key:"close",value:function(){da._get(Object.getPrototypeOf(Ib.prototype),"close",this).call(this);this.openHandles.forEach(function(fa){return fa.remove()})}},{key:"setupConnections",value:function(){var fa=this.ui,ma=fa.fillSelector,tb=fa.colorField;fa=fa.gradientEditor;ma&&Za.connect(this,"fillValue",ma,"value");fa&&(Za.connect(fa,"gradientValue",this,"fillValue"),Za.connect(fa,"openHandle",this,"openHandle"));tb&&(Za.connect(this,"close",tb,"remove"),Za.connect(tb,
"update",this,"fillValue"),Za.connect(this,"onMouseDown",tb,"removeWidgets"))}},{key:"commands",get:function(){var fa=this;return da._get(Object.getPrototypeOf(Ib.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var ma=new Za.colorWidgets.ColorPickerField({name:"colorField",colorValue:fa.fillValue.isGradient?Za.Color.blue:fa.fillValue});ma.whenRendered().then(function(){fa.setupConnections()});return ma}},{name:"switch to gradient",exec:function(){var ma=new Za.colorWidgets.GradientEditor({name:"gradient editor",
gradientValue:fa.fillValue});ma.whenRendered().then(function(){fa.setupConnections();fa.handleMorph&&ma.showGradientHandlesOn(fa.handleMorph);ma.update()});return ma}}])}},{key:"controls",value:function(){return this.gradientEnabled?[new Za.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]:[{fill:Za.Color.transparent,layout:new Za.VerticalLayout({spacing:0}),
submorphs:[new Za.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue})]}]}}],[{key:"className",get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},fillValue:{defaultValue:Za.Color.blue},popoverColor:{defaultValue:Za.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],
fd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:11039,end:13883})}(Za.StylePopover);Za.FillPopover=Gb;Za.FillPopover=Gb;Za.FillPopover=Gb;var ad=ta("S",function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Ib=fd.hasOwnProperty("ShadowPopover")&&
"function"===typeof fd.ShadowPopover?fd.ShadowPopover:fd.ShadowPopover=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"controls",value:function(){var fa=this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",ma=[{layout:new Za.VerticalLayout({resizeContainer:!0,spacing:5}),fill:Za.Color.transparent,name:"control container",submorphs:[fa=new Za.DropDownSelector({name:"shadow type",
borderRadius:2,padding:3,selectedValue:fa,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?this.shadowControls():[])}];Za.connect(fa,"selectedValue",this,"changeShadowType");return ma}},{key:"shadowControls",value:function(){var fa=this.shadowValue,ma=new Za.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:fa.distance,unit:"px"}),tb=new Za.NumberWidget({name:"angleSlider",min:0,max:360,number:fa.rotation,autofit:!1}),H=new Za.NumberWidget({name:"spreadSlider",
min:0,number:fa.spread,autofit:!1}),ka=new Za.NumberWidget({name:"blurSlider",min:0,number:fa.blur,autofit:!1});fa=new Za.colorWidgets.ColorPickerField({name:"colorPicker",colorValue:fa.color});Za.connect(fa,"colorValue",this,"updateShadow",{converter:function(Ca){return{color:Ca}}});Za.connect(this,"onMouseDown",fa,"removeWidgets");Za.connect(this,"close",fa,"remove");Za.connect(H,"update",this,"updateShadow",{converter:function(Ca){return{spread:Ca}}});Za.connect(ma,"update",this,"updateShadow",
{converter:function(Ca){return{distance:Ca}}});Za.connect(ka,"update",this,"updateShadow",{converter:function(Ca){return{blur:Ca}}});Za.connect(tb,"update",this,"updateShadow",{converter:function(Ca){return{rotation:Ca}}});return new Za.Morph({layout:new Za.GridLayout({autoAssign:!1,fitToCell:!1,columns:[0,{paddingLeft:1}],rows:Za.arr.flatten(Za.arr.range(0,3).map(function(Ca){return[Ca,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",null,"distanceSlider"],["blurLabel",
null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:Za.Color.transparent,submorphs:Za.arr.flatten([["distance",ma],["spread",H],["blur",ka],["angle",tb],["color",fa]].map(function(Ca){var rb=$jscomp.makeIterator(Ca);Ca=rb.next().value;rb=rb.next().value;return[{type:"label",styleClasses:["controlName"],value:Za.string.capitalize(Ca)+":",name:Ca+"Label"},rb]}))})}},{key:"changeShadowType",value:function(fa){"No Shadow"==fa?this.toggleShadow(!1):
"Inset Shadow"==fa?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?this.shadowControls():[]),duration:300})}},{key:"updateShadow",value:function(fa){var ma=this.shadowValue;fa=Object.assign({fast:ma.fast,color:ma.color,spread:ma.spread,blur:ma.blur,distance:ma.distance,rotation:ma.rotation,inset:ma.inset},fa);this.shadowValue=new Za.ShadowObject(fa)}},
{key:"toggleShadow",value:function(fa){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=fa&&this.cachedShadow}}],[{key:"className",get:function(){return"ShadowPopover"}},{key:"properties",get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new Za.ShadowObject({fast:!0})},popoverColor:{defaultValue:Za.Color.gray.lighter()}}}}],fd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:13892,end:18423})}(Za.StylePopover));Za.ShadowPopover=ad;Za.ShadowPopover=ad;Za.ShadowPopover=ad;Za.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";var Td=function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Ib=fd.hasOwnProperty("PointPopover")&&"function"===typeof fd.PointPopover?fd.PointPopover:fd.PointPopover=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"refineResolution",value:function(fa){this.resolution=.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function(fa){this.pointValue=this.pointValue.addPt(fa.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){da._get(Object.getPrototypeOf(Ib.prototype),"relayout",this).call(this);var fa=this.getSubmorphNamed("mesh"),ma=this.getSubmorphNamed("point value view");
fa.origin=fa.innerBounds().center().addXY(4,1);fa.position=this.get("body").innerBounds().center();fa.scale=this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";ma.value=Za.obj.safeToString(this.pointValue);ma.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function(fa){var ma=this;da._get(Object.getPrototypeOf(Ib.prototype),Symbol.for("lively-instance-initialize"),this).call(this,fa);
this.whenRendered().then(function(){return ma.relayout()})}},{key:"calibrate",value:function(){var fa=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ma){if(1==ma.nextAddress)return fa.get("knob").animate({center:fa.innerBounds().center(),duration:200}),ma.yield(fa.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);fa.relayout();ma.jumpToEnd()})}},{key:"showPointValue",value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},
{key:"controls",value:function(){this.extent=Za.pt(200,200);var fa,ma,tb=[Za.morph({extent:Za.pt(200,200),clipMode:"hidden",fill:Za.Color.transparent,submorphs:[{type:"image",name:"mesh",fill:Za.Color.transparent,opacity:.5,imageUrl:Za.milimeter,autoResize:!0},{extent:Za.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:Za.Color.gray},fill:Za.Color.transparent},fa=Za.morph({name:"scroller",extent:Za.pt(200,200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),
ma=Za.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:Za.Color.red,borderColor:Za.Color.black,borderWidth:1,center:Za.pt(100,100)}),{type:"label",name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:Za.pt(10,10),type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];fa.scroll=Za.pt(0,120);Za.connect(ma,"onDragStart",this,"showPointValue");Za.connect(ma,"onDrag",this,"adjustPoint");Za.connect(ma,"onDragEnd",this,"calibrate");Za.connect(this,
"extent",this,"relayout");Za.connect(fa,"onScroll",this,"refineResolution");return tb}}],[{key:"className",get:function(){return"PointPopover"}},{key:"properties",get:function(){return{pointValue:{defaultValue:Za.pt(0,0)},resolution:{defaultValue:1}}}}],fd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:18538,end:21666})}(Za.StylePopover);Za.PointPopover=Td;Za.PointPopover=Td;Za.PointPopover=Td;var Zd=function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Ib=fd.hasOwnProperty("RectanglePopover")&&"function"===typeof fd.RectanglePopover?fd.RectanglePopover:fd.RectanglePopover=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"controls",
value:function(){var fa=this;return[{fill:Za.Color.transparent,extent:Za.pt(120,120),layout:new Za.GridLayout({grid:[["top","top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],columns:[0,{paddingLeft:4},1,{paddingRight:4,fixed:!0,width:60}],rows:Za.arr.flatten(Za.arr.range(0,3).map(function(ma){return[ma,{paddingTop:0==ma?4:2,paddingBottom:3==ma?4:2}]}))}),submorphs:Za.arr.flatten(["top","right","bottom","left"].map(function(ma){var tb=new Za.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},
name:ma+" scrubber",autofit:!1,number:fa.rectangle.partNamed(ma)});Za.connect(tb,"update",fa,"rectangle",{updater:function(H,ka){var Ca={},rb=this.targetObj.rectangle;ka=(Ca.left=rb.left(),Ca.top=rb.top(),Ca.right=rb.right(),Ca.bottom=rb.bottom(),Ca[ma]=ka,Ca);H(Za.Rectangle.inset(ka.left,ka.top,ka.right,ka.bottom))},varMapping:{side:ma,Rectangle:I}});return[{type:"label",styleClasses:["controlName"],name:ma,value:ma,padding:3},tb]}))}]}}],[{key:"className",get:function(){return"RectanglePopover"}},
{key:"properties",get:function(){return{popoverColor:{defaultValue:Za.Color.gray.lighter()},rectangle:{defaultValue:Za.rect(0)}}}}],fd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:21675,end:23653})}(Za.StylePopover);Za.RectanglePopover=Zd;Za.RectanglePopover=Zd;Za.RectanglePopover=
Zd;var Ue=function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),Ib=fd.hasOwnProperty("TextPopover")&&"function"===typeof fd.TextPopover?fd.TextPopover:fd.TextPopover=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"controls",value:function(){var fa=new Za.Text(Object.assign({name:"editor",extent:Za.pt(300,200),textString:this.text,lineWrapping:"by-chars"},
Za.config.codeEditor.defaultStyle));return[{layout:new Za.HorizontalLayout,fill:Za.Color.transparent,borderColor:Za.Color.gray,borderWidth:1,borderRadius:4,clipMode:"hidden",submorphs:[fa]}]}},{key:"commands",get:function(){return da._get(Object.getPrototypeOf(Ib.prototype),"commands",this).concat([{name:"save string",exec:function(fa){return $jscomp.asyncExecutePromiseGeneratorProgram(function(ma){fa.text=fa.get("editor").textString;Za.signal(fa,"save",fa.text);fa.setStatusMessage("String saved!",
Za.Color.green);ma.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return da._get(Object.getPrototypeOf(Ib.prototype),"keybindings",this).concat([{keys:{mac:"Command-S",win:"Ctrl-S"},command:"save string"}])}}],[{key:"className",get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],fd,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:23662,end:24776})}(Za.StylePopover);Za.TextPopover=Ue;Za.TextPopover=Ue;Za.TextPopover=Ue;Object.assign(Za.popovers,{FillPopover:Gb,IconPopover:Qa,RectanglePopover:Zd,ShadowPopover:ad,PointPopover:Td,LayoutPopover:Hb});var Fc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");Fc.Morph=Yc;Fc.morph=Oa;Fc.StyleSheet=kc;Fc.Text=ac;Fc.Icon=qa;Fc.VerticalLayout=sb;Fc.GridLayout=Ma;Fc.HorizontalLayout=dc;Fc.pt=Jc;
Fc.Rectangle=I;Fc.Color=nb;Fc.LinearGradient=Lb;Fc.rect=Bb;Fc.signal=zb;Fc.once=ub;Fc.connect=Kc;Fc.obj=xc;Fc.Window=Ja;Fc.ColorPalette=qc;Fc.FillPopover=Gb;Fc.colorWidgets=Pa;Fc.Slider=wc;Fc.Popover=Mc;Fc.WHEEL_URL="/lively.ide/assets/color-wheel.png";qc=function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Ib=fd.hasOwnProperty("ColorPickerField")&&"function"===typeof fd.ColorPickerField?fd.ColorPickerField:fd.ColorPickerField=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"testAttr",get:function(){return[42]}},{key:"spec",value:function(){return Fc.obj.dissoc(da._get(Object.getPrototypeOf(Ib.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function(fa){"Escape"==fa.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,
duration:300})}},{key:"onHoverOut",value:function(){this.get("dropDownIndicator").animate({opacity:0,duration:300})}},{key:"update",value:function(fa){this._updating=!0;var ma=this.submorphs[1];this.colorValue=fa;this.get("topLeft").fill=fa;this.get("bottomRight").fill=fa.isGradient?Fc.Color.transparent:fa.withA(1);ma.visible=ma.isLayoutable=!this.gradientEnabled;this.gradientEnabled?this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=
this.get("topLeft").width=this.width-ma.width;this.get("bottomRight").left=0;this.get("dropDownIndicator").right=this.get("paletteButton").width-5;this._updating=!1}},{key:"openPicker",value:function(fa){var ma=this,tb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(H){tb=ma.picker||new Fc.ColorPicker({color:ma.colorValue});tb.position=Fc.pt(0,-tb.height/2);Fc.connect(tb,"color",ma,"update");ma.picker=tb.openInWorld();ma.picker.topLeft=ma.globalBounds().bottomCenter();ma.picker.topLeft=
ma.world().visibleBounds().translateForInclusion(ma.picker.globalBounds()).topLeft();ma.removePalette();H.jumpToEnd()})}},{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function(fa){var ma=this,tb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(H){if(1==H.nextAddress)return tb=ma.gradientEnabled?ma.fillWidget:ma.palette,ma.gradientEnabled?Fc.connect(tb,"fillValue",ma,"update"):Fc.connect(tb.targetMorph,"color",ma,"update"),tb.isLayoutable=
!1,H.yield(tb.openInWorld(),2);tb.topCenter=ma.get("paletteButton").globalBounds().center();tb.topCenter=ma.world().visibleBounds().translateForInclusion(tb.globalBounds()).topCenter();ma.removePicker();Fc.once(tb,"remove",tb,"topLeft",{converter:function(){return Fc.pt(0,0)},varMapping:{pt:Jc}});H.jumpToEnd()})}},{key:"removePalette",value:function(){this.colorValue.isGradient?this.fillWidget.remove():this.palette.remove()}},{key:"removeWidgets",value:function(){this.removePalette();this.removePicker()}}],
[{key:"className",get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,after:["colorValue"],set:function(fa){this.setProperty("gradientEnabled",fa);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new Fc.FillPopover({fillValue:this.colorValue})}},testProp:{get:function(){return[42]}},palette:{serialize:!1,get:function(){return this._palette||(this._palette=new Fc.Popover({position:Fc.pt(0,0),
name:"Color Palette",targetMorph:new Fc.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function(fa){fa&&(fa.isColor||fa.isGradient)||(fa=Fc.Color.blue);if(!this._updating)return this.update(fa);this.setProperty("colorValue",fa)},get:function(){return this.getProperty("colorValue")||Fc.Color.white}},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color field"}}},submorphs:{initialize:function(){this.innerBounds().topRight();this.innerBounds().bottomLeft();
var fa=Fc.pt(40,25);this.submorphs=[{extent:fa,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:fa},{name:"bottomRight",type:"polygon",extent:fa,origin:Fc.pt(0,0),vertices:[Fc.pt(0,0),fa.withX(0),fa]},Fc.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:Fc.pt(30,12.5)})]},{fill:Fc.Color.transparent,extent:Fc.pt(25,25),onHoverIn:function(){this.fill=Fc.Color.black.withA(.2)},onHoverOut:function(){this.fill=Fc.Color.transparent},submorphs:[{name:"pickerButton",
type:"image",autoResize:!1,imageUrl:Fc.WHEEL_URL}]}];Fc.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",this,"openPicker");Fc.connect(this.getSubmorphNamed("paletteButton"),"onMouseDown",this,"openPalette");Fc.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],fd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:627,end:6335})}(Fc.Morph);Fc.ColorPickerField=qc;Fc.ColorPickerField=qc;Fc.ColorPickerField=qc;Fc.colorWidgets.ColorPickerField=Fc.ColorPickerField;(function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Ib=fd.hasOwnProperty("FieldPicker")&&"function"===typeof fd.FieldPicker?fd.FieldPicker:fd.FieldPicker=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,
arguments)};return da(Ib,Md,[{key:"update",value:function(fa){this.getSubmorphNamed("hue").fill=Fc.Color.hsb(fa.hue,1,1);this.brightness=fa.brightness;this.saturation=fa.saturation;this.get("picker").center=this.pickerPosition}},{key:"onMouseDown",value:function(fa){this.pickerPosition=fa.positionIn(this);Fc.signal(this,"pickerPosition",this.pickerPosition)}},{key:"onDrag",value:function(fa){this.pickerPosition=fa.positionIn(this)}},{key:"relayout",value:function(){var fa=this.innerBounds();this.getSubmorphNamed("hue").setBounds(fa);
this.getSubmorphNamed("shade").setBounds(fa);this.getSubmorphNamed("light").setBounds(fa)}}],[{key:"className",get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:Fc.Color.transparent},saturation:{defaultValue:0},brightness:{defaultValue:0},draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var fa=this.saturation,ma=this.brightness;return void 0===fa||void 0===ma?Fc.pt(0,0):Fc.pt(this.getSubmorphNamed("hue").width*
fa,this.getSubmorphNamed("hue").height*(1-ma))},set:function(fa){var ma=fa.x;fa=fa.y;var tb=this.getSubmorphNamed("hue"),H=tb.height;this.saturation=Math.max(0,Math.min(ma/tb.width,1));this.brightness=Math.max(0,Math.min(1-fa/H,1));Fc.signal(this,"saturation",this.saturation);Fc.signal(this,"brightness",this.brightness)}},submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new Fc.LinearGradient({stops:[{color:Fc.Color.white,
offset:0},{color:Fc.Color.transparent,offset:1}],vector:"eastwest"})},{borderRadius:3,name:"light",reactsToPointer:!1,fill:new Fc.LinearGradient({stops:[{color:Fc.Color.black,offset:0},{color:Fc.Color.transparent,offset:1}],vector:"southnorth"})},{name:"picker",type:"ellipse",reactsToPointer:!1,fill:Fc.Color.transparent,borderColor:Fc.Color.black,borderWidth:3,extent:Fc.pt(16,16),submorphs:[{type:"ellipse",fill:Fc.Color.transparent,borderColor:Fc.Color.white,reactsToPointer:!1,borderWidth:3,center:Fc.pt(8,
8),extent:Fc.pt(12,12)}]}];Fc.connect(this,"extent",this,"relayout")}}}}}],fd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:6388,end:9719})})(Fc.Morph);(function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Ib=fd.hasOwnProperty("ColorPropertyView")&&
"function"===typeof fd.ColorPropertyView?fd.ColorPropertyView:fd.ColorPropertyView=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=["key"].concat($jscomp.arrayFromIterable(this.readOnly?[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},
{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=[!this.readOnly&&"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function(fa){"Enter"!=fa.keyCombo||this.readOnly?da._get(Object.getPrototypeOf(Ib.prototype),"onKeyDown",this).call(this,fa):(this.owner.focus(),fa.stop(),Fc.signal(this,"updateValue",this.value))}}],[{key:"className",get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},
value:{derived:[!0],set:function(fa){this.textString=Fc.obj.safeToString(fa)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:Fc.Color.gray.darker()}}}}],fd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:9721,end:10903})})(Fc.Text);(function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Ib=fd.hasOwnProperty("HuePicker")&&"function"===typeof fd.HuePicker?fd.HuePicker:fd.HuePicker=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"onMouseDown",value:function(fa){this.sliderPosition=Fc.pt(0,fa.positionIn(this).y)}},{key:"onDrag",value:function(fa){this.sliderPosition=
Fc.pt(0,fa.positionIn(this).y)}},{key:"update",value:function(fa){this.hue=fa.hue;this.get("slider").center=this.sliderPosition}}],[{key:"className",get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new Fc.LinearGradient({stops:[{color:Fc.Color.rgb(255,0,0),offset:0},{color:Fc.Color.rgb(255,255,0),offset:.17},{color:Fc.Color.limeGreen,offset:.33},{color:Fc.Color.cyan,offset:.5},{color:Fc.Color.blue,offset:.66},{color:Fc.Color.magenta,offset:.83},{color:Fc.Color.rgb(255,
0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return Fc.pt(this.width/2,this.hue/360*this.height)},set:function(fa){this.hue=Math.max(0,Math.min(fa.y/this.height*360,359));Fc.signal(this,"hue",this.hue)}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:Fc.Color.black,fill:Fc.Color.transparent,
borderWidth:2}]}}}}}],fd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:10905,end:12586})})(Fc.Morph);(function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),Ib=fd.hasOwnProperty("ColorDetails")&&"function"===typeof fd.ColorDetails?fd.ColorDetails:
fd.ColorDetails=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"update",value:function(fa){fa=fa.color;var ma=$jscomp.makeIterator(fa.toTuple8Bit()),tb=ma.next().value,H=ma.next().value;ma=ma.next().value;var ka=$jscomp.makeIterator(fa.toHSB()),Ca=ka.next().value,rb=ka.next().value;ka=ka.next().value;var sc=this.get("hashViewer");this.get("colorViewer").fill=fa;sc.replace(sc.documentRange,fa.toHexString(),
!1,!1);this.get("R").value="R "+tb.toFixed(0)+"\n\nG "+H.toFixed(0)+"\n\nB "+ma.toFixed(0)+"\n\nH "+Ca.toFixed(0)+"\n\nS "+rb.toFixed(2)+"\n\nV "+ka.toFixed(2)}},{key:"onHashViewerChanged",value:function(fa){fa=Fc.Color.rgbHex(fa);this.owner.owner.color=fa}},{key:"keyValue",value:function(fa){var ma=fa.name,tb=fa.key,H=fa.value,ka=fa.update;fa=fa.editable;return new Fc.Morph({fill:Fc.Color.transparent,layout:new Fc.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",styleClasses:[fa&&
"large","key"],value:tb},new Fc.ColorPropertyView({name:ma||tb,readOnly:!fa,value:H,update:ka})]})}},{key:"hashViewer",value:function(){var fa=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});Fc.connect(fa.get("hashViewer"),"updateValue",this,"onHashViewerChanged");return fa}},{key:"rgbViewer",value:function(){var fa=$jscomp.makeIterator(this.color.toTuple8Bit()),ma=fa.next().value,tb=fa.next().value;fa=fa.next().value;return new Fc.Morph({name:"rgbViewer",fill:Fc.Color.transparent,
submorphs:[this.keyValue({key:"R",value:ma.toFixed()}),this.keyValue({key:"G",value:tb.toFixed()}),this.keyValue({key:"B",value:fa.toFixed()})]})}},{key:"hsbViewer",value:function(){var fa=$jscomp.makeIterator(this.color.toHSB()),ma=fa.next().value,tb=fa.next().value;fa=fa.next().value;return new Fc.Morph({name:"hsbViewer",fill:Fc.Color.transparent,submorphs:[this.keyValue({key:"H",value:ma.toFixed()}),this.keyValue({key:"S",value:tb.toFixed(2)}),this.keyValue({key:"V",value:fa.toFixed(2)})]})}}],
[{key:"className",get:function(){return"ColorDetails"}},{key:"properties",get:function(){return{color:{defaultValue:Fc.Color.blue},width:{defaultValue:80},fill:{defaultValue:Fc.Color.transparent},layout:{initialize:function(){this.layout=new Fc.VerticalLayout({spacing:9,layoutOrder:function(fa){return this.container.submorphs.indexOf(fa)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:Fc.pt(50,50),name:"colorViewer",fill:this.color},this.hashViewer(),{type:"label",
name:"R",autofit:!0,padding:Fc.rect(10,0,0,0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],fd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12588,end:15311})})(Fc.Morph);qc=ta("a",function(Md){var fd=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),
Ib=fd.hasOwnProperty("ColorPicker")&&"function"===typeof fd.ColorPicker?fd.ColorPicker:fd.ColorPicker=function(fa){fa&&fa[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return da(Ib,Md,[{key:"onKeyDown",value:function(fa){"Escape"==fa.key&&this.close()}},{key:"close",value:function(){da._get(Object.getPrototypeOf(Ib.prototype),"close",this).call(this);Fc.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&
(this.get("header").fill=Fc.Color.transparent,this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),Fc.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var fa=this.colorDetails(),ma=this.fieldPicker(),tb=this.huePicker(),H=this.alphaSlider();fa=new Fc.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[ma,tb,fa,H]});Fc.connect(ma,
"brightness",this,"brightness");Fc.connect(ma,"saturation",this,"saturation");Fc.connect(tb,"hue",this,"hue");return fa}},{key:"alphaSlider",value:function(){var fa,ma=Fc.morph({name:"alphaSlider",fill:Fc.Color.transparent,layout:new Fc.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:Fc.Rectangle.inset(3),value:"Alpha",fontColor:Fc.Color.gray,fontWeight:"bold"},fa=new Fc.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});Fc.connect(fa,"value",this,"alpha");return ma}},
{key:"fieldPicker",value:function(){return new Fc.FieldPicker({name:"field picker",saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new Fc.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new Fc.ColorDetails({name:"details",color:this.color})}}],[{key:"className",get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:Fc.pt(400,320)},fill:{defaultValue:Fc.Color.black.withA(.7)},
isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},hasFixedPosition:{defaultValue:!0},color:{defaultValue:Fc.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return Fc.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function(fa){var ma=$jscomp.makeIterator(fa.toHSB()),tb=ma.next().value,H=ma.next().value;ma=ma.next().value;this.hue=tb;this.saturation=H;this.brightness=ma;this.alpha=fa.a}},alpha:{set:function(fa){this.setProperty("alpha",fa);
this.update()}},saturation:{},brightness:{set:function(fa){this.setProperty("brightness",fa);this.update()}},hue:{set:function(fa){this.setProperty("hue",fa);this.update()}},targetMorph:{initialize:function(){var fa=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=Fc.Color.gray;this.ui.header.fill=Fc.Color.transparent;this.whenRendered().then(function(){fa.fill=Fc.Color.black.withA(.7);fa.update()})}}}}}],fd,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15320,end:19178})}(Fc.Window));Fc.ColorPicker=qc;Fc.ColorPicker=qc;Fc.ColorPicker=qc}}});
System.register(["./__root_module__-89b08ab2.js","./index-1502344e.js"],function(ta){var nb,xb,Ob,Hb,qd,Dc,hd,Hc,Fc,Sc,ad,Jd,ed,sc,Sa,ob,$b,Sb,Bc,id,Xb,Ub,ub,hc,wc,bd,cd,bb,pb,pc,ab,cb,Pa,Za,eb,Na,Da,mb,Zb,dc,Mb,Yb,I,W,sa,xa,Eb,Pb,Ha,Lb,xd,vd,Gc;return{setters:[function(Ma){nb=Ma.C;xb=Ma.a2;Ob=Ma.b5;Hb=Ma.b6;qd=Ma.b7;Dc=Ma.b8;hd=Ma.b9;Hc=Ma.ba;Fc=Ma.a3;Sc=Ma.ah;ad=Ma.bb;Jd=Ma.bc;ed=Ma.bd;sc=Ma.aj;Sa=Ma.a_;ob=Ma.al;$b=Ma.aC;Sb=Ma.a9;Bc=Ma.a$;id=Ma.an;Xb=Ma.I;Ub=Ma.aV;ub=Ma.b3;hc=Ma.be;wc=Ma.bf;
bd=Ma.ar;cd=Ma.as;bb=Ma.aq;pb=Ma.a6;pc=Ma.bg;ab=Ma.at;cb=Ma.ap;Pa=Ma.aD;Za=Ma.aa;eb=Ma.bh;Na=Ma.am;Da=Ma.ao;mb=Ma.ab;Zb=Ma.$;dc=Ma.au;Mb=Ma.s;Yb=Ma.a7;I=Ma.a1;W=Ma.bi;sa=Ma.bj;xa=Ma.bk;Eb=Ma.ai;Pb=Ma.av;Ha=Ma.aO},function(Ma){Lb=Ma.p;xd=Ma.P;vd=Ma._;Gc=Ma.N}],execute:function(){var Ma=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js");Ma.Color=nb;Ma.rect=xb;Ma.Complementary=Ob;Ma.Triadic=Hb;Ma.Tetradic=qd;Ma.Quadratic=Dc;Ma.Analogous=hd;Ma.Neutral=Hc;Ma.pt=Fc;Ma.Point=Sc;Ma.flatDesignColors=
ad;Ma.materialDesignColors=Jd;Ma.webSafeColors=ed;Ma.Morph=sc;Ma.CustomLayout=Sa;Ma.VerticalLayout=ob;Ma.HorizontalLayout=$b;Ma.Text=Sb;Ma.TilingLayout=Bc;Ma.Ellipse=id;Ma.Image=Xb;Ma.StyleSheet=Ub;Ma.DropDownSelector=ub;Ma.ModeSelector=hc;Ma.Slider=wc;Ma.connect=bd;Ma.signal=cd;Ma.num=bb;Ma.arr=pb;Ma.SnapLayout=pc;Ma.WHEEL_URL="/lively.ide/assets/color-wheel.png";Ma.duration=200;(function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),kb=Lc.hasOwnProperty("ColorPaletteField")&&
"function"===typeof Lc.ColorPaletteField?Lc.ColorPaletteField:Lc.ColorPaletteField=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"onHoverIn",value:function(){if(this.color){var ja=$jscomp.makeIterator(this.color.toHSB()),oa=ja.next().value,tb=ja.next().value;ja=ja.next().value;this.borderColor=Ma.Color.hsb(oa,1<tb+.5?tb-.5:tb+.5,1<ja+.5?ja-.5:ja+.5)}}},{key:"onHoverOut",value:function(){this.borderColor=
Ma.Color.transparent}},{key:"onMouseDown",value:function(){Ma.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPaletteField"}},{key:"properties",get:function(){return{color:{defaultValue:Ma.Color.blue},borderWidth:{defaultValue:2},borderColor:{after:["color"],initialize:function(){this.borderColor=this.color||Ma.Color.transparent}},fill:{after:["color"],initialize:function(){this.fill=this.color||Ma.Color.transparent}},styleClasses:{after:["color"],
initialize:function(){this.styleClasses=this.color?["colorField"]:["vacantColorField"]}}}}}],Lc,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:638,end:1607})})(Ma.Morph);(function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),kb=Lc.hasOwnProperty("ColorHarmonyField")&&
"function"===typeof Lc.ColorHarmonyField?Lc.ColorHarmonyField:Lc.ColorHarmonyField=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"onMouseDown",value:function(){Ma.signal(this,"updateColor",this.color)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorHarmonyField"}},{key:"properties",get:function(){return{extent:{defaultValue:Ma.pt(80,60)},fill:{defaultValue:Ma.Color.transparent},
master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color harmony field"}}},color:{set:function(ja){var oa=$jscomp.makeIterator(this.submorphs),tb=oa.next().value;oa=oa.next().value;var G=$jscomp.makeIterator(ja?ja.toHSB():[]),ma=G.next().value,Ga=G.next().value;G=G.next().value;this.setProperty("color",ja);ja&&tb&&oa&&(tb.fill=ja,oa.textString=ja.toHexString(),oa.fontColor=Ma.Color.hsb(ma,1<Ga+.5?Ga-.5:Ga+.5,1<G+.5?G-.5:G+.5))}},submorphs:{after:["color"],initialize:function(){var ja=
$jscomp.makeIterator((this.color||Ma.Color.transparent).toHSB()),oa=ja.next().value,tb=ja.next().value;ja=ja.next().value;this.submorphs=[new Ma.Morph({fill:this.color,extent:Ma.pt(80,50)}),new Ma.Text({textString:oa.toFixed()+", "+tb.toFixed(2)+", "+ja.toFixed(2),fill:Ma.Color.transparent,fontColor:Ma.Color.gray.darker(),bottomLeft:Ma.pt(0,50)})]}}}}}],Lc,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:1609,end:3001})})(Ma.Morph);(function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),kb=Lc.hasOwnProperty("HarmonyDisplay")&&"function"===typeof Lc.HarmonyDisplay?Lc.HarmonyDisplay:Lc.HarmonyDisplay=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"update",value:function(ja){var oa=$jscomp.makeIterator(ja.pivotColor.toHSB()),
tb=oa.next().value,G=oa.next().value;oa=oa.next().value;tb=ja.harmony.chord({hue:tb,saturation:G,brightness:oa});tb.length!=this.submorphs.length?this.submorphs=tb.map(function(ma){ma=new Ma.ColorHarmonyField({color:ma});Ma.connect(ma,"updateColor",ja,"color");return ma}):Ma.arr.zip(this.submorphs,tb).forEach(function(ma){var Ga=$jscomp.makeIterator(ma);ma=Ga.next().value;Ga=Ga.next().value;ma.color=Ga})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyDisplay"}}],Lc,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3003,end:3581})})(Ma.Morph);(function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),kb=Lc.hasOwnProperty("PivotColorControl")&&"function"===typeof Lc.PivotColorControl?Lc.PivotColorControl:Lc.PivotColorControl=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"update",value:function(ja){this.pivotColor=ja.pivotColor}},{key:"onDrag",value:function(ja){var oa=$jscomp.makeIterator(this.pivotColor.toHSB()),tb=oa.next().value,G=oa.next().value;oa=oa.next().value;tb=Ma.num.toRadians(tb);ja=Ma.Point.polar(50*G,tb).addPt(ja.state.dragDelta);tb=Ma.num.toDegrees(ja.theta());tb=0>tb?tb+360:tb;G=Math.min(ja.r()/50,1);this.pivotColor=Ma.Color.hsb(tb,G,oa)}}],[{key:Symbol.for("__LivelyClassName__"),
get:function(){return"PivotColorControl"}},{key:"properties",get:function(){return{pivotColor:{defaultValue:Ma.Color.blue},draggable:{defaultValue:!0}}}}],Lc,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:3583,end:4217})})(Ma.Ellipse);(function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),
kb=Lc.hasOwnProperty("HarmonyVisualizer")&&"function"===typeof Lc.HarmonyVisualizer?Lc.HarmonyVisualizer:Lc.HarmonyVisualizer=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"update",value:function(ja){var oa=$jscomp.makeIterator(this.submorphs).next().value,tb=this.get("pivot control"),G=$jscomp.makeIterator(ja.pivotColor.toHSB()),ma=G.next().value,Ga=G.next().value;G=G.next().value;var lb=Ma.num.toRadians(ma);
ma=ja.harmony.chord({hue:ma,saturation:Ga,brightness:G}).map(function(gc){var uc=$jscomp.makeIterator(gc.toHSB()),yd=uc.next().value;gc=uc.next().value;uc.next();uc=Ma.num.toRadians(yd);return Ma.Point.polar(50*gc,uc)});oa.fill=Ma.Color.black.withA(1-G);tb.update(ja);oa.submorphs.length-1!=ma.length?oa.submorphs=[].concat($jscomp.arrayFromIterable(ma.map(function(gc){return new Ma.Ellipse({center:gc,fill:Ma.Color.transparent,draggable:!1,borderWidth:1,borderColor:Ma.Color.black})})),[tb]):(Ma.arr.zip(oa.submorphs,
ma).forEach(function(gc){var uc=$jscomp.makeIterator(gc);gc=uc.next().value;if(uc=uc.next().value)gc.center=uc}),tb.center=Ma.Point.polar(50*Ga,lb))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyVisualizer"}},{key:"properties",get:function(){return{styleClasses:{defaultValue:["harmonyVisualizer"]},submorphs:{initialize:function(){this.submorphs=[{type:"ellipse",name:"harmonyPoints",submorphs:[new Ma.PivotColorControl({name:"pivot control"})]}]}}}}}],Lc,{pathInPackage:function(){return"styling/color-palette.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4219,end:5681})})(Ma.Image);(function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),kb=Lc.hasOwnProperty("HarmonyPalette")&&"function"===typeof Lc.HarmonyPalette?Lc.HarmonyPalette:Lc.HarmonyPalette=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"update",value:function(ja){this.updateInProgress||(this.updateInProgress=!0,this.pivotBrightness=ja.pivotBrightness,this.harmony=ja.harmony,this.get("harmonies").update(ja),this.get("harmony visualizer").update(ja),this.updateInProgress=!1)}},{key:"harmonyControl",value:function(){var ja,oa,tb=new Ma.Morph({name:"harmonyControl",submorphs:[new Ma.HarmonyVisualizer({name:"harmony visualizer"}),oa=new Ma.Slider({min:0,
max:1,tooltip:"Adjust Brightness",width:100,value:this.pivotBrightness}),ja=new Ma.DropDownSelector({name:"harmonySelector",isHaloItem:!0,padding:4,selectedValue:this.harmony,getCurrentValue:function(){return this.selectedValue.name},values:{Complement:new Ma.Complementary,Triadic:new Ma.Triadic,Tetradic:new Ma.Tetradic,Quadratic:new Ma.Quadratic,Analogous:new Ma.Analogous,Neutral:new Ma.Neutral}})]});Ma.connect(oa,"value",this,"pivotBrightness");Ma.connect(ja,"selectedValue",this,"harmony");return tb}}],
[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HarmonyPalette"}},{key:"properties",get:function(){return{harmony:{defaultValue:new Ma.Complementary},pivotBrightness:{defaultValue:1},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/harmony palette"}}},submorphs:{after:["harmony"],initialize:function(){this.submorphs=[new Ma.HarmonyDisplay({name:"harmonies"}),this.harmonyControl()]}}}}}],Lc,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:5683,end:7610})})(Ma.Morph);var tc=ta("C",function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-palette.js"),kb=Lc.hasOwnProperty("ColorPalette")&&"function"===typeof Lc.ColorPalette?Lc.ColorPalette:Lc.ColorPalette=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return ab(kb,Ld,[{key:"fadeIntoWorld",value:function(ja){ab._get(Object.getPrototypeOf(kb.prototype),"fadeIntoWorld",this).call(this,ja);this.initPosition=ja;return this}},{key:"isHaloItem",value:function(){return!0}},{key:"onKeyDown",value:function(ja){"Escape"==ja.key&&this.close()}},{key:"close",value:function(ja){ja?this.fadeOut(ja):this.remove();Ma.signal(this,"close")}},{key:"paletteView",value:function(){return{name:"paletteView",extent:Ma.pt(400,253),submorphs:[this.solidColorPalette(),new Ma.HarmonyPalette({name:"harmony palette",
isLayoutable:!1,visible:!1,draggable:!1})]}}},{key:"selectSolidMode",value:function(){var ja=this.get("solidColorPalette"),oa=this.get("paletteView");ja.visible||(oa.submorphs.forEach(function(tb){return tb.animate({isLayoutable:!1,visible:!1,duration:200})}),ja.animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"selectHarmonyMode",value:function(){var ja=this.get("paletteView");this.get("harmony palette").visible||(ja.submorphs.forEach(function(oa){return oa.animate({isLayoutable:!1,visible:!1,
duration:200})}),this.get("harmony palette").animate({isLayoutable:!0,visible:!0,duration:200}))}},{key:"fillTypeSelector",value:function(){var ja=new Ma.ModeSelector({reactsToPointer:!1,name:"fillTypeSelector",items:["Color Palette","Color Harmonies"],tooltips:{"Color Harmonies":this.getPaletteDescription("harmony")}});Ma.connect(ja,"Color Palette",this,"selectSolidMode");Ma.connect(ja,"Color Harmonies",this,"selectHarmonyMode");return ja}},{key:"solidColorPalette",value:function(){return{name:"solidColorPalette",
master:{auto:"styleguide://SystemWidgets/solid color palette"},submorphs:[this.getCurrentPalette(),this.paletteConfig()]}}},{key:"getCurrentPalette",value:function(){var ja=this.getColorsFor(this.colorPalette),oa=ja.colors,tb=ja.mod;return this.cachedPalette[ja.name]||this.getPalette(oa,tb)}},{key:"getPalette",value:function(ja,oa){var tb=this,G=Math.max(Math.ceil(ja.length/oa),15),ma=G*this.colorFieldWidth,Ga=oa*this.colorFieldWidth;ja=[].concat($jscomp.arrayFromIterable(ja),$jscomp.arrayFromIterable(Ma.arr.withN(G*
oa-ja.length,null)));return{extent:Ma.pt(ma,Ga),name:"paletteContainer",submorphs:ja.map(function(lb){lb=new Ma.ColorPaletteField({color:lb&&Ma.Color.rgbHex(lb),extent:Ma.pt(tb.colorFieldWidth,tb.colorFieldWidth)});Ma.connect(lb,"updateColor",tb,"color");return lb})}}},{key:"switchPalette",value:function(ja){var oa=ja.name,tb=ja.colors;ja=ja.mod;var G=this.get("solidColorPalette"),ma=$jscomp.makeIterator(G.submorphs);ma.next();ma=ma.next().value;this.cachedPalette[oa]=this.cachedPalette[oa]||this.getPalette(tb,
ja,oa);G.submorphs=[this.cachedPalette[oa],ma]}},{key:"getPaletteDescription",value:function(ja){return{harmony:"Color harmonies are particularly pleasing combinations\nof two or more colors derived from their relationship\non a color wheel. Also known as color chords, color\nharmonies are useful when exploring a possible color\npalette, or can be used as a standalone color scheme.\n",custom:"Your personal set of customly defined colors.",materialDesign:"Material design is a visual language and design\nsystem developed by Google with an almost flat\nstyle and vibrant color schemes.",
flatDesign:"Flat design or flat UI colors are quite popular\nin web design today where bold, bright colors\nare used to create clean, simple interfaces.",webSafe:"Web safe colors emerged during the early era of\nthe internet; a standardized palette of 216 colors\nthat displayed consistently across all major browsers."}[ja]}},{key:"updatePaletteDescription",value:function(){this.get("paletteSelector").tooltip=this.getPaletteDescription(this.colorPalette)}},{key:"getColorsFor",value:function(ja){return Object.assign({name:ja},
{flatDesign:{colors:Ma.flatDesignColors,mod:11},materialDesign:{colors:Ma.materialDesignColors,mod:15},webSafe:{colors:Ma.webSafeColors,mod:12}}[ja])}},{key:"paletteConfig",value:function(){var ja,oa={name:"paletteConfig",styleClasses:["paletteFormatter"],submorphs:[ja=new Ma.DropDownSelector({isHaloItem:!0,name:"paletteSelector",selectedValue:"flatDesign",padding:4,tooltip:this.getPaletteDescription(this.colorPalette),values:{"Flat Design":"flatDesign","Material Design":"materialDesign","Web Safe":"webSafe"}})]};
Ma.connect(ja,"selectedValue",this,"colorPalette");return oa}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPalette"}},{key:"properties",get:function(){return{extent:{defaultValue:Ma.pt(200,300)},colorPalette:{after:["submorphs"],defaultValue:"flatDesign",set:function(ja){this.setProperty("colorPalette",ja);this.switchPalette(this.getColorsFor(ja));this.updatePaletteDescription()}},pivotColor:{after:["submorphs"],set:function(ja){this.setProperty("pivotColor",ja);this.get("harmony palette").update(this)}},
color:{set:function(ja){this.setProperty("color",ja);this.get("harmony palette")&&this.get("harmony palette").update(this)}},pivotBrightness:{after:["submorphs","color"],get:function(){var ja=$jscomp.makeIterator((this.pivotColor||this.color).toHSB());ja.next();ja.next();return ja.next().value},set:function(ja){var oa=$jscomp.makeIterator((this.pivotColor||this.color).toHSB()),tb=oa.next().value;oa=oa.next().value;this.pivotColor=Ma.Color.hsb(tb,oa,ja)}},harmony:{after:["submorphs","pivotColor"],
defaultValue:new Ma.Complementary,set:function(ja){this.setProperty("harmony",ja);this.get("harmony palette").update(this)}},colorFieldWidth:{defaultValue:20},master:{initialize:function(){this.master={auto:"styleguide://SystemWidgets/color palette"}}},submorphs:{after:["color"],initialize:function(){var ja=$jscomp.makeIterator(this.color.toHSB()),oa=ja.next().value,tb=ja.next().value;ja.next();this.cachedPalette={};this.submorphs=[this.fillTypeSelector(),this.paletteView()];this.pivotColor=Ma.Color.hsb(oa,
tb,1);Ma.connect(this.get("harmony palette"),"harmony",this,"harmony");Ma.connect(this.get("pivot control"),"pivotColor",this,"pivotColor");Ma.connect(this.get("harmony palette"),"pivotBrightness",this,"pivotBrightness");this.selectSolidMode();this.active=!0}}}}}],Lc,{pathInPackage:function(){return"styling/color-palette.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",
version:"0.1.0"}}},{start:7676,end:15467})}(Ma.Morph));Ma.ColorPalette=tc;Ma.ColorPalette=tc;Ma.ColorPalette=tc;var $a=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js");$a.Morph=sc;$a.Icon=cb;$a.ProportionalLayout=Pa;$a.config=Za;$a.Text=Sb;$a.ShadowObject=eb;$a.GridLayout=Na;$a.TilingLayout=Bc;$a.StyleSheet=Ub;$a.morph=Da;$a.HorizontalLayout=$b;$a.VerticalLayout=ob;$a.KeyHandler=mb;$a.connect=bd;$a.signal=cd;$a.arr=pb;$a.promise=Zb;$a.fun=dc;$a.string=Mb;$a.obj=Yb;$a.Color=
nb;$a.rect=xb;$a.Rectangle=I;$a.pt=Fc;$a.popovers=Lb;$a.ModeSelector=hc;$a.DropDownSelector=ub;$a.SearchField=W;$a.CheckBox=sa;$a.Popover=xd;$a.SvgStyleHalo=vd;$a.NumberWidget=Gc;$a.Icons=xa;$a.duration=200;var Cc=ta("c",$a.colorWidgets||{});$a.colorWidgets=Cc;$a.colorWidgets=Cc;$a.colorWidgets=Cc;(function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),kb=Lc.hasOwnProperty("SelectableControl")&&"function"===typeof Lc.SelectableControl?Lc.SelectableControl:Lc.SelectableControl=
function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"select",value:function(ja){var oa=this,tb,G,ma;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ga){if(1==Ga.nextAddress)return oa.target?Ga.yield(oa.target.execCommand(ja),2):Ga.return();tb=Ga.yieldResult;G=oa.get("modeSelector");tb.opacity=0;oa.lastLabel&&(ma=G.submorphs.indexOf(oa.lastLabel)<G.submorphs.indexOf(G.currentLabel),tb.topLeft=
G.bottomLeft.addXY(ma?20:-20,10));oa.lastLabel=G.currentLabel;oa.animate({submorphs:[G,tb],duration:$a.duration});tb.animate({opacity:1,duration:$a.duration});Ga.jumpToEnd()})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"SelectableControl"}},{key:"properties",get:function(){return{target:{type:"Morph"},selectableControls:{},selectedControl:{},fill:{defaultValue:$a.Color.transparent},layout:{initialize:function(){this.layout=new $a.VerticalLayout({spacing:10,autoResize:!0,layoutOrder:function(ja){return this.container.submorphs.indexOf(ja)}})}},
submorphs:{after:["selectableControls","selectedControl","target"],initialize:function(){var ja=new $a.ModeSelector({name:"modeSelector",items:this.selectableControls,init:this.selectedControl});this.submorphs=[ja];ja.width=100;$a.connect(ja,"switchLabel",this,"select");this.select(this.selectableControls[this.selectedControl])}}}}}],Lc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:948,end:2579})})($a.Morph);(function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),kb=Lc.hasOwnProperty("ToggledControl")&&"function"===typeof Lc.ToggledControl?Lc.ToggledControl:Lc.ToggledControl=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"toggle",value:function(ja){var oa=$jscomp.makeIterator(this.submorphs).next().value,
tb=this.toggledControl(ja);oa=[oa].concat($jscomp.arrayFromIterable(tb?[tb]:[]));$a.signal(this,"update",ja&&tb.value);tb&&(tb.opacity=0);this.animate({submorphs:oa,duration:$a.duration});tb&&tb.animate({opacity:1,duration:$a.duration})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ToggledControl"}},{key:"properties",get:function(){return{title:{defaultValue:"Toggled Property"},toggledControl:{},checked:{},clipMode:{defaultValue:"hidden"},fill:{defaultValue:$a.Color.transparent},
layout:{initialize:function(){this.layout=new $a.VerticalLayout({spacing:5})}},submorphs:{initialize:function(){var ja=new $a.CheckBox({checked:this.checked});this.submorphs=[{fill:$a.Color.transparent,layout:new $a.HorizontalLayout({autoResize:!1}),height:25,submorphs:[{type:"label",name:"property name",fontWeight:"bold",fontSize:14,autofit:!0,opacity:.8,padding:$a.rect(0,2,3,0),textString:this.title,styleClasses:["controlLabel"]},ja]}];this.toggle(this.checked);$a.connect(ja,"toggle",this,"toggle")}}}}}],
Lc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:2581,end:4273})})($a.Morph);(function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),kb=Lc.hasOwnProperty("StylePopover")&&"function"===typeof Lc.StylePopover?Lc.StylePopover:Lc.StylePopover=
function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"setupConnections",value:function(){}},{key:"controls",value:function(){return[]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"StylePopover"}},{key:"properties",get:function(){return{targetMorph:{initialize:function(){this.targetMorph=$a.morph({layout:new $a.HorizontalLayout({spacing:5,resizeContainer:!0}),fill:$a.Color.transparent,
submorphs:this.controls()});this.setupConnections()}}}}}],Lc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4275,end:4825})})($a.Popover);var Mc=function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),kb=Lc.hasOwnProperty("IconPopover")&&"function"===
typeof Lc.IconPopover?Lc.IconPopover:Lc.IconPopover=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"onDrop",value:function(ja){var oa=this;ja.hand.grabbedMorphs.find(function(tb){return tb===oa.iconLabel})&&(ja.hand.dropMorphsOn(this),this.iconLabel.remove())}},{key:"controls",value:function(){return[{draggable:!1,layout:new $a.VerticalLayout({spacing:4}),fill:$a.Color.transparent,submorphs:[new $a.SearchField({name:"searchInput",
width:200,placeHolder:"Search Icons"}),$a.morph({textAndAttributes:this.iconAsTextAttributes(),name:"iconList",draggable:!0,type:"text",extent:$a.pt(200,200),textStyleClasses:["fas","far"],clipMode:"auto",readOnly:!0})]}]}},{key:"setupConnections",value:function(){var ja=this.ui,oa=ja.iconList;$a.connect(ja.searchInput,"searchInput",this,"filterIcons");$a.connect(oa,"onMouseUp",this,"iconSelectClick");$a.connect(oa,"onDragStart",this,"createIconLabel")}},{key:"relayout",value:function(){}},{key:"createIconLabel",
value:function(ja){ja=this.ui.iconList.textPositionFromPoint(ja.positionIn(this.ui.iconList));ja=this.iconAtTextPos(ja);this.iconLabel=$a.Icon.makeLabel(ja,{fontSize:this.ui.iconList.fontSize,name:ja});this.iconLabel.openInHand()}},{key:"iconAsTextAttributes",value:function(ja){var oa=Object.keys($a.Icons);ja&&(oa=oa.filter(ja));return $a.arr.flatmap(oa,function(tb,G){return[$a.Icons[tb].code,{iconCode:$a.Icons[tb].code,iconName:tb}," ",{fontFamily:"sans-serif",iconCode:!1,iconName:!1}]})}},{key:"filterIcons",
value:function(){var ja=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(oa){if(1==oa.nextAddress)return oa.yield($a.promise.delay(250),2);$a.fun.debounceNamed("filterIcons",200,function(){ja.ui.iconList.textAndAttributes=ja.iconAsTextAttributes(function(tb){return ja.ui.searchInput.matches(tb.toLowerCase())})})();oa.jumpToEnd()})}},{key:"iconSelectClick",value:function(ja){ja=this.ui.iconList.textPositionFromPoint(ja.positionIn(this.ui.iconList));ja=this.iconAtTextPos(ja);this.setStatusMessage(ja);
$a.signal(this,"select",ja)}},{key:"iconAtTextPos",value:function(ja){var oa=ja.row;ja=ja.column;--ja;for(var tb=this.ui.iconList,G=tb.textAndAttributesInRange({start:{row:oa,column:Math.max(0,ja)},end:{row:oa,column:ja+2}});G.length&&!G[1].iconName;)ja++,G=G.slice(2);var ma={start:{row:oa,column:ja},end:{row:oa,column:ja+1}};tb.addTextAttribute({backgroundColor:tb.selectionColor.darker().withA(.5)},ma);$a.promise.delay(1E3).then(function(){return tb.addTextAttribute({backgroundColor:$a.Color.transparent},
ma)});return G.length?G[1].iconName:null}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"IconPopover"}},{key:"properties",get:function(){return{isEpiMorph:{get:function(){return!1}},popoverColor:{defaultValue:$a.Color.gray.lighter()},ui:{get:function(){return{searchInput:this.get("searchInput"),iconList:this.get("iconList")}}}}}}],Lc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:4834,end:8444})}($a.StylePopover);$a.IconPopover=Mc;$a.IconPopover=Mc;$a.IconPopover=Mc;var Ua=function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),kb=Lc.hasOwnProperty("LayoutPopover")&&"function"===typeof Lc.LayoutPopover?Lc.LayoutPopover:Lc.LayoutPopover=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,
Ld,[{key:"getLayoutObjects",value:function(){return[null,new $a.HorizontalLayout({autoResize:!1}),new $a.VerticalLayout({autoResize:!1}),new $a.TilingLayout,new $a.ProportionalLayout,new $a.GridLayout({grid:[[null],[null],[null]]})]}},{key:"close",value:function(){ab._get(Object.getPrototypeOf(kb.prototype),"close",this).call(this);this.clearLayoutHalo()}},{key:"controls",value:function(){this.showLayoutHaloFor(this.container);return[{fill:$a.Color.transparent,layout:new $a.VerticalLayout({spacing:5,
layoutOrder:function(ja){return this.container.submorphs.indexOf(ja)}}),submorphs:[this.layoutPicker(),this.layoutControls()]}]}},{key:"updateControls",value:function(){this.get("Layout Type").relayout();this.getSubmorphNamed("controlContainer").animate(this.layoutHalo?{isLayoutable:!0,submorphs:this.layoutHalo.optionControls(this),duration:300}:{isLayoutable:!1,extent:$a.pt(0,0),submorphs:[],duration:300})}},{key:"showLayoutHaloFor",value:function(ja){this.clearLayoutHalo();ja&&ja.layout&&(this.layoutHalo=
(ja.world()||ja.env.world).showLayoutHaloFor(ja))}},{key:"clearLayoutHalo",value:function(){this.layoutHalo&&(this.layoutHalo.remove(),this.layoutHalo=null)}},{key:"getCurrentLayoutName",value:function(){return this.getLayoutName(this.container.layout)}},{key:"getLayoutName",value:function(ja){return ja?ja.name()+" Layout":"No Layout"}},{key:"update",value:function(){}},{key:"applyLayout",value:function(ja){this.container.animate({layout:ja});this.showLayoutHaloFor(this.container);this.updateControls(this.controls());
$a.signal(this,"layoutChanged",this.container.layout)}},{key:"layoutPicker",value:function(){var ja=this,oa=this.getLayoutObjects().map(function(tb){var G={};return G[ja.getLayoutName(tb)]=tb,G});oa=this.get("Layout Type")||new $a.DropDownSelector({name:"Layout Type",borderRadius:2,padding:3,getCurrentValue:function(){return ja.getCurrentLayoutName()},selectedValue:this.container.layout,values:$a.obj.merge(oa)});$a.connect(oa,"selectedValue",this,"applyLayout");return oa}},{key:"layoutControls",value:function(){return{name:"controlContainer",
fill:$a.Color.transparent,layout:new $a.VerticalLayout,isLayoutable:!!this.layoutHalo,submorphs:this.layoutHalo?this.layoutHalo.optionControls(this):[]}}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"LayoutPopover"}},{key:"properties",get:function(){return{container:{},popoverColor:{defaultValue:$a.Color.gray.lighter()}}}}],Lc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:8453,end:11192})}($a.StylePopover);$a.LayoutPopover=Ua;$a.LayoutPopover=Ua;$a.LayoutPopover=Ua;var Fa=function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),kb=Lc.hasOwnProperty("FillPopover")&&"function"===typeof Lc.FillPopover?Lc.FillPopover:Lc.FillPopover=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,
Ld,[{key:"openHandle",value:function(ja){ja.openInWorld();this.openHandles.push(ja)}},{key:"close",value:function(){ab._get(Object.getPrototypeOf(kb.prototype),"close",this).call(this);this.openHandles.forEach(function(ja){return ja.remove()})}},{key:"setupConnections",value:function(){var ja=this.ui,oa=ja.fillSelector,tb=ja.colorField;ja=ja.gradientEditor;oa&&$a.connect(this,"fillValue",oa,"value");ja&&($a.connect(ja,"gradientValue",this,"fillValue"),$a.connect(ja,"openHandle",this,"openHandle"));
tb&&($a.connect(this,"close",tb,"remove"),$a.connect(tb,"update",this,"fillValue"),$a.connect(this,"onMouseDown",tb,"removeWidgets"))}},{key:"commands",get:function(){var ja=this;return ab._get(Object.getPrototypeOf(kb.prototype),"commands",this).concat([{name:"switch to fill",exec:function(){var oa=new $a.colorWidgets.ColorPickerField({name:"colorField",colorValue:ja.fillValue.isGradient?$a.Color.blue:ja.fillValue});oa.whenRendered().then(function(){ja.setupConnections()});return oa}},{name:"switch to gradient",
exec:function(){var oa=new $a.colorWidgets.GradientEditor({name:"gradient editor",gradientValue:ja.fillValue});oa.whenRendered().then(function(){ja.setupConnections();ja.handleMorph&&oa.showGradientHandlesOn(ja.handleMorph);oa.update()});return oa}}])}},{key:"controls",value:function(){return this.gradientEnabled?[new $a.SelectableControl({name:"fillSelector",target:this,selectedControl:this.fillValue&&this.fillValue.isGradient?"Gradient":"Fill",selectableControls:{Fill:"switch to fill",Gradient:"switch to gradient"}})]:
[{fill:$a.Color.transparent,layout:new $a.VerticalLayout({spacing:0}),submorphs:[new $a.colorWidgets.ColorPickerField({name:"colorField",colorValue:this.fillValue})]}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FillPopover"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!0},fillValue:{defaultValue:$a.Color.blue},popoverColor:{defaultValue:$a.Color.gray.lighter()},handleMorph:{},openHandles:{defaultValue:[]},ui:{get:function(){return{colorField:this.get("colorField"),
fillSelector:this.get("fillSelector"),gradientEditor:this.get("gradient editor")}}}}}}],Lc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:11201,end:14064})}($a.StylePopover);$a.FillPopover=Fa;$a.FillPopover=Fa;$a.FillPopover=Fa;var Wb=ta("S",function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),
kb=Lc.hasOwnProperty("ShadowPopover")&&"function"===typeof Lc.ShadowPopover?Lc.ShadowPopover:Lc.ShadowPopover=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"controls",value:function(){var ja=this.shadowValue?this.shadowValue.inset?"Inset Shadow":"Drop Shadow":"No Shadow",oa=[{layout:new $a.VerticalLayout({resizeContainer:!0,spacing:5}),fill:$a.Color.transparent,name:"control container",submorphs:[ja=
new $a.DropDownSelector({name:"shadow type",borderRadius:2,padding:3,selectedValue:ja,values:["No Shadow","Drop Shadow","Inset Shadow"]})].concat(this.shadowValue?this.shadowControls():[])}];$a.connect(ja,"selectedValue",this,"changeShadowType");return oa}},{key:"shadowControls",value:function(){var ja=this.shadowValue,oa=new $a.NumberWidget({min:0,autofit:!1,name:"distanceSlider",number:ja.distance,unit:"px"}),tb=new $a.NumberWidget({name:"angleSlider",min:0,max:360,number:ja.rotation,autofit:!1}),
G=new $a.NumberWidget({name:"spreadSlider",min:0,number:ja.spread,autofit:!1}),ma=new $a.NumberWidget({name:"blurSlider",min:0,number:ja.blur,autofit:!1});ja=new $a.colorWidgets.ColorPickerField({name:"colorPicker",colorValue:ja.color});$a.connect(ja,"colorValue",this,"updateShadow",{converter:function(Ga){return{color:Ga}}});$a.connect(this,"onMouseDown",ja,"removeWidgets");$a.connect(this,"close",ja,"remove");$a.connect(G,"update",this,"updateShadow",{converter:function(Ga){return{spread:Ga}}});
$a.connect(oa,"update",this,"updateShadow",{converter:function(Ga){return{distance:Ga}}});$a.connect(ma,"update",this,"updateShadow",{converter:function(Ga){return{blur:Ga}}});$a.connect(tb,"update",this,"updateShadow",{converter:function(Ga){return{rotation:Ga}}});return new $a.Morph({layout:new $a.GridLayout({autoAssign:!1,fitToCell:!1,columns:[0,{paddingLeft:1}],rows:$a.arr.flatten($a.arr.range(0,3).map(function(Ga){return[Ga,{paddingBottom:5}]}),1),grid:[["spreadLabel",null,"spreadSlider"],["distanceLabel",
null,"distanceSlider"],["blurLabel",null,"blurSlider"],["angleLabel",null,"angleSlider"],["colorLabel",null,"colorPicker"]]}),width:120,height:145,fill:$a.Color.transparent,submorphs:$a.arr.flatten([["distance",oa],["spread",G],["blur",ma],["angle",tb],["color",ja]].map(function(Ga){var lb=$jscomp.makeIterator(Ga);Ga=lb.next().value;lb=lb.next().value;return[{type:"label",styleClasses:["controlName"],value:$a.string.capitalize(Ga)+":",name:Ga+"Label"},lb]}))})}},{key:"changeShadowType",value:function(ja){"No Shadow"==
ja?this.toggleShadow(!1):"Inset Shadow"==ja?(this.toggleShadow(!0),this.shadowValue.inset=!0):(this.toggleShadow(!0),this.shadowValue.inset=!1);this.get("control container").animate({submorphs:[this.get("shadow type")].concat(this.shadowValue?this.shadowControls():[]),duration:300})}},{key:"updateShadow",value:function(ja){var oa=this.shadowValue;ja=Object.assign({fast:oa.fast,color:oa.color,spread:oa.spread,blur:oa.blur,distance:oa.distance,rotation:oa.rotation,inset:oa.inset},ja);this.shadowValue=
new $a.ShadowObject(ja)}},{key:"toggleShadow",value:function(ja){this.shadowValue&&(this.cachedShadow=this.shadowValue);this.shadowValue=ja&&this.cachedShadow}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ShadowPopover"}},{key:"properties",get:function(){return{shadowValue:{},cachedShadow:{defaultValue:new $a.ShadowObject({fast:!0})},popoverColor:{defaultValue:$a.Color.gray.lighter()}}}}],Lc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:14073,end:18507})}($a.StylePopover));$a.ShadowPopover=Wb;$a.ShadowPopover=Wb;$a.ShadowPopover=Wb;$a.milimeter="https://upload.wikimedia.org/wikipedia/commons/c/c8/Millimeterpapier_10_x_10_cm.svg";var Bd=function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),kb=Lc.hasOwnProperty("PointPopover")&&"function"===typeof Lc.PointPopover?
Lc.PointPopover:Lc.PointPopover=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"refineResolution",value:function(ja){this.resolution=.25+this.get("scroller").scroll.y/160;this.relayout()}},{key:"adjustPoint",value:function(ja){this.pointValue=this.pointValue.addPt(ja.state.dragDelta.scaleBy(1/this.resolution)).roundTo(1);this.relayout()}},{key:"relayout",value:function(){ab._get(Object.getPrototypeOf(kb.prototype),
"relayout",this).call(this);var ja=this.getSubmorphNamed("mesh"),oa=this.getSubmorphNamed("point value view");ja.origin=ja.innerBounds().center().addXY(4,1);ja.position=this.get("body").innerBounds().center();ja.scale=this.resolution;this.getSubmorphNamed("resolution view").value="Resolution: "+this.resolution.toFixed(2)+"x";oa.value=$a.obj.safeToString(this.pointValue);oa.position=this.getSubmorphNamed("knob").bottomRight}},{key:Symbol.for("lively-instance-initialize"),value:function(ja){var oa=
this;ab._get(Object.getPrototypeOf(kb.prototype),Symbol.for("lively-instance-initialize"),this).call(this,ja);this.whenRendered().then(function(){return oa.relayout()})}},{key:"calibrate",value:function(){var ja=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(oa){if(1==oa.nextAddress)return ja.get("knob").animate({center:ja.innerBounds().center(),duration:200}),oa.yield(ja.getSubmorphNamed("point value view").animate({opacity:0,duration:200}),2);ja.relayout();oa.jumpToEnd()})}},{key:"showPointValue",
value:function(){this.getSubmorphNamed("point value view").animate({opacity:1,duration:200})}},{key:"controls",value:function(){this.extent=$a.pt(200,200);var ja,oa,tb=[$a.morph({extent:$a.pt(200,200),clipMode:"hidden",fill:$a.Color.transparent,submorphs:[{type:"image",name:"mesh",fill:$a.Color.transparent,opacity:.5,imageUrl:$a.milimeter,autoResize:!0},{extent:$a.pt(200,200),draggable:!1,dropShadow:{inset:!0,spread:5,color:$a.Color.gray},fill:$a.Color.transparent},ja=$a.morph({name:"scroller",extent:$a.pt(200,
200),clipMode:"scroll",draggable:!1,opacity:.01,submorphs:[{height:625.6,width:10}]}),oa=$a.morph({name:"knob",type:"ellipse",nativeCursor:"-webkit-grab",fill:$a.Color.red,borderColor:$a.Color.black,borderWidth:1,center:$a.pt(100,100)}),{type:"label",name:"point value view",padding:4,opacity:0,styleClasses:["Tooltip"]},{position:$a.pt(10,10),type:"label",name:"resolution view",padding:4,styleClasses:["Tooltip"]}]})];ja.scroll=$a.pt(0,120);$a.connect(oa,"onDragStart",this,"showPointValue");$a.connect(oa,
"onDrag",this,"adjustPoint");$a.connect(oa,"onDragEnd",this,"calibrate");$a.connect(this,"extent",this,"relayout");$a.connect(ja,"onScroll",this,"refineResolution");return tb}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"PointPopover"}},{key:"properties",get:function(){return{pointValue:{defaultValue:$a.pt(0,0)},resolution:{defaultValue:1}}}}],Lc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},
subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:18622,end:21799})}($a.StylePopover);$a.PointPopover=Bd;$a.PointPopover=Bd;$a.PointPopover=Bd;var pd=function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),kb=Lc.hasOwnProperty("RectanglePopover")&&"function"===typeof Lc.RectanglePopover?Lc.RectanglePopover:Lc.RectanglePopover=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||
this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"controls",value:function(){var ja=this;return[{fill:$a.Color.transparent,extent:$a.pt(120,120),layout:new $a.GridLayout({grid:[["top","top scrubber"],["right","right scrubber"],["left","left scrubber"],["bottom","bottom scrubber"]],columns:[0,{paddingLeft:4},1,{paddingRight:4,fixed:!0,width:60}],rows:$a.arr.flatten($a.arr.range(0,3).map(function(oa){return[oa,{paddingTop:0==oa?4:2,paddingBottom:3==oa?4:2}]}))}),
submorphs:$a.arr.flatten(["top","right","bottom","left"].map(function(oa){var tb=new $a.NumberWidget({master:{auto:"styleguide://SystemWidgets/number field/light"},name:oa+" scrubber",autofit:!1,number:ja.rectangle.partNamed(oa)});$a.connect(tb,"update",ja,"rectangle",{updater:function(G,ma){var Ga=this.targetObj.rectangle,lb={};ma=(lb.left=Ga.left(),lb.top=Ga.top(),lb.right=Ga.right(),lb.bottom=Ga.bottom(),lb[oa]=ma,lb);G($a.Rectangle.inset(ma.left,ma.top,ma.right,ma.bottom))},varMapping:{side:oa,
Rectangle:I}});return[{type:"label",styleClasses:["controlName"],name:oa,value:oa,padding:3},tb]}))}]}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"RectanglePopover"}},{key:"properties",get:function(){return{popoverColor:{defaultValue:$a.Color.gray.lighter()},rectangle:{defaultValue:$a.rect(0)}}}}],Lc,{pathInPackage:function(){return"styling/style-popover.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:21808,end:23792})}($a.StylePopover);$a.RectanglePopover=pd;$a.RectanglePopover=pd;$a.RectanglePopover=pd;var Vd=function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/style-popover.js"),kb=Lc.hasOwnProperty("TextPopover")&&"function"===typeof Lc.TextPopover?Lc.TextPopover:Lc.TextPopover=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};
return ab(kb,Ld,[{key:"controls",value:function(){var ja=new $a.Text(Object.assign({name:"editor",extent:$a.pt(300,200),textString:this.text,lineWrapping:"by-chars"},$a.config.codeEditor.defaultStyle));return[{layout:new $a.HorizontalLayout,fill:$a.Color.transparent,borderColor:$a.Color.gray,borderWidth:1,borderRadius:4,clipMode:"hidden",submorphs:[ja]}]}},{key:"commands",get:function(){return ab._get(Object.getPrototypeOf(kb.prototype),"commands",this).concat([{name:"save string",exec:function(ja){return $jscomp.asyncExecutePromiseGeneratorProgram(function(oa){ja.text=
ja.get("editor").textString;$a.signal(ja,"save",ja.text);ja.setStatusMessage("String saved!",$a.Color.green);oa.jumpToEnd()})}}])}},{key:"keybindings",get:function(){return ab._get(Object.getPrototypeOf(kb.prototype),"keybindings",this).concat([{keys:{mac:"Command-S",win:"Ctrl-S"},command:"save string"}])}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"TextPopover"}},{key:"properties",get:function(){return{text:{defaultValue:"Enter some text!"}}}}],Lc,{pathInPackage:function(){return"styling/style-popover.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:23801,end:24876})}($a.StylePopover);$a.TextPopover=Vd;$a.TextPopover=Vd;$a.TextPopover=Vd;Object.assign($a.popovers,{FillPopover:Fa,IconPopover:Mc,RectanglePopover:pd,ShadowPopover:Wb,PointPopover:Bd,LayoutPopover:Ua});var qc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js");
qc.Morph=sc;qc.morph=Da;qc.StyleSheet=Ub;qc.Text=Sb;qc.Icon=cb;qc.VerticalLayout=ob;qc.GridLayout=Na;qc.HorizontalLayout=$b;qc.pt=Fc;qc.Rectangle=I;qc.Color=nb;qc.LinearGradient=Eb;qc.rect=xb;qc.signal=cd;qc.once=Pb;qc.connect=bd;qc.obj=Yb;qc.Window=Ha;qc.ColorPalette=tc;qc.FillPopover=Fa;qc.colorWidgets=Cc;qc.Slider=wc;qc.Popover=xd;qc.WHEEL_URL="/lively.ide/assets/color-wheel.png";tc=function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),kb=Lc.hasOwnProperty("ColorPickerField")&&
"function"===typeof Lc.ColorPickerField?Lc.ColorPickerField:Lc.ColorPickerField=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"testAttr",get:function(){return[42]}},{key:"spec",value:function(){return qc.obj.dissoc(ab._get(Object.getPrototypeOf(kb.prototype),"spec",this).call(this),["submorphs"])}},{key:"onKeyDown",value:function(ja){"Escape"==ja.key&&(this.picker&&this.picker.remove(),this.colorValue.isGradient?
this.fillWidget.remove():this.palette.remove())}},{key:"onHoverIn",value:function(){this.get("dropDownIndicator").animate({opacity:1,duration:300})}},{key:"onHoverOut",value:function(){this.get("dropDownIndicator").animate({opacity:0,duration:300})}},{key:"update",value:function(ja){this._updating=!0;var oa=this.submorphs[1];this.colorValue=ja;this.get("topLeft").fill=ja;this.get("bottomRight").fill=ja.isGradient?qc.Color.transparent:ja.withA(1);oa.visible=oa.isLayoutable=!this.gradientEnabled;this.gradientEnabled?
this.get("bottomRight").width=this.get("topLeft").width=this.submorphs[0].width=this.width:this.get("bottomRight").width=this.get("topLeft").width=this.width-oa.width;this.get("bottomRight").left=0;this.get("dropDownIndicator").right=this.get("paletteButton").width-5;this._updating=!1}},{key:"openPicker",value:function(ja){var oa=this,tb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(G){tb=oa.picker||new qc.ColorPicker({color:oa.colorValue});tb.position=qc.pt(0,-tb.height/2);qc.connect(tb,
"color",oa,"update");oa.picker=tb.openInWorld();oa.picker.topLeft=oa.globalBounds().bottomCenter();oa.picker.topLeft=oa.world().visibleBounds().translateForInclusion(oa.picker.globalBounds()).topLeft();oa.removePalette();G.jumpToEnd()})}},{key:"removePicker",value:function(){this.picker&&this.picker.remove()}},{key:"openPalette",value:function(ja){var oa=this,tb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(G){if(1==G.nextAddress)return tb=oa.gradientEnabled?oa.fillWidget:oa.palette,
oa.gradientEnabled?qc.connect(tb,"fillValue",oa,"update"):qc.connect(tb.targetMorph,"color",oa,"update"),tb.isLayoutable=!1,G.yield(tb.openInWorld(),2);tb.topCenter=oa.get("paletteButton").globalBounds().center();tb.topCenter=oa.world().visibleBounds().translateForInclusion(tb.globalBounds()).topCenter();oa.removePicker();qc.once(tb,"remove",tb,"topLeft",{converter:function(){return qc.pt(0,0)},varMapping:{pt:Fc}});G.jumpToEnd()})}},{key:"removePalette",value:function(){this.colorValue.isGradient?
this.fillWidget.remove():this.palette.remove()}},{key:"removeWidgets",value:function(){this.removePalette();this.removePicker()}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPickerField"}},{key:"properties",get:function(){return{gradientEnabled:{defaultValue:!1,after:["colorValue"],set:function(ja){this.setProperty("gradientEnabled",ja);this.update(this.colorValue)}},fillWidget:{serialize:!1,get:function(){return this._fillWidget=new qc.FillPopover({fillValue:this.colorValue})}},
testProp:{get:function(){return[42]}},palette:{serialize:!1,get:function(){return this._palette||(this._palette=new qc.Popover({position:qc.pt(0,0),name:"Color Palette",targetMorph:new qc.ColorPalette({color:this.colorValue})}))}},colorValue:{after:["submorphs"],set:function(ja){ja&&(ja.isColor||ja.isGradient)||(ja=qc.Color.blue);if(!this._updating)return this.update(ja);this.setProperty("colorValue",ja)},get:function(){return this.getProperty("colorValue")||qc.Color.white}},master:{initialize:function(){this.master=
{auto:"styleguide://SystemWidgets/color field"}}},submorphs:{initialize:function(){this.innerBounds().topRight();this.innerBounds().bottomLeft();var ja=qc.pt(40,25);this.submorphs=[{extent:ja,clipMode:"hidden",name:"paletteButton",submorphs:[{name:"topLeft",extent:ja},{name:"bottomRight",type:"polygon",extent:ja,origin:qc.pt(0,0),vertices:[qc.pt(0,0),ja.withX(0),ja]},qc.Icon.makeLabel("chevron-down",{opacity:0,name:"dropDownIndicator",center:qc.pt(30,12.5)})]},{fill:qc.Color.transparent,extent:qc.pt(25,
25),onHoverIn:function(){this.fill=qc.Color.black.withA(.2)},onHoverOut:function(){this.fill=qc.Color.transparent},submorphs:[{name:"pickerButton",type:"image",autoResize:!1,imageUrl:qc.WHEEL_URL}]}];qc.connect(this.getSubmorphNamed("pickerButton"),"onMouseDown",this,"openPicker");qc.connect(this.getSubmorphNamed("paletteButton"),"onMouseDown",this,"openPalette");qc.connect(this,"remove",this,"removeWidgets");this.colorValue&&this.update(this.colorValue)}}}}}],Lc,{pathInPackage:function(){return"styling/color-picker.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:630,end:6351})}(qc.Morph);qc.ColorPickerField=tc;qc.ColorPickerField=tc;qc.ColorPickerField=tc;qc.colorWidgets.ColorPickerField=qc.ColorPickerField;(function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),kb=Lc.hasOwnProperty("FieldPicker")&&"function"===
typeof Lc.FieldPicker?Lc.FieldPicker:Lc.FieldPicker=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"update",value:function(ja){this.getSubmorphNamed("hue").fill=qc.Color.hsb(ja.hue,1,1);this.brightness=ja.brightness;this.saturation=ja.saturation;this.get("picker").center=this.pickerPosition}},{key:"onMouseDown",value:function(ja){this.pickerPosition=ja.positionIn(this);qc.signal(this,"pickerPosition",
this.pickerPosition)}},{key:"onDrag",value:function(ja){this.pickerPosition=ja.positionIn(this)}},{key:"relayout",value:function(){var ja=this.innerBounds();this.getSubmorphNamed("hue").setBounds(ja);this.getSubmorphNamed("shade").setBounds(ja);this.getSubmorphNamed("light").setBounds(ja)}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"FieldPicker"}},{key:"properties",get:function(){return{fill:{defaultValue:qc.Color.transparent},saturation:{defaultValue:0},brightness:{defaultValue:0},
draggable:{defaultValue:!0},pickerPosition:{derived:!0,after:["submorphs","brightness","saturation"],get:function(){var ja=this.saturation,oa=this.brightness;return void 0===ja||void 0===oa?qc.pt(0,0):qc.pt(this.getSubmorphNamed("hue").width*ja,this.getSubmorphNamed("hue").height*(1-oa))},set:function(ja){var oa=ja.x;ja=ja.y;var tb=this.getSubmorphNamed("hue"),G=tb.height;this.saturation=Math.max(0,Math.min(oa/tb.width,1));this.brightness=Math.max(0,Math.min(1-ja/G,1));qc.signal(this,"saturation",
this.saturation);qc.signal(this,"brightness",this.brightness)}},submorphs:{initialize:function(){this.submorphs=[{borderRadius:3,name:"hue",reactsToPointer:!1},{borderRadius:3,name:"shade",reactsToPointer:!1,fill:new qc.LinearGradient({stops:[{color:qc.Color.white,offset:0},{color:qc.Color.transparent,offset:1}],vector:"eastwest"})},{borderRadius:3,name:"light",reactsToPointer:!1,fill:new qc.LinearGradient({stops:[{color:qc.Color.black,offset:0},{color:qc.Color.transparent,offset:1}],vector:"southnorth"})},
{name:"picker",type:"ellipse",reactsToPointer:!1,fill:qc.Color.transparent,borderColor:qc.Color.black,borderWidth:3,extent:qc.pt(16,16),submorphs:[{type:"ellipse",fill:qc.Color.transparent,borderColor:qc.Color.white,reactsToPointer:!1,borderWidth:3,center:qc.pt(8,8),extent:qc.pt(12,12)}]}];qc.connect(this,"extent",this,"relayout")}}}}}],Lc,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:6404,end:9755})})(qc.Morph);(function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),kb=Lc.hasOwnProperty("ColorPropertyView")&&"function"===typeof Lc.ColorPropertyView?Lc.ColorPropertyView:Lc.ColorPropertyView=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"onFocus",value:function(){this.get("keyLabel").styleClasses=
["key"].concat($jscomp.arrayFromIterable(this.readOnly?[]:["large","active"]));this.styleClasses=[].concat($jscomp.arrayFromIterable(this.readOnly?[]:["editable","active"]),["value"]);this.selection.cursorBlinkStart()}},{key:"onBlur",value:function(){this.get("keyLabel").styleClasses=[!this.readOnly&&"large","key"];this.styleClasses=[!this.readOnly&&"editable","value"];this.selection.uninstall()}},{key:"onKeyDown",value:function(ja){"Enter"!=ja.keyCombo||this.readOnly?ab._get(Object.getPrototypeOf(kb.prototype),
"onKeyDown",this).call(this,ja):(this.owner.focus(),ja.stop(),qc.signal(this,"updateValue",this.value))}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPropertyView"}},{key:"properties",get:function(){return{update:{},value:{derived:[!0],set:function(ja){this.textString=qc.obj.safeToString(ja)},get:function(){return this.textString}},styleClasses:{after:["readOnly"],initialize:function(){this.styleClasses=[!this.readOnly&&"editable","value"]}},selectionColor:{defaultValue:qc.Color.gray.darker()}}}}],
Lc,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:9757,end:10927})})(qc.Text);(function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),kb=Lc.hasOwnProperty("HuePicker")&&"function"===typeof Lc.HuePicker?Lc.HuePicker:Lc.HuePicker=function(ja){ja&&
ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"onMouseDown",value:function(ja){this.sliderPosition=qc.pt(0,ja.positionIn(this).y)}},{key:"onDrag",value:function(ja){this.sliderPosition=qc.pt(0,ja.positionIn(this).y)}},{key:"update",value:function(ja){this.hue=ja.hue;this.get("slider").center=this.sliderPosition}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"HuePicker"}},{key:"properties",get:function(){return{fill:{defaultValue:new qc.LinearGradient({stops:[{color:qc.Color.rgb(255,
0,0),offset:0},{color:qc.Color.rgb(255,255,0),offset:.17},{color:qc.Color.limeGreen,offset:.33},{color:qc.Color.cyan,offset:.5},{color:qc.Color.blue,offset:.66},{color:qc.Color.magenta,offset:.83},{color:qc.Color.rgb(255,0,0),offset:1}],vector:"northsouth"})},borderRadius:{defaultValue:3},hue:{defaultValue:0},sliderPosition:{derived:!0,after:["submorphs"],get:function(){return qc.pt(this.width/2,this.hue/360*this.height)},set:function(ja){this.hue=Math.max(0,Math.min(ja.y/this.height*360,359));qc.signal(this,
"hue",this.hue)}},submorphs:{initialize:function(){this.submorphs=[{name:"slider",height:10,width:50,borderRadius:3,reactsToPointer:!1,nativeCursor:"ns-resize",borderColor:qc.Color.black,fill:qc.Color.transparent,borderWidth:2}]}}}}}],Lc,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},
{start:10929,end:12576})})(qc.Morph);(function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),kb=Lc.hasOwnProperty("ColorDetails")&&"function"===typeof Lc.ColorDetails?Lc.ColorDetails:Lc.ColorDetails=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"update",value:function(ja){ja=ja.color;var oa=$jscomp.makeIterator(ja.toTuple8Bit()),tb=oa.next().value,G=oa.next().value;
oa=oa.next().value;var ma=$jscomp.makeIterator(ja.toHSB()),Ga=ma.next().value,lb=ma.next().value;ma=ma.next().value;var gc=this.get("hashViewer");this.get("colorViewer").fill=ja;gc.replace(gc.documentRange,ja.toHexString(),!1,!1);this.get("R").value="R "+tb.toFixed(0)+"\n\nG "+G.toFixed(0)+"\n\nB "+oa.toFixed(0)+"\n\nH "+Ga.toFixed(0)+"\n\nS "+lb.toFixed(2)+"\n\nV "+ma.toFixed(2)}},{key:"onHashViewerChanged",value:function(ja){ja=qc.Color.rgbHex(ja);this.owner.owner.color=ja}},{key:"keyValue",value:function(ja){var oa=
ja.name,tb=ja.key,G=ja.value,ma=ja.update;ja=ja.editable;return new qc.Morph({fill:qc.Color.transparent,layout:new qc.HorizontalLayout({spacing:5}),submorphs:[{type:"label",name:"keyLabel",styleClasses:[ja&&"large","key"],value:tb},new qc.ColorPropertyView({name:oa||tb,readOnly:!ja,value:G,update:ma})]})}},{key:"hashViewer",value:function(){var ja=this.keyValue({name:"hashViewer",key:"#",editable:!0,value:this.color.toHexString()});qc.connect(ja.get("hashViewer"),"updateValue",this,"onHashViewerChanged");
return ja}},{key:"rgbViewer",value:function(){var ja=$jscomp.makeIterator(this.color.toTuple8Bit()),oa=ja.next().value,tb=ja.next().value;ja=ja.next().value;return new qc.Morph({name:"rgbViewer",fill:qc.Color.transparent,submorphs:[this.keyValue({key:"R",value:oa.toFixed()}),this.keyValue({key:"G",value:tb.toFixed()}),this.keyValue({key:"B",value:ja.toFixed()})]})}},{key:"hsbViewer",value:function(){var ja=$jscomp.makeIterator(this.color.toHSB()),oa=ja.next().value,tb=ja.next().value;ja=ja.next().value;
return new qc.Morph({name:"hsbViewer",fill:qc.Color.transparent,submorphs:[this.keyValue({key:"H",value:oa.toFixed()}),this.keyValue({key:"S",value:tb.toFixed(2)}),this.keyValue({key:"V",value:ja.toFixed(2)})]})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorDetails"}},{key:"properties",get:function(){return{color:{defaultValue:qc.Color.blue},width:{defaultValue:80},fill:{defaultValue:qc.Color.transparent},layout:{initialize:function(){this.layout=new qc.VerticalLayout({spacing:9,
layoutOrder:function(ja){return this.container.submorphs.indexOf(ja)}})}},submorphs:{after:["color"],initialize:function(){this.submorphs=[{type:"ellipse",extent:qc.pt(50,50),name:"colorViewer",fill:this.color},this.hashViewer(),{type:"label",name:"R",autofit:!0,padding:qc.rect(10,0,0,0),styleClasses:["ColorPropertyView"]}];this.update(this)}}}}}],Lc,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},
package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:12578,end:15353})})(qc.Morph);tc=ta("a",function(Ld){var Lc=lively.FreezerRuntime.recorderFor("lively.ide/styling/color-picker.js"),kb=Lc.hasOwnProperty("ColorPicker")&&"function"===typeof Lc.ColorPicker?Lc.ColorPicker:Lc.ColorPicker=function(ja){ja&&ja[Symbol.for("lively-instance-restorer")]||this[Symbol.for("lively-instance-initialize")].apply(this,arguments)};return ab(kb,Ld,[{key:"onKeyDown",value:function(ja){"Escape"==ja.key&&
this.close()}},{key:"close",value:function(){ab._get(Object.getPrototypeOf(kb.prototype),"close",this).call(this);qc.signal(this,"close")}},{key:"update",value:function(){0!=this.submorphs.length&&(this.get("header").fill=qc.Color.transparent,this.get("field picker").update(this),this.get("hue picker").update(this),this.get("details").update(this),this.get("alpha slider").update(this.alpha),qc.signal(this,"color",this.color))}},{key:"colorPalette",value:function(){var ja=this.colorDetails(),oa=this.fieldPicker(),
tb=this.huePicker(),G=this.alphaSlider();ja=new qc.Morph({master:{auto:"styleguide://SystemWidgets/color picker"},name:"colorPalette",width:this.width,submorphs:[oa,tb,ja,G]});qc.connect(oa,"brightness",this,"brightness");qc.connect(oa,"saturation",this,"saturation");qc.connect(tb,"hue",this,"hue");return ja}},{key:"alphaSlider",value:function(){var ja,oa=qc.morph({name:"alphaSlider",fill:qc.Color.transparent,layout:new qc.HorizontalLayout({spacing:3}),submorphs:[{type:"label",padding:qc.Rectangle.inset(3),
value:"Alpha",fontColor:qc.Color.gray,fontWeight:"bold"},ja=new qc.Slider({name:"alpha slider",value:this.alpha,min:0,max:1,width:170})]});qc.connect(ja,"value",this,"alpha");return oa}},{key:"fieldPicker",value:function(){return new qc.FieldPicker({name:"field picker",saturation:this.saturation,brightness:this.brightness})}},{key:"huePicker",value:function(){return new qc.HuePicker({name:"hue picker",hue:this.hue})}},{key:"colorDetails",value:function(){return new qc.ColorDetails({name:"details",
color:this.color})}}],[{key:Symbol.for("__LivelyClassName__"),get:function(){return"ColorPicker"}},{key:"properties",get:function(){return{extent:{defaultValue:qc.pt(400,320)},fill:{defaultValue:qc.Color.black.withA(.7)},isHaloItem:{defaultValue:!0},borderWidth:{defaultValue:0},hasFixedPosition:{defaultValue:!0},color:{defaultValue:qc.Color.blue,derived:!0,before:["submorphs","targetMorph"],get:function(){return qc.Color.hsb(this.hue,this.saturation,this.brightness).withA(this.alpha)},set:function(ja){var oa=
$jscomp.makeIterator(ja.toHSB()),tb=oa.next().value,G=oa.next().value;oa=oa.next().value;this.hue=tb;this.saturation=G;this.brightness=oa;this.alpha=ja.a}},alpha:{set:function(ja){this.setProperty("alpha",ja);this.update()}},saturation:{},brightness:{set:function(ja){this.setProperty("brightness",ja);this.update()}},hue:{set:function(ja){this.setProperty("hue",ja);this.update()}},targetMorph:{initialize:function(){var ja=this;this.targetMorph=this.colorPalette();this.ui.windowTitle.fontColor=qc.Color.gray;
this.ui.header.fill=qc.Color.transparent;this.whenRendered().then(function(){ja.fill=qc.Color.black.withA(.7);ja.update()})}}}}}],Lc,{pathInPackage:function(){return"styling/color-picker.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},package:function(){return{name:"lively.ide",version:"0.1.0"}}},{start:15362,end:19200})}(qc.Window));qc.ColorPicker=tc;qc.ColorPicker=tc;qc.ColorPicker=tc}}});
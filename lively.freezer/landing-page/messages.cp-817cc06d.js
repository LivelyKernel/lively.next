System.register(["./__rootModule___commonjs-entry-51a55f66.js","./loading-indicator.cp-98e470a2.js","@babel/plugin-syntax-import-meta"],function(bd){var Dd,se,Rc,ad,Ne,Cb,Sd,ve,uc,dd,vd,Ed,fe,jc,Od,qb,ic,Wb;return{setters:[function(lc){Dd=lc.aD;se=lc.C;Rc=lc.b;ad=lc.t;Ne=lc.e;Cb=lc.i;Sd=lc._;ve=lc.au;uc=lc.T;dd=lc.L;vd=lc.f;Ed=lc.h;fe=lc.S;jc=lc.c;Od=lc.p;qb=lc.ah;ic=lc.r},function(lc){Wb=lc.B},function(){}],execute:function(){var lc=window.lively.FreezerRuntime.recorderFor("lively.halos/components/messages.js");
lc.ViewModel=Dd;lc.Color=se;lc.pt=Rc;lc.string=ad;lc.easings=Ne;var db=function(sb){var fa=window.lively.FreezerRuntime.recorderFor("lively.halos/components/messages.js"),Db=fa.hasOwnProperty("StatusMessage")&&"function"===typeof fa.StatusMessage?fa.StatusMessage:fa.StatusMessage=function(ab){if(!ab||!ab[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return Cb(Db,sb,[{key:"sanitizeString",value:function(ab){Array.isArray(ab)&&
(ab=ab[0]);return ab.split("\n").join("")}},{key:"alignAtBottomOf",value:function(ab){var eb=this.view,kc=this.world();kc&&(eb.bringToFront(),eb.width=ab.bounds().width,ab.world()&&(eb.position=ab.owner.worldPoint(ab.bounds().bottomLeft())),ab=kc.visibleBounds(),ab=eb.bounds().top()+eb.height-ab.bottom(),0<ab&&eb.moveBy(lc.pt(0,-ab)))}},{key:"close",value:function(){this.view.remove()}},{key:"onRefresh",value:function(ab){this.view&&(this.ui.messageText.isLayoutable=!this.isCompact,this.ui.messageText.visible=
!this.isCompact,"message"===ab&&this.updateMessage(),"title"===ab&&this.updateTitle())}},{key:"viewDidLoad",value:function(){this.updateMessage();this.updateTitle()}},{key:"updateTitle",value:function(){this.ui.messageTitle.textString=this.title}},{key:"updateMessage",value:function(){var ab=this.ui.messageText,eb=this.message;ab.value=eb;var kc=ab.documentRange.end;kc.row>this.maxLines&&(ab.replace({start:{row:this.maxLines,column:0},end:kc},"...\n"),this.expandedContent||(this.expandedContent=eb));
var Vb=!1;this.isMaximized||ab.modifyLines(0,Math.min(ab.lineCount(),this.maxLines)-1,function(pb){Vb=120<pb.length;return lc.string.truncate(pb,120,"...")});Vb&&(this.expandedContent=eb);kc=ab.documentEndPosition;0!==kc.column&&ab.insertText("\n",kc);this.title=lc.string.truncate(ab.textString||"",(this.view.width/10).toFixed(),"...");this.updateTitle()}},{key:"onViewResize",value:function(){this.onRefresh()}},{key:"isEpiMorph",value:function(){return!0}},{key:"isStatusMessage",value:function(){return!0}},
{key:"setMessage",value:function(ab){var eb=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.color;this.message=ab;this.color=eb}},{key:"slideTo",value:function(){var ab=Sd(regeneratorRuntime.mark(function Vb(kc){var pb=this,Nb;return regeneratorRuntime.wrap(function(zb){for(;;)switch(zb.prev=zb.next){case 0:return Nb=this.view.position,this.sliding=this.view.animate({customTween:function(rb){pb.view.position=Nb.interpolate(rb,kc)},duration:500}),zb.next=4,this.sliding;case 4:this.sliding=
!1;case 5:case "end":return zb.stop()}},Vb,this)}));return function(kc){return ab.apply(this,arguments)}}()},{key:"expand",value:function(){var ab=Sd(regeneratorRuntime.mark(function kc(){var Vb,pb,Nb,zb;return regeneratorRuntime.wrap(function(rb){for(;;)switch(rb.prev=rb.next){case 0:if(this.expandable){rb.next=2;break}return rb.abrupt("return");case 2:if(!this.sliding){rb.next=5;break}rb.next=5;return this.sliding;case 5:if((Vb=this.view.world())&&!this.isMaximized){rb.next=8;break}return rb.abrupt("return");
case 8:this.stayOpen=this.isMaximized=!0,this.isCompact=!1,pb=this.ui.messageText,pb.lineWrapping=!1,Object.assign(pb,{clipMode:"auto",readOnly:!0,reactsToPointer:!0}),pb.fixedWidth=!1,this.expandedContent&&(pb.value=this.expandedContent),pb.document.getLine(0).hasEstimatedExtent=!0,Nb=pb.textBounds().extent(),zb=Vb.visibleBounds(),Nb.y>zb.extent().y&&(Nb.y=zb.extent().y-200),Nb.x>zb.extent().x&&(Nb.x=zb.extent().x-200),pb.animate({height:Nb.y+25,duration:200,easing:lc.easings.outExpo}),this.view.animate({width:Nb.x+
50,center:zb.center(),easing:lc.easings.outExpo,duration:200}),this.focus();case 24:case "end":return rb.stop()}},kc,this)}));return function(){return ab.apply(this,arguments)}}()},{key:"fit",value:function(){var ab=this.ui.messageText;ab&&(this.view.extent=lc.pt(100,55).maxPt(ab.textBounds().extent()),this.relayout())}},{key:"focus",value:function(){var ab=this.ui.messageText;ab&&ab.focus()}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"StatusMessage"}},{key:"properties",get:function(){return{stayOpen:{defaultValue:!1},
slidable:{defaultValue:!0},isMaximized:{defaultValue:!1},expandable:{defaultValue:!0},maxLines:{defaultValue:3},isCompact:{defaultValue:!1},message:{after:["view"]},title:{isStyleProp:!0,defaultValue:"Something to think about...",set:function(ab){this.setProperty("title",this.sanitizeString(ab))}},color:{derived:!0,get:function(){return this.view.fill},set:function(){var ab=0<arguments.length&&void 0!==arguments[0]?arguments[0]:lc.Color.rgba(209,209,209,.9);if(this.view.fill=ab).5<ab.luma()?this.fontColor=
lc.Color.rgb(66,73,73):this.fontColor=lc.Color.white}},compactHeight:{readOnly:!0,get:function(){return 55}},fontColor:{after:["view"],defaultValue:lc.Color.rgb(66,73,73)},expose:{readOnly:!0,get:function(){return"isStatusMessage isMaximized slideTo slidable stayOpen alignAtBottomOf".split(" ")}},bindings:{readOnly:!0,get:function(){return[{model:"close button",signal:"fire",handler:"close"},{signal:"onMouseUp",handler:"expand"},{signal:"extent",handler:"onViewResize"}]}}}}}],fa,{pathInPackage:function(){return"./components/messages.js"},
unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively.halos",version:"0.1.0"}}},{start:195,end:6265})}(lc.ViewModel);lc.StatusMessage=db;lc.StatusMessage=db;var Xa=window.lively.FreezerRuntime.recorderFor("lively.halos/components/messages.cp.js");Xa.VerticalLayout=ve;Xa.TilingLayout=uc;Xa.Label=dd;Xa.Icon=vd;Xa.Text=Ed;Xa.ShadowObject=fe;Xa.component=jc;Xa.part=Od;Xa.ButtonDefault=
Wb;Xa.Color=se;Xa.LinearGradient=qb;Xa.rect=ic;Xa.pt=Rc;Xa.StatusMessage=db;Xa.MessageButton=Xa.component["for"](function(){return Xa.component(Xa.ButtonDefault,{viewModel:{label:{value:Xa.Icon.textAttribute("times"),fontColor:Xa.Color.rgb(66,73,73),fontSize:20,padding:Xa.rect(1,1,0,0)}},name:"message button",borderColor:Xa.Color.rgb(149,165,166),borderRadius:25,borderWidth:0,extent:Xa.pt(25,25),halosEnabled:!1,fill:Xa.Color.rgba(255,255,255,0)})},{module:"lively.halos/components/messages.cp.js",
"export":"MessageButton",range:{start:298,end:703}},Xa.MessageButton);Xa.MessageButtonHover=Xa.component["for"](function(){return Xa.component(Xa.MessageButton,{name:"message button/hover",fill:Xa.Color.black.withA(.1)})},{module:"lively.halos/components/messages.cp.js","export":"MessageButtonHover",range:{start:711,end:823}},Xa.MessageButtonHover);Xa.MessageButtonClick=Xa.component["for"](function(){return Xa.component(Xa.MessageButton,{name:"message button/click",fill:Xa.Color.black.withA(.2)})},
{module:"lively.halos/components/messages.cp.js","export":"MessageButtonClick",range:{start:831,end:943}},Xa.MessageButtonClick);Xa.StatusMessageDefault=Xa.component["for"](function(){return Xa.component({name:"status message default",defaultViewModel:Xa.StatusMessage,borderRadius:5,clipMode:"hidden",dropShadow:new Xa.ShadowObject({distance:8,rotation:90,color:Xa.Color.rgba(0,0,0,.3),blur:25}),extent:Xa.pt(669,128),fill:Xa.Color.rgba(209,209,209,.9),layout:new Xa.VerticalLayout({autoResize:!0,axis:"column",
direction:"topToBottom",orderByIndex:!0,resizeSubmorphs:!0,wrapSubmorphs:!1}),submorphs:[{name:"horizontal float",extent:Xa.pt(669,40),fill:Xa.Color.rgba(0,0,0,0),reactsToPointer:!1,halosEnabled:!1,layout:new Xa.TilingLayout({axisAlign:"center",orderByIndex:!0,padding:Xa.rect(10,5,-5,0),wrapSubmorphs:!1,resizePolicies:[["message title",{height:"fill",width:"fill"}],["close button",{height:"fill",width:"fixed"}]]}),submorphs:[{type:Xa.Label,name:"message icon",extent:Xa.pt(22,23),fontColor:Xa.Color.rgb(66,
73,73),fontSize:20,padding:Xa.rect(1,1,0,0),reactsToPointer:!1,halosEnabled:!1,textAndAttributes:Xa.Icon.textAttribute("info-circle")},{type:Xa.Text,name:"message title",extent:Xa.pt(597,37),fill:Xa.Color.rgba(0,0,0,0),fixedWidth:!0,fixedHeight:!0,fontColor:Xa.Color.rgb(66,73,73),fontFamily:'"IBM Plex Sans",Sans-Serif',fontSize:15,fontWeight:"bold",lineWrapping:!0,padding:Xa.rect(8,5,0,3),reactsToPointer:!1,halosEnabled:!1,textAndAttributes:["Something to think about...",null]},Xa.part(Xa.ButtonDefault,
{master:{auto:Xa.MessageButton,click:Xa.MessageButtonClick,hover:Xa.MessageButtonHover},viewModel:{label:{value:Xa.Icon.textAttribute("times"),fontColor:Xa.Color.rgb(66,73,73),fontSize:20,padding:Xa.rect(1,1,0,0)}},name:"close button",position:Xa.pt(465.2,.2),width:30,tooltip:"Close this status message.",halosEnabled:!1})]},{type:Xa.Text,name:"message text",clipMode:"auto",extent:Xa.pt(669,87.5),fill:Xa.Color.rgba(0,0,0,0),fixedHeight:!0,fixedWidth:!0,fontColor:Xa.Color.rgb(66,73,73),fontFamily:'"IBM Plex Sans",Sans-Serif',
fontSize:15,lineWrapping:!0,padding:Xa.rect(10,10,0,0),reactsToPointer:!1,halosEnabled:!1,textAndAttributes:['The module "lively.morphic/morph.js" you are viewing is frozen. You are not able to make changes to this module unless you reload the world with dynamic load enabled for the package "lively.morphic".',null]}]})},{module:"lively.halos/components/messages.cp.js","export":"StatusMessageDefault",range:{start:951,end:3880}},Xa.StatusMessageDefault);Xa.StatusMessageConfirm=Xa.component["for"](function(){return Xa.component(Xa.StatusMessageDefault,
{extent:Xa.pt(669,128),name:"status message confirm",fill:new Xa.LinearGradient({stops:[{offset:0,color:Xa.Color.rgb(46,204,113)},{offset:1,color:Xa.Color.rgb(39,174,96)}],vector:Xa.rect(0,0,0,1)}),submorphs:[{name:"horizontal float",submorphs:[{type:Xa.Label,name:"message icon",fontColor:Xa.Color.rgb(255,255,255),fontSize:20,textAndAttributes:Xa.Icon.textAttribute("check-circle")},{type:Xa.Text,name:"message title",fontColor:Xa.Color.white,textAndAttributes:["Saved file...",null]},{name:"close button",
viewModel:{label:{fontColor:Xa.Color.white}}}]},{name:"message text",fontColor:Xa.Color.white}]})},{module:"lively.halos/components/messages.cp.js","export":"StatusMessageConfirm",range:{start:3888,end:4772}},Xa.StatusMessageConfirm);Xa.StatusMessageError=Xa.component["for"](function(){return Xa.component(Xa.StatusMessageDefault,{name:"status message error",fill:new Xa.LinearGradient({stops:[{offset:0,color:Xa.Color.rgb(231,76,60)},{offset:1,color:Xa.Color.rgb(192,57,43)}],vector:Xa.rect(0,0,0,1)}),
submorphs:[{name:"horizontal float",submorphs:[{name:"message icon",fontColor:Xa.Color.rgb(255,255,255),fontSize:20,textAndAttributes:Xa.Icon.textAttribute("times-circle")},{name:"message title",fontColor:Xa.Color.white,textAndAttributes:["An error occured",null]},{name:"close button",viewModel:{label:{fontColor:Xa.Color.white}}}]},{name:"message text",fontColor:Xa.Color.white}]})},{module:"lively.halos/components/messages.cp.js","export":"StatusMessageError",range:{start:4780,end:5601}},Xa.StatusMessageError);
Xa.StatusMessageWarning=Xa.component["for"](function(){return Xa.component(Xa.StatusMessageDefault,{name:"status message warning",borderColor:Xa.Color.rgbHex("DA9819"),fill:new Xa.LinearGradient({stops:[{offset:0,color:Xa.Color.rgb(249,213,68)},{offset:1,color:Xa.Color.rgb(219,162,18)}],vector:Xa.rect(.5,1,0,1)})})},{module:"lively.halos/components/messages.cp.js","export":"StatusMessageWarning",range:{start:5648,end:5984}},Xa.StatusMessageWarning);db=bd("StatusMessageDefault",Xa.StatusMessageDefault);
var Gb=bd("StatusMessageConfirm",Xa.StatusMessageConfirm),sc=bd("StatusMessageError",Xa.StatusMessageError),ub=bd("StatusMessageWarning",Xa.StatusMessageWarning);Xa.StatusMessageDefault=db;Xa.StatusMessageConfirm=Gb;Xa.StatusMessageError=sc;Xa.StatusMessageWarning=ub}}});
System.register("./__rootModule___commonjs-entry-51a55f66.js ./index-61952933.js ./ui.cp-8dfc076f.js ./index-616023be.js @babel/plugin-syntax-import-meta ./loading-indicator.cp-98e470a2.js ./tooltips.cp-3c41b378.js ./index-42118cd5.js ./interface-1a7f3c67.js ./popups.cp-5b9fb681.js ./list.cp-840d1cf8.js".split(" "),function(bd){var Dd,se,Rc,ad,Ne,Cb,Sd,ve,uc,dd,vd,Ed,fe,jc,Od,qb;return{setters:[function(ic){Dd=ic._;se=ic.m;Rc=ic.ar;ad=ic.as;Ne=ic.d;Cb=ic.aq;Sd=ic.C;ve=ic.r;uc=ic.b;dd=ic.s;vd=ic.af},
function(ic){Ed=ic.i},function(ic){fe=ic._;jc=ic.s;Od=ic.b},function(ic){qb=ic.b},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){function ic(kc){var Vb=kc.sourceObj;kc.sourceAttrName;var pb=kc.targetObj;kc.targetMethodName;Vb.isMorph&&pb.isMorph?(Vb.show(),pb.show(),eb.showConnector&&eb.showConnector(Vb,pb)):eb.show(String(kc))}function Wb(kc){var Vb=kc.sourceObj,pb=kc.sourceAttrName,Nb=kc.targetObj,zb=kc.targetMethodName,rb=kc.getConverter();
kc=kc.getUpdater();return eb.printConnectionElements(Vb,pb,Nb,zb,rb,kc)}function lc(kc,Vb,pb,Nb,zb,rb){kc="/* global connect, source, target */\nconnect(source, '".concat(Vb,"', target, '").concat(Nb,"'");if(zb||rb)kc+=", {\n";zb&&(kc+="  converter: ".concat(zb));zb&&rb&&(kc+=",");zb&&(kc+="\n");rb&&(kc+="  updater: ".concat(rb,"\n"));if(zb||rb)kc+="}";return kc+");"}function db(kc,Vb){return Xa.apply(this,arguments)}function Xa(){Xa=Dd(regeneratorRuntime.mark(function Nb(Vb,pb){var zb;return regeneratorRuntime.wrap(function(rb){for(;;)switch(rb.prev=
rb.next){case 0:return rb.next=2,eb.InteractiveMorphSelector.selectMorph();case 2:return zb=rb.sent,rb.abrupt("return",zb?eb.interactiveConnectGivenSourceAndTarget(Vb,pb,zb):null);case 4:case "end":return rb.stop()}},Nb)}));return Xa.apply(this,arguments)}function Gb(kc,Vb,pb,Nb){return sc.apply(this,arguments)}function sc(){sc=Dd(regeneratorRuntime.mark(function rb(Vb,pb,Nb,zb){var Ib,da,ka,va,Fa;return regeneratorRuntime.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:Ib=Nb&&Nb.world().targetDataBindings(Nb);
da=Vb.world();if(Ib&&Ib.length){M.next=6;break}da.setStatusMessage("connect canceled");return M.abrupt("return");case 6:if(pb){M.next=15;break}ka=[{isListItem:!0,string:"[Enter custom attribute..]",value:{custom:!0}}].concat(se(Vb.world().targetDataBindings(Vb).flat().map(function(Aa){return{isListItem:!0,string:Aa.signature||Aa.name,value:Aa}})));M.next=10;return da.listPrompt(["Select Source Attribute\n",{},"Choose the attribute of the morph that is supposed to invoke the connection. This can be a method, property or a custom signal that is invoked upon the morph.",
{paddingTop:"10px",fontSize:14,textAlign:"left",fontWeight:"normal"}],ka,{filterable:!0});case 10:pb=M.sent;if("canceled"!=pb.status){M.next=13;break}return M.abrupt("return");case 13:pb=pb.selected[0],pb=pb.custom?"sourceAttribute":pb.name;case 15:return va=[{isListItem:!0,string:"[Enter custom attribute...]",value:{custom:!0}}].concat(se(Ib.flat().map(function(Aa){return{isListItem:!0,value:Aa,string:Aa.signature||Aa.name}}))),M.next=18,da.listPrompt(["Select Target Attribute\n",{},"Choose the attribute of the morph that is supposed to invoked once the connection is triggered. This can be either a method or a property of the morph. When selecting a property, keep in mind that the value of the source attribute will be assigned to the property or passed to the method as an argument.",
{fontSize:14,textAlign:"left",fontWeight:"normal",paddingTop:"10px"}],va,{filterable:!0});case 18:Fa=M.sent;if("canceled"!=Fa.status){M.next=21;break}return M.abrupt("return");case 21:return Fa=Fa.selected[0],M.next=24,eb.interactivelyEvaluateConnection({sourceObj:Vb,sourceAttr:pb,targetObj:Nb,targetAttr:Fa.custom?"targetAttribute":Fa.name,onConnect:zb,prompt:"Edit and confirm connection:"});case 24:case "end":return M.stop()}},rb)}));return sc.apply(this,arguments)}function ub(kc){return sb.apply(this,
arguments)}function sb(){sb=Dd(regeneratorRuntime.mark(function pb(Vb){var Nb,zb,rb,Ib,da,ka,va,Fa,M,Aa=arguments;return regeneratorRuntime.wrap(function(wb){for(;;)switch(wb.prev=wb.next){case 0:return Nb=1<Aa.length&&void 0!==Aa[1]?Aa[1]:"confirm connection",zb=2<Aa.length?Aa[2]:void 0,rb=3<Aa.length?Aa[3]:void 0,Ib=Vb.sourceObj,da=Vb.sourceAttrName,ka=Vb.targetObj,va=Vb.targetMethodName,Fa=Vb.getConverter(),M=Vb.getUpdater(),wb.abrupt("return",eb.interactivelyEvaluateConnection({sourceObj:Ib,sourceAttr:da,
targetObj:ka,targetAttr:va,converter:Fa,updater:M,prompt:Nb,highlight:zb,onConnect:rb}));case 7:case "end":return wb.stop()}},pb)}));return sb.apply(this,arguments)}function fa(kc,Vb,pb){var Nb=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},zb=eb.rect(0).sides.concat(eb.rect(0).corners);Nb=pb||new eb.Leash(Object.assign({isSmooth:!0,styleClasses:["Halo"],borderColor:eb.Color.orange,epiMorph:!0,endpointStyle:{start:{fill:eb.Color.transparent,nativeCursor:"auto"},end:{fill:eb.Color.orange}}},
Nb,{hasFixedPosition:!0}));Nb.startPoint.attachTo(kc,"rightCenter");if(Vb.isMorph){var rb=Vb.globalBounds().partNameNearest(zb,kc.globalPosition);kc.globalPosition.equals(Vb.globalBounds().partNamed(rb))&&Vb.globalBounds().partNameNearest(eb.arr.without(zb,rb),kc.globalPosition);Nb.endPoint.attachTo(Vb,"leftCenter")}else zb=kc.globalBounds().topRight().addPt(eb.pt(100,0)),zb=eb.morph({type:"label",value:Vb.toString(),styleClasses:["Tooltip"],padding:eb.rect(8,4)}).openInWorld(zb),zb.position=kc.world().bounds().translateForInclusion(zb.bounds()).topLeft(),
eb.once(Nb,"remove",zb,"remove"),Nb.endPoint.attachTo(zb,"leftCenter");return Nb}function Db(kc){return ab.apply(this,arguments)}function ab(){ab=Dd(regeneratorRuntime.mark(function pb(Vb){var Nb,zb,rb,Ib,da,ka,va,Fa,M,Aa,wb,Na,hb,Bb,ba,dc,la,Fb,vb;return regeneratorRuntime.wrap(function(Ia){for(;;)switch(Ia.prev=Ia.next){case 0:Nb=Vb.sourceObj;zb=Vb.sourceAttr;rb=Vb.targetObj;Ib=Vb.targetAttr;da=Vb.converter;ka=Vb.updater;va=Vb.prompt;Fa=Vb.highlight;M=void 0===Fa?!0:Fa;Aa=Vb.onConnect;wb="lively://lively.bindings-interactive-connect/x"+
Nb.id;Na={context:window,format:"esm",targetModule:wb,classTransform:eb.classToFunctionTransform};hb=eb.printConnectionElements(Nb,zb,rb,Ib,da,ka);rb.isMorph&&Nb.isMorph&&(Bb=rb.propertiesAndPropertySettings().properties[Ib]||{type:Rc(rb[Ib])},ba=Bb.type,dc=Nb.propertiesAndPropertySettings().properties[zb]||{type:Rc(Nb[zb])},la=dc.type,la!==ba&&(va=["Edit and confirm connection:\n",{},"Source: ",{fontSize:14,fontWeight:"normal"},Nb.toString(),{fontSize:14,fontWeight:"normal",fontStyle:"italic"},"\nTarget: ",
{fontSize:14,fontWeight:"normal"},rb.toString(),{fontSize:14,fontWeight:"normal",fontStyle:"italic"}]));Object.assign(lively.modules.module(wb).recorder,ad({source:Nb,target:rb,connect:eb.connect,once:eb.once},zb,Nb[zb]));if(!va){Ia.next=15;break}Ia.next=9;return $world.editPrompt(va,{input:hb,historyId:"lively.bindings-interactive-morph-connect",mode:"js",requester:$world,evalEnvironment:Na,animated:!1});case 9:if(Fb=Ia.sent){Ia.next=13;break}$world.setStatusMessage("connect canceled");return Ia.abrupt("return");
case 13:Ia.next=16;break;case 15:Fb=hb;case 16:return Ia.next=18,lively.vm.runEval(Fb,Na);case 18:vb=Ia.sent;if(!vb.isError){Ia.next=22;break}$world.logError(vb.value);return Ia.abrupt("return",Db({sourceObj:Nb,sourceAttr:zb,targetObj:rb,targetAttr:Ib,converter:da,updater:ka,prompt:"confirm connection",highlight:M,onConnect:Aa}));case 22:M&&($world.setStatusMessage("connected!",eb.Color.green),eb.interactivelyShowConnection(vb.value)),"function"===typeof Aa&&Aa(vb);case 24:case "end":return Ia.stop()}},
pb)}));return ab.apply(this,arguments)}bd({interactiveConnectGivenSource:db,interactiveConnectGivenSourceAndTarget:Gb,interactivelyEvaluateConnection:Db,interactivelyReEvaluateConnection:ub,interactivelyShowConnection:ic,printConnection:Wb,printConnectionElements:lc,visualizeConnection:fa});var eb=window.lively.FreezerRuntime.recorderFor("lively.ide/fabrik.js");eb.interactivelyShowConnection=ic;eb.printConnection=Wb;eb.printConnectionElements=lc;eb.interactiveConnectGivenSource=db;eb.interactiveConnectGivenSourceAndTarget=
Gb;eb.interactivelyReEvaluateConnection=ub;eb.visualizeConnection=fa;eb.interactivelyEvaluateConnection=Db;eb.connect=Ne;eb.once=Cb;eb.Color=Sd;eb.rect=ve;eb.pt=uc;eb.arr=dd;eb.morph=vd;eb.Leash=Ed;eb.showConnector=fe;eb.show=jc;eb.InteractiveMorphSelector=Od;eb.classToFunctionTransform=qb;eb.interactivelyShowConnection=ic;eb.printConnection=Wb;eb.printConnectionElements=lc;eb.interactiveConnectGivenSource=db;eb.interactiveConnectGivenSourceAndTarget=Gb;eb.interactivelyReEvaluateConnection=ub;eb.visualizeConnection=
fa;eb.interactivelyEvaluateConnection=Db}}});
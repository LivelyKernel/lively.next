System.register(["./__rootModule___commonjs-entry-51a55f66.js","./index-616023be.js"],function(bd){var Dd,se,Rc,ad,Ne,Cb,Sd;return{setters:[function(ve){Dd=ve.q;se=ve.ar;Rc=ve.v;ad=ve.bw;Ne=ve.i;Cb=ve._},function(ve){Sd=ve.a}],execute:function(){function ve(fe){try{var jc=eval("(".concat(uc.ast.transform.wrapInFunction("var _; _ = (".concat(fe,")")),")()"))}catch(Od){return JSON.parse(fe)}return"object"!==se(jc)?null:jc}bd("p",ve);var uc=window.lively.FreezerRuntime.recorderFor("lively-system-interface/helpers.js");
uc.parseJsonLikeObj=ve;uc.ast=Dd;uc.parseJsonLikeObj=ve;var dd=window.lively.FreezerRuntime.recorderFor("lively-system-interface/interfaces/interface.js");dd.todo=function(fe){throw Error("".concat(fe," is not yet implemented!"));};dd.parseJsonLikeObj=ve;dd.obj=Rc;dd.transform=ad;dd.modules=Sd;var vd=bd("A",function(fe){var jc=window.lively.FreezerRuntime.recorderFor("lively-system-interface/interfaces/interface.js"),Od=jc.hasOwnProperty("AbstractCoreInterface")&&"function"===typeof jc.AbstractCoreInterface?
jc.AbstractCoreInterface:jc.AbstractCoreInterface=function(qb){if(!qb||!qb[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return Ne(Od,fe,[{key:"dynamicCompletionsForPrefix",value:function(){var qb=Cb(regeneratorRuntime.mark(function Xa(Wb,lc,db){return regeneratorRuntime.wrap(function(Gb){for(;;)switch(Gb.prev=Gb.next){case 0:dd.todo("dynamicCompletionsForPrefix");case 1:case "end":return Gb.stop()}},Xa)}));return function(Wb,
lc,db){return qb.apply(this,arguments)}}()},{key:"runEval",value:function(qb,ic){dd.todo("runEval")}},{key:"resourceExists",value:function(qb){dd.todo("resourceExists")}},{key:"resourceEnsureExistance",value:function(qb,ic){dd.todo("resourceEnsureExistance")}},{key:"resourceMkdir",value:function(qb){dd.todo("resourceMkdir")}},{key:"resourceRead",value:function(qb){dd.todo("resourceRead")}},{key:"resourceRemove",value:function(qb){dd.todo("resourceRemove")}},{key:"resourceWrite",value:function(qb,
ic){dd.todo("resourceWrite")}},{key:"resourceCreateFiles",value:function(qb,ic){dd.todo("resourceCreateFiles")}},{key:"resourceDirList",value:function(qb,ic,Wb){dd.todo("resourceDirList")}},{key:"normalizeSync",value:function(qb,ic,Wb){dd.todo("normalizeSync")}},{key:"normalize",value:function(qb,ic,Wb){dd.todo("normalize")}},{key:"printSystemConfig",value:function(){dd.todo("printSystemConfig")}},{key:"getConfig",value:function(){dd.todo("getConfig")}},{key:"setConfig",value:function(qb){dd.todo("setConfig")}},
{key:"getPackages",value:function(qb){dd.todo("getPackages")}},{key:"isModuleLoaded",value:function(qb,ic){dd.todo("isModuleLoaded")}},{key:"doesModuleExist",value:function(qb,ic){dd.todo("doesModuleExist")}},{key:"getModules",value:function(){var qb=Cb(regeneratorRuntime.mark(function Wb(){return regeneratorRuntime.wrap(function(lc){for(;;)switch(lc.prev=lc.next){case 0:return lc.next=2,this.getPackages();case 2:return lc.t0=function(db){return db.modules},lc.abrupt("return",lc.sent.flatMap(lc.t0));
case 4:case "end":return lc.stop()}},Wb,this)}));return function(){return qb.apply(this,arguments)}}()},{key:"getModule",value:function(){var qb=Cb(regeneratorRuntime.mark(function lc(Wb){return regeneratorRuntime.wrap(function(db){for(;;)switch(db.prev=db.next){case 0:return db.next=2,this.getModules();case 2:return db.t0=function(Xa){return Xa.name===Wb},db.abrupt("return",db.sent.find(db.t0));case 4:case "end":return db.stop()}},lc,this)}));return function(Wb){return qb.apply(this,arguments)}}()},
{key:"getPackage",value:function(){var qb=Cb(regeneratorRuntime.mark(function lc(Wb){return regeneratorRuntime.wrap(function(db){for(;;)switch(db.prev=db.next){case 0:return Wb=Wb.replace(/\/+$/,""),db.next=3,this.getPackages();case 3:return db.t0=function(Xa){return Xa.address===Wb||Xa.name===Wb},db.abrupt("return",db.sent.find(db.t0));case 5:case "end":return db.stop()}},lc,this)}));return function(Wb){return qb.apply(this,arguments)}}()},{key:"getPackageForModule",value:function(){var qb=Cb(regeneratorRuntime.mark(function lc(Wb){return regeneratorRuntime.wrap(function(db){for(;;)switch(db.prev=
db.next){case 0:dd.todo("getPackageForModule");case 1:case "end":return db.stop()}},lc)}));return function(Wb){return qb.apply(this,arguments)}}()},{key:"systemConfChange",value:function(qb){var ic=dd.parseJsonLikeObj(qb);["baseURL"].forEach(function(Wb){return delete ic[Wb]});return this.setConfig(ic)}},{key:"resourcesOfPackage",value:function(){var qb=Cb(regeneratorRuntime.mark(function db(Wb,lc){return regeneratorRuntime.wrap(function(Xa){for(;;)switch(Xa.prev=Xa.next){case 0:dd.todo("resourcesOfPackage");
case 1:case "end":return Xa.stop()}},db)}));return function(Wb,lc){return qb.apply(this,arguments)}}()},{key:"registerPackage",value:function(){var qb=Cb(regeneratorRuntime.mark(function lc(Wb){return regeneratorRuntime.wrap(function(db){for(;;)switch(db.prev=db.next){case 0:dd.todo("registerPackage");case 1:case "end":return db.stop()}},lc)}));return function(Wb){return qb.apply(this,arguments)}}()},{key:"importPackage",value:function(){var qb=Cb(regeneratorRuntime.mark(function lc(Wb){return regeneratorRuntime.wrap(function(db){for(;;)switch(db.prev=
db.next){case 0:dd.todo("importPackage");case 1:case "end":return db.stop()}},lc)}));return function(Wb){return qb.apply(this,arguments)}}()},{key:"removePackage",value:function(){var qb=Cb(regeneratorRuntime.mark(function lc(Wb){return regeneratorRuntime.wrap(function(db){for(;;)switch(db.prev=db.next){case 0:dd.todo("removePackage");case 1:case "end":return db.stop()}},lc)}));return function(Wb){return qb.apply(this,arguments)}}()},{key:"reloadPackage",value:function(){var qb=Cb(regeneratorRuntime.mark(function lc(Wb){return regeneratorRuntime.wrap(function(db){for(;;)switch(db.prev=
db.next){case 0:dd.todo("reloadPackage");case 1:case "end":return db.stop()}},lc)}));return function(Wb){return qb.apply(this,arguments)}}()},{key:"packageConfChange",value:function(){var qb=Cb(regeneratorRuntime.mark(function db(Wb,lc){return regeneratorRuntime.wrap(function(Xa){for(;;)switch(Xa.prev=Xa.next){case 0:dd.todo("packageConfChange");case 1:case "end":return Xa.stop()}},db)}));return function(Wb,lc){return qb.apply(this,arguments)}}()},{key:"importModule",value:function(qb){dd.todo("importModule")}},
{key:"forgetModule",value:function(qb,ic){dd.todo("forgetModule")}},{key:"reloadModule",value:function(qb,ic){dd.todo("reloadModule")}},{key:"moduleFormat",value:function(qb){dd.todo("moduleFormat")}},{key:"moduleRead",value:function(qb){dd.todo("moduleRead")}},{key:"moduleSourceChange",value:function(qb,ic,Wb){dd.todo("moduleSourceChange")}},{key:"importsAndExportsOf",value:function(qb,ic){dd.todo("importsAndExportsOf")}},{key:"keyValueListOfVariablesInModule",value:function(qb,ic){dd.todo("keyValueListOfVariablesInModule")}},
{key:"moduleWrite",value:function(qb,ic){return this.moduleSourceChange(qb,ic)}}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"AbstractCoreInterface"}}],jc,{pathInPackage:function(){return"./interfaces/interface.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively-system-interface",version:"0.2.1"}}},{start:267,end:4053})}(void 0));dd.AbstractCoreInterface=
vd;dd.AbstractCoreInterface=vd;var Ed=bd("R",function(fe){var jc=window.lively.FreezerRuntime.recorderFor("lively-system-interface/interfaces/interface.js"),Od=jc.hasOwnProperty("RemoteCoreInterface")&&"function"===typeof jc.RemoteCoreInterface?jc.RemoteCoreInterface:jc.RemoteCoreInterface=function(qb){if(!qb||!qb[Symbol["for"]("lively-instance-restorer")])return this[Symbol["for"]("lively-instance-initialize")].apply(this,arguments)};return Ne(Od,fe,[{key:Symbol["for"]("lively-instance-initialize"),
value:function(){Ne._get(Object.getPrototypeOf(Od.prototype),Symbol["for"]("lively-instance-initialize"),this).call(this);this.currentEval=null}},{key:"runEval",value:function(qb,ic){throw Error("Not yet implemented");}},{key:"runEvalAndStringify",value:function(qb,ic){var Wb=this;return this.currentEval?this.currentEval.then(function(){return Wb.runEvalAndStringify(qb,ic)}):this.currentEval=Promise.resolve().then(Cb(regeneratorRuntime.mark(function db(){var Xa,Gb,sc;return regeneratorRuntime.wrap(function(ub){for(;;)switch(ub.prev=
ub.next){case 0:return ub.next=2,Wb.runEval("\n        Promise.resolve((async ".concat(dd.transform.wrapInFunction(qb),')())\n          .then(function(result) { return JSON.stringify(result); })\n          .catch(function(err) { return {isError: true, value: err}; })\n          .then(function(result) {\n            if (!result || typeof result === "string") return result;\n            return JSON.stringify(result.isError ?\n              {isError: true, value: (result.value + "\\n" + result.value.stack) || String(result.value)} :\n              result)\n          });'),
Object.assign({targetModule:"lively://remote-lively-system/runEvalAndStringify",promiseTimeout:3E4,waitForPromise:!0},ic));case 2:Xa=ub.sent;if(!Xa||!Xa.isError){ub.next=5;break}throw Error(String(Xa.value||Xa.error));case 5:if(Xa&&Xa.value){ub.next=7;break}return ub.abrupt("return",null);case 7:ub.t0=Xa.promisedValue;if(ub.t0){ub.next=12;break}ub.next=11;return Xa.value;case 11:ub.t0=ub.sent;case 12:if(Gb=ub.t0){ub.next=15;break}return ub.abrupt("return");case 15:if("undefined"!==Gb){ub.next=17;
break}return ub.abrupt("return",void 0);case 17:if("null"!==Gb){ub.next=19;break}return ub.abrupt("return",null);case 19:if("true"!==Gb){ub.next=21;break}return ub.abrupt("return",!0);case 21:if("false"!==Gb){ub.next=23;break}return ub.abrupt("return",!1);case 23:ub.prev=23;sc=JSON.parse(Gb);ub.next=30;break;case 27:return ub.prev=27,ub.t1=ub["catch"](23),ub.abrupt("return",Gb);case 30:if(!sc||!sc.isError){ub.next=32;break}throw Error(String(sc.value));case 32:return ub.abrupt("return",sc);case 33:case "end":return ub.stop()}},
db,null,[[23,27]])}))).then(function(db){delete Wb.currentEval;return db},function(db){delete Wb.currentEval;return Promise.reject(db)})}},{key:"dynamicCompletionsForPrefix",value:function(){var qb=Cb(regeneratorRuntime.mark(function Xa(Wb,lc,db){var Gb,sc;return regeneratorRuntime.wrap(function(ub){for(;;)switch(ub.prev=ub.next){case 0:return Gb=dd.obj.isString(db.context)?db.context:!1,db=dd.obj.dissoc(db,["systemInterface","System","context"]),sc="\n      var prefix = ".concat(JSON.stringify(lc),
",\n          opts = ").concat(JSON.stringify(db),";\n      opts.context = ").concat(Gb,';\n      opts.classTransform = (await System.import("lively.classes")).classToFunctionTransform;\n      var { runEval, completions } = await System.import("lively.vm");\n      var evalFn = code => runEval(code, opts);\n      if (typeof System === "undefined") delete opts.targetModule;\n      completions.getCompletions(evalFn, prefix).then(function(result) {\n        if (result.isError) throw result.value;\n        return {\n          completions: result.completions,\n          prefix: result.startLetters\n        }\n      });'),
ub.abrupt("return",this.runEvalAndStringify(sc));case 4:case "end":return ub.stop()}},Xa,this)}));return function(Wb,lc,db){return qb.apply(this,arguments)}}()},{key:"evalWithResource",value:function(qb,ic,Wb){return this.runEvalAndStringify('\n      var {resource} = (typeof lively !== "undefined" && lively.resources)\n                    || await System.import("lively.resources");\n      await resource("'.concat(qb,'").').concat(ic,"(").concat(Wb?JSON.stringify(Wb):"",");\n    "))}},{key:"resourceExists",
value:function(qb){return this.evalWithResource(qb,"exists")}},{key:"resourceEnsureExistance",value:function(qb,ic){return this.evalWithResource(qb,"ensureExistance",ic)}},{key:"resourceMkdir",value:function(qb){return this.evalWithResource(qb,"mkdir")}},{key:"resourceRead",value:function(qb){return this.evalWithResource(qb,"read")}},{key:"resourceRemove",value:function(qb){return this.evalWithResource(qb,"remove")}},{key:"resourceWrite",value:function(qb,ic){return this.evalWithResource(qb,"write",
ic)}},{key:"resourceCreateFiles",value:function(qb,ic){return this.runEvalAndStringify('var {createFiles} = await System.import("lively.resources"); await createFiles("'.concat(qb,'", ').concat(JSON.stringify(ic),")"))}},{key:"resourceDirList",value:function(qb,ic,Wb){return this.runEvalAndStringify('\n      var {resource} = await System.import("lively.resources");\n      (await resource("'.concat(qb,'").dirList(').concat(JSON.stringify(ic),", ").concat(JSON.stringify(Wb),"))\n        .map(({url}) => ({url}))"))}},
{key:"livelySystemAccessor",value:function(){var qb=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"livelySystem";return"".concat(this.livelyModulesAccessor(),";\n      var ").concat(qb,' = (typeof lively !== "undefined" && lively.systemInterface)\n      || System.get(System.decanonicalize("lively-system-interface"))\n      || (await modules.importPackage("lively-system-interface"));\n    if (!').concat(qb,') throw new Error("lively-system-interface not available!");')}},{key:"livelyModulesAccessor",
value:function(){return"".concat(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"modules",' = System.get(System.decanonicalize("lively.modules"))')}},{key:"normalizeSync",value:function(qb,ic,Wb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.System.decanonicalize(").concat(JSON.stringify(qb),", ").concat(JSON.stringify(ic),", ").concat(Wb,")"))}},{key:"normalize",value:function(qb,ic,Wb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),
", modules.System.normalize(").concat(JSON.stringify(qb),", ").concat(JSON.stringify(ic),", ").concat(JSON.stringify(Wb),")"))}},{key:"printSystemConfig",value:function(){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.printSystemConfig()"))}},{key:"getConfig",value:function(){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),'; var c = Object.assign({}, modules.System.getConfig()); for (var name in c) if (name.indexOf("__lively.modules__") === 0 || name.indexOf("loads") === 0) delete c[name]; c'))}},
{key:"setConfig",value:function(qb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.System.config(").concat(JSON.stringify(qb),")"))}},{key:"getPackages",value:function(qb){qb=Object.assign({excluded:[]},qb);qb.excluded=qb.excluded.map(String);return this.runEvalAndStringify("\n      ".concat(this.livelySystemAccessor(),";\n      var options = ").concat(JSON.stringify(qb),";\n      var { syncEval } = await System.import('lively.vm');\n      options.excluded = options.excluded.map(ea => {\n        let evaled = syncEval(ea).value;\n        return typeof evaled === \"function\" ? evaled : ea;\n      });\n      await livelySystem.localInterface.getPackages(options)\n        .map(ea => Object.assign({}, ea, {System: null}));"))}},
{key:"getPackageForModule",value:function(qb){return this.runEvalAndStringify("\n      ".concat(this.livelySystemAccessor(),";\n      await livelySystem.localInterface.getPackageForModule(").concat(JSON.stringify(qb),")"))}},{key:"isModuleLoaded",value:function(qb,ic){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),', modules.isModuleLoaded("').concat(qb,'", ').concat(ic,")"))}},{key:"doesModuleExist",value:function(qb,ic){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),
', modules.doesModuleExist("').concat(qb,'", ').concat(ic,")"))}},{key:"registerPackage",value:function(){var qb=Cb(regeneratorRuntime.mark(function lc(Wb){return regeneratorRuntime.wrap(function(db){for(;;)switch(db.prev=db.next){case 0:return db.abrupt("return",this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.registerPackage(").concat(JSON.stringify(Wb),")")));case 1:case "end":return db.stop()}},lc,this)}));return function(Wb){return qb.apply(this,arguments)}}()},{key:"importPackage",
value:function(){var qb=Cb(regeneratorRuntime.mark(function lc(Wb){return regeneratorRuntime.wrap(function(db){for(;;)switch(db.prev=db.next){case 0:return db.abrupt("return",this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.importPackage(").concat(JSON.stringify(Wb),")")));case 1:case "end":return db.stop()}},lc,this)}));return function(Wb){return qb.apply(this,arguments)}}()},{key:"removePackage",value:function(){var qb=Cb(regeneratorRuntime.mark(function lc(Wb){return regeneratorRuntime.wrap(function(db){for(;;)switch(db.prev=
db.next){case 0:return db.abrupt("return",this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.removePackage(").concat(JSON.stringify(Wb),")")));case 1:case "end":return db.stop()}},lc,this)}));return function(Wb){return qb.apply(this,arguments)}}()},{key:"reloadPackage",value:function(){var qb=Cb(regeneratorRuntime.mark(function db(Wb,lc){return regeneratorRuntime.wrap(function(Xa){for(;;)switch(Xa.prev=Xa.next){case 0:return Xa.abrupt("return",this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),
", modules.reloadPackage(").concat(JSON.stringify(Wb),", ").concat(JSON.stringify(lc),")")));case 1:case "end":return Xa.stop()}},db,this)}));return function(Wb,lc){return qb.apply(this,arguments)}}()},{key:"packageConfChange",value:function(qb,ic){return this.runEvalAndStringify("\n      ".concat(this.livelySystemAccessor(),";\n      await livelySystem.localInterface.packageConfChange(").concat(JSON.stringify(qb),", ").concat(JSON.stringify(ic),")"))}},{key:"resourcesOfPackage",value:function(){var qb=
Cb(regeneratorRuntime.mark(function lc(Wb){var db,Xa=arguments;return regeneratorRuntime.wrap(function(Gb){for(;;)switch(Gb.prev=Gb.next){case 0:return db=1<Xa.length&&void 0!==Xa[1]?Xa[1]:[".git","node_modules",".module_cache","lively.next-node_modules"],Wb.address&&(Wb=Wb.address),Gb.abrupt("return",this.runEvalAndStringify("\n      ".concat(this.livelySystemAccessor(),";\n      await livelySystem.localInterface.resourcesOfPackage(").concat(JSON.stringify(Wb),", ").concat(JSON.stringify(db),");")));
case 3:case "end":return Gb.stop()}},lc,this)}));return function(Wb){return qb.apply(this,arguments)}}()},{key:"getModule",value:function(){var qb=Cb(regeneratorRuntime.mark(function lc(Wb){var db;return regeneratorRuntime.wrap(function(Xa){for(;;)switch(Xa.prev=Xa.next){case 0:return Xa.next=2,this.getModules();case 2:return Xa.t0=function(Gb){return Gb.name===Wb},db=Xa.sent.find(Xa.t0),Xa.abrupt("return",db?dd.modules.module(db.name):null);case 5:case "end":return Xa.stop()}},lc,this)}));return function(Wb){return qb.apply(this,
arguments)}}()},{key:"importModule",value:function(qb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.System.import(").concat(JSON.stringify(qb),")"))}},{key:"forgetModule",value:function(qb,ic){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.module(").concat(JSON.stringify(qb),").unload(").concat(JSON.stringify(ic),")"))}},{key:"reloadModule",value:function(qb,ic){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),
", modules.module(").concat(JSON.stringify(qb),").reload(").concat(JSON.stringify(ic),")"))}},{key:"moduleFormat",value:function(qb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.module(").concat(JSON.stringify(qb),").format();"))}},{key:"moduleRead",value:function(qb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),", modules.module(").concat(JSON.stringify(qb),").source()"))}},{key:"moduleSourceChange",value:function(qb,ic,Wb){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),
", modules.module(").concat(JSON.stringify(qb),").changeSource(").concat(JSON.stringify(ic),", ").concat(JSON.stringify(Wb),")"))}},{key:"keyValueListOfVariablesInModule",value:function(qb,ic){return this.runEvalAndStringify("\n      ".concat(this.livelySystemAccessor(),";\n      await livelySystem.localInterface.keyValueListOfVariablesInModule(").concat(JSON.stringify(qb),", ").concat(JSON.stringify(ic),")"))}},{key:"importsAndExportsOf",value:function(qb,ic){return this.runEvalAndStringify("".concat(this.livelyModulesAccessor(),
", ({\n      imports: await modules.module(").concat(JSON.stringify(qb),").imports(),\n      exports: await modules.module(").concat(JSON.stringify(qb),").exports()})"))}},{key:"exportsOfModules",value:function(qb){return this.runEvalAndStringify("\n      ".concat(this.livelySystemAccessor(),"\n      const options = ").concat(JSON.stringify(qb),";\n      options.excludedPackages = [").concat(qb.excludedPackages.map(function(ic){return"function"===typeof ic?ic.toString():JSON.stringify(ic)}).join(","),
"]\n      await livelySystem.localInterface.exportsOfModules(options)"))}},{key:"searchInPackage",value:function(qb,ic,Wb){return this.runEvalAndStringify("\n      ".concat(this.livelySystemAccessor(),";\n      await livelySystem.localInterface.searchInPackage(").concat(JSON.stringify(qb),", ").concat(JSON.stringify(ic),", ").concat(JSON.stringify(Wb),")"))}},{key:"loadMochaTestFile",value:function(){var qb=Cb(regeneratorRuntime.mark(function lc(Wb){var db,Xa=arguments;return regeneratorRuntime.wrap(function(Gb){for(;;)switch(Gb.prev=
Gb.next){case 0:return db=1<Xa.length&&void 0!==Xa[1]?Xa[1]:[],Gb.abrupt("return",this.runEvalAndStringify("\n      ".concat(this.livelySystemAccessor(),";\n      var {testsByFile} = await livelySystem.localInterface.loadMochaTestFile(").concat(JSON.stringify(Wb),", ").concat(JSON.stringify(db),"), result;\n      result = {testsByFile}")));case 2:case "end":return Gb.stop()}},lc,this)}));return function(Wb){return qb.apply(this,arguments)}}()},{key:"runMochaTests",value:function(){var qb=Cb(regeneratorRuntime.mark(function Gb(Wb,
lc,db,Xa){return regeneratorRuntime.wrap(function(sc){for(;;)switch(sc.prev=sc.next){case 0:return Wb&&Wb instanceof RegExp&&(Wb={isRegExp:!0,value:String(Wb).replace(/^\/|\/$/g,"")}),sc.abrupt("return",this.runEvalAndStringify("\n      var grep = ".concat(JSON.stringify(Wb),";\n      if (grep && grep.isRegExp) grep = new RegExp(grep.value);\n      ").concat(this.livelySystemAccessor(),";\n      var {testsByFile, isError, value: error} = await livelySystem.localInterface.runMochaTests(grep, ").concat(JSON.stringify(lc||
[]),"), result;\n      error = error ? String(error.stack || error) : null;\n      if (testsByFile) {\n        testsByFile.forEach(ea =>\n          ea.tests.forEach(ea => {\n            if (!ea.error) return;\n            var {message, stack, actual, expected} = ea.error;\n            ea.error = {\n              message: message || String(ea.error),\n              stack: stack,\n              actual, exected\n            }\n          }));\n      }\n      result = {testsByFile, isError, error};")));
case 2:case "end":return sc.stop()}},Gb,this)}));return function(Wb,lc,db,Xa){return qb.apply(this,arguments)}}()}],[{key:Symbol["for"]("__LivelyClassName__"),get:function(){return"RemoteCoreInterface"}}],jc,{pathInPackage:function(){return"./interfaces/interface.js"},unsubscribeFromToplevelDefinitionChanges:function(){return function(){}},subscribeToToplevelDefinitionChanges:function(){return function(){}},"package":function(){return{name:"lively-system-interface",version:"0.2.1"}}},{start:4061,
end:17114})}(dd.AbstractCoreInterface));dd.RemoteCoreInterface=Ed;dd.RemoteCoreInterface=Ed;vd=Object.freeze({__proto__:null,AbstractCoreInterface:vd,RemoteCoreInterface:Ed});bd("_",vd)}}});